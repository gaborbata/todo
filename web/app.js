(function(){var Ua=Ua||{};Ua.scope={};Ua.createTemplateTagFirstArg=function(a){return a.raw=a};Ua.createTemplateTagFirstArgWithRaw=function(a,v){a.raw=v;return a};Ua.arrayIteratorImpl=function(a){var v=0;return function(){return v<a.length?{done:!1,value:a[v++]}:{done:!0}}};Ua.arrayIterator=function(a){return{next:Ua.arrayIteratorImpl(a)}};Ua.makeIterator=function(a){var v="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return v?v.call(a):Ua.arrayIterator(a)};
Ua.arrayFromIterator=function(a){for(var v,G=[];!(v=a.next()).done;)G.push(v.value);return G};Ua.ASSUME_ES5=!1;Ua.ASSUME_NO_NATIVE_MAP=!1;Ua.ASSUME_NO_NATIVE_SET=!1;Ua.SIMPLE_FROUND_POLYFILL=!1;Ua.ISOLATE_POLYFILLS=!1;Ua.FORCE_POLYFILL_PROMISE=!1;Ua.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION=!1;Ua.defineProperty=Ua.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,v,G){if(a==Array.prototype||a==Object.prototype)return a;a[v]=G.value;return a};
Ua.getGlobal=function(a){a=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var v=0;v<a.length;++v){var G=a[v];if(G&&G.Math==Math)return G}throw Error("Cannot find global object");};Ua.global=Ua.getGlobal(this);Ua.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");Ua.TRUST_ES6_POLYFILLS=!Ua.ISOLATE_POLYFILLS||Ua.IS_SYMBOL_NATIVE;Ua.polyfills={};Ua.propertyToPolyfillSymbol={};
Ua.POLYFILL_PREFIX="$jscp$";Ua.polyfill=function(a,v,G,p){v&&(Ua.ISOLATE_POLYFILLS?Ua.polyfillIsolated(a,v,G,p):Ua.polyfillUnisolated(a,v,G,p))};Ua.polyfillUnisolated=function(a,v){var G=Ua.global;a=a.split(".");for(var p=0;p<a.length-1;p++){var r=a[p];if(!(r in G))return;G=G[r]}a=a[a.length-1];p=G[a];v=v(p);v!=p&&null!=v&&Ua.defineProperty(G,a,{configurable:!0,writable:!0,value:v})};
Ua.polyfillIsolated=function(a,v,G){var p=a.split(".");a=1===p.length;var r=p[0];r=!a&&r in Ua.polyfills?Ua.polyfills:Ua.global;for(var x=0;x<p.length-1;x++){var q=p[x];if(!(q in r))return;r=r[q]}p=p[p.length-1];G=Ua.IS_SYMBOL_NATIVE&&"es6"===G?r[p]:null;v=v(G);null!=v&&(a?Ua.defineProperty(Ua.polyfills,p,{configurable:!0,writable:!0,value:v}):v!==G&&(void 0===Ua.propertyToPolyfillSymbol[p]&&(Ua.propertyToPolyfillSymbol[p]=Ua.IS_SYMBOL_NATIVE?Ua.global.Symbol(p):Ua.POLYFILL_PREFIX+p),Ua.defineProperty(r,
Ua.propertyToPolyfillSymbol[p],{configurable:!0,writable:!0,value:v})))};Ua.initSymbol=function(){};Ua.polyfill("Symbol",function(a){function v(r){if(this instanceof v)throw new TypeError("Symbol is not a constructor");return new G("jscomp_symbol_"+(r||"")+"_"+p++,r)}function G(r,x){this.$jscomp$symbol$id_=r;Ua.defineProperty(this,"description",{configurable:!0,writable:!0,value:x})}if(a)return a;G.prototype.toString=function(){return this.$jscomp$symbol$id_};var p=0;return v},"es6","es3");
Ua.polyfill("Symbol.iterator",function(a){if(a)return a;a=Symbol("Symbol.iterator");for(var v="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),G=0;G<v.length;G++){var p=Ua.global[v[G]];"function"===typeof p&&"function"!=typeof p.prototype[a]&&Ua.defineProperty(p.prototype,a,{configurable:!0,writable:!0,value:function(){return Ua.iteratorPrototype(Ua.arrayIteratorImpl(this))}})}return a},"es6","es3");
Ua.iteratorPrototype=function(a){a={next:a};a[Symbol.iterator]=function(){return this};return a};Ua.iteratorFromArray=function(a,v){a instanceof String&&(a+="");var G=0,p=!1,r={next:function(){if(!p&&G<a.length){var x=G++;return{value:v(x,a[x]),done:!1}}p=!0;return{done:!0,value:void 0}}};r[Symbol.iterator]=function(){return r};return r};Ua.polyfill("Array.prototype.keys",function(a){return a?a:function(){return Ua.iteratorFromArray(this,function(v){return v})}},"es6","es3");
Ua.owns=function(a,v){return Object.prototype.hasOwnProperty.call(a,v)};Ua.assign=Ua.TRUST_ES6_POLYFILLS&&"function"==typeof Object.assign?Object.assign:function(a,v){for(var G=1;G<arguments.length;G++){var p=arguments[G];if(p)for(var r in p)Ua.owns(p,r)&&(a[r]=p[r])}return a};Ua.polyfill("Object.assign",function(a){return a||Ua.assign},"es6","es3");Ua.polyfill("Object.is",function(a){return a?a:function(v,G){return v===G?0!==v||1/v===1/G:v!==v&&G!==G}},"es6","es3");
Ua.polyfill("Array.prototype.includes",function(a){return a?a:function(v,G){var p=this;p instanceof String&&(p=String(p));var r=p.length;G=G||0;for(0>G&&(G=Math.max(G+r,0));G<r;G++){var x=p[G];if(x===v||Object.is(x,v))return!0}return!1}},"es7","es3");
Ua.checkStringArgs=function(a,v,G){if(null==a)throw new TypeError("The 'this' value for String.prototype."+G+" must not be null or undefined");if(v instanceof RegExp)throw new TypeError("First argument to String.prototype."+G+" must not be a regular expression");return a+""};Ua.polyfill("String.prototype.includes",function(a){return a?a:function(v,G){return-1!==Ua.checkStringArgs(this,v,"includes").indexOf(v,G||0)}},"es6","es3");
Ua.underscoreProtoCanBeSet=function(){var a={a:!0},v={};try{return v.__proto__=a,v.a}catch(G){}return!1};Ua.setPrototypeOf=Ua.TRUST_ES6_POLYFILLS&&"function"==typeof Object.setPrototypeOf?Object.setPrototypeOf:Ua.underscoreProtoCanBeSet()?function(a,v){a.__proto__=v;if(a.__proto__!==v)throw new TypeError(a+" is not extensible");return a}:null;Ua.polyfill("Object.setPrototypeOf",function(a){return a||Ua.setPrototypeOf},"es6","es5");
Ua.polyfill("Number.EPSILON",function(){return Math.pow(2,-52)},"es6","es3");Ua.polyfill("Number.MAX_SAFE_INTEGER",function(){return 9007199254740991},"es6","es3");Ua.polyfill("String.prototype.codePointAt",function(a){return a?a:function(v){var G=Ua.checkStringArgs(this,null,"codePointAt"),p=G.length;v=Number(v)||0;if(0<=v&&v<p){v|=0;var r=G.charCodeAt(v);if(55296>r||56319<r||v+1===p)return r;v=G.charCodeAt(v+1);return 56320>v||57343<v?r:1024*(r-55296)+v+9216}}},"es6","es3");
Ua.polyfill("String.prototype.trimLeft",function(a){function v(){return this.replace(/^[\s\xa0]+/,"")}return a||v},"es_2019","es3");"function"!==typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(a,v){if(null===a||void 0===a)throw new TypeError("Cannot convert undefined or null to object");for(var G=Object(a),p=1;p<arguments.length;p++){var r=arguments[p];if(null!==r&&void 0!==r)for(var x in r)Object.prototype.hasOwnProperty.call(r,x)&&(G[x]=r[x])}return G},writable:!0,configurable:!0});
Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(a,v){if(null==this)throw new TypeError('"this" is null or not defined');var G=Object(this),p=G.length>>>0;if(0===p)return!1;v|=0;for(v=Math.max(0<=v?v:p-Math.abs(v),0);v<p;){var r=G[v],x=a;if(r===x||"number"===typeof r&&"number"===typeof x&&isNaN(r)&&isNaN(x))return!0;v++}return!1}});
(function(){function a(p){var r=this,x=p=void 0===p?{}:p;p=void 0===x.container?"vanilla-terminal":x.container;var q=void 0===x.defaultCallback?null:x.defaultCallback,e=void 0===x.welcome?'Welcome to <a href="">Vanilla</a> terminal.':x.welcome,E=void 0===x.prompt?"":x.prompt,B=void 0===x.separator?"&gt;":x.separator;this.commands=Object.assign({},void 0===x.commands?{}:x.commands,G);this.defaultCallback=q;this.history=[];this.historyCursor=this.history.length;this.welcome=e;this.shell={prompt:E,separator:B};
this.state={prompt:void 0,idle:void 0};this.cacheDOM=function(g){g.classList.add("VanillaTerm");var d=r.shell;g.insertAdjacentHTML.call(g,"beforeEnd",'\n    <div class="container">\n      <output></output>\n      <div class="command">\n        <div class="prompt">'+d.prompt+d.separator+'</div>\n        <input class="input" spellcheck="false" autofocus />\n      </table>\n    </div>\n  ');g=g.querySelector(".container");r.DOM={container:g,output:g.querySelector("output"),command:g.querySelector(".command"),
input:g.querySelector(".command .input"),prompt:g.querySelector(".command .prompt")}};this.addListeners=function(){var g=r.DOM;g.output.addEventListener("DOMSubtreeModified",function(){setTimeout(function(){return g.input.scrollIntoView()},10)},!1);v("click",function(){return g.input.focus()},!1);g.output.addEventListener("click",function(d){return d.stopPropagation()},!1);g.input.addEventListener("keyup",r.onKeyUp,!1);g.input.addEventListener("keydown",r.onKeyDown,!1);g.command.addEventListener("click",
function(){return g.input.focus()},!1);v("keyup",function(d){g.input.focus();d.stopPropagation();d.preventDefault()},!1)};this.onKeyUp=function(g){var d=g.keyCode,y=r.DOM,c=void 0===r.history?[]:r.history,m=r.historyCursor;27===d?(y.input.value="",g.stopPropagation(),g.preventDefault()):[38,40].includes(d)&&(38===d&&0<m&&--r.historyCursor,40===d&&m<c.length-1&&(r.historyCursor+=1),c[r.historyCursor]&&(y.input.value=c[r.historyCursor]))};this.onKeyDown=function(g){var d=g.keyCode,y=void 0===r.commands?
{}:r.commands,c=r.DOM,m=r.history;g=r.onInputCallback;var J=r.defaultCallback,f=r.state,h=c.input.value.trim();if(13===d&&h){var L=Ua.makeIterator(h.trim().split(/[\s|\u00A0]+/));d=L.next().value;L=Ua.arrayFromIterator(L);if(f.prompt)f.prompt=!1,r.onAskCallback(d),r.setPrompt(),r.resetCommand();else{100<=m.length&&m.shift();m.push(h);r.historyCursor=m.length;m=c.output;f=m.appendChild;h=c.command.cloneNode(!0);var D=h.querySelector(".input");D.autofocus=!1;D.readOnly=!0;D.insertAdjacentHTML("beforebegin",
D.value);D.parentNode.removeChild(D);h.classList.add("line");f.call(m,h);c.command.classList.add("hidden");c.input.value="";Object.keys(y).includes(d)?((y=y[d])&&y(r,L),g&&g(d,L)):J?J(r,d,L):r.output("<u>"+d+"</u>: command not found.")}}};this.resetCommand=function(){var g=r.DOM;g.input.value="";g.command.classList.remove("input");g.command.classList.remove("hidden");g.input.scrollIntoView&&g.input.scrollIntoView()};if(x=document.getElementById(p))this.cacheDOM(x),this.addListeners(),e&&this.output(e);
else throw Error("Container #"+p+" doesn't exists.");}var v=window.addEventListener,G={clear:function(p){return p.clear()},commands:function(p){p.output("These shell commands are defined internally:");p.output(Object.keys(p.commands).join(", "))}};a.prototype.clear=function(){this.DOM.output.innerHTML="";this.resetCommand()};a.prototype.idle=function(){var p=this.DOM;p.command.classList.add("idle");p.prompt.innerHTML='<div class="spinner"></div>'};a.prototype.prompt=function(p,r){this.state.prompt=
!0;this.onAskCallback=void 0===r?function(){}:r;this.DOM.prompt.innerHTML=p+":";this.resetCommand();this.DOM.command.classList.add("input")};a.prototype.onInput=function(p){this.onInputCallback=p};a.prototype.output=function(p){this.DOM.output.insertAdjacentHTML("beforeEnd","<span>"+(void 0===p?"&nbsp;":p)+"</span>");this.resetCommand()};a.prototype.setPrompt=function(p){p=void 0===p?this.shell.prompt:p;var r=this.DOM,x=this.shell.separator;this.shell={prompt:p,separator:x};r.command.classList.remove("idle");
r.prompt.innerHTML=""+p+x;r.input.focus()};window&&(window.VanillaTerminal=a)})();
(function(a){function v(b,n,k){"string"===typeof b?b[n]=k:Object.defineProperty(b,n,{value:k,enumerable:!1,configurable:!0,writable:!0})}function G(b,n){if(b)return b.$$const[n]}function p(b,n){var k;if(null!=b){var t=f.ancestors(b);b=0;for(k=t.length;b<k;b++)if(t[b].$$const&&h.call(t[b].$$const,n))return t[b].$$const[n]}}function r(b,n,k){if(!k)return(b||m).$const_missing(n)}function x(b){return b.hasOwnProperty("$$iclass")&&b.hasOwnProperty("$$root")}function q(b){var n=e(b);b.$$is_module&&b.$$iclasses.push(n);
return n}function e(b){var n={},k=b.$$prototype;k.hasOwnProperty("$$dummy")&&(k=k.$$define_methods_on);var t=Object.getOwnPropertyNames(k),z=t.length,F;for(F=0;F<z;F++){var H=t[F];v(n,H,k[H])}v(n,"$$iclass",!0);v(n,"$$module",b);return n}function E(b){var n=b.length,k=b[0];v(k,"$$root",!0);if(1===n)return{first:k,last:k};for(var t=1;t<n;t++){var z=b[t];D(k,z);k=z}return{first:b[0],last:b[n-1]}}function B(b){if(!b.hasOwnProperty("$$dummy")){if(b.hasOwnProperty("$$iclass"))return b.$$module;if(b.hasOwnProperty("$$class"))return b.$$class}}
function g(b){return"function"===typeof b&&!b.$$stub}function d(){var b=f.slice.call(arguments,0,arguments.length),n=d.$$p;d.$$p=null;return f.send(m,"define_method",b,n)}"undefined"!==typeof globalThis?a=globalThis:"undefined"!==typeof global?a=global:"undefined"!==typeof window&&(a=window);var y="object"===typeof a.console?a.console:null==a.console?a.console={}:{};"log"in y||(y.log=function(){});"warn"in y||(y.warn=y.log);if("undefined"!==typeof a.Opal)return y.warn("Opal already loaded. Loading twice can cause troubles, please fix your setup."),
a.Opal;var c,m,J,f=a.Opal={};f.global=a;a.Opal=f;f.config={missing_require_severity:"error",unsupported_features_severity:"warning",enable_stack_trace:!0};var h=Object.hasOwnProperty,L=Function.prototype.bind,D=Object.setPrototypeOf,Q=Array.prototype.slice,ja=Array.prototype.splice,fa=4;f.uid=function(){return fa+=2};f.id=function(b){if(b.$$is_number)return 2*b+1;if(null!=b.$$id)return b.$$id;v(b,"$$id",f.uid());return b.$$id};f.gvars={};f.exit=function(b){f.gvars.DEBUG&&y.log("Exited with status "+
b)};f.exceptions=[];f.pop_exception=function(){f.gvars["!"]=f.exceptions.pop()||na};f.inspect=function(b){return void 0===b?"undefined":null===b?"null":b.$$class?b.$inspect():b.toString()};f.defineProperty=v;f.slice=Q;f.truthy=function(b){return b!==na&&null!=b&&(!b.$$is_boolean||1==b)};f.falsy=function(b){return b===na||null==b||b.$$is_boolean&&0==b};f.type_error=function(b,n,k,t){b=b.$$class;return t&&k?(t=t.$$class,f.TypeError.$new("can't convert "+b+" into "+n+" ("+b+"#"+k+" gives "+t+")")):f.TypeError.$new("no implicit conversion of "+
b+" into "+n)};f.coerce_to=function(b,n,k,t){if(n["$==="](b))return b;if(!b["$respond_to?"](k))throw f.type_error(b,n);null==t&&(t=[]);return f.send(b,k,t)};f.respond_to=function(b,n,k){if(null==b||!b.$$class)return!1;k=!!k;var t=b[n];return b["$respond_to?"].$$pristine?b["$respond_to_missing?"].$$pristine?"function"===typeof t&&!t.$$stub:f.send(b,b["$respond_to_missing?"],[n.substr(1),k]):f.send(b,b["$respond_to?"],[n.substr(1),k])};f.const_get_local=function(b,n,k){if(null!=b){"::"===b&&(b=m);if(!b.$$is_module&&
!b.$$is_class)throw new f.TypeError(b.toString()+" is not a class/module");var t=G(b,n);if(null!=t)return t;t=r(b,n,k);if(null!=t)return t}};f.const_get_qualified=function(b,n,k){var t,z=f.const_cache_version;if(null!=b){"::"===b&&(b=m);if(!b.$$is_module&&!b.$$is_class)throw new f.TypeError(b.toString()+" is not a class/module");null==(t=b.$$const_cache)&&(v(b,"$$const_cache",Object.create(null)),t=b.$$const_cache);var F=t[n];null==F||F[0]!==z?(null!=(F=G(b,n))||null!=(F=p(b,n)),t[n]=[z,F]):F=F[1];
return null!=F?F:r(b,n,k)}};f.const_cache_version=1;f.const_get_relative=function(b,n,k){var t=b[0],z=f.const_cache_version,F;null==(F=b.$$const_cache)&&(v(b,"$$const_cache",Object.create(null)),F=b.$$const_cache);var H=F[n];if(null==H||H[0]!==z){var K;if(!(K=null!=(H=G(t,n)))){a:{if(0!==b.length)for(H=0,K=b.length;H<K;H++){var da=b[H].$$const[n];if(null!=da){b=da;break a}}b=void 0}K=null!=(H=b)}K||null!=(H=p(t,n))||(b=null==t||t.$$is_module?p(m,n):void 0,null!=(H=b));F[n]=[z,H]}else H=H[1];return null!=
H?H:r(t,n,k)};f.const_set=function(b,n,k){if(null==b||"::"===b)b=m;if(k.$$is_a_module){if(null==k.$$name||k.$$name===na)k.$$name=n;null==k.$$base_module&&(k.$$base_module=b)}b.$$const=b.$$const||Object.create(null);b.$$const[n]=k;b.$$=b.$$const;f.const_cache_version++;b===m&&(f[n]=k);v(b,n,k);return k};f.constants=function(b,n){null==n&&(n=!0);var k=[b],t,z={},F;n&&(k=k.concat(f.ancestors(b)));n&&b.$$is_module&&(k=k.concat([f.Object]).concat(f.ancestors(f.Object)));var H=0;for(t=k.length;H<t;H++){n=
k[H];if(b!==m&&n==m)break;for(F in n.$$const)z[F]=!0}return Object.keys(z)};f.const_remove=function(b,n){f.const_cache_version++;if(null!=b.$$const[n]){var k=b.$$const[n];delete b.$$const[n];return k}if(null!=b.$$autoload&&null!=b.$$autoload[n])return delete b.$$autoload[n],na;throw f.NameError.$new("constant "+b+"::"+b.$name()+" not defined");};f.$$=f.const_get_relative;f.$$$=f.const_get_qualified;f.allocate_class=function(b,n){var k=null!=n&&n.$$bridge?function(){var z=Q.call(arguments);z=new (L.apply(n.$$constructor,
[null].concat(z)));D(z,t.$$prototype);return z}:function(){};b&&v(k,"displayName","::"+b);var t=k;v(t,"$$name",b);v(t,"$$constructor",k);v(t,"$$prototype",k.prototype);v(t,"$$const",{});v(t,"$$is_class",!0);v(t,"$$is_a_module",!0);v(t,"$$super",n);v(t,"$$cvars",{});v(t,"$$own_included_modules",[]);v(t,"$$own_prepended_modules",[]);v(t,"$$ancestors",[]);v(t,"$$ancestors_cache_version",null);v(t.$$prototype,"$$class",t);f.Class&&D(t,f.Class.prototype);null!=n&&(D(t.$$prototype,n.$$prototype),n.$$meta&&
f.build_class_singleton_class(t));return t};f.klass=function(b,n,k){null==b?b=m:b.$$is_class||b.$$is_module||(b=b.$$class);if(null!=n&&!n.hasOwnProperty("$$is_class")){var t=n;n=m}var z;if(z=G(b,k)){if(!z.$$is_class)throw f.TypeError.$new(k+" is not a class");}else z=void 0;if(z){if(n&&z.$$super!==n)throw f.TypeError.$new("superclass mismatch for class "+z.$$name);return z}null==n&&(n=m);z=f.allocate_class(k,n);f.const_set(b,k,z);n.$inherited&&n.$inherited(z);t&&f.bridge(t,z);return z};f.allocate_module=
function(b){function n(){}b&&v(n,"displayName",b+".$$constructor");b&&v(n,"displayName",b+".constructor");v(n,"$$name",b);v(n,"$$prototype",n.prototype);v(n,"$$const",{});v(n,"$$is_module",!0);v(n,"$$is_a_module",!0);v(n,"$$cvars",{});v(n,"$$iclasses",[]);v(n,"$$own_included_modules",[]);v(n,"$$own_prepended_modules",[]);v(n,"$$ancestors",[n]);v(n,"$$ancestors_cache_version",null);D(n,f.Module.prototype);return n};f.module=function(b,n){null==b?b=m:b.$$is_class||b.$$is_module||(b=b.$$class);var k=
b;var t=G(k,n);null==t&&k===m&&(t=p(m,n));if(t&&!t.$$is_module&&t!==m)throw f.TypeError.$new(n+" is not a module");if(k=t)return k;k=f.allocate_module(n);f.const_set(b,n,k);return k};f.get_singleton_class=function(b){return b.$$meta?b.$$meta:b.hasOwnProperty("$$is_class")?f.build_class_singleton_class(b):b.hasOwnProperty("$$is_module")?f.build_module_singleton_class(b):f.build_object_singleton_class(b)};f.build_class_singleton_class=function(b){if(b.$$meta)return b.$$meta;var n=b===c?J:f.get_singleton_class(b.$$super);
n=f.allocate_class(null,n,function(){});v(n,"$$is_singleton",!0);v(n,"$$singleton_of",b);v(b,"$$meta",n);D(b,n.$$prototype);v(b,"$$class",f.Class);return n};f.build_module_singleton_class=function(b){if(b.$$meta)return b.$$meta;var n=f.allocate_class(null,f.Module,function(){});v(n,"$$is_singleton",!0);v(n,"$$singleton_of",b);v(b,"$$meta",n);D(b,n.$$prototype);v(b,"$$class",f.Module);return n};f.build_object_singleton_class=function(b){var n=f.allocate_class(na,b.$$class,function(){});v(n,"$$is_singleton",
!0);v(n,"$$singleton_of",b);delete n.$$prototype.$$class;v(b,"$$meta",n);D(b,b.$$meta.$$prototype);return n};f.is_method=function(b){return"$"===b[0]&&"$"!==b[1]};f.instance_methods=function(b){var n=[],k=[];b=f.ancestors(b);for(var t=0,z=b.length;t<z;t++){var F=b[t].$$prototype;F.hasOwnProperty("$$dummy")&&(F=F.$$define_methods_on);for(var H=Object.getOwnPropertyNames(F),K=0,da=H.length;K<da;K++){var va=H[K];if(f.is_method(va)){var Na=va.slice(1);va=F[va];va.$$stub&&-1===n.indexOf(Na)&&n.push(Na);
va.$$stub||-1!==k.indexOf(Na)||-1!==n.indexOf(Na)||k.push(Na)}}}return k};f.own_instance_methods=function(b){var n=[];b=b.$$prototype;b.hasOwnProperty("$$dummy")&&(b=b.$$define_methods_on);for(var k=Object.getOwnPropertyNames(b),t=0,z=k.length;t<z;t++){var F=k[t];f.is_method(F)&&!b[F].$$stub&&(F=F.slice(1),n.push(F))}return n};f.methods=function(b){return f.instance_methods(f.get_singleton_class(b))};f.own_methods=function(b){return f.own_instance_methods(f.get_singleton_class(b))};f.receiver_methods=
function(b){var n=f.get_singleton_class(b);b=f.own_instance_methods(n);n=f.own_instance_methods(n.$$super);return b.concat(n)};f.class_variables=function(b){b=f.ancestors(b);var n,k={};for(n=b.length-1;0<=n;n--){var t=b[n],z;for(z in t.$$cvars)k[z]=t.$$cvars[z]}return k};f.class_variable_set=function(b,n,k){var t=f.ancestors(b),z;for(z=t.length-2;0<=z;z--){var F=t[z];if(h.call(F.$$cvars,n))return F.$$cvars[n]=k}return b.$$cvars[n]=k};f.append_features=function(b,n){var k=f.ancestors(b),t=[];if(-1!==
k.indexOf(n))throw f.ArgumentError.$new("cyclic include detected");for(var z=0,F=k.length;z<F;z++){var H=q(k[z]);v(H,"$$included",!0);t.push(H)}k=f.ancestors(n);t=E(t);if(-1===k.indexOf(b))b=n.$$prototype,k=Object.getPrototypeOf(n.$$prototype);else{k=n.$$prototype;for(z=Object.getPrototypeOf(k);null!=z&&(!x(z)||z.$$module!==b);)k=z,z=Object.getPrototypeOf(z);for(z=Object.getPrototypeOf(z);z.hasOwnProperty("$$iclass")&&!x(z);)z=Object.getPrototypeOf(z);b=k;k=z}D(b,t.first);D(t.last,k);b=[];for(k=Object.getPrototypeOf(n.$$prototype);k&&
!k.hasOwnProperty("$$class");)(t=B(k))&&b.push(t),k=Object.getPrototypeOf(k);n.$$own_included_modules=b;f.const_cache_version++};f.prepend_features=function(b,n){var k=f.ancestors(b),t=[];if(-1!==k.indexOf(n))throw f.ArgumentError.$new("cyclic prepend detected");for(var z=0,F=k.length;z<F;z++){var H=q(k[z]);v(H,"$$prepended",!0);t.push(H)}k=E(t);z=n.$$prototype;F=Object.getPrototypeOf(z);if(z.hasOwnProperty("$$dummy"))t=z.$$define_methods_on;else{t=e(n);H=n.$$prototype;for(var K=Object.getOwnPropertyNames(H),
da=0;da<K.length;da++){var va=K[da];f.is_method(va)&&delete H[va]}v(z,"$$dummy",!0);v(z,"$$define_methods_on",t);D(z,t);D(t,F)}if(-1===f.ancestors(n).indexOf(b))for(b=z,z=Object.getPrototypeOf(z);null!=z&&!z.hasOwnProperty("$$root")&&z!==t&&z.hasOwnProperty("$$iclass");)z=Object.getPrototypeOf(z);else throw f.RuntimeError.$new("Prepending a module multiple times is not supported");D(b,k.first);D(k.last,z);b=[];t=Object.getPrototypeOf(n.$$prototype);if(n.$$prototype.hasOwnProperty("$$dummy"))for(;t&&
t!==n.$$prototype.$$define_methods_on;)(k=B(t))&&b.push(k),t=Object.getPrototypeOf(t);n.$$own_prepended_modules=b;f.const_cache_version++};f.bridge=function(b,n){if(b.hasOwnProperty("$$bridge"))throw f.ArgumentError.$new("already bridged");v(b,"$$bridge",n);D(b.prototype,(n.$$super||f.Object).$$prototype);v(n,"$$prototype",b.prototype);v(n.$$prototype,"$$class",n);v(n,"$$constructor",b);v(n,"$$bridge",!0)};f.ancestors=function(b){if(!b)return[];if(b.$$ancestors_cache_version===f.const_cache_version)return b.$$ancestors;
var n=[],k;var t=0;var z=b.$$own_prepended_modules.concat([b]).concat(b.$$own_included_modules);for(k=z.length;t<k;t++)n.push(z[t]);if(b.$$super)for(t=0,z=f.ancestors(b.$$super),k=z.length;t<k;t++)n.push(z[t]);b.$$ancestors_cache_version=f.const_cache_version;return b.$$ancestors=n};f.included_modules=function(b){for(var n=[],k=Object.getPrototypeOf(b.$$prototype);k&&Object.getPrototypeOf(k);k=Object.getPrototypeOf(k))(b=B(k))&&b.$$is_module&&k.$$iclass&&k.$$included&&n.push(b);return n};f.add_stubs=
function(b){for(var n=f.BasicObject.$$prototype,k=0,t=b.length;k<t;k++){var z=b[k],F=n[z];(null==F||F.$$stub)&&f.add_stub_for(n,z)}};f.add_stub_for=function(b,n){var k=f.stub_for(n);v(b,n,k)};f.stub_for=function(b){function n(){this.$method_missing.$$p=n.$$p;n.$$p=null;for(var k=Array(arguments.length),t=0,z=k.length;t<z;t++)k[t]=arguments[t];return this.$method_missing.apply(this,[b.slice(1)].concat(k))}n.$$stub=!0;return n};f.ac=function(b,n,k,t){var z="";z=k.$$is_a_module?z+(k.$$name+"."):z+(k.$$class.$$name+
"#");throw f.ArgumentError.$new("["+(z+t)+"] wrong number of arguments("+b+" for "+n+")");};f.block_ac=function(b,n,k){throw f.ArgumentError.$new("`block in "+k+"': wrong number of arguments ("+b+" for "+n+")");};f.find_super_dispatcher=function(b,n,k,t,z){var F="$"+n;var H=b.hasOwnProperty("$$meta")?f.ancestors(b.$$meta):f.ancestors(b.$$class);for(k=H.indexOf(k.$$owner)+1;k<H.length;k++){var K=H[k].$$prototype;K.hasOwnProperty("$$dummy")&&(K=K.$$define_methods_on);if(K.hasOwnProperty(F)){var da=
K[F];break}}if(!t&&da&&da.$$stub&&b.$method_missing.$$pristine)throw f.NoMethodError.$new("super: no superclass method `"+n+"' for "+b,n);return da.$$stub&&!z?null:da};f.find_iter_super_dispatcher=function(b,n,k,t,z){if(!k)throw f.RuntimeError.$new("super called outside of method");if(z&&k.$$define_meth)throw f.RuntimeError.$new("implicit argument passing of super from method defined by define_method() is not supported. Specify all arguments explicitly");k.$$def&&(n=k.$$jsid);return f.find_super_dispatcher(b,
n,k,t)};f.ret=function(b){f.returner.$v=b;throw f.returner;};f.brk=function(b,n){n.$v=b;throw n;};f.new_brk=function(){return Error("unexpected break")};f.yield1=function(b,n){if("function"!==typeof b)throw f.LocalJumpError.$new("no block given");var k=b.$$has_top_level_mlhs_arg,t=b.$$has_trailing_comma_in_args;if(1<b.length||(k||t)&&1===b.length)n=f.to_ary(n);return(1<b.length||t&&1===b.length)&&n.$$is_array?b.apply(null,n):b(n)};f.yieldX=function(b,n){if("function"!==typeof b)throw f.LocalJumpError.$new("no block given");
if(1<b.length&&1===n.length&&n[0].$$is_array)return b.apply(null,n[0]);if(!n.$$is_array){for(var k=Array(n.length),t=0,z=k.length;t<z;t++)k[t]=n[t];return b.apply(null,k)}return b.apply(null,n)};f.rescue=function(b,n){for(var k=0;k<n.length;k++){var t=n[k];if(t.$$is_array){if(t=f.rescue(b,t))return t}else if(t===f.JS.Error||t["$==="](b))return t}return null};f.is_a=function(b,n){if(null!=n&&b.$$meta===n||b.$$class===n)return!0;if(b.$$is_number&&n.$$is_number_class)return n.$$is_integer_class?0===
b%1:!0;var k,t=f.ancestors(b.$$is_class?f.get_singleton_class(b):b.$$meta||b.$$class);b=0;for(k=t.length;b<k;b++)if(t[b]===n)return!0;return!1};f.to_hash=function(b){if(b.$$is_hash)return b;if(b["$respond_to?"]("to_hash",!0)){var n=b.$to_hash();if(n.$$is_hash)return n;throw f.TypeError.$new("Can't convert "+b.$$class+" to Hash ("+b.$$class+"#to_hash gives "+n.$$class+")");}throw f.TypeError.$new("no implicit conversion of "+b.$$class+" into Hash");};f.to_ary=function(b){if(b.$$is_array)return b;if(b["$respond_to?"]("to_ary",
!0)){var n=b.$to_ary();if(n===na)return[b];if(n.$$is_array)return n;throw f.TypeError.$new("Can't convert "+b.$$class+" to Array ("+b.$$class+"#to_ary gives "+n.$$class+")");}return[b]};f.to_a=function(b){if(b.$$is_array)return b.slice();if(b["$respond_to?"]("to_a",!0)){var n=b.$to_a();if(n===na)return[b];if(n.$$is_array)return n;throw f.TypeError.$new("Can't convert "+b.$$class+" to Array ("+b.$$class+"#to_a gives "+n.$$class+")");}return[b]};f.extract_kwargs=function(b){var n=b[b.length-1];return null!=
n&&f.respond_to(n,"$to_hash",!0)?(ja.call(b,b.length-1,1),n.$to_hash()):f.hash2([],{})};f.kwrestargs=function(b,n){var k=[],t={},z;b=b.$$smap;for(z in b)n[z]||(k.push(z),t[z]=b[z]);return f.hash2(k,t)};f.send=function(b,n,k,t){if("function"===typeof n){var z=n;n=null}else if("string"===typeof n)z=b["$"+n];else throw f.NameError.$new("Passed method should be a string or a function");return f.send2(b,z,n,k,t)};f.send2=function(b,n,k,t,z){null==n&&null!=k&&b.$method_missing&&(n=b.$method_missing,t=[k].concat(t));
"function"===typeof z&&(n.$$p=z);return n.apply(b,t)};f.lambda=function(b){b.$$is_lambda=!0;return b};f.def=function(b,n,k){b===f.top?f.defn(f.Object,n,k):!b.$$eval&&b.$$is_a_module?f.defn(b,n,k):f.defs(b,n,k)};f.defn=function(b,n,k){k.displayName=n;k.$$owner=b;var t=b.$$prototype;t.hasOwnProperty("$$dummy")&&(t=t.$$define_methods_on);v(t,n,k);if(b.$$is_module){b.$$module_function&&f.defs(b,n,k);t=0;for(var z=b.$$iclasses,F=z.length;t<F;t++)v(z[t],n,k)}k=b.$$singleton_of;!b.$method_added||b.$method_added.$$stub||
k?k&&k.$singleton_method_added&&!k.$singleton_method_added.$$stub&&k.$singleton_method_added(n.substr(1)):b.$method_added(n.substr(1))};f.defs=function(b,n,k){if(b.$$is_string||b.$$is_number)throw f.TypeError.$new("can't define singleton");f.defn(f.get_singleton_class(b),n,k)};f.rdef=function(b,n){if(!h.call(b.$$prototype,n))throw f.NameError.$new("method '"+n.substr(1)+"' not defined in "+b.$name());delete b.$$prototype[n];b.$$is_singleton?b.$$prototype.$singleton_method_removed&&!b.$$prototype.$singleton_method_removed.$$stub&&
b.$$prototype.$singleton_method_removed(n.substr(1)):b.$method_removed&&!b.$method_removed.$$stub&&b.$method_removed(n.substr(1))};f.udef=function(b,n){if(!b.$$prototype[n]||b.$$prototype[n].$$stub)throw f.NameError.$new("method '"+n.substr(1)+"' not defined in "+b.$name());f.add_stub_for(b.$$prototype,n);b.$$is_singleton?b.$$prototype.$singleton_method_undefined&&!b.$$prototype.$singleton_method_undefined.$$stub&&b.$$prototype.$singleton_method_undefined(n.substr(1)):b.$method_undefined&&!b.$method_undefined.$$stub&&
b.$method_undefined(n.substr(1))};f.alias=function(b,n,k){var t="$"+n,z="$"+k,F=b.$$prototype["$"+k];if(b.$$eval)return f.alias(f.get_singleton_class(b),n,k);if(!g(F)){for(var H=b.$$super;"function"!==typeof F&&H;)F=H[z],H=H.$$super;!g(F)&&b.$$is_module&&(F=f.Object.$$prototype[z]);if(!g(F))throw f.NameError.$new("undefined method `"+k+"' for class `"+b.$name()+"'");}F.$$alias_of&&(F=F.$$alias_of);var K=function(){var da=K.$$p,va;var Na=Array(arguments.length);var wa=0;for(va=arguments.length;wa<
va;wa++)Na[wa]=arguments[wa];null!=da&&(K.$$p=null);return f.send(this,F,Na,da)};try{Object.defineProperty(K,"length",{value:F.length})}catch(da){}K.displayName=n;K.$$arity=F.$$arity;K.$$parameters=F.$$parameters;K.$$source_location=F.$$source_location;K.$$alias_of=F;K.$$alias_name=n;f.defn(b,t,K);return b};f.alias_native=function(b,n,k){n="$"+n;var t=b.$$prototype[k];if("function"!==typeof t||t.$$stub)throw f.NameError.$new("undefined native method `"+k+"' for class `"+b.$name()+"'");f.defn(b,n,
t);return b};f.hash_init=function(b){b.$$smap=Object.create(null);b.$$map=Object.create(null);b.$$keys=[]};f.hash_clone=function(b,n){n.$$none=b.$$none;n.$$proc=b.$$proc;var k=0,t=b.$$keys;b=b.$$smap;for(var z=t.length,F,H;k<z;k++)F=t[k],F.$$is_string?H=b[F]:(H=F.value,F=F.key),f.hash_put(n,F,H)};f.hash_put=function(b,n,k){if(n.$$is_string)h.call(b.$$smap,n)||b.$$keys.push(n),b.$$smap[n]=k;else{var t;var z=b.$$by_identity?f.id(n):n.$hash();if(h.call(b.$$map,z)){for(t=b.$$map[z];t;){if(n===t.key||
n["$eql?"](t.key)){var F=void 0;t.value=k;break}F=t;t=t.next}F&&(t={key:n,key_hash:z,value:k},b.$$keys.push(t),F.next=t)}else t={key:n,key_hash:z,value:k},b.$$keys.push(t),b.$$map[z]=t}};f.hash_get=function(b,n){if(n.$$is_string){if(h.call(b.$$smap,n))return b.$$smap[n]}else{var k=b.$$by_identity?f.id(n):n.$hash();if(h.call(b.$$map,k))for(b=b.$$map[k];b;){if(n===b.key||n["$eql?"](b.key))return b.value;b=b.next}}};f.hash_delete=function(b,n){var k,t=b.$$keys,z=t.length;if(n.$$is_string){"string"!==
typeof n&&(n=n.valueOf());if(!h.call(b.$$smap,n))return;for(k=0;k<z;k++)if(t[k]===n){t.splice(k,1);break}var F=b.$$smap[n];delete b.$$smap[n];return F}var H=n.$hash();if(h.call(b.$$map,H))for(var K=b.$$map[H],da;K;){if(n===K.key||n["$eql?"](K.key)){F=K.value;for(k=0;k<z;k++)if(t[k]===K){t.splice(k,1);break}da&&K.next?da.next=K.next:da?delete da.next:K.next?b.$$map[H]=K.next:delete b.$$map[H];return F}da=K;K=K.next}};f.hash_rehash=function(b){for(var n=0,k=b.$$keys.length,t,z,F;n<k;n++)if(!b.$$keys[n].$$is_string&&
(t=b.$$keys[n].key.$hash(),t!==b.$$keys[n].key_hash)){z=b.$$map[b.$$keys[n].key_hash];for(F=void 0;z;){if(z===b.$$keys[n]){F&&z.next?F.next=z.next:F?delete F.next:z.next?b.$$map[b.$$keys[n].key_hash]=z.next:delete b.$$map[b.$$keys[n].key_hash];break}F=z;z=z.next}b.$$keys[n].key_hash=t;if(h.call(b.$$map,t)){z=b.$$map[t];for(F=void 0;z;){if(z===b.$$keys[n]){F=void 0;break}F=z;z=z.next}F&&(F.next=b.$$keys[n])}else b.$$map[t]=b.$$keys[n]}};f.hash=function(){var b=arguments.length,n;if(1===b&&arguments[0].$$is_hash)return arguments[0];
var k=new f.Hash;f.hash_init(k);if(1===b&&arguments[0].$$is_array){b=arguments[0];var t=b.length;for(n=0;n<t;n++){if(2!==b[n].length)throw f.ArgumentError.$new("value not of length 2: "+b[n].$inspect());var z=b[n][0];var F=b[n][1];f.hash_put(k,z,F)}return k}if(1===b){b=arguments[0];for(z in b)h.call(b,z)&&(F=b[z],f.hash_put(k,z,F));return k}if(0!==b%2)throw f.ArgumentError.$new("odd number of arguments for Hash");for(n=0;n<b;n+=2)z=arguments[n],F=arguments[n+1],f.hash_put(k,z,F);return k};f.hash2=
function(b,n){var k=new f.Hash;k.$$smap=n;k.$$map=Object.create(null);k.$$keys=b;return k};f.range=function(b,n,k){var t=new f.Range;t.begin=b;t.end=n;t.excl=k;return t};f.ivar=function(b){return"constructor"===b||"displayName"===b||"__count__"===b||"__noSuchMethod__"===b||"__parent__"===b||"__proto__"===b||"hasOwnProperty"===b||"valueOf"===b?b+"$":b};f.escape_regexp=function(b){return b.replace(/([-[\]\/{}()*+?.^$\\| ])/g,"\\$1").replace(/[\n]/g,"\\n").replace(/[\r]/g,"\\r").replace(/[\f]/g,"\\f").replace(/[\t]/g,
"\\t")};f.global_regexp=function(b){if(b.global)return b;null==b.$$g?b.$$g=new RegExp(b.source,(b.multiline?"gm":"g")+(b.ignoreCase?"i":"")):b.$$g.lastIndex=null;return b.$$g};f.global_multiline_regexp=function(b){if(b.multiline){if(b.global)return b;b=null!=b.$$g?b.$$g:b.$$g=new RegExp(b.source,"gm"+(b.ignoreCase?"i":""))}else b=null!=b.$$gm?b.$$gm:b.$$gm=new RegExp(b.source,"gm"+(b.ignoreCase?"i":""));b.lastIndex=null;return b};f.regexp=function(b,n){for(var k,t="undefined"!==typeof n&&n&&0<=n.indexOf("i"),
z=0,F=b.length;z<F;z++)k=b[z],k instanceof RegExp&&(k.ignoreCase!==t&&f.Kernel.$warn("ignore case doesn't match for "+k.source.$inspect(),f.hash({uplevel:1})),k=k.source),""===k&&(k="(?:"+k+")"),b[z]=k;return n?new RegExp(b.join(""),n):new RegExp(b.join(""))};f.modules={};f.loaded_features=["corelib/runtime"];f.current_dir=".";f.require_table={"corelib/runtime":!0};f.normalize=function(b){var n=[];"."!==f.current_dir&&(b=f.current_dir.replace(/\/*$/,"/")+b);b=b.replace(/^\.\//,"");b=b.replace(/\.(rb|opal|js)$/,
"");b=b.split("/");for(var k=0,t=b.length;k<t;k++){var z=b[k];""!==z&&(".."===z?n.pop():n.push(z))}return n.join("/")};f.loaded=function(b){var n;var k=0;for(n=b.length;k<n;k++){var t=f.normalize(b[k]);f.require_table[t]||(f.loaded_features.push(t),f.require_table[t]=!0)}};f.load=function(b){b=f.normalize(b);f.loaded([b]);var n=f.modules[b];if(n)n(f);else{n=f.config.missing_require_severity;b="cannot load such file -- "+b;if("error"===n){if(f.LoadError)throw f.LoadError.$new(b);throw b;}"warning"===
n&&y.warn("WARNING: LoadError: "+b)}return!0};f.require=function(b){b=f.normalize(b);return f.require_table[b]?!1:f.load(b)};f.encodings=Object.create(null);f.set_encoding=function(b,n){if("string"===typeof b)throw f.FrozenError.$new("can't modify frozen String");n=f.encodings[n];if(n===b.encoding)return b;b.encoding=n;return b};f.enc=function(b,n){b=new String(b);f.set_encoding(b,n);b.internal_encoding=b.encoding;return b};f.BasicObject=c=f.allocate_class("BasicObject",null,function(){});f.Object=
m=f.allocate_class("Object",f.BasicObject,function(){});f.Module=a=f.allocate_class("Module",f.Object,function(){});f.Class=J=f.allocate_class("Class",f.Module,function(){});D(f.BasicObject,f.Class.$$prototype);D(f.Object,f.Class.$$prototype);D(f.Module,f.Class.$$prototype);D(f.Class,f.Class.$$prototype);c.$$const.BasicObject=c;f.const_set(m,"BasicObject",c);f.const_set(m,"Object",m);f.const_set(m,"Module",a);f.const_set(m,"Class",J);c.$$class=J;m.$$class=J;a.$$class=J;J.$$class=J;v(m.$$prototype,
"toString",function(){var b=this.$to_s();return b.$$is_string&&"object"===typeof b?b.valueOf():b});v(m.$$prototype,"$require",f.require);f.top=new m;f.top.$to_s=f.top.$inspect=function(){return"main"};f.top.$define_method=d;f.NilClass=f.allocate_class("NilClass",f.Object,function(){});f.const_set(m,"NilClass",f.NilClass);var na=f.nil=new f.NilClass;na.$$id=4;na.call=na.apply=function(){throw f.LocalJumpError.$new("no block given");};f.breaker=Error("unexpected break (old)");f.returner=Error("unexpected return");
TypeError.$$super=Error}).call(this);Opal.loaded(["corelib/runtime.js"]);
Opal.modules["corelib/helpers"]=function(a){var v=[],G=a.nil,p=a.$$,r=a.type_error,x=a.coerce_to,q=a.module,e=a.truthy;a.add_stubs("$=== $raise $respond_to? $nil? $__send__ $<=> $class $coerce_to! $new $!= $[] $upcase".split(" "));return function(E,B){E=q(E,"Opal");var g=[E].concat(B),d,y,c,m,J,f,h,L,D,Q,ja;a.defs(E,"$bridge",d=function(fa,na){return a.bridge(fa,na)},d.$$arity=2);a.defs(E,"$coerce_to!",y=function(fa,na,b,n){var k=a.slice.call(arguments,3,arguments.length);k=x(fa,na,b,k);e(na["$==="](k))||
this.$raise(r(fa,na,b,k));return k},y.$$arity=-4);a.defs(E,"$coerce_to?",c=function(fa,na,b,n){var k=a.slice.call(arguments,3,arguments.length);if(!e(fa["$respond_to?"](b)))return G;k=x(fa,na,b,k);if(e(k["$nil?"]()))return G;e(na["$==="](k))||this.$raise(r(fa,na,b,k));return k},c.$$arity=-4);a.defs(E,"$try_convert",m=function(fa,na,b){return e(na["$==="](fa))?fa:e(fa["$respond_to?"](b))?fa.$__send__(b):G},m.$$arity=3);a.defs(E,"$compare",J=function(fa,na){var b=fa["$<=>"](na);e(b===G)&&this.$raise(p(g,
"ArgumentError"),"comparison of "+fa.$class()+" with "+na.$class()+" failed");return b},J.$$arity=2);a.defs(E,"$destructure",f=function(fa){if(1==fa.length)return fa[0];if(fa.$$is_array)return fa;for(var na=Array(fa.length),b=0,n=na.length;b<n;b++)na[b]=fa[b];return na},f.$$arity=1);a.defs(E,"$respond_to?",h=function(fa,na,b){null==b&&(b=!1);return null!=fa&&fa.$$class?fa["$respond_to?"](na,b):!1},h.$$arity=-3);a.defs(E,"$instance_variable_name!",L=function(fa){fa=p(g,"Opal")["$coerce_to!"](fa,p(g,
"String"),"to_str");e(/^@[a-zA-Z_][a-zA-Z0-9_]*?$/.test(fa))||this.$raise(p(g,"NameError").$new("'"+fa+"' is not allowed as an instance variable name",fa));return fa},L.$$arity=1);a.defs(E,"$class_variable_name!",D=function(fa){fa=p(g,"Opal")["$coerce_to!"](fa,p(g,"String"),"to_str");e(3>fa.length||"@@"!==fa.slice(0,2))&&this.$raise(p(g,"NameError").$new("`"+fa+"' is not allowed as a class variable name",fa));return fa},D.$$arity=1);a.defs(E,"$const_name!",Q=function(fa){fa=p(g,"Opal")["$coerce_to!"](fa,
p(g,"String"),"to_str");e(fa["$[]"](0)["$!="](fa["$[]"](0).$upcase()))&&this.$raise(p(g,"NameError"),"wrong constant name "+fa);return fa},Q.$$arity=1);a.defs(E,"$pristine",ja=function(fa,na){var b=a.slice.call(arguments,1,arguments.length);for(var n,k=b.length-1;0<=k;k--)n=b[k],(n=fa.$$prototype["$"+n])&&!n.$$stub&&(n.$$pristine=!0);return G},ja.$$arity=-2)}(v[0],v)};
Opal.modules["corelib/module"]=function(a){function v(m,J){return"number"===typeof m&&"number"===typeof J?m<J:m["$<"](J)}var G=[],p=a.nil,r=a.$$$,x=a.$$,q=a.truthy,e=a.coerce_to,E=a.klass,B=a.send,g=a.hash2,d=a.lambda,y=a.range,c=a.send2;a.add_stubs("$module_eval $to_proc $=== $raise $equal? $< $> $nil? $attr_reader $attr_writer $warn $attr_accessor $class_variable_name! $new $const_name! $=~ $inject $split $const_get $== $!~ $start_with? $bind $call $class $append_features $included $name $cover? $size $merge $compile $proc $any? $prepend_features $prepended $to_s $__id__ $constants $include? $copy_class_variables $copy_constants".split(" "));
return function(m,$super,f){m=E(m,$super,"Module");var h=[m].concat(f),L,D,Q,ja,fa,na,b,n,k,t,z,F,H,K,da,va,Na,wa,Aa,Ka,oa,R,sa,ba,ka,Y,S,V,ta,Da,ma,xa,Ha,Ea,Sa,Qa,Oa,kb,lb,W,ya,Ca,Va,hb,cb,$a,ab,za,ua,La,Ra,Ya,Fa,Z,P,aa,T,ha,la;a.defs(m,"$allocate",L=function(){var l=a.allocate_module(p,function(){});this!==a.Module&&Object.setPrototypeOf(l,this.$$prototype);return l},L.$$arity=0);a.def(m,"$initialize",D=function(){var l=D.$$p,C=l||p;l&&(D.$$p=null);l&&(D.$$p=null);return C!==p?B(this,"module_eval",
[],C.$to_proc()):p},D.$$arity=0);a.def(m,"$===",Q=function(l){return q(null==l)?!1:a.is_a(l,this)},Q.$$arity=1);a.def(m,"$<",ja=function(l){q(x(h,"Module")["$==="](l))||this.$raise(x(h,"TypeError"),"compared with non class/module");var C;if(this===l)return!1;var M=0;var ca=a.ancestors(this);for(C=ca.length;M<C;M++)if(ca[M]===l)return!0;M=0;ca=a.ancestors(l);for(C=ca.length;M<C;M++)if(ca[M]===this)return!1;return p},ja.$$arity=1);a.def(m,"$<=",fa=function(l){var C;return q(C=this["$equal?"](l))?C:
v(this,l)},fa.$$arity=1);a.def(m,"$>",na=function(l){q(x(h,"Module")["$==="](l))||this.$raise(x(h,"TypeError"),"compared with non class/module");return v(l,this)},na.$$arity=1);a.def(m,"$>=",b=function(l){var C;return q(C=this["$equal?"](l))?C:"number"===typeof this&&"number"===typeof l?this>l:this["$>"](l)},b.$$arity=1);a.def(m,"$<=>",n=function(l){if(this===l)return 0;if(!q(x(h,"Module")["$==="](l)))return p;l=v(this,l);return q(l["$nil?"]())?p:q(l)?-1:1},n.$$arity=1);a.def(m,"$alias_method",k=
function(l,C){l=e(l,x(h,"String"),"to_str");C=e(C,x(h,"String"),"to_str");a.alias(this,l,C);return this},k.$$arity=2);a.def(m,"$alias_native",t=function(l,C){null==C&&(C=l);a.alias_native(this,l,C);return this},t.$$arity=-2);a.def(m,"$ancestors",z=function(){return a.ancestors(this)},z.$$arity=0);a.def(m,"$append_features",F=function(l){a.append_features(this,l);return this},F.$$arity=1);a.def(m,"$attr_accessor",H=function(l){var C=a.slice.call(arguments,0,arguments.length);B(this,"attr_reader",a.to_a(C));
return B(this,"attr_writer",a.to_a(C))},H.$$arity=-1);a.def(m,"$attr",K=function(l){var C=a.slice.call(arguments,0,arguments.length);return 2!=C.length||!0!==C[1]&&!1!==C[1]?B(this,"attr_reader",a.to_a(C)):(this.$warn("optional boolean argument is obsoleted",g(["uplevel"],{uplevel:1})),C[1]?this.$attr_accessor(C[0]):this.$attr_reader(C[0]),p)},K.$$arity=-1);a.def(m,"$attr_reader",da=function(l){var C=a.slice.call(arguments,0,arguments.length);for(var M=this.$$prototype,ca=C.length-1;0<=ca;ca--){var w=
C[ca],U="$"+w;w=a.ivar(w);var pa=function(Ja){return function(){return null==this[Ja]?p:this[Ja]}}(w);a.defineProperty(M,w,p);pa.$$parameters=[];pa.$$arity=0;a.defn(this,U,pa)}return p},da.$$arity=-1);a.def(m,"$attr_writer",va=function(l){var C=a.slice.call(arguments,0,arguments.length);for(var M=this.$$prototype,ca=C.length-1;0<=ca;ca--){var w=C[ca],U="$"+w+"=";w=a.ivar(w);var pa=function(Ja){return function(ib){return this[Ja]=ib}}(w);pa.$$parameters=[["req"]];pa.$$arity=1;a.defineProperty(M,w,
p);a.defn(this,U,pa)}return p},va.$$arity=-1);a.def(m,"$autoload",Na=function(l,C){null==this.$$autoload&&(this.$$autoload={});a.const_cache_version++;this.$$autoload[l]=C;return p},Na.$$arity=2);a.def(m,"$class_variables",wa=function(){return Object.keys(a.class_variables(this))},wa.$$arity=0);a.def(m,"$class_variable_get",Aa=function(l){l=x(h,"Opal")["$class_variable_name!"](l);var C=a.class_variables(this)[l];null==C&&this.$raise(x(h,"NameError").$new("uninitialized class variable "+l+" in "+this,
l));return C},Aa.$$arity=1);a.def(m,"$class_variable_set",Ka=function(l,C){l=x(h,"Opal")["$class_variable_name!"](l);return a.class_variable_set(this,l,C)},Ka.$$arity=2);a.def(m,"$class_variable_defined?",oa=function(l){l=x(h,"Opal")["$class_variable_name!"](l);return a.class_variables(this).hasOwnProperty(l)},oa.$$arity=1);a.def(m,"$remove_class_variable",R=function(l){l=x(h,"Opal")["$class_variable_name!"](l);if(a.hasOwnProperty.call(this.$$cvars,l)){var C=this.$$cvars[l];delete this.$$cvars[l];
return C}this.$raise(x(h,"NameError"),"cannot remove "+l+" for "+this)},R.$$arity=1);a.def(m,"$constants",sa=function(l){null==l&&(l=!0);return a.constants(this,l)},sa.$$arity=-1);a.defs(m,"$constants",ba=function(l){if(null==l){l=(this.$$nesting||[]).concat(a.Object);var C,M={},ca;var w=0;for(ca=l.length;w<ca;w++)for(C in l[w].$$const)M[C]=!0;return Object.keys(M)}return a.constants(this,l)},ba.$$arity=-1);a.defs(m,"$nesting",ka=function(){return this.$$nesting||[]},ka.$$arity=0);a.def(m,"$const_defined?",
Y=function(l,C){null==C&&(C=!0);l=x(h,"Opal")["$const_name!"](l);q(l["$=~"](r(x(h,"Opal"),"CONST_NAME_REGEXP")))||this.$raise(x(h,"NameError").$new("wrong constant name "+l,l));var M=[this],ca;C&&(M=M.concat(a.ancestors(this)),this.$$is_module&&(M=M.concat([a.Object]).concat(a.ancestors(a.Object))));var w=0;for(ca=M.length;w<ca;w++)if(C=M[w],null!=C.$$const[l])return!0;return!1},Y.$$arity=-2);a.def(m,"$const_get",S=function(l,C){var M;null==C&&(C=!0);l=x(h,"Opal")["$const_name!"](l);0===l.indexOf("::")&&
"::"!==l&&(l=l.slice(2));if(q(-1!=l.indexOf("::")&&"::"!=l))return B(l.$split("::"),"inject",[this],(M=function(ca,w){null==ca&&(ca=p);null==w&&(w=p);return ca.$const_get(w)},M.$$s=this,M.$$arity=2,M));q(l["$=~"](r(x(h,"Opal"),"CONST_NAME_REGEXP")))||this.$raise(x(h,"NameError").$new("wrong constant name "+l,l));return C?x([this],l):a.const_get_local(this,l)},S.$$arity=-2);a.def(m,"$const_missing",V=function(l){var C;if(this.$$autoload&&(C=this.$$autoload[l]))return this.$require(C),this.$const_get(l);
C=this["$=="](x(h,"Object"))?l:""+this+"::"+l;return this.$raise(x(h,"NameError").$new("uninitialized constant "+C,l))},V.$$arity=1);a.def(m,"$const_set",ta=function(l,C){var M=p;l=x(h,"Opal")["$const_name!"](l);q(q(M=l["$!~"](r(x(h,"Opal"),"CONST_NAME_REGEXP")))?M:l["$start_with?"]("::"))&&this.$raise(x(h,"NameError").$new("wrong constant name "+l,l));a.const_set(this,l,C);return C},ta.$$arity=2);a.def(m,"$public_constant",Da=function(){return p},Da.$$arity=1);a.def(m,"$define_method",ma=function(l,
C){var M=ma.$$p,ca=M||p,w,U=this,pa=p,Ja=p;M&&(ma.$$p=null);M&&(ma.$$p=null);q(void 0===C&&ca===p)&&U.$raise(x(h,"ArgumentError"),"tried to create a Proc object without a block");ca=function(){return q(pa=ca)?pa:function(){Ja=C;return x(h,"Proc")["$==="](Ja)?C:x(h,"Method")["$==="](Ja)?C.$to_proc().$$unbound:x(h,"UnboundMethod")["$==="](Ja)?d((w=function(ib){var ob=null==w.$$s?this:w.$$s;var mb=a.slice.call(arguments,0,arguments.length);ob=C.$bind(ob);return B(ob,"call",a.to_a(mb))},w.$$s=U,w.$$arity=
-1,w)):U.$raise(x(h,"TypeError"),"wrong argument type "+ca.$class()+" (expected Proc/Method)")}()}();ca.$$jsid=l;ca.$$s=null;ca.$$def=ca;ca.$$define_meth=!0;a.defn(U,"$"+l,ca);return l},ma.$$arity=-2);a.def(m,"$remove_method",xa=function(l){var C=a.slice.call(arguments,0,arguments.length);for(var M=0,ca=C.length;M<ca;M++)a.rdef(this,"$"+C[M]);return this},xa.$$arity=-1);a.def(m,"$singleton_class?",Ha=function(){return!!this.$$is_singleton},Ha.$$arity=0);a.def(m,"$include",Ea=function(l){var C=a.slice.call(arguments,
0,arguments.length);for(var M=C.length-1;0<=M;M--){var ca=C[M];ca.$$is_module||this.$raise(x(h,"TypeError"),"wrong argument type "+ca.$class()+" (expected Module)");ca.$append_features(this);ca.$included(this)}return this},Ea.$$arity=-1);a.def(m,"$included_modules",Sa=function(){return a.included_modules(this)},Sa.$$arity=0);a.def(m,"$include?",Qa=function(l){l.$$is_module||this.$raise(x(h,"TypeError"),"wrong argument type "+l.$class()+" (expected Module)");var C,M=a.ancestors(this);var ca=0;for(C=
M.length;ca<C;ca++){var w=M[ca];if(w===l&&w!==this)return!0}return!1},Qa.$$arity=1);a.def(m,"$instance_method",Oa=function(l){var C=this.$$prototype["$"+l];C&&!C.$$stub||this.$raise(x(h,"NameError").$new("undefined method `"+l+"' for class `"+this.$name()+"'",l));return x(h,"UnboundMethod").$new(this,C.$$owner||this,C,l)},Oa.$$arity=1);a.def(m,"$instance_methods",kb=function(l){null==l&&(l=!0);return q(l)?a.instance_methods(this):a.own_instance_methods(this)},kb.$$arity=-1);a.def(m,"$included",lb=
function(){return p},lb.$$arity=1);a.def(m,"$extended",W=function(){return p},W.$$arity=1);a.def(m,"$extend_object",ya=function(){return p},ya.$$arity=1);a.def(m,"$method_added",Ca=function(l){a.slice.call(arguments,0,arguments.length);return p},Ca.$$arity=-1);a.def(m,"$method_removed",Va=function(l){a.slice.call(arguments,0,arguments.length);return p},Va.$$arity=-1);a.def(m,"$method_undefined",hb=function(l){a.slice.call(arguments,0,arguments.length);return p},hb.$$arity=-1);a.def(m,"$module_eval",
cb=function(l){var C=cb.$$p,M=C||p,ca,w,U=p,pa=ca=p,Ja=pa=p,ib=pa=p;C&&(cb.$$p=null);C&&(cb.$$p=null);ca=a.slice.call(arguments,0,arguments.length);q(q(U=M["$nil?"]())?!!a.compile:U)?(q(y(1,3,!1)["$cover?"](ca.$size()))||x(h,"Kernel").$raise(x(h,"ArgumentError"),"wrong number of arguments (0 for 1..3)"),M=[].concat(a.to_a(ca)),ca=null==M[0]?p:M[0],pa=null==M[1]?p:M[1],M,pa=g(["file","eval"],{file:q(Ja=pa)?Ja:"(eval)",eval:!0}),pa=a.hash({arity_check:!1}).$merge(pa),ib=x(h,"Opal").$compile(ca,pa),
M=B(x(h,"Kernel"),"proc",[],(w=function(){return function(){return eval(ib)}(null==w.$$s?this:w.$$s)},w.$$s=this,w.$$arity=0,w))):q(ca["$any?"]())&&x(h,"Kernel").$raise(x(h,"ArgumentError"),"wrong number of arguments ("+ca.$size()+" for 0)\n\n  NOTE:If you want to enable passing a String argument please add \"require 'opal-parser'\" to your script\n");Ja=M.$$s;M.$$s=null;U=M.apply(this,[this]);M.$$s=Ja;return U},cb.$$arity=-1);a.alias(m,"class_eval","module_eval");a.def(m,"$module_exec",$a=function(l){var C=
$a.$$p,M=C||p;C&&($a.$$p=null);C&&($a.$$p=null);var ca=a.slice.call(arguments,0,arguments.length);M===p&&this.$raise(x(h,"LocalJumpError"),"no block given");C=M.$$s;M.$$s=null;ca=M.apply(this,ca);M.$$s=C;return ca},$a.$$arity=-1);a.alias(m,"class_exec","module_exec");a.def(m,"$method_defined?",ab=function(l){l=this.$$prototype["$"+l];return!!l&&!l.$$stub},ab.$$arity=1);a.def(m,"$module_function",za=function(l){var C=a.slice.call(arguments,0,arguments.length);if(0===C.length)this.$$module_function=
!0;else for(var M=0,ca=C.length;M<ca;M++){var w="$"+C[M];a.defs(this,w,this.$$prototype[w])}return this},za.$$arity=-1);a.def(m,"$name",ua=function(){if(this.$$full_name)return this.$$full_name;for(var l=[],C=this;C;){if(C.$$name===p||null==C.$$name)return p;l.unshift(C.$$name);C=C.$$base_module;if(C===a.Object)break}return 0===l.length?p:this.$$full_name=l.join("::")},ua.$$arity=0);a.def(m,"$prepend",La=function(l){var C=a.slice.call(arguments,0,arguments.length);0===C.length&&this.$raise(x(h,"ArgumentError"),
"wrong number of arguments (given 0, expected 1+)");for(var M=C.length-1;0<=M;M--){var ca=C[M];ca.$$is_module||this.$raise(x(h,"TypeError"),"wrong argument type "+ca.$class()+" (expected Module)");ca.$prepend_features(this);ca.$prepended(this)}return this},La.$$arity=-1);a.def(m,"$prepend_features",Ra=function(l){this.$$is_module||this.$raise(x(h,"TypeError"),"wrong argument type "+this.$class()+" (expected Module)");a.prepend_features(this,l);return this},Ra.$$arity=1);a.def(m,"$prepended",Ya=function(){return p},
Ya.$$arity=1);a.def(m,"$remove_const",Fa=function(l){return a.const_remove(this,l)},Fa.$$arity=1);a.def(m,"$to_s",Z=function(){var l;return q(l=a.Module.$name.call(this))?l:"#<"+(this.$$is_module?"Module":"Class")+":0x"+this.$__id__().$to_s(16)+">"},Z.$$arity=0);a.def(m,"$undef_method",P=function(l){var C=a.slice.call(arguments,0,arguments.length);for(var M=0,ca=C.length;M<ca;M++)a.udef(this,"$"+C[M]);return this},P.$$arity=-1);a.def(m,"$instance_variables",aa=function(){var l=(a.Module.$$nesting=
h,this.$constants());var C=[],M;for(M in this)this.hasOwnProperty(M)&&"$"!==M.charAt(0)&&"constructor"!==M&&!l["$include?"](M)&&C.push("@"+M);return C},aa.$$arity=0);a.def(m,"$dup",T=function(){var l=T.$$p,C;l&&(T.$$p=null);var M=0;var ca=arguments.length;for(C=Array(ca);M<ca;M++)C[M]=arguments[M];l=c(this,a.find_super_dispatcher(this,"dup",T,!1,!0),"dup",C,l);l.$copy_class_variables(this);l.$copy_constants(this);return l},T.$$arity=0);a.def(m,"$copy_class_variables",ha=function(l){for(var C in l.$$cvars)this.$$cvars[C]=
l.$$cvars[C]},ha.$$arity=1);return(a.def(m,"$copy_constants",la=function(l){var C;l=l.$$const;for(C in l)a.const_set(this,C,l[C])},la.$$arity=1),p)&&"copy_constants"}(G[0],null,G)};
Opal.modules["corelib/class"]=function(a){var v=a.top,G=[],p=a.nil,r=a.$$,x=a.klass,q=a.send,e=a.send2;a.add_stubs("$require $class_eval $to_proc $initialize_copy $allocate $name $to_s".split(" "));v.$require("corelib/module");return function(E,$super,g){E=x(E,$super,"Class");var d=[E].concat(g),y,c,m,J,f,h,L;a.defs(E,"$new",y=function(D){var Q=y.$$p,ja=Q||p;Q&&(y.$$p=null);Q&&(y.$$p=null);null==D&&(D=r(d,"Object"));if(!D.$$is_class)throw a.TypeError.$new("superclass must be a Class");Q=a.allocate_class(p,
D);D.$inherited(Q);ja!==p&&q(Q,"class_eval",[],ja.$to_proc());return Q},y.$$arity=-1);a.def(E,"$allocate",c=function(){var D=new this.$$constructor;D.$$id=a.uid();return D},c.$$arity=0);a.def(E,"$inherited",m=function(){return p},m.$$arity=1);a.def(E,"$initialize_dup",J=function(D){this.$initialize_copy(D);this.$$full_name=this.$$name=null},J.$$arity=1);a.def(E,"$new",f=function(D){var Q=f.$$p,ja=Q||p;Q&&(f.$$p=null);Q&&(f.$$p=null);Q=a.slice.call(arguments,0,arguments.length);var fa=this.$allocate();
a.send(fa,fa.$initialize,Q,ja);return fa},f.$$arity=-1);a.def(E,"$superclass",h=function(){return this.$$super||p},h.$$arity=0);return(a.def(E,"$to_s",L=function(){L.$$p&&(L.$$p=null);var D=this.$$singleton_of;return D&&D.$$is_a_module?"#<Class:"+D.$name()+">":D?"#<Class:#<"+D.$$class.$name()+":0x"+a.id(D).$to_s(16)+">>":e(this,a.find_super_dispatcher(this,"to_s",L,!1,!0),"to_s",[],null)},L.$$arity=0),p)&&"to_s"}(G[0],null,G)};
Opal.modules["corelib/basic_object"]=function(a){var v=[],G=a.nil,p=a.$$$,r=a.klass,x=a.truthy,q=a.range,e=a.hash2,E=a.send;a.add_stubs("$== $! $nil? $cover? $size $raise $merge $compile $proc $any? $inspect $new".split(" "));return function(B,$super,d){B=r(B,$super,"BasicObject");[B].concat(d);var y,c,m,J,f,h,L,D,Q,ja,fa,na,b,n;a.def(B,"$initialize",y=function(k){a.slice.call(arguments,0,arguments.length);return G},y.$$arity=-1);a.def(B,"$==",c=function(k){return this===k},c.$$arity=1);a.def(B,"$eql?",
m=function(k){return this["$=="](k)},m.$$arity=1);a.alias(B,"equal?","==");a.def(B,"$__id__",J=function(){if(null!=this.$$id)return this.$$id;a.defineProperty(this,"$$id",a.uid());return this.$$id},J.$$arity=0);a.def(B,"$__send__",f=function(k,t){var z=f.$$p,F=z||G;z&&(f.$$p=null);z&&(f.$$p=null);z=a.slice.call(arguments,1,arguments.length);var H=this["$"+k];if(H)return F!==G&&(H.$$p=F),H.apply(this,z);F!==G&&(this.$method_missing.$$p=F);return this.$method_missing.apply(this,[k].concat(z))},f.$$arity=
-2);a.def(B,"$!",h=function(){return!1},h.$$arity=0);a.def(B,"$!=",L=function(k){return this["$=="](k)["$!"]()},L.$$arity=1);a.def(B,"$instance_eval",D=function(k){var t=D.$$p,z=t||G,F,H,K=G,da=F=G,va=da=G,Na=da=G;t&&(D.$$p=null);t&&(D.$$p=null);F=a.slice.call(arguments,0,arguments.length);x(x(K=z["$nil?"]())?!!a.compile:K)?(x(q(1,3,!1)["$cover?"](F.$size()))||p("::","Kernel").$raise(p("::","ArgumentError"),"wrong number of arguments (0 for 1..3)"),z=[].concat(a.to_a(F)),F=null==z[0]?G:z[0],da=null==
z[1]?G:z[1],z,da=e(["file","eval"],{file:x(va=da)?va:"(eval)",eval:!0}),da=a.hash({arity_check:!1}).$merge(da),Na=p("::","Opal").$compile(F,da),z=E(p("::","Kernel"),"proc",[],(H=function(){return function(){return eval(Na)}(null==H.$$s?this:H.$$s)},H.$$s=this,H.$$arity=0,H))):x(F["$any?"]())&&p("::","Kernel").$raise(p("::","ArgumentError"),"wrong number of arguments ("+F.$size()+" for 0)");va=z.$$s;z.$$s=null;if(this.$$is_a_module){this.$$eval=!0;try{var wa=z.call(this,this)}finally{this.$$eval=!1}}else wa=
z.call(this,this);z.$$s=va;return wa},D.$$arity=-1);a.def(B,"$instance_exec",Q=function(k){var t=Q.$$p,z=t||G;t&&(Q.$$p=null);t&&(Q.$$p=null);t=a.slice.call(arguments,0,arguments.length);x(z)||p("::","Kernel").$raise(p("::","ArgumentError"),"no block given");var F=z.$$s;z.$$s=null;if(this.$$is_a_module){this.$$eval=!0;try{var H=z.apply(this,t)}finally{this.$$eval=!1}}else H=z.apply(this,t);z.$$s=F;return H},Q.$$arity=-1);a.def(B,"$singleton_method_added",ja=function(k){a.slice.call(arguments,0,arguments.length);
return G},ja.$$arity=-1);a.def(B,"$singleton_method_removed",fa=function(k){a.slice.call(arguments,0,arguments.length);return G},fa.$$arity=-1);a.def(B,"$singleton_method_undefined",na=function(k){a.slice.call(arguments,0,arguments.length);return G},na.$$arity=-1);a.def(B,"$method_missing",b=function(k,t){var z=b.$$p;z&&(b.$$p=null);z&&(b.$$p=null);a.slice.call(arguments,1,arguments.length);z=x(this.$inspect&&!this.$inspect.$$stub)?"undefined method `"+k+"' for "+this.$inspect()+":"+this.$$class:
"undefined method `"+k+"' for "+this.$$class;return p("::","Kernel").$raise(p("::","NoMethodError").$new(z,k))},b.$$arity=-2);return(a.def(B,"$respond_to_missing?",n=function(){return!1},n.$$arity=-2),G)&&"respond_to_missing?"}(v[0],null,v)};
Opal.modules["corelib/kernel"]=function(a){function v(c,m){return"number"===typeof c&&"number"===typeof m?c<=m:c["$<="](m)}var G=[],p=a.nil,r=a.$$$,x=a.$$,q=a.truthy,e=a.coerce_to,E=a.module,B=a.gvars,g=a.hash2,d=a.send,y=a.klass;a.add_stubs("$raise $new $inspect $! $=~ $== $object_id $class $coerce_to? $<< $allocate $copy_instance_variables $copy_singleton_methods $initialize_clone $initialize_copy $define_method $singleton_class $to_proc $initialize_dup $for $empty? $pop $call $append_features $extend_object $extended $__id__ $to_s $instance_variable_name! $respond_to? $to_int $coerce_to! $Integer $nil? $=== $enum_for $result $any? $print $format $puts $each $<= $length $[] $< $first $caller $+ $map $exception $is_a? $rand $respond_to_missing? $pristine $try_convert! $expand_path $join $start_with? $new_seed $srand $sym $arg $open $include".split(" "));(function(c,
m){c=E(c,"Kernel");var J=[c].concat(m),f,h,L,D,Q,ja,fa,na,b,n,k,t,z,F,H,K,da,va,Na,wa,Aa,Ka,oa,R,sa,ba,ka,Y,S,V,ta,Da,ma,xa,Ha,Ea,Sa,Qa,Oa,kb,lb,W,ya,Ca,Va,hb,cb,$a,ab,za,ua,La,Ra,Ya,Fa,Z,P,aa,T,ha,la,l,C,M,ca;a.def(c,"$method_missing",f=function(w,U){var pa=f.$$p;pa&&(f.$$p=null);pa&&(f.$$p=null);pa=a.slice.call(arguments,1,arguments.length);return this.$raise(x(J,"NoMethodError").$new("undefined method `"+w+"' for "+this.$inspect(),w,pa))},f.$$arity=-2);a.def(c,"$=~",h=function(){return!1},h.$$arity=
1);a.def(c,"$!~",L=function(w){return this["$=~"](w)["$!"]()},L.$$arity=1);a.def(c,"$===",D=function(w){var U;return q(U=this.$object_id()["$=="](w.$object_id()))?U:this["$=="](w)},D.$$arity=1);a.def(c,"$<=>",Q=function(w){this.$$comparable=!0;return(w=this["$=="](w))&&w!==p?0:p},Q.$$arity=1);a.def(c,"$method",ja=function(w){var U=this["$"+w];U&&!U.$$stub||this.$raise(x(J,"NameError").$new("undefined method `"+w+"' for class `"+this.$class()+"'",w));return x(J,"Method").$new(this,U.$$owner||this.$class(),
U,w)},ja.$$arity=1);a.def(c,"$methods",fa=function(w){null==w&&(w=!0);return q(w)?a.methods(this):a.own_methods(this)},fa.$$arity=-1);a.def(c,"$public_methods",na=function(w){null==w&&(w=!0);return q(w)?a.methods(this):a.receiver_methods(this)},na.$$arity=-1);a.def(c,"$Array",b=function(w){if(w===p)return[];if(w.$$is_array)return w;var U=x(J,"Opal")["$coerce_to?"](w,x(J,"Array"),"to_ary");if(U!==p)return U;U=x(J,"Opal")["$coerce_to?"](w,x(J,"Array"),"to_a");return U!==p?U:[w]},b.$$arity=1);a.def(c,
"$at_exit",n=function(){var w=n.$$p,U=w||p,pa=p;null==B.__at_exit__&&(B.__at_exit__=p);w&&(n.$$p=null);w&&(n.$$p=null);B.__at_exit__=q(pa=B.__at_exit__)?pa:[];B.__at_exit__["$<<"](U);return U},n.$$arity=0);a.def(c,"$caller",k=function(w,U){null==U&&(U=p);w=(Error().stack||"").split("\n");var pa=[];for(var Ja=3,ib=w.length;Ja<ib&&(w[Ja].match("runtime.js")||(pa.push(w[Ja].replace(/^ *\w+ +/,"")),!U||pa.length!=U));Ja++);return pa},k.$$arity=-1);a.def(c,"$class",t=function(){return this.$$class},t.$$arity=
0);a.def(c,"$copy_instance_variables",z=function(w){var U=Object.keys(w),pa;var Ja=0;for(pa=U.length;Ja<pa;Ja++){var ib=U[Ja];"$"!==ib.charAt(0)&&w.hasOwnProperty(ib)&&(this[ib]=w[ib])}},z.$$arity=1);a.def(c,"$copy_singleton_methods",F=function(w){var U;if(w.hasOwnProperty("$$meta")){var pa=a.get_singleton_class(w),Ja=a.get_singleton_class(this);var ib=Object.getOwnPropertyNames(pa.$$prototype);var ob=0;for(U=ib.length;ob<U;ob++){var mb=ib[ob];a.is_method(mb)&&(Ja.$$prototype[mb]=pa.$$prototype[mb])}Ja.$$const=
Object.assign({},pa.$$const);Object.setPrototypeOf(Ja.$$prototype,Object.getPrototypeOf(pa.$$prototype))}ob=0;ib=Object.getOwnPropertyNames(w);for(U=ib.length;ob<U;ob++)mb=ib[ob],"$"===mb.charAt(0)&&"$"!==mb.charAt(1)&&w.hasOwnProperty(mb)&&(this[mb]=w[mb])},F.$$arity=1);a.def(c,"$clone",H=function(w){if(null==w)g([],{});else if(!w.$$is_hash)throw a.ArgumentError.$new("expected kwargs");w=this.$class().$allocate();w.$copy_instance_variables(this);w.$copy_singleton_methods(this);w.$initialize_clone(this);
return w},H.$$arity=-1);a.def(c,"$initialize_clone",K=function(w){return this.$initialize_copy(w)},K.$$arity=1);a.def(c,"$define_singleton_method",da=function(w,U){var pa=da.$$p,Ja=pa||p;pa&&(da.$$p=null);pa&&(da.$$p=null);return d(this.$singleton_class(),"define_method",[w,U],Ja.$to_proc())},da.$$arity=-2);a.def(c,"$dup",va=function(){var w=this.$class().$allocate();w.$copy_instance_variables(this);w.$initialize_dup(this);return w},va.$$arity=0);a.def(c,"$initialize_dup",Na=function(w){return this.$initialize_copy(w)},
Na.$$arity=1);a.def(c,"$enum_for",wa=function(w,U){var pa=wa.$$p,Ja=pa||p;pa&&(wa.$$p=null);pa&&(wa.$$p=null);pa=a.slice.call(arguments,0,arguments.length);if(0<pa.length){var ib=pa[0];pa.splice(0,1)}null==ib&&(ib="each");return d(x(J,"Enumerator"),"for",[this,ib].concat(a.to_a(pa)),Ja.$to_proc())},wa.$$arity=-1);a.alias(c,"to_enum","enum_for");a.def(c,"$equal?",Aa=function(w){return this===w},Aa.$$arity=1);a.def(c,"$exit",Ka=function(w){var U=p;null==B.__at_exit__&&(B.__at_exit__=p);null==w&&(w=
!0);for(B.__at_exit__=q(U=B.__at_exit__)?U:[];!q(B.__at_exit__["$empty?"]());)U=B.__at_exit__.$pop(),U.$call();w=w.$$is_boolean?w?0:1:e(w,x(J,"Integer"),"to_int");a.exit(w);return p},Ka.$$arity=-1);a.def(c,"$extend",oa=function(w){var U=a.slice.call(arguments,0,arguments.length);for(var pa=this.$singleton_class(),Ja=U.length-1;0<=Ja;Ja--){var ib=U[Ja];ib.$$is_module||this.$raise(x(J,"TypeError"),"wrong argument type "+ib.$class()+" (expected Module)");ib.$append_features(pa);ib.$extend_object(this);
ib.$extended(this)}return this},oa.$$arity=-1);a.def(c,"$hash",R=function(){return this.$__id__()},R.$$arity=0);a.def(c,"$initialize_copy",sa=function(){return p},sa.$$arity=1);a.def(c,"$inspect",ba=function(){return this.$to_s()},ba.$$arity=0);a.def(c,"$instance_of?",ka=function(w){w.$$is_class||w.$$is_module||this.$raise(x(J,"TypeError"),"class or module required");return this.$$class===w},ka.$$arity=1);a.def(c,"$instance_variable_defined?",Y=function(w){w=x(J,"Opal")["$instance_variable_name!"](w);
return a.hasOwnProperty.call(this,w.substr(1))},Y.$$arity=1);a.def(c,"$instance_variable_get",S=function(w){w=x(J,"Opal")["$instance_variable_name!"](w);w=this[a.ivar(w.substr(1))];return null==w?p:w},S.$$arity=1);a.def(c,"$instance_variable_set",V=function(w,U){w=x(J,"Opal")["$instance_variable_name!"](w);return this[a.ivar(w.substr(1))]=U},V.$$arity=2);a.def(c,"$remove_instance_variable",ta=function(w){w=x(J,"Opal")["$instance_variable_name!"](w);var U=a.ivar(w.substr(1));return this.hasOwnProperty(U)?
(w=this[U],delete this[U],w):this.$raise(x(J,"NameError"),"instance variable "+w+" not defined")},ta.$$arity=1);a.def(c,"$instance_variables",Da=function(){var w=[],U;for(U in this)if(this.hasOwnProperty(U)&&"$"!==U.charAt(0)){var pa="$"===U.substr(-1)?U.slice(0,U.length-1):U;w.push("@"+pa)}return w},Da.$$arity=0);a.def(c,"$Integer",ma=function(w,U){var pa=this;if(!w.$$is_string){void 0!==U&&pa.$raise(x(J,"ArgumentError"),"base specified for non string value");w===p&&pa.$raise(x(J,"TypeError"),"can't convert nil into Integer");
if(w.$$is_number)return(Infinity===w||-Infinity===w||isNaN(w))&&pa.$raise(x(J,"FloatDomainError"),w),Math.floor(w);if(w["$respond_to?"]("to_int")){var Ja=w.$to_int();if(Ja!==p)return Ja}return x(J,"Opal")["$coerce_to!"](w,x(J,"Integer"),"to_i")}if("0"===w)return 0;void 0===U?U=0:(U=e(U,x(J,"Integer"),"to_int"),(1===U||0>U||36<U)&&pa.$raise(x(J,"ArgumentError"),"invalid radix "+U));Ja=w.toLowerCase();Ja=Ja.replace(/(\d)_(?=\d)/g,"$1");Ja=Ja.replace(/^(\s*[+-]?)(0[bodx]?)/,function(ob,mb,sb){switch(sb){case "0b":if(0===
U||2===U)return U=2,mb;case "0":case "0o":if(0===U||8===U)return U=8,mb;case "0d":if(0===U||10===U)return U=10,mb;case "0x":if(0===U||16===U)return U=16,mb}pa.$raise(x(J,"ArgumentError"),'invalid value for Integer(): "'+w+'"')});U=0===U?10:U;var ib="0-"+(10>=U?U-1:"9a-"+String.fromCharCode(97+(U-11)));(new RegExp("^\\s*[+-]?["+ib+"]+\\s*$")).test(Ja)||pa.$raise(x(J,"ArgumentError"),'invalid value for Integer(): "'+w+'"');Ja=parseInt(Ja,U);isNaN(Ja)&&pa.$raise(x(J,"ArgumentError"),'invalid value for Integer(): "'+
w+'"');return Ja},ma.$$arity=-2);a.def(c,"$Float",xa=function(w){w===p&&this.$raise(x(J,"TypeError"),"can't convert nil into Float");if(w.$$is_string){var U=w.toString();U=U.replace(/(\d)_(?=\d)/g,"$1");if(/^\s*[-+]?0[xX][0-9a-fA-F]+\s*$/.test(U))return this.$Integer(U);/^\s*[-+]?[0-9]*\.?[0-9]+([eE][-+]?[0-9]+)?\s*$/.test(U)||this.$raise(x(J,"ArgumentError"),'invalid value for Float(): "'+w+'"');return parseFloat(U)}return x(J,"Opal")["$coerce_to!"](w,x(J,"Float"),"to_f")},xa.$$arity=1);a.def(c,
"$Hash",Ha=function(w){var U=p;return q(q(U=w["$nil?"]())?U:w["$=="]([]))?g([],{}):q(x(J,"Hash")["$==="](w))?w:x(J,"Opal")["$coerce_to!"](w,x(J,"Hash"),"to_hash")},Ha.$$arity=1);a.def(c,"$is_a?",Ea=function(w){w.$$is_class||w.$$is_module||this.$raise(x(J,"TypeError"),"class or module required");return a.is_a(this,w)},Ea.$$arity=1);a.def(c,"$itself",Sa=function(){return this},Sa.$$arity=0);a.alias(c,"kind_of?","is_a?");a.def(c,"$lambda",Qa=function(){var w=Qa.$$p,U=w||p;w&&(Qa.$$p=null);w&&(Qa.$$p=
null);return a.lambda(U)},Qa.$$arity=0);a.def(c,"$load",Oa=function(w){w=x(J,"Opal")["$coerce_to!"](w,x(J,"String"),"to_str");return a.load(w)},Oa.$$arity=1);a.def(c,"$loop",kb=function(){var w,U=kb.$$p,pa=U||p,Ja=p;U&&(kb.$$p=null);if(pa===p)return d(this,"enum_for",["loop"],(w=function(){return r(x(J,"Float"),"INFINITY")},w.$$s=this,w.$$arity=0,w));for(;q(!0);)try{a.yieldX(pa,[])}catch(ib){if(a.rescue(ib,[x(J,"StopIteration")])){Ja=ib;try{return Ja.$result()}finally{a.pop_exception()}}else throw ib;
}return this},kb.$$arity=0);a.def(c,"$nil?",lb=function(){return!1},lb.$$arity=0);a.alias(c,"object_id","__id__");a.def(c,"$printf",W=function(w){var U=a.slice.call(arguments,0,arguments.length);q(U["$any?"]())&&this.$print(d(this,"format",a.to_a(U)));return p},W.$$arity=-1);a.def(c,"$proc",ya=function(){var w=ya.$$p,U=w||p;w&&(ya.$$p=null);w&&(ya.$$p=null);q(U)||this.$raise(x(J,"ArgumentError"),"tried to create Proc object without a block");U.$$is_lambda=!1;return U},ya.$$arity=0);a.def(c,"$puts",
Ca=function(w){null==B.stdout&&(B.stdout=p);var U=a.slice.call(arguments,0,arguments.length);return d(B.stdout,"puts",a.to_a(U))},Ca.$$arity=-1);a.def(c,"$p",Va=function(w){var U;var pa=a.slice.call(arguments,0,arguments.length);d(pa,"each",[],(U=function(Ja){null==B.stdout&&(B.stdout=p);null==Ja&&(Ja=p);return B.stdout.$puts(Ja.$inspect())},U.$$s=this,U.$$arity=1,U));return q(v(pa.$length(),1))?pa["$[]"](0):pa},Va.$$arity=-1);a.def(c,"$print",hb=function(w){null==B.stdout&&(B.stdout=p);var U=a.slice.call(arguments,
0,arguments.length);return d(B.stdout,"print",a.to_a(U))},hb.$$arity=-1);a.def(c,"$warn",cb=function(w,U){var pa,Ja=p,ib=p;null==B.VERBOSE&&(B.VERBOSE=p);null==B.stderr&&(B.stderr=p);var ob=a.slice.call(arguments,0,arguments.length);var mb=a.extract_kwargs(ob);if(null==mb)mb=g([],{});else if(!mb.$$is_hash)throw a.ArgumentError.$new("expected kwargs");mb=mb.$$smap.uplevel;null==mb&&(mb=p);q(mb)&&(mb=x(J,"Opal")["$coerce_to!"](mb,x(J,"Integer"),"to_str"),q("number"===typeof mb?0>mb:mb["$<"](0))&&this.$raise(x(J,
"ArgumentError"),"negative level ("+mb+")"),Ja=this.$caller("number"===typeof mb?mb+2:mb["$+"](2),1).$first(),q(Ja)&&(Ja=""+Ja+": "),ob=d(ob,"map",[],(pa=function(sb){null==sb&&(sb=p);return""+Ja+"warning: "+sb},pa.$$s=this,pa.$$arity=1,pa)));return q(q(ib=B.VERBOSE["$nil?"]())?ib:ob["$empty?"]())?p:d(B.stderr,"puts",a.to_a(ob))},cb.$$arity=-1);a.def(c,"$raise",$a=function(w,U){null==B["!"]&&(B["!"]=p);null==U&&(U=p);if(null==w&&B["!"]!==p)throw B["!"];null==w?w=x(J,"RuntimeError").$new():w.$$is_string?
w=x(J,"RuntimeError").$new(w):w.$$is_class&&w["$respond_to?"]("exception")?w=w.$exception(U):w["$is_a?"](x(J,"Exception"))||(w=x(J,"TypeError").$new("exception class/object expected"));B["!"]!==p&&a.exceptions.push(B["!"]);B["!"]=w;throw w;},$a.$$arity=-1);a.alias(c,"fail","raise");a.def(c,"$rand",ab=function(w){if(void 0===w)return r(x(J,"Random"),"DEFAULT").$rand();w.$$is_number&&(0>w&&(w=Math.abs(w)),0!==w%1&&(w=w.$to_i()),0===w&&(w=void 0));return r(x(J,"Random"),"DEFAULT").$rand(w)},ab.$$arity=
-1);a.def(c,"$respond_to?",za=function(w,U){null==U&&(U=!1);var pa=this["$"+w];return"function"!==typeof pa||pa.$$stub?!0===this["$respond_to_missing?"].$$pristine?!1:this["$respond_to_missing?"](w,U):!0},za.$$arity=-2);a.def(c,"$respond_to_missing?",ua=function(){return!1},ua.$$arity=-2);x(J,"Opal").$pristine(c,"respond_to?","respond_to_missing?");a.def(c,"$require",La=function(w){w=x(J,"Opal")["$coerce_to!"](w,x(J,"String"),"to_str");return a.require(w)},La.$$arity=1);a.def(c,"$require_relative",
Ra=function(w){x(J,"Opal")["$try_convert!"](w,x(J,"String"),"to_str");w=x(J,"File").$expand_path(x(J,"File").$join(a.current_file,"..",w));return a.require(w)},Ra.$$arity=1);a.def(c,"$require_tree",Ya=function(w){var U=[];w=x(J,"File").$expand_path(w);w=a.normalize(w);"."===w&&(w="");for(var pa in a.modules)pa["$start_with?"](w)&&U.push([pa,a.require(pa)]);return U},Ya.$$arity=1);a.alias(c,"send","__send__");a.alias(c,"public_send","__send__");a.def(c,"$singleton_class",Fa=function(){return a.get_singleton_class(this)},
Fa.$$arity=0);a.def(c,"$sleep",Z=function(w){null==w&&(w=p);w===p&&this.$raise(x(J,"TypeError"),"can't convert NilClass into time interval");w.$$is_number||this.$raise(x(J,"TypeError"),"can't convert "+w.$class()+" into time interval");0>w&&this.$raise(x(J,"ArgumentError"),"time interval must be positive");for(var U=a.global.performance?function(){return performance.now()}:function(){return new Date},pa=U();U()-pa<=1E3*w;);return Math.round(w)},Z.$$arity=-1);a.def(c,"$srand",P=function(w){null==w&&
(w=x(J,"Random").$new_seed());return x(J,"Random").$srand(w)},P.$$arity=-1);a.def(c,"$String",aa=function(w){var U;return q(U=x(J,"Opal")["$coerce_to?"](w,x(J,"String"),"to_str"))?U:x(J,"Opal")["$coerce_to!"](w,x(J,"String"),"to_s")},aa.$$arity=1);a.def(c,"$tap",T=function(){var w=T.$$p,U=w||p;w&&(T.$$p=null);w&&(T.$$p=null);a.yield1(U,this);return this},T.$$arity=0);a.def(c,"$to_proc",ha=function(){return this},ha.$$arity=0);a.def(c,"$to_s",la=function(){return"#<"+this.$class()+":0x"+this.$__id__().$to_s(16)+
">"},la.$$arity=0);a.def(c,"$catch",l=function(w){var U=l.$$p,pa=U||p;U&&(l.$$p=null);try{return a.yieldX(pa,[])}catch(Ja){if(a.rescue(Ja,[x(J,"UncaughtThrowError")])){U=Ja;try{return U.$sym()["$=="](w)?U.$arg():this.$raise()}finally{a.pop_exception()}}else throw Ja;}},l.$$arity=1);a.def(c,"$throw",C=function(w){var U=a.slice.call(arguments,0,arguments.length);return this.$raise(x(J,"UncaughtThrowError"),U)},C.$$arity=-1);a.def(c,"$open",M=function(w){var U=M.$$p,pa=U||p;U&&(M.$$p=null);U&&(M.$$p=
null);U=a.slice.call(arguments,0,arguments.length);return d(x(J,"File"),"open",a.to_a(U),pa.$to_proc())},M.$$arity=-1);a.def(c,"$yield_self",ca=function(){var w,U=ca.$$p,pa=U||p;U&&(ca.$$p=null);return pa===p?d(this,"enum_for",["yield_self"],(w=function(){return 1},w.$$s=this,w.$$arity=0,w)):a.yield1(pa,this)},ca.$$arity=0);a.alias(c,"then","yield_self");x(J,"Opal").$pristine(c,"method_missing")})(G[0],G);return function(c,$super,J){c=y(c,$super,"Object");J=[c].concat(J);return c.$include(x(J,"Kernel"))}(G[0],
null,G)};
Opal.modules["corelib/error"]=function(a){var v=[],G=a.nil,p=a.$$,r=a.klass,x=a.send,q=a.truthy,e=a.module,E=a.send2,B=a.hash2;a.add_stubs("$new $clone $to_s $empty? $class $raise $+ $attr_reader $[] $> $length $inspect".split(" "));(function(g,$super,y){g=r(g,$super,"Exception");var c=[g].concat(y),m,J,f,h,L,D,Q,ja,fa;g.$$prototype.message=G;a.defs(g,"$new",m=function(b){var n=a.slice.call(arguments,0,arguments.length);var k=0<n.length?n[0]:G,t=new this.$$constructor(k);t.name=this.$$name;t.message=
k;a.send(t,t.$initialize,n);a.config.enable_stack_trace&&Error.captureStackTrace&&Error.captureStackTrace(t,na);return t},m.$$arity=-1);var na=g.$new;a.defs(g,"$exception",J=function(b){var n=a.slice.call(arguments,0,arguments.length);return x(this,"new",a.to_a(n))},J.$$arity=-1);a.def(g,"$initialize",f=function(b){var n=a.slice.call(arguments,0,arguments.length);return this.message=0<n.length?n[0]:G},f.$$arity=-1);a.def(g,"$backtrace",h=function(){if(this.backtrace)return this.backtrace;var b=this.stack;
return"string"===typeof b?b.split("\n").slice(0,15):b?b.slice(0,15):[]},h.$$arity=0);a.def(g,"$exception",L=function(b){null==b&&(b=G);if(b===G||this===b)return this;var n=this.$clone();n.message=b;n.stack=this.stack;return n},L.$$arity=-1);a.def(g,"$message",D=function(){return this.$to_s()},D.$$arity=0);a.def(g,"$inspect",Q=function(){var b=this.$to_s();return q(b["$empty?"]())?this.$class().$to_s():"#<"+this.$class().$to_s()+": "+this.$to_s()+">"},Q.$$arity=0);a.def(g,"$set_backtrace",ja=function(b){var n=
!0,k;if(b===G)this.backtrace=G,this.stack="";else if(b.$$is_string)this.backtrace=[b],this.stack=b;else{if(b.$$is_array){var t=0;for(k=b.length;t<k;t++)if(!b[t].$$is_string){n=!1;break}}else n=!1;!1===n&&this.$raise(p(c,"TypeError"),"backtrace must be Array of String");this.backtrace=b;this.stack=b.join("\n")}return b},ja.$$arity=1);return(a.def(g,"$to_s",fa=function(){var b=G,n=G;return q(b=q(n=this.message)?this.message.$to_s():n)?b:this.$class().$to_s()},fa.$$arity=0),G)&&"to_s"})(v[0],Error,v);
(function(g,$super,y){[r(g,$super,"ScriptError")].concat(y);return G})(v[0],p(v,"Exception"),v);(function(g,$super,y){[r(g,$super,"SyntaxError")].concat(y);return G})(v[0],p(v,"ScriptError"),v);(function(g,$super,y){[r(g,$super,"LoadError")].concat(y);return G})(v[0],p(v,"ScriptError"),v);(function(g,$super,y){[r(g,$super,"NotImplementedError")].concat(y);return G})(v[0],p(v,"ScriptError"),v);(function(g,$super,y){[r(g,$super,"SystemExit")].concat(y);return G})(v[0],p(v,"Exception"),v);(function(g,
$super,y){[r(g,$super,"NoMemoryError")].concat(y);return G})(v[0],p(v,"Exception"),v);(function(g,$super,y){[r(g,$super,"SignalException")].concat(y);return G})(v[0],p(v,"Exception"),v);(function(g,$super,y){[r(g,$super,"Interrupt")].concat(y);return G})(v[0],p(v,"Exception"),v);(function(g,$super,y){[r(g,$super,"SecurityError")].concat(y);return G})(v[0],p(v,"Exception"),v);(function(g,$super,y){[r(g,$super,"StandardError")].concat(y);return G})(v[0],p(v,"Exception"),v);(function(g,$super,y){[r(g,
$super,"EncodingError")].concat(y);return G})(v[0],p(v,"StandardError"),v);(function(g,$super,y){[r(g,$super,"ZeroDivisionError")].concat(y);return G})(v[0],p(v,"StandardError"),v);(function(g,$super,y){[r(g,$super,"NameError")].concat(y);return G})(v[0],p(v,"StandardError"),v);(function(g,$super,y){[r(g,$super,"NoMethodError")].concat(y);return G})(v[0],p(v,"NameError"),v);(function(g,$super,y){[r(g,$super,"RuntimeError")].concat(y);return G})(v[0],p(v,"StandardError"),v);(function(g,$super,y){[r(g,
$super,"FrozenError")].concat(y);return G})(v[0],p(v,"RuntimeError"),v);(function(g,$super,y){[r(g,$super,"LocalJumpError")].concat(y);return G})(v[0],p(v,"StandardError"),v);(function(g,$super,y){[r(g,$super,"TypeError")].concat(y);return G})(v[0],p(v,"StandardError"),v);(function(g,$super,y){[r(g,$super,"ArgumentError")].concat(y);return G})(v[0],p(v,"StandardError"),v);(function(g,$super,y){[r(g,$super,"IndexError")].concat(y);return G})(v[0],p(v,"StandardError"),v);(function(g,$super,y){[r(g,
$super,"StopIteration")].concat(y);return G})(v[0],p(v,"IndexError"),v);(function(g,$super,y){[r(g,$super,"KeyError")].concat(y);return G})(v[0],p(v,"IndexError"),v);(function(g,$super,y){[r(g,$super,"RangeError")].concat(y);return G})(v[0],p(v,"StandardError"),v);(function(g,$super,y){[r(g,$super,"FloatDomainError")].concat(y);return G})(v[0],p(v,"RangeError"),v);(function(g,$super,y){[r(g,$super,"IOError")].concat(y);return G})(v[0],p(v,"StandardError"),v);(function(g,$super,y){[r(g,$super,"SystemCallError")].concat(y);
return G})(v[0],p(v,"StandardError"),v);(function(g,d){g=[e(g,"Errno")].concat(d);(function(y,$super,m){y=r(y,$super,"EINVAL");[y].concat(m);var J;return(a.defs(y,"$new",J=function(f){J.$$p&&(J.$$p=null);null==f&&(f=G);var h="Invalid argument";q(f)&&(f=" - "+f,h="number"===typeof h&&"number"===typeof f?h+f:h["$+"](f));return E(this,a.find_super_dispatcher(this,"new",J,!1,!0),"new",[h],null)},J.$$arity=-1),G)&&"new"})(g[0],p(g,"SystemCallError"),g)})(v[0],v);(function(g,$super,y){g=r(g,$super,"UncaughtThrowError");
[g].concat(y);var c;g.$$prototype.sym=G;g.$attr_reader("sym","arg");return(a.def(g,"$initialize",c=function(m){c.$$p&&(c.$$p=null);this.sym=m["$[]"](0);var J=m.$length();J="number"===typeof J?1<J:J["$>"](1);q(J)&&(this.arg=m["$[]"](1));return E(this,a.find_super_dispatcher(this,"initialize",c,!1,!0),"initialize",["uncaught throw "+this.sym.$inspect()],null)},c.$$arity=1),G)&&"initialize"})(v[0],p(v,"ArgumentError"),v);(function(g,$super,y){g=r(g,$super,"NameError");[g].concat(y);var c;g.$attr_reader("name");
return(a.def(g,"$initialize",c=function(m,J){c.$$p&&(c.$$p=null);null==J&&(J=G);E(this,a.find_super_dispatcher(this,"initialize",c,!1,!0),"initialize",[m],null);return this.name=J},c.$$arity=-2),G)&&"initialize"})(v[0],null,v);(function(g,$super,y){g=r(g,$super,"NoMethodError");[g].concat(y);var c;g.$attr_reader("args");return(a.def(g,"$initialize",c=function(m,J,f){c.$$p&&(c.$$p=null);null==J&&(J=G);null==f&&(f=[]);E(this,a.find_super_dispatcher(this,"initialize",c,!1,!0),"initialize",[m,J],null);
return this.args=f},c.$$arity=-2),G)&&"initialize"})(v[0],null,v);(function(g,$super,y){g=r(g,$super,"StopIteration");[g].concat(y);return g.$attr_reader("result")})(v[0],null,v);(function(g,$super,y){g=r(g,$super,"KeyError");var c=[g].concat(y),m,J,f;g.$$prototype.receiver=g.$$prototype.key=G;a.def(g,"$initialize",m=function(h,L){m.$$p&&(m.$$p=null);if(null==L)L=B([],{});else if(!L.$$is_hash)throw a.ArgumentError.$new("expected kwargs");var D=L.$$smap.receiver;null==D&&(D=G);L=L.$$smap.key;null==
L&&(L=G);E(this,a.find_super_dispatcher(this,"initialize",m,!1,!0),"initialize",[h],null);this.receiver=D;return this.key=L},m.$$arity=-2);a.def(g,"$receiver",J=function(){var h;return q(h=this.receiver)?h:this.$raise(p(c,"ArgumentError"),"no receiver is available")},J.$$arity=0);return(a.def(g,"$key",f=function(){var h;return q(h=this.key)?h:this.$raise(p(c,"ArgumentError"),"no key is available")},f.$$arity=0),G)&&"key"})(v[0],null,v);return function(g,d){g=[e(g,"JS")].concat(d);[r(g[0],null,"Error")].concat(g)}(v[0],
v)};
Opal.modules["corelib/constants"]=function(a){var v=[],G=a.$$;a.const_set(v[0],"RUBY_PLATFORM","opal");a.const_set(v[0],"RUBY_ENGINE","opal");a.const_set(v[0],"RUBY_VERSION","3.0.0");a.const_set(v[0],"RUBY_ENGINE_VERSION","1.1.1");a.const_set(v[0],"RUBY_RELEASE_DATE","2021-02-23");a.const_set(v[0],"RUBY_PATCHLEVEL",0);a.const_set(v[0],"RUBY_REVISION","0");a.const_set(v[0],"RUBY_COPYRIGHT","opal - Copyright (C) 2013-2021 Adam Beynon and the Opal contributors");return a.const_set(v[0],"RUBY_DESCRIPTION","opal "+
G(v,"RUBY_ENGINE_VERSION")+" ("+G(v,"RUBY_RELEASE_DATE")+" revision "+G(v,"RUBY_REVISION")+")")};Opal.modules["opal/base"]=function(a){var v=a.top;a.add_stubs(["$require"]);v.$require("corelib/runtime");v.$require("corelib/helpers");v.$require("corelib/module");v.$require("corelib/class");v.$require("corelib/basic_object");v.$require("corelib/kernel");v.$require("corelib/error");return v.$require("corelib/constants")};
Opal.modules["corelib/nil"]=function(a){var v=[],G=a.nil,p=a.$$,r=a.klass,x=a.hash2,q=a.truthy;a.add_stubs("$raise $name $new $> $length $Rational".split(" "));(function(e,$super,B){e=r(e,$super,"NilClass");var g=[e].concat(B),d,y,c,m,J,f,h,L,D,Q,ja,fa,na,b,n,k,t,z;e.$$prototype.$$meta=e;(function(F,H){var K=[F].concat(H),da;a.def(F,"$allocate",da=function(){return this.$raise(p(K,"TypeError"),"allocator undefined for "+this.$name())},da.$$arity=0);a.udef(F,"$new");return G})(a.get_singleton_class(e),
g);a.def(e,"$!",d=function(){return!0},d.$$arity=0);a.def(e,"$&",y=function(){return!1},y.$$arity=1);a.def(e,"$|",c=function(F){return!1!==F&&F!==G},c.$$arity=1);a.def(e,"$^",m=function(F){return!1!==F&&F!==G},m.$$arity=1);a.def(e,"$==",J=function(F){return F===G},J.$$arity=1);a.def(e,"$dup",f=function(){return G},f.$$arity=0);a.def(e,"$clone",h=function(F){if(null==F)x([],{});else if(!F.$$is_hash)throw a.ArgumentError.$new("expected kwargs");return G},h.$$arity=-1);a.def(e,"$inspect",L=function(){return"nil"},
L.$$arity=0);a.def(e,"$nil?",D=function(){return!0},D.$$arity=0);a.def(e,"$singleton_class",Q=function(){return p(g,"NilClass")},Q.$$arity=0);a.def(e,"$to_a",ja=function(){return[]},ja.$$arity=0);a.def(e,"$to_h",fa=function(){return a.hash()},fa.$$arity=0);a.def(e,"$to_i",na=function(){return 0},na.$$arity=0);a.alias(e,"to_f","to_i");a.def(e,"$to_s",b=function(){return""},b.$$arity=0);a.def(e,"$to_c",n=function(){return p(g,"Complex").$new(0,0)},n.$$arity=0);a.def(e,"$rationalize",k=function(F){var H=
a.slice.call(arguments,0,arguments.length).$length();H="number"===typeof H?1<H:H["$>"](1);q(H)&&this.$raise(p(g,"ArgumentError"));return this.$Rational(0,1)},k.$$arity=-1);a.def(e,"$to_r",t=function(){return this.$Rational(0,1)},t.$$arity=0);return(a.def(e,"$instance_variables",z=function(){return[]},z.$$arity=0),G)&&"instance_variables"})(v[0],null,v);return a.const_set(v[0],"NIL",G)};
Opal.modules["corelib/boolean"]=function(a){var v=[],G=a.nil,p=a.$$,r=a.klass,x=a.hash2;a.add_stubs(["$raise","$name"]);(function(q,$super,E){q=r(q,$super,"Boolean");var B=[q].concat(E),g,d,y,c,m,J,f,h,L,D;a.defineProperty(q.$$prototype,"$$is_boolean",!0);a.defineProperty(q.$$prototype,"$$meta",q);(function(Q,ja){var fa=[Q].concat(ja),na;a.def(Q,"$allocate",na=function(){return this.$raise(p(fa,"TypeError"),"allocator undefined for "+this.$name())},na.$$arity=0);a.udef(Q,"$new");return G})(a.get_singleton_class(q),
B);a.def(q,"$__id__",g=function(){return this.valueOf()?2:0},g.$$arity=0);a.alias(q,"object_id","__id__");a.def(q,"$!",d=function(){return 1!=this},d.$$arity=0);a.def(q,"$&",y=function(Q){return 1==this?!1!==Q&&Q!==G:!1},y.$$arity=1);a.def(q,"$|",c=function(Q){return 1==this?!0:!1!==Q&&Q!==G},c.$$arity=1);a.def(q,"$^",m=function(Q){return 1==this?!1===Q||Q===G:!1!==Q&&Q!==G},m.$$arity=1);a.def(q,"$==",J=function(Q){return 1==this===Q.valueOf()},J.$$arity=1);a.alias(q,"equal?","==");a.alias(q,"eql?",
"==");a.def(q,"$singleton_class",f=function(){return p(B,"Boolean")},f.$$arity=0);a.def(q,"$to_s",h=function(){return 1==this?"true":"false"},h.$$arity=0);a.def(q,"$dup",L=function(){return this},L.$$arity=0);return(a.def(q,"$clone",D=function(Q){if(null==Q)x([],{});else if(!Q.$$is_hash)throw a.ArgumentError.$new("expected kwargs");return this},D.$$arity=-1),G)&&"clone"})(v[0],Boolean,v);a.const_set(v[0],"TrueClass",p(v,"Boolean"));a.const_set(v[0],"FalseClass",p(v,"Boolean"));a.const_set(v[0],"TRUE",
!0);return a.const_set(v[0],"FALSE",!1)};
Opal.modules["corelib/comparable"]=function(a){function v(B,g){return"number"===typeof B&&"number"===typeof g?B>g:B["$>"](g)}function G(B,g){return"number"===typeof B&&"number"===typeof g?B<g:B["$<"](g)}var p=[],r=a.nil,x=a.$$,q=a.falsy,e=a.module,E=a.truthy;a.add_stubs("$> $< $=== $raise $class $<=> $equal?".split(" "));return function(B,g){function d(na){return a.is_a(na,a.Integer)?na:v(na,0)?1:G(na,0)?-1:0}function y(na,b){var n=na["$<=>"](b);q(n)&&(fa=b,b=r["$==="](fa)||(!0)["$==="](fa)||(!1)["$==="](fa)||
x(m,"Integer")["$==="](fa)||x(m,"Float")["$==="](fa)?b.$inspect():b.$$class,c.$raise(x(m,"ArgumentError"),"comparison of "+na.$class()+" with "+b+" failed"));return d(n)}var c=e(B,"Comparable"),m=[c].concat(g),J,f,h,L,D,Q,ja,fa=r;a.def(c,"$==",J=function(na){var b;return E(this["$equal?"](na))?!0:this["$<=>"]==a.Kernel["$<=>"]?!1:this.$$comparable?(delete this.$$comparable,!1):E(b=this["$<=>"](na))?0==d(b):!1},J.$$arity=1);a.def(c,"$>",f=function(na){return 0<y(this,na)},f.$$arity=1);a.def(c,"$>=",
h=function(na){return 0<=y(this,na)},h.$$arity=1);a.def(c,"$<",L=function(na){return 0>y(this,na)},L.$$arity=1);a.def(c,"$<=",D=function(na){return 0>=y(this,na)},D.$$arity=1);a.def(c,"$between?",Q=function(na,b){return G(this,na)||v(this,b)?!1:!0},Q.$$arity=2);a.def(c,"$clamp",ja=function(na,b){null==b&&(b=r);if(b===r){a.is_a(na,a.Range)||this.$raise(x(m,"TypeError"),"wrong argument type "+na.$class()+" (expected Range)");var n=na.excl;b=na.end;na=na.begin;b!==r&&n&&this.$raise(x(m,"ArgumentError"),
"cannot clamp with an exclusive range")}na!==r&&b!==r&&0<y(na,b)&&this.$raise(x(m,"ArgumentError"),"min argument must be smaller than max argument");if(na!==r){n=y(this,na);if(0==n)return this;if(0>n)return na}return b!==r&&(n=y(this,b),0<n)?b:this},ja.$$arity=-2)}(p[0],p)};
Opal.modules["corelib/regexp"]=function(a){var v=[],G=a.nil,p=a.$$,r=a.coerce_to,x=a.klass,q=a.send2,e=a.truthy,E=a.gvars,B=a.send;a.add_stubs("$nil? $[] $raise $escape $options $to_str $new $join $coerce_to! $! $match $coerce_to? $begin $=~ $attr_reader $=== $inspect $to_a".split(" "));(function(g,$super,y){[x(g,$super,"RegexpError")].concat(y);return G})(v[0],p(v,"StandardError"),v);(function(g,$super,y){g=x(g,$super,"Regexp");var c=[g].concat(y),m,J,f,h,L,D,Q,ja,fa,na;a.const_set(c[0],"IGNORECASE",
1);a.const_set(c[0],"EXTENDED",2);a.const_set(c[0],"MULTILINE",4);a.defineProperty(g.$$prototype,"$$is_regexp",!0);(function(b,n){var k=[b].concat(n),t,z,F,H,K;a.def(b,"$allocate",t=function(){var da=t.$$p,va;da&&(t.$$p=null);var Na=0;var wa=arguments.length;for(va=Array(wa);Na<wa;Na++)va[Na]=arguments[Na];da=q(this,a.find_super_dispatcher(this,"allocate",t,!1,!0),"allocate",va,da);da.uninitialized=!0;return da},t.$$arity=0);a.def(b,"$escape",z=function(da){return a.escape_regexp(da)},z.$$arity=1);
a.def(b,"$last_match",F=function(da){null==E["~"]&&(E["~"]=G);null==da&&(da=G);return e(da["$nil?"]())?E["~"]:E["~"]["$[]"](da)},F.$$arity=-1);a.alias(b,"quote","escape");a.def(b,"$union",H=function(da){var va=a.slice.call(arguments,0,arguments.length);if(0==va.length)return/(?!)/;if(1==va.length&&va[0].$$is_regexp)return va[0];var Na=va[0].$$is_array;1<va.length&&Na&&this.$raise(p(k,"TypeError"),"no implicit conversion of Array into String");Na&&(va=va[0]);var wa=void 0;Na=[];for(var Aa=0;Aa<va.length;Aa++){var Ka=
va[Aa];if(Ka.$$is_string)Na.push(this.$escape(Ka));else if(Ka.$$is_regexp){var oa=Ka.$options();void 0!=wa&&wa!=oa&&this.$raise(p(k,"TypeError"),"All expressions must use the same options");wa=oa;Na.push("("+Ka.source+")")}else Na.push(this.$escape(Ka.$to_str()))}return this.$new(Na.$join("|"),wa)},H.$$arity=-1);a.def(b,"$new",K=function(da,va){if(da.$$is_regexp)return new RegExp(da);da=p(k,"Opal")["$coerce_to!"](da,p(k,"String"),"to_str");"\\"===da.charAt(da.length-1)&&"\\"!==da.charAt(da.length-
2)&&this.$raise(p(k,"RegexpError"),"too short escape sequence: /"+da+"/");if(void 0===va||va["$!"]())return new RegExp(da);if(va.$$is_number){var Na="";p(k,"IGNORECASE")&va&&(Na+="i");p(k,"MULTILINE")&va&&(Na+="m");va=Na}else va="i";return new RegExp(da,va)},K.$$arity=-2);return a.alias(b,"compile","new")})(a.get_singleton_class(g),c);a.def(g,"$==",m=function(b){return b instanceof RegExp&&this.toString()===b.toString()},m.$$arity=1);a.def(g,"$===",J=function(b){return this.$match(p(c,"Opal")["$coerce_to?"](b,
p(c,"String"),"to_str"))!==G},J.$$arity=1);a.def(g,"$=~",f=function(b){var n;null==E["~"]&&(E["~"]=G);return e(n=this.$match(b))?E["~"].$begin(0):n},f.$$arity=1);a.alias(g,"eql?","==");a.def(g,"$inspect",h=function(){var b=this.toString(),n=/^\/(.*)\/([^\/]*)$/.exec(b);if(n){b=n[2];n=n[1].split("");for(var k=n.length,t=!1,z="",F=0;F<k;F++){var H=n[F];t||"/"!=H||(z=z.concat("\\"));z=z.concat(H);t="\\"==H?t?!1:!0:!1}return"/"+z+"/"+b}return b},h.$$arity=0);a.def(g,"$match",L=function(b,n){var k=L.$$p,
t=k||G;null==E["~"]&&(E["~"]=G);k&&(L.$$p=null);k&&(L.$$p=null);this.uninitialized&&this.$raise(p(c,"TypeError"),"uninitialized Regexp");if(void 0===n)return b===G?E["~"]=G:(b=this.exec(r(b,p(c,"String"),"to_str")))?(E["~"]=p(c,"MatchData").$new(this,b),t===G?E["~"]:a.yield1(t,E["~"])):E["~"]=G;n=r(n,p(c,"Integer"),"to_int");if(b===G)return E["~"]=G;b=r(b,p(c,"String"),"to_str");if(0>n&&(n+=b.length,0>n))return E["~"]=G;for(var z=a.global_regexp(this);;){k=z.exec(b);if(null===k)return E["~"]=G;if(k.index>=
n)return E["~"]=p(c,"MatchData").$new(z,k),t===G?E["~"]:a.yield1(t,E["~"]);z.lastIndex=k.index+1}},L.$$arity=-2);a.def(g,"$match?",D=function(b,n){this.uninitialized&&this.$raise(p(c,"TypeError"),"uninitialized Regexp");if(void 0===n)return b===G?!1:this.test(r(b,p(c,"String"),"to_str"));n=r(n,p(c,"Integer"),"to_int");if(b===G)return!1;b=r(b,p(c,"String"),"to_str");if(0>n&&(n+=b.length,0>n))return!1;b=a.global_regexp(this).exec(b);return null===b||b.index<n?!1:!0},D.$$arity=-2);a.def(g,"$~",Q=function(){null==
E._&&(E._=G);return this["$=~"](E._)},Q.$$arity=0);a.def(g,"$source",ja=function(){return this.source},ja.$$arity=0);a.def(g,"$options",fa=function(){this.uninitialized&&this.$raise(p(c,"TypeError"),"uninitialized Regexp");var b=0;this.multiline&&(b|=p(c,"MULTILINE"));this.ignoreCase&&(b|=p(c,"IGNORECASE"));return b},fa.$$arity=0);a.def(g,"$casefold?",na=function(){return this.ignoreCase},na.$$arity=0);return a.alias(g,"to_s","source")})(v[0],RegExp,v);return function(g,$super,y){g=x(g,$super,"MatchData");
var c=[g].concat(y),m,J,f,h,L,D,Q,ja,fa,na,b,n;g.$$prototype.matches=G;g.$attr_reader("post_match","pre_match","regexp","string");a.def(g,"$initialize",m=function(k,t){E["~"]=this;this.regexp=k;this.begin=t.index;this.string=t.input;this.pre_match=t.input.slice(0,t.index);this.post_match=t.input.slice(t.index+t[0].length);this.matches=[];k=0;for(var z=t.length;k<z;k++){var F=t[k];null==F?this.matches.push(G):this.matches.push(F)}},m.$$arity=2);a.def(g,"$[]",J=function(k){var t=a.slice.call(arguments,
0,arguments.length);return B(this.matches,"[]",a.to_a(t))},J.$$arity=-1);a.def(g,"$offset",f=function(k){0!==k&&this.$raise(p(c,"ArgumentError"),"MatchData#offset only supports 0th element");return[this.begin,this.begin+this.matches[k].length]},f.$$arity=1);a.def(g,"$==",h=function(k){var t=G,z=G,F=G,H=G;return e(p(c,"MatchData")["$==="](k))?e(t=e(z=e(F=e(H=this.string==k.string)?this.regexp.toString()==k.regexp.toString():H)?this.pre_match==k.pre_match:F)?this.post_match==k.post_match:z)?this.begin==
k.begin:t:!1},h.$$arity=1);a.alias(g,"eql?","==");a.def(g,"$begin",L=function(k){0!==k&&this.$raise(p(c,"ArgumentError"),"MatchData#begin only supports 0th element");return this.begin},L.$$arity=1);a.def(g,"$end",D=function(k){0!==k&&this.$raise(p(c,"ArgumentError"),"MatchData#end only supports 0th element");return this.begin+this.matches[k].length},D.$$arity=1);a.def(g,"$captures",Q=function(){return this.matches.slice(1)},Q.$$arity=0);a.def(g,"$inspect",ja=function(){for(var k="#<MatchData "+this.matches[0].$inspect(),
t=1,z=this.matches.length;t<z;t++)k+=" "+t+":"+this.matches[t].$inspect();return k+">"},ja.$$arity=0);a.def(g,"$length",fa=function(){return this.matches.length},fa.$$arity=0);a.alias(g,"size","length");a.def(g,"$to_a",na=function(){return this.matches},na.$$arity=0);a.def(g,"$to_s",b=function(){return this.matches[0]},b.$$arity=0);return(a.def(g,"$values_at",n=function(k){var t=a.slice.call(arguments,0,arguments.length);var z,F=[];for(z=0;z<t.length;z++){if(t[z].$$is_range){var H=t[z].$to_a();H.unshift(z,
1);Array.prototype.splice.apply(t,H)}H=p(c,"Opal")["$coerce_to!"](t[z],p(c,"Integer"),"to_int");if(0>H&&(H+=this.matches.length,0>H)){F.push(G);continue}F.push(this.matches[H])}return F},n.$$arity=-1),G)&&"values_at"}(v[0],null,v)};
Opal.modules["corelib/string"]=function(a){function v(m,J){return"number"===typeof m&&"number"===typeof J?m/J:m["$/"](J)}function G(m,J){return"number"===typeof m&&"number"===typeof J?m+J:m["$+"](J)}var p=a.top,r=[],x=a.nil,q=a.$$$,e=a.$$,E=a.coerce_to,B=a.respond_to,g=a.klass,d=a.truthy,y=a.send,c=a.gvars;a.add_stubs("$require $include $coerce_to? $raise $=== $format $to_s $respond_to? $to_str $<=> $== $=~ $new $force_encoding $casecmp $empty? $ljust $ceil $/ $+ $rjust $floor $to_a $each_char $to_proc $coerce_to! $copy_singleton_methods $initialize_clone $initialize_dup $enum_for $size $chomp $[] $to_i $each_line $encoding $class $match $match? $captures $proc $succ $escape $include? $upcase $unicode_normalize".split(" "));
p.$require("corelib/comparable");p.$require("corelib/regexp");(function(m,$super,f){function h(A){function N(Ta){var Xa="",fb,qb=Ta.length;for(fb=0;fb<qb;fb++){var nb=Ta.charAt(fb);if("-"===nb&&0<fb&&fb<qb-1&&!pb){var pb=Ta.charCodeAt(fb-1);nb=Ta.charCodeAt(fb+1);pb>nb&&L.$raise(e(D,"ArgumentError"),'invalid range "'+pb+"-"+nb+'" in string transliteration');for(pb+=1;pb<nb+1;pb++)Xa+=String.fromCharCode(pb);pb=!0;fb++}else pb="\\"===nb,Xa+=nb}return Xa}function ra(Ta,Xa){if(0===Ta.length)return Xa;
var fb="",qb,nb=Ta.length;for(qb=0;qb<nb;qb++){var pb=Ta.charAt(qb);-1!==Xa.indexOf(pb)&&(fb+=pb)}return fb}var Ga,Ba="",Ia="";var Wa=0;for(Ga=A.length;Wa<Ga;Wa++){var gb=E(A[Wa],e(D,"String"),"to_str");var db="^"===gb.charAt(0)&&1<gb.length;gb=N(db?gb.slice(1):gb);db?Ia=ra(Ia,gb):Ba=ra(Ba,gb)}if(0<Ba.length&&0<Ia.length){gb="";Wa=0;for(Ga=Ba.length;Wa<Ga;Wa++)A=Ba.charAt(Wa),-1===Ia.indexOf(A)&&(gb+=A);Ba=gb;Ia=""}return 0<Ba.length?"["+e(D,"Regexp").$escape(Ba)+"]":0<Ia.length?"[^"+e(D,"Regexp").$escape(Ia)+
"]":null}var L=g(m,$super,"String"),D=[L].concat(f),Q,ja,fa,na,b,n,k,t,z,F,H,K,da,va,Na,wa,Aa,Ka,oa,R,sa,ba,ka,Y,S,V,ta,Da,ma,xa,Ha,Ea,Sa,Qa,Oa,kb,lb,W,ya,Ca,Va,hb,cb,$a,ab,za,ua,La,Ra,Ya,Fa,Z,P,aa,T,ha,la,l,C,M,ca,w,U,pa,Ja,ib,ob,mb,sb,tb,wb,xb,ub,X,Ma,bb;L.$include(e(D,"Comparable"));a.defineProperty(L.$$prototype,"$$is_string",!0);a.defineProperty(L.$$prototype,"$$cast",function(A){var N=this.$$class;return N.$$constructor===String?A:new N.$$constructor(A)});a.def(L,"$__id__",Q=function(){return this.toString()},
Q.$$arity=0);a.alias(L,"object_id","__id__");a.defs(L,"$try_convert",ja=function(A){return e(D,"Opal")["$coerce_to?"](A,e(D,"String"),"to_str")},ja.$$arity=1);a.defs(L,"$new",fa=function(A){null==A&&(A="");A=E(A,e(D,"String"),"to_str");return new this.$$constructor(A)},fa.$$arity=-1);a.def(L,"$initialize",na=function(A){return void 0===A?this:this.$raise(e(D,"NotImplementedError"),"Mutable strings are not supported in Opal.")},na.$$arity=-1);a.def(L,"$%",b=function(A){return d(e(D,"Array")["$==="](A))?
y(this,"format",[this].concat(a.to_a(A))):this.$format(this,A)},b.$$arity=1);a.def(L,"$*",n=function(A){A=E(A,e(D,"Integer"),"to_int");0>A&&this.$raise(e(D,"ArgumentError"),"negative argument");if(0===A)return this.$$cast("");var N="",ra=this.toString();for(268435456<=ra.length*A&&this.$raise(e(D,"RangeError"),"multiply count must not overflow maximum string size");;){1===(A&1)&&(N+=ra);A>>>=1;if(0===A)break;ra+=ra}return this.$$cast(N)},n.$$arity=1);a.def(L,"$+",k=function(A){A=E(A,e(D,"String"),
"to_str");return this+A.$to_s()},k.$$arity=1);a.def(L,"$<=>",t=function(A){if(d(A["$respond_to?"]("to_str")))return A=A.$to_str().$to_s(),this>A?1:this<A?-1:0;A=A["$<=>"](this);return A===x?x:0<A?-1:0>A?1:0},t.$$arity=1);a.def(L,"$==",z=function(A){return A.$$is_string?this.toString()===A.toString():B(A,"$to_str")?A["$=="](this):!1},z.$$arity=1);a.alias(L,"eql?","==");a.alias(L,"===","==");a.def(L,"$=~",F=function(A){A.$$is_string&&this.$raise(e(D,"TypeError"),"type mismatch: String given");return A["$=~"](this)},
F.$$arity=1);a.def(L,"$[]",H=function(A,N){var ra=this.length;if(A.$$is_range){var Ga=A.excl;N=E(A.end,e(D,"Integer"),"to_int");A=E(A.begin,e(D,"Integer"),"to_int");if(Math.abs(A)>ra)return x;0>A&&(A+=ra);0>N&&(N+=ra);Ga||(N+=1);N-=A;0>N&&(N=0);return this.$$cast(this.substr(A,N))}if(A.$$is_string)return null!=N&&this.$raise(e(D,"TypeError")),-1!==this.indexOf(A)?this.$$cast(A):x;if(A.$$is_regexp){ra=this.match(A);if(null===ra)return c["~"]=x;c["~"]=e(D,"MatchData").$new(A,ra);if(null==N)return this.$$cast(ra[0]);
N=E(N,e(D,"Integer"),"to_int");return 0>N&&-N<ra.length?this.$$cast(ra[N+ra.length]):0<=N&&N<ra.length?this.$$cast(ra[N]):x}A=E(A,e(D,"Integer"),"to_int");0>A&&(A+=ra);if(null==N)return A>=ra||0>A?x:this.$$cast(this.substr(A,1));N=E(N,e(D,"Integer"),"to_int");return 0>N||A>ra||0>A?x:this.$$cast(this.substr(A,N))},H.$$arity=-2);a.alias(L,"byteslice","[]");a.def(L,"$b",K=function(){return this.$force_encoding("binary")},K.$$arity=0);a.def(L,"$capitalize",da=function(){return this.$$cast(this.charAt(0).toUpperCase()+
this.substr(1).toLowerCase())},da.$$arity=0);a.def(L,"$casecmp",va=function(A){var N=this;if(!d(A["$respond_to?"]("to_str")))return x;A=E(A,e(D,"String"),"to_str").$to_s();var ra=/^[\x00-\x7F]*$/;ra.test(N)&&ra.test(A)&&(N=N.toLowerCase(),A=A.toLowerCase());return N["$<=>"](A)},va.$$arity=1);a.def(L,"$casecmp?",Na=function(A){A=this.$casecmp(A);return A===x?x:0===A},Na.$$arity=1);a.def(L,"$center",wa=function(A,N){null==N&&(N=" ");A=E(A,e(D,"Integer"),"to_int");N=E(N,e(D,"String"),"to_str").$to_s();
d(N["$empty?"]())&&this.$raise(e(D,"ArgumentError"),"zero width padding");if(d(A<=this.length))return this;var ra=this.$ljust(v(G(A,this.length),2).$ceil(),N);A=this.$rjust(v(G(A,this.length),2).$floor(),N);return this.$$cast(A+ra.slice(this.length))},wa.$$arity=-2);a.def(L,"$chars",Aa=function(){var A=Aa.$$p,N=A||x;A&&(Aa.$$p=null);A&&(Aa.$$p=null);return d(N)?y(this,"each_char",[],N.$to_proc()):this.$each_char().$to_a()},Aa.$$arity=0);a.def(L,"$chomp",Ka=function(A){null==c["/"]&&(c["/"]=x);null==
A&&(A=c["/"]);if(d(A===x||0===this.length))return this;A=e(D,"Opal")["$coerce_to!"](A,e(D,"String"),"to_str").$to_s();var N;"\n"===A?N=this.replace(/\r?\n?$/,""):""===A?N=this.replace(/(\r?\n)+$/,""):this.length>=A.length&&this.substr(this.length-A.length,A.length)===A&&(N=this.substr(0,this.length-A.length));return null!=N?this.$$cast(N):this},Ka.$$arity=-1);a.def(L,"$chop",oa=function(){var A=this.length;A=1>=A?"":"\n"===this.charAt(A-1)&&"\r"===this.charAt(A-2)?this.substr(0,A-2):this.substr(0,
A-1);return this.$$cast(A)},oa.$$arity=0);a.def(L,"$chr",R=function(){return this.charAt(0)},R.$$arity=0);a.def(L,"$clone",sa=function(){var A=new String(this);A.$copy_singleton_methods(this);A.$initialize_clone(this);return A},sa.$$arity=0);a.def(L,"$dup",ba=function(){var A=new String(this);A.$initialize_dup(this);return A},ba.$$arity=0);a.def(L,"$count",ka=function(A){var N=a.slice.call(arguments,0,arguments.length);0===N.length&&this.$raise(e(D,"ArgumentError"),"ArgumentError: wrong number of arguments (0 for 1+)");
N=h(N);return null===N?0:this.length-this.replace(new RegExp(N,"g"),"").length},ka.$$arity=-1);a.def(L,"$delete",Y=function(A){var N=a.slice.call(arguments,0,arguments.length);0===N.length&&this.$raise(e(D,"ArgumentError"),"ArgumentError: wrong number of arguments (0 for 1+)");N=h(N);return null===N?this:this.$$cast(this.replace(new RegExp(N,"g"),""))},Y.$$arity=-1);a.def(L,"$delete_prefix",S=function(A){A.$$is_string||(A=E(A,e(D,"String"),"to_str"));return this.slice(0,A.length)===A?this.$$cast(this.slice(A.length)):
this},S.$$arity=1);a.def(L,"$delete_suffix",V=function(A){A.$$is_string||(A=E(A,e(D,"String"),"to_str"));return this.slice(this.length-A.length)===A?this.$$cast(this.slice(0,this.length-A.length)):this},V.$$arity=1);a.def(L,"$downcase",ta=function(){return this.$$cast(this.toLowerCase())},ta.$$arity=0);a.def(L,"$each_char",Da=function(){var A=Da.$$p,N=A||x,ra;A&&(Da.$$p=null);A&&(Da.$$p=null);if(N===x)return y(this,"enum_for",["each_char"],(ra=function(){return(null==ra.$$s?this:ra.$$s).$size()},
ra.$$s=this,ra.$$arity=0,ra));A=0;for(var Ga=this.length;A<Ga;A++)a.yield1(N,this.charAt(A));return this},Da.$$arity=0);a.def(L,"$each_line",ma=function(A){var N=ma.$$p,ra=N||x;null==c["/"]&&(c["/"]=x);N&&(ma.$$p=null);N&&(ma.$$p=null);null==A&&(A=c["/"]);if(ra===x)return this.$enum_for("each_line",A);if(A===x)return a.yield1(ra,this),this;A=E(A,e(D,"String"),"to_str");var Ga,Ba;if(0===A.length){A=this.split(/(\n{2,})/);N=0;for(Ga=A.length;N<Ga;N+=2)(A[N]||A[N+1])&&a.yield1(ra,this.$$cast((A[N]||
"")+(A[N+1]||"")));return this}N=this.$chomp(A);Ga=this.length!=N.length;var Ia=N.split(A);N=0;for(Ba=Ia.length;N<Ba;N++)N<Ba-1||Ga?a.yield1(ra,this.$$cast(Ia[N]+A)):a.yield1(ra,this.$$cast(Ia[N]));return this},ma.$$arity=-1);a.def(L,"$empty?",xa=function(){return 0===this.length},xa.$$arity=0);a.def(L,"$end_with?",Ha=function(A){var N=a.slice.call(arguments,0,arguments.length);for(var ra=0,Ga=N.length;ra<Ga;ra++){var Ba=E(N[ra],e(D,"String"),"to_str").$to_s();if(this.length>=Ba.length&&this.substr(this.length-
Ba.length,Ba.length)==Ba)return!0}return!1},Ha.$$arity=-1);a.alias(L,"equal?","===");a.def(L,"$gsub",Ea=function(A,N){var ra=Ea.$$p,Ga=ra||x,Ba=this;ra&&(Ea.$$p=null);ra&&(Ea.$$p=null);if(void 0===N&&Ga===x)return Ba.$enum_for("gsub",A);ra="";var Ia=x,Wa=0;A.$$is_regexp?A=a.global_multiline_regexp(A):(A=E(A,e(D,"String"),"to_str"),A=new RegExp(A.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));for(var gb;;){var db=A.exec(Ba);if(null===db){c["~"]=x;ra+=Ba.slice(Wa);break}Ia=e(D,"MatchData").$new(A,db);
if(void 0===N){gb=A.lastIndex;var Ta=Ga(db[0]);A.lastIndex=gb}else N.$$is_hash?Ta=N["$[]"](db[0]).$to_s():(N.$$is_string||(N=E(N,e(D,"String"),"to_str")),Ta=N.replace(/([\\]+)([0-9+&`'])/g,function(Xa,fb,qb){if(0===fb.length%2)return Xa;switch(qb){case "+":for(Xa=db.length-1;0<Xa;Xa--)if(void 0!==db[Xa])return fb.slice(1)+db[Xa];return"";case "&":return fb.slice(1)+db[0];case "`":return fb.slice(1)+Ba.slice(0,db.index);case "'":return fb.slice(1)+Ba.slice(db.index+db[0].length);default:return fb.slice(1)+
(db[qb]||"")}}).replace(/\\\\/g,"\\"));A.lastIndex===db.index?(ra+=Ba.slice(Wa,db.index)+Ta+(Ba[db.index]||""),A.lastIndex+=1):ra+=Ba.slice(Wa,db.index)+Ta;Wa=A.lastIndex}c["~"]=Ia;return Ba.$$cast(ra)},Ea.$$arity=-2);a.def(L,"$hash",Sa=function(){return this.toString()},Sa.$$arity=0);a.def(L,"$hex",Qa=function(){return this.$to_i(16)},Qa.$$arity=0);a.def(L,"$include?",Oa=function(A){A.$$is_string||(A=E(A,e(D,"String"),"to_str"));return-1!==this.indexOf(A)},Oa.$$arity=1);a.def(L,"$index",kb=function(A,
N){var ra;if(void 0===N)N=0;else if(N=E(N,e(D,"Integer"),"to_int"),0>N&&(N+=this.length,0>N))return x;if(A.$$is_regexp)for(ra=a.global_multiline_regexp(A);;){A=ra.exec(this);if(null===A){c["~"]=x;N=-1;break}if(A.index>=N){c["~"]=e(D,"MatchData").$new(ra,A);N=A.index;break}ra.lastIndex=A.index+1}else A=E(A,e(D,"String"),"to_str"),N=0===A.length&&N>this.length?-1:this.indexOf(A,N);return-1===N?x:N},kb.$$arity=-2);a.def(L,"$inspect",lb=function(){var A={"\u0007":"\\a","\u001b":"\\e","\b":"\\b","\t":"\\t",
"\n":"\\n","\f":"\\f","\r":"\\r","\x0B":"\\v",'"':'\\"',"\\":"\\\\"};return'"'+this.replace(/[\\"\x00-\x1f\u007F-\u009F\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,function(N){return A[N]||"\\u"+("0000"+N.charCodeAt(0).toString(16).toUpperCase()).slice(-4)}).replace(/#[\$@\{]/g,"\\$&")+'"'},lb.$$arity=0);a.def(L,"$intern",W=function(){return this.toString()},W.$$arity=0);a.def(L,"$lines",ya=function(A){var N=ya.$$p,ra=N||x;null==c["/"]&&(c["/"]=x);N&&
(ya.$$p=null);N&&(ya.$$p=null);null==A&&(A=c["/"]);A=y(this,"each_line",[A],ra.$to_proc());return d(ra)?this:A.$to_a()},ya.$$arity=-1);a.def(L,"$length",Ca=function(){return this.length},Ca.$$arity=0);a.def(L,"$ljust",Va=function(A,N){null==N&&(N=" ");A=E(A,e(D,"Integer"),"to_int");N=E(N,e(D,"String"),"to_str").$to_s();d(N["$empty?"]())&&this.$raise(e(D,"ArgumentError"),"zero width padding");if(d(A<=this.length))return this;var ra=-1,Ga="";for(A-=this.length;++ra<A;)Ga+=N;return this.$$cast(this+
Ga.slice(0,A))},Va.$$arity=-2);a.def(L,"$lstrip",hb=function(){return this.replace(/^\s*/,"")},hb.$$arity=0);a.def(L,"$ascii_only?",cb=function(){return this.$encoding()["$=="](q(e(D,"Encoding"),"UTF_16BE"))?!1:/^[\x00-\x7F]*$/.test(this)},cb.$$arity=0);a.def(L,"$match",$a=function(A,N){var ra=$a.$$p,Ga=ra||x,Ba=x;ra&&($a.$$p=null);ra&&($a.$$p=null);d(d(Ba=e(D,"String")["$==="](A))?Ba:A["$respond_to?"]("to_str"))&&(A=e(D,"Regexp").$new(A.$to_str()));d(e(D,"Regexp")["$==="](A))||this.$raise(e(D,"TypeError"),
"wrong argument type "+A.$class()+" (expected Regexp)");return y(A,"match",[this,N],Ga.$to_proc())},$a.$$arity=-2);a.def(L,"$match?",ab=function(A,N){var ra=x;d(d(ra=e(D,"String")["$==="](A))?ra:A["$respond_to?"]("to_str"))&&(A=e(D,"Regexp").$new(A.$to_str()));d(e(D,"Regexp")["$==="](A))||this.$raise(e(D,"TypeError"),"wrong argument type "+A.$class()+" (expected Regexp)");return A["$match?"](this,N)},ab.$$arity=-2);a.def(L,"$next",za=function(){var A=this.length;if(0===A)return this.$$cast("");for(var N=
this,ra=this.search(/[a-zA-Z0-9]/),Ga,Ba;A--;){Ba=this.charCodeAt(A);if(48<=Ba&&57>=Ba||65<=Ba&&90>=Ba||97<=Ba&&122>=Ba)switch(Ba){case 57:Ga=!0;Ba=48;break;case 90:Ga=!0;Ba=65;break;case 122:Ga=!0;Ba=97;break;default:Ga=!1,Ba+=1}else-1===ra?255===Ba?(Ga=!0,Ba=0):(Ga=!1,Ba+=1):Ga=!0;N=N.slice(0,A)+String.fromCharCode(Ba)+N.slice(A+1);if(Ga&&(0===A||A===ra)){switch(Ba){case 65:break;case 97:break;default:Ba+=1}N=0===A?String.fromCharCode(Ba)+N:N.slice(0,A)+String.fromCharCode(Ba)+N.slice(A);Ga=!1}if(!Ga)break}return this.$$cast(N)},
za.$$arity=0);a.def(L,"$oct",ua=function(){var A=this;var N=8;if(/^\s*_/.test(A))return 0;A=A.replace(/^(\s*[+-]?)(0[bodx]?)(.+)$/i,function(ra,Ga,Ba,Ia){switch(Ia.charAt(0)){case "+":case "-":return ra;case "0":if("x"===Ia.charAt(1)&&"0x"===Ba)return ra}switch(Ba){case "0b":N=2;break;case "0":case "0o":N=8;break;case "0d":N=10;break;case "0x":N=16}return Ga+Ia});A=parseInt(A.replace(/_(?!_)/g,""),N);return isNaN(A)?0:A},ua.$$arity=0);a.def(L,"$ord",La=function(){return this.charCodeAt(0)},La.$$arity=
0);a.def(L,"$partition",Ra=function(A){if(A.$$is_regexp){var N=A.exec(this);null===N?N=-1:(e(D,"MatchData").$new(A,N),A=N[0],N=N.index)}else A=E(A,e(D,"String"),"to_str"),N=this.indexOf(A);return-1===N?[this,"",""]:[this.slice(0,N),this.slice(N,N+A.length),this.slice(N+A.length)]},Ra.$$arity=1);a.def(L,"$reverse",Ya=function(){return this.split("").reverse().join("")},Ya.$$arity=0);a.def(L,"$rindex",Fa=function(A,N){if(void 0===N)N=this.length;else if(N=E(N,e(D,"Integer"),"to_int"),0>N&&(N+=this.length,
0>N))return x;if(A.$$is_regexp){var ra=null;for(A=a.global_multiline_regexp(A);;){var Ga=A.exec(this);if(null===Ga||Ga.index>N)break;ra=Ga;A.lastIndex=ra.index+1}null===ra?(c["~"]=x,N=-1):(e(D,"MatchData").$new(A,ra),N=ra.index)}else A=E(A,e(D,"String"),"to_str"),N=this.lastIndexOf(A,N);return-1===N?x:N},Fa.$$arity=-2);a.def(L,"$rjust",Z=function(A,N){null==N&&(N=" ");A=E(A,e(D,"Integer"),"to_int");N=E(N,e(D,"String"),"to_str").$to_s();d(N["$empty?"]())&&this.$raise(e(D,"ArgumentError"),"zero width padding");
if(d(A<=this.length))return this;A=Math.floor(A-this.length);var ra=Array(Math.floor(A/N.length)+1).join(N);return this.$$cast(ra+N.slice(0,A-ra.length)+this)},Z.$$arity=-2);a.def(L,"$rpartition",P=function(A){var N;if(A.$$is_regexp){var ra=null;for(N=a.global_multiline_regexp(A);;){var Ga=N.exec(this);if(null===Ga)break;ra=Ga;N.lastIndex=ra.index+1}null===ra?ra=-1:(e(D,"MatchData").$new(N,ra),A=ra[0],ra=ra.index)}else A=E(A,e(D,"String"),"to_str"),ra=this.lastIndexOf(A);return-1===ra?["","",this]:
[this.slice(0,ra),this.slice(ra,ra+A.length),this.slice(ra+A.length)]},P.$$arity=1);a.def(L,"$rstrip",aa=function(){return this.replace(/[\s\u0000]*$/,"")},aa.$$arity=0);a.def(L,"$scan",T=function(A){var N=T.$$p,ra=N||x;N&&(T.$$p=null);N&&(T.$$p=null);N=[];var Ga=x,Ba;A.$$is_regexp?A=a.global_multiline_regexp(A):(A=E(A,e(D,"String"),"to_str"),A=new RegExp(A.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));for(;null!=(Ba=A.exec(this));)Ga=e(D,"MatchData").$new(A,Ba),ra===x?1==Ba.length?N.push(Ba[0]):N.push(Ga.$captures()):
1==Ba.length?ra(Ba[0]):ra.call(this,Ga.$captures()),A.lastIndex===Ba.index&&(A.lastIndex+=1);c["~"]=Ga;return ra!==x?this:N},T.$$arity=1);a.alias(L,"size","length");a.alias(L,"slice","[]");a.def(L,"$split",ha=function(A,N){function ra(){for(gb=0;gb<Ia.length;gb++)Ia[gb]=Ga.$$cast(Ia[gb])}var Ga=this,Ba=x;null==c[";"]&&(c[";"]=x);if(0===Ga.length)return[];if(void 0===N)N=0;else if(N=e(D,"Opal")["$coerce_to!"](N,e(D,"Integer"),"to_int"),1===N)return[Ga];if(void 0===A||A===x)A=d(Ba=c[";"])?Ba:" ";var Ia=
[];Ba=Ga.toString();var Wa=0,gb;A.$$is_regexp?A=a.global_multiline_regexp(A):(A=E(A,e(D,"String"),"to_str").$to_s()," "===A?(A=/\s+/gm,Ba=Ba.replace(/^\s+/,"")):A=new RegExp(A.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));Ia=Ba.split(A);if(1===Ia.length&&Ia[0]===Ba)return[Ga.$$cast(Ia[0])];for(;-1!==(gb=Ia.indexOf(void 0));)Ia.splice(gb,1);if(0===N){for(;""===Ia[Ia.length-1];)--Ia.length;ra();return Ia}var db=A.exec(Ba);if(0>N){if(null!==db&&""===db[0]&&-1===A.source.indexOf("(?="))for(gb=0,A=db.length;gb<
A;gb++)Ia.push("");ra();return Ia}if(null!==db&&""===db[0])return Ia.splice(N-1,Ia.length-1,Ia.slice(N-1).join("")),ra(),Ia;if(N>=Ia.length)return ra(),Ia;for(gb=0;null!==db;){gb++;Wa=A.lastIndex;if(gb+1===N)break;db=A.exec(Ba)}Ia.splice(N-1,Ia.length-1,Ba.slice(Wa));ra();return Ia},ha.$$arity=-1);a.def(L,"$squeeze",la=function(A){var N=a.slice.call(arguments,0,arguments.length);if(0===N.length)return this.$$cast(this.replace(/(.)\1+/g,"$1"));N=h(N);return null===N?this:this.$$cast(this.replace(new RegExp("("+
N+")\\1+","g"),"$1"))},la.$$arity=-1);a.def(L,"$start_with?",l=function(A){var N=a.slice.call(arguments,0,arguments.length);for(var ra=0,Ga=N.length;ra<Ga;ra++){var Ba=E(N[ra],e(D,"String"),"to_str").$to_s();if(0===this.indexOf(Ba))return!0}return!1},l.$$arity=-1);a.def(L,"$strip",C=function(){return this.replace(/^\s*/,"").replace(/[\s\u0000]*$/,"")},C.$$arity=0);a.def(L,"$sub",M=function(A,N){var ra=M.$$p,Ga=ra||x,Ba=this;ra&&(M.$$p=null);ra&&(M.$$p=null);A.$$is_regexp||(A=E(A,e(D,"String"),"to_str"),
A=new RegExp(A.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")));var Ia=A.exec(Ba);null===Ia?(c["~"]=x,A=Ba.toString()):(e(D,"MatchData").$new(A,Ia),void 0===N?(Ga===x&&Ba.$raise(e(D,"ArgumentError"),"wrong number of arguments (1 for 2)"),A=Ba.slice(0,Ia.index)+Ga(Ia[0])+Ba.slice(Ia.index+Ia[0].length)):N.$$is_hash?A=Ba.slice(0,Ia.index)+N["$[]"](Ia[0]).$to_s()+Ba.slice(Ia.index+Ia[0].length):(N=E(N,e(D,"String"),"to_str"),N=N.replace(/([\\]+)([0-9+&`'])/g,function(Wa,gb,db){if(0===gb.length%2)return Wa;switch(db){case "+":for(Wa=
Ia.length-1;0<Wa;Wa--)if(void 0!==Ia[Wa])return gb.slice(1)+Ia[Wa];return"";case "&":return gb.slice(1)+Ia[0];case "`":return gb.slice(1)+Ba.slice(0,Ia.index);case "'":return gb.slice(1)+Ba.slice(Ia.index+Ia[0].length);default:return gb.slice(1)+(Ia[db]||"")}}).replace(/\\\\/g,"\\"),A=Ba.slice(0,Ia.index)+N+Ba.slice(Ia.index+Ia[0].length)));return Ba.$$cast(A)},M.$$arity=-2);a.alias(L,"succ","next");a.def(L,"$sum",ca=function(A){null==A&&(A=16);A=E(A,e(D,"Integer"),"to_int");for(var N=0,ra=this.length,
Ga=0;Ga<ra;Ga++)N+=this.charCodeAt(Ga);return 0>=A?N:N&Math.pow(2,A)-1},ca.$$arity=-1);a.def(L,"$swapcase",w=function(){var A=this.replace(/([a-z]+)|([A-Z]+)/g,function(N,ra){return ra?N.toUpperCase():N.toLowerCase()});return this.constructor===String?A:this.$class().$new(A)},w.$$arity=0);a.def(L,"$to_f",U=function(){if("_"===this.charAt(0))return 0;var A=parseFloat(this.replace(/_/g,""));return isNaN(A)||Infinity==A||-Infinity==A?0:A},U.$$arity=0);a.def(L,"$to_i",pa=function(A){null==A&&(A=10);var N=
this.toLowerCase(),ra=E(A,e(D,"Integer"),"to_int");(1===ra||0>ra||36<ra)&&this.$raise(e(D,"ArgumentError"),"invalid radix "+ra);if(/^\s*_/.test(N))return 0;N=N.replace(/^(\s*[+-]?)(0[bodx]?)(.+)$/,function(Ga,Ba,Ia,Wa){switch(Wa.charAt(0)){case "+":case "-":return Ga;case "0":if("x"===Wa.charAt(1)&&"0x"===Ia&&(0===ra||16===ra))return Ga}switch(Ia){case "0b":if(0===ra||2===ra)return ra=2,Ba+Wa;break;case "0":case "0o":if(0===ra||8===ra)return ra=8,Ba+Wa;break;case "0d":if(0===ra||10===ra)return ra=
10,Ba+Wa;break;case "0x":if(0===ra||16===ra)return ra=16,Ba+Wa}return Ga});A=parseInt(N.replace(/_(?!_)/g,""),ra);return isNaN(A)?0:A},pa.$$arity=-1);a.def(L,"$to_proc",Ja=function(){var A,N=x;Ja.$$p&&(Ja.$$p=null);N=G("$",this.valueOf());return y(this,"proc",[],(A=function(ra){var Ga=null==A.$$s?this:A.$$s,Ba=A.$$p,Ia=Ba||x;Ba&&(A.$$p=null);Ba=a.slice.call(arguments,0,arguments.length);0===Ba.length&&Ga.$raise(e(D,"ArgumentError"),"no receiver given");Ga=Ba[0];null==Ga&&(Ga=x);var Wa=Ga[N];if(!Wa)return Ga.$method_missing.apply(Ga,
Ba);"function"===typeof Ia&&(Wa.$$p=Ia);return 1===Ba.length?Wa.call(Ga):Wa.apply(Ga,Ba.slice(1))},A.$$s=this,A.$$arity=-1,A))},Ja.$$arity=0);a.def(L,"$to_s",ib=function(){return this.toString()},ib.$$arity=0);a.alias(L,"to_str","to_s");a.alias(L,"to_sym","intern");a.def(L,"$tr",ob=function(A,N){A=E(A,e(D,"String"),"to_str").$to_s();N=E(N,e(D,"String"),"to_str").$to_s();if(0==A.length||A===N)return this;var ra={};var Ga=A.split("");var Ba=Ga.length,Ia=N.split(""),Wa=Ia.length;A=!1;var gb=null;"^"===
Ga[0]&&1<Ga.length&&(A=!0,Ga.shift(),gb=Ia[Wa-1],--Ba);var db=[];var Ta=null;var Xa=!1;for(N=0;N<Ba;N++){var fb=Ga[N];if(null==Ta)Ta=fb,db.push(fb);else if("-"===fb)"-"===Ta?(db.push("-"),db.push("-")):N==Ba-1?db.push("-"):Xa=!0;else if(Xa){Ta=Ta.charCodeAt(0);Xa=fb.charCodeAt(0);Ta>Xa&&this.$raise(e(D,"ArgumentError"),'invalid range "'+String.fromCharCode(Ta)+"-"+String.fromCharCode(Xa)+'" in string transliteration');for(Ta+=1;Ta<Xa;Ta++)db.push(String.fromCharCode(Ta));db.push(fb);Ta=Xa=null}else db.push(fb)}Ga=
db;Ba=Ga.length;if(A)for(N=0;N<Ba;N++)ra[Ga[N]]=!0;else{if(0<Wa){db=[];Ta=null;Xa=!1;for(N=0;N<Wa;N++)if(fb=Ia[N],null==Ta)Ta=fb,db.push(fb);else if("-"===fb)"-"===Ta?(db.push("-"),db.push("-")):N==Wa-1?db.push("-"):Xa=!0;else if(Xa){Ta=Ta.charCodeAt(0);Xa=fb.charCodeAt(0);Ta>Xa&&this.$raise(e(D,"ArgumentError"),'invalid range "'+String.fromCharCode(Ta)+"-"+String.fromCharCode(Xa)+'" in string transliteration');for(Ta+=1;Ta<Xa;Ta++)db.push(String.fromCharCode(Ta));db.push(fb);Ta=Xa=null}else db.push(fb);
Ia=db;Wa=Ia.length}fb=Ba-Wa;if(0<fb)for(Wa=0<Wa?Ia[Wa-1]:"",N=0;N<fb;N++)Ia.push(Wa);for(N=0;N<Ba;N++)ra[Ga[N]]=Ia[N]}Ba="";N=0;for(Ga=this.length;N<Ga;N++)fb=this.charAt(N),Ia=ra[fb],Ba=A?Ba+(null==Ia?gb:fb):Ba+(null!=Ia?Ia:fb);return this.$$cast(Ba)},ob.$$arity=2);a.def(L,"$tr_s",mb=function(A,N){A=E(A,e(D,"String"),"to_str").$to_s();N=E(N,e(D,"String"),"to_str").$to_s();if(0==A.length)return this;var ra={};var Ga=A.split("");var Ba=Ga.length,Ia=N.split(""),Wa=Ia.length;A=!1;var gb=null;"^"===Ga[0]&&
1<Ga.length&&(A=!0,Ga.shift(),gb=Ia[Wa-1],--Ba);var db=[];var Ta=null;var Xa=!1;for(N=0;N<Ba;N++){var fb=Ga[N];if(null==Ta)Ta=fb,db.push(fb);else if("-"===fb)"-"===Ta?(db.push("-"),db.push("-")):N==Ba-1?db.push("-"):Xa=!0;else if(Xa){Ta=Ta.charCodeAt(0);Xa=fb.charCodeAt(0);Ta>Xa&&this.$raise(e(D,"ArgumentError"),'invalid range "'+String.fromCharCode(Ta)+"-"+String.fromCharCode(Xa)+'" in string transliteration');for(Ta+=1;Ta<Xa;Ta++)db.push(String.fromCharCode(Ta));db.push(fb);Ta=Xa=null}else db.push(fb)}Ga=
db;Ba=Ga.length;if(A)for(N=0;N<Ba;N++)ra[Ga[N]]=!0;else{if(0<Wa){db=[];Xa=!1;for(N=0;N<Wa;N++)if(fb=Ia[N],null==Ta)Ta=fb,db.push(fb);else if("-"===fb)N==Wa-1?db.push("-"):Xa=!0;else if(Xa){Ta=Ta.charCodeAt(0);Xa=fb.charCodeAt(0);Ta>Xa&&this.$raise(e(D,"ArgumentError"),'invalid range "'+String.fromCharCode(Ta)+"-"+String.fromCharCode(Xa)+'" in string transliteration');for(Ta+=1;Ta<Xa;Ta++)db.push(String.fromCharCode(Ta));db.push(fb);Ta=Xa=null}else db.push(fb);Ia=db;Wa=Ia.length}fb=Ba-Wa;if(0<fb)for(Wa=
0<Wa?Ia[Wa-1]:"",N=0;N<fb;N++)Ia.push(Wa);for(N=0;N<Ba;N++)ra[Ga[N]]=Ia[N]}Ba="";Ia=null;N=0;for(Ga=this.length;N<Ga;N++)if(fb=this.charAt(N),Wa=ra[fb],A)null==Wa?null==Ia&&(Ba+=gb,Ia=!0):(Ba+=fb,Ia=null);else if(null!=Wa){if(null==Ia||Ia!==Wa)Ba+=Wa,Ia=Wa}else Ba+=fb,Ia=null;return this.$$cast(Ba)},mb.$$arity=2);a.def(L,"$upcase",sb=function(){return this.$$cast(this.toUpperCase())},sb.$$arity=0);a.def(L,"$upto",tb=function(A,N){var ra=tb.$$p,Ga=ra||x;ra&&(tb.$$p=null);ra&&(tb.$$p=null);null==N&&
(N=!1);if(Ga===x)return this.$enum_for("upto",A,N);ra=this.toString();A=E(A,e(D,"String"),"to_str");if(1===ra.length&&1===A.length)for(ra=ra.charCodeAt(0),A=A.charCodeAt(0);ra<=A&&(!N||ra!==A);)Ga(String.fromCharCode(ra)),ra+=1;else if(parseInt(ra,10).toString()===ra&&parseInt(A,10).toString()===A)for(ra=parseInt(ra,10),A=parseInt(A,10);ra<=A&&(!N||ra!==A);)Ga(ra.toString()),ra+=1;else for(;ra.length<=A.length&&ra<=A&&(!N||ra!==A);)Ga(ra),ra=ra.$succ();return this},tb.$$arity=-2);a.def(L,"$instance_variables",
wb=function(){return[]},wb.$$arity=0);a.defs(L,"$_load",xb=function(A){var N=a.slice.call(arguments,0,arguments.length);return y(this,"new",a.to_a(N))},xb.$$arity=-1);a.def(L,"$unicode_normalize",ub=function(A){null==A&&(A="nfc");d(["nfc","nfd","nfkc","nfkd"]["$include?"](A))||this.$raise(e(D,"ArgumentError"),"Invalid normalization form "+A);return this.normalize(A.$upcase())},ub.$$arity=-1);a.def(L,"$unicode_normalized?",X=function(A){null==A&&(A="nfc");return this.$unicode_normalize(A)["$=="](this)},
X.$$arity=-1);a.def(L,"$unpack",Ma=function(){return this.$raise("To use String#unpack, you must first require 'corelib/string/unpack'.")},Ma.$$arity=1);return(a.def(L,"$unpack1",bb=function(){return this.$raise("To use String#unpack1, you must first require 'corelib/string/unpack'.")},bb.$$arity=1),x)&&"unpack1"})(r[0],String,r);return a.const_set(r[0],"Symbol",e(r,"String"))};
Opal.modules["corelib/enumerable"]=function(a){function v(f,h){return"number"===typeof f&&"number"===typeof h?f>h:f["$>"](h)}function G(f,h){return"number"===typeof f&&"number"===typeof h?f+h:f["$+"](h)}function p(f,h){return"number"===typeof f&&"number"===typeof h?f-h:f["$-"](h)}function r(f,h){return"number"===typeof f&&"number"===typeof h?f<=h:f["$<="](h)}var x=[],q=a.nil,e=a.$$$,E=a.$$,B=a.falsy,g=a.truthy,d=a.coerce_to,y=a.module,c=a.send,m=a.hash2,J=a.lambda;a.add_stubs("$each $public_send $destructure $to_enum $enumerator_size $new $yield $raise $slice_when $! $enum_for $flatten $map $warn $proc $== $nil? $respond_to? $coerce_to! $> $* $try_convert $< $+ $- $ceil $/ $size $select $to_proc $__send__ $length $<= $[] $push $<< $[]= $=== $inspect $<=> $first $reverse $sort $take $sort_by $compare $call $dup $to_a $sort! $map! $key? $values $transform_values $group_by $to_h $coerce_to? $class $zip".split(" "));
return function(f,h){function L(Z){0===Z.length&&(Z=[q]);1<Z.length&&(Z=[Z]);return Z}f=y(f,"Enumerable");var D=[f].concat(h),Q,ja,fa,na,b,n,k,t,z,F,H,K,da,va,Na,wa,Aa,Ka,oa,R,sa,ba,ka,Y,S,V,ta,Da,ma,xa,Ha,Ea,Sa,Qa,Oa,kb,lb,W,ya,Ca,Va,hb,cb,$a,ab,za,ua,La,Ra,Ya,Fa;a.def(f,"$all?",Q=function(Z){try{var P=Q.$$p,aa=P||q,T,ha,la;P&&(Q.$$p=null);P&&(Q.$$p=null);g(void 0!==Z)?c(this,"each",[],(T=function(l){var C=a.slice.call(arguments,0,arguments.length);C=L(C);if(g(c(Z,"public_send",["==="].concat(a.to_a(C)))))return q;
a.ret(!1)},T.$$s=this,T.$$arity=-1,T)):aa!==q?c(this,"each",[],(ha=function(l){var C=a.slice.call(arguments,0,arguments.length);if(g(a.yieldX(aa,a.to_a(C))))return q;a.ret(!1)},ha.$$s=this,ha.$$arity=-1,ha)):c(this,"each",[],(la=function(l){var C=a.slice.call(arguments,0,arguments.length);if(g(E(D,"Opal").$destructure(C)))return q;a.ret(!1)},la.$$s=this,la.$$arity=-1,la));return!0}catch(l){if(l===a.returner)return l.$v;throw l;}},Q.$$arity=-1);a.def(f,"$any?",ja=function(Z){try{var P=ja.$$p,aa=P||
q,T,ha,la;P&&(ja.$$p=null);P&&(ja.$$p=null);g(void 0!==Z)?c(this,"each",[],(T=function(l){var C=a.slice.call(arguments,0,arguments.length);C=L(C);if(g(c(Z,"public_send",["==="].concat(a.to_a(C)))))a.ret(!0);else return q},T.$$s=this,T.$$arity=-1,T)):aa!==q?c(this,"each",[],(ha=function(l){var C=a.slice.call(arguments,0,arguments.length);if(g(a.yieldX(aa,a.to_a(C))))a.ret(!0);else return q},ha.$$s=this,ha.$$arity=-1,ha)):c(this,"each",[],(la=function(l){var C=a.slice.call(arguments,0,arguments.length);
if(g(E(D,"Opal").$destructure(C)))a.ret(!0);else return q},la.$$s=this,la.$$arity=-1,la));return!1}catch(l){if(l===a.returner)return l.$v;throw l;}},ja.$$arity=-1);a.def(f,"$chunk",fa=function(){var Z=fa.$$p,P=Z||q,aa,T;Z&&(fa.$$p=null);Z&&(fa.$$p=null);return P===q?c(this,"to_enum",["chunk"],(aa=function(){return(null==aa.$$s?this:aa.$$s).$enumerator_size()},aa.$$s=this,aa.$$arity=0,aa)):c(e("::","Enumerator"),"new",[],(T=function(ha){function la(){0<M.length&&ha.$yield(C,M)}var l=null==T.$$s?this:
T.$$s;null==ha&&(ha=q);var C=q,M=[];l.$each.$$p=function(ca){var w=a.yield1(P,ca);w===q?(la(),M=[],C=q):(C===q||C===w?M.push(ca):(la(),M=[ca]),C=w)};l.$each();la()},T.$$s=this,T.$$arity=1,T))},fa.$$arity=0);a.def(f,"$chunk_while",na=function(){var Z=na.$$p,P=Z||q,aa;Z&&(na.$$p=null);Z&&(na.$$p=null);P===q&&this.$raise(E(D,"ArgumentError"),"no block given");return c(this,"slice_when",[],(aa=function(T,ha){null==T&&(T=q);null==ha&&(ha=q);return a.yieldX(P,[T,ha])["$!"]()},aa.$$s=this,aa.$$arity=2,aa))},
na.$$arity=0);a.def(f,"$collect",b=function(){var Z=b.$$p,P=Z||q,aa;Z&&(b.$$p=null);Z&&(b.$$p=null);if(P===q)return c(this,"enum_for",["collect"],(aa=function(){return(null==aa.$$s?this:aa.$$s).$enumerator_size()},aa.$$s=this,aa.$$arity=0,aa));var T=[];this.$each.$$p=function(){var ha=a.yieldX(P,arguments);T.push(ha)};this.$each();return T},b.$$arity=0);a.def(f,"$collect_concat",n=function(){var Z=n.$$p,P=Z||q,aa,T;Z&&(n.$$p=null);Z&&(n.$$p=null);return P===q?c(this,"enum_for",["collect_concat"],
(aa=function(){return(null==aa.$$s?this:aa.$$s).$enumerator_size()},aa.$$s=this,aa.$$arity=0,aa)):c(this,"map",[],(T=function(ha){null==ha&&(ha=q);return a.yield1(P,ha)},T.$$s=this,T.$$arity=1,T)).$flatten(1)},n.$$arity=0);a.def(f,"$count",k=function(Z){var P=k.$$p,aa=P||q,T,ha,la,l=q;P&&(k.$$p=null);P&&(k.$$p=null);l=0;null!=Z&&aa!==q&&this.$warn("warning: given block not used");g(null!=Z)?aa=c(this,"proc",[],(T=function(C){var M=a.slice.call(arguments,0,arguments.length);return E(D,"Opal").$destructure(M)["$=="](Z)},
T.$$s=this,T.$$arity=-1,T)):g(aa["$nil?"]())&&(aa=c(this,"proc",[],(ha=function(){return!0},ha.$$s=this,ha.$$arity=0,ha)));c(this,"each",[],(la=function(C){var M=a.slice.call(arguments,0,arguments.length);return g(a.yieldX(aa,M))?l++:q},la.$$s=this,la.$$arity=-1,la));return l},k.$$arity=-1);a.def(f,"$cycle",t=function(Z){var P=t.$$p,aa=P||q,T;P&&(t.$$p=null);P&&(t.$$p=null);null==Z&&(Z=q);if(aa===q)return c(this,"enum_for",["cycle",Z],(T=function(){var l=null==T.$$s?this:T.$$s;if(g(Z["$nil?"]()))return g(l["$respond_to?"]("size"))?
e(E(D,"Float"),"INFINITY"):q;Z=E(D,"Opal")["$coerce_to!"](Z,E(D,"Integer"),"to_int");return g(v(Z,0))?(l=l.$enumerator_size(),"number"===typeof l&&"number"===typeof Z?l*Z:l["$*"](Z)):0},T.$$s=this,T.$$arity=0,T));if(!g(Z["$nil?"]())&&(Z=E(D,"Opal")["$coerce_to!"](Z,E(D,"Integer"),"to_int"),g(0>=Z)))return q;var ha=[],la;this.$each.$$p=function(){var l=E(D,"Opal").$destructure(arguments);a.yield1(aa,l);ha.push(l)};this.$each();if(0===ha.length)return q;if(Z===q)for(;;)for(P=0,la=ha.length;P<la;P++)a.yield1(aa,
ha[P]);else for(;1<Z;){P=0;for(la=ha.length;P<la;P++)a.yield1(aa,ha[P]);Z--}},t.$$arity=-1);a.def(f,"$detect",z=function(Z){try{var P=z.$$p,aa=P||q,T;P&&(z.$$p=null);P&&(z.$$p=null);if(aa===q)return this.$enum_for("detect",Z);c(this,"each",[],(T=function(ha){var la=a.slice.call(arguments,0,arguments.length);la=E(D,"Opal").$destructure(la);if(g(a.yield1(aa,la)))a.ret(la);else return q},T.$$s=this,T.$$arity=-1,T));return void 0!==Z?"function"===typeof Z?Z():Z:q}catch(ha){if(ha===a.returner)return ha.$v;
throw ha;}},z.$$arity=-1);a.def(f,"$drop",F=function(Z){Z=d(Z,E(D,"Integer"),"to_int");g(0>Z)&&this.$raise(E(D,"ArgumentError"),"attempt to drop negative size");var P=[],aa=0;this.$each.$$p=function(){Z<=aa&&P.push(E(D,"Opal").$destructure(arguments));aa++};this.$each();return P},F.$$arity=1);a.def(f,"$drop_while",H=function(){var Z=H.$$p,P=Z||q;Z&&(H.$$p=null);Z&&(H.$$p=null);if(P===q)return this.$enum_for("drop_while");var aa=[],T=!0;this.$each.$$p=function(){var ha=E(D,"Opal").$destructure(arguments);
if(T){var la=a.yield1(P,ha);B(la)&&(T=!1,aa.push(ha))}else aa.push(ha)};this.$each();return aa},H.$$arity=0);a.def(f,"$each_cons",K=function(Z){var P=K.$$p,aa=P||q,T;P&&(K.$$p=null);P&&(K.$$p=null);g(1!=arguments.length)&&this.$raise(E(D,"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 1)");Z=E(D,"Opal").$try_convert(Z,E(D,"Integer"),"to_int");g(0>=Z)&&this.$raise(E(D,"ArgumentError"),"invalid size");if(aa===q)return c(this,"enum_for",["each_cons",Z],(T=function(){var la=q;var l=
(null==T.$$s?this:T.$$s).$enumerator_size();return g(l["$nil?"]())?q:g(g(la=l["$=="](0))?la:"number"===typeof l&&"number"===typeof Z?l<Z:l["$<"](Z))?0:G(p(l,Z),1)},T.$$s=this,T.$$arity=0,T));var ha=[];this.$each.$$p=function(){var la=E(D,"Opal").$destructure(arguments);ha.push(la);ha.length>Z&&ha.shift();ha.length==Z&&a.yield1(aa,ha.slice(0,Z))};this.$each();return q},K.$$arity=1);a.def(f,"$each_entry",da=function(Z){var P=da.$$p,aa=P||q,T;P&&(da.$$p=null);P&&(da.$$p=null);P=a.slice.call(arguments,
0,arguments.length);if(aa===q)return c(this,"to_enum",["each_entry"].concat(a.to_a(P)),(T=function(){return(null==T.$$s?this:T.$$s).$enumerator_size()},T.$$s=this,T.$$arity=0,T));this.$each.$$p=function(){var ha=E(D,"Opal").$destructure(arguments);a.yield1(aa,ha)};this.$each.apply(this,P);return this},da.$$arity=-1);a.def(f,"$each_slice",va=function(Z){var P=va.$$p,aa=P||q,T;P&&(va.$$p=null);P&&(va.$$p=null);Z=d(Z,E(D,"Integer"),"to_int");g(0>=Z)&&this.$raise(E(D,"ArgumentError"),"invalid slice size");
if(aa===q)return c(this,"enum_for",["each_slice",Z],(T=function(){var la=null==T.$$s?this:T.$$s;return g(la["$respond_to?"]("size"))?(la=la.$size(),("number"===typeof la&&"number"===typeof Z?la/Z:la["$/"](Z)).$ceil()):q},T.$$s=this,T.$$arity=0,T));var ha=[];this.$each.$$p=function(){var la=E(D,"Opal").$destructure(arguments);ha.push(la);ha.length===Z&&(a.yield1(aa,ha),ha=[])};this.$each();0<ha.length&&a.yield1(aa,ha);return q},va.$$arity=1);a.def(f,"$each_with_index",Na=function(Z){var P=Na.$$p,aa=
P||q,T;P&&(Na.$$p=null);P&&(Na.$$p=null);P=a.slice.call(arguments,0,arguments.length);if(aa===q)return c(this,"enum_for",["each_with_index"].concat(a.to_a(P)),(T=function(){return(null==T.$$s?this:T.$$s).$enumerator_size()},T.$$s=this,T.$$arity=0,T));var ha=0;this.$each.$$p=function(){var la=E(D,"Opal").$destructure(arguments);aa(la,ha);ha++};this.$each.apply(this,P);return this},Na.$$arity=-1);a.def(f,"$each_with_object",wa=function(Z){var P=wa.$$p,aa=P||q,T;P&&(wa.$$p=null);P&&(wa.$$p=null);if(aa===
q)return c(this,"enum_for",["each_with_object",Z],(T=function(){return(null==T.$$s?this:T.$$s).$enumerator_size()},T.$$s=this,T.$$arity=0,T));this.$each.$$p=function(){var ha=E(D,"Opal").$destructure(arguments);aa(ha,Z)};this.$each();return Z},wa.$$arity=1);a.def(f,"$entries",Aa=function(Z){var P=a.slice.call(arguments,0,arguments.length);var aa=[];this.$each.$$p=function(){aa.push(E(D,"Opal").$destructure(arguments))};this.$each.apply(this,P);return aa},Aa.$$arity=-1);a.def(f,"$filter_map",Ka=function(){var Z=
Ka.$$p,P=Z||q,aa;Z&&(Ka.$$p=null);Z&&(Ka.$$p=null);return P===q?c(this,"enum_for",["filter_map"],(aa=function(){return(null==aa.$$s?this:aa.$$s).$enumerator_size()},aa.$$s=this,aa.$$arity=0,aa)):c(c(this,"map",[],P.$to_proc()),"select",[],"itself".$to_proc())},Ka.$$arity=0);a.alias(f,"find","detect");a.def(f,"$find_all",oa=function(){var Z=oa.$$p,P=Z||q,aa;Z&&(oa.$$p=null);Z&&(oa.$$p=null);if(P===q)return c(this,"enum_for",["find_all"],(aa=function(){return(null==aa.$$s?this:aa.$$s).$enumerator_size()},
aa.$$s=this,aa.$$arity=0,aa));var T=[];this.$each.$$p=function(){var ha=E(D,"Opal").$destructure(arguments),la=a.yield1(P,ha);g(la)&&T.push(ha)};this.$each();return T},oa.$$arity=0);a.alias(f,"filter","find_all");a.def(f,"$find_index",R=function(Z){try{var P=R.$$p,aa=P||q,T,ha,la=q;P&&(R.$$p=null);P&&(R.$$p=null);if(g(void 0===Z&&aa===q))return this.$enum_for("find_index");null!=Z&&aa!==q&&this.$warn("warning: given block not used");la=0;g(null!=Z)?c(this,"each",[],(T=function(l){var C=a.slice.call(arguments,
0,arguments.length);E(D,"Opal").$destructure(C)["$=="](Z)&&a.ret(la);return la+=1},T.$$s=this,T.$$arity=-1,T)):c(this,"each",[],(ha=function(l){var C=a.slice.call(arguments,0,arguments.length);g(a.yieldX(aa,a.to_a(C)))&&a.ret(la);return la+=1},ha.$$s=this,ha.$$arity=-1,ha));return q}catch(l){if(l===a.returner)return l.$v;throw l;}},R.$$arity=-1);a.def(f,"$first",sa=function(Z){try{var P,aa,T=q,ha=q;if(g(void 0===Z))return c(this,"each",[],(P=function(la){null==la&&(la=q);a.ret(la)},P.$$s=this,P.$$arity=
1,P));T=[];Z=d(Z,E(D,"Integer"),"to_int");g(0>Z)&&this.$raise(E(D,"ArgumentError"),"attempt to take negative size");if(g(0==Z))return[];ha=0;c(this,"each",[],(aa=function(la){var l=a.slice.call(arguments,0,arguments.length);T.push(E(D,"Opal").$destructure(l));if(g(Z<=++ha))a.ret(T);else return q},aa.$$s=this,aa.$$arity=-1,aa));return T}catch(la){if(la===a.returner)return la.$v;throw la;}},sa.$$arity=-1);a.alias(f,"flat_map","collect_concat");a.def(f,"$grep",ba=function(Z){var P=ba.$$p,aa=P||q,T,ha=
q;P&&(ba.$$p=null);P&&(ba.$$p=null);ha=[];c(this,"each",[],(T=function(la){var l=a.slice.call(arguments,0,arguments.length);var C=L(l);if(!g(c(Z,"__send__",["==="].concat(a.to_a(C)))))return q;aa!==q?(g(v(l.$length(),1))&&(l=[l]),l=a.yieldX(aa,a.to_a(l))):g(r(l.$length(),1))&&(l=l["$[]"](0));return ha.$push(l)},T.$$s=this,T.$$arity=-1,T));return ha},ba.$$arity=1);a.def(f,"$grep_v",ka=function(Z){var P=ka.$$p,aa=P||q,T,ha=q;P&&(ka.$$p=null);P&&(ka.$$p=null);ha=[];c(this,"each",[],(T=function(la){var l=
a.slice.call(arguments,0,arguments.length);var C=L(l);if(g(c(Z,"__send__",["==="].concat(a.to_a(C)))))return q;aa!==q?(g(v(l.$length(),1))&&(l=[l]),l=a.yieldX(aa,a.to_a(l))):g(r(l.$length(),1))&&(l=l["$[]"](0));return ha.$push(l)},T.$$s=this,T.$$arity=-1,T));return ha},ka.$$arity=1);a.def(f,"$group_by",Y=function(){var Z=Y.$$p,P=Z||q,aa,T=q,ha=q,la=q;Z&&(Y.$$p=null);Z&&(Y.$$p=null);if(P===q)return c(this,"enum_for",["group_by"],(aa=function(){return(null==aa.$$s?this:aa.$$s).$enumerator_size()},aa.$$s=
this,aa.$$arity=0,aa));T=m([],{});this.$each.$$p=function(){var l=E(D,"Opal").$destructure(arguments),C=a.yield1(P,l);g(ha=T["$[]"](C))?C=ha:(la=[C,[]],c(T,"[]=",a.to_a(la)),C=la[p(la.length,1)]);C["$<<"](l)};this.$each();return T},Y.$$arity=0);a.def(f,"$include?",S=function(Z){try{var P;c(this,"each",[],(P=function(aa){var T=a.slice.call(arguments,0,arguments.length);if(E(D,"Opal").$destructure(T)["$=="](Z))a.ret(!0);else return q},P.$$s=this,P.$$arity=-1,P));return!1}catch(aa){if(aa===a.returner)return aa.$v;
throw aa;}},S.$$arity=1);a.def(f,"$inject",V=function(Z,P){var aa=V.$$p,T=aa||q;aa&&(V.$$p=null);aa&&(V.$$p=null);var ha=Z;T!==q&&void 0===P?this.$each.$$p=function(){var la=E(D,"Opal").$destructure(arguments);void 0!==ha&&(la=a.yieldX(T,[ha,la]));ha=la}:(void 0===P&&(E(D,"Symbol")["$==="](Z)||this.$raise(E(D,"TypeError"),""+Z.$inspect()+" is not a Symbol"),P=Z,ha=void 0),this.$each.$$p=function(){var la=E(D,"Opal").$destructure(arguments);ha=void 0===ha?la:ha.$__send__(P,la)});this.$each();return void 0==
ha?q:ha},V.$$arity=-1);a.def(f,"$lazy",ta=function(){var Z;return c(e(E(D,"Enumerator"),"Lazy"),"new",[this,this.$enumerator_size()],(Z=function(P,aa){null==P&&(P=q);var T=a.slice.call(arguments,1,arguments.length);return c(P,"yield",a.to_a(T))},Z.$$s=this,Z.$$arity=-2,Z))},ta.$$arity=0);a.def(f,"$enumerator_size",Da=function(){return g(this["$respond_to?"]("size"))?this.$size():q},Da.$$arity=0);a.alias(f,"map","collect");a.def(f,"$max",ma=function(Z){var P=ma.$$p,aa=P||q,T=this;P&&(ma.$$p=null);
P&&(ma.$$p=null);if(void 0===Z||Z===q){var ha,la;T.$each.$$p=function(){var l=E(D,"Opal").$destructure(arguments);void 0===ha?ha=l:(la=aa!==q?a.yieldX(aa,[l,ha]):l["$<=>"](ha),la===q&&T.$raise(E(D,"ArgumentError"),"comparison failed"),0<la&&(ha=l))};T.$each();return void 0===ha?q:ha}Z=d(Z,E(D,"Integer"),"to_int");return c(T,"sort",[],aa.$to_proc()).$reverse().$first(Z)},ma.$$arity=-1);a.def(f,"$max_by",xa=function(Z){var P=xa.$$p,aa=P||q,T;P&&(xa.$$p=null);P&&(xa.$$p=null);null==Z&&(Z=q);if(!g(aa))return c(this,
"enum_for",["max_by",Z],(T=function(){return(null==T.$$s?this:T.$$s).$enumerator_size()},T.$$s=this,T.$$arity=0,T));if(!g(Z["$nil?"]()))return c(this,"sort_by",[],aa.$to_proc()).$reverse().$take(Z);var ha,la;this.$each.$$p=function(){var l=E(D,"Opal").$destructure(arguments),C=a.yield1(aa,l);void 0===ha?(ha=l,la=C):0<C["$<=>"](la)&&(ha=l,la=C)};this.$each();return void 0===ha?q:ha},xa.$$arity=-1);a.alias(f,"member?","include?");a.def(f,"$min",Ha=function(Z){var P=Ha.$$p,aa=P||q,T,ha=this;P&&(Ha.$$p=
null);P&&(Ha.$$p=null);null==Z&&(Z=q);if(!g(Z["$nil?"]()))return aa!==q?c(ha,"sort",[],(T=function(l,C){null==l&&(l=q);null==C&&(C=q);return a.yieldX(aa,[l,C])},T.$$s=ha,T.$$arity=2,T)).$take(Z):ha.$sort().$take(Z);var la;ha.$each.$$p=aa!==q?function(){var l=E(D,"Opal").$destructure(arguments);if(void 0===la)la=l;else{var C=aa(l,la);C===q&&ha.$raise(E(D,"ArgumentError"),"comparison failed");0>C&&(la=l)}}:function(){var l=E(D,"Opal").$destructure(arguments);void 0===la?la=l:0>E(D,"Opal").$compare(l,
la)&&(la=l)};ha.$each();return void 0===la?q:la},Ha.$$arity=-1);a.def(f,"$min_by",Ea=function(Z){var P=Ea.$$p,aa=P||q,T;P&&(Ea.$$p=null);P&&(Ea.$$p=null);null==Z&&(Z=q);if(!g(aa))return c(this,"enum_for",["min_by",Z],(T=function(){return(null==T.$$s?this:T.$$s).$enumerator_size()},T.$$s=this,T.$$arity=0,T));if(!g(Z["$nil?"]()))return c(this,"sort_by",[],aa.$to_proc()).$take(Z);var ha,la;this.$each.$$p=function(){var l=E(D,"Opal").$destructure(arguments),C=a.yield1(aa,l);void 0===ha?(ha=l,la=C):0>
C["$<=>"](la)&&(ha=l,la=C)};this.$each();return void 0===ha?q:ha},Ea.$$arity=-1);a.def(f,"$minmax",Sa=function(){var Z=Sa.$$p,P=Z||q,aa,T=this,ha=q;Z&&(Sa.$$p=null);Z&&(Sa.$$p=null);P=function(){return g(ha=P)?ha:c(T,"proc",[],(aa=function(M,ca){null==M&&(M=q);null==ca&&(ca=q);return M["$<=>"](ca)},aa.$$s=T,aa.$$arity=2,aa))}();var la=q,l=q,C=!0;T.$each.$$p=function(){var M=E(D,"Opal").$destructure(arguments);if(C)la=l=M,C=!1;else{var ca=P.$call(la,M);ca===q?T.$raise(E(D,"ArgumentError"),"comparison failed"):
0<ca&&(la=M);ca=P.$call(l,M);ca===q?T.$raise(E(D,"ArgumentError"),"comparison failed"):0>ca&&(l=M)}};T.$each();return[la,l]},Sa.$$arity=0);a.def(f,"$minmax_by",Qa=function(){var Z=Qa.$$p,P=Z||q,aa;Z&&(Qa.$$p=null);Z&&(Qa.$$p=null);if(!g(P))return c(this,"enum_for",["minmax_by"],(aa=function(){return(null==aa.$$s?this:aa.$$s).$enumerator_size()},aa.$$s=this,aa.$$arity=0,aa));var T=q,ha=q,la,l;this.$each.$$p=function(){var C=E(D,"Opal").$destructure(arguments),M=a.yield1(P,C);if(void 0===la||0>M["$<=>"](la))T=
C,la=M;if(void 0===l||0<M["$<=>"](l))ha=C,l=M};this.$each();return[T,ha]},Qa.$$arity=0);a.def(f,"$none?",Oa=function(Z){try{var P=Oa.$$p,aa=P||q,T,ha,la;P&&(Oa.$$p=null);P&&(Oa.$$p=null);g(void 0!==Z)?c(this,"each",[],(T=function(l){var C=a.slice.call(arguments,0,arguments.length);C=L(C);if(g(c(Z,"public_send",["==="].concat(a.to_a(C)))))a.ret(!1);else return q},T.$$s=this,T.$$arity=-1,T)):aa!==q?c(this,"each",[],(ha=function(l){var C=a.slice.call(arguments,0,arguments.length);if(g(a.yieldX(aa,a.to_a(C))))a.ret(!1);
else return q},ha.$$s=this,ha.$$arity=-1,ha)):c(this,"each",[],(la=function(l){var C=a.slice.call(arguments,0,arguments.length);C=E(D,"Opal").$destructure(C);if(g(C))a.ret(!1);else return q},la.$$s=this,la.$$arity=-1,la));return!0}catch(l){if(l===a.returner)return l.$v;throw l;}},Oa.$$arity=-1);a.def(f,"$one?",kb=function(Z){try{var P=kb.$$p,aa=P||q,T,ha,la,l=q;P&&(kb.$$p=null);P&&(kb.$$p=null);l=0;g(void 0!==Z)?c(this,"each",[],(T=function(C){var M=a.slice.call(arguments,0,arguments.length);M=L(M);
if(g(c(Z,"public_send",["==="].concat(a.to_a(M)))))if(l=G(l,1),g(v(l,1)))a.ret(!1);else return q;else return q},T.$$s=this,T.$$arity=-1,T)):aa!==q?c(this,"each",[],(ha=function(C){var M=a.slice.call(arguments,0,arguments.length);if(!g(a.yieldX(aa,a.to_a(M))))return q;l=G(l,1);if(g(v(l,1)))a.ret(!1);else return q},ha.$$s=this,ha.$$arity=-1,ha)):c(this,"each",[],(la=function(C){var M=a.slice.call(arguments,0,arguments.length);if(!g(E(D,"Opal").$destructure(M)))return q;l=G(l,1);if(g(v(l,1)))a.ret(!1);
else return q},la.$$s=this,la.$$arity=-1,la));return l["$=="](1)}catch(C){if(C===a.returner)return C.$v;throw C;}},kb.$$arity=-1);a.def(f,"$partition",lb=function(){var Z=lb.$$p,P=Z||q,aa;Z&&(lb.$$p=null);Z&&(lb.$$p=null);if(P===q)return c(this,"enum_for",["partition"],(aa=function(){return(null==aa.$$s?this:aa.$$s).$enumerator_size()},aa.$$s=this,aa.$$arity=0,aa));var T=[],ha=[];this.$each.$$p=function(){var la=E(D,"Opal").$destructure(arguments),l=a.yield1(P,la);g(l)?T.push(la):ha.push(la)};this.$each();
return[T,ha]},lb.$$arity=0);a.alias(f,"reduce","inject");a.def(f,"$reject",W=function(){var Z=W.$$p,P=Z||q,aa;Z&&(W.$$p=null);Z&&(W.$$p=null);if(P===q)return c(this,"enum_for",["reject"],(aa=function(){return(null==aa.$$s?this:aa.$$s).$enumerator_size()},aa.$$s=this,aa.$$arity=0,aa));var T=[];this.$each.$$p=function(){var ha=E(D,"Opal").$destructure(arguments),la=a.yield1(P,ha);B(la)&&T.push(ha)};this.$each();return T},W.$$arity=0);a.def(f,"$reverse_each",ya=function(){var Z=ya.$$p,P=Z||q,aa;Z&&(ya.$$p=
null);Z&&(ya.$$p=null);if(P===q)return c(this,"enum_for",["reverse_each"],(aa=function(){return(null==aa.$$s?this:aa.$$s).$enumerator_size()},aa.$$s=this,aa.$$arity=0,aa));var T=[];this.$each.$$p=function(){T.push(arguments)};this.$each();for(Z=T.length-1;0<=Z;Z--)a.yieldX(P,T[Z]);return T},ya.$$arity=0);a.alias(f,"select","find_all");a.def(f,"$slice_before",Ca=function(Z){var P=Ca.$$p,aa=P||q,T;P&&(Ca.$$p=null);P&&(Ca.$$p=null);g(void 0===Z&&aa===q)&&this.$raise(E(D,"ArgumentError"),"both pattern and block are given");
g(void 0!==Z&&aa!==q||1<arguments.length)&&this.$raise(E(D,"ArgumentError"),"wrong number of arguments ("+arguments.length+" expected 1)");return c(E(D,"Enumerator"),"new",[],(T=function(ha){var la=null==T.$$s?this:T.$$s;null==ha&&(ha=q);var l=[];la.$each.$$p=aa!==q?void 0===Z?function(){var C=E(D,"Opal").$destructure(arguments),M=a.yield1(aa,C);g(M)&&0<l.length&&(ha["$<<"](l),l=[]);l.push(C)}:function(){var C=E(D,"Opal").$destructure(arguments),M=aa(C,Z.$dup());g(M)&&0<l.length&&(ha["$<<"](l),l=
[]);l.push(C)}:function(){var C=E(D,"Opal").$destructure(arguments),M=Z["$==="](C);g(M)&&0<l.length&&(ha["$<<"](l),l=[]);l.push(C)};la.$each();if(0<l.length)ha["$<<"](l)},T.$$s=this,T.$$arity=1,T))},Ca.$$arity=-1);a.def(f,"$slice_after",Va=function(Z){var P=Va.$$p,aa=P||q,T,ha;P&&(Va.$$p=null);P&&(Va.$$p=null);g(void 0===Z&&aa===q)&&this.$raise(E(D,"ArgumentError"),"both pattern and block are given");g(void 0!==Z&&aa!==q||1<arguments.length)&&this.$raise(E(D,"ArgumentError"),"wrong number of arguments ("+
arguments.length+" expected 1)");g(void 0!==Z)&&(aa=c(this,"proc",[],(T=function(la){null==la&&(la=q);return Z["$==="](la)},T.$$s=this,T.$$arity=1,T)));return c(E(D,"Enumerator"),"new",[],(ha=function(la){var l=null==ha.$$s?this:ha.$$s;null==la&&(la=q);var C;l.$each.$$p=function(){var M=E(D,"Opal").$destructure(arguments),ca=a.yield1(aa,M);null==C&&(C=[]);g(ca)?(C.push(M),la.$yield(C),C=null):C.push(M)};l.$each();null!=C&&la.$yield(C)},ha.$$s=this,ha.$$arity=1,ha))},Va.$$arity=-1);a.def(f,"$slice_when",
hb=function(){var Z=hb.$$p,P=Z||q,aa;Z&&(hb.$$p=null);Z&&(hb.$$p=null);P===q&&this.$raise(E(D,"ArgumentError"),"wrong number of arguments (0 for 1)");return c(E(D,"Enumerator"),"new",[],(aa=function(T){var ha=null==aa.$$s?this:aa.$$s;null==T&&(T=q);var la=q,l=q;ha.$each_cons.$$p=function(){var C=E(D,"Opal").$destructure(arguments),M=C[0];C=C[1];var ca=a.yieldX(P,[M,C]);l=C;la===q&&(la=[]);g(ca)?(la.push(M),T.$yield(la),la=[]):la.push(M)};ha.$each_cons(2);la!==q&&(la.push(l),T.$yield(la))},aa.$$s=
this,aa.$$arity=1,aa))},hb.$$arity=0);a.def(f,"$sort",cb=function(){var Z=cb.$$p,P=Z||q,aa,T=q;Z&&(cb.$$p=null);Z&&(cb.$$p=null);T=this.$to_a();P===q&&(P=J((aa=function(ha,la){null==ha&&(ha=q);null==la&&(la=q);return ha["$<=>"](la)},aa.$$s=this,aa.$$arity=2,aa)));return c(T,"sort",[],P.$to_proc())},cb.$$arity=0);a.def(f,"$sort_by",$a=function(){var Z=$a.$$p,P=Z||q,aa,T,ha,la,l=q;Z&&($a.$$p=null);Z&&($a.$$p=null);if(P===q)return c(this,"enum_for",["sort_by"],(aa=function(){return(null==aa.$$s?this:
aa.$$s).$enumerator_size()},aa.$$s=this,aa.$$arity=0,aa));l=c(this,"map",[],(T=function(){var C=E(D,"Opal").$destructure(arguments);return[a.yield1(P,C),C]},T.$$s=this,T.$$arity=0,T));c(l,"sort!",[],(ha=function(C,M){null==C&&(C=q);null==M&&(M=q);return C[0]["$<=>"](M[0])},ha.$$s=this,ha.$$arity=2,ha));return c(l,"map!",[],(la=function(C){null==C&&(C=q);return C[1]},la.$$s=this,la.$$arity=1,la))},$a.$$arity=0);a.def(f,"$sum",ab=function(Z){var P,aa=ab.$$p,T=aa||q,ha=q;aa&&(ab.$$p=null);null==Z&&(Z=
0);ha=Z;c(this,"each",[],(P=function(la){var l=a.slice.call(arguments,0,arguments.length);l=T!==q?a.yieldX(T,a.to_a(l)):E(D,"Opal").$destructure(l);return ha=G(ha,l)},P.$$s=this,P.$$arity=-1,P));return ha},ab.$$arity=-1);a.def(f,"$take",za=function(Z){return this.$first(Z)},za.$$arity=1);a.def(f,"$take_while",ua=function(){try{var Z=ua.$$p,P=Z||q,aa,T=q;Z&&(ua.$$p=null);Z&&(ua.$$p=null);if(!g(P))return this.$enum_for("take_while");T=[];return c(this,"each",[],(aa=function(ha){var la=a.slice.call(arguments,
0,arguments.length);la=E(D,"Opal").$destructure(la);g(a.yield1(P,la))||a.ret(T);return T.push(la)},aa.$$s=this,aa.$$arity=-1,aa))}catch(ha){if(ha===a.returner)return ha.$v;throw ha;}},ua.$$arity=0);a.def(f,"$uniq",La=function(){var Z=La.$$p,P=Z||q,aa,T=q;Z&&(La.$$p=null);Z&&(La.$$p=null);T=m([],{});c(this,"each",[],(aa=function(ha){var la=a.slice.call(arguments,0,arguments.length);la=E(D,"Opal").$destructure(la);var l=P!==q?a.yield1(P,la):la;if(g(T["$key?"](l)))return q;la=[l,la];c(T,"[]=",a.to_a(la));
return la[p(la.length,1)]},aa.$$s=this,aa.$$arity=-1,aa));return T.$values()},La.$$arity=0);a.def(f,"$tally",Ra=function(){return c(c(this,"group_by",[],"itself".$to_proc()),"transform_values",[],"count".$to_proc())},Ra.$$arity=0);a.alias(f,"to_a","entries");a.def(f,"$to_h",Ya=function(Z){var P=Ya.$$p,aa=P||q,T=this;P&&(Ya.$$p=null);P&&(Ya.$$p=null);P=a.slice.call(arguments,0,arguments.length);if(aa!==q)return c(c(T,"map",[],aa.$to_proc()),"to_h",a.to_a(P));var ha=m([],{});T.$each.$$p=function(){var la=
E(D,"Opal").$destructure(arguments);la=E(D,"Opal")["$coerce_to?"](la,E(D,"Array"),"to_ary");la.$$is_array||T.$raise(E(D,"TypeError"),"wrong element type "+la.$class()+" (expected array)");2!==la.length&&T.$raise(E(D,"ArgumentError"),"wrong array length (expected 2, was "+la.$length()+")");a.hash_put(ha,la[0],la[1])};T.$each.apply(T,P);return ha},Ya.$$arity=-1);a.def(f,"$zip",Fa=function(Z){var P=Fa.$$p;P&&(Fa.$$p=null);P&&(Fa.$$p=null);P=a.slice.call(arguments,0,arguments.length);return c(this.$to_a(),
"zip",a.to_a(P))},Fa.$$arity=-1)}(x[0],x)};
Opal.modules["corelib/enumerator"]=function(a){function v(J,f){return"number"===typeof J&&"number"===typeof f?J+f:J["$+"](f)}function G(J,f){return"number"===typeof J&&"number"===typeof f?J<f:J["$<"](f)}var p=a.top,r=[],x=a.nil,q=a.$$,e=a.breaker,E=a.slice,B=a.falsy,g=a.truthy,d=a.coerce_to,y=a.klass,c=a.send,m=a.send2;a.add_stubs("$require $include $allocate $new $to_proc $! $respond_to? $nil? $empty? $+ $class $__send__ $call $enum_for $size $destructure $inspect $any? $[] $raise $yield $each $enumerator_size $try_convert $< $=== $for".split(" "));p.$require("corelib/enumerable");
return function(J,$super,h){J=y(J,$super,"Enumerator");var L=[J].concat(h),D,Q,ja,fa,na,b,n;J.$$prototype.size=J.$$prototype.args=J.$$prototype.object=J.$$prototype.method=x;J.$include(q(L,"Enumerable"));J.$$prototype.$$is_enumerator=!0;a.defs(J,"$for",D=function(k,t,z){var F=D.$$p,H=F||x;F&&(D.$$p=null);F&&(D.$$p=null);F=a.slice.call(arguments,1,arguments.length);if(0<F.length){var K=F[0];F.splice(0,1)}null==K&&(K="each");var da=this.$allocate();da.object=k;da.size=H;da.method=K;da.args=F;return da},
D.$$arity=-2);a.def(J,"$initialize",Q=function(k){var t=Q.$$p,z=t||x,F=x;t&&(Q.$$p=null);t&&(Q.$$p=null);a.slice.call(arguments,0,arguments.length);if(g(z))return this.object=c(q(L,"Generator"),"new",[],z.$to_proc()),this.method="each",this.args=[],this.size=arguments[0]||x,g(g(F=this.size)?this.size["$respond_to?"]("call")["$!"]():F)?this.size=d(this.size,q(L,"Integer"),"to_int"):x;this.object=arguments[0];this.method=arguments[1]||"each";this.args=E.call(arguments,2);return this.size=x},Q.$$arity=
-1);a.def(J,"$each",ja=function(k){var t=ja.$$p,z=t||x,F=x;t&&(ja.$$p=null);t&&(ja.$$p=null);t=a.slice.call(arguments,0,arguments.length);if(g(g(F=z["$nil?"]())?t["$empty?"]():F))return this;t=v(this.args,t);return g(z["$nil?"]())?c(this.$class(),"new",[this.object,this.method].concat(a.to_a(t))):c(this.object,"__send__",[this.method].concat(a.to_a(t)),z.$to_proc())},ja.$$arity=-1);a.def(J,"$size",fa=function(){return g(this.size["$respond_to?"]("call"))?c(this.size,"call",a.to_a(this.args)):this.size},
fa.$$arity=0);a.def(J,"$with_index",na=function(k){var t=na.$$p,z=t||x,F;t&&(na.$$p=null);t&&(na.$$p=null);null==k&&(k=0);k=g(k)?d(k,q(L,"Integer"),"to_int"):0;if(!g(z))return c(this,"enum_for",["with_index",k],(F=function(){return(null==F.$$s?this:F.$$s).$size()},F.$$s=this,F.$$arity=0,F));var H=k;this.$each.$$p=function(){var K=q(L,"Opal").$destructure(arguments);K=z(K,H);H++;return K};return this.$each()},na.$$arity=-1);a.alias(J,"with_object","each_with_object");a.def(J,"$each_with_index",b=function(){var k=
b.$$p,t=k||x,z,F=x,H=x,K=x;k&&(b.$$p=null);H=0;K=arguments.length;for(F=Array(K);H<K;H++)F[H]=arguments[H];k&&(b.$$p=null);if(t===x)return c(this,"enum_for",["each_with_index"],(z=function(){return(null==z.$$s?this:z.$$s).$size()},z.$$s=this,z.$$arity=0,z));m(this,a.find_super_dispatcher(this,"each_with_index",b,!1,!0),"each_with_index",F,k);return this.object},b.$$arity=0);a.def(J,"$inspect",n=function(){var k="#<"+this.$class()+": "+this.object.$inspect()+":"+this.method;g(this.args["$any?"]())&&
(k=v(k,"("+this.args.$inspect()["$[]"](q(L,"Range").$new(1,-2))+")"));return v(k,">")},n.$$arity=0);(function(k,$super,z){k=y(k,$super,"Generator");var F=[k].concat(z),H,K;k.$$prototype.block=x;k.$include(q(F,"Enumerable"));a.def(k,"$initialize",H=function(){var da=H.$$p,va=da||x;da&&(H.$$p=null);da&&(H.$$p=null);g(va)||this.$raise(q(F,"LocalJumpError"),"no block given");return this.block=va},H.$$arity=0);return(a.def(k,"$each",K=function(da){var va=K.$$p,Na=va||x;va&&(K.$$p=null);va&&(K.$$p=null);
va=a.slice.call(arguments,0,arguments.length);Na=c(q(F,"Yielder"),"new",[],Na.$to_proc());try{va.unshift(Na),a.yieldX(this.block,va)}catch(wa){if(wa===e)return e.$v;throw wa;}return this},K.$$arity=-1),x)&&"each"})(L[0],null,L);(function(k,$super,z){k=y(k,$super,"Yielder");[k].concat(z);var F,H,K;k.$$prototype.block=x;a.def(k,"$initialize",F=function(){var da=F.$$p,va=da||x;da&&(F.$$p=null);da&&(F.$$p=null);return this.block=va},F.$$arity=0);a.def(k,"$yield",H=function(da){var va=a.slice.call(arguments,
0,arguments.length);va=a.yieldX(this.block,va);if(va===e)throw e;return va},H.$$arity=-1);return(a.def(k,"$<<",K=function(da){var va=a.slice.call(arguments,0,arguments.length);c(this,"yield",a.to_a(va));return this},K.$$arity=-1),x)&&"<<"})(L[0],null,L);(function(k,$super,z){k=y(k,$super,"Lazy");var F=[k].concat(z),H,K,da,va,Na,wa,Aa,Ka,oa,R,sa,ba,ka;k.$$prototype.enumerator=x;(function(Y,$super,V){[y(Y,$super,"StopLazyError")].concat(V);return x})(F[0],q(F,"Exception"),F);a.def(k,"$initialize",H=
function(Y,S){var V=H.$$p,ta=V||x,Da;V&&(H.$$p=null);V&&(H.$$p=null);null==S&&(S=x);ta===x&&this.$raise(q(F,"ArgumentError"),"tried to call lazy new without a block");this.enumerator=Y;return m(this,a.find_super_dispatcher(this,"initialize",H,!1,!0),"initialize",[S],(Da=function(ma,xa){var Ha=null==Da.$$s?this:Da.$$s,Ea;null==ma&&(ma=x);var Sa=a.slice.call(arguments,1,arguments.length);try{return c(Y,"each",a.to_a(Sa),(Ea=function(Qa){var Oa=a.slice.call(arguments,0,arguments.length);Oa.unshift(ma);
a.yieldX(ta,Oa)},Ea.$$s=Ha,Ea.$$arity=-1,Ea))}catch(Qa){if(a.rescue(Qa,[q(F,"Exception")]))try{return x}finally{a.pop_exception()}else throw Qa;}},Da.$$s=this,Da.$$arity=-2,Da))},H.$$arity=-2);a.alias(k,"force","to_a");a.def(k,"$lazy",K=function(){return this},K.$$arity=0);a.def(k,"$collect",da=function(){var Y=da.$$p,S=Y||x,V;Y&&(da.$$p=null);Y&&(da.$$p=null);g(S)||this.$raise(q(F,"ArgumentError"),"tried to call lazy map without a block");return c(q(F,"Lazy"),"new",[this,this.$enumerator_size()],
(V=function(ta,Da){null==ta&&(ta=x);var ma=a.slice.call(arguments,1,arguments.length);ma=a.yieldX(S,ma);ta.$yield(ma)},V.$$s=this,V.$$arity=-2,V))},da.$$arity=0);a.def(k,"$collect_concat",va=function(){var Y=va.$$p,S=Y||x,V;Y&&(va.$$p=null);Y&&(va.$$p=null);g(S)||this.$raise(q(F,"ArgumentError"),"tried to call lazy map without a block");return c(q(F,"Lazy"),"new",[this,x],(V=function(ta,Da){var ma=null==V.$$s?this:V.$$s,xa,Ha;null==ta&&(ta=x);var Ea=a.slice.call(arguments,1,arguments.length);Ea=a.yieldX(S,
Ea);Ea["$respond_to?"]("force")&&Ea["$respond_to?"]("each")?c(Ea,"each",[],(xa=function(Sa){null==Sa&&(Sa=x);return ta.$yield(Sa)},xa.$$s=ma,xa.$$arity=1,xa)):q(F,"Opal").$try_convert(Ea,q(F,"Array"),"to_ary")===x?ta.$yield(Ea):c(Ea,"each",[],(Ha=function(Sa){null==Sa&&(Sa=x);return ta.$yield(Sa)},Ha.$$s=ma,Ha.$$arity=1,Ha))},V.$$s=this,V.$$arity=-2,V))},va.$$arity=0);a.def(k,"$drop",Na=function(Y){var S,V=x,ta=V=x;Y=d(Y,q(F,"Integer"),"to_int");g(G(Y,0))&&this.$raise(q(F,"ArgumentError"),"attempt to drop negative size");
V=this.$enumerator_size();V=g(q(F,"Integer")["$==="](V))?g(G(Y,V))?Y:V:V;ta=0;return c(q(F,"Lazy"),"new",[this,V],(S=function(Da,ma){null==Da&&(Da=x);var xa=a.slice.call(arguments,1,arguments.length);return g(G(ta,Y))?ta=v(ta,1):c(Da,"yield",a.to_a(xa))},S.$$s=this,S.$$arity=-2,S))},Na.$$arity=1);a.def(k,"$drop_while",wa=function(){var Y=wa.$$p,S=Y||x,V,ta=x;Y&&(wa.$$p=null);Y&&(wa.$$p=null);g(S)||this.$raise(q(F,"ArgumentError"),"tried to call lazy drop_while without a block");ta=!0;return c(q(F,
"Lazy"),"new",[this,x],(V=function(Da,ma){null==Da&&(Da=x);var xa=a.slice.call(arguments,1,arguments.length);if(g(ta)){var Ha=a.yieldX(S,xa);B(Ha)&&(ta=!1,c(Da,"yield",a.to_a(xa)))}else return c(Da,"yield",a.to_a(xa))},V.$$s=this,V.$$arity=-2,V))},wa.$$arity=0);a.def(k,"$enum_for",Aa=function(Y,S){var V=Aa.$$p,ta=V||x;V&&(Aa.$$p=null);V&&(Aa.$$p=null);V=a.slice.call(arguments,0,arguments.length);if(0<V.length){var Da=V[0];V.splice(0,1)}null==Da&&(Da="each");return c(this.$class(),"for",[this,Da].concat(a.to_a(V)),
ta.$to_proc())},Aa.$$arity=-1);a.alias(k,"filter","find_all");a.def(k,"$find_all",Ka=function(){var Y=Ka.$$p,S=Y||x,V;Y&&(Ka.$$p=null);Y&&(Ka.$$p=null);g(S)||this.$raise(q(F,"ArgumentError"),"tried to call lazy select without a block");return c(q(F,"Lazy"),"new",[this,x],(V=function(ta,Da){null==ta&&(ta=x);var ma=a.slice.call(arguments,1,arguments.length);var xa=a.yieldX(S,ma);g(xa)&&c(ta,"yield",a.to_a(ma))},V.$$s=this,V.$$arity=-2,V))},Ka.$$arity=0);a.alias(k,"flat_map","collect_concat");a.def(k,
"$grep",oa=function(Y){var S=oa.$$p,V=S||x,ta,Da;S&&(oa.$$p=null);S&&(oa.$$p=null);return g(V)?c(q(F,"Lazy"),"new",[this,x],(ta=function(ma,xa){null==ma&&(ma=x);var Ha=a.slice.call(arguments,1,arguments.length);Ha=q(F,"Opal").$destructure(Ha);var Ea=Y["$==="](Ha);g(Ea)&&(a.yield1(V,Ha),ma.$yield(a.yield1(V,Ha)))},ta.$$s=this,ta.$$arity=-2,ta)):c(q(F,"Lazy"),"new",[this,x],(Da=function(ma,xa){null==ma&&(ma=x);var Ha=a.slice.call(arguments,1,arguments.length);Ha=q(F,"Opal").$destructure(Ha);var Ea=
Y["$==="](Ha);g(Ea)&&ma.$yield(Ha)},Da.$$s=this,Da.$$arity=-2,Da))},oa.$$arity=1);a.alias(k,"map","collect");a.alias(k,"select","find_all");a.def(k,"$reject",R=function(){var Y=R.$$p,S=Y||x,V;Y&&(R.$$p=null);Y&&(R.$$p=null);g(S)||this.$raise(q(F,"ArgumentError"),"tried to call lazy reject without a block");return c(q(F,"Lazy"),"new",[this,x],(V=function(ta,Da){null==ta&&(ta=x);var ma=a.slice.call(arguments,1,arguments.length);var xa=a.yieldX(S,ma);B(xa)&&c(ta,"yield",a.to_a(ma))},V.$$s=this,V.$$arity=
-2,V))},R.$$arity=0);a.def(k,"$take",sa=function(Y){var S,V=x,ta=V=x;Y=d(Y,q(F,"Integer"),"to_int");g(G(Y,0))&&this.$raise(q(F,"ArgumentError"),"attempt to take negative size");V=this.$enumerator_size();V=g(q(F,"Integer")["$==="](V))?g(G(Y,V))?Y:V:V;ta=0;return c(q(F,"Lazy"),"new",[this,V],(S=function(Da,ma){var xa=null==S.$$s?this:S.$$s;null==Da&&(Da=x);var Ha=a.slice.call(arguments,1,arguments.length);return g(G(ta,Y))?(c(Da,"yield",a.to_a(Ha)),ta=v(ta,1)):xa.$raise(q(F,"StopLazyError"))},S.$$s=
this,S.$$arity=-2,S))},sa.$$arity=1);a.def(k,"$take_while",ba=function(){var Y=ba.$$p,S=Y||x,V;Y&&(ba.$$p=null);Y&&(ba.$$p=null);g(S)||this.$raise(q(F,"ArgumentError"),"tried to call lazy take_while without a block");return c(q(F,"Lazy"),"new",[this,x],(V=function(ta,Da){var ma=null==V.$$s?this:V.$$s;null==ta&&(ta=x);var xa=a.slice.call(arguments,1,arguments.length);var Ha=a.yieldX(S,xa);g(Ha)?c(ta,"yield",a.to_a(xa)):ma.$raise(q(F,"StopLazyError"))},V.$$s=this,V.$$arity=-2,V))},ba.$$arity=0);a.alias(k,
"to_enum","enum_for");return(a.def(k,"$inspect",ka=function(){return"#<"+this.$class()+": "+this.enumerator.$inspect()+">"},ka.$$arity=0),x)&&"inspect"})(L[0],J,L);return function(k,$super,z){[y(k,$super,"ArithmeticSequence")].concat(z);return x}(L[0],J,L)}(r[0],null,r)};
Opal.modules["corelib/numeric"]=function(a){function v(c,m){return"number"===typeof c&&"number"===typeof m?c-m:c["$-"](m)}function G(c,m){return"number"===typeof c&&"number"===typeof m?c*m:c["$*"](m)}function p(c,m){return"number"===typeof c&&"number"===typeof m?c<m:c["$<"](m)}function r(c,m){return"number"===typeof c&&"number"===typeof m?c/m:c["$/"](m)}var x=a.top,q=[],e=a.nil,E=a.$$$,B=a.$$,g=a.klass,d=a.truthy,y=a.hash2;a.add_stubs("$require $include $instance_of? $class $Float $respond_to? $coerce $__send__ $=== $raise $equal? $- $* $div $< $-@ $ceil $to_f $denominator $to_r $== $floor $/ $% $Complex $zero? $numerator $abs $arg $coerce_to! $round $to_i $truncate $>".split(" "));
x.$require("corelib/comparable");return function(c,$super,J){c=g(c,$super,"Numeric");var f=[c].concat(J),h,L,D,Q,ja,fa,na,b,n,k,t,z,F,H,K,da,va,Na,wa,Aa,Ka,oa,R,sa,ba,ka,Y,S,V,ta,Da,ma,xa,Ha,Ea,Sa,Qa;c.$include(B(f,"Comparable"));a.def(c,"$coerce",h=function(Oa){return d(Oa["$instance_of?"](this.$class()))?[Oa,this]:[this.$Float(Oa),this.$Float(this)]},h.$$arity=1);a.def(c,"$__coerced__",L=function(Oa,kb){if(d(kb["$respond_to?"]("coerce"))){kb=kb.$coerce(this);var lb=a.to_ary(kb);var W=null==lb[0]?
e:lb[0];lb=null==lb[1]?e:lb[1];kb;return W.$__send__(Oa,lb)}return"+"["$==="](Oa)||"-"["$==="](Oa)||"*"["$==="](Oa)||"/"["$==="](Oa)||"%"["$==="](Oa)||"&"["$==="](Oa)||"|"["$==="](Oa)||"^"["$==="](Oa)||"**"["$==="](Oa)?this.$raise(B(f,"TypeError"),""+kb.$class()+" can't be coerced into Numeric"):">"["$==="](Oa)||">="["$==="](Oa)||"<"["$==="](Oa)||"<="["$==="](Oa)||"<=>"["$==="](Oa)?this.$raise(B(f,"ArgumentError"),"comparison of "+this.$class()+" with "+kb.$class()+" failed"):e},L.$$arity=2);a.def(c,
"$<=>",D=function(Oa){return d(this["$equal?"](Oa))?0:e},D.$$arity=1);a.def(c,"$+@",Q=function(){return this},Q.$$arity=0);a.def(c,"$-@",ja=function(){return v(0,this)},ja.$$arity=0);a.def(c,"$%",fa=function(Oa){return v(this,G(Oa,this.$div(Oa)))},fa.$$arity=1);a.def(c,"$abs",na=function(){return p(this,0)?this["$-@"]():this},na.$$arity=0);a.def(c,"$abs2",b=function(){return G(this,this)},b.$$arity=0);a.def(c,"$angle",n=function(){return p(this,0)?E(B(f,"Math"),"PI"):0},n.$$arity=0);a.alias(c,"arg",
"angle");a.def(c,"$ceil",k=function(Oa){null==Oa&&(Oa=0);return this.$to_f().$ceil(Oa)},k.$$arity=-1);a.def(c,"$conj",t=function(){return this},t.$$arity=0);a.alias(c,"conjugate","conj");a.def(c,"$denominator",z=function(){return this.$to_r().$denominator()},z.$$arity=0);a.def(c,"$div",F=function(Oa){Oa["$=="](0)&&this.$raise(B(f,"ZeroDivisionError"),"divided by o");return r(this,Oa).$floor()},F.$$arity=1);a.def(c,"$divmod",H=function(Oa){return[this.$div(Oa),this["$%"](Oa)]},H.$$arity=1);a.def(c,
"$fdiv",K=function(Oa){return r(this.$to_f(),Oa)},K.$$arity=1);a.def(c,"$floor",da=function(Oa){null==Oa&&(Oa=0);return this.$to_f().$floor(Oa)},da.$$arity=-1);a.def(c,"$i",va=function(){return this.$Complex(0,this)},va.$$arity=0);a.def(c,"$imag",Na=function(){return 0},Na.$$arity=0);a.alias(c,"imaginary","imag");a.def(c,"$integer?",wa=function(){return!1},wa.$$arity=0);a.alias(c,"magnitude","abs");a.alias(c,"modulo","%");a.def(c,"$nonzero?",Aa=function(){return d(this["$zero?"]())?e:this},Aa.$$arity=
0);a.def(c,"$numerator",Ka=function(){return this.$to_r().$numerator()},Ka.$$arity=0);a.alias(c,"phase","arg");a.def(c,"$polar",oa=function(){return[this.$abs(),this.$arg()]},oa.$$arity=0);a.def(c,"$quo",R=function(Oa){return r(B(f,"Opal")["$coerce_to!"](this,B(f,"Rational"),"to_r"),Oa)},R.$$arity=1);a.def(c,"$real",sa=function(){return this},sa.$$arity=0);a.def(c,"$real?",ba=function(){return!0},ba.$$arity=0);a.def(c,"$rect",ka=function(){return[this,0]},ka.$$arity=0);a.alias(c,"rectangular","rect");
a.def(c,"$round",Y=function(Oa){return this.$to_f().$round(Oa)},Y.$$arity=-1);a.def(c,"$to_c",S=function(){return this.$Complex(this,0)},S.$$arity=0);a.def(c,"$to_int",V=function(){return this.$to_i()},V.$$arity=0);a.def(c,"$truncate",ta=function(Oa){null==Oa&&(Oa=0);return this.$to_f().$truncate(Oa)},ta.$$arity=-1);a.def(c,"$zero?",Da=function(){return this["$=="](0)},Da.$$arity=0);a.def(c,"$positive?",ma=function(){return"number"===typeof this?0<this:this["$>"](0)},ma.$$arity=0);a.def(c,"$negative?",
xa=function(){return p(this,0)},xa.$$arity=0);a.def(c,"$dup",Ha=function(){return this},Ha.$$arity=0);a.def(c,"$clone",Ea=function(Oa){if(null==Oa)y([],{});else if(!Oa.$$is_hash)throw a.ArgumentError.$new("expected kwargs");return this},Ea.$$arity=-1);a.def(c,"$finite?",Sa=function(){return!0},Sa.$$arity=0);return(a.def(c,"$infinite?",Qa=function(){return e},Qa.$$arity=0),e)&&"infinite?"}(q[0],null,q)};
Opal.modules["corelib/array"]=function(a){function v(ja,fa){return"number"===typeof ja&&"number"===typeof fa?ja>fa:ja["$>"](fa)}var G=a.top,p=[],r=a.nil,x=a.$$$,q=a.$$,e=a.truthy,E=a.falsy,B=a.hash_ids,g=a.yield1,d=a.hash_get,y=a.hash_put,c=a.hash_delete,m=a.coerce_to,J=a.respond_to,f=a.klass,h=a.hash2,L=a.send2,D=a.send,Q=a.gvars;a.add_stubs("$require $include $to_a $warn $raise $replace $respond_to? $to_ary $coerce_to? $=== $join $to_str $class $hash $<=> $== $object_id $inspect $enum_for $bsearch_index $to_proc $nil? $coerce_to! $> $* $enumerator_size $empty? $size $map $equal? $dup $each $[] $dig $eql? $length $exclude_end? $flatten $__id__ $to_s $new $max $min $! $>= $** $delete_if $reverse $rotate $rand $at $keep_if $shuffle! $< $sort $sort_by $!= $times $[]= $- $<< $values $is_a? $last $first $upto $reject $pristine $singleton_class".split(" "));
G.$require("corelib/enumerable");G.$require("corelib/numeric");return function(ja,$super,na){function b(u,I){return I.$$name===a.Array?u:I.$allocate().$replace(u.$to_a())}function n(u,I,O){for(var ea,ia=null,qa=Array(u.length),Pa=0,eb=0,Za=u.length;Pa<Za;Pa++){if(!ia)try{ea=g(O,u[Pa])}catch(jb){ia=jb}if(ia||I(ea))qa[eb]=u[Pa],eb+=1}eb!==Pa&&(u.splice.apply(u,[0,qa.length].concat(qa)),u.splice(eb,qa.length));if(ia)throw ia;}function k(u,I){var O=u.length;var ea=I.excl;var ia=m(I.begin,a.Integer,"to_int");
I=m(I.end,a.Integer,"to_int");if(0>ia&&(ia+=O,0>ia)||ia>O)return r;if(0>I&&(I+=O,0>I))return[];ea||(I+=1);O=u.slice(ia,I);return b(O,u.$class())}function t(u,I,O){var ea=u.length;I=m(I,a.Integer,"to_int");if(0>I&&(I+=ea,0>I))return r;if(void 0===O)return I>=ea||0>I?r:u[I];O=m(O,a.Integer,"to_int");if(0>O||I>ea||0>I)return r;I=u.slice(I,I+O);return b(I,u.$class())}function z(u,I){return u===I||0===I?1:0<I&&u>I?z(u-1,I-1)+z(u-1,I):0}var F=f(ja,$super,"Array"),H=[F].concat(na),K,da,va,Na,wa,Aa,Ka,oa,
R,sa,ba,ka,Y,S,V,ta,Da,ma,xa,Ha,Ea,Sa,Qa,Oa,kb,lb,W,ya,Ca,Va,hb,cb,$a,ab,za,ua,La,Ra,Ya,Fa,Z,P,aa,T,ha,la,l,C,M,ca,w,U,pa,Ja,ib,ob,mb,sb,tb,wb,xb,ub,X,Ma,bb,A,N,ra,Ga,Ba,Ia,Wa,gb,db,Ta,Xa,fb,qb,nb,pb,Gb,Ab,Jb,Bb,Kb,Cb,Db,Lb,Mb,Eb,Nb,Fb,Ob;F.$include(q(H,"Enumerable"));a.defineProperty(F.$$prototype,"$$is_array",!0);a.defs(F,"$[]",K=function(u){var I=a.slice.call(arguments,0,arguments.length);return b(I,this)},K.$$arity=-1);a.def(F,"$initialize",da=function(u,I){var O=da.$$p,ea=O||r;O&&(da.$$p=null);
O&&(da.$$p=null);null==u&&(u=r);null==I&&(I=r);I!==r&&ea!==r&&this.$warn("warning: block supersedes default value argument");u>x(q(H,"Integer"),"MAX")&&this.$raise(q(H,"ArgumentError"),"array size too big");2<arguments.length&&this.$raise(q(H,"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..2)");if(0===arguments.length)return this.splice(0,this.length),this;if(1===arguments.length){if(u.$$is_array)return this.$replace(u.$to_a()),this;if(u["$respond_to?"]("to_ary"))return this.$replace(u.$to_ary()),
this}u=m(u,q(H,"Integer"),"to_int");0>u&&this.$raise(q(H,"ArgumentError"),"negative array size");this.splice(0,this.length);if(ea===r)for(O=0;O<u;O++)this.push(I);else for(O=0,ia;O<u;O++){var ia=ea(O);this[O]=ia}return this},da.$$arity=-1);a.defs(F,"$try_convert",va=function(u){return q(H,"Opal")["$coerce_to?"](u,q(H,"Array"),"to_ary")},va.$$arity=1);a.def(F,"$&",Na=function(u){u=e(q(H,"Array")["$==="](u))?u.$to_a():m(u,q(H,"Array"),"to_ary").$to_a();var I=[],O=h([],{}),ea;var ia=0;for(ea=u.length;ia<
ea;ia++)y(O,u[ia],!0);ia=0;for(ea=this.length;ia<ea;ia++)u=this[ia],void 0!==c(O,u)&&I.push(u);return I},Na.$$arity=1);a.def(F,"$|",wa=function(u){u=e(q(H,"Array")["$==="](u))?u.$to_a():m(u,q(H,"Array"),"to_ary").$to_a();var I=h([],{}),O;var ea=0;for(O=this.length;ea<O;ea++)y(I,this[ea],!0);ea=0;for(O=u.length;ea<O;ea++)y(I,u[ea],!0);return I.$keys()},wa.$$arity=1);a.def(F,"$*",Aa=function(u){if(e(u["$respond_to?"]("to_str")))return this.$join(u.$to_str());u=m(u,q(H,"Integer"),"to_int");e(0>u)&&this.$raise(q(H,
"ArgumentError"),"negative argument");for(var I=[],O=this.$to_a(),ea=0;ea<u;ea++)I=I.concat(O);return b(I,this.$class())},Aa.$$arity=1);a.def(F,"$+",Ka=function(u){u=e(q(H,"Array")["$==="](u))?u.$to_a():m(u,q(H,"Array"),"to_ary").$to_a();return this.concat(u)},Ka.$$arity=1);a.def(F,"$-",oa=function(u){u=e(q(H,"Array")["$==="](u))?u.$to_a():m(u,q(H,"Array"),"to_ary").$to_a();if(e(0===this.length))return[];if(e(0===u.length))return this.slice();var I=[],O=h([],{}),ea;var ia=0;for(ea=u.length;ia<ea;ia++)y(O,
u[ia],!0);ia=0;for(ea=this.length;ia<ea;ia++)u=this[ia],void 0===d(O,u)&&I.push(u);return I},oa.$$arity=1);a.def(F,"$<<",R=function(u){this.push(u);return this},R.$$arity=1);a.def(F,"$<=>",sa=function(u){if(e(q(H,"Array")["$==="](u)))u=u.$to_a();else if(e(u["$respond_to?"]("to_ary")))u=u.$to_ary().$to_a();else return r;if(this.$hash()===u.$hash())return 0;for(var I=Math.min(this.length,u.length),O=0;O<I;O++){var ea=this[O]["$<=>"](u[O]);if(0!==ea)return ea}return this.length["$<=>"](u.length)},sa.$$arity=
1);a.def(F,"$==",ba=function(u){function I(ea,ia){var qa;if(ea===ia)return!0;if(!ia.$$is_array)return J(ia,"$to_ary")?ia["$=="](ea):!1;ea.$$constructor!==Array&&(ea=ea.$to_a());ia.$$constructor!==Array&&(ia=ia.$to_a());if(ea.length!==ia.length)return!1;O[ea.$object_id()]=!0;var Pa=0;for(qa=ea.length;Pa<qa;Pa++){var eb=ea[Pa];var Za=ia[Pa];if(eb.$$is_array){if(Za.$$is_array&&Za.length!==eb.length||!O.hasOwnProperty(eb.$object_id())&&!I(eb,Za))return!1}else if(!eb["$=="](Za))return!1}return!0}var O=
{};return I(this,u)},ba.$$arity=1);a.def(F,"$[]",ka=function(u,I){return u.$$is_range?k(this,u):t(this,u,I)},ka.$$arity=-2);a.def(F,"$[]=",Y=function(u,I,O){var ea=r;var ia=this.length;if(e(q(H,"Range")["$==="](u))){ea=e(q(H,"Array")["$==="](I))?I.$to_a():e(I["$respond_to?"]("to_ary"))?I.$to_ary().$to_a():[I];var qa=u.excl;O=m(u.begin,q(H,"Integer"),"to_int");var Pa=m(u.end,q(H,"Integer"),"to_int");0>O&&(O+=ia,0>O&&this.$raise(q(H,"RangeError"),""+u.$inspect()+" out of range"));0>Pa&&(Pa+=ia);qa||
(Pa+=1);if(O>ia)for(;ia<O;ia++)this[ia]=r;0>Pa?this.splice.apply(this,[O,0].concat(ea)):this.splice.apply(this,[O,Pa-O].concat(ea))}else{e(void 0===O)?Pa=1:(Pa=I,I=O,ea=e(q(H,"Array")["$==="](I))?I.$to_a():e(I["$respond_to?"]("to_ary"))?I.$to_ary().$to_a():[I]);u=m(u,q(H,"Integer"),"to_int");Pa=m(Pa,q(H,"Integer"),"to_int");0>u&&(qa=u,u+=ia,0>u&&this.$raise(q(H,"IndexError"),"index "+qa+" too small for array; minimum "+-this.length));0>Pa&&this.$raise(q(H,"IndexError"),"negative length ("+Pa+")");
if(u>ia)for(;ia<u;ia++)this[ia]=r;void 0===O?this[u]=I:this.splice.apply(this,[u,Pa].concat(ea))}return I},Y.$$arity=-3);a.def(F,"$any?",S=function(u){var I=S.$$p,O;I&&(S.$$p=null);var ea=0;var ia=arguments.length;for(O=Array(ia);ea<ia;ea++)O[ea]=arguments[ea];I&&(S.$$p=null);return 0===this.length?!1:L(this,a.find_super_dispatcher(this,"any?",S,!1,!0),"any?",O,I)},S.$$arity=-1);a.def(F,"$assoc",V=function(u){for(var I=0,O=this.length,ea;I<O;I++)if(ea=this[I],ea.length&&ea[0]["$=="](u))return ea;
return r},V.$$arity=1);a.def(F,"$at",ta=function(u){u=m(u,q(H,"Integer"),"to_int");0>u&&(u+=this.length);return 0>u||u>=this.length?r:this[u]},ta.$$arity=1);a.def(F,"$bsearch_index",Da=function(){var u=Da.$$p,I=u||r;u&&(Da.$$p=null);u&&(Da.$$p=null);if(I===r)return this.$enum_for("bsearch_index");u=0;for(var O=this.length,ea,ia,qa=!1,Pa=r;u<O;){ea=u+Math.floor((O-u)/2);ia=this[ea];ia=g(I,ia);if(!0===ia)Pa=ea,qa=!0;else if(!1===ia||ia===r)qa=!1;else if(ia.$$is_number){if(0===ia)return ea;qa=0>ia}else this.$raise(q(H,
"TypeError"),"wrong argument type "+ia.$class()+" (must be numeric, true, false or nil)");qa?O=ea:u=ea+1}return Pa},Da.$$arity=0);a.def(F,"$bsearch",ma=function(){var u=ma.$$p,I=u||r;u&&(ma.$$p=null);u&&(ma.$$p=null);if(I===r)return this.$enum_for("bsearch");u=D(this,"bsearch_index",[],I.$to_proc());return null!=u&&u.$$is_number?this[u]:u},ma.$$arity=0);a.def(F,"$cycle",xa=function(u){var I=xa.$$p,O=I||r,ea,ia=r;I&&(xa.$$p=null);I&&(xa.$$p=null);null==u&&(u=r);if(O===r)return D(this,"enum_for",["cycle",
u],(ea=function(){var qa=null==ea.$$s?this:ea.$$s;if(e(u["$nil?"]()))return x(q(H,"Float"),"INFINITY");u=q(H,"Opal")["$coerce_to!"](u,q(H,"Integer"),"to_int");return e(v(u,0))?(qa=qa.$enumerator_size(),"number"===typeof qa&&"number"===typeof u?qa*u:qa["$*"](u)):0},ea.$$s=this,ea.$$arity=0,ea));if(e(e(ia=this["$empty?"]())?ia:u["$=="](0)))return r;if(u===r)for(;;)for(I=0,ia=this.length;I<ia;I++)g(O,this[I]);else{u=q(H,"Opal")["$coerce_to!"](u,q(H,"Integer"),"to_int");if(0>=u)return this;for(;0<u;){I=
0;for(ia=this.length;I<ia;I++)g(O,this[I]);u--}}return this},xa.$$arity=-1);a.def(F,"$clear",Ha=function(){this.splice(0,this.length);return this},Ha.$$arity=0);a.def(F,"$count",Ea=function(u){var I=Ea.$$p,O=I||r,ea=r,ia;I&&(Ea.$$p=null);var qa=0;var Pa=arguments.length;for(ia=Array(Pa);qa<Pa;qa++)ia[qa]=arguments[qa];I&&(Ea.$$p=null);null==u&&(u=r);return e(e(ea=u)?ea:O)?L(this,a.find_super_dispatcher(this,"count",Ea,!1,!0),"count",ia,I):this.$size()},Ea.$$arity=-1);a.def(F,"$initialize_copy",Sa=
function(u){return this.$replace(u)},Sa.$$arity=1);a.def(F,"$collect",Qa=function(){var u=Qa.$$p,I=u||r,O;u&&(Qa.$$p=null);u&&(Qa.$$p=null);if(I===r)return D(this,"enum_for",["collect"],(O=function(){return(null==O.$$s?this:O.$$s).$size()},O.$$s=this,O.$$arity=0,O));u=[];for(var ea=0,ia=this.length;ea<ia;ea++){var qa=g(I,this[ea]);u.push(qa)}return u},Qa.$$arity=0);a.def(F,"$collect!",Oa=function(){var u=Oa.$$p,I=u||r,O;u&&(Oa.$$p=null);u&&(Oa.$$p=null);if(I===r)return D(this,"enum_for",["collect!"],
(O=function(){return(null==O.$$s?this:O.$$s).$size()},O.$$s=this,O.$$arity=0,O));u=0;for(var ea=this.length;u<ea;u++){var ia=g(I,this[u]);this[u]=ia}return this},Oa.$$arity=0);a.def(F,"$combination",kb=function(u){var I,O=kb.$$p,ea=O||r,ia=r;O&&(kb.$$p=null);ia=q(H,"Opal")["$coerce_to!"](u,q(H,"Integer"),"to_int");if(ea===r)return D(this,"enum_for",["combination",ia],(I=function(){return z((null==I.$$s?this:I.$$s).length,ia)},I.$$s=this,I.$$arity=0,I));if(0===ia)a.yield1(ea,[]);else if(1===ia)for(O=
0,u=this.length;O<u;O++)a.yield1(ea,[this[O]]);else if(ia===this.length)a.yield1(ea,this.slice());else if(0<=ia&&ia<this.length){u=[];for(O=0;O<=ia+1;O++)u.push(0);O=[];var qa=0;var Pa=!1;for(u[0]=-1;!Pa;){for(O[qa]=this[u[qa+1]];qa<ia-1;)qa++,Pa=u[qa+1]=u[qa]+1,O[qa]=this[Pa];a.yield1(ea,O.slice());qa++;do Pa=0===qa,u[qa]++,qa--;while(u[qa+1]+ia===this.length+qa+1)}}return this},kb.$$arity=1);a.def(F,"$repeated_combination",lb=function(u){function I(Pa,eb,Za,jb){if(Za.length==Pa)Pa=Za.slice(),a.yield1(ia,
Pa);else for(;eb<jb.length;eb++)Za.push(jb[eb]),I(Pa,eb,Za,jb),Za.pop()}var O,ea=lb.$$p,ia=ea||r,qa=r;ea&&(lb.$$p=null);qa=q(H,"Opal")["$coerce_to!"](u,q(H,"Integer"),"to_int");if(ia===r)return D(this,"enum_for",["repeated_combination",qa],(O=function(){return z((null==O.$$s?this:O.$$s).length+qa-1,qa)},O.$$s=this,O.$$arity=0,O));0<=qa&&I(qa,0,[],this);return this},lb.$$arity=1);a.def(F,"$compact",W=function(){for(var u=[],I=0,O=this.length,ea;I<O;I++)(ea=this[I])!==r&&u.push(ea);return u},W.$$arity=
0);a.def(F,"$compact!",ya=function(){for(var u=this.length,I=0,O=this.length;I<O;I++)this[I]===r&&(this.splice(I,1),O--,I--);return this.length===u?r:this},ya.$$arity=0);a.def(F,"$concat",Ca=function(u){var I,O;var ea=a.slice.call(arguments,0,arguments.length);ea=D(ea,"map",[],(I=function(ia){var qa=null==I.$$s?this:I.$$s;null==ia&&(ia=r);ia=e(q(H,"Array")["$==="](ia))?ia.$to_a():m(ia,q(H,"Array"),"to_ary").$to_a();e(ia["$equal?"](qa))&&(ia=ia.$dup());return ia},I.$$s=this,I.$$arity=1,I));D(ea,"each",
[],(O=function(ia){var qa=null==O.$$s?this:O.$$s;null==ia&&(ia=r);for(var Pa=0,eb=ia.length;Pa<eb;Pa++)qa.push(ia[Pa])},O.$$s=this,O.$$arity=1,O));return this},Ca.$$arity=-1);a.def(F,"$delete",Va=function(u){var I=Va.$$p,O=I||r;I&&(Va.$$p=null);I=this.length;for(var ea=0,ia=I;ea<ia;ea++)this[ea]["$=="](u)&&(this.splice(ea,1),ia--,ea--);return this.length===I?O!==r?a.yieldX(O,[]):r:u},Va.$$arity=1);a.def(F,"$delete_at",hb=function(u){u=m(u,q(H,"Integer"),"to_int");0>u&&(u+=this.length);if(0>u||u>=
this.length)return r;var I=this[u];this.splice(u,1);return I},hb.$$arity=1);a.def(F,"$delete_if",cb=function(){var u=cb.$$p,I=u||r,O;u&&(cb.$$p=null);u&&(cb.$$p=null);if(I===r)return D(this,"enum_for",["delete_if"],(O=function(){return(null==O.$$s?this:O.$$s).$size()},O.$$s=this,O.$$arity=0,O));n(this,E,I);return this},cb.$$arity=0);a.alias(F,"difference","-");a.def(F,"$dig",$a=function(u,I){var O=a.slice.call(arguments,1,arguments.length);var ea=this["$[]"](u);if(ea===r||0===O.length)return ea;e(ea["$respond_to?"]("dig"))||
this.$raise(q(H,"TypeError"),""+ea.$class()+" does not have #dig method");return D(ea,"dig",a.to_a(O))},$a.$$arity=-2);a.def(F,"$drop",ab=function(u){0>u&&this.$raise(q(H,"ArgumentError"));return this.slice(u)},ab.$$arity=1);a.def(F,"$dup",za=function(){var u=za.$$p,I;u&&(za.$$p=null);var O=0;var ea=arguments.length;for(I=Array(ea);O<ea;O++)I[O]=arguments[O];return this.$$class===a.Array&&this.$$class.$allocate.$$pristine&&this.$copy_instance_variables.$$pristine&&this.$initialize_dup.$$pristine?
this.slice(0):L(this,a.find_super_dispatcher(this,"dup",za,!1,!0),"dup",I,u)},za.$$arity=0);a.def(F,"$each",ua=function(){var u=ua.$$p,I=u||r,O;u&&(ua.$$p=null);u&&(ua.$$p=null);if(I===r)return D(this,"enum_for",["each"],(O=function(){return(null==O.$$s?this:O.$$s).$size()},O.$$s=this,O.$$arity=0,O));u=0;for(var ea=this.length;u<ea;u++)g(I,this[u]);return this},ua.$$arity=0);a.def(F,"$each_index",La=function(){var u=La.$$p,I=u||r,O;u&&(La.$$p=null);u&&(La.$$p=null);if(I===r)return D(this,"enum_for",
["each_index"],(O=function(){return(null==O.$$s?this:O.$$s).$size()},O.$$s=this,O.$$arity=0,O));u=0;for(var ea=this.length;u<ea;u++)g(I,u);return this},La.$$arity=0);a.def(F,"$empty?",Ra=function(){return 0===this.length},Ra.$$arity=0);a.def(F,"$eql?",Ya=function(u){function I(ea,ia){var qa;if(!ia.$$is_array)return!1;ia=ia.$to_a();if(ea.length!==ia.length)return!1;O[ea.$object_id()]=!0;var Pa=0;for(qa=ea.length;Pa<qa;Pa++){var eb=ea[Pa];var Za=ia[Pa];if(eb.$$is_array){if(Za.$$is_array&&Za.length!==
eb.length||!O.hasOwnProperty(eb.$object_id())&&!I(eb,Za))return!1}else if(!eb["$eql?"](Za))return!1}return!0}var O={};return I(this,u)},Ya.$$arity=1);a.def(F,"$fetch",Fa=function(u,I){var O=Fa.$$p,ea=O||r;O&&(Fa.$$p=null);O&&(Fa.$$p=null);O=u;u=m(u,q(H,"Integer"),"to_int");0>u&&(u+=this.length);if(0<=u&&u<this.length)return this[u];ea!==r&&null!=I&&this.$warn("warning: block supersedes default value argument");if(ea!==r)return ea(O);if(null!=I)return I;0===this.length?this.$raise(q(H,"IndexError"),
"index "+O+" outside of array bounds: 0...0"):this.$raise(q(H,"IndexError"),"index "+O+" outside of array bounds: -"+this.length+"..."+this.length)},Fa.$$arity=-2);a.def(F,"$fill",Z=function(u){var I=Z.$$p,O=I||r,ea=r;I&&(Z.$$p=null);I&&(Z.$$p=null);I=a.slice.call(arguments,0,arguments.length);if(e(O)){e(2<I.length)&&this.$raise(q(H,"ArgumentError"),"wrong number of arguments ("+I.$length()+" for 0..2)");var ia=I;var qa=a.to_ary(ia);I=null==qa[0]?r:qa[0];qa=null==qa[1]?r:qa[1]}else e(0==I.length)?
this.$raise(q(H,"ArgumentError"),"wrong number of arguments (0 for 1..3)"):e(3<I.length)&&this.$raise(q(H,"ArgumentError"),"wrong number of arguments ("+I.$length()+" for 1..3)"),ia=I,qa=a.to_ary(ia),ea=null==qa[0]?r:qa[0],I=null==qa[1]?r:qa[1],qa=null==qa[2]?r:qa[2];ia;if(e(q(H,"Range")["$==="](I))){if(e(qa)&&this.$raise(q(H,"TypeError"),"length invalid with range"),ia=m(I.begin,q(H,"Integer"),"to_int"),e(0>ia)&&(ia+=this.length),e(0>ia)&&this.$raise(q(H,"RangeError"),""+I.$inspect()+" out of range"),
qa=m(I.end,q(H,"Integer"),"to_int"),e(0>qa)&&(qa+=this.length),e(I["$exclude_end?"]())||(qa+=1),e(qa<=ia))return this}else if(e(I))if(ia=m(I,q(H,"Integer"),"to_int"),e(0>ia)&&(ia+=this.length),e(0>ia)&&(ia=0),e(qa)){qa=m(qa,q(H,"Integer"),"to_int");if(e(0==qa))return this;qa+=ia}else qa=this.length;else ia=0,qa=this.length;if(e(ia>this.length))for(I=this.length;I<qa;I++)this[I]=r;e(qa>this.length)&&(this.length=qa);if(e(O))for(;ia<qa;ia++)ea=O(ia),this[ia]=ea;else for(;ia<qa;ia++)this[ia]=ea;return this},
Z.$$arity=-1);a.def(F,"$first",P=function(u){if(null==u)return 0===this.length?r:this[0];u=m(u,q(H,"Integer"),"to_int");0>u&&this.$raise(q(H,"ArgumentError"),"negative array size");return this.slice(0,u)},P.$$arity=-1);a.def(F,"$flatten",aa=function(u){function I(ea,ia){var qa=[],Pa;ea=ea.$to_a();var eb=0;for(Pa=ea.length;eb<Pa;eb++){var Za=ea[eb];if(J(Za,"$to_ary",!0)){var jb=Za.$to_ary();if(jb===r)qa.push(Za);else switch(jb.$$is_array||O.$raise(q(H,"TypeError")),jb===O&&O.$raise(q(H,"ArgumentError")),
ia){case void 0:qa=qa.concat(I(jb));break;case 0:qa.push(jb);break;default:qa.push.apply(qa,I(jb,ia-1))}}else qa.push(Za)}return qa}var O=this;void 0!==u&&(u=m(u,q(H,"Integer"),"to_int"));return b(I(O,u),O.$class())},aa.$$arity=-1);a.def(F,"$flatten!",T=function(u){u=this.$flatten(u);if(this.length==u.length){for(var I=0,O=this.length;I<O&&this[I]===u[I];I++);if(I==O)return r}this.$replace(u);return this},T.$$arity=-1);a.def(F,"$hash",ha=function(){var u=void 0===B,I=["A"],O=this.$object_id(),ea,
ia;try{u&&(B=Object.create(null));if(B[O])return"self";for(ia in B){var qa=B[ia];if(this["$eql?"](qa))return"self"}B[O]=this;for(ea=0;ea<this.length;ea++)qa=this[ea],I.push(qa.$hash());return I.join(",")}finally{u&&(B=void 0)}},ha.$$arity=0);a.def(F,"$include?",la=function(u){for(var I=0,O=this.length;I<O;I++)if(this[I]["$=="](u))return!0;return!1},la.$$arity=1);a.def(F,"$index",l=function(u){var I=l.$$p,O=I||r;I&&(l.$$p=null);I&&(l.$$p=null);var ea;null!=u&&O!==r&&this.$warn("warning: given block not used");
if(null!=u)for(I=0,ea=this.length;I<ea;I++){if(this[I]["$=="](u))return I}else if(O!==r)for(I=0,ea=this.length;I<ea;I++){if(u=O(this[I]),!1!==u&&u!==r)return I}else return this.$enum_for("index");return r},l.$$arity=-1);a.def(F,"$insert",C=function(u,I){var O=a.slice.call(arguments,1,arguments.length);u=m(u,q(H,"Integer"),"to_int");if(0<O.length){0>u&&(u+=this.length+1,0>u&&this.$raise(q(H,"IndexError"),""+u+" is out of bounds"));if(u>this.length)for(var ea=this.length;ea<u;ea++)this.push(r);this.splice.apply(this,
[u,0].concat(O))}return this},C.$$arity=-2);a.def(F,"$inspect",M=function(){for(var u=[],I=this.$__id__(),O=0,ea=this.length;O<ea;O++){var ia=this["$[]"](O);ia.$__id__()===I?u.push("[...]"):u.push(ia.$inspect())}return"["+u.join(", ")+"]"},M.$$arity=0);a.alias(F,"intersection","&");a.def(F,"$join",ca=function(u){null==Q[","]&&(Q[","]=r);null==u&&(u=r);if(e(0===this.length))return"";e(u===r)&&(u=Q[","]);var I=[],O;var ea=0;for(O=this.length;ea<O;ea++){var ia=this[ea];if(J(ia,"$to_str")){var qa=ia.$to_str();
if(qa!==r){I.push(qa.$to_s());continue}}if(J(ia,"$to_ary")&&(qa=ia.$to_ary(),qa===this&&this.$raise(q(H,"ArgumentError")),qa!==r)){I.push(qa.$join(u));continue}if(J(ia,"$to_s")&&(qa=ia.$to_s(),qa!==r)){I.push(qa);continue}this.$raise(q(H,"NoMethodError").$new(""+a.inspect(ia)+" doesn't respond to #to_str, #to_ary or #to_s","to_str"))}return u===r?I.join(""):I.join(q(H,"Opal")["$coerce_to!"](u,q(H,"String"),"to_str").$to_s())},ca.$$arity=-1);a.def(F,"$keep_if",w=function(){var u=w.$$p,I=u||r,O;u&&
(w.$$p=null);u&&(w.$$p=null);if(I===r)return D(this,"enum_for",["keep_if"],(O=function(){return(null==O.$$s?this:O.$$s).$size()},O.$$s=this,O.$$arity=0,O));n(this,e,I);return this},w.$$arity=0);a.def(F,"$last",U=function(u){if(null==u)return 0===this.length?r:this[this.length-1];u=m(u,q(H,"Integer"),"to_int");0>u&&this.$raise(q(H,"ArgumentError"),"negative array size");u>this.length&&(u=this.length);return this.slice(this.length-u,this.length)},U.$$arity=-1);a.def(F,"$length",pa=function(){return this.length},
pa.$$arity=0);a.alias(F,"map","collect");a.alias(F,"map!","collect!");a.def(F,"$max",Ja=function(u){var I=Ja.$$p,O=I||r;I&&(Ja.$$p=null);I&&(Ja.$$p=null);return D(this.$each(),"max",[u],O.$to_proc())},Ja.$$arity=-1);a.def(F,"$min",ib=function(){var u=ib.$$p,I=u||r;u&&(ib.$$p=null);u&&(ib.$$p=null);return D(this.$each(),"min",[],I.$to_proc())},ib.$$arity=0);a.def(F,"$permutation",ob=function(u){var I=ob.$$p,O=I||r,ea,ia=this,qa=r,Pa=r;I&&(ob.$$p=null);I&&(ob.$$p=null);if(O===r)return D(ia,"enum_for",
["permutation",u],(ea=function(){var jb=null==ea.$$s?this:ea.$$s,vb=jb.length;jb=void 0===u?jb.length:u;for(var yb=0<=jb?1:0;jb;)yb*=vb,vb--,jb--;return yb},ea.$$s=ia,ea.$$arity=0,ea));var eb;u=void 0===u?ia.length:m(u,q(H,"Integer"),"to_int");if(!(0>u||ia.length<u))if(0===u)a.yield1(O,[]);else if(1===u)for(qa=0;qa<ia.length;qa++)a.yield1(O,[ia[qa]]);else{qa=q(H,"Array").$new(u);Pa=q(H,"Array").$new(ia.length,!1);var Za=function(jb,vb,yb,Hb,Pb){ia=this;for(var zb=0;zb<ia.length;zb++)if(Hb["$[]"](zb)["$!"]())if(vb[yb]=
zb,yb<jb-1)Hb[zb]=!0,Za.call(ia,jb,vb,yb+1,Hb,Pb),Hb[zb]=!1;else{eb=[];for(var Ib=0;Ib<vb.length;Ib++)eb.push(ia[vb[Ib]]);g(Pb,eb)}};O!==r?(I=ia.slice(),Za.call(I,u,qa,0,Pa,O)):Za.call(ia,u,qa,0,Pa,O)}return ia},ob.$$arity=-1);a.def(F,"$repeated_permutation",mb=function(u){function I(Pa,eb,Za){if(eb.length==Pa)Pa=eb.slice(),a.yield1(ia,Pa);else for(var jb=0;jb<Za.length;jb++)eb.push(Za[jb]),I(Pa,eb,Za),eb.pop()}var O,ea=mb.$$p,ia=ea||r,qa=r;ea&&(mb.$$p=null);qa=q(H,"Opal")["$coerce_to!"](u,q(H,"Integer"),
"to_int");if(ia===r)return D(this,"enum_for",["repeated_permutation",qa],(O=function(){var Pa=null==O.$$s?this:O.$$s;return e("number"===typeof qa?0<=qa:qa["$>="](0))?Pa.$size()["$**"](qa):0},O.$$s=this,O.$$arity=0,O));I(qa,[],this.slice());return this},mb.$$arity=1);a.def(F,"$pop",sb=function(u){if(e(void 0===u))return e(0===this.length)?r:this.pop();u=m(u,q(H,"Integer"),"to_int");e(0>u)&&this.$raise(q(H,"ArgumentError"),"negative array size");return e(0===this.length)?[]:e(1===u)?[this.pop()]:e(u>
this.length)?this.splice(0,this.length):this.splice(this.length-u,this.length)},sb.$$arity=-1);a.def(F,"$product",tb=function(u){var I=tb.$$p,O=I||r;I&&(tb.$$p=null);I&&(tb.$$p=null);var ea=a.slice.call(arguments,0,arguments.length);I=O!==r?null:[];var ia=ea.length+1,qa=Array(ia),Pa=Array(ia),eb=Array(ia),Za;var jb=1;eb[0]=this;for(Za=1;Za<ia;Za++)eb[Za]=m(ea[Za-1],q(H,"Array"),"to_ary");for(Za=0;Za<ia;Za++){ea=eb[Za].length;if(0===ea)return I||this;jb*=ea;2147483647<jb&&this.$raise(q(H,"RangeError"),
"too big to product");Pa[Za]=ea;qa[Za]=0}a:for(;;){jb=[];for(Za=0;Za<ia;Za++)jb.push(eb[Za][qa[Za]]);I?I.push(jb):a.yield1(O,jb);Za=ia-1;for(qa[Za]++;qa[Za]===Pa[Za];){qa[Za]=0;if(0>--Za)break a;qa[Za]++}}return I||this},tb.$$arity=-1);a.def(F,"$push",wb=function(u){var I=a.slice.call(arguments,0,arguments.length);for(var O=0,ea=I.length;O<ea;O++)this.push(I[O]);return this},wb.$$arity=-1);a.alias(F,"append","push");a.def(F,"$rassoc",xb=function(u){for(var I=0,O=this.length,ea;I<O;I++)if(ea=this[I],
ea.length&&void 0!==ea[1]&&ea[1]["$=="](u))return ea;return r},xb.$$arity=1);a.def(F,"$reject",ub=function(){var u=ub.$$p,I=u||r,O;u&&(ub.$$p=null);u&&(ub.$$p=null);if(I===r)return D(this,"enum_for",["reject"],(O=function(){return(null==O.$$s?this:O.$$s).$size()},O.$$s=this,O.$$arity=0,O));u=[];for(var ea=0,ia=this.length,qa;ea<ia;ea++)qa=I(this[ea]),!1!==qa&&qa!==r||u.push(this[ea]);return u},ub.$$arity=0);a.def(F,"$reject!",X=function(){var u=X.$$p,I=u||r,O,ea=r;u&&(X.$$p=null);u&&(X.$$p=null);
if(I===r)return D(this,"enum_for",["reject!"],(O=function(){return(null==O.$$s?this:O.$$s).$size()},O.$$s=this,O.$$arity=0,O));ea=this.$length();D(this,"delete_if",[],I.$to_proc());return this.$length()["$=="](ea)?r:this},X.$$arity=0);a.def(F,"$replace",Ma=function(u){u=e(q(H,"Array")["$==="](u))?u.$to_a():m(u,q(H,"Array"),"to_ary").$to_a();this.splice(0,this.length);this.push.apply(this,u);return this},Ma.$$arity=1);a.def(F,"$reverse",bb=function(){return this.slice(0).reverse()},bb.$$arity=0);a.def(F,
"$reverse!",A=function(){return this.reverse()},A.$$arity=0);a.def(F,"$reverse_each",N=function(){var u=N.$$p,I=u||r,O;u&&(N.$$p=null);u&&(N.$$p=null);if(I===r)return D(this,"enum_for",["reverse_each"],(O=function(){return(null==O.$$s?this:O.$$s).$size()},O.$$s=this,O.$$arity=0,O));D(this.$reverse(),"each",[],I.$to_proc());return this},N.$$arity=0);a.def(F,"$rindex",ra=function(u){var I=ra.$$p,O=I||r;I&&(ra.$$p=null);I&&(ra.$$p=null);null!=u&&O!==r&&this.$warn("warning: given block not used");if(null!=
u)for(I=this.length-1;0<=I&&!(I>=this.length);I--){if(this[I]["$=="](u))return I}else if(O!==r)for(I=this.length-1;0<=I&&!(I>=this.length);I--){if(u=O(this[I]),!1!==u&&u!==r)return I}else if(null==u)return this.$enum_for("rindex");return r},ra.$$arity=-1);a.def(F,"$rotate",Ga=function(u){null==u&&(u=1);u=m(u,q(H,"Integer"),"to_int");if(1===this.length)return this.slice();if(0===this.length)return[];var I=this.slice();var O=u%I.length;u=I.slice(O);I=I.slice(0,O);return u.concat(I)},Ga.$$arity=-1);
a.def(F,"$rotate!",Ba=function(u){null==u&&(u=1);if(0===this.length||1===this.length)return this;u=m(u,q(H,"Integer"),"to_int");u=this.$rotate(u);return this.$replace(u)},Ba.$$arity=-1);(function(u,$super,O){u=f(u,$super,"SampleRandom");var ea=[u].concat(O),ia,qa;u.$$prototype.rng=r;a.def(u,"$initialize",ia=function(Pa){return this.rng=Pa},ia.$$arity=1);return(a.def(u,"$rand",qa=function(Pa){var eb=m(this.rng.$rand(Pa),q(ea,"Integer"),"to_int");e(0>eb)&&this.$raise(q(ea,"RangeError"),"random value must be >= 0");
e(eb<Pa)||this.$raise(q(ea,"RangeError"),"random value must be less than Array size");return eb},qa.$$arity=1),r)&&"rand"})(H[0],null,H);a.def(F,"$sample",Ia=function(u,I){var O=r,ea=r,ia=r;if(e(void 0===u))return this.$at(q(H,"Kernel").$rand(this.length));e(void 0===I)?e(I=q(H,"Opal")["$coerce_to?"](u,q(H,"Hash"),"to_hash"))?u=r:(I=r,u=m(u,q(H,"Integer"),"to_int")):(u=m(u,q(H,"Integer"),"to_int"),I=m(I,q(H,"Hash"),"to_hash"));e(e(O=u)?0>u:O)&&this.$raise(q(H,"ArgumentError"),"count must be greater than 0");
e(I)&&(ea=I["$[]"]("random"));ea=e(e(ia=ea)?ea["$respond_to?"]("rand"):ia)?q(H,"SampleRandom").$new(ea):q(H,"Kernel");if(!e(u))return this[ea.$rand(this.length)];u>this.length&&(u=this.length);switch(u){case 0:return[];case 1:return[this[ea.$rand(this.length)]];case 2:var qa=ea.$rand(this.length);var Pa=ea.$rand(this.length);qa===Pa&&(Pa=0===qa?qa+1:qa-1);return[this[qa],this[Pa]];default:if(3<this.length/u){ia=!1;I=0;O=q(H,"Array").$new(u);qa=1;for(O[0]=ea.$rand(this.length);qa<u;){var eb=ea.$rand(this.length);
for(Pa=0;Pa<qa;){for(;eb===O[Pa];){I++;if(100<I){ia=!0;break}eb=ea.$rand(this.length)}if(ia)break;Pa++}if(ia)break;O[qa]=eb;qa++}if(!ia){for(qa=0;qa<u;)O[qa]=this[O[qa]],qa++;return O}}O=this.slice();for(qa=0;qa<u;qa++)ia=ea.$rand(this.length),I=O[qa],O[qa]=O[ia],O[ia]=I;return u===this.length?O:O["$[]"](0,u)}},Ia.$$arity=-1);a.def(F,"$select",Wa=function(){var u=Wa.$$p,I=u||r,O;u&&(Wa.$$p=null);u&&(Wa.$$p=null);if(I===r)return D(this,"enum_for",["select"],(O=function(){return(null==O.$$s?this:O.$$s).$size()},
O.$$s=this,O.$$arity=0,O));u=[];for(var ea=0,ia=this.length,qa,Pa;ea<ia;ea++)qa=this[ea],Pa=g(I,qa),e(Pa)&&u.push(qa);return u},Wa.$$arity=0);a.def(F,"$select!",gb=function(){var u=gb.$$p,I=u||r,O;u&&(gb.$$p=null);u&&(gb.$$p=null);if(I===r)return D(this,"enum_for",["select!"],(O=function(){return(null==O.$$s?this:O.$$s).$size()},O.$$s=this,O.$$arity=0,O));u=this.length;D(this,"keep_if",[],I.$to_proc());return this.length===u?r:this},gb.$$arity=0);a.alias(F,"filter","select");a.alias(F,"filter!","select!");
a.def(F,"$shift",db=function(u){if(e(void 0===u)){if(e(0===this.length))return r;u=this[0];for(var I=1,O=this.length;I<O;I++)this[I-1]=this[I];this.pop();return u}u=m(u,q(H,"Integer"),"to_int");e(0>u)&&this.$raise(q(H,"ArgumentError"),"negative array size");return e(0===this.length)?[]:this.splice(0,u)},db.$$arity=-1);a.alias(F,"size","length");a.def(F,"$shuffle",Ta=function(u){return this.$dup().$to_a()["$shuffle!"](u)},Ta.$$arity=-1);a.def(F,"$shuffle!",Xa=function(u){var I,O=this.length;void 0!==
u&&(u=q(H,"Opal")["$coerce_to?"](u,q(H,"Hash"),"to_hash"),u!==r&&(u=u["$[]"]("random"),u!==r&&u["$respond_to?"]("rand")&&(I=u)));for(;O;){I?(u=I.$rand(O).$to_int(),0>u&&this.$raise(q(H,"RangeError"),"random number too small "+u),u>=O&&this.$raise(q(H,"RangeError"),"random number too big "+u)):u=this.$rand(O);var ea=this[--O];this[O]=this[u];this[u]=ea}return this},Xa.$$arity=-1);a.alias(F,"slice","[]");a.def(F,"$slice!",fb=function(u,I){if(e(void 0===I))if(e(q(H,"Range")["$==="](u))){var O=this["$[]"](u);
I=m(u.begin,q(H,"Integer"),"to_int");var ea=m(u.end,q(H,"Integer"),"to_int");0>I&&(I+=this.length);0>ea?ea+=this.length:ea>=this.length&&(ea=this.length-1,u.excl&&(ea+=1));var ia=ea-I;u.excl?--ea:ia+=1;I<this.length&&0<=I&&ea<this.length&&0<=ea&&0<ia&&this.splice(I,ia)}else{u=m(u,q(H,"Integer"),"to_int");0>u&&(u+=this.length);if(0>u||u>=this.length)return r;O=this[u];0===u?this.shift():this.splice(u,1)}else{u=m(u,q(H,"Integer"),"to_int");I=m(I,q(H,"Integer"),"to_int");if(0>I)return r;O=this["$[]"](u,
I);0>u&&(u+=this.length);u+I>this.length&&(I=this.length-u);u<this.length&&0<=u&&this.splice(u,I)}return O},fb.$$arity=-2);a.def(F,"$sort",qb=function(){var u=qb.$$p,I=u||r,O=this;u&&(qb.$$p=null);u&&(qb.$$p=null);if(!e(1<O.length))return O;I===r&&(I=function(ea,ia){return ea["$<=>"](ia)});return O.slice().sort(function(ea,ia){var qa=I(ea,ia);qa===r&&O.$raise(q(H,"ArgumentError"),"comparison of "+ea.$inspect()+" with "+ia.$inspect()+" failed");return v(qa,0)?1:("number"===typeof qa?0>qa:qa["$<"](0))?
-1:0})},qb.$$arity=0);a.def(F,"$sort!",nb=function(){var u=nb.$$p,I=u||r;u&&(nb.$$p=null);u&&(nb.$$p=null);u=I!==r?D(this.slice(),"sort",[],I.$to_proc()):this.slice().$sort();I=this.length=0;for(var O=u.length;I<O;I++)this.push(u[I]);return this},nb.$$arity=0);a.def(F,"$sort_by!",pb=function(){var u=pb.$$p,I=u||r,O;u&&(pb.$$p=null);u&&(pb.$$p=null);return I===r?D(this,"enum_for",["sort_by!"],(O=function(){return(null==O.$$s?this:O.$$s).$size()},O.$$s=this,O.$$arity=0,O)):this.$replace(D(this,"sort_by",
[],I.$to_proc()))},pb.$$arity=0);a.def(F,"$take",Gb=function(u){0>u&&this.$raise(q(H,"ArgumentError"));return this.slice(0,u)},Gb.$$arity=1);a.def(F,"$take_while",Ab=function(){var u=Ab.$$p,I=u||r;u&&(Ab.$$p=null);u&&(Ab.$$p=null);u=[];for(var O=0,ea=this.length,ia,qa;O<ea;O++){ia=this[O];qa=I(ia);if(!1===qa||qa===r)break;u.push(ia)}return u},Ab.$$arity=0);a.def(F,"$to_a",Jb=function(){return this},Jb.$$arity=0);a.alias(F,"to_ary","to_a");a.def(F,"$to_h",Bb=function(){var u=Bb.$$p,I=u||r;u&&(Bb.$$p=
null);u&&(Bb.$$p=null);u=this;I!==r&&(u=D(u,"map",[],I.$to_proc()));var O=u.length,ea=h([],{});for(I=0;I<O;I++){var ia=q(H,"Opal")["$coerce_to?"](u[I],q(H,"Array"),"to_ary");ia.$$is_array||this.$raise(q(H,"TypeError"),"wrong element type "+ia.$class()+" at "+I+" (expected array)");2!==ia.length&&this.$raise(q(H,"ArgumentError"),"wrong array length at "+I+" (expected 2, was "+ia.$length()+")");var qa=ia[0];ia=ia[1];y(ea,qa,ia)}return ea},Bb.$$arity=0);a.alias(F,"to_s","inspect");a.def(F,"$transpose",
Kb=function(){var u,I=r,O=r;if(e(this["$empty?"]()))return[];I=[];O=r;D(this,"each",[],(u=function(ea){var ia=null==u.$$s?this:u.$$s,qa,Pa=r;null==ea&&(ea=r);ea=e(q(H,"Array")["$==="](ea))?ea.$to_a():m(ea,q(H,"Array"),"to_ary").$to_a();O=e(Pa=O)?Pa:ea.length;e(ea.length["$!="](O))&&ia.$raise(q(H,"IndexError"),"element size differs ("+ea.length+" should be "+O+")");return D(ea.length,"times",[],(qa=function(eb){var Za;null==eb&&(eb=r);if(!e(Za=I["$[]"](eb))){Za=[eb,[]];D(I,"[]=",a.to_a(Za));var jb=
Za.length;jb="number"===typeof jb?jb-1:jb["$-"](1);Za=Za[jb]}return Za["$<<"](ea.$at(eb))},qa.$$s=ia,qa.$$arity=1,qa))},u.$$s=this,u.$$arity=1,u));return I},Kb.$$arity=0);a.alias(F,"union","|");a.def(F,"$uniq",Cb=function(){var u=Cb.$$p,I=u||r;u&&(Cb.$$p=null);u&&(Cb.$$p=null);u=h([],{});var O;if(I===r){var ea=0;for(O=this.length;ea<O;ea++){var ia=this[ea];void 0===d(u,ia)&&y(u,ia,ia)}}else for(ea=0,O=this.length;ea<O;ea++){ia=this[ea];var qa=g(I,ia);void 0===d(u,qa)&&y(u,qa,ia)}return b(u.$values(),
this.$class())},Cb.$$arity=0);a.def(F,"$uniq!",Db=function(){var u=Db.$$p,I=u||r;u&&(Db.$$p=null);u&&(Db.$$p=null);u=this.length;var O=h([],{}),ea;var ia=0;for(ea=u;ia<ea;ia++){var qa=this[ia];var Pa=I===r?qa:g(I,qa);void 0===d(O,Pa)?y(O,Pa,qa):(this.splice(ia,1),ea--,ia--)}return this.length===u?r:this},Db.$$arity=0);a.def(F,"$unshift",Lb=function(u){var I=a.slice.call(arguments,0,arguments.length);for(var O=I.length-1;0<=O;O--)this.unshift(I[O]);return this},Lb.$$arity=-1);a.alias(F,"prepend","unshift");
a.def(F,"$values_at",Mb=function(u){var I,O=r;var ea=a.slice.call(arguments,0,arguments.length);O=[];D(ea,"each",[],(I=function(ia){var qa=null==I.$$s?this:I.$$s,Pa,eb=r,Za=r;eb=r;null==ia&&(ia=r);if(e(ia["$is_a?"](q(H,"Range")))){eb=m(ia.$last(),q(H,"Integer"),"to_int");Za=m(ia.$first(),q(H,"Integer"),"to_int");if(0>Za)return Za+=qa.length,r;0>eb&&(eb+=qa.length);ia["$exclude_end?"]()&&eb--;return eb<Za?r:D(Za,"upto",[eb],(Pa=function(jb){var vb=null==Pa.$$s?this:Pa.$$s;null==jb&&(jb=r);return O["$<<"](vb.$at(jb))},
Pa.$$s=qa,Pa.$$arity=1,Pa))}eb=m(ia,q(H,"Integer"),"to_int");return O["$<<"](qa.$at(eb))},I.$$s=this,I.$$arity=1,I));return O},Mb.$$arity=-1);a.def(F,"$zip",Eb=function(u){var I=Eb.$$p,O=I||r,ea=r;I&&(Eb.$$p=null);I&&(Eb.$$p=null);I=a.slice.call(arguments,0,arguments.length);var ia=[],qa=this.length,Pa,eb;var Za=0;for(eb=I.length;Za<eb;Za++){var jb=I[Za];jb.$$is_array||(jb.$$is_enumerator?Infinity===jb.$size()?I[Za]=jb.$take(qa):I[Za]=jb.$to_a():I[Za]=(e(ea=q(H,"Opal")["$coerce_to?"](jb,q(H,"Array"),
"to_ary"))?ea:q(H,"Opal")["$coerce_to!"](jb,q(H,"Enumerator"),"to_enum","each")).$to_a())}for(Pa=0;Pa<qa;Pa++){ea=[this[Pa]];Za=0;for(eb=I.length;Za<eb;Za++)jb=I[Za][Pa],null==jb&&(jb=r),ea[Za+1]=jb;ia[Pa]=ea}if(O!==r){for(Pa=0;Pa<qa;Pa++)O(ia[Pa]);return r}return ia},Eb.$$arity=-1);a.defs(F,"$inherited",Nb=function(u){u.$$prototype.$to_a=function(){return this.slice(0,this.length)}},Nb.$$arity=1);a.def(F,"$instance_variables",Fb=function(){var u,I=Fb.$$p,O=r,ea=r,ia=r;I&&(Fb.$$p=null);ea=0;ia=arguments.length;
for(O=Array(ia);ea<ia;ea++)O[ea]=arguments[ea];return D(L(this,a.find_super_dispatcher(this,"instance_variables",Fb,!1,!0),"instance_variables",O,I),"reject",[],(u=function(qa){var Pa;null==qa&&(qa=r);return e(Pa=/^@\d+$/.test(qa))?Pa:qa["$=="]("@length")},u.$$s=this,u.$$arity=1,u))},Fb.$$arity=0);q(H,"Opal").$pristine(F.$singleton_class(),"allocate");q(H,"Opal").$pristine(F,"copy_instance_variables","initialize_dup");return(a.def(F,"$pack",Ob=function(u){a.slice.call(arguments,0,arguments.length);
return this.$raise("To use Array#pack, you must first require 'corelib/array/pack'.")},Ob.$$arity=-1),r)&&"pack"}(p[0],Array,p)};
Opal.modules["corelib/hash"]=function(a){function v(g,d){return"number"===typeof g&&"number"===typeof d?g>=d:g["$>="](d)}var G=a.top,p=[],r=a.nil,x=a.$$,q=a.klass,e=a.send,E=a.hash2,B=a.truthy;a.add_stubs("$require $include $coerce_to? $[] $merge! $allocate $raise $coerce_to! $each $fetch $>= $> $== $compare_by_identity $lambda? $abs $arity $enum_for $size $respond_to? $class $dig $new $inspect $map $to_proc $flatten $eql? $default $dup $default_proc $default_proc= $- $default= $to_h $proc".split(" "));G.$require("corelib/enumerable");
return function(g,$super,y){g=q(g,$super,"Hash");var c=[g].concat(y),m,J,f,h,L,D,Q,ja,fa,na,b,n,k,t,z,F,H,K,da,va,Na,wa,Aa,Ka,oa,R,sa,ba,ka,Y,S,V,ta,Da,ma,xa,Ha,Ea,Sa,Qa,Oa,kb,lb,W,ya,Ca,Va,hb,cb,$a,ab,za,ua,La,Ra,Ya,Fa,Z,P,aa,T,ha;g.$include(x(c,"Enumerable"));g.$$prototype.$$is_hash=!0;a.defs(g,"$[]",m=function(l){var C=a.slice.call(arguments,0,arguments.length);var M=C.length,ca;if(1===M){var w=x(c,"Opal")["$coerce_to?"](C["$[]"](0),x(c,"Hash"),"to_hash");if(w!==r)return this.$allocate()["$merge!"](w);
C=x(c,"Opal")["$coerce_to?"](C["$[]"](0),x(c,"Array"),"to_ary");C===r&&this.$raise(x(c,"ArgumentError"),"odd number of arguments for Hash");M=C.length;w=this.$allocate();for(ca=0;ca<M;ca++)if(C[ca].$$is_array)switch(C[ca].length){case 1:w.$store(C[ca][0],r);break;case 2:w.$store(C[ca][0],C[ca][1]);break;default:this.$raise(x(c,"ArgumentError"),"invalid number of elements ("+C[ca].length+" for 1..2)")}return w}0!==M%2&&this.$raise(x(c,"ArgumentError"),"odd number of arguments for Hash");w=this.$allocate();
for(ca=0;ca<M;ca+=2)w.$store(C[ca],C[ca+1]);return w},m.$$arity=-1);a.defs(g,"$allocate",J=function(){var l=new this.$$constructor;a.hash_init(l);l.$$none=r;l.$$proc=r;return l},J.$$arity=0);a.defs(g,"$try_convert",f=function(l){return x(c,"Opal")["$coerce_to?"](l,x(c,"Hash"),"to_hash")},f.$$arity=1);a.def(g,"$initialize",h=function(l){var C=h.$$p,M=C||r;C&&(h.$$p=null);C&&(h.$$p=null);void 0!==l&&M!==r&&this.$raise(x(c,"ArgumentError"),"wrong number of arguments (1 for 0)");this.$$none=void 0===
l?r:l;this.$$proc=M;return this},h.$$arity=-1);a.def(g,"$==",L=function(l){if(this===l)return!0;if(!l.$$is_hash||this.$$keys.length!==l.$$keys.length)return!1;for(var C=0,M=this.$$keys,ca=M.length,w,U;C<ca;C++)if(w=M[C],w.$$is_string?(U=this.$$smap[w],w=l.$$smap[w]):(U=w.value,w=a.hash_get(l,w.key)),void 0===w||!U["$eql?"](w))return!1;return!0},L.$$arity=1);a.def(g,"$>=",D=function(l){var C,M=r;l=x(c,"Opal")["$coerce_to!"](l,x(c,"Hash"),"to_hash");if(this.$$keys.length<l.$$keys.length)return!1;M=
!0;e(l,"each",[],(C=function(ca,w){var U=null==C.$$s?this:C.$$s;null==ca&&(ca=r);null==w&&(w=r);ca=U.$fetch(ca,null);if(null==ca||ca!==w)M=!1},C.$$s=this,C.$$arity=2,C));return M},D.$$arity=1);a.def(g,"$>",Q=function(l){l=x(c,"Opal")["$coerce_to!"](l,x(c,"Hash"),"to_hash");return this.$$keys.length<=l.$$keys.length?!1:v(this,l)},Q.$$arity=1);a.def(g,"$<",ja=function(l){l=x(c,"Opal")["$coerce_to!"](l,x(c,"Hash"),"to_hash");return"number"===typeof l&&"number"===typeof this?l>this:l["$>"](this)},ja.$$arity=
1);a.def(g,"$<=",fa=function(l){l=x(c,"Opal")["$coerce_to!"](l,x(c,"Hash"),"to_hash");return v(l,this)},fa.$$arity=1);a.def(g,"$[]",na=function(l){var C=a.hash_get(this,l);return void 0!==C?C:this.$default(l)},na.$$arity=1);a.def(g,"$[]=",b=function(l,C){a.hash_put(this,l,C);return C},b.$$arity=2);a.def(g,"$assoc",n=function(l){for(var C=0,M=this.$$keys,ca=M.length,w;C<ca;C++)if(w=M[C],w.$$is_string){if(w["$=="](l))return[w,this.$$smap[w]]}else if(w.key["$=="](l))return[w.key,w.value];return r},n.$$arity=
1);a.def(g,"$clear",k=function(){a.hash_init(this);return this},k.$$arity=0);a.def(g,"$clone",t=function(){var l=new this.$$class;a.hash_init(l);a.hash_clone(this,l);return l},t.$$arity=0);a.def(g,"$compact",z=function(){for(var l=a.hash(),C=0,M=this.$$keys,ca=M.length,w,U;C<ca;C++)w=M[C],w.$$is_string?U=this.$$smap[w]:(U=w.value,w=w.key),U!==r&&a.hash_put(l,w,U);return l},z.$$arity=0);a.def(g,"$compact!",F=function(){for(var l=!1,C=0,M=this.$$keys,ca=M.length,w,U;C<ca;C++)w=M[C],w.$$is_string?U=
this.$$smap[w]:(U=w.value,w=w.key),U===r&&void 0!==a.hash_delete(this,w)&&(l=!0,ca--,C--);return l?this:r},F.$$arity=0);a.def(g,"$compare_by_identity",H=function(){var l,C=this.$$keys;if(this.$$by_identity)return this;if(0===this.$$keys.length)return this.$$by_identity=!0,this;var M=E([],{}).$compare_by_identity();var ca=0;for(l=C.length;ca<l;ca++){var w=C[ca];w.$$is_string||(w=w.key);a.hash_put(M,w,a.hash_get(this,w))}this.$$by_identity=!0;this.$$map=M.$$map;this.$$smap=M.$$smap;return this},H.$$arity=
0);a.def(g,"$compare_by_identity?",K=function(){return!0===this.$$by_identity},K.$$arity=0);a.def(g,"$default",da=function(l){return void 0!==l&&this.$$proc!==r&&void 0!==this.$$proc?this.$$proc.$call(this,l):void 0===this.$$none?r:this.$$none},da.$$arity=-1);a.def(g,"$default=",va=function(l){this.$$proc=r;return this.$$none=l},va.$$arity=1);a.def(g,"$default_proc",Na=function(){return void 0!==this.$$proc?this.$$proc:r},Na.$$arity=0);a.def(g,"$default_proc=",wa=function(l){var C=l;C!==r&&(C=x(c,
"Opal")["$coerce_to!"](C,x(c,"Proc"),"to_proc"),C["$lambda?"]()&&2!==C.$arity().$abs()&&this.$raise(x(c,"TypeError"),"default_proc takes two arguments"));this.$$none=r;this.$$proc=C;return l},wa.$$arity=1);a.def(g,"$delete",Aa=function(l){var C=Aa.$$p,M=C||r;C&&(Aa.$$p=null);C&&(Aa.$$p=null);C=a.hash_delete(this,l);return void 0!==C?C:M!==r?a.yield1(M,l):r},Aa.$$arity=1);a.def(g,"$delete_if",Ka=function(){var l=Ka.$$p,C=l||r,M;l&&(Ka.$$p=null);l&&(Ka.$$p=null);if(!B(C))return e(this,"enum_for",["delete_if"],
(M=function(){return(null==M.$$s?this:M.$$s).$size()},M.$$s=this,M.$$arity=0,M));l=0;for(var ca=this.$$keys,w=ca.length,U,pa;l<w;l++)U=ca[l],U.$$is_string?pa=this.$$smap[U]:(pa=U.value,U=U.key),pa=C(U,pa),!1!==pa&&pa!==r&&void 0!==a.hash_delete(this,U)&&(w--,l--);return this},Ka.$$arity=0);a.alias(g,"dup","clone");a.def(g,"$dig",oa=function(l,C){var M=a.slice.call(arguments,1,arguments.length);var ca=this["$[]"](l);if(ca===r||0===M.length)return ca;B(ca["$respond_to?"]("dig"))||this.$raise(x(c,"TypeError"),
""+ca.$class()+" does not have #dig method");return e(ca,"dig",a.to_a(M))},oa.$$arity=-2);a.def(g,"$each",R=function(){var l=R.$$p,C=l||r,M;l&&(R.$$p=null);l&&(R.$$p=null);if(!B(C))return e(this,"enum_for",["each"],(M=function(){return(null==M.$$s?this:M.$$s).$size()},M.$$s=this,M.$$arity=0,M));l=0;for(var ca=this.$$keys,w=ca.length,U,pa;l<w;l++)U=ca[l],U.$$is_string?pa=this.$$smap[U]:(pa=U.value,U=U.key),a.yield1(C,[U,pa]);return this},R.$$arity=0);a.def(g,"$each_key",sa=function(){var l=sa.$$p,
C=l||r,M;l&&(sa.$$p=null);l&&(sa.$$p=null);if(!B(C))return e(this,"enum_for",["each_key"],(M=function(){return(null==M.$$s?this:M.$$s).$size()},M.$$s=this,M.$$arity=0,M));l=0;for(var ca=this.$$keys,w=ca.length,U;l<w;l++)U=ca[l],C(U.$$is_string?U:U.key);return this},sa.$$arity=0);a.alias(g,"each_pair","each");a.def(g,"$each_value",ba=function(){var l=ba.$$p,C=l||r,M;l&&(ba.$$p=null);l&&(ba.$$p=null);if(!B(C))return e(this,"enum_for",["each_value"],(M=function(){return(null==M.$$s?this:M.$$s).$size()},
M.$$s=this,M.$$arity=0,M));l=0;for(var ca=this.$$keys,w=ca.length,U;l<w;l++)U=ca[l],C(U.$$is_string?this.$$smap[U]:U.value);return this},ba.$$arity=0);a.def(g,"$empty?",ka=function(){return 0===this.$$keys.length},ka.$$arity=0);a.alias(g,"eql?","==");a.def(g,"$fetch",Y=function(l,C){var M=Y.$$p,ca=M||r;M&&(Y.$$p=null);M&&(Y.$$p=null);M=a.hash_get(this,l);return void 0!==M?M:ca!==r?ca(l):void 0!==C?C:this.$raise(x(c,"KeyError").$new("key not found: "+l.$inspect(),E(["key","receiver"],{key:l,receiver:this})))},
Y.$$arity=-2);a.def(g,"$fetch_values",S=function(l){var C=S.$$p,M=C||r,ca;C&&(S.$$p=null);C&&(S.$$p=null);C=a.slice.call(arguments,0,arguments.length);return e(C,"map",[],(ca=function(w){var U=null==ca.$$s?this:ca.$$s;null==w&&(w=r);return e(U,"fetch",[w],M.$to_proc())},ca.$$s=this,ca.$$arity=1,ca))},S.$$arity=-1);a.def(g,"$flatten",V=function(l){null==l&&(l=1);l=x(c,"Opal")["$coerce_to!"](l,x(c,"Integer"),"to_int");for(var C=[],M=0,ca=this.$$keys,w=ca.length,U,pa;M<w;M++)U=ca[M],U.$$is_string?pa=
this.$$smap[U]:(pa=U.value,U=U.key),C.push(U),pa.$$is_array?1===l?C.push(pa):C=C.concat(pa.$flatten(l-2)):C.push(pa);return C},V.$$arity=-1);a.def(g,"$has_key?",ta=function(l){return void 0!==a.hash_get(this,l)},ta.$$arity=1);a.def(g,"$has_value?",Da=function(l){for(var C=0,M=this.$$keys,ca=M.length,w;C<ca;C++)if(w=M[C],(w.$$is_string?this.$$smap[w]:w.value)["$=="](l))return!0;return!1},Da.$$arity=1);a.def(g,"$hash",ma=function(){var l=void 0===a.hash_ids,C=this.$object_id(),M=["Hash"];try{l&&(a.hash_ids=
Object.create(null));if(a[C])return"self";for(pa in a.hash_ids){var ca=a.hash_ids[pa];if(this["$eql?"](ca))return"self"}a.hash_ids[C]=this;C=0;for(var w=this.$$keys,U=w.length;C<U;C++){var pa=w[C];pa.$$is_string?M.push([pa,this.$$smap[pa].$hash()]):M.push([pa.key_hash,pa.value.$hash()])}return M.sort().join()}finally{l&&(a.hash_ids=void 0)}},ma.$$arity=0);a.alias(g,"include?","has_key?");a.def(g,"$index",xa=function(l){for(var C=0,M=this.$$keys,ca=M.length,w,U;C<ca;C++)if(w=M[C],w.$$is_string?U=this.$$smap[w]:
(U=w.value,w=w.key),U["$=="](l))return w;return r},xa.$$arity=1);a.def(g,"$indexes",Ha=function(l){var C=a.slice.call(arguments,0,arguments.length);for(var M=[],ca=0,w=C.length,U;ca<w;ca++)U=C[ca],U=a.hash_get(this,U),void 0===U?M.push(this.$default()):M.push(U);return M},Ha.$$arity=-1);a.alias(g,"indices","indexes");var la;a.def(g,"$inspect",Ea=function(){var l=void 0===la,C=this.$object_id(),M=[];try{l&&(la={});if(la.hasOwnProperty(C))return"{...}";la[C]=!0;C=0;for(var ca=this.$$keys,w=ca.length,
U,pa;C<w;C++)U=ca[C],U.$$is_string?pa=this.$$smap[U]:(pa=U.value,U=U.key),M.push(U.$inspect()+"=>"+pa.$inspect());return"{"+M.join(", ")+"}"}finally{l&&(la=void 0)}},Ea.$$arity=0);a.def(g,"$invert",Sa=function(){for(var l=a.hash(),C=0,M=this.$$keys,ca=M.length,w,U;C<ca;C++)w=M[C],w.$$is_string?U=this.$$smap[w]:(U=w.value,w=w.key),a.hash_put(l,U,w);return l},Sa.$$arity=0);a.def(g,"$keep_if",Qa=function(){var l=Qa.$$p,C=l||r,M;l&&(Qa.$$p=null);l&&(Qa.$$p=null);if(!B(C))return e(this,"enum_for",["keep_if"],
(M=function(){return(null==M.$$s?this:M.$$s).$size()},M.$$s=this,M.$$arity=0,M));l=0;for(var ca=this.$$keys,w=ca.length,U,pa;l<w;l++)U=ca[l],U.$$is_string?pa=this.$$smap[U]:(pa=U.value,U=U.key),pa=C(U,pa),!1!==pa&&pa!==r||void 0===a.hash_delete(this,U)||(w--,l--);return this},Qa.$$arity=0);a.alias(g,"key","index");a.alias(g,"key?","has_key?");a.def(g,"$keys",Oa=function(){for(var l=[],C=0,M=this.$$keys,ca=M.length,w;C<ca;C++)w=M[C],w.$$is_string?l.push(w):l.push(w.key);return l},Oa.$$arity=0);a.def(g,
"$length",kb=function(){return this.$$keys.length},kb.$$arity=0);a.alias(g,"member?","has_key?");a.def(g,"$merge",lb=function(l){var C=lb.$$p,M=C||r;C&&(lb.$$p=null);C&&(lb.$$p=null);return e(this.$dup(),"merge!",[l],M.$to_proc())},lb.$$arity=1);a.def(g,"$merge!",W=function(l){var C=W.$$p,M=C||r;C&&(W.$$p=null);C&&(W.$$p=null);l.$$is_hash||(l=x(c,"Opal")["$coerce_to!"](l,x(c,"Hash"),"to_hash"));var ca=l.$$keys,w=ca.length;if(M===r){for(C=0;C<w;C++){var U=ca[C];if(U.$$is_string)var pa=l.$$smap[U];
else pa=U.value,U=U.key;a.hash_put(this,U,pa)}return this}for(C=0;C<w;C++){U=ca[C];U.$$is_string?pa=l.$$smap[U]:(pa=U.value,U=U.key);var Ja=a.hash_get(this,U);void 0===Ja?a.hash_put(this,U,pa):a.hash_put(this,U,M(U,Ja,pa))}return this},W.$$arity=1);a.def(g,"$rassoc",ya=function(l){for(var C=0,M=this.$$keys,ca=M.length,w,U;C<ca;C++)if(w=M[C],w.$$is_string?U=this.$$smap[w]:(U=w.value,w=w.key),U["$=="](l))return[w,U];return r},ya.$$arity=1);a.def(g,"$rehash",Ca=function(){a.hash_rehash(this);return this},
Ca.$$arity=0);a.def(g,"$reject",Va=function(){var l=Va.$$p,C=l||r,M;l&&(Va.$$p=null);l&&(Va.$$p=null);if(!B(C))return e(this,"enum_for",["reject"],(M=function(){return(null==M.$$s?this:M.$$s).$size()},M.$$s=this,M.$$arity=0,M));l=a.hash();for(var ca=0,w=this.$$keys,U=w.length,pa,Ja,ib;ca<U;ca++)pa=w[ca],pa.$$is_string?Ja=this.$$smap[pa]:(Ja=pa.value,pa=pa.key),ib=C(pa,Ja),!1!==ib&&ib!==r||a.hash_put(l,pa,Ja);return l},Va.$$arity=0);a.def(g,"$reject!",hb=function(){var l=hb.$$p,C=l||r,M;l&&(hb.$$p=
null);l&&(hb.$$p=null);if(!B(C))return e(this,"enum_for",["reject!"],(M=function(){return(null==M.$$s?this:M.$$s).$size()},M.$$s=this,M.$$arity=0,M));l=!1;for(var ca=0,w=this.$$keys,U=w.length,pa,Ja;ca<U;ca++)pa=w[ca],pa.$$is_string?Ja=this.$$smap[pa]:(Ja=pa.value,pa=pa.key),Ja=C(pa,Ja),!1!==Ja&&Ja!==r&&void 0!==a.hash_delete(this,pa)&&(l=!0,U--,ca--);return l?this:r},hb.$$arity=0);a.def(g,"$replace",cb=function(l){l=x(c,"Opal")["$coerce_to!"](l,x(c,"Hash"),"to_hash");a.hash_init(this);var C=0;for(var M=
l.$$keys,ca=M.length,w,U;C<ca;C++)w=M[C],w.$$is_string?U=l.$$smap[w]:(U=w.value,w=w.key),a.hash_put(this,w,U);B(l.$default_proc())?(C=[l.$default_proc()],e(this,"default_proc=",a.to_a(C))):(C=[l.$default()],e(this,"default=",a.to_a(C)));l=C;C=C.length;C="number"===typeof C?C-1:C["$-"](1);l[C];return this},cb.$$arity=1);a.def(g,"$select",$a=function(){var l=$a.$$p,C=l||r,M;l&&($a.$$p=null);l&&($a.$$p=null);if(!B(C))return e(this,"enum_for",["select"],(M=function(){return(null==M.$$s?this:M.$$s).$size()},
M.$$s=this,M.$$arity=0,M));l=a.hash();for(var ca=0,w=this.$$keys,U=w.length,pa,Ja,ib;ca<U;ca++)pa=w[ca],pa.$$is_string?Ja=this.$$smap[pa]:(Ja=pa.value,pa=pa.key),ib=C(pa,Ja),!1!==ib&&ib!==r&&a.hash_put(l,pa,Ja);return l},$a.$$arity=0);a.def(g,"$select!",ab=function(){var l=ab.$$p,C=l||r,M;l&&(ab.$$p=null);l&&(ab.$$p=null);if(!B(C))return e(this,"enum_for",["select!"],(M=function(){return(null==M.$$s?this:M.$$s).$size()},M.$$s=this,M.$$arity=0,M));l=r;for(var ca=0,w=this.$$keys,U=w.length,pa,Ja;ca<
U;ca++)if(pa=w[ca],pa.$$is_string?Ja=this.$$smap[pa]:(Ja=pa.value,pa=pa.key),Ja=C(pa,Ja),!1===Ja||Ja===r)void 0!==a.hash_delete(this,pa)&&(U--,ca--),l=this;return l},ab.$$arity=0);a.alias(g,"filter","select");a.alias(g,"filter!","select!");a.def(g,"$shift",za=function(){var l=this.$$keys;return 0<l.length?(l=l[0],l=l.$$is_string?l:l.key,[l,a.hash_delete(this,l)]):this.$default(r)},za.$$arity=0);a.alias(g,"size","length");a.def(g,"$slice",ua=function(l){var C=a.slice.call(arguments,0,arguments.length);
for(var M=a.hash(),ca=0,w=C.length;ca<w;ca++){var U=C[ca],pa=a.hash_get(this,U);void 0!==pa&&a.hash_put(M,U,pa)}return M},ua.$$arity=-1);a.alias(g,"store","[]=");a.def(g,"$to_a",La=function(){for(var l=[],C=0,M=this.$$keys,ca=M.length,w,U;C<ca;C++)w=M[C],w.$$is_string?U=this.$$smap[w]:(U=w.value,w=w.key),l.push([w,U]);return l},La.$$arity=0);a.def(g,"$to_h",Ra=function(){var l=Ra.$$p,C=l||r;l&&(Ra.$$p=null);l&&(Ra.$$p=null);if(C!==r)return e(this,"map",[],C.$to_proc()).$to_h();if(this.$$class===a.Hash)return this;
l=new a.Hash;a.hash_init(l);a.hash_clone(this,l);return l},Ra.$$arity=0);a.def(g,"$to_hash",Ya=function(){return this},Ya.$$arity=0);a.def(g,"$to_proc",Fa=function(){var l;return e(this,"proc",[],(l=function(C){var M=null==l.$$s?this:l.$$s;null==C&&M.$raise(x(c,"ArgumentError"),"no key given");return M["$[]"](C)},l.$$s=this,l.$$arity=-1,l))},Fa.$$arity=0);a.alias(g,"to_s","inspect");a.def(g,"$transform_keys",Z=function(){var l=Z.$$p,C=l||r,M;l&&(Z.$$p=null);l&&(Z.$$p=null);if(!B(C))return e(this,
"enum_for",["transform_keys"],(M=function(){return(null==M.$$s?this:M.$$s).$size()},M.$$s=this,M.$$arity=0,M));l=a.hash();for(var ca=0,w=this.$$keys,U=w.length,pa,Ja;ca<U;ca++)pa=w[ca],pa.$$is_string?Ja=this.$$smap[pa]:(Ja=pa.value,pa=pa.key),pa=a.yield1(C,pa),a.hash_put(l,pa,Ja);return l},Z.$$arity=0);a.def(g,"$transform_keys!",P=function(){var l=P.$$p,C=l||r,M;l&&(P.$$p=null);l&&(P.$$p=null);if(!B(C))return e(this,"enum_for",["transform_keys!"],(M=function(){return(null==M.$$s?this:M.$$s).$size()},
M.$$s=this,M.$$arity=0,M));l=a.slice.call(this.$$keys);var ca,w=l.length;for(ca=0;ca<w;ca++){var U=l[ca];if(U.$$is_string)var pa=this.$$smap[U];else pa=U.value,U=U.key;var Ja=a.yield1(C,U);a.hash_delete(this,U);a.hash_put(this,Ja,pa)}return this},P.$$arity=0);a.def(g,"$transform_values",aa=function(){var l=aa.$$p,C=l||r,M;l&&(aa.$$p=null);l&&(aa.$$p=null);if(!B(C))return e(this,"enum_for",["transform_values"],(M=function(){return(null==M.$$s?this:M.$$s).$size()},M.$$s=this,M.$$arity=0,M));l=a.hash();
for(var ca=0,w=this.$$keys,U=w.length,pa,Ja;ca<U;ca++)pa=w[ca],pa.$$is_string?Ja=this.$$smap[pa]:(Ja=pa.value,pa=pa.key),Ja=a.yield1(C,Ja),a.hash_put(l,pa,Ja);return l},aa.$$arity=0);a.def(g,"$transform_values!",T=function(){var l=T.$$p,C=l||r,M;l&&(T.$$p=null);l&&(T.$$p=null);if(!B(C))return e(this,"enum_for",["transform_values!"],(M=function(){return(null==M.$$s?this:M.$$s).$size()},M.$$s=this,M.$$arity=0,M));l=0;for(var ca=this.$$keys,w=ca.length,U,pa;l<w;l++)U=ca[l],U.$$is_string?pa=this.$$smap[U]:
(pa=U.value,U=U.key),pa=a.yield1(C,pa),a.hash_put(this,U,pa);return this},T.$$arity=0);a.alias(g,"update","merge!");a.alias(g,"value?","has_value?");a.alias(g,"values_at","indexes");return(a.def(g,"$values",ha=function(){for(var l=[],C=0,M=this.$$keys,ca=M.length,w;C<ca;C++)w=M[C],w.$$is_string?l.push(this.$$smap[w]):l.push(w.value);return l},ha.$$arity=0),r)&&"values"}(p[0],null,p)};
Opal.modules["corelib/number"]=function(a){function v(h,L){return"number"===typeof h&&"number"===typeof L?h>L:h["$>"](L)}function G(h,L){return"number"===typeof h&&"number"===typeof L?h<L:h["$<"](L)}function p(h,L){return"number"===typeof h&&"number"===typeof L?h+L:h["$+"](L)}function r(h,L){return"number"===typeof h&&"number"===typeof L?h-L:h["$-"](L)}function x(h,L){return"number"===typeof h&&"number"===typeof L?h/L:h["$/"](L)}function q(h,L){return"number"===typeof h&&"number"===typeof L?h*L:h["$*"](L)}
var e=a.top,E=[],B=a.nil,g=a.$$$,d=a.$$,y=a.klass,c=a.truthy,m=a.send2,J=a.send,f=a.hash2;a.add_stubs("$require $bridge $raise $name $class $Float $respond_to? $coerce_to! $__coerced__ $=== $! $> $** $new $< $to_f $== $nan? $infinite? $enum_for $+ $- $gcd $lcm $% $/ $frexp $to_i $ldexp $rationalize $* $<< $to_r $truncate $-@ $size $<= $>= $<=> $compare $any?".split(" "));e.$require("corelib/numeric");(function(h,$super,D){h=y(h,$super,"Number");var Q=[h].concat(D),ja,fa,na,b,n,k,t,z,F,H,K,da,va,Na,
wa,Aa,Ka,oa,R,sa,ba,ka,Y,S,V,ta,Da,ma,xa,Ha,Ea,Sa,Qa,Oa,kb,lb,W,ya,Ca,Va,hb,cb,$a,ab,za,ua,La,Ra,Ya,Fa,Z,P,aa,T,ha,la,l,C,M,ca,w,U,pa,Ja,ib,ob,mb,sb,tb,wb,xb,ub;d(Q,"Opal").$bridge(Number,h);a.defineProperty(h.$$prototype,"$$is_number",!0);h.$$is_number_class=!0;(function(X,Ma){var bb=[X].concat(Ma),A;a.def(X,"$allocate",A=function(){return this.$raise(d(bb,"TypeError"),"allocator undefined for "+this.$name())},A.$$arity=0);a.udef(X,"$new");return B})(a.get_singleton_class(h),Q);a.def(h,"$coerce",
ja=function(X){if(X!==B){if(X.$$is_string)return[this.$Float(X),this];if(X["$respond_to?"]("to_f"))return[d(Q,"Opal")["$coerce_to!"](X,d(Q,"Float"),"to_f"),this];if(X.$$is_number)return[X,this]}this.$raise(d(Q,"TypeError"),"can't convert "+X.$class()+" into Float")},ja.$$arity=1);a.def(h,"$__id__",fa=function(){return 2*this+1},fa.$$arity=0);a.alias(h,"object_id","__id__");a.def(h,"$+",na=function(X){return X.$$is_number?this+X:this.$__coerced__("+",X)},na.$$arity=1);a.def(h,"$-",b=function(X){return X.$$is_number?
this-X:this.$__coerced__("-",X)},b.$$arity=1);a.def(h,"$*",n=function(X){return X.$$is_number?this*X:this.$__coerced__("*",X)},n.$$arity=1);a.def(h,"$/",k=function(X){return X.$$is_number?this/X:this.$__coerced__("/",X)},k.$$arity=1);a.alias(h,"fdiv","/");a.def(h,"$%",t=function(X){if(X.$$is_number){if(-Infinity==X)return X;if(0==X)this.$raise(d(Q,"ZeroDivisionError"),"divided by 0");else return 0>X||0>this?(this%X+X)%X:this%X}else return this.$__coerced__("%",X)},t.$$arity=1);a.def(h,"$&",z=function(X){return X.$$is_number?
this&X:this.$__coerced__("&",X)},z.$$arity=1);a.def(h,"$|",F=function(X){return X.$$is_number?this|X:this.$__coerced__("|",X)},F.$$arity=1);a.def(h,"$^",H=function(X){return X.$$is_number?this^X:this.$__coerced__("^",X)},H.$$arity=1);a.def(h,"$<",K=function(X){return X.$$is_number?this<X:this.$__coerced__("<",X)},K.$$arity=1);a.def(h,"$<=",da=function(X){return X.$$is_number?this<=X:this.$__coerced__("<=",X)},da.$$arity=1);a.def(h,"$>",va=function(X){return X.$$is_number?this>X:this.$__coerced__(">",
X)},va.$$arity=1);a.def(h,"$>=",Na=function(X){return X.$$is_number?this>=X:this.$__coerced__(">=",X)},Na.$$arity=1);a.def(h,"$<=>",wa=function(X){try{return X.$$is_number?isNaN(this)||isNaN(X)?B:this>X?1:this<X?-1:0:this.$__coerced__("<=>",X)}catch(Ma){if(a.rescue(Ma,[d(Q,"ArgumentError")]))try{return B}finally{a.pop_exception()}else throw Ma;}},wa.$$arity=1);a.def(h,"$<<",Aa=function(X){X=d(Q,"Opal")["$coerce_to!"](X,d(Q,"Integer"),"to_int");return 0<X?this<<X:this>>-X},Aa.$$arity=1);a.def(h,"$>>",
Ka=function(X){X=d(Q,"Opal")["$coerce_to!"](X,d(Q,"Integer"),"to_int");return 0<X?this>>X:this<<-X},Ka.$$arity=1);a.def(h,"$[]",oa=function(X){X=d(Q,"Opal")["$coerce_to!"](X,d(Q,"Integer"),"to_int");return 0>X?0:32<=X?0>this?1:0:this>>X&1},oa.$$arity=1);a.def(h,"$+@",R=function(){return+this},R.$$arity=0);a.def(h,"$-@",sa=function(){return-this},sa.$$arity=0);a.def(h,"$~",ba=function(){return~this},ba.$$arity=0);a.def(h,"$**",ka=function(X){var Ma=B,bb=B,A=B;return c(d(Q,"Integer")["$==="](X))?c(c(Ma=
d(Q,"Integer")["$==="](this)["$!"]())?Ma:v(X,0))?Math.pow(this,X):d(Q,"Rational").$new(this,1)["$**"](X):c(c(bb=G(this,0))?c(A=d(Q,"Float")["$==="](X))?A:d(Q,"Rational")["$==="](X):bb)?d(Q,"Complex").$new(this,0)["$**"](X.$to_f()):c(null!=X.$$is_number)?Math.pow(this,X):this.$__coerced__("**",X)},ka.$$arity=1);a.def(h,"$===",Y=function(X){return X.$$is_number?this.valueOf()===X.valueOf():X["$respond_to?"]("==")?X["$=="](this):!1},Y.$$arity=1);a.def(h,"$==",S=function(X){return X.$$is_number?this.valueOf()===
X.valueOf():X["$respond_to?"]("==")?X["$=="](this):!1},S.$$arity=1);a.def(h,"$abs",V=function(){return Math.abs(this)},V.$$arity=0);a.def(h,"$abs2",ta=function(){return Math.abs(this*this)},ta.$$arity=0);a.def(h,"$allbits?",Da=function(X){X=d(Q,"Opal")["$coerce_to!"](X,d(Q,"Integer"),"to_int");return(this&X)==X},Da.$$arity=1);a.def(h,"$anybits?",ma=function(X){X=d(Q,"Opal")["$coerce_to!"](X,d(Q,"Integer"),"to_int");return 0!==(this&X)},ma.$$arity=1);a.def(h,"$angle",xa=function(){return c(this["$nan?"]())?
this:0==this?0<1/this?0:Math.PI:0>this?Math.PI:0},xa.$$arity=0);a.alias(h,"arg","angle");a.alias(h,"phase","angle");a.def(h,"$bit_length",Ha=function(){c(d(Q,"Integer")["$==="](this))||this.$raise(d(Q,"NoMethodError").$new("undefined method `bit_length` for "+this+":Float","bit_length"));if(0===this||-1===this)return 0;for(var X=0,Ma=0>this?~this:this;0!=Ma;)X+=1,Ma>>>=1;return X},Ha.$$arity=0);a.def(h,"$ceil",Ea=function(X){null==X&&(X=0);var Ma=this.$to_f();if(0===Ma%1&&0<=X)return Ma;X=Math.pow(10,
X);X=Math.ceil(Ma*X)/X;0===Ma%1&&(X=Math.round(X));return X},Ea.$$arity=-1);a.def(h,"$chr",Sa=function(){return String.fromCharCode(this)},Sa.$$arity=-1);a.def(h,"$denominator",Qa=function(){var X=Qa.$$p,Ma=B,bb;X&&(Qa.$$p=null);var A=0;var N=arguments.length;for(bb=Array(N);A<N;A++)bb[A]=arguments[A];return c(c(Ma=this["$nan?"]())?Ma:this["$infinite?"]())?1:m(this,a.find_super_dispatcher(this,"denominator",Qa,!1,!0),"denominator",bb,X)},Qa.$$arity=0);a.def(h,"$downto",Oa=function(X){var Ma=Oa.$$p,
bb=Ma||B,A;Ma&&(Oa.$$p=null);Ma&&(Oa.$$p=null);if(bb===B)return J(this,"enum_for",["downto",X],(A=function(){var N=null==A.$$s?this:A.$$s;c(d(Q,"Numeric")["$==="](X))||N.$raise(d(Q,"ArgumentError"),"comparison of "+N.$class()+" with "+X.$class()+" failed");return c(v(X,N))?0:p(r(N,X),1)},A.$$s=this,A.$$arity=0,A));X.$$is_number||this.$raise(d(Q,"ArgumentError"),"comparison of "+this.$class()+" with "+X.$class()+" failed");for(Ma=this;Ma>=X;Ma--)bb(Ma);return this},Oa.$$arity=1);a.alias(h,"eql?","==");
a.def(h,"$equal?",kb=function(X){var Ma;return c(Ma=this["$=="](X))?Ma:isNaN(this)&&isNaN(X)},kb.$$arity=1);a.def(h,"$even?",lb=function(){return 0===this%2},lb.$$arity=0);a.def(h,"$floor",W=function(X){null==X&&(X=0);var Ma=this.$to_f();if(0===Ma%1&&0<=X)return Ma;X=Math.pow(10,X);X=Math.floor(Ma*X)/X;0===Ma%1&&(X=Math.round(X));return X},W.$$arity=-1);a.def(h,"$gcd",ya=function(X){c(d(Q,"Integer")["$==="](X))||this.$raise(d(Q,"TypeError"),"not an integer");var Ma=Math.abs(this);for(X=Math.abs(X);0<
Ma;){var bb=Ma;Ma=X%Ma;X=bb}return X},ya.$$arity=1);a.def(h,"$gcdlcm",Ca=function(X){return[this.$gcd(X),this.$lcm(X)]},Ca.$$arity=1);a.def(h,"$integer?",Va=function(){return 0===this%1},Va.$$arity=0);a.def(h,"$is_a?",hb=function(X){var Ma=hb.$$p,bb=B,A=B,N=B,ra;Ma&&(hb.$$p=null);var Ga=0;var Ba=arguments.length;for(ra=Array(Ba);Ga<Ba;Ga++)ra[Ga]=arguments[Ga];return c(c(bb=X["$=="](d(Q,"Integer")))?d(Q,"Integer")["$==="](this):bb)||c(c(A=X["$=="](d(Q,"Integer")))?d(Q,"Integer")["$==="](this):A)||
c(c(N=X["$=="](d(Q,"Float")))?d(Q,"Float")["$==="](this):N)?!0:m(this,a.find_super_dispatcher(this,"is_a?",hb,!1,!0),"is_a?",ra,Ma)},hb.$$arity=1);a.alias(h,"kind_of?","is_a?");a.def(h,"$instance_of?",cb=function(X){var Ma=cb.$$p,bb=B,A=B,N=B,ra;Ma&&(cb.$$p=null);var Ga=0;var Ba=arguments.length;for(ra=Array(Ba);Ga<Ba;Ga++)ra[Ga]=arguments[Ga];return c(c(bb=X["$=="](d(Q,"Integer")))?d(Q,"Integer")["$==="](this):bb)||c(c(A=X["$=="](d(Q,"Integer")))?d(Q,"Integer")["$==="](this):A)||c(c(N=X["$=="](d(Q,
"Float")))?d(Q,"Float")["$==="](this):N)?!0:m(this,a.find_super_dispatcher(this,"instance_of?",cb,!1,!0),"instance_of?",ra,Ma)},cb.$$arity=1);a.def(h,"$lcm",$a=function(X){c(d(Q,"Integer")["$==="](X))||this.$raise(d(Q,"TypeError"),"not an integer");return 0==this||0==X?0:Math.abs(this*X/this.$gcd(X))},$a.$$arity=1);a.alias(h,"magnitude","abs");a.alias(h,"modulo","%");a.def(h,"$next",ab=function(){return this+1},ab.$$arity=0);a.def(h,"$nobits?",za=function(X){X=d(Q,"Opal")["$coerce_to!"](X,d(Q,"Integer"),
"to_int");return 0==(this&X)},za.$$arity=1);a.def(h,"$nonzero?",ua=function(){return 0==this?B:this},ua.$$arity=0);a.def(h,"$numerator",La=function(){var X=La.$$p,Ma=B,bb;X&&(La.$$p=null);var A=0;var N=arguments.length;for(bb=Array(N);A<N;A++)bb[A]=arguments[A];return c(c(Ma=this["$nan?"]())?Ma:this["$infinite?"]())?this:m(this,a.find_super_dispatcher(this,"numerator",La,!1,!0),"numerator",bb,X)},La.$$arity=0);a.def(h,"$odd?",Ra=function(){return 0!==this%2},Ra.$$arity=0);a.def(h,"$ord",Ya=function(){return this},
Ya.$$arity=0);a.def(h,"$pow",Fa=function(X,Ma){0==this&&this.$raise(d(Q,"ZeroDivisionError"),"divided by 0");if(void 0===Ma)return this["$**"](X);d(Q,"Integer")["$==="](X)||this.$raise(d(Q,"TypeError"),"Integer#pow() 2nd argument not allowed unless a 1st argument is integer");0>X&&this.$raise(d(Q,"TypeError"),"Integer#pow() 1st argument cannot be negative when 2nd argument specified");d(Q,"Integer")["$==="](Ma)||this.$raise(d(Q,"TypeError"),"Integer#pow() 2nd argument not allowed unless all arguments are integers");
0===Ma&&this.$raise(d(Q,"ZeroDivisionError"),"divided by 0");return this["$**"](X)["$%"](Ma)},Fa.$$arity=-2);a.def(h,"$pred",Z=function(){return this-1},Z.$$arity=0);a.def(h,"$quo",P=function(X){var Ma=P.$$p,bb;Ma&&(P.$$p=null);var A=0;var N=arguments.length;for(bb=Array(N);A<N;A++)bb[A]=arguments[A];return c(d(Q,"Integer")["$==="](this))?m(this,a.find_super_dispatcher(this,"quo",P,!1,!0),"quo",bb,Ma):x(this,X)},P.$$arity=1);a.def(h,"$rationalize",aa=function(X){1<arguments.length&&this.$raise(d(Q,
"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)");if(c(d(Q,"Integer")["$==="](this)))return d(Q,"Rational").$new(this,1);if(c(this["$infinite?"]()))return this.$raise(d(Q,"FloatDomainError"),"Infinity");if(c(this["$nan?"]()))return this.$raise(d(Q,"FloatDomainError"),"NaN");if(c(null==X)){var Ma=d(Q,"Math").$frexp(this);var bb=a.to_ary(Ma);var A=null==bb[0]?B:bb[0];bb=null==bb[1]?B:bb[1];Ma;A=d(Q,"Math").$ldexp(A,g(d(Q,"Float"),"MANT_DIG")).$to_i();bb=r(bb,g(d(Q,"Float"),
"MANT_DIG"));return d(Q,"Rational").$new(q(2,A),1["$<<"](r(1,bb))).$rationalize(d(Q,"Rational").$new(1,1["$<<"](r(1,bb))))}return this.$to_r().$rationalize(X)},aa.$$arity=-1);a.def(h,"$remainder",T=function(X){return r(this,q(X,x(this,X).$truncate()))},T.$$arity=1);a.def(h,"$round",ha=function(X){var Ma,bb,A=bb=Ma=B;if(c(d(Q,"Integer")["$==="](this))){if(c(null==X))return this;c(c(Ma=d(Q,"Float")["$==="](X))?X["$infinite?"]():Ma)&&this.$raise(d(Q,"RangeError"),"Infinity");X=d(Q,"Opal")["$coerce_to!"](X,
d(Q,"Integer"),"to_int");c(G(X,g(d(Q,"Integer"),"MIN")))&&this.$raise(d(Q,"RangeError"),"out of bounds");if(c(0<=X))return this;X=X["$-@"]();if(.415241*X-.125>this.$size())return 0;X=Math.pow(10,X);X*=Math.floor((Math.abs(this)+X/2)/X);return 0>this?-X:X}c(c(bb=this["$nan?"]())?null==X:bb)&&this.$raise(d(Q,"FloatDomainError"),"NaN");X=d(Q,"Opal")["$coerce_to!"](X||0,d(Q,"Integer"),"to_int");if(c("number"===typeof X?0>=X:X["$<="](0)))c(this["$nan?"]())?this.$raise(d(Q,"RangeError"),"NaN"):c(this["$infinite?"]())&&
this.$raise(d(Q,"FloatDomainError"),"Infinity");else{if(X["$=="](0))return Math.round(this);if(c(c(A=this["$nan?"]())?A:this["$infinite?"]()))return this}bb=d(Q,"Math").$frexp(this);Ma=a.to_ary(bb);Ma=null==Ma[1]?B:Ma[1];bb;bb=r(p(g(d(Q,"Float"),"DIG"),2),c(v(Ma,0))?x(Ma,4):r(x(Ma,3),1));bb="number"===typeof X&&"number"===typeof bb?X>=bb:X["$>="](bb);return c(bb)?this:c(G(X,(c(v(Ma,0))?p(x(Ma,3),1):x(Ma,4))["$-@"]()))?0:Math.round(this*Math.pow(10,X))/Math.pow(10,X)},ha.$$arity=-1);a.def(h,"$step",
la=function(X,Ma,bb){function A(){void 0!==fb&&(Ta=fb);void 0===Ta&&(Ta=B);Xa===B&&gb.$raise(d(Q,"TypeError"),"step must be numeric");0===Xa&&gb.$raise(d(Q,"ArgumentError"),"step can't be 0");void 0!==qb&&(Xa=qb);if(Xa===B||null==Xa)Xa=1;var nb=Xa["$<=>"](0);nb===B&&gb.$raise(d(Q,"ArgumentError"),"0 can't be coerced into "+Xa.$class());if(Ta===B||null==Ta)Ta=0<nb?g(d(Q,"Float"),"INFINITY"):g(d(Q,"Float"),"INFINITY")["$-@"]();d(Q,"Opal").$compare(gb,Ta)}function N(){if(0<Xa&&gb>Ta||0>Xa&&gb<Ta)return 0;
if(Infinity===Xa||-Infinity===Xa)return 1;var nb=Math.abs,pb=Math.floor;nb=(nb(gb)+nb(Ta)+nb(Ta-gb))/nb(Xa)*g(d(Q,"Float"),"EPSILON");if(Infinity===nb||-Infinity===nb)return 0;.5<nb&&(nb=.5);return pb((Ta-gb)/Xa+nb)+1}function ra(){A();if(0===Xa)return Infinity;if(0!==Xa%1)return N();if(0<Xa&&gb>Ta||0>Xa&&gb<Ta)return 0;var nb=Math.ceil,pb=Math.abs,Gb=pb(gb-Ta)+1;pb=pb(Xa);return nb(Gb/pb)}var Ga=la.$$p,Ba=Ga||B,Ia,Wa,gb=this,db=Ia=B;Ga&&(la.$$p=null);Ga&&(la.$$p=null);Ga=a.slice.call(arguments,0,
arguments.length);Ia=a.extract_kwargs(Ga);if(null==Ia)Ia=f([],{});else if(!Ia.$$is_hash)throw a.ArgumentError.$new("expected kwargs");if(0<Ga.length){var Ta=Ga[0];Ga.splice(0,1)}if(0<Ga.length){var Xa=Ga[0];Ga.splice(0,1)}var fb=Ia.$$smap.to;var qb=Ia.$$smap.by;void 0!==Ta&&void 0!==fb&&gb.$raise(d(Q,"ArgumentError"),"to is given twice");void 0!==Xa&&void 0!==qb&&gb.$raise(d(Q,"ArgumentError"),"step is given twice");if(Ba===B)return Ia=[],db=f([],{}),void 0!==Ta&&Ia.push(Ta),void 0!==Xa&&Ia.push(Xa),
void 0!==fb&&a.hash_put(db,"to",fb),void 0!==qb&&a.hash_put(db,"by",qb),db["$any?"]()&&Ia.push(db),J(gb,"enum_for",["step"].concat(a.to_a(Ia)),(Wa=function(){return ra()},Wa.$$s=gb,Wa.$$arity=0,Wa));A();if(0===Xa)for(;;)Ba(gb);if(0!==gb%1||0!==Ta%1||0!==Xa%1){if(Wa=N(),0<Wa)if(Infinity===Xa||-Infinity===Xa)Ba(gb);else if(Ga=0,0<Xa)for(;Ga<Wa;)Ia=Ga*Xa+gb,Ta<Ia&&(Ia=Ta),Ba(Ia),Ga+=1;else for(;Ga<Wa;)Ia=Ga*Xa+gb,Ta>Ia&&(Ia=Ta),Ba(Ia),Ga+=1}else if(Wa=gb,0<Xa)for(;Wa<=Ta;)Ba(Wa),Wa+=Xa;else for(;Wa>=
Ta;)Ba(Wa),Wa+=Xa;return gb},la.$$arity=-1);a.alias(h,"succ","next");a.def(h,"$times",l=function(){var X=l.$$p,Ma=X||B,bb;X&&(l.$$p=null);X&&(l.$$p=null);if(!c(Ma))return J(this,"enum_for",["times"],(bb=function(){return null==bb.$$s?this:bb.$$s},bb.$$s=this,bb.$$arity=0,bb));for(X=0;X<this;X++)Ma(X);return this},l.$$arity=0);a.def(h,"$to_f",C=function(){return this},C.$$arity=0);a.def(h,"$to_i",M=function(){return parseInt(this,10)},M.$$arity=0);a.alias(h,"to_int","to_i");a.def(h,"$to_r",ca=function(){if(c(d(Q,
"Integer")["$==="](this)))return d(Q,"Rational").$new(this,1);var X=d(Q,"Math").$frexp(this);var Ma=a.to_ary(X);var bb=null==Ma[0]?B:Ma[0];Ma=null==Ma[1]?B:Ma[1];X;bb=d(Q,"Math").$ldexp(bb,g(d(Q,"Float"),"MANT_DIG")).$to_i();Ma=r(Ma,g(d(Q,"Float"),"MANT_DIG"));return q(bb,g(d(Q,"Float"),"RADIX")["$**"](Ma)).$to_r()},ca.$$arity=0);a.def(h,"$to_s",w=function(X){var Ma=B;null==X&&(X=10);X=d(Q,"Opal")["$coerce_to!"](X,d(Q,"Integer"),"to_int");c(c(Ma=G(X,2))?Ma:v(X,36))&&this.$raise(d(Q,"ArgumentError"),
"invalid radix "+X);return this.toString(X)},w.$$arity=-1);a.def(h,"$truncate",U=function(X){null==X&&(X=0);var Ma=this.$to_f();if(0===Ma%1&&0<=X)return Ma;X=Math.pow(10,X);X=parseInt(Ma*X,10)/X;0===Ma%1&&(X=Math.round(X));return X},U.$$arity=-1);a.alias(h,"inspect","to_s");a.def(h,"$digits",pa=function(X){null==X&&(X=10);G(this,0)&&this.$raise(g(d(Q,"Math"),"DomainError"),"out of domain");X=d(Q,"Opal")["$coerce_to!"](X,d(Q,"Integer"),"to_int");c(G(X,2))&&this.$raise(d(Q,"ArgumentError"),"invalid radix "+
X);for(var Ma=this,bb=[];0!==Ma;)bb.push(Ma%X),Ma=parseInt(Ma/X,10);return bb},pa.$$arity=-1);a.def(h,"$divmod",Ja=function(X){var Ma=Ja.$$p,bb=B,A;Ma&&(Ja.$$p=null);var N=0;var ra=arguments.length;for(A=Array(ra);N<ra;N++)A[N]=arguments[N];return c(c(bb=this["$nan?"]())?bb:X["$nan?"]())?this.$raise(d(Q,"FloatDomainError"),"NaN"):c(this["$infinite?"]())?this.$raise(d(Q,"FloatDomainError"),"Infinity"):m(this,a.find_super_dispatcher(this,"divmod",Ja,!1,!0),"divmod",A,Ma)},Ja.$$arity=1);a.def(h,"$upto",
ib=function(X){var Ma=ib.$$p,bb=Ma||B,A;Ma&&(ib.$$p=null);Ma&&(ib.$$p=null);if(bb===B)return J(this,"enum_for",["upto",X],(A=function(){var N=null==A.$$s?this:A.$$s;c(d(Q,"Numeric")["$==="](X))||N.$raise(d(Q,"ArgumentError"),"comparison of "+N.$class()+" with "+X.$class()+" failed");return c(G(X,N))?0:p(r(X,N),1)},A.$$s=this,A.$$arity=0,A));X.$$is_number||this.$raise(d(Q,"ArgumentError"),"comparison of "+this.$class()+" with "+X.$class()+" failed");for(Ma=this;Ma<=X;Ma++)bb(Ma);return this},ib.$$arity=
1);a.def(h,"$zero?",ob=function(){return 0==this},ob.$$arity=0);a.def(h,"$size",mb=function(){return 4},mb.$$arity=0);a.def(h,"$nan?",sb=function(){return isNaN(this)},sb.$$arity=0);a.def(h,"$finite?",tb=function(){return Infinity!=this&&-Infinity!=this&&!isNaN(this)},tb.$$arity=0);a.def(h,"$infinite?",wb=function(){return Infinity==this?1:-Infinity==this?-1:B},wb.$$arity=0);a.def(h,"$positive?",xb=function(){return 0!=this&&(Infinity==this||0<1/this)},xb.$$arity=0);return(a.def(h,"$negative?",ub=
function(){return-Infinity==this||0>1/this},ub.$$arity=0),B)&&"negative?"})(E[0],d(E,"Numeric"),E);a.const_set(E[0],"Fixnum",d(E,"Number"));(function(h,$super,D){h=y(h,$super,"Integer");D=[h].concat(D);h.$$is_number_class=!0;h.$$is_integer_class=!0;(function(Q,ja){var fa=[Q].concat(ja),na,b;a.def(Q,"$allocate",na=function(){return this.$raise(d(fa,"TypeError"),"allocator undefined for "+this.$name())},na.$$arity=0);a.udef(Q,"$new");return(a.def(Q,"$sqrt",b=function(n){n=d(fa,"Opal")["$coerce_to!"](n,
d(fa,"Integer"),"to_int");0>n&&this.$raise(g(d(fa,"Math"),"DomainError"),'Numerical argument is out of domain - "isqrt"');return parseInt(Math.sqrt(n),10)},b.$$arity=1),B)&&"sqrt"})(a.get_singleton_class(h),D);a.const_set(D[0],"MAX",Math.pow(2,30)-1);return a.const_set(D[0],"MIN",-Math.pow(2,30))})(E[0],d(E,"Numeric"),E);return function(h,$super,D){h=y(h,$super,"Float");D=[h].concat(D);h.$$is_number_class=!0;(function(Q,ja){var fa=[Q].concat(ja),na,b;a.def(Q,"$allocate",na=function(){return this.$raise(d(fa,
"TypeError"),"allocator undefined for "+this.$name())},na.$$arity=0);a.udef(Q,"$new");return(a.def(Q,"$===",b=function(n){return!!n.$$is_number},b.$$arity=1),B)&&"==="})(a.get_singleton_class(h),D);a.const_set(D[0],"INFINITY",Infinity);a.const_set(D[0],"MAX",Number.MAX_VALUE);a.const_set(D[0],"MIN",Number.MIN_VALUE);a.const_set(D[0],"NAN",NaN);a.const_set(D[0],"DIG",15);a.const_set(D[0],"MANT_DIG",53);a.const_set(D[0],"RADIX",2);return a.const_set(D[0],"EPSILON",Number.EPSILON||2.220446049250313E-16)}(E[0],
d(E,"Numeric"),E)};
Opal.modules["corelib/range"]=function(a){function v(m,J){return"number"===typeof m&&"number"===typeof J?m<=J:m["$<="](J)}function G(m,J){return"number"===typeof m&&"number"===typeof J?m<J:m["$<"](J)}function p(m,J){return"number"===typeof m&&"number"===typeof J?m>J:m["$>"](J)}function r(m,J){return"number"===typeof m&&"number"===typeof J?m+J:m["$+"](J)}var x=a.top,q=[],e=a.nil,E=a.$$$,B=a.$$,g=a.klass,d=a.truthy,y=a.send,c=a.send2;a.add_stubs("$require $include $attr_reader $raise $<=> $include? $<= $< $enum_for $size $upto $to_proc $respond_to? $class $succ $! $== $=== $exclude_end? $eql? $begin $end $last $to_a $> $- $abs $to_i $coerce_to! $ceil $/ $loop $+ $* $>= $each_with_index $% $bsearch $inspect $[] $hash".split(" "));x.$require("corelib/enumerable");
return function(m,$super,f){m=g(m,$super,"Range");var h=[m].concat(f),L,D,Q,ja,fa,na,b,n,k,t,z,F,H,K,da,va,Na;m.$$prototype.begin=m.$$prototype.end=m.$$prototype.excl=e;m.$include(B(h,"Enumerable"));m.$$prototype.$$is_range=!0;m.$attr_reader("begin","end");a.def(m,"$initialize",L=function(wa,Aa,Ka){null==Ka&&(Ka=!1);d(this.begin)&&this.$raise(B(h,"NameError"),"'initialize' called twice");d(wa["$<=>"](Aa))||this.$raise(B(h,"ArgumentError"),"bad value for range");this.begin=wa;this.end=Aa;return this.excl=
Ka},L.$$arity=-3);a.def(m,"$===",D=function(wa){return this["$include?"](wa)},D.$$arity=1);a.def(m,"$cover?",Q=function(wa){var Aa=e,Ka=e,oa=e;var R=this.begin["$<=>"](wa);if(!d(d(Aa=R)?v(R,0):Aa))return!1;wa=wa["$<=>"](this.end);return d(this.excl)?d(Ka=wa)?G(wa,0):Ka:d(oa=wa)?v(wa,0):oa},Q.$$arity=1);a.def(m,"$each",ja=function(){var wa=ja.$$p,Aa=wa||e,Ka,oa=e,R=e,sa=e;wa&&(ja.$$p=null);wa&&(ja.$$p=null);if(Aa===e)return y(this,"enum_for",["each"],(Ka=function(){return(null==Ka.$$s?this:Ka.$$s).$size()},
Ka.$$s=this,Ka.$$arity=0,Ka));if(this.begin.$$is_number&&this.end.$$is_number){0===this.begin%1&&0===this.end%1||this.$raise(B(h,"TypeError"),"can't iterate from Float");wa=this.begin;for(oa=this.end+(d(this.excl)?0:1);wa<oa;wa++)Aa(wa);return this}if(this.begin.$$is_string&&this.end.$$is_string)return y(this.begin,"upto",[this.end,this.excl],Aa.$to_proc()),this;oa=this.begin;R=this.end;for(d(oa["$respond_to?"]("succ"))||this.$raise(B(h,"TypeError"),"can't iterate from "+oa.$class());d(G(oa["$<=>"](R),
0));)a.yield1(Aa,oa),oa=oa.$succ();d(d(sa=this.excl["$!"]())?oa["$=="](R):sa)&&a.yield1(Aa,oa);return this},ja.$$arity=0);a.def(m,"$eql?",fa=function(wa){var Aa=e,Ka=e;return d(B(h,"Range")["$==="](wa))?d(Aa=d(Ka=this.excl["$==="](wa["$exclude_end?"]()))?this.begin["$eql?"](wa.$begin()):Ka)?this.end["$eql?"](wa.$end()):Aa:!1},fa.$$arity=1);a.alias(m,"==","eql?");a.def(m,"$exclude_end?",na=function(){return this.excl},na.$$arity=0);a.def(m,"$first",b=function(wa){var Aa=b.$$p,Ka;Aa&&(b.$$p=null);var oa=
0;var R=arguments.length;for(Ka=Array(R);oa<R;oa++)Ka[oa]=arguments[oa];return d(null==wa)?this.begin:c(this,a.find_super_dispatcher(this,"first",b,!1,!0),"first",Ka,Aa)},b.$$arity=-1);a.alias(m,"include?","cover?");a.def(m,"$last",n=function(wa){return d(null==wa)?this.end:this.$to_a().$last(wa)},n.$$arity=-1);a.def(m,"$max",k=function(){var wa=k.$$p,Aa=wa||e,Ka=e,oa;wa&&(k.$$p=null);var R=0;var sa=arguments.length;for(oa=Array(sa);R<sa;R++)oa[R]=arguments[R];return Aa!==e?c(this,a.find_super_dispatcher(this,
"max",k,!1,!0),"max",oa,wa):d(p(this.begin,this.end))?e:d(d(Ka=this.excl)?this.begin["$=="](this.end):Ka)?e:this.excl?this.end-1:this.end},k.$$arity=0);a.alias(m,"member?","cover?");a.def(m,"$min",t=function(){var wa=t.$$p,Aa=wa||e,Ka=e,oa;wa&&(t.$$p=null);var R=0;var sa=arguments.length;for(oa=Array(sa);R<sa;R++)oa[R]=arguments[R];return Aa!==e?c(this,a.find_super_dispatcher(this,"min",t,!1,!0),"min",oa,wa):d(p(this.begin,this.end))?e:d(d(Ka=this.excl)?this.begin["$=="](this.end):Ka)?e:this.begin},
t.$$arity=0);a.def(m,"$size",z=function(){var wa=e;var Aa=this.begin;var Ka=this.end;d(this.excl)&&(Ka="number"===typeof Ka?Ka-1:Ka["$-"](1));if(!d(d(wa=B(h,"Numeric")["$==="](Aa))?B(h,"Numeric")["$==="](Ka):wa))return e;if(d(G(Ka,Aa)))return 0;wa=E(B(h,"Float"),"INFINITY");return d([Aa.$abs(),Ka.$abs()]["$include?"](wa))?wa:(Math.abs(Ka-Aa)+1).$to_i()},z.$$arity=0);a.def(m,"$step",F=function(wa){function Aa(){wa.$$is_number||(wa=B(h,"Opal")["$coerce_to!"](wa,B(h,"Integer"),"to_int"));0>wa?Y.$raise(B(h,
"ArgumentError"),"step can't be negative"):0===wa&&Y.$raise(B(h,"ArgumentError"),"step can't be 0")}function Ka(){if(!Y.begin["$respond_to?"]("succ")||Y.begin.$$is_string&&Y.end.$$is_string)return e;if(0===wa%1){var V=Y.$size();return("number"===typeof V&&"number"===typeof wa?V/wa:V["$/"](wa)).$ceil()}V=Y.begin;var ta=Y.end,Da=Math.abs,ma=Math.floor;Da=(Da(V)+Da(ta)+Da(ta-V))/Da(wa)*E(B(h,"Float"),"EPSILON");.5<Da&&(Da=.5);Y.excl?(ma=ma((ta-V)/wa-Da),ma*wa+V<ta&&ma++):ma=ma((ta-V)/wa+Da)+1;return ma}
var oa,R,sa,ba=F.$$p,ka=ba||e,Y=this,S=e;ba&&(F.$$p=null);null==wa&&(wa=1);if(ka===e)return y(Y,"enum_for",["step",wa],(oa=function(){Aa();return Ka()},oa.$$s=Y,oa.$$arity=0,oa));Aa();d(Y.begin.$$is_number&&Y.end.$$is_number)?(S=0,function(){var V=a.new_brk();try{return y(Y,"loop",[],(R=function(){var ta=null==R.$$s?this:R.$$s;null==ta.begin&&(ta.begin=e);null==ta.excl&&(ta.excl=e);null==ta.end&&(ta.end=e);var Da=r(ta.begin,"number"===typeof S&&"number"===typeof wa?S*wa:S["$*"](wa));d(ta.excl)?(ta=
ta.end,ta="number"===typeof Da&&"number"===typeof ta?Da>=ta:Da["$>="](ta),d(ta)&&a.brk(e,V)):d(p(Da,ta.end))&&a.brk(e,V);a.yield1(ka,Da);return S=r(S,1)},R.$$s=Y,R.$$brk=V,R.$$arity=0,R))}catch(ta){if(ta===V)return ta.$v;throw ta;}}()):(Y.begin.$$is_string&&Y.end.$$is_string&&0!==wa%1&&Y.$raise(B(h,"TypeError"),"no implicit conversion to float from string"),y(Y,"each_with_index",[],(sa=function(V,ta){null==V&&(V=e);null==ta&&(ta=e);return ta["$%"](wa)["$=="](0)?a.yield1(ka,V):e},sa.$$s=Y,sa.$$arity=
2,sa)));return Y},F.$$arity=-1);a.def(m,"$bsearch",H=function(){var wa=H.$$p,Aa=wa||e;wa&&(H.$$p=null);wa&&(H.$$p=null);if(Aa===e)return this.$enum_for("bsearch");d(this.begin.$$is_number&&this.end.$$is_number)||this.$raise(B(h,"TypeError"),"can't do binary search for "+this.begin.$class());return y(this.$to_a(),"bsearch",[],Aa.$to_proc())},H.$$arity=0);a.def(m,"$to_s",K=function(){return""+this.begin+(d(this.excl)?"...":"..")+this.end},K.$$arity=0);a.def(m,"$inspect",da=function(){return""+this.begin.$inspect()+
(d(this.excl)?"...":"..")+this.end.$inspect()},da.$$arity=0);a.def(m,"$marshal_load",va=function(wa){this.begin=wa["$[]"]("begin");this.end=wa["$[]"]("end");return this.excl=wa["$[]"]("excl")},va.$$arity=1);return(a.def(m,"$hash",Na=function(){return[this.begin,this.end,this.excl].$hash()},Na.$$arity=0),e)&&"hash"}(q[0],null,q)};
Opal.modules["corelib/proc"]=function(a){var v=[],G=a.nil,p=a.$$,r=a.slice,x=a.klass,q=a.truthy,e=a.send;a.add_stubs(["$raise","$proc","$call","$to_proc","$coerce_to!"]);return function(E,$super,g){E=x(E,$super,"Proc");var d=[E].concat(g),y,c,m,J,f,h,L,D,Q,ja,fa,na;a.defineProperty(E.$$prototype,"$$is_proc",!0);a.defineProperty(E.$$prototype,"$$is_lambda",!1);a.defs(E,"$new",y=function(){var b=y.$$p,n=b||G;b&&(y.$$p=null);b&&(y.$$p=null);q(n)||this.$raise(p(d,"ArgumentError"),"tried to create a Proc object without a block");
return n},y.$$arity=0);a.def(E,"$call",c=function(b){var n=c.$$p,k=n||G;n&&(c.$$p=null);n&&(c.$$p=null);n=a.slice.call(arguments,0,arguments.length);k!==G&&(this.$$p=k);if(k=this.$$brk)try{var t=this.$$is_lambda?this.apply(null,n):a.yieldX(this,n)}catch(z){if(z===k)return k.$v;throw z;}else t=this.$$is_lambda?this.apply(null,n):a.yieldX(this,n);return t},c.$$arity=-1);a.alias(E,"[]","call");a.alias(E,"===","call");a.alias(E,"yield","call");a.def(E,"$>>",m=function(b){var n;m.$$p&&(m.$$p=null);return e(this,
"proc",[],(n=function(k){var t=null==n.$$s?this:n.$$s,z=n.$$p,F=z||G;z&&(n.$$p=null);z=a.slice.call(arguments,0,arguments.length);t=e(t,"call",a.to_a(z),F.$to_proc());return b.$call(t)},n.$$s=this,n.$$arity=-1,n))},m.$$arity=1);a.def(E,"$<<",J=function(b){var n;J.$$p&&(J.$$p=null);return e(this,"proc",[],(n=function(k){var t=null==n.$$s?this:n.$$s,z=n.$$p,F=z||G;z&&(n.$$p=null);z=a.slice.call(arguments,0,arguments.length);F=e(b,"call",a.to_a(z),F.$to_proc());return t.$call(F)},n.$$s=this,n.$$arity=
-1,n))},J.$$arity=1);a.def(E,"$to_proc",f=function(){return this},f.$$arity=0);a.def(E,"$lambda?",h=function(){return!!this.$$is_lambda},h.$$arity=0);a.def(E,"$arity",L=function(){return this.$$is_curried?-1:this.$$arity},L.$$arity=0);a.def(E,"$source_location",D=function(){return G},D.$$arity=0);a.def(E,"$binding",Q=function(){this.$$is_curried&&this.$raise(p(d,"ArgumentError"),"Can't create Binding");return G},Q.$$arity=0);a.def(E,"$parameters",ja=function(){if(this.$$is_curried)return[["rest"]];
if(this.$$parameters){if(this.$$is_lambda)return this.$$parameters;var b=[],n;var k=0;for(n=this.$$parameters.length;k<n;k++){var t=this.$$parameters[k];"req"===t[0]&&(t=["opt",t[1]]);b.push(t)}return b}return[]},ja.$$arity=0);a.def(E,"$curry",fa=function(b){function n(){var t=r.call(arguments),z=t.length;z>b&&k.$$is_lambda&&!k.$$is_curried&&k.$raise(p(d,"ArgumentError"),"wrong number of arguments ("+z+" for "+b+")");if(z>=b)return k.$call.apply(k,t);z=function(){return n.apply(null,t.concat(r.call(arguments)))};
z.$$is_lambda=k.$$is_lambda;z.$$is_curried=!0;return z}var k=this;void 0===b?b=k.length:(b=p(d,"Opal")["$coerce_to!"](b,p(d,"Integer"),"to_int"),k.$$is_lambda&&b!==k.length&&k.$raise(p(d,"ArgumentError"),"wrong number of arguments ("+b+" for "+k.length+")"));n.$$is_lambda=k.$$is_lambda;n.$$is_curried=!0;return n},fa.$$arity=-1);a.def(E,"$dup",na=function(){function b(){return n.apply(this,arguments)}var n=this.$$original_proc||this,k;for(k in this)this.hasOwnProperty(k)&&(b[k]=this[k]);return b},
na.$$arity=0);return a.alias(E,"clone","dup")}(v[0],Function,v)};
Opal.modules["corelib/method"]=function(a){var v=[],G=a.nil,p=a.$$,r=a.klass,x=a.truthy;a.add_stubs("$attr_reader $arity $>> $<< $new $class $join $source_location $raise".split(" "));(function(q,$super,E){q=r(q,$super,"Method");var B=[q].concat(E),g,d,y,c,m,J,f,h,L,D,Q;q.$$prototype.method=q.$$prototype.receiver=q.$$prototype.owner=q.$$prototype.name=G;q.$attr_reader("owner","receiver","name");a.def(q,"$initialize",g=function(ja,fa,na,b){this.receiver=ja;this.owner=fa;this.name=b;return this.method=
na},g.$$arity=4);a.def(q,"$arity",d=function(){return this.method.$arity()},d.$$arity=0);a.def(q,"$parameters",y=function(){return this.method.$$parameters},y.$$arity=0);a.def(q,"$source_location",c=function(){var ja;return x(ja=this.method.$$source_location)?ja:["(eval)",0]},c.$$arity=0);a.def(q,"$comments",m=function(){var ja;return x(ja=this.method.$$comments)?ja:[]},m.$$arity=0);a.def(q,"$call",J=function(ja){var fa=J.$$p,na=fa||G;fa&&(J.$$p=null);fa&&(J.$$p=null);fa=a.slice.call(arguments,0,
arguments.length);this.method.$$p=na;return this.method.apply(this.receiver,fa)},J.$$arity=-1);a.alias(q,"[]","call");a.def(q,"$>>",f=function(ja){return this.method["$>>"](ja)},f.$$arity=1);a.def(q,"$<<",h=function(ja){return this.method["$<<"](ja)},h.$$arity=1);a.def(q,"$unbind",L=function(){return p(B,"UnboundMethod").$new(this.receiver.$class(),this.owner,this.method,this.name)},L.$$arity=0);a.def(q,"$to_proc",D=function(){var ja=this.$call.bind(this);ja.$$unbound=this.method;ja.$$is_lambda=!0;
ja.$$arity=this.method.$$arity;ja.$$parameters=this.method.$$parameters;return ja},D.$$arity=0);return(a.def(q,"$inspect",Q=function(){return"#<"+this.$class()+": "+this.receiver.$class()+"#"+this.name+" (defined in "+this.owner+" in "+this.$source_location().$join(":")+")>"},Q.$$arity=0),G)&&"inspect"})(v[0],null,v);return function(q,$super,E){q=r(q,$super,"UnboundMethod");var B=[q].concat(E),g,d,y,c,m,J,f;q.$$prototype.method=q.$$prototype.owner=q.$$prototype.name=q.$$prototype.source=G;q.$attr_reader("source",
"owner","name");a.def(q,"$initialize",g=function(h,L,D,Q){this.source=h;this.owner=L;this.method=D;return this.name=Q},g.$$arity=4);a.def(q,"$arity",d=function(){return this.method.$arity()},d.$$arity=0);a.def(q,"$parameters",y=function(){return this.method.$$parameters},y.$$arity=0);a.def(q,"$source_location",c=function(){var h;return x(h=this.method.$$source_location)?h:["(eval)",0]},c.$$arity=0);a.def(q,"$comments",m=function(){var h;return x(h=this.method.$$comments)?h:[]},m.$$arity=0);a.def(q,
"$bind",J=function(h){if(this.owner.$$is_module||a.is_a(h,this.owner))return p(B,"Method").$new(h,this.owner,this.method,this.name);this.$raise(p(B,"TypeError"),"can't bind singleton method to a different class (expected "+h+".kind_of?("+this.owner+" to be true)")},J.$$arity=1);return(a.def(q,"$inspect",f=function(){return"#<"+this.$class()+": "+this.source+"#"+this.name+" (defined in "+this.owner+" in "+this.$source_location().$join(":")+")>"},f.$$arity=0),G)&&"inspect"}(v[0],null,v)};
Opal.modules["corelib/variables"]=function(a){var v=[],G=a.nil,p=a.$$,r=a.gvars,x=a.hash2;a.add_stubs(["$new"]);r["&"]=r["~"]=r["`"]=r["'"]=G;r.LOADED_FEATURES=r['"']=a.loaded_features;r.LOAD_PATH=r[":"]=[];r["/"]="\n";r[","]=G;a.const_set(v[0],"ARGV",[]);a.const_set(v[0],"ARGF",p(v,"Object").$new());a.const_set(v[0],"ENV",x([],{}));r.VERBOSE=!1;r.DEBUG=!1;return r.SAFE=0};
Opal.modules["corelib/io"]=function(a){function v(y,c){return"number"===typeof y&&"number"===typeof c?y-c:y["$-"](c)}var G=[],p=a.nil,r=a.$$$,x=a.$$,q=a.klass,e=a.module,E=a.gvars,B=a.send,g=p;a.add_stubs("$attr_accessor $size $write $String $chomp $getbyte $getc $raise $new $write_proc= $- $extend".split(" "));(function(y,$super,m){y=q(y,$super,"IO");m=[y].concat(m);var J,f,h,L;y.$$prototype.tty=y.$$prototype.closed=p;a.const_set(m[0],"SEEK_SET",0);a.const_set(m[0],"SEEK_CUR",1);a.const_set(m[0],
"SEEK_END",2);a.def(y,"$tty?",J=function(){return this.tty},J.$$arity=0);a.def(y,"$closed?",f=function(){return this.closed},f.$$arity=0);y.$attr_accessor("write_proc");a.def(y,"$write",h=function(D){this.write_proc(D);return D.$size()},h.$$arity=1);y.$attr_accessor("sync","tty");a.def(y,"$flush",L=function(){return p},L.$$arity=0);(function(D,Q){D=e(D,"Writable");[D].concat(Q);var ja,fa,na;a.def(D,"$<<",ja=function(b){this.$write(b);return this},ja.$$arity=1);a.def(D,"$print",fa=function(b){null==
E[","]&&(E[","]=p);var n=a.slice.call(arguments,0,arguments.length);for(var k=0,t=n.length;k<t;k++)n[k]=this.$String(n[k]);this.$write(n.join(E[","]));return p},fa.$$arity=-1);a.def(D,"$puts",na=function(b){null==E["/"]&&(E["/"]=p);var n=a.slice.call(arguments,0,arguments.length);for(var k=0,t=n.length;k<t;k++)n[k]=this.$String(n[k]).$chomp();this.$write(n.concat([p]).join(E["/"]));return p},na.$$arity=-1)})(m[0],m);return function(D,Q){D=e(D,"Readable");var ja=[D].concat(Q),fa,na,b,n;a.def(D,"$readbyte",
fa=function(){return this.$getbyte()},fa.$$arity=0);a.def(D,"$readchar",na=function(){return this.$getc()},na.$$arity=0);a.def(D,"$readline",b=function(){null==E["/"]&&(E["/"]=p);return this.$raise(x(ja,"NotImplementedError"))},b.$$arity=-1);a.def(D,"$readpartial",n=function(){return this.$raise(x(ja,"NotImplementedError"))},n.$$arity=-2)}(m[0],m)})(G[0],null,G);a.const_set(G[0],"STDERR",E.stderr=x(G,"IO").$new());a.const_set(G[0],"STDIN",E.stdin=x(G,"IO").$new());a.const_set(G[0],"STDOUT",E.stdout=
x(G,"IO").$new());var d=a.global.console;g=["object"===typeof process&&"object"===typeof process.stdout?function(y){process.stdout.write(y)}:function(y){d.log(y)}];B(x(G,"STDOUT"),"write_proc=",a.to_a(g));g[v(g.length,1)];g=["object"===typeof process&&"object"===typeof process.stderr?function(y){process.stderr.write(y)}:function(y){d.warn(y)}];B(x(G,"STDERR"),"write_proc=",a.to_a(g));g[v(g.length,1)];x(G,"STDOUT").$extend(r(x(G,"IO"),"Writable"));return x(G,"STDERR").$extend(r(x(G,"IO"),"Writable"))};
Opal.modules["opal/regexp_anchors"]=function(a){var v=[],G=a.nil,p=a.$$,r=a.module;a.add_stubs(["$==","$new"]);v=[r(v[0],"Opal")].concat(v);a.const_set(v[0],"REGEXP_START",p(v,"RUBY_ENGINE")["$=="]("opal")?"^":G);a.const_set(v[0],"REGEXP_END",p(v,"RUBY_ENGINE")["$=="]("opal")?"$":G);a.const_set(v[0],"FORBIDDEN_STARTING_IDENTIFIER_CHARS","\\u0001-\\u002F\\u003A-\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F");a.const_set(v[0],"FORBIDDEN_ENDING_IDENTIFIER_CHARS","\\u0001-\\u0020\\u0022-\\u002F\\u003A-\\u003E\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F");
a.const_set(v[0],"INLINE_IDENTIFIER_REGEXP",p(v,"Regexp").$new("[^"+p(v,"FORBIDDEN_STARTING_IDENTIFIER_CHARS")+"]*[^"+p(v,"FORBIDDEN_ENDING_IDENTIFIER_CHARS")+"]"));a.const_set(v[0],"FORBIDDEN_CONST_NAME_CHARS","\\u0001-\\u0020\\u0021-\\u002F\\u003B-\\u003F\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F");a.const_set(v[0],"CONST_NAME_REGEXP",p(v,"Regexp").$new(""+p(v,"REGEXP_START")+"(::)?[A-Z][^"+p(v,"FORBIDDEN_CONST_NAME_CHARS")+"]*"+p(v,"REGEXP_END")))};
Opal.modules["opal/mini"]=function(a){var v=a.top;a.add_stubs(["$require"]);v.$require("opal/base");v.$require("corelib/nil");v.$require("corelib/boolean");v.$require("corelib/string");v.$require("corelib/comparable");v.$require("corelib/enumerable");v.$require("corelib/enumerator");v.$require("corelib/array");v.$require("corelib/hash");v.$require("corelib/number");v.$require("corelib/range");v.$require("corelib/proc");v.$require("corelib/method");v.$require("corelib/regexp");v.$require("corelib/variables");
v.$require("corelib/io");return v.$require("opal/regexp_anchors")};
Opal.modules["corelib/kernel/format"]=function(a){var v=[],G=a.nil,p=a.$$,r=a.coerce_to,x=a.module,q=a.truthy,e=a.gvars;a.add_stubs("$== $length $respond_to? $[] $coerce_to? $nil? $to_a $raise $to_int $fetch $Integer $Float $to_ary $to_str $inspect $to_s".split(" "));return function(E,B){E=x(E,"Kernel");var g=[E].concat(B),d;a.def(E,"$format",d=function(y,c){function m(){da&32&&fa.$raise(p(g,"ArgumentError"),"flag after width");da&128&&fa.$raise(p(g,"ArgumentError"),"flag after precision")}function J(){da&
32&&fa.$raise(p(g,"ArgumentError"),"width given twice");da&128&&fa.$raise(p(g,"ArgumentError"),"width after precision")}function f(ka){ka>=n.length&&fa.$raise(p(g,"ArgumentError"),"too few arguments");return n[ka]}function h(){switch(H){case -1:fa.$raise(p(g,"ArgumentError"),"unnumbered("+F+") mixed with numbered");case -2:fa.$raise(p(g,"ArgumentError"),"unnumbered("+F+") mixed with named")}H=F++;return f(H-1)}function L(ka){0<H&&fa.$raise(p(g,"ArgumentError"),"numbered("+ka+") after unnumbered("+
H+")");-2===H&&fa.$raise(p(g,"ArgumentError"),"numbered("+ka+") after named");1>ka&&fa.$raise(p(g,"ArgumentError"),"invalid index - "+ka+"$");H=-1;return f(ka-1)}function D(){return void 0===Na?h():Na}function Q(ka){var Y;for(Y="";;k++){k===t&&fa.$raise(p(g,"ArgumentError"),"malformed format string - %*[0-9]");if(48>y.charCodeAt(k)||57<y.charCodeAt(k))return k--,Y=parseInt(Y,10)||0,2147483647<Y&&fa.$raise(p(g,"ArgumentError"),""+ka+" too big"),Y;Y+=y.charAt(k)}}function ja(ka){ka=Q(ka);"$"===y.charAt(k+
1)?(k++,ka=L(ka)):ka=h();return ka.$to_int()}var fa=this,na=G,b=G;null==e.DEBUG&&(e.DEBUG=G);var n=a.slice.call(arguments,1,arguments.length);q(q(na=n.$length()["$=="](1))?n["$[]"](0)["$respond_to?"]("to_ary"):na)&&(b=p(g,"Opal")["$coerce_to?"](n["$[]"](0),p(g,"Array"),"to_ary"),q(b["$nil?"]())||(n=b.$to_a()));na="";b=0;var k,t=y.length,z,F=1,H=0;for(k=y.indexOf("%");-1!==k;k=y.indexOf("%",k)){var K=void 0;var da=0;var va=z=-1;var Na=void 0;var wa=k;k++;switch(y.charAt(k)){case "%":b=k;case "":case "\n":case "\x00":k++;
continue}a:for(;k<t;k++)switch(y.charAt(k)){case " ":m();da|=16;continue a;case "#":m();da|=1;continue a;case "+":m();da|=4;continue a;case "-":m();da|=2;continue a;case "0":m();da|=8;continue a;case "1":case "2":case "3":case "4":case "5":case "6":case "7":case "8":case "9":var Aa=Q("width");if("$"===y.charAt(k+1)){if(k+2===t){K="%";k++;break a}void 0!==Na&&fa.$raise(p(g,"ArgumentError"),"value given twice - %"+Aa+"$");Na=L(Aa);k++}else J(),da|=32,z=Aa;continue a;case "<":case "{":var Ka="<"===y.charAt(k)?
">":"}";Aa="";for(k++;;k++){k===t&&fa.$raise(p(g,"ArgumentError"),"malformed name - unmatched parenthesis");if(y.charAt(k)===Ka)if(0<H&&fa.$raise(p(g,"ArgumentError"),"named "+Aa+" after unnumbered("+H+")"),-1===H&&fa.$raise(p(g,"ArgumentError"),"named "+Aa+" after numbered"),H=-2,void 0!==n[0]&&n[0].$$is_hash||fa.$raise(p(g,"ArgumentError"),"one hash required"),Na=n[0].$fetch(Aa),">"===Ka)continue a;else{K=Na.toString();-1!==va&&(K=K.slice(0,va));if(da&2)for(;K.length<z;)K+=" ";else for(;K.length<
z;)K=" "+K;break a}Aa+=y.charAt(k)}case "*":k++;J();da|=32;z=ja("width");0>z&&(da|=2,z=-z);continue a;case ".":da&128&&fa.$raise(p(g,"ArgumentError"),"precision given twice");da|=192;va=0;k++;if("*"===y.charAt(k)){k++;va=ja("precision");0>va&&(da&=-65);continue a}va=Q("precision");continue a;case "d":case "i":case "u":Aa=fa.$Integer(D());if(0<=Aa){for(K=Aa.toString();K.length<va;)K="0"+K;if(da&2){if(da&4||da&16)K=(da&4?"+":" ")+K;for(;K.length<z;)K+=" "}else if(da&8&&-1===va){for(;K.length<z-(da&
4||da&16?1:0);)K="0"+K;if(da&4||da&16)K=(da&4?"+":" ")+K}else{if(da&4||da&16)K=(da&4?"+":" ")+K;for(;K.length<z;)K=" "+K}}else{for(K=(-Aa).toString();K.length<va;)K="0"+K;if(da&2)for(K="-"+K;K.length<z;)K+=" ";else if(da&8&&-1===va){for(;K.length<z-1;)K="0"+K;K="-"+K}else for(K="-"+K;K.length<z;)K=" "+K}break a;case "b":case "B":case "o":case "x":case "X":switch(y.charAt(k)){case "b":case "B":var oa=2;var R="0b";var sa=/^1+/;var ba="1";break;case "o":oa=8;R="0";sa=/^3?7+/;ba="7";break;case "x":case "X":oa=
16,R="0x",sa=/^f+/,ba="f"}Aa=fa.$Integer(D());if(0<=Aa){for(K=Aa.toString(oa);K.length<va;)K="0"+K;if(da&2){if(da&4||da&16)K=(da&4?"+":" ")+K;for(da&1&&0!==Aa&&(K=R+K);K.length<z;)K+=" "}else if(da&8&&-1===va){for(;K.length<z-(da&4||da&16?1:0)-(da&1&&0!==Aa?R.length:0);)K="0"+K;da&1&&0!==Aa&&(K=R+K);if(da&4||da&16)K=(da&4?"+":" ")+K}else{da&1&&0!==Aa&&(K=R+K);if(da&4||da&16)K=(da&4?"+":" ")+K;for(;K.length<z;)K=" "+K}}else if(da&4||da&16){for(K=(-Aa).toString(oa);K.length<va;)K="0"+K;if(da&2)for(da&
1&&(K=R+K),K="-"+K;K.length<z;)K+=" ";else if(da&8&&-1===va){for(;K.length<z-1-(da&1?2:0);)K="0"+K;da&1&&(K=R+K);K="-"+K}else for(da&1&&(K=R+K),K="-"+K;K.length<z;)K=" "+K}else{for(K=(Aa>>>0).toString(oa).replace(sa,ba);K.length<va-2;)K=ba+K;if(da&2)for(K=".."+K,da&1&&(K=R+K);K.length<z;)K+=" ";else if(da&8&&-1===va){for(;K.length<z-2-(da&1?R.length:0);)K=ba+K;K=".."+K;da&1&&(K=R+K)}else for(K=".."+K,da&1&&(K=R+K);K.length<z;)K=" "+K}y.charAt(k)===y.charAt(k).toUpperCase()&&(K=K.toUpperCase());break a;
case "f":case "e":case "E":case "g":case "G":Aa=fa.$Float(D());if(0<=Aa||isNaN(Aa)){if(Infinity===Aa)K="Inf";else switch(y.charAt(k)){case "f":K=Aa.toFixed(-1===va?6:va);break;case "e":case "E":K=Aa.toExponential(-1===va?6:va);break;case "g":case "G":K=Aa.toExponential(),Ka=parseInt(K.split("e")[1],10),-4>Ka||Ka>=(-1===va?6:va)||(K=Aa.toPrecision(-1===va?da&1?6:void 0:va))}if(da&2){if(da&4||da&16)K=(da&4?"+":" ")+K;for(;K.length<z;)K+=" "}else if(da&8&&Infinity!==Aa&&!isNaN(Aa)){for(;K.length<z-(da&
4||da&16?1:0);)K="0"+K;if(da&4||da&16)K=(da&4?"+":" ")+K}else{if(da&4||da&16)K=(da&4?"+":" ")+K;for(;K.length<z;)K=" "+K}}else{if(-Infinity===Aa)K="Inf";else switch(y.charAt(k)){case "f":K=(-Aa).toFixed(-1===va?6:va);break;case "e":case "E":K=(-Aa).toExponential(-1===va?6:va);break;case "g":case "G":K=(-Aa).toExponential(),Ka=parseInt(K.split("e")[1],10),-4>Ka||Ka>=(-1===va?6:va)||(K=(-Aa).toPrecision(-1===va?da&1?6:void 0:va))}if(da&2)for(K="-"+K;K.length<z;)K+=" ";else if(da&8&&-Infinity!==Aa){for(;K.length<
z-1;)K="0"+K;K="-"+K}else for(K="-"+K;K.length<z;)K=" "+K}y.charAt(k)!==y.charAt(k).toUpperCase()||Infinity===Aa||-Infinity===Aa||isNaN(Aa)||(K=K.toUpperCase());K=K.replace(/([eE][-+]?)([0-9])$/,"$10$2");break a;case "a":case "A":fa.$raise(p(g,"NotImplementedError"),"`A` and `a` format field types are not implemented in Opal yet");case "c":Aa=D();Aa["$respond_to?"]("to_ary")&&(Aa=Aa.$to_ary()[0]);K=Aa["$respond_to?"]("to_str")?Aa.$to_str():String.fromCharCode(r(Aa,p(g,"Integer"),"to_int"));1!==K.length&&
fa.$raise(p(g,"ArgumentError"),"%c requires a character");if(da&2)for(;K.length<z;)K+=" ";else for(;K.length<z;)K=" "+K;break a;case "p":K=D().$inspect();-1!==va&&(K=K.slice(0,va));if(da&2)for(;K.length<z;)K+=" ";else for(;K.length<z;)K=" "+K;break a;case "s":K=D().$to_s();-1!==va&&(K=K.slice(0,va));if(da&2)for(;K.length<z;)K+=" ";else for(;K.length<z;)K=" "+K;break a;default:fa.$raise(p(g,"ArgumentError"),"malformed format string - %"+y.charAt(k))}void 0===K&&fa.$raise(p(g,"ArgumentError"),"malformed format string - %");
na+=y.slice(b,wa)+K;b=k+1}e.DEBUG&&0<=H&&F<n.length&&fa.$raise(p(g,"ArgumentError"),"too many arguments for format string");return na+y.slice(b)},d.$$arity=-2);a.alias(E,"sprintf","format")}(v[0],v)};
Opal.modules["corelib/string/encoding"]=function(a){function v(h,L){return"number"===typeof h&&"number"===typeof L?h+L:h["$+"](L)}var G,p,r,x,q,e=a.top,E=[],B=a.nil,g=a.$$$,d=a.$$,y=a.klass,c=a.hash2,m=a.truthy,J=a.send,f=B;a.add_stubs("$require $+ $[] $new $instance_eval $to_proc $each $const_set $sub $== $default_external $upcase $raise $attr_accessor $singleton_class $attr_reader $register $length $bytes $to_a $each_byte $dup $bytesize $enum_for $each_codepoint $coerce_to! $find $< $default_external= $-".split(" "));e.$require("corelib/string");
(function(h,$super,D){h=y(h,$super,"Encoding");var Q=[h].concat(D),ja,fa,na,b,n,k,t,z,F;h.$$prototype.ascii=h.$$prototype.dummy=h.$$prototype.name=B;a.defs(h,"$register",ja=function(H,K){var da=ja.$$p,va=da||B,Na,wa=B,Aa=B,Ka=B,oa=B,R=B,sa=B,ba=B,ka=B;da&&(ja.$$p=null);da&&(ja.$$p=null);null==K&&(K=c([],{}));wa=v([H],m(Aa=K["$[]"]("aliases"))?Aa:[]);Ka=m(oa=K["$[]"]("ascii"))?oa:!1;R=m(sa=K["$[]"]("dummy"))?sa:!1;ba=this.$new(H,wa,Ka,R);J(ba,"instance_eval",[],va.$to_proc());ka=a.encodings;return J(wa,
"each",[],(Na=function(Y){var S=null==Na.$$s?this:Na.$$s;null==Y&&(Y=B);S.$const_set(Y.$sub("-","_"),ba);return ka[Y]=ba},Na.$$s=this,Na.$$arity=1,Na))},ja.$$arity=-2);a.defs(h,"$find",fa=function(H){var K=B;if(H["$=="]("default_external"))return this.$default_external();var da=a.encodings;da=m(K=da[H])?K:da[H.$upcase()];m(da)||this.$raise(d(Q,"ArgumentError"),"unknown encoding name - "+H);return da},fa.$$arity=1);h.$singleton_class().$attr_accessor("default_external");h.$attr_reader("name","names");
a.def(h,"$initialize",na=function(H,K,da,va){this.name=H;this.names=K;this.ascii=da;return this.dummy=va},na.$$arity=4);a.def(h,"$ascii_compatible?",b=function(){return this.ascii},b.$$arity=0);a.def(h,"$dummy?",n=function(){return this.dummy},n.$$arity=0);a.def(h,"$to_s",k=function(){return this.name},k.$$arity=0);a.def(h,"$inspect",t=function(){return"#<Encoding:"+this.name+(m(this.dummy)?" (dummy)":B)+">"},t.$$arity=0);a.def(h,"$each_byte",z=function(H){a.slice.call(arguments,0,arguments.length);
return this.$raise(d(Q,"NotImplementedError"))},z.$$arity=-1);a.def(h,"$bytesize",F=function(H){a.slice.call(arguments,0,arguments.length);return this.$raise(d(Q,"NotImplementedError"))},F.$$arity=-1);(function(H,$super,da){[y(H,$super,"EncodingError")].concat(da);return B})(Q[0],d(Q,"StandardError"),Q);return function(H,$super,da){[y(H,$super,"CompatibilityError")].concat(da);return B}(Q[0],d(Q,"EncodingError"),Q)})(E[0],null,E);J(d(E,"Encoding"),"register",["UTF-8",c(["aliases","ascii"],{aliases:["CP65001"],
ascii:!0})],(G=function(){var h=null==G.$$s?this:G.$$s,L,D;a.def(h,"$each_byte",L=function(Q){var ja=L.$$p,fa=ja||B;ja&&(L.$$p=null);ja&&(L.$$p=null);ja=Infinity;for(var na,b=Q.length,n=null,k=0;k<b;++k){na=Q.charCodeAt(k);if(55295<na&&57344>na){if(!n){if(56319<na){-1<(ja-=3)&&(a.yield1(fa,239),a.yield1(fa,191),a.yield1(fa,189));continue}else if(k+1===b){-1<(ja-=3)&&(a.yield1(fa,239),a.yield1(fa,191),a.yield1(fa,189));continue}n=na;continue}if(56320>na){-1<(ja-=3)&&(a.yield1(fa,239),a.yield1(fa,191),
a.yield1(fa,189));n=na;continue}na=(n-55296<<10|na-56320)+65536}else n&&-1<(ja-=3)&&(a.yield1(fa,239),a.yield1(fa,191),a.yield1(fa,189));n=null;if(128>na){if(0>--ja)break;a.yield1(fa,na)}else if(2048>na){if(0>(ja-=2))break;a.yield1(fa,na>>6|192);a.yield1(fa,na&63|128)}else if(65536>na){if(0>(ja-=3))break;a.yield1(fa,na>>12|224);a.yield1(fa,na>>6&63|128);a.yield1(fa,na&63|128)}else if(1114112>na){if(0>(ja-=4))break;a.yield1(fa,na>>18|240);a.yield1(fa,na>>12&63|128);a.yield1(fa,na>>6&63|128);a.yield1(fa,
na&63|128)}}},L.$$arity=1);return(a.def(h,"$bytesize",D=function(Q){return Q.$bytes().$length()},D.$$arity=1),B)&&"bytesize"},G.$$s=e,G.$$arity=0,G));J(d(E,"Encoding"),"register",["UTF-16LE"],(p=function(){var h=null==p.$$s?this:p.$$s,L,D;a.def(h,"$each_byte",L=function(Q){var ja=L.$$p,fa=ja||B;ja&&(L.$$p=null);ja&&(L.$$p=null);ja=0;for(var na=Q.length;ja<na;ja++){var b=Q.charCodeAt(ja);a.yield1(fa,b&255);a.yield1(fa,b>>8)}},L.$$arity=1);return(a.def(h,"$bytesize",D=function(Q){return Q.$bytes().$length()},
D.$$arity=1),B)&&"bytesize"},p.$$s=e,p.$$arity=0,p));J(d(E,"Encoding"),"register",["UTF-16BE"],(r=function(){var h=null==r.$$s?this:r.$$s,L,D;a.def(h,"$each_byte",L=function(Q){var ja=L.$$p,fa=ja||B;ja&&(L.$$p=null);ja&&(L.$$p=null);ja=0;for(var na=Q.length;ja<na;ja++){var b=Q.charCodeAt(ja);a.yield1(fa,b>>8);a.yield1(fa,b&255)}},L.$$arity=1);return(a.def(h,"$bytesize",D=function(Q){return Q.$bytes().$length()},D.$$arity=1),B)&&"bytesize"},r.$$s=e,r.$$arity=0,r));J(d(E,"Encoding"),"register",["UTF-32LE"],
(x=function(){var h=null==x.$$s?this:x.$$s,L,D;a.def(h,"$each_byte",L=function(Q){var ja=L.$$p,fa=ja||B;ja&&(L.$$p=null);ja&&(L.$$p=null);ja=0;for(var na=Q.length;ja<na;ja++){var b=Q.charCodeAt(ja);a.yield1(fa,b&255);a.yield1(fa,b>>8)}},L.$$arity=1);return(a.def(h,"$bytesize",D=function(Q){return Q.$bytes().$length()},D.$$arity=1),B)&&"bytesize"},x.$$s=e,x.$$arity=0,x));J(d(E,"Encoding"),"register",["ASCII-8BIT",c(["aliases","ascii","dummy"],{aliases:["BINARY","US-ASCII","ASCII"],ascii:!0,dummy:!0})],
(q=function(){var h=null==q.$$s?this:q.$$s,L,D;a.def(h,"$each_byte",L=function(Q){var ja=L.$$p,fa=ja||B;ja&&(L.$$p=null);ja&&(L.$$p=null);ja=0;for(var na=Q.length;ja<na;ja++){var b=Q.charCodeAt(ja);a.yield1(fa,b&255);a.yield1(fa,b>>8)}},L.$$arity=1);return(a.def(h,"$bytesize",D=function(Q){return Q.$bytes().$length()},D.$$arity=1),B)&&"bytesize"},q.$$s=e,q.$$arity=0,q));(function(h,$super,D){h=y(h,$super,"String");var Q=[h].concat(D),ja,fa,na,b,n,k,t,z,F;h.$$prototype.bytes=h.$$prototype.internal_encoding=
B;h.$attr_reader("encoding");h.$attr_reader("internal_encoding");a.defineProperty(String.prototype,"bytes",B);a.defineProperty(String.prototype,"encoding",g(d(Q,"Encoding"),"UTF_8"));a.defineProperty(String.prototype,"internal_encoding",g(d(Q,"Encoding"),"UTF_8"));a.def(h,"$bytes",ja=function(){var H=B;this.bytes=m(H=this.bytes)?H:this.$each_byte().$to_a();return this.bytes.$dup()},ja.$$arity=0);a.def(h,"$bytesize",fa=function(){return this.internal_encoding.$bytesize(this)},fa.$$arity=0);a.def(h,
"$each_byte",na=function(){var H=na.$$p,K=H||B;H&&(na.$$p=null);H&&(na.$$p=null);if(K===B)return this.$enum_for("each_byte");J(this.internal_encoding,"each_byte",[this],K.$to_proc());return this},na.$$arity=0);a.def(h,"$each_codepoint",b=function(){var H=b.$$p,K=H||B;H&&(b.$$p=null);H&&(b.$$p=null);if(K===B)return this.$enum_for("each_codepoint");H=0;for(var da=this.length;H<da;H++)a.yield1(K,this.codePointAt(H));return this},b.$$arity=0);a.def(h,"$codepoints",n=function(){var H=n.$$p,K=H||B;H&&(n.$$p=
null);H&&(n.$$p=null);return K!==B?J(this,"each_codepoint",[],K.$to_proc()):this.$each_codepoint().$to_a()},n.$$arity=0);a.def(h,"$encode",k=function(H){return a.enc(this,H)},k.$$arity=1);a.def(h,"$force_encoding",t=function(H){if(H===this.encoding)return this;H=d(Q,"Opal")["$coerce_to!"](H,d(Q,"String"),"to_s");H=d(Q,"Encoding").$find(H);if(H===this.encoding)return this;a.set_encoding(this,H);return this},t.$$arity=1);a.def(h,"$getbyte",z=function(H){var K=this.$bytes();H=d(Q,"Opal")["$coerce_to!"](H,
d(Q,"Integer"),"to_int");var da=K.$length();da="number"===typeof da&&"number"===typeof H?da<H:da["$<"](H);return m(da)?B:K["$[]"](H)},z.$$arity=1);return(a.def(h,"$valid_encoding?",F=function(){return!0},F.$$arity=0),B)&&"valid_encoding?"})(E[0],null,E);f=[g(d(E,"Encoding"),"UTF_8")];J(d(E,"Encoding"),"default_external=",a.to_a(f));return f[function(h,L){return"number"===typeof h&&"number"===typeof L?h-L:h["$-"](L)}(f.length,1)]};
Opal.modules["corelib/math"]=function(a){var v=[],G=a.$$$,p=a.$$,r=a.type_error,x=a.module,q=a.truthy;a.add_stubs("$new $raise $Float $Integer $module_function $checked $float! $=== $gamma $- $integer! $/ $infinite?".split(" "));return function(e,E){e=x(e,"Math");var B=[e].concat(E),g,d,y,c,m,J,f,h,L,D,Q,ja,fa,na,b,n,k,t,z,F,H,K,da,va,Na,wa,Aa,Ka,oa;a.const_set(B[0],"E",Math.E);a.const_set(B[0],"PI",Math.PI);a.const_set(B[0],"DomainError",p(B,"Class").$new(p(B,"StandardError")));a.defs(e,"$checked",
g=function(R,sa){var ba=a.slice.call(arguments,1,arguments.length);if(isNaN(ba[0])||2==ba.length&&isNaN(ba[1]))return NaN;ba=Math[R].apply(null,ba);isNaN(ba)&&this.$raise(p(B,"DomainError"),'Numerical argument is out of domain - "'+R+'"');return ba},g.$$arity=-2);a.defs(e,"$float!",d=function(R){try{return this.$Float(R)}catch(sa){if(a.rescue(sa,[p(B,"ArgumentError")]))try{return this.$raise(r(R,p(B,"Float")))}finally{a.pop_exception()}else throw sa;}},d.$$arity=1);a.defs(e,"$integer!",y=function(R){try{return this.$Integer(R)}catch(sa){if(a.rescue(sa,
[p(B,"ArgumentError")]))try{return this.$raise(r(R,p(B,"Integer")))}finally{a.pop_exception()}else throw sa;}},y.$$arity=1);e.$module_function();a.def(e,"$acos",c=function(R){return p(B,"Math").$checked("acos",p(B,"Math")["$float!"](R))},c.$$arity=1);q("undefined"!==typeof Math.acosh)||(Math.acosh=function(R){return Math.log(R+Math.sqrt(R*R-1))});a.def(e,"$acosh",m=function(R){return p(B,"Math").$checked("acosh",p(B,"Math")["$float!"](R))},m.$$arity=1);a.def(e,"$asin",J=function(R){return p(B,"Math").$checked("asin",
p(B,"Math")["$float!"](R))},J.$$arity=1);q("undefined"!==typeof Math.asinh)||(Math.asinh=function(R){return Math.log(R+Math.sqrt(R*R+1))});a.def(e,"$asinh",f=function(R){return p(B,"Math").$checked("asinh",p(B,"Math")["$float!"](R))},f.$$arity=1);a.def(e,"$atan",h=function(R){return p(B,"Math").$checked("atan",p(B,"Math")["$float!"](R))},h.$$arity=1);a.def(e,"$atan2",L=function(R,sa){return p(B,"Math").$checked("atan2",p(B,"Math")["$float!"](R),p(B,"Math")["$float!"](sa))},L.$$arity=2);q("undefined"!==
typeof Math.atanh)||(Math.atanh=function(R){return.5*Math.log((1+R)/(1-R))});a.def(e,"$atanh",D=function(R){return p(B,"Math").$checked("atanh",p(B,"Math")["$float!"](R))},D.$$arity=1);q("undefined"!==typeof Math.cbrt)||(Math.cbrt=function(R){if(0==R)return 0;if(0>R)return-Math.cbrt(-R);for(var sa=R,ba=0;.125>sa;)sa*=8,ba--;for(;1<sa;)sa*=.125,ba++;for(sa=(-.46946116*sa+1.072302)*sa+.3812513;0>ba;)sa*=.5,ba++;for(;0<ba;)sa*=2,ba--;sa=2/3*sa+1/3*R/(sa*sa);sa=2/3*sa+1/3*R/(sa*sa);sa=2/3*sa+1/3*R/(sa*
sa);return 2/3*sa+1/3*R/(sa*sa)});a.def(e,"$cbrt",Q=function(R){return p(B,"Math").$checked("cbrt",p(B,"Math")["$float!"](R))},Q.$$arity=1);a.def(e,"$cos",ja=function(R){return p(B,"Math").$checked("cos",p(B,"Math")["$float!"](R))},ja.$$arity=1);q("undefined"!==typeof Math.cosh)||(Math.cosh=function(R){return(Math.exp(R)+Math.exp(-R))/2});a.def(e,"$cosh",fa=function(R){return p(B,"Math").$checked("cosh",p(B,"Math")["$float!"](R))},fa.$$arity=1);q("undefined"!==typeof Math.erf)||a.defineProperty(Math,
"erf",function(R){var sa=1;0>R&&(sa=-1);R=Math.abs(R);var ba=1/(1+.3275911*R);return sa*(1-((((1.061405429*ba+-1.453152027)*ba+1.421413741)*ba+-.284496736)*ba+.254829592)*ba*Math.exp(-R*R))});a.def(e,"$erf",na=function(R){return p(B,"Math").$checked("erf",p(B,"Math")["$float!"](R))},na.$$arity=1);q("undefined"!==typeof Math.erfc)||a.defineProperty(Math,"erfc",function(R){var sa=Math.abs(R),ba=1/(.5*sa+1);sa=ba*Math.exp(-sa*sa-1.26551223+ba*(ba*(ba*(ba*(ba*(ba*(ba*(ba*(.17087277*ba+-.82215223)+1.48851587)+
-1.13520398)+.27886807)+-.18628806)+.09678418)+.37409196)+1.00002368));return 0>R?2-sa:sa});a.def(e,"$erfc",b=function(R){return p(B,"Math").$checked("erfc",p(B,"Math")["$float!"](R))},b.$$arity=1);a.def(e,"$exp",n=function(R){return p(B,"Math").$checked("exp",p(B,"Math")["$float!"](R))},n.$$arity=1);a.def(e,"$frexp",k=function(R){R=p(B,"Math")["$float!"](R);if(isNaN(R))return[NaN,0];var sa=Math.floor(Math.log(Math.abs(R))/Math.log(2))+1;return[R/Math.pow(2,sa),sa]},k.$$arity=1);a.def(e,"$gamma",
t=function(R){R=p(B,"Math")["$float!"](R);var sa=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3.399464998481189E-5,4.652362892704858E-5,-9.837447530487956E-5,1.580887032249125E-4,-2.1026444172410488E-4,2.1743961811521265E-4,-1.643181065367639E-4,8.441822398385275E-5,-2.6190838401581408E-5,3.6899182659531625E-6];if(isNaN(R))return NaN;if(0===R&&0>1/R)return-Infinity;-1!==R&&-Infinity!==R||this.$raise(p(B,"DomainError"),'Numerical argument is out of domain - "gamma"');
if(p(B,"Integer")["$==="](R)){if(0>=R)return isFinite(R)?Infinity:NaN;if(171<R)return Infinity;var ba=R-2;for(--R;1<ba;)R*=ba,ba--;0==R&&(R=1);return R}if(.5>R)return Math.PI/(Math.sin(Math.PI*R)*p(B,"Math").$gamma("number"===typeof R?1-R:1["$-"](R)));if(171.35<=R)return Infinity;if(85<R){ba=R*R;var ka=ba*R;sa=ka*R;var Y=sa*R;return Math.sqrt(2*Math.PI/R)*Math.pow(R/Math.E,R)*(1+1/(12*R)+1/(288*ba)-139/(51840*ka)-571/(2488320*sa)+163879/(209018880*Y)+5246819/(75246796800*Y*R))}--R;ba=sa[0];for(ka=
1;ka<sa.length;++ka)ba+=sa[ka]/(R+ka);ka=R+4.7421875+.5;return Math.sqrt(2*Math.PI)*Math.pow(ka,R+.5)*Math.exp(-ka)*ba},t.$$arity=1);q("undefined"!==typeof Math.hypot)||(Math.hypot=function(R,sa){return Math.sqrt(R*R+sa*sa)});a.def(e,"$hypot",z=function(R,sa){return p(B,"Math").$checked("hypot",p(B,"Math")["$float!"](R),p(B,"Math")["$float!"](sa))},z.$$arity=2);a.def(e,"$ldexp",F=function(R,sa){R=p(B,"Math")["$float!"](R);sa=p(B,"Math")["$integer!"](sa);isNaN(sa)&&this.$raise(p(B,"RangeError"),"float NaN out of range of integer");
return R*Math.pow(2,sa)},F.$$arity=2);a.def(e,"$lgamma",H=function(R){return-1==R?[Infinity,1]:[Math.log(Math.abs(p(B,"Math").$gamma(R))),0>p(B,"Math").$gamma(R)?-1:1]},H.$$arity=1);a.def(e,"$log",K=function(R,sa){q(p(B,"String")["$==="](R))&&this.$raise(r(R,p(B,"Float")));if(q(null==sa))return p(B,"Math").$checked("log",p(B,"Math")["$float!"](R));q(p(B,"String")["$==="](sa))&&this.$raise(r(sa,p(B,"Float")));R=p(B,"Math").$checked("log",p(B,"Math")["$float!"](R));sa=p(B,"Math").$checked("log",p(B,
"Math")["$float!"](sa));return"number"===typeof R&&"number"===typeof sa?R/sa:R["$/"](sa)},K.$$arity=-2);q("undefined"!==typeof Math.log10)||(Math.log10=function(R){return Math.log(R)/Math.LN10});a.def(e,"$log10",da=function(R){q(p(B,"String")["$==="](R))&&this.$raise(r(R,p(B,"Float")));return p(B,"Math").$checked("log10",p(B,"Math")["$float!"](R))},da.$$arity=1);q("undefined"!==typeof Math.log2)||(Math.log2=function(R){return Math.log(R)/Math.LN2});a.def(e,"$log2",va=function(R){q(p(B,"String")["$==="](R))&&
this.$raise(r(R,p(B,"Float")));return p(B,"Math").$checked("log2",p(B,"Math")["$float!"](R))},va.$$arity=1);a.def(e,"$sin",Na=function(R){return p(B,"Math").$checked("sin",p(B,"Math")["$float!"](R))},Na.$$arity=1);q("undefined"!==typeof Math.sinh)||(Math.sinh=function(R){return(Math.exp(R)-Math.exp(-R))/2});a.def(e,"$sinh",wa=function(R){return p(B,"Math").$checked("sinh",p(B,"Math")["$float!"](R))},wa.$$arity=1);a.def(e,"$sqrt",Aa=function(R){return p(B,"Math").$checked("sqrt",p(B,"Math")["$float!"](R))},
Aa.$$arity=1);a.def(e,"$tan",Ka=function(R){R=p(B,"Math")["$float!"](R);return q(R["$infinite?"]())?G(p(B,"Float"),"NAN"):p(B,"Math").$checked("tan",p(B,"Math")["$float!"](R))},Ka.$$arity=1);q("undefined"!==typeof Math.tanh)||(Math.tanh=function(R){return Infinity==R?1:-Infinity==R?-1:(Math.exp(R)-Math.exp(-R))/(Math.exp(R)+Math.exp(-R))});a.def(e,"$tanh",oa=function(R){return p(B,"Math").$checked("tanh",p(B,"Math")["$float!"](R))},oa.$$arity=1)}(v[0],v)};
Opal.modules["corelib/complex"]=function(a){function v(c,m){return"number"===typeof c&&"number"===typeof m?c*m:c["$*"](m)}function G(c,m){return"number"===typeof c&&"number"===typeof m?c+m:c["$+"](m)}function p(c,m){return"number"===typeof c&&"number"===typeof m?c-m:c["$-"](m)}function r(c,m){return"number"===typeof c&&"number"===typeof m?c/m:c["$/"](m)}var x=a.top,q=[],e=a.nil,E=a.$$$,B=a.$$,g=a.klass,d=a.truthy,y=a.module;a.add_stubs("$require $=== $real? $raise $new $* $cos $sin $attr_reader $class $== $real $imag $Complex $-@ $+ $__coerced__ $- $nan? $/ $conj $abs2 $quo $polar $exp $log $> $!= $divmod $** $hypot $atan2 $lcm $denominator $finite? $infinite? $numerator $abs $arg $rationalize $to_f $to_i $to_r $inspect $positive? $zero? $Rational".split(" "));
x.$require("corelib/numeric");(function(c,$super,J){c=g(c,$super,"Complex");var f=[c].concat(J),h,L,D,Q,ja,fa,na,b,n,k,t,z,F,H,K,da,va,Na,wa,Aa,Ka,oa,R,sa,ba,ka,Y,S,V,ta,Da;c.$$prototype.real=c.$$prototype.imag=e;a.defs(c,"$rect",h=function(ma,xa){var Ha=e,Ea=e,Sa=e;null==xa&&(xa=0);d(d(Ha=d(Ea=d(Sa=B(f,"Numeric")["$==="](ma))?ma["$real?"]():Sa)?B(f,"Numeric")["$==="](xa):Ea)?xa["$real?"]():Ha)||this.$raise(B(f,"TypeError"),"not a real");return this.$new(ma,xa)},h.$$arity=-2);(function(ma,xa){[ma].concat(xa);
return a.alias(ma,"rectangular","rect")})(a.get_singleton_class(c),f);a.defs(c,"$polar",L=function(ma,xa){var Ha=e,Ea=e,Sa=e;null==xa&&(xa=0);d(d(Ha=d(Ea=d(Sa=B(f,"Numeric")["$==="](ma))?ma["$real?"]():Sa)?B(f,"Numeric")["$==="](xa):Ea)?xa["$real?"]():Ha)||this.$raise(B(f,"TypeError"),"not a real");return this.$new(v(ma,B(f,"Math").$cos(xa)),v(ma,B(f,"Math").$sin(xa)))},L.$$arity=-2);c.$attr_reader("real","imag");a.def(c,"$initialize",D=function(ma,xa){null==xa&&(xa=0);this.real=ma;return this.imag=
xa},D.$$arity=-2);a.def(c,"$coerce",Q=function(ma){var xa=e;return d(B(f,"Complex")["$==="](ma))?[ma,this]:d(d(xa=B(f,"Numeric")["$==="](ma))?ma["$real?"]():xa)?[B(f,"Complex").$new(ma,0),this]:this.$raise(B(f,"TypeError"),""+ma.$class()+" can't be coerced into Complex")},Q.$$arity=1);a.def(c,"$==",ja=function(ma){var xa=e,Ha=e,Ea=e;return d(B(f,"Complex")["$==="](ma))?d(xa=this.real["$=="](ma.$real()))?this.imag["$=="](ma.$imag()):xa:d(d(Ha=B(f,"Numeric")["$==="](ma))?ma["$real?"]():Ha)?d(Ea=this.real["$=="](ma))?
this.imag["$=="](0):Ea:ma["$=="](this)},ja.$$arity=1);a.def(c,"$-@",fa=function(){return this.$Complex(this.real["$-@"](),this.imag["$-@"]())},fa.$$arity=0);a.def(c,"$+",na=function(ma){var xa=e;return d(B(f,"Complex")["$==="](ma))?this.$Complex(G(this.real,ma.$real()),G(this.imag,ma.$imag())):d(d(xa=B(f,"Numeric")["$==="](ma))?ma["$real?"]():xa)?this.$Complex(G(this.real,ma),this.imag):this.$__coerced__("+",ma)},na.$$arity=1);a.def(c,"$-",b=function(ma){var xa=e;return d(B(f,"Complex")["$==="](ma))?
this.$Complex(p(this.real,ma.$real()),p(this.imag,ma.$imag())):d(d(xa=B(f,"Numeric")["$==="](ma))?ma["$real?"]():xa)?this.$Complex(p(this.real,ma),this.imag):this.$__coerced__("-",ma)},b.$$arity=1);a.def(c,"$*",n=function(ma){var xa=e;return d(B(f,"Complex")["$==="](ma))?this.$Complex(p(v(this.real,ma.$real()),v(this.imag,ma.$imag())),G(v(this.real,ma.$imag()),v(this.imag,ma.$real()))):d(d(xa=B(f,"Numeric")["$==="](ma))?ma["$real?"]():xa)?this.$Complex(v(this.real,ma),v(this.imag,ma)):this.$__coerced__("*",
ma)},n.$$arity=1);a.def(c,"$/",k=function(ma){var xa=e,Ha=e,Ea=e,Sa=e,Qa=e,Oa=e,kb=e,lb=e;return d(B(f,"Complex")["$==="](ma))?d(d(xa=d(Ha=d(Ea=d(Sa=B(f,"Number")["$==="](this.real))?this.real["$nan?"]():Sa)?Ea:d(Qa=B(f,"Number")["$==="](this.imag))?this.imag["$nan?"]():Qa)?Ha:d(Oa=B(f,"Number")["$==="](ma.$real()))?ma.$real()["$nan?"]():Oa)?xa:d(kb=B(f,"Number")["$==="](ma.$imag()))?ma.$imag()["$nan?"]():kb)?B(f,"Complex").$new(E(B(f,"Float"),"NAN"),E(B(f,"Float"),"NAN")):r(v(this,ma.$conj()),ma.$abs2()):
d(d(lb=B(f,"Numeric")["$==="](ma))?ma["$real?"]():lb)?this.$Complex(this.real.$quo(ma),this.imag.$quo(ma)):this.$__coerced__("/",ma)},k.$$arity=1);a.def(c,"$**",t=function(ma){var xa=e;if(ma["$=="](0))return B(f,"Complex").$new(1,0);if(d(B(f,"Complex")["$==="](ma))){xa=this.$polar();var Ha=a.to_ary(xa);var Ea=null==Ha[0]?e:Ha[0];Ha=null==Ha[1]?e:Ha[1];xa;xa=ma.$real();var Sa=ma.$imag();ma=B(f,"Math").$exp(p(v(xa,B(f,"Math").$log(Ea)),v(Sa,Ha)));xa=G(v(Ha,xa),v(Sa,B(f,"Math").$log(Ea)));return B(f,
"Complex").$polar(ma,xa)}if(d(B(f,"Integer")["$==="](ma))){if(d("number"===typeof ma?0<ma:ma["$>"](0))){Ha=Ea=this;for(Sa=p(ma,1);d(Sa["$!="](0));){ma=Sa.$divmod(2);xa=a.to_ary(ma);var Qa=null==xa[0]?e:xa[0];var Oa=null==xa[1]?e:xa[1];for(ma;Oa["$=="](0);)Ea=this.$Complex(p(v(Ea.$real(),Ea.$real()),v(Ea.$imag(),Ea.$imag())),v(v(2,Ea.$real()),Ea.$imag())),Sa=Qa,xa=Sa.$divmod(2),ma=a.to_ary(xa),Qa=null==ma[0]?e:ma[0],Oa=null==ma[1]?e:ma[1],xa;Ha=v(Ha,Ea);Sa=p(Sa,1)}return Ha}return r(B(f,"Rational").$new(1,
1),this)["$**"](ma["$-@"]())}return d(d(xa=B(f,"Float")["$==="](ma))?xa:B(f,"Rational")["$==="](ma))?(xa=this.$polar(),Ha=a.to_ary(xa),Ea=null==Ha[0]?e:Ha[0],Ha=null==Ha[1]?e:Ha[1],xa,B(f,"Complex").$polar(Ea["$**"](ma),v(Ha,ma))):this.$__coerced__("**",ma)},t.$$arity=1);a.def(c,"$abs",z=function(){return B(f,"Math").$hypot(this.real,this.imag)},z.$$arity=0);a.def(c,"$abs2",F=function(){return G(v(this.real,this.real),v(this.imag,this.imag))},F.$$arity=0);a.def(c,"$angle",H=function(){return B(f,
"Math").$atan2(this.imag,this.real)},H.$$arity=0);a.alias(c,"arg","angle");a.def(c,"$conj",K=function(){return this.$Complex(this.real,this.imag["$-@"]())},K.$$arity=0);a.alias(c,"conjugate","conj");a.def(c,"$denominator",da=function(){return this.real.$denominator().$lcm(this.imag.$denominator())},da.$$arity=0);a.alias(c,"divide","/");a.def(c,"$eql?",va=function(ma){var xa=e,Ha=e;return d(xa=d(Ha=B(f,"Complex")["$==="](ma))?this.real.$class()["$=="](this.imag.$class()):Ha)?this["$=="](ma):xa},va.$$arity=
1);a.def(c,"$fdiv",Na=function(ma){d(B(f,"Numeric")["$==="](ma))||this.$raise(B(f,"TypeError"),""+ma.$class()+" can't be coerced into Complex");return r(this,ma)},Na.$$arity=1);a.def(c,"$finite?",wa=function(){var ma;return d(ma=this.real["$finite?"]())?this.imag["$finite?"]():ma},wa.$$arity=0);a.def(c,"$hash",Aa=function(){return"Complex:"+this.real+":"+this.imag},Aa.$$arity=0);a.alias(c,"imaginary","imag");a.def(c,"$infinite?",Ka=function(){var ma;return d(ma=this.real["$infinite?"]())?ma:this.imag["$infinite?"]()},
Ka.$$arity=0);a.def(c,"$inspect",oa=function(){return"("+this+")"},oa.$$arity=0);a.alias(c,"magnitude","abs");a.udef(c,"$negative?");a.def(c,"$numerator",R=function(){var ma=this.$denominator();return this.$Complex(v(this.real.$numerator(),r(ma,this.real.$denominator())),v(this.imag.$numerator(),r(ma,this.imag.$denominator())))},R.$$arity=0);a.alias(c,"phase","arg");a.def(c,"$polar",sa=function(){return[this.$abs(),this.$arg()]},sa.$$arity=0);a.udef(c,"$positive?");a.alias(c,"quo","/");a.def(c,"$rationalize",
ba=function(ma){1<arguments.length&&this.$raise(B(f,"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)");d(this.imag["$!="](0))&&this.$raise(B(f,"RangeError"),"can't' convert "+this+" into Rational");return this.$real().$rationalize(ma)},ba.$$arity=-1);a.def(c,"$real?",ka=function(){return!1},ka.$$arity=0);a.def(c,"$rect",Y=function(){return[this.real,this.imag]},Y.$$arity=0);a.alias(c,"rectangular","rect");a.def(c,"$to_f",S=function(){this.imag["$=="](0)||this.$raise(B(f,
"RangeError"),"can't convert "+this+" into Float");return this.real.$to_f()},S.$$arity=0);a.def(c,"$to_i",V=function(){this.imag["$=="](0)||this.$raise(B(f,"RangeError"),"can't convert "+this+" into Integer");return this.real.$to_i()},V.$$arity=0);a.def(c,"$to_r",ta=function(){this.imag["$=="](0)||this.$raise(B(f,"RangeError"),"can't convert "+this+" into Rational");return this.real.$to_r()},ta.$$arity=0);a.def(c,"$to_s",Da=function(){var ma=e,xa=e,Ha=e,Ea=e,Sa=e;var Qa=this.real.$inspect();Qa=G(Qa,
d(d(ma=d(xa=d(Ha=B(f,"Number")["$==="](this.imag))?this.imag["$nan?"]():Ha)?xa:this.imag["$positive?"]())?ma:this.imag["$zero?"]())?"+":"-");Qa=G(Qa,this.imag.$abs().$inspect());d(d(Ea=B(f,"Number")["$==="](this.imag))?d(Sa=this.imag["$nan?"]())?Sa:this.imag["$infinite?"]():Ea)&&(Qa=G(Qa,"*"));return G(Qa,"i")},Da.$$arity=0);return a.const_set(f[0],"I",c.$new(0,1))})(q[0],B(q,"Numeric"),q);(function(c,m){c=y(c,"Kernel");var J=[c].concat(m),f;a.def(c,"$Complex",f=function(h,L){null==L&&(L=e);return d(L)?
B(J,"Complex").$new(h,L):B(J,"Complex").$new(h,0)},f.$$arity=-2)})(q[0],q);return function(c,$super,J){c=g(c,$super,"String");[c].concat(J);var f;return(a.def(c,"$to_c",f=function(){function h(){var b=Q.match(ja)[0];Q=Q.slice(b.length);return b.replace(/_/g,"")}function L(){if(ja.test(Q)){var b=parseFloat(h());if("/"===Q[0]){Q=Q.slice(1);if(ja.test(Q)){var n=parseFloat(h());return D.$Rational(b,n)}Q="/"+Q}return b}return null}var D=this,Q=D,ja=/[+-]?[\d_]+(\.[\d_]+)?(e\d+)?/;Q.match(ja);var fa;var na=
L();return na?(fa=L())?D.$Complex(na,fa):"i"===Q[0]?D.$Complex(0,na):D.$Complex(na,0):"i"===Q[0]?D.$Complex(0,1):"-"===Q[0]&&"i"===Q[1]?D.$Complex(0,-1):"+"===Q[0]&&"i"===Q[1]?D.$Complex(0,1):D.$Complex(0,0)},f.$$arity=0),e)&&"to_c"}(q[0],null,q)};
Opal.modules["corelib/rational"]=function(a){function v(m,J){return"number"===typeof m&&"number"===typeof J?m<J:m["$<"](J)}function G(m,J){return"number"===typeof m&&"number"===typeof J?m/J:m["$/"](J)}function p(m,J){return"number"===typeof m&&"number"===typeof J?m-J:m["$-"](J)}function r(m,J){return"number"===typeof m&&"number"===typeof J?m*J:m["$*"](J)}function x(m,J){return"number"===typeof m&&"number"===typeof J?m+J:m["$+"](J)}var q=a.top,e=[],E=a.nil,B=a.$$$,g=a.$$,d=a.klass,y=a.truthy,c=a.module;
a.add_stubs("$require $to_i $== $raise $< $-@ $new $gcd $/ $nil? $=== $reduce $to_r $equal? $! $coerce_to! $to_f $numerator $denominator $<=> $- $* $__coerced__ $+ $Rational $> $** $abs $ceil $with_precision $floor $<= $truncate $send $convert".split(" "));q.$require("corelib/numeric");(function(m,$super,f){m=d(m,$super,"Rational");var h=[m].concat(f),L,D,Q,ja,fa,na,b,n,k,t,z,F,H,K,da,va,Na,wa,Aa,Ka,oa,R,sa,ba,ka,Y;m.$$prototype.num=m.$$prototype.den=E;a.defs(m,"$reduce",L=function(S,V){S=S.$to_i();
V=V.$to_i();if(V["$=="](0))this.$raise(g(h,"ZeroDivisionError"),"divided by 0");else if(y(v(V,0)))S=S["$-@"](),V=V["$-@"]();else if(V["$=="](1))return this.$new(S,V);var ta=S.$gcd(V);return this.$new(G(S,ta),G(V,ta))},L.$$arity=2);a.defs(m,"$convert",D=function(S,V){var ta=E,Da=E,ma=E,xa=E,Ha=E,Ea=E,Sa=E,Qa=E;y(y(ta=S["$nil?"]())?ta:V["$nil?"]())&&this.$raise(g(h,"TypeError"),"cannot convert nil into Rational");if(y(y(Da=g(h,"Integer")["$==="](S))?g(h,"Integer")["$==="](V):Da))return this.$reduce(S,
V);y(y(ma=y(xa=g(h,"Float")["$==="](S))?xa:g(h,"String")["$==="](S))?ma:g(h,"Complex")["$==="](S))&&(S=S.$to_r());y(y(Ha=y(Ea=g(h,"Float")["$==="](V))?Ea:g(h,"String")["$==="](V))?Ha:g(h,"Complex")["$==="](V))&&(V=V.$to_r());return y(y(Sa=V["$equal?"](1))?g(h,"Integer")["$==="](S)["$!"]():Sa)?g(h,"Opal")["$coerce_to!"](S,g(h,"Rational"),"to_r"):y(y(Qa=g(h,"Numeric")["$==="](S))?g(h,"Numeric")["$==="](V):Qa)?G(S,V):this.$reduce(S,V)},D.$$arity=2);a.def(m,"$initialize",Q=function(S,V){this.num=S;return this.den=
V},Q.$$arity=2);a.def(m,"$numerator",ja=function(){return this.num},ja.$$arity=0);a.def(m,"$denominator",fa=function(){return this.den},fa.$$arity=0);a.def(m,"$coerce",na=function(S){return g(h,"Rational")["$==="](S)?[S,this]:g(h,"Integer")["$==="](S)?[S.$to_r(),this]:g(h,"Float")["$==="](S)?[S,this.$to_f()]:E},na.$$arity=1);a.def(m,"$==",b=function(S){var V=E,ta=E;return g(h,"Rational")["$==="](S)?y(V=this.num["$=="](S.$numerator()))?this.den["$=="](S.$denominator()):V:g(h,"Integer")["$==="](S)?
y(ta=this.num["$=="](S))?this.den["$=="](1):ta:g(h,"Float")["$==="](S)?this.$to_f()["$=="](S):S["$=="](this)},b.$$arity=1);a.def(m,"$<=>",n=function(S){return g(h,"Rational")["$==="](S)?p(r(this.num,S.$denominator()),r(this.den,S.$numerator()))["$<=>"](0):g(h,"Integer")["$==="](S)?p(this.num,r(this.den,S))["$<=>"](0):g(h,"Float")["$==="](S)?this.$to_f()["$<=>"](S):this.$__coerced__("<=>",S)},n.$$arity=1);a.def(m,"$+",k=function(S){if(g(h,"Rational")["$==="](S)){var V=x(r(this.num,S.$denominator()),
r(this.den,S.$numerator()));S=r(this.den,S.$denominator());V=this.$Rational(V,S)}else V=g(h,"Integer")["$==="](S)?this.$Rational(x(this.num,r(S,this.den)),this.den):g(h,"Float")["$==="](S)?x(this.$to_f(),S):this.$__coerced__("+",S);return V},k.$$arity=1);a.def(m,"$-",t=function(S){if(g(h,"Rational")["$==="](S)){var V=p(r(this.num,S.$denominator()),r(this.den,S.$numerator()));S=r(this.den,S.$denominator());V=this.$Rational(V,S)}else V=g(h,"Integer")["$==="](S)?this.$Rational(p(this.num,r(S,this.den)),
this.den):g(h,"Float")["$==="](S)?p(this.$to_f(),S):this.$__coerced__("-",S);return V},t.$$arity=1);a.def(m,"$*",z=function(S){if(g(h,"Rational")["$==="](S)){var V=r(this.num,S.$numerator());S=r(this.den,S.$denominator());V=this.$Rational(V,S)}else V=g(h,"Integer")["$==="](S)?this.$Rational(r(this.num,S),this.den):g(h,"Float")["$==="](S)?r(this.$to_f(),S):this.$__coerced__("*",S);return V},z.$$arity=1);a.def(m,"$/",F=function(S){if(g(h,"Rational")["$==="](S)){var V=r(this.num,S.$denominator());S=
r(this.den,S.$numerator());V=this.$Rational(V,S)}else V=g(h,"Integer")["$==="](S)?S["$=="](0)?G(this.$to_f(),0):this.$Rational(this.num,r(this.den,S)):g(h,"Float")["$==="](S)?G(this.$to_f(),S):this.$__coerced__("/",S);return V},F.$$arity=1);a.def(m,"$**",H=function(S){var V=E,ta=E;return g(h,"Integer")["$==="](S)?y(y(V=this["$=="](0))?v(S,0):V)?B(g(h,"Float"),"INFINITY"):y("number"===typeof S?0<S:S["$>"](0))?this.$Rational(this.num["$**"](S),this.den["$**"](S)):y(v(S,0))?this.$Rational(this.den["$**"](S["$-@"]()),
this.num["$**"](S["$-@"]())):this.$Rational(1,1):g(h,"Float")["$==="](S)?this.$to_f()["$**"](S):g(h,"Rational")["$==="](S)?S["$=="](0)?this.$Rational(1,1):S.$denominator()["$=="](1)?y(v(S,0))?this.$Rational(this.den["$**"](S.$numerator().$abs()),this.num["$**"](S.$numerator().$abs())):this.$Rational(this.num["$**"](S.$numerator()),this.den["$**"](S.$numerator())):y(y(ta=this["$=="](0))?v(S,0):ta)?this.$raise(g(h,"ZeroDivisionError"),"divided by 0"):this.$to_f()["$**"](S):this.$__coerced__("**",S)},
H.$$arity=1);a.def(m,"$abs",K=function(){return this.$Rational(this.num.$abs(),this.den.$abs())},K.$$arity=0);a.def(m,"$ceil",da=function(S){null==S&&(S=0);return S["$=="](0)?G(this.num["$-@"](),this.den)["$-@"]().$ceil():this.$with_precision("ceil",S)},da.$$arity=-1);a.alias(m,"divide","/");a.def(m,"$floor",va=function(S){null==S&&(S=0);return S["$=="](0)?G(this.num["$-@"](),this.den)["$-@"]().$floor():this.$with_precision("floor",S)},va.$$arity=-1);a.def(m,"$hash",Na=function(){return"Rational:"+
this.num+":"+this.den},Na.$$arity=0);a.def(m,"$inspect",wa=function(){return"("+this+")"},wa.$$arity=0);a.alias(m,"quo","/");a.def(m,"$rationalize",Aa=function(S){1<arguments.length&&this.$raise(g(h,"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)");if(null==S)return this;var V=S.$abs(),ta=p(this,V);V=x(this,V);for(var Da=0,ma=1,xa=1,Ha=0,Ea,Sa,Qa;;){Ea=ta.$ceil();if("number"===typeof Ea&&"number"===typeof V?Ea<=V:Ea["$<="](V))break;Qa=Ea-1;Ea=Qa*ma+Da;Sa=Qa*Ha+xa;Da=G(1,
p(V,Qa));V=G(1,p(ta,Qa));ta=Da;Da=ma;xa=Ha;ma=Ea;Ha=Sa}return this.$Rational(Ea*ma+Da,Ea*Ha+xa)},Aa.$$arity=-1);a.def(m,"$round",Ka=function(S){null==S&&(S=0);if(!S["$=="](0))return this.$with_precision("round",S);if(this.num["$=="](0))return 0;if(this.den["$=="](1))return this.num;S=x(r(this.num.$abs(),2),this.den);var V=r(this.den,2);S=G(S,V).$truncate();return y(v(this.num,0))?S["$-@"]():S},Ka.$$arity=-1);a.def(m,"$to_f",oa=function(){return G(this.num,this.den)},oa.$$arity=0);a.def(m,"$to_i",
R=function(){return this.$truncate()},R.$$arity=0);a.def(m,"$to_r",sa=function(){return this},sa.$$arity=0);a.def(m,"$to_s",ba=function(){return""+this.num+"/"+this.den},ba.$$arity=0);a.def(m,"$truncate",ka=function(S){null==S&&(S=0);return S["$=="](0)?y(v(this.num,0))?this.$ceil():this.$floor():this.$with_precision("truncate",S)},ka.$$arity=-1);return(a.def(m,"$with_precision",Y=function(S,V){y(g(h,"Integer")["$==="](V))||this.$raise(g(h,"TypeError"),"not an Integer");var ta=10["$**"](V);var Da=
r(this,ta);return y(v(V,1))?G(Da.$send(S),ta).$to_i():this.$Rational(Da.$send(S),ta)},Y.$$arity=2),E)&&"with_precision"})(e[0],g(e,"Numeric"),e);(function(m,J){m=c(m,"Kernel");var f=[m].concat(J),h;a.def(m,"$Rational",h=function(L,D){null==D&&(D=1);return g(f,"Rational").$convert(L,D)},h.$$arity=-2)})(e[0],e);return function(m,$super,f){m=d(m,$super,"String");[m].concat(f);var h;return(a.def(m,"$to_r",h=function(){function L(){var na=D.match(Q)[0];D=D.slice(na.length);return na.replace(/_/g,"")}var D=
this.trimLeft(),Q=/^[+-]?[\d_]+(\.[\d_]+)?/;D.match(Q);if(Q.test(D)){var ja=parseFloat(L());if("/"===D[0]&&(D=D.slice(1),Q.test(D))){var fa=parseFloat(L());return this.$Rational(ja,fa)}return this.$Rational(ja,1)}return this.$Rational(0,1)},h.$$arity=0),E)&&"to_r"}(e[0],null,e)};
Opal.modules["corelib/time"]=function(a){function v(c,m){return"number"===typeof c&&"number"===typeof m?c+m:c["$+"](m)}function G(c,m){return"number"===typeof c&&"number"===typeof m?c/m:c["$/"](m)}function p(c,m){return"number"===typeof c&&"number"===typeof m?c-m:c["$-"](m)}function r(c,m){return"number"===typeof c&&"number"===typeof m?c<=m:c["$<="](m)}var x=a.top,q=[],e=a.nil,E=a.$$,B=a.slice,g=a.klass,d=a.truthy,y=a.range;a.add_stubs("$require $include $=== $raise $coerce_to! $respond_to? $to_str $to_i $new $<=> $to_f $nil? $> $< $strftime $year $month $day $+ $round $/ $- $copy_instance_variables $initialize_dup $is_a? $zero? $wday $utc? $mon $yday $hour $min $sec $rjust $ljust $zone $to_s $[] $cweek_cyear $isdst $<= $!= $== $ceil".split(" "));
x.$require("corelib/comparable");return function(c,$super,J){function f(za,ua,La,Ra,Ya,Fa){za=za.$$is_string?parseInt(za,10):E(L,"Opal")["$coerce_to!"](za,E(L,"Integer"),"to_int");if(ua===e)ua=1;else if(!ua.$$is_number)if(ua["$respond_to?"]("to_str"))switch(ua=ua.$to_str(),ua.toLowerCase()){case "jan":ua=1;break;case "feb":ua=2;break;case "mar":ua=3;break;case "apr":ua=4;break;case "may":ua=5;break;case "jun":ua=6;break;case "jul":ua=7;break;case "aug":ua=8;break;case "sep":ua=9;break;case "oct":ua=
10;break;case "nov":ua=11;break;case "dec":ua=12;break;default:ua=ua.$to_i()}else ua=E(L,"Opal")["$coerce_to!"](ua,E(L,"Integer"),"to_int");(1>ua||12<ua)&&h.$raise(E(L,"ArgumentError"),"month out of range: "+ua);--ua;La=La===e?1:La.$$is_string?parseInt(La,10):E(L,"Opal")["$coerce_to!"](La,E(L,"Integer"),"to_int");(1>La||31<La)&&h.$raise(E(L,"ArgumentError"),"day out of range: "+La);Ra=Ra===e?0:Ra.$$is_string?parseInt(Ra,10):E(L,"Opal")["$coerce_to!"](Ra,E(L,"Integer"),"to_int");(0>Ra||24<Ra)&&h.$raise(E(L,
"ArgumentError"),"hour out of range: "+Ra);Ya=Ya===e?0:Ya.$$is_string?parseInt(Ya,10):E(L,"Opal")["$coerce_to!"](Ya,E(L,"Integer"),"to_int");(0>Ya||59<Ya)&&h.$raise(E(L,"ArgumentError"),"min out of range: "+Ya);Fa===e?Fa=0:Fa.$$is_number||(Fa=Fa.$$is_string?parseInt(Fa,10):E(L,"Opal")["$coerce_to!"](Fa,E(L,"Integer"),"to_int"));(0>Fa||60<Fa)&&h.$raise(E(L,"ArgumentError"),"sec out of range: "+Fa);return[za,ua,La,Ra,Ya,Fa]}var h=g(c,$super,"Time"),L=[h].concat(J),D,Q,ja,fa,na,b,n,k,t,z,F,H,K,da,va,
Na,wa,Aa,Ka,oa,R,sa,ba,ka,Y,S,V,ta,Da,ma,xa,Ha,Ea,Sa,Qa,Oa,kb,lb,W,ya,Ca,Va;h.$include(E(L,"Comparable"));var hb="Sunday Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "),cb="Sun Mon Tue Wed Thu Fri Sat".split(" "),$a="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),ab="January February March April May June July August September October November December".split(" ");a.defs(h,"$at",D=function(za,ua){if(E(L,"Time")["$==="](za))return void 0!==ua&&this.$raise(E(L,"TypeError"),
"can't convert Time into an exact number"),ua=new Date(za.getTime()),ua.is_utc=za.is_utc,ua;za.$$is_number||(za=E(L,"Opal")["$coerce_to!"](za,E(L,"Integer"),"to_int"));if(void 0===ua)return new Date(1E3*za);ua.$$is_number||(ua=E(L,"Opal")["$coerce_to!"](ua,E(L,"Integer"),"to_int"));return new Date(1E3*za+ua/1E3)},D.$$arity=-2);a.defs(h,"$new",Q=function(za,ua,La,Ra,Ya,Fa,Z){null==ua&&(ua=e);null==La&&(La=e);null==Ra&&(Ra=e);null==Ya&&(Ya=e);null==Fa&&(Fa=e);null==Z&&(Z=e);if(void 0===za)return new Date;
Z!==e&&this.$raise(E(L,"ArgumentError"),"Opal does not support explicitly specifying UTC offset for Time");Fa=f(za,ua,La,Ra,Ya,Fa);za=Fa[0];ua=Fa[1];La=Fa[2];Ra=Fa[3];Ya=Fa[4];Fa=Fa[5];ua=new Date(za,ua,La,Ra,Ya,0,1E3*Fa);100>za&&ua.setFullYear(za);return ua},Q.$$arity=-1);a.defs(h,"$local",ja=function(za,ua,La,Ra,Ya,Fa,Z,P,aa,T){null==ua&&(ua=e);null==La&&(La=e);null==Ra&&(Ra=e);null==Ya&&(Ya=e);null==Fa&&(Fa=e);null==Z&&(Z=e);null==P&&(P=e);null==aa&&(aa=e);null==T&&(T=e);if(10===arguments.length){var ha=
B.call(arguments);za=ha[5];ua=ha[4];La=ha[3];Ra=ha[2];Ya=ha[1];Fa=ha[0]}ha=f(za,ua,La,Ra,Ya,Fa);za=ha[0];ua=ha[1];La=ha[2];Ra=ha[3];Ya=ha[4];Fa=ha[5];ha=new Date(za,ua,La,Ra,Ya,0,1E3*Fa);100>za&&ha.setFullYear(za);return ha},ja.$$arity=-2);a.defs(h,"$gm",fa=function(za,ua,La,Ra,Ya,Fa,Z,P,aa,T){null==ua&&(ua=e);null==La&&(La=e);null==Ra&&(Ra=e);null==Ya&&(Ya=e);null==Fa&&(Fa=e);null==Z&&(Z=e);null==P&&(P=e);null==aa&&(aa=e);null==T&&(T=e);if(10===arguments.length){var ha=B.call(arguments);za=ha[5];
ua=ha[4];La=ha[3];Ra=ha[2];Ya=ha[1];Fa=ha[0]}ha=f(za,ua,La,Ra,Ya,Fa);za=ha[0];ua=ha[1];La=ha[2];Ra=ha[3];Ya=ha[4];Fa=ha[5];ha=new Date(Date.UTC(za,ua,La,Ra,Ya,0,1E3*Fa));100>za&&ha.setUTCFullYear(za);ha.is_utc=!0;return ha},fa.$$arity=-2);(function(za,ua){[za].concat(ua);a.alias(za,"mktime","local");return a.alias(za,"utc","gm")})(a.get_singleton_class(h),L);a.defs(h,"$now",na=function(){return this.$new()},na.$$arity=0);a.def(h,"$+",b=function(za){d(E(L,"Time")["$==="](za))&&this.$raise(E(L,"TypeError"),
"time + time?");za.$$is_number||(za=E(L,"Opal")["$coerce_to!"](za,E(L,"Integer"),"to_int"));za=new Date(this.getTime()+1E3*za);za.is_utc=this.is_utc;return za},b.$$arity=1);a.def(h,"$-",n=function(za){if(d(E(L,"Time")["$==="](za)))return(this.getTime()-za.getTime())/1E3;za.$$is_number||(za=E(L,"Opal")["$coerce_to!"](za,E(L,"Integer"),"to_int"));za=new Date(this.getTime()-1E3*za);za.is_utc=this.is_utc;return za},n.$$arity=1);a.def(h,"$<=>",k=function(za){if(d(E(L,"Time")["$==="](za)))return this.$to_f()["$<=>"](za.$to_f());
za=za["$<=>"](this);return d(za["$nil?"]())?e:d("number"===typeof za?0<za:za["$>"](0))?-1:d("number"===typeof za?0>za:za["$<"](0))?1:0},k.$$arity=1);a.def(h,"$==",t=function(za){var ua;return d(ua=E(L,"Time")["$==="](za))?this.$to_f()===za.$to_f():ua},t.$$arity=1);a.def(h,"$asctime",z=function(){return this.$strftime("%a %b %e %H:%M:%S %Y")},z.$$arity=0);a.alias(h,"ctime","asctime");a.def(h,"$day",F=function(){return this.is_utc?this.getUTCDate():this.getDate()},F.$$arity=0);a.def(h,"$yday",H=function(){var za=
E(L,"Time").$new(this.$year()).$to_i();var ua=E(L,"Time").$new(this.$year(),this.$month(),this.$day()).$to_i();return v(G(p(ua,za),86400).$round(),1)},H.$$arity=0);a.def(h,"$isdst",K=function(){var za=new Date(this.getFullYear(),0,1),ua=new Date(this.getFullYear(),6,1);return this.getTimezoneOffset()<Math.max(za.getTimezoneOffset(),ua.getTimezoneOffset())},K.$$arity=0);a.alias(h,"dst?","isdst");a.def(h,"$dup",da=function(){var za=new Date(this.getTime());za.$copy_instance_variables(this);za.$initialize_dup(this);
return za},da.$$arity=0);a.def(h,"$eql?",va=function(za){var ua;return d(ua=za["$is_a?"](E(L,"Time")))?this["$<=>"](za)["$zero?"]():ua},va.$$arity=1);a.def(h,"$friday?",Na=function(){return 5==this.$wday()},Na.$$arity=0);a.def(h,"$hash",wa=function(){return"Time:"+this.getTime()},wa.$$arity=0);a.def(h,"$hour",Aa=function(){return this.is_utc?this.getUTCHours():this.getHours()},Aa.$$arity=0);a.def(h,"$inspect",Ka=function(){return d(this["$utc?"]())?this.$strftime("%Y-%m-%d %H:%M:%S UTC"):this.$strftime("%Y-%m-%d %H:%M:%S %z")},
Ka.$$arity=0);a.alias(h,"mday","day");a.def(h,"$min",oa=function(){return this.is_utc?this.getUTCMinutes():this.getMinutes()},oa.$$arity=0);a.def(h,"$mon",R=function(){return(this.is_utc?this.getUTCMonth():this.getMonth())+1},R.$$arity=0);a.def(h,"$monday?",sa=function(){return 1==this.$wday()},sa.$$arity=0);a.alias(h,"month","mon");a.def(h,"$saturday?",ba=function(){return 6==this.$wday()},ba.$$arity=0);a.def(h,"$sec",ka=function(){return this.is_utc?this.getUTCSeconds():this.getSeconds()},ka.$$arity=
0);a.def(h,"$succ",Y=function(){var za=new Date(this.getTime()+1E3);za.is_utc=this.is_utc;return za},Y.$$arity=0);a.def(h,"$usec",S=function(){return 1E3*this.getMilliseconds()},S.$$arity=0);a.def(h,"$zone",V=function(){var za=this.toString();var ua=-1==za.indexOf("(")?za.match(/[A-Z]{3,4}/)[0]:za.match(/\((.+)\)(?:\s|$)/)[1];return"GMT"==ua&&/(GMT\W*\d{4})/.test(za)?RegExp.$1:ua},V.$$arity=0);a.def(h,"$getgm",ta=function(){var za=new Date(this.getTime());za.is_utc=!0;return za},ta.$$arity=0);a.alias(h,
"getutc","getgm");a.def(h,"$gmtime",Da=function(){this.is_utc=!0;return this},Da.$$arity=0);a.alias(h,"utc","gmtime");a.def(h,"$gmt?",ma=function(){return!0===this.is_utc},ma.$$arity=0);a.def(h,"$gmt_offset",xa=function(){return this.is_utc?0:60*-this.getTimezoneOffset()},xa.$$arity=0);a.def(h,"$strftime",Ha=function(za){var ua=this;return za.replace(/%([\-_#^0]*:{0,2})(\d+)?([EO]*)(.)/g,function(La,Ra,Ya,Fa,Z){Fa="";var P=-1!==Ra.indexOf("0"),aa=-1===Ra.indexOf("-"),T=-1!==Ra.indexOf("_"),ha=-1!==
Ra.indexOf("^"),la=-1!==Ra.indexOf("#"),l=(Ra.match(":")||[]).length;Ya=parseInt(Ya,10);P&&T&&(Ra.indexOf("0")<Ra.indexOf("_")?P=!1:T=!1);switch(Z){case "Y":Fa+=ua.$year();break;case "C":P=!T;Fa+=Math.round(ua.$year()/100);break;case "y":P=!T;Fa+=ua.$year()%100;break;case "m":P=!T;Fa+=ua.$mon();break;case "B":Fa+=ab[ua.$mon()-1];break;case "b":case "h":T=!P;Fa+=$a[ua.$mon()-1];break;case "d":P=!T;Fa+=ua.$day();break;case "e":T=!P;Fa+=ua.$day();break;case "j":P=!T;Ya=isNaN(Ya)?3:Ya;Fa+=ua.$yday();
break;case "H":P=!T;Fa+=ua.$hour();break;case "k":T=!P;Fa+=ua.$hour();break;case "I":P=!T;Fa+=ua.$hour()%12||12;break;case "l":T=!P;Fa+=ua.$hour()%12||12;break;case "P":Fa+=12<=ua.$hour()?"pm":"am";break;case "p":Fa+=12<=ua.$hour()?"PM":"AM";break;case "M":P=!T;Fa+=ua.$min();break;case "S":P=!T;Fa+=ua.$sec();break;case "L":P=!T;Ya=isNaN(Ya)?3:Ya;Fa+=ua.getMilliseconds();break;case "N":Ya=isNaN(Ya)?9:Ya;Fa+=ua.getMilliseconds().toString().$rjust(3,"0");Fa=Fa.$ljust(Ya,"0");break;case "z":La=ua.getTimezoneOffset();
Ra=Math.floor(Math.abs(La)/60);Z=Math.abs(La)%60;Fa=Fa+(0>La?"+":"-")+(10>Ra?"0":"")+Ra;0<l&&(Fa+=":");Fa+=10>Z?"0":"";Fa+=Z;1<l&&(Fa+=":00");break;case "Z":Fa+=ua.$zone();break;case "A":Fa+=hb[ua.$wday()];break;case "a":Fa+=cb[ua.$wday()];break;case "u":Fa+=ua.$wday()+1;break;case "w":Fa+=ua.$wday();break;case "V":Fa+=ua.$cweek_cyear()["$[]"](0).$to_s().$rjust(2,"0");break;case "G":Fa+=ua.$cweek_cyear()["$[]"](1);break;case "g":Fa+=ua.$cweek_cyear()["$[]"](1)["$[]"](y(-2,-1,!1));break;case "s":Fa+=
ua.$to_i();break;case "n":Fa+="\n";break;case "t":Fa+="\t";break;case "%":Fa+="%";break;case "c":Fa+=ua.$strftime("%a %b %e %T %Y");break;case "D":case "x":Fa+=ua.$strftime("%m/%d/%y");break;case "F":Fa+=ua.$strftime("%Y-%m-%d");break;case "v":Fa+=ua.$strftime("%e-%^b-%4Y");break;case "r":Fa+=ua.$strftime("%I:%M:%S %p");break;case "R":Fa+=ua.$strftime("%H:%M");break;case "T":case "X":Fa+=ua.$strftime("%H:%M:%S");break;default:return La}ha&&(Fa=Fa.toUpperCase());la&&(Fa=Fa.replace(/[A-Z]/,function(C){C.toLowerCase()}).replace(/[a-z]/,
function(C){C.toUpperCase()}));aa&&(P||T)&&(Fa=Fa.$rjust(isNaN(Ya)?2:Ya,T?" ":"0"));return Fa})},Ha.$$arity=1);a.def(h,"$sunday?",Ea=function(){return 0==this.$wday()},Ea.$$arity=0);a.def(h,"$thursday?",Sa=function(){return 4==this.$wday()},Sa.$$arity=0);a.def(h,"$to_a",Qa=function(){return[this.$sec(),this.$min(),this.$hour(),this.$day(),this.$month(),this.$year(),this.$wday(),this.$yday(),this.$isdst(),this.$zone()]},Qa.$$arity=0);a.def(h,"$to_f",Oa=function(){return this.getTime()/1E3},Oa.$$arity=
0);a.def(h,"$to_i",kb=function(){return parseInt(this.getTime()/1E3,10)},kb.$$arity=0);a.alias(h,"to_s","inspect");a.def(h,"$tuesday?",lb=function(){return 2==this.$wday()},lb.$$arity=0);a.alias(h,"tv_sec","to_i");a.alias(h,"tv_usec","usec");a.alias(h,"utc?","gmt?");a.alias(h,"gmtoff","gmt_offset");a.alias(h,"utc_offset","gmt_offset");a.def(h,"$wday",W=function(){return this.is_utc?this.getUTCDay():this.getDay()},W.$$arity=0);a.def(h,"$wednesday?",ya=function(){return 3==this.$wday()},ya.$$arity=
0);a.def(h,"$year",Ca=function(){return this.is_utc?this.getUTCFullYear():this.getFullYear()},Ca.$$arity=0);return(a.def(h,"$cweek_cyear",Va=function(){var za=e,ua=e;var La=E(L,"Time").$new(this.$year(),1,1).$wday();var Ra=this.$year();d(d(za=r(La,4))?La["$!="](0):za)?La=p(La,1):(La=p(p(La,7),1),La["$=="](-8)&&(La=-1));La=G(v(this.$yday(),La),7).$ceil();if(d(r(La,0)))return E(L,"Time").$new(p(this.$year(),1),12,31).$cweek_cyear();La["$=="](53)&&(za=E(L,"Time").$new(this.$year(),12,31),za=za.$wday(),
d(d(ua=r(za,3))?za["$!="](0):ua)&&(La=1,Ra=v(Ra,1)));return[La,Ra]},Va.$$arity=0),e)&&"cweek_cyear"}(q[0],Date,q)};
Opal.modules["corelib/struct"]=function(a){function v(m,J){return"number"===typeof m&&"number"===typeof J?m>J:m["$>"](J)}function G(m,J){return"number"===typeof m&&"number"===typeof J?m-J:m["$-"](J)}function p(m,J){return"number"===typeof m&&"number"===typeof J?m<J:m["$<"](J)}function r(m,J){return"number"===typeof m&&"number"===typeof J?m>=J:m["$>="](J)}function x(m,J){return"number"===typeof m&&"number"===typeof J?m+J:m["$+"](J)}var q=a.top,e=[],E=a.nil,B=a.$$,g=a.klass,d=a.hash2,y=a.truthy,c=a.send;
a.add_stubs("$require $include $const_name! $unshift $map $coerce_to! $new $each $define_struct_attribute $allocate $initialize $alias_method $module_eval $to_proc $const_set $== $raise $<< $members $define_method $instance_eval $class $last $> $length $- $keys $any? $join $[] $[]= $each_with_index $hash $=== $< $-@ $size $>= $include? $to_sym $instance_of? $__id__ $eql? $enum_for $name $+ $each_pair $inspect $to_h $args $each_with_object $flatten $to_a $respond_to? $dig".split(" "));q.$require("corelib/enumerable");
return function(m,$super,f){m=g(m,$super,"Struct");var h=[m].concat(f),L,D,Q,ja,fa,na,b,n,k,t,z,F,H,K,da,va,Na,wa,Aa,Ka;m.$include(B(h,"Enumerable"));a.defs(m,"$new",L=function(oa,R,sa){var ba=L.$$p,ka=ba||E,Y,S;var V=E;ba&&(L.$$p=null);ba&&(L.$$p=null);var ta=a.slice.call(arguments,1,arguments.length);V=a.extract_kwargs(ta);if(null==V)V=d([],{});else if(!V.$$is_hash)throw a.ArgumentError.$new("expected kwargs");ba=V.$$smap.keyword_init;null==ba&&(ba=!1);if(y(oa))try{oa=B(h,"Opal")["$const_name!"](oa)}catch(Da){if(a.rescue(Da,
[B(h,"TypeError"),B(h,"NameError")]))try{ta.$unshift(oa),oa=E}finally{a.pop_exception()}else throw Da;}c(ta,"map",[],(Y=function(Da){null==Da&&(Da=E);return B(h,"Opal")["$coerce_to!"](Da,B(h,"String"),"to_str")},Y.$$s=this,Y.$$arity=1,Y));V=c(B(h,"Class"),"new",[this],(S=function(){var Da=null==S.$$s?this:S.$$s,ma;c(ta,"each",[],(ma=function(xa){var Ha=null==ma.$$s?this:ma.$$s;null==xa&&(xa=E);return Ha.$define_struct_attribute(xa)},ma.$$s=Da,ma.$$arity=1,ma));return function(xa,Ha){[xa].concat(Ha);
var Ea;a.def(xa,"$new",Ea=function(Sa){var Qa=a.slice.call(arguments,0,arguments.length);var Oa=this.$allocate();Oa.$$data={};c(Oa,"initialize",a.to_a(Qa));return Oa},Ea.$$arity=-1);return xa.$alias_method("[]","new")}(a.get_singleton_class(Da),h)},S.$$s=this,S.$$arity=0,S));y(ka)&&c(V,"module_eval",[],ka.$to_proc());V.$$keyword_init=ba;y(oa)&&B(h,"Struct").$const_set(oa,V);return V},L.$$arity=-2);a.defs(m,"$define_struct_attribute",D=function(oa){var R,sa;this["$=="](B(h,"Struct"))&&this.$raise(B(h,
"ArgumentError"),"you cannot define attributes to the Struct class");this.$members()["$<<"](oa);c(this,"define_method",[oa],(R=function(){return(null==R.$$s?this:R.$$s).$$data[oa]},R.$$s=this,R.$$arity=0,R));return c(this,"define_method",[""+oa+"="],(sa=function(ba){var ka=null==sa.$$s?this:sa.$$s;null==ba&&(ba=E);return ka.$$data[oa]=ba},sa.$$s=this,sa.$$arity=1,sa))},D.$$arity=1);a.defs(m,"$members",Q=function(){var oa=E;null==this.members&&(this.members=E);this["$=="](B(h,"Struct"))&&this.$raise(B(h,
"ArgumentError"),"the Struct class has no members");return this.members=y(oa=this.members)?oa:[]},Q.$$arity=0);a.defs(m,"$inherited",ja=function(oa){var R,sa=E;null==this.members&&(this.members=E);sa=this.members;return c(oa,"instance_eval",[],(R=function(){return(null==R.$$s?this:R.$$s).members=sa},R.$$s=this,R.$$arity=0,R))},ja.$$arity=1);a.def(m,"$initialize",fa=function(oa){var R,sa,ba=E,ka=E,Y=E,S=E;var V=a.slice.call(arguments,0,arguments.length);if(y(this.$class().$$keyword_init))return ba=
y(ka=V.$last())?ka:d([],{}),y(y(Y=v(V.$length(),1))?Y:1===V.length&&!ba.$$is_hash)&&this.$raise(B(h,"ArgumentError"),"wrong number of arguments (given "+V.$length()+", expected 0)"),S=G(ba.$keys(),this.$class().$members()),y(S["$any?"]())&&this.$raise(B(h,"ArgumentError"),"unknown keywords: "+S.$join(", ")),c(this.$class().$members(),"each",[],(R=function(ta){var Da=null==R.$$s?this:R.$$s;null==ta&&(ta=E);ta=[ta,ba["$[]"](ta)];c(Da,"[]=",a.to_a(ta));return ta[G(ta.length,1)]},R.$$s=this,R.$$arity=
1,R));y(v(V.$length(),this.$class().$members().$length()))&&this.$raise(B(h,"ArgumentError"),"struct size differs");return c(this.$class().$members(),"each_with_index",[],(sa=function(ta,Da){var ma=null==sa.$$s?this:sa.$$s;null==ta&&(ta=E);null==Da&&(Da=E);ta=[ta,V["$[]"](Da)];c(ma,"[]=",a.to_a(ta));return ta[G(ta.length,1)]},sa.$$s=this,sa.$$arity=2,sa))},fa.$$arity=-1);a.def(m,"$initialize_copy",na=function(oa){this.$$data={};var R=Object.keys(oa.$$data),sa;var ba=0;for(sa=R.length;ba<sa;ba++){var ka=
R[ba];this.$$data[ka]=oa.$$data[ka]}},na.$$arity=1);a.def(m,"$members",b=function(){return this.$class().$members()},b.$$arity=0);a.def(m,"$hash",n=function(){return B(h,"Hash").$new(this.$$data).$hash()},n.$$arity=0);a.def(m,"$[]",k=function(oa){y(B(h,"Integer")["$==="](oa))?(y(p(oa,this.$class().$members().$size()["$-@"]()))&&this.$raise(B(h,"IndexError"),"offset "+oa+" too small for struct(size:"+this.$class().$members().$size()+")"),y(r(oa,this.$class().$members().$size()))&&this.$raise(B(h,"IndexError"),
"offset "+oa+" too large for struct(size:"+this.$class().$members().$size()+")"),oa=this.$class().$members()["$[]"](oa)):y(B(h,"String")["$==="](oa))?this.$$data.hasOwnProperty(oa)||this.$raise(B(h,"NameError").$new("no member '"+oa+"' in struct",oa)):this.$raise(B(h,"TypeError"),"no implicit conversion of "+oa.$class()+" into Integer");oa=B(h,"Opal")["$coerce_to!"](oa,B(h,"String"),"to_str");return this.$$data[oa]},k.$$arity=1);a.def(m,"$[]=",t=function(oa,R){y(B(h,"Integer")["$==="](oa))?(y(p(oa,
this.$class().$members().$size()["$-@"]()))&&this.$raise(B(h,"IndexError"),"offset "+oa+" too small for struct(size:"+this.$class().$members().$size()+")"),y(r(oa,this.$class().$members().$size()))&&this.$raise(B(h,"IndexError"),"offset "+oa+" too large for struct(size:"+this.$class().$members().$size()+")"),oa=this.$class().$members()["$[]"](oa)):y(B(h,"String")["$==="](oa))?y(this.$class().$members()["$include?"](oa.$to_sym()))||this.$raise(B(h,"NameError").$new("no member '"+oa+"' in struct",oa)):
this.$raise(B(h,"TypeError"),"no implicit conversion of "+oa.$class()+" into Integer");oa=B(h,"Opal")["$coerce_to!"](oa,B(h,"String"),"to_str");return this.$$data[oa]=R},t.$$arity=2);a.def(m,"$==",z=function(oa){function R(ka,Y){var S;sa[ka.$__id__()]=!0;ba[Y.$__id__()]=!0;for(S in ka.$$data){var V=ka.$$data[S];var ta=Y.$$data[S];if(B(h,"Struct")["$==="](V)){if(!(sa.hasOwnProperty(V.$__id__())&&ba.hasOwnProperty(ta.$__id__())||R(V,ta)))return!1}else if(!V["$=="](ta))return!1}return!0}if(!y(oa["$instance_of?"](this.$class())))return!1;
var sa={},ba={};return R(this,oa)},z.$$arity=1);a.def(m,"$eql?",F=function(oa){function R(ka,Y){var S;sa[ka.$__id__()]=!0;ba[Y.$__id__()]=!0;for(S in ka.$$data){var V=ka.$$data[S];var ta=Y.$$data[S];if(B(h,"Struct")["$==="](V)){if(!(sa.hasOwnProperty(V.$__id__())&&ba.hasOwnProperty(ta.$__id__())||R(V,ta)))return!1}else if(!V["$eql?"](ta))return!1}return!0}if(!y(oa["$instance_of?"](this.$class())))return!1;var sa={},ba={};return R(this,oa)},F.$$arity=1);a.def(m,"$each",H=function(){var oa,R,sa=H.$$p,
ba=sa||E;sa&&(H.$$p=null);if(ba===E)return c(this,"enum_for",["each"],(oa=function(){return(null==oa.$$s?this:oa.$$s).$size()},oa.$$s=this,oa.$$arity=0,oa));c(this.$class().$members(),"each",[],(R=function(ka){var Y=null==R.$$s?this:R.$$s;null==ka&&(ka=E);return a.yield1(ba,Y["$[]"](ka))},R.$$s=this,R.$$arity=1,R));return this},H.$$arity=0);a.def(m,"$each_pair",K=function(){var oa,R,sa=K.$$p,ba=sa||E;sa&&(K.$$p=null);if(ba===E)return c(this,"enum_for",["each_pair"],(oa=function(){return(null==oa.$$s?
this:oa.$$s).$size()},oa.$$s=this,oa.$$arity=0,oa));c(this.$class().$members(),"each",[],(R=function(ka){var Y=null==R.$$s?this:R.$$s;null==ka&&(ka=E);return a.yield1(ba,[ka,Y["$[]"](ka)])},R.$$s=this,R.$$arity=1,R));return this},K.$$arity=0);a.def(m,"$length",da=function(){return this.$class().$members().$length()},da.$$arity=0);a.alias(m,"size","length");a.def(m,"$to_a",va=function(){var oa;return c(this.$class().$members(),"map",[],(oa=function(R){var sa=null==oa.$$s?this:oa.$$s;null==R&&(R=E);
return sa["$[]"](R)},oa.$$s=this,oa.$$arity=1,oa))},va.$$arity=0);a.alias(m,"values","to_a");a.def(m,"$inspect",Na=function(){var oa,R=E,sa=E;R="#<struct ";y(y(sa=B(h,"Struct")["$==="](this))?this.$class().$name():sa)&&(R=x(R,""+this.$class()+" "));R=x(R,c(this.$each_pair(),"map",[],(oa=function(ba,ka){null==ba&&(ba=E);null==ka&&(ka=E);return""+ba+"="+ka.$inspect()},oa.$$s=this,oa.$$arity=2,oa)).$join(", "));return R=x(R,">")},Na.$$arity=0);a.alias(m,"to_s","inspect");a.def(m,"$to_h",wa=function(){var oa=
wa.$$p,R=oa||E,sa;oa&&(wa.$$p=null);oa&&(wa.$$p=null);return R!==E?c(c(this,"map",[],R.$to_proc()),"to_h",a.to_a(this.$args())):c(this.$class().$members(),"each_with_object",[d([],{})],(sa=function(ba,ka){var Y=null==sa.$$s?this:sa.$$s;null==ba&&(ba=E);null==ka&&(ka=E);ba=[ba,Y["$[]"](ba)];c(ka,"[]=",a.to_a(ba));return ba[G(ba.length,1)]},sa.$$s=this,sa.$$arity=2,sa))},wa.$$arity=0);a.def(m,"$values_at",Aa=function(oa){var R;var sa=a.slice.call(arguments,0,arguments.length);sa=c(sa,"map",[],(R=function(Y){null==
Y&&(Y=E);return Y.$$is_range?Y.$to_a():Y},R.$$s=this,R.$$arity=1,R)).$flatten();R=[];for(var ba=0,ka=sa.length;ba<ka;ba++)sa[ba].$$is_number||this.$raise(B(h,"TypeError"),"no implicit conversion of "+sa[ba].$class()+" into Integer"),R.push(this["$[]"](sa[ba]));return R},Aa.$$arity=-1);return(a.def(m,"$dig",Ka=function(oa,R){var sa=a.slice.call(arguments,1,arguments.length);var ba=y(oa.$$is_string&&this.$$data.hasOwnProperty(oa))?this.$$data[oa]||E:E;if(ba===E||0===sa.length)return ba;y(ba["$respond_to?"]("dig"))||
this.$raise(B(h,"TypeError"),""+ba.$class()+" does not have #dig method");return c(ba,"dig",a.to_a(sa))},Ka.$$arity=-2),E)&&"dig"}(e[0],null,e)};Opal.modules["corelib/main"]=function(a){var v,G,p=a.top,r=[],x=a.nil,q=a.$$;a.add_stubs(["$include"]);a.defs(p,"$to_s",v=function(){return"main"},v.$$arity=0);return(a.defs(p,"$include",G=function(e){return q(r,"Object").$include(e)},G.$$arity=1),x)&&"include"};
Opal.modules["corelib/dir"]=function(a){var v=[],G=a.nil,p=a.$$,r=a.klass,x=a.truthy;a.add_stubs(["$[]"]);return function(q,$super,E){q=r(q,$super,"Dir");E=[q].concat(E);return function(B,g){var d=[B].concat(g),y,c,m;a.def(B,"$chdir",y=function(J){var f=y.$$p,h=f||G,L=G;f&&(y.$$p=null);a:{try{L=a.current_dir;a.current_dir=J;var D=a.yieldX(h,[]);break a}finally{a.current_dir=L}D=void 0}return D},y.$$arity=1);a.def(B,"$pwd",c=function(){return a.current_dir||"."},c.$$arity=0);a.alias(B,"getwd","pwd");
return(a.def(B,"$home",m=function(){var J;return x(J=p(d,"ENV")["$[]"]("HOME"))?J:"."},m.$$arity=0),G)&&"home"}(a.get_singleton_class(q),E)}(v[0],null,v)};
Opal.modules["corelib/file"]=function(a){function v(B,g){return"number"===typeof B&&"number"===typeof g?B+g:B["$+"](g)}var G=[],p=a.nil,r=a.$$,x=a.truthy,q=a.klass,e=a.range,E=a.send;a.add_stubs("$respond_to? $to_path $pwd $split $sub $+ $unshift $join $home $raise $start_with? $absolute_path $coerce_to! $basename $empty? $rindex $[] $nil? $== $- $length $gsub $find $=~ $map $each_with_index $flatten $reject $to_proc $end_with?".split(" "));return function(B,$super,d){B=q(B,$super,"File");d=[B].concat(d);
var y=p;a.const_set(d[0],"Separator",a.const_set(d[0],"SEPARATOR","/"));a.const_set(d[0],"ALT_SEPARATOR",p);a.const_set(d[0],"PATH_SEPARATOR",":");a.const_set(d[0],"FNM_SYSCASE",0);y=/^[a-zA-Z]:(?:\\|\/)/;return function(c,m){function J(t){x(t["$respond_to?"]("to_path"))&&(t=t.$to_path());return t=r(h,"Opal")["$coerce_to!"](t,r(h,"String"),"to_str")}function f(){return r(h,"ALT_SEPARATOR")===p?a.escape_regexp(r(h,"SEPARATOR")):a.escape_regexp(v(r(h,"SEPARATOR"),r(h,"ALT_SEPARATOR")))}var h=[c].concat(m),
L,D,Q,ja,fa,na,b,n,k;a.def(c,"$absolute_path",L=function(t,z){var F=p;null==z&&(z=p);var H=r(h,"SEPARATOR");var K=f();var da=[];t=x(t["$respond_to?"]("to_path"))?t.$to_path():t;z=x(F=z)?F:r(h,"Dir").$pwd();F=t.substr(0,H.length)===H||y.test(t);var va=z.substr(0,H.length)===H||y.test(z);x(F)?(F=t.$split(a.regexp(["[",K,"]"])),t=y.test(t)?"":t.$sub(a.regexp(["^([",K,"]+).*$"]),"\\1"),z=!0):(F=v(z.$split(a.regexp(["[",K,"]"])),t.$split(a.regexp(["[",K,"]"]))),t=y.test(z)?"":z.$sub(a.regexp(["^([",K,
"]+).*$"]),"\\1"),z=va);va=0;for(var Na=F.length;va<Na;va++)K=F[va],K===p||""===K&&(0===da.length||z)||"."===K&&(0===da.length||z)||(".."===K?da.pop():da.push(K));z||"."===F[0]||da.$unshift(".");H=da.$join(H);x(z)&&(H=v(t,H));return H},L.$$arity=-2);a.def(c,"$expand_path",D=function(t,z){null==z&&(z=p);var F=r(h,"SEPARATOR");var H=f();if(x("~"===t[0]||z&&"~"===z[0])){var K=r(h,"Dir").$home();x(K)||this.$raise(r(h,"ArgumentError"),"couldn't find HOME environment -- expanding `~'");H=y.test(K)?"":K.$sub(a.regexp(["^([",
H,"]+).*$"]),"\\1");x(K["$start_with?"](H))||this.$raise(r(h,"ArgumentError"),"non-absolute home");K=v(K,F);F=a.regexp(["^\\~(?:",F,"|$)"]);t=t.$sub(F,K);x(z)&&(z=z.$sub(F,K))}return this.$absolute_path(t,z)},D.$$arity=-2);a.alias(c,"realpath","expand_path");a.def(c,"$dirname",Q=function(t){var z=f();t=J(t);var F=t.match(new RegExp("^["+z+"]"));t=t.replace(new RegExp("["+z+"]+$"),"");t=t.replace(new RegExp("[^"+z+"]+$"),"");t=t.replace(new RegExp("["+z+"]+$"),"");return""===t?F?"/":".":t},Q.$$arity=
1);a.def(c,"$basename",ja=function(t,z){null==z&&(z=p);var F=f();t=J(t);if(0==t.length)return t;z=z!==p?r(h,"Opal")["$coerce_to!"](z,r(h,"String"),"to_str"):null;t=t.replace(new RegExp("(.)["+F+"]*$"),"$1");t=t.replace(new RegExp("^(?:.*["+F+"])?([^"+F+"]+)$"),"$1");".*"===z?t=t.replace(/\.[^\.]+$/,""):null!==z&&(z=a.escape_regexp(z),t=t.replace(new RegExp(""+z+"$"),""));return t},ja.$$arity=-2);a.def(c,"$extname",fa=function(t){var z;t=J(t);t=this.$basename(t);if(x(t["$empty?"]()))return"";var F=
t["$[]"](e(1,-1,!1)).$rindex(".");if(!x(z=F["$nil?"]())){z=v(F,1);var H=z["$=="];var K=t.$length();K="number"===typeof K?K-1:K["$-"](1);z=H.call(z,K)}return x(z)?"":t["$[]"](a.Range.$new(v(F,1),-1,!1))},fa.$$arity=1);a.def(c,"$exist?",na=function(t){return null!=a.modules[t]},na.$$arity=1);a.alias(c,"exists?","exist?");a.def(c,"$directory?",b=function(t){var z,F=p;F=p;F=[];for(var H in a.modules)F.push(H);t=t.$gsub(a.regexp(["(^.",r(h,"SEPARATOR"),"+|",r(h,"SEPARATOR"),"+$)"]));return F=E(F,"find",
[],(z=function(K){null==K&&(K=p);return K["$=~"](a.regexp(["^",t]))},z.$$s=this,z.$$arity=1,z))},b.$$arity=1);a.def(c,"$join",n=function(t){var z,F,H=p;var K=a.slice.call(arguments,0,arguments.length);if(x(K["$empty?"]()))return"";H="";K=E(K.$flatten().$each_with_index(),"map",[],(z=function(da,va){var Na=p,wa=p;null==da&&(da=p);null==va&&(va=p);return x(x(Na=va["$=="](0))?da["$empty?"]():Na)?r(h,"SEPARATOR"):x(x(wa=K.$length()["$=="](v(va,1)))?da["$empty?"]():wa)?r(h,"SEPARATOR"):da},z.$$s=this,
z.$$arity=2,z));K=E(K,"reject",[],"empty?".$to_proc());E(K,"each_with_index",[],(F=function(da,va){var Na=p,wa=p;null==da&&(da=p);null==va&&(va=p);va=K["$[]"](v(va,1));if(x(va["$nil?"]()))return H=""+H+da;x(x(Na=da["$end_with?"](r(h,"SEPARATOR")))?va["$start_with?"](r(h,"SEPARATOR")):Na)&&(da=da.$sub(a.regexp([r(h,"SEPARATOR"),"+$"]),""));return H=x(x(wa=da["$end_with?"](r(h,"SEPARATOR")))?wa:va["$start_with?"](r(h,"SEPARATOR")))?""+H+da:""+H+da+r(h,"SEPARATOR")},F.$$s=this,F.$$arity=2,F));return H},
n.$$arity=-1);return(a.def(c,"$split",k=function(t){return t.$split(r(h,"SEPARATOR"))},k.$$arity=1),p)&&"split"}(a.get_singleton_class(B),d)}(G[0],r(G,"IO"),G)};
Opal.modules["corelib/process"]=function(a){var v=[],G=a.nil,p=a.$$$,r=a.$$,x=a.klass,q=a.truthy;a.add_stubs("$const_set $size $<< $__register_clock__ $to_f $now $new $[] $raise".split(" "));(function(e,$super,B){e=x(e,$super,"Process");var g=[e].concat(B),d,y,c,m;B=G;e.__clocks__=[];a.defs(e,"$__register_clock__",d=function(f,h){null==this.__clocks__&&(this.__clocks__=G);this.$const_set(f,this.__clocks__.$size());return this.__clocks__["$<<"](h)},d.$$arity=2);e.$__register_clock__("CLOCK_REALTIME",
function(){return Date.now()});B=!1;if(a.global.performance)B=function(){return performance.now()};else if(a.global.process&&process.hrtime){var J=process.hrtime();B=function(){var f=process.hrtime(J);return 1E3*f[0]+(f[1]/1E3|0)/1E3}}q(B)&&e.$__register_clock__("CLOCK_MONOTONIC",B);a.defs(e,"$pid",y=function(){return 0},y.$$arity=0);a.defs(e,"$times",c=function(){var f=r(g,"Time").$now().$to_f();return p(r(g,"Benchmark"),"Tms").$new(f,f,f,f,f)},c.$$arity=0);return(a.defs(e,"$clock_gettime",m=function(f,
h){var L,D;null==this.__clocks__&&(this.__clocks__=G);null==h&&(h="float_second");q(L=D=this.__clocks__["$[]"](f))?L:this.$raise(p(r(g,"Errno"),"EINVAL"),"clock_gettime("+f+") "+this.__clocks__["$[]"](f));f=D();switch(h){case "float_second":return f/1E3;case "float_millisecond":return f/1;case "float_microsecond":return 1E3*f;case "second":return f/1E3|0;case "millisecond":return f/1|0;case "microsecond":return 1E3*f|0;case "nanosecond":return 1E6*f|0;default:this.$raise(r(g,"ArgumentError"),"unexpected unit: "+
h)}},m.$$arity=-2),G)&&"clock_gettime"})(v[0],null,v);(function(e,$super,B){e=x(e,$super,"Signal");[e].concat(B);var g;return(a.defs(e,"$trap",g=function(d){a.slice.call(arguments,0,arguments.length);return G},g.$$arity=-1),G)&&"trap"})(v[0],null,v);return function(e,$super,B){e=x(e,$super,"GC");[e].concat(B);var g;return(a.defs(e,"$start",g=function(){return G},g.$$arity=0),G)&&"start"}(v[0],null,v)};
Opal.modules["corelib/random"]=function(a){var v=[],G=a.nil,p=a.$$,r=a.klass,x=a.truthy,q=a.send;a.add_stubs("$attr_reader $new_seed $coerce_to! $reseed $rand $seed $< $raise $encode $join $new $chr $=== $== $state $const_defined? $const_set".split(" "));return function(e,$super,B){e=r(e,$super,"Random");var g=[e].concat(B),d,y,c,m,J,f,h,L,D,Q;e.$attr_reader("seed","state");a.def(e,"$initialize",d=function(ja){null==ja&&(ja=p(g,"Random").$new_seed());this.state=ja=p(g,"Opal")["$coerce_to!"](ja,p(g,
"Integer"),"to_int");return this.$reseed(ja)},d.$$arity=-1);a.def(e,"$reseed",y=function(ja){this.seed=ja;return this.$rng=a.$$rand.reseed(ja)},y.$$arity=1);a.defs(e,"$new_seed",c=function(){return a.$$rand.new_seed()},c.$$arity=0);a.defs(e,"$rand",m=function(ja){return p(g,"DEFAULT").$rand(ja)},m.$$arity=-1);a.defs(e,"$srand",J=function(ja){null==ja&&(ja=p(g,"Random").$new_seed());ja=p(g,"Opal")["$coerce_to!"](ja,p(g,"Integer"),"to_int");var fa=p(g,"DEFAULT").$seed();p(g,"DEFAULT").$reseed(ja);return fa},
J.$$arity=-1);a.defs(e,"$urandom",f=function(ja){var fa;ja=p(g,"Opal")["$coerce_to!"](ja,p(g,"Integer"),"to_int");x("number"===typeof ja?0>ja:ja["$<"](0))&&this.$raise(p(g,"ArgumentError"),"negative string size (or size too big)");return q(p(g,"Array"),"new",[ja],(fa=function(){return(null==fa.$$s?this:fa.$$s).$rand(255).$chr()},fa.$$s=this,fa.$$arity=0,fa)).$join().$encode("ASCII-8BIT")},f.$$arity=1);a.def(e,"$==",h=function(ja){var fa;return x(p(g,"Random")["$==="](ja))?x(fa=this.$seed()["$=="](ja.$seed()))?
this.$state()["$=="](ja.$state()):fa:!1},h.$$arity=1);a.def(e,"$bytes",L=function(ja){var fa;ja=p(g,"Opal")["$coerce_to!"](ja,p(g,"Integer"),"to_int");return q(p(g,"Array"),"new",[ja],(fa=function(){return(null==fa.$$s?this:fa.$$s).$rand(255).$chr()},fa.$$s=this,fa.$$arity=0,fa)).$join().$encode("ASCII-8BIT")},L.$$arity=1);a.def(e,"$rand",D=function(ja){function fa(){b.state++;return a.$$rand.rand(b.$rng)}function na(){var n=ja.begin,k=ja.end;if(n===G||k===G)return G;var t=k-n;if(0>t)return G;if(0===
t)return n;0!==k%1||0!==n%1||ja.excl||t++;return b.$rand(t)+n}var b=this;if(null==ja)return fa();if(ja.$$is_range)return na();if(ja.$$is_number)return 0>=ja&&b.$raise(p(g,"ArgumentError"),"invalid argument - "+ja),0===ja%1?Math.floor(fa()*ja):fa()*ja;ja=p(g,"Opal")["$coerce_to!"](ja,p(g,"Integer"),"to_int");0>=ja&&b.$raise(p(g,"ArgumentError"),"invalid argument - "+ja);return Math.floor(fa()*ja)},D.$$arity=-1);return(a.defs(e,"$generator=",Q=function(ja){a.$$rand=ja;return x(this["$const_defined?"]("DEFAULT"))?
p(g,"DEFAULT").$reseed():this.$const_set("DEFAULT",this.$new(this.$new_seed()))},Q.$$arity=1),G)&&"generator="}(v[0],null,v)};
Opal.modules["corelib/random/mersenne_twister"]=function(a){function v(E,B){return"number"===typeof E&&"number"===typeof B?E-B:E["$-"](B)}var G=[],p=a.nil,r=a.$$,x=a.klass,q=a.send,e=p;a.add_stubs(["$generator=","$-"]);e=function(){function E(g,d){return(g&2147483648|d&2147483647)>>>1^(d&1?2567483615:0)}function B(g){if(0>=--g.left){var d=0,y=g.state,c;g.left=624;g.next=0;for(c=228;--c;d++)y[d]=y[d+397]^E(y[d+0],y[d+1]);for(c=397;--c;d++)y[d]=y[d+-227]^E(y[d+0],y[d+1]);y[d]=y[d+-227]^E(y[d+0],y[0])}g=
g.state[g.next++];g^=g>>>11;g^=g<<7&2636928640;g^=g<<15&4022730752;return(g^g>>>18)>>>0}return{genrand_real:function(g){var d=B(g);g=B(g);return 1.1102230246251565E-16*(67108864*(d>>>5)+(g>>>6))},init:function(g){var d={left:0,next:624,state:Array(624)};d.state[0]=g>>>0;for(g=1;624>g;g++)d.state[g]=1812433253*(d.state[g-1]^d.state[g-1]>>30>>>0)+g,d.state[g]&=4294967295;d.left=1;d.next=624;return d}}}();return function(E,$super,g){E=x(E,$super,"Random");g=[E].concat(g);var d=p,y=Number.MAX_SAFE_INTEGER||
Math.pow(2,53)-1;a.const_set(g[0],"MERSENNE_TWISTER_GENERATOR",{new_seed:function(){return Math.round(Math.random()*y)},reseed:function(c){return e.init(c)},rand:function(c){return e.genrand_real(c)}});d=[r(g,"MERSENNE_TWISTER_GENERATOR")];q(E,"generator=",a.to_a(d));return d[v(d.length,1)]}(G[0],null,G)};
Opal.modules["corelib/unsupported"]=function(a){function v(d){switch(a.config.unsupported_features_severity){case "error":e(x,"Kernel").$raise(e(x,"NotImplementedError"),d);break;case "warning":g[d]||(g[d]=!0,r.$warn(d))}}var G,p,r=a.top,x=[],q=a.nil,e=a.$$,E=a.klass,B=a.module;a.add_stubs(["$raise","$warn","$%"]);var g={};(function(d,$super,c){d=E(d,$super,"String");var m=[d].concat(c),J,f,h,L,D,Q,ja,fa,na,b,n,k,t,z,F,H,K,da,va,Na,wa,Aa,Ka;a.def(d,"$<<",J=function(oa){a.slice.call(arguments,0,arguments.length);
return this.$raise(e(m,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("<<"))},J.$$arity=-1);a.def(d,"$capitalize!",f=function(oa){a.slice.call(arguments,0,arguments.length);return this.$raise(e(m,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("capitalize!"))},f.$$arity=-1);a.def(d,"$chomp!",h=function(oa){a.slice.call(arguments,0,arguments.length);return this.$raise(e(m,"NotImplementedError"),
"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("chomp!"))},h.$$arity=-1);a.def(d,"$chop!",L=function(oa){a.slice.call(arguments,0,arguments.length);return this.$raise(e(m,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("chop!"))},L.$$arity=-1);a.def(d,"$downcase!",D=function(oa){a.slice.call(arguments,0,arguments.length);return this.$raise(e(m,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("downcase!"))},
D.$$arity=-1);a.def(d,"$gsub!",Q=function(oa){a.slice.call(arguments,0,arguments.length);return this.$raise(e(m,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("gsub!"))},Q.$$arity=-1);a.def(d,"$lstrip!",ja=function(oa){a.slice.call(arguments,0,arguments.length);return this.$raise(e(m,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("lstrip!"))},ja.$$arity=-1);a.def(d,"$next!",fa=function(oa){a.slice.call(arguments,
0,arguments.length);return this.$raise(e(m,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("next!"))},fa.$$arity=-1);a.def(d,"$reverse!",na=function(oa){a.slice.call(arguments,0,arguments.length);return this.$raise(e(m,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("reverse!"))},na.$$arity=-1);a.def(d,"$slice!",b=function(oa){a.slice.call(arguments,0,arguments.length);return this.$raise(e(m,
"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("slice!"))},b.$$arity=-1);a.def(d,"$squeeze!",n=function(oa){a.slice.call(arguments,0,arguments.length);return this.$raise(e(m,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("squeeze!"))},n.$$arity=-1);a.def(d,"$strip!",k=function(oa){a.slice.call(arguments,0,arguments.length);return this.$raise(e(m,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("strip!"))},
k.$$arity=-1);a.def(d,"$sub!",t=function(oa){a.slice.call(arguments,0,arguments.length);return this.$raise(e(m,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("sub!"))},t.$$arity=-1);a.def(d,"$succ!",z=function(oa){a.slice.call(arguments,0,arguments.length);return this.$raise(e(m,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("succ!"))},z.$$arity=-1);a.def(d,"$swapcase!",F=function(oa){a.slice.call(arguments,
0,arguments.length);return this.$raise(e(m,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("swapcase!"))},F.$$arity=-1);a.def(d,"$tr!",H=function(oa){a.slice.call(arguments,0,arguments.length);return this.$raise(e(m,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("tr!"))},H.$$arity=-1);a.def(d,"$tr_s!",K=function(oa){a.slice.call(arguments,0,arguments.length);return this.$raise(e(m,
"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("tr_s!"))},K.$$arity=-1);a.def(d,"$upcase!",da=function(oa){a.slice.call(arguments,0,arguments.length);return this.$raise(e(m,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("upcase!"))},da.$$arity=-1);a.def(d,"$prepend",va=function(oa){a.slice.call(arguments,0,arguments.length);return this.$raise(e(m,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("prepend"))},
va.$$arity=-1);a.def(d,"$[]=",Na=function(oa){a.slice.call(arguments,0,arguments.length);return this.$raise(e(m,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("[]="))},Na.$$arity=-1);a.def(d,"$clear",wa=function(oa){a.slice.call(arguments,0,arguments.length);return this.$raise(e(m,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("clear"))},wa.$$arity=-1);a.def(d,"$encode!",Aa=function(oa){a.slice.call(arguments,
0,arguments.length);return this.$raise(e(m,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("encode!"))},Aa.$$arity=-1);return(a.def(d,"$unicode_normalize!",Ka=function(oa){a.slice.call(arguments,0,arguments.length);return this.$raise(e(m,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("unicode_normalize!"))},Ka.$$arity=-1),q)&&"unicode_normalize!"})(x[0],null,x);(function(d,y){d=B(d,
"Kernel");[d].concat(y);var c,m;a.def(d,"$freeze",c=function(){v("Object freezing is not supported by Opal");return this},c.$$arity=0);a.def(d,"$frozen?",m=function(){v("Object freezing is not supported by Opal");return!1},m.$$arity=0)})(x[0],x);(function(d,y){d=B(d,"Kernel");[d].concat(y);var c,m,J;a.def(d,"$taint",c=function(){v("Object tainting is not supported by Opal");return this},c.$$arity=0);a.def(d,"$untaint",m=function(){v("Object tainting is not supported by Opal");return this},m.$$arity=
0);a.def(d,"$tainted?",J=function(){v("Object tainting is not supported by Opal");return!1},J.$$arity=0)})(x[0],x);(function(d,$super,c){d=E(d,$super,"Module");[d].concat(c);var m,J,f,h;a.def(d,"$public",m=function(L){0===a.slice.call(arguments,0,arguments.length).length&&(this.$$module_function=!1);return q},m.$$arity=-1);a.alias(d,"private","public");a.alias(d,"protected","public");a.alias(d,"nesting","public");a.def(d,"$private_class_method",J=function(L){a.slice.call(arguments,0,arguments.length);
return this},J.$$arity=-1);a.alias(d,"public_class_method","private_class_method");a.def(d,"$private_method_defined?",f=function(){return!1},f.$$arity=1);a.def(d,"$private_constant",h=function(L){a.slice.call(arguments,0,arguments.length);return q},h.$$arity=-1);a.alias(d,"protected_method_defined?","private_method_defined?");a.alias(d,"public_instance_methods","instance_methods");a.alias(d,"public_instance_method","instance_method");return a.alias(d,"public_method_defined?","method_defined?")})(x[0],
null,x);(function(d,y){d=B(d,"Kernel");[d].concat(y);var c;a.def(d,"$private_methods",c=function(m){a.slice.call(arguments,0,arguments.length);return[]},c.$$arity=-1);a.alias(d,"private_instance_methods","private_methods")})(x[0],x);(function(d,y){d=B(d,"Kernel");var c=[d].concat(y),m;a.def(d,"$eval",m=function(J){a.slice.call(arguments,0,arguments.length);return this.$raise(e(c,"NotImplementedError"),"To use Kernel#eval, you must first require 'opal-parser'. See https://github.com/opal/opal/blob/"+
(e(c,"RUBY_ENGINE_VERSION")+"/docs/opal_parser.md for details."))},m.$$arity=-1)})(x[0],x);a.defs(r,"$public",G=function(d){a.slice.call(arguments,0,arguments.length);return q},G.$$arity=-1);return(a.defs(r,"$private",p=function(d){a.slice.call(arguments,0,arguments.length);return q},p.$$arity=-1),q)&&"private"};var rb=Opal.top;Opal.add_stubs(["$require"]);rb.$require("opal/base");rb.$require("opal/mini");rb.$require("corelib/kernel/format");rb.$require("corelib/string/encoding");rb.$require("corelib/math");
rb.$require("corelib/complex");rb.$require("corelib/rational");rb.$require("corelib/time");rb.$require("corelib/struct");rb.$require("corelib/io");rb.$require("corelib/main");rb.$require("corelib/dir");rb.$require("corelib/file");rb.$require("corelib/process");rb.$require("corelib/random");rb.$require("corelib/random/mersenne_twister");rb.$require("corelib/unsupported");
(function(a){function v(y,c){return"number"===typeof y&&"number"===typeof c?y+c:y["$+"](c)}function G(y,c){return"number"===typeof y&&"number"===typeof c?y-c:y["$-"](c)}function p(y,c){return"number"===typeof y&&"number"===typeof c?y<c:y["$<"](c)}var r=[],x=a.nil,q=a.$$$,e=a.$$,E=a.klass,B=a.send2,g=a.truthy,d=a.send;a.add_stubs("$include $<=> $attr_reader $nonzero? $d $zero? $new $class $-@ $+@ $=== $coerce $== $> $+ $allocate $join $compact $map $to_proc $downcase $wrap $raise $clone $jd $>> $wday $year $month $day $- $to_s $to_i $< $* $reverse $step $abs $each".split(" "));
return function(y,$super,m){function J(W,ya){return[31,0===W%4&&0!==W%100||0===W%400?29:28,31,30,31,30,31,31,30,31,30,31][ya]}y=E(y,$super,"Date");var f=[y].concat(m),h,L,D,Q,ja,fa,na,b,n,k,t,z,F,H,K,da,va,Na,wa,Aa,Ka,oa,R,sa,ba,ka,Y,S,V,ta,Da,ma,xa,Ha,Ea,Sa,Qa,Oa,kb,lb;y.$$prototype.date=x;y.$include(e(f,"Comparable"));(function(W,$super,Ca){W=E(W,$super,"Infinity");var Va=[W].concat(Ca),hb,cb,$a,ab,za,ua,La,Ra,Ya,Fa,Z;W.$$prototype.d=x;W.$include(e(Va,"Comparable"));a.def(W,"$initialize",hb=function(P){null==
P&&(P=1);return this.d=P["$<=>"](0)},hb.$$arity=-1);W.$attr_reader("d");a.def(W,"$zero?",cb=function(){return!1},cb.$$arity=0);a.def(W,"$finite?",$a=function(){return!1},$a.$$arity=0);a.def(W,"$infinite?",ab=function(){return this.$d()["$nonzero?"]()},ab.$$arity=0);a.def(W,"$nan?",za=function(){return this.$d()["$zero?"]()},za.$$arity=0);a.def(W,"$abs",ua=function(){return this.$class().$new()},ua.$$arity=0);a.def(W,"$-@",La=function(){return this.$class().$new(this.$d()["$-@"]())},La.$$arity=0);
a.def(W,"$+@",Ra=function(){return this.$class().$new(this.$d()["$+@"]())},Ra.$$arity=0);a.def(W,"$<=>",Ya=function(P){var aa,T,ha=this,la=x,l=x,C=x;return function(){la=P;if(e(Va,"Infinity")["$==="](la))return ha.$d()["$<=>"](P.$d());if(e(Va,"Numeric")["$==="](la))return ha.$d();try{return T=P.$coerce(ha),aa=a.to_ary(T),l=null==aa[0]?x:aa[0],C=null==aa[1]?x:aa[1],T,l["$<=>"](C)}catch(M){if(a.rescue(M,[e(Va,"NoMethodError")]))try{return x}finally{a.pop_exception()}else throw M;}}()},Ya.$$arity=1);
a.def(W,"$coerce",Fa=function(P){var aa=Fa.$$p,T;aa&&(Fa.$$p=null);var ha=0;var la=arguments.length;for(T=Array(la);ha<la;ha++)T[ha]=arguments[ha];aa=e(Va,"Numeric")["$==="](P)?[this.$d()["$-@"](),this.$d()]:B(this,a.find_super_dispatcher(this,"coerce",Fa,!1,!0),"coerce",T,aa);return aa},Fa.$$arity=1);return(a.def(W,"$to_f",Z=function(){if(this.d["$=="](0))return 0;var P=this.d;P="number"===typeof P?0<P:P["$>"](0);return g(P)?q(e(Va,"Float"),"INFINITY"):q(e(Va,"Float"),"INFINITY")["$-@"]()},Z.$$arity=
0),x)&&"to_f"})(f[0],e(f,"Numeric"),f);a.const_set(f[0],"JULIAN",e(f,"Infinity").$new());a.const_set(f[0],"GREGORIAN",e(f,"Infinity").$new()["$-@"]());a.const_set(f[0],"ITALY",2299161);a.const_set(f[0],"ENGLAND",2361222);a.const_set(f[0],"MONTHNAMES",v([x],"January February March April May June July August September October November December".split(" ")));a.const_set(f[0],"ABBR_MONTHNAMES","jan feb mar apr may jun jul aug sep oct nov dec".split(" "));a.const_set(f[0],"DAYNAMES","Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "));
a.const_set(f[0],"ABBR_DAYNAMES","Sun Mon Tue Wed Thu Fri Sat".split(" "));(function(W,ya){var Ca=[W].concat(ya),Va,hb,cb,$a;a.alias(W,"civil","new");a.def(W,"$wrap",Va=function(ab){var za=this.$allocate();za.date=ab;return za},Va.$$arity=1);a.def(W,"$parse",hb=function(ab,za){function ua(ca){return ca[1]}function La(ca){return ca[2]}function Ra(ca){return ca[3]}function Ya(ca){return ca[4]}function Fa(ca){return function(w){w=ca(w);return 69<=w?w+1900:w+2E3}}function Z(ca){return function(w){w=ca(w).toLowerCase();
return e(Ca,"ABBR_MONTHNAMES").indexOf(w)+1}}function P(ca){return function(w){w=ca(w);return parseInt(w,10)}}function aa(ca){return function(w){w=ca(w);return d(e(Ca,"MONTHNAMES").$compact(),"map",[],"downcase".$to_proc()).indexOf(w.$downcase())+1}}null==za&&(za=!0);var T=new Date,ha=T.getDate(),la=T.getMonth(),l=T.getFullYear(),C=T.getDay();T=e(Ca,"MONTHNAMES").$compact().$join("|");T=[{regexp:/^(\d{2})$/,year:l,month:la,day:P(ua)},{regexp:/^(\d{3})$/,year:l,month:0,day:P(ua)},{regexp:/^(\d{2})(\d{2})$/,
year:l,month:P(ua),day:P(La)},{regexp:/^(\d{2})(\d{3})$/,year:Fa(P(ua)),month:0,day:P(La)},{regexp:/^(\d{2})(\d{2})(\d{2})$/,year:Fa(P(ua)),month:P(La),day:P(Ra)},{regexp:/^(\d{4})(\d{3})$/,year:P(ua),month:0,day:P(La)},{regexp:/^(\d{4})(\d{2})(\d{2})$/,year:P(ua),month:P(La),day:P(Ra)},{regexp:/^([a-z]{3})[\s\.\/\-](\d{3,4})$/,year:P(La),month:Z(ua),day:1},{regexp:/^(\d{1,2})[\s\.\/\-]([a-z]{3})[\s\.\/\-](\d{3,4})$/i,year:P(Ra),month:Z(La),day:P(ua)},{regexp:/^([a-z]{3})[\s\.\/\-](\d{1,2})[\s\.\/\-](\d{3,4})$/i,
year:P(Ra),month:Z(ua),day:P(La)},{regexp:/^(\d{3,4})[\s\.\/\-]([a-z]{3})[\s\.\/\-](\d{1,2})$/i,year:P(ua),month:Z(La),day:P(Ra)},{regexp:/^(\-?\d{3,4})[\s\.\/\-](\d{1,2})[\s\.\/\-](\d{1,2})$/,year:P(ua),month:P(La),day:P(Ra)},{regexp:/^(\d{2})[\s\.\/\-](\d{1,2})[\s\.\/\-](\d{1,2})$/,year:function(ca){return function(w){w=ca(w);return za?w+2E3:w}}(P(ua)),month:P(La),day:P(Ra)},{regexp:/^(\d{1,2})[\s\.\/\-](\d{1,2})[\s\.\/\-](\-?\d{3,4})$/,year:P(Ra),month:P(La),day:P(ua)},{regexp:new RegExp("^("+
e(Ca,"DAYNAMES").$join("|")+")$","i"),year:l,month:la,day:function(ca){return function(w){w=ca(w);w=d(e(Ca,"DAYNAMES"),"map",[],"downcase".$to_proc()).indexOf(w.$downcase());return ha-C+w}}(ua)},{regexp:new RegExp("^("+T+")[\\s\\.\\/\\-](\\d{1,2})(th|nd|rd)[\\s\\.\\/\\-](\\-?\\d{3,4})$","i"),year:P(Ya),month:aa(ua),day:P(La)},{regexp:new RegExp("^("+T+")[\\s\\.\\/\\-](\\d{1,2})(th|nd|rd)","i"),year:l,month:aa(ua),day:P(La)},{regexp:new RegExp("^(\\d{1,2})(th|nd|rd)[\\s\\.\\/\\-]("+T+")[\\s\\.\\/\\-](\\-?\\d{3,4})$",
"i"),year:P(Ya),month:aa(Ra),day:P(ua)},{regexp:new RegExp("^(\\-?\\d{3,4})[\\s\\.\\/\\-]("+T+")[\\s\\.\\/\\-](\\d{1,2})(th|nd|rd)$","i"),year:P(ua),month:aa(La),day:P(Ra)}];var M;for(M=0;M<T.length;M++)if(l=T[M],la=l.regexp.exec(ab))return ab=l.year,"function"===typeof ab&&(ab=ab(la)),T=l.month,"function"===typeof T&&(T=T(la)-1),l=l.day,"function"===typeof l&&(l=l(la)),la=new Date(ab,T,l),0<=ab&&1970>=ab&&la.setFullYear(ab),this.$wrap(la);return this.$raise(e(Ca,"ArgumentError"),"invalid date")},
hb.$$arity=-2);a.def(W,"$today",cb=function(){return this.$wrap(new Date)},cb.$$arity=0);return(a.def(W,"$gregorian_leap?",$a=function(ab){return 0===(new Date(ab,1,29)).getMonth()-1},$a.$$arity=1),x)&&"gregorian_leap?"})(a.get_singleton_class(y),f);a.def(y,"$initialize",h=function(W,ya,Ca,Va){null==W&&(W=-4712);null==ya&&(ya=1);null==Ca&&(Ca=1);null==Va&&e(f,"ITALY");1582===W&&10===ya&&4<Ca&&15>Ca&&(Ca=4);return this.date=new Date(W,ya-1,Ca)},h.$$arity=-1);a.def(y,"$-",L=function(W){if(W.$$is_number){var ya=
this.$clone();ya.date.setDate(this.date.getDate()-W);return ya}if(W.date)return Math.round((this.date-W.date)/864E5);this.$raise(e(f,"TypeError"))},L.$$arity=1);a.def(y,"$+",D=function(W){if(W.$$is_number){var ya=this.$clone();ya.date.setDate(this.date.getDate()+W);return ya}this.$raise(e(f,"TypeError"))},D.$$arity=1);a.def(y,"$<",Q=function(W){var ya=this.date;W=W.date;ya.setHours(0,0,0,0);W.setHours(0,0,0,0);return ya<W},Q.$$arity=1);a.def(y,"$<=",ja=function(W){var ya=this.date;W=W.date;ya.setHours(0,
0,0,0);W.setHours(0,0,0,0);return ya<=W},ja.$$arity=1);a.def(y,"$>",fa=function(W){var ya=this.date;W=W.date;ya.setHours(0,0,0,0);W.setHours(0,0,0,0);return ya>W},fa.$$arity=1);a.def(y,"$>=",na=function(W){var ya=this.date;W=W.date;ya.setHours(0,0,0,0);W.setHours(0,0,0,0);return ya>=W},na.$$arity=1);a.def(y,"$<=>",b=function(W){if(W.$$is_number)return this.$jd()["$<=>"](W);if(e(f,"Date")["$==="](W)){var ya=this.date;W=W.date;ya.setHours(0,0,0,0);W.setHours(0,0,0,0);return ya<W?-1:ya>W?1:0}return x},
b.$$arity=1);a.def(y,"$>>",n=function(W){W.$$is_number||this.$raise(e(f,"TypeError"));var ya=this.$clone(),Ca=ya.date,Va=Ca.getDate();Ca.setDate(1);Ca.setMonth(Ca.getMonth()+W);Ca.setDate(Math.min(Va,J(Ca.getFullYear(),Ca.getMonth())));return ya},n.$$arity=1);a.def(y,"$<<",k=function(W){W.$$is_number||this.$raise(e(f,"TypeError"));return this["$>>"](-W)},k.$$arity=1);a.alias(y,"eql?","==");a.def(y,"$clone",t=function(){return e(f,"Date").$wrap(new Date(this.date.getTime()))},t.$$arity=0);a.def(y,
"$day",z=function(){return this.date.getDate()},z.$$arity=0);a.def(y,"$friday?",F=function(){return this.$wday()["$=="](5)},F.$$arity=0);a.def(y,"$jd",H=function(){var W=this.date.getMonth()+1,ya=this.date.getDate(),Ca=this.date.getFullYear();var Va=1;1585>=Ca&&(Va=0);var hb=-1*Math.floor(7*(Math.floor((W+9)/12)+Ca)/4);var cb=1;0>W-9&&(cb=-1);cb=Math.floor(Ca+cb*Math.floor(Math.abs(W-9)/7));cb=-1*Math.floor(3*(Math.floor(cb/100)+1)/4);hb=hb+Math.floor(275*W/9)+ya+Va*cb;return hb+1721027+2*Va+367*
Ca-.5+.5},H.$$arity=0);a.def(y,"$julian?",K=function(){return this.date<new Date(1582,9,15,12)},K.$$arity=0);a.def(y,"$monday?",da=function(){return this.$wday()["$=="](1)},da.$$arity=0);a.def(y,"$month",va=function(){return this.date.getMonth()+1},va.$$arity=0);a.def(y,"$next",Na=function(){return v(this,1)},Na.$$arity=0);a.def(y,"$next_day",wa=function(W){null==W&&(W=1);return v(this,W)},wa.$$arity=-1);a.def(y,"$next_month",Aa=function(W){null==W&&(W=1);var ya=this.$clone(),Ca=ya.date,Va=Ca.getDate();
Ca.setDate(1);Ca.setMonth(Ca.getMonth()+W);Ca.setDate(Math.min(Va,J(Ca.getFullYear(),Ca.getMonth())));return ya},Aa.$$arity=-1);a.def(y,"$next_year",Ka=function(W){null==W&&(W=1);return this.$class().$new(v(this.$year(),W),this.$month(),this.$day())},Ka.$$arity=-1);a.def(y,"$prev_day",oa=function(W){null==W&&(W=1);return G(this,W)},oa.$$arity=-1);a.def(y,"$prev_month",R=function(W){null==W&&(W=1);var ya=this.$clone(),Ca=ya.date,Va=Ca.getDate();Ca.setDate(1);Ca.setMonth(Ca.getMonth()-W);Ca.setDate(Math.min(Va,
J(Ca.getFullYear(),Ca.getMonth())));return ya},R.$$arity=-1);a.def(y,"$prev_year",sa=function(W){null==W&&(W=1);return this.$class().$new(G(this.$year(),W),this.$month(),this.$day())},sa.$$arity=-1);a.def(y,"$saturday?",ba=function(){return this.$wday()["$=="](6)},ba.$$arity=0);a.def(y,"$strftime",ka=function(W){null==W&&(W="");return""==W?this.$to_s():this.date.$strftime(W)},ka.$$arity=-1);a.alias(y,"succ","next");a.def(y,"$sunday?",Y=function(){return this.$wday()["$=="](0)},Y.$$arity=0);a.def(y,
"$thursday?",S=function(){return this.$wday()["$=="](4)},S.$$arity=0);a.def(y,"$to_s",V=function(){var W=this.date,ya=W.getFullYear(),Ca=W.getMonth()+1;W=W.getDate();10>Ca&&(Ca="0"+Ca);10>W&&(W="0"+W);return ya+"-"+Ca+"-"+W},V.$$arity=0);a.def(y,"$to_time",ta=function(){return e(f,"Time").$new(this.$year(),this.$month(),this.$day())},ta.$$arity=0);a.def(y,"$to_n",Da=function(){return this.date},Da.$$arity=0);a.def(y,"$tuesday?",ma=function(){return this.$wday()["$=="](2)},ma.$$arity=0);a.def(y,"$step",
xa=function(W,ya){var Ca=xa.$$p,Va=Ca||x,hb,cb,$a=x;$a=$a=x;Ca&&(xa.$$p=null);Ca&&(xa.$$p=null);null==ya&&(ya=1);$a=G(W,this).$to_i();$a=g(p("number"===typeof $a&&"number"===typeof ya?$a*ya:$a["$*"](ya),0))?[]:g(p($a,0))?d(a.Range.$new(0,$a["$-@"](),!1).$step(ya.$abs()),"map",[],"-@".$to_proc()).$reverse():a.Range.$new(0,$a,!1).$step(ya.$abs());$a=d($a,"map",[],(hb=function(ab){var za=null==hb.$$s?this:hb.$$s;null==ab&&(ab=x);return v(za,ab)},hb.$$s=this,hb.$$arity=1,hb));return Va!==x?(d($a,"each",
[],(cb=function(ab){null==ab&&(ab=x);return a.yield1(Va,ab)},cb.$$s=this,cb.$$arity=1,cb)),this):$a},xa.$$arity=-2);a.def(y,"$upto",Ha=function(W){var ya=Ha.$$p,Ca=ya||x;ya&&(Ha.$$p=null);ya&&(Ha.$$p=null);return d(this,"step",[W,1],Ca.$to_proc())},Ha.$$arity=1);a.def(y,"$downto",Ea=function(W){var ya=Ea.$$p,Ca=ya||x;ya&&(Ea.$$p=null);ya&&(Ea.$$p=null);return d(this,"step",[W,-1],Ca.$to_proc())},Ea.$$arity=1);a.def(y,"$wday",Sa=function(){return this.date.getDay()},Sa.$$arity=0);a.def(y,"$wednesday?",
Qa=function(){return this.$wday()["$=="](3)},Qa.$$arity=0);a.def(y,"$year",Oa=function(){return this.date.getFullYear()},Oa.$$arity=0);a.def(y,"$cwday",kb=function(){return this.date.getDay()||7},kb.$$arity=0);a.def(y,"$cweek",lb=function(){var W=new Date(this.date);W.setHours(0,0,0);W.setDate(W.getDate()+4-(W.getDay()||7));return Math.ceil(((W-new Date(W.getFullYear(),0,1))/864E5+1)/7)},lb.$$arity=0)}(r[0],null,r)})(Opal);
(function(a){function v(d,y){return"number"===typeof d&&"number"===typeof y?d-y:d["$-"](y)}var G=[],p=a.nil,r=a.$$$,x=a.$$,q=a.module,e=a.klass,E=a.send,B=a.hash2,g=a.truthy;a.add_stubs("$raise $new $push $[]= $- $[] $create_id $json_create $const_get $attr_accessor $create_id= $=== $parse $generate $from_object $merge $to_json $responds_to? $to_io $write $to_s $to_a $strftime".split(" "));(function(d,y){function c(k){try{return JSON.parse(k)}catch(t){J.$raise(r(x(f,"JSON"),"ParserError"),t.message)}}
function m(k,t){var z;switch(typeof k){case "string":return k;case "number":return k;case "boolean":return!!k;case "null":return p;case "object":if(!k)return p;if(k.$$is_array){var F=t.array_class.$new();var H=0;for(z=k.length;H<z;H++)F.$push(m(k[H],t));return F}H=t.object_class.$new();for(z in k)n.call(k,z)&&(b=[z,m(k[z],t)],E(H,"[]=",a.to_a(b)),b[v(b.length,1)]);return t.parse||(F=H["$[]"](x(f,"JSON").$create_id()))==p?H:r("::","Object").$const_get(F).$json_create(H)}}var J=q(d,"JSON"),f=[J].concat(y),
h,L,D,Q,ja,fa,na,b=p;(function(k,$super,z){[e(k,$super,"JSONError")].concat(z);return p})(f[0],x(f,"StandardError"),f);(function(k,$super,z){[e(k,$super,"ParserError")].concat(z);return p})(f[0],x(f,"JSONError"),f);var n=a.hasOwnProperty;(function(k,t){[k].concat(t);return k.$attr_accessor("create_id")})(a.get_singleton_class(J),f);b=["json_class"];E(J,"create_id=",a.to_a(b));b[v(b.length,1)];a.defs(J,"$[]",h=function(k,t){null==t&&(t=B([],{}));return g(x(f,"String")["$==="](k))?this.$parse(k,t):
this.$generate(k,t)},h.$$arity=-2);a.defs(J,"$parse",L=function(k,t){null==t&&(t=B([],{}));return this.$from_object(c(k),t.$merge(B(["parse"],{parse:!0})))},L.$$arity=-2);a.defs(J,"$parse!",D=function(k,t){null==t&&(t=B([],{}));return this.$parse(k,t)},D.$$arity=-2);a.defs(J,"$load",Q=function(k,t){null==t&&(t=B([],{}));return this.$from_object(c(k),t)},Q.$$arity=-2);a.defs(J,"$from_object",ja=function(k,t){var z;null==t&&(t=B([],{}));g(z=t["$[]"]("object_class"))?z:(z=["object_class",x(f,"Hash")],
E(t,"[]=",a.to_a(z)),z[v(z.length,1)]);g(z=t["$[]"]("array_class"))?z:(z=["array_class",x(f,"Array")],E(t,"[]=",a.to_a(z)),z[v(z.length,1)]);return m(k,t.$$smap)},ja.$$arity=-2);a.defs(J,"$generate",fa=function(k,t){null==t&&(t=B([],{}));return k.$to_json(t)},fa.$$arity=-2);a.defs(J,"$dump",na=function(k,t){null==t&&(t=p);k=this.$generate(k);return g(t)?(g(t["$responds_to?"]("to_io"))&&(t=t.$to_io()),t.$write(k),t):k},na.$$arity=-2)})(G[0],G);(function(d,$super,c){d=e(d,$super,"Object");[d].concat(c);
var m;return(a.def(d,"$to_json",m=function(){return this.$to_s().$to_json()},m.$$arity=0),p)&&"to_json"})(G[0],null,G);(function(d,y){d=q(d,"Enumerable");[d].concat(y);var c;a.def(d,"$to_json",c=function(){return this.$to_a().$to_json()},c.$$arity=0)})(G[0],G);(function(d,$super,c){d=e(d,$super,"Array");[d].concat(c);var m;return(a.def(d,"$to_json",m=function(){for(var J=[],f=0,h=this.length;f<h;f++)J.push(this[f].$to_json());return"["+J.join(", ")+"]"},m.$$arity=0),p)&&"to_json"})(G[0],null,G);(function(d,
$super,c){d=e(d,$super,"Boolean");[d].concat(c);var m;return(a.def(d,"$to_json",m=function(){return 1==this?"true":"false"},m.$$arity=0),p)&&"to_json"})(G[0],null,G);(function(d,$super,c){d=e(d,$super,"Hash");[d].concat(c);var m;return(a.def(d,"$to_json",m=function(){for(var J=[],f=0,h=this.$$keys,L=h.length,D,Q;f<L;f++)D=h[f],D.$$is_string?Q=this.$$smap[D]:(Q=D.value,D=D.key),J.push(D.$to_s().$to_json()+":"+Q.$to_json());return"{"+J.join(", ")+"}"},m.$$arity=0),p)&&"to_json"})(G[0],null,G);(function(d,
$super,c){d=e(d,$super,"NilClass");[d].concat(c);var m;return(a.def(d,"$to_json",m=function(){return"null"},m.$$arity=0),p)&&"to_json"})(G[0],null,G);(function(d,$super,c){d=e(d,$super,"Numeric");[d].concat(c);var m;return(a.def(d,"$to_json",m=function(){return this.toString()},m.$$arity=0),p)&&"to_json"})(G[0],null,G);(function(d,$super,c){d=e(d,$super,"String");[d].concat(c);return a.alias(d,"to_json","inspect")})(G[0],null,G);(function(d,$super,c){d=e(d,$super,"Time");[d].concat(c);var m;return(a.def(d,
"$to_json",m=function(){return this.$strftime("%FT%T%z").$to_json()},m.$$arity=0),p)&&"to_json"})(G[0],null,G);return function(d,$super,c){d=e(d,$super,"Date");[d].concat(c);var m,J;a.def(d,"$to_json",m=function(){return this.$to_s().$to_json()},m.$$arity=0);return(a.def(d,"$as_json",J=function(){return this.$to_s()},J.$$arity=0),p)&&"as_json"}(G[0],null,G)})(Opal);
Opal.modules.json=function(a){function v(d,y){return"number"===typeof d&&"number"===typeof y?d-y:d["$-"](y)}var G=[],p=a.nil,r=a.$$$,x=a.$$,q=a.module,e=a.klass,E=a.send,B=a.hash2,g=a.truthy;a.add_stubs("$raise $new $push $[]= $- $[] $create_id $json_create $const_get $attr_accessor $create_id= $=== $parse $generate $from_object $merge $to_json $responds_to? $to_io $write $to_s $to_a $strftime".split(" "));(function(d,y){function c(k){try{return JSON.parse(k)}catch(t){J.$raise(r(x(f,"JSON"),"ParserError"),
t.message)}}function m(k,t){var z;switch(typeof k){case "string":return k;case "number":return k;case "boolean":return!!k;case "null":return p;case "object":if(!k)return p;if(k.$$is_array){var F=t.array_class.$new();var H=0;for(z=k.length;H<z;H++)F.$push(m(k[H],t));return F}H=t.object_class.$new();for(z in k)n.call(k,z)&&(b=[z,m(k[z],t)],E(H,"[]=",a.to_a(b)),b[v(b.length,1)]);return t.parse||(F=H["$[]"](x(f,"JSON").$create_id()))==p?H:r("::","Object").$const_get(F).$json_create(H)}}var J=q(d,"JSON"),
f=[J].concat(y),h,L,D,Q,ja,fa,na,b=p;(function(k,$super,z){[e(k,$super,"JSONError")].concat(z);return p})(f[0],x(f,"StandardError"),f);(function(k,$super,z){[e(k,$super,"ParserError")].concat(z);return p})(f[0],x(f,"JSONError"),f);var n=a.hasOwnProperty;(function(k,t){[k].concat(t);return k.$attr_accessor("create_id")})(a.get_singleton_class(J),f);b=["json_class"];E(J,"create_id=",a.to_a(b));b[v(b.length,1)];a.defs(J,"$[]",h=function(k,t){null==t&&(t=B([],{}));return g(x(f,"String")["$==="](k))?this.$parse(k,
t):this.$generate(k,t)},h.$$arity=-2);a.defs(J,"$parse",L=function(k,t){null==t&&(t=B([],{}));return this.$from_object(c(k),t.$merge(B(["parse"],{parse:!0})))},L.$$arity=-2);a.defs(J,"$parse!",D=function(k,t){null==t&&(t=B([],{}));return this.$parse(k,t)},D.$$arity=-2);a.defs(J,"$load",Q=function(k,t){null==t&&(t=B([],{}));return this.$from_object(c(k),t)},Q.$$arity=-2);a.defs(J,"$from_object",ja=function(k,t){var z;null==t&&(t=B([],{}));g(z=t["$[]"]("object_class"))?z:(z=["object_class",x(f,"Hash")],
E(t,"[]=",a.to_a(z)),z[v(z.length,1)]);g(z=t["$[]"]("array_class"))?z:(z=["array_class",x(f,"Array")],E(t,"[]=",a.to_a(z)),z[v(z.length,1)]);return m(k,t.$$smap)},ja.$$arity=-2);a.defs(J,"$generate",fa=function(k,t){null==t&&(t=B([],{}));return k.$to_json(t)},fa.$$arity=-2);a.defs(J,"$dump",na=function(k,t){null==t&&(t=p);k=this.$generate(k);return g(t)?(g(t["$responds_to?"]("to_io"))&&(t=t.$to_io()),t.$write(k),t):k},na.$$arity=-2)})(G[0],G);(function(d,$super,c){d=e(d,$super,"Object");[d].concat(c);
var m;return(a.def(d,"$to_json",m=function(){return this.$to_s().$to_json()},m.$$arity=0),p)&&"to_json"})(G[0],null,G);(function(d,y){d=q(d,"Enumerable");[d].concat(y);var c;a.def(d,"$to_json",c=function(){return this.$to_a().$to_json()},c.$$arity=0)})(G[0],G);(function(d,$super,c){d=e(d,$super,"Array");[d].concat(c);var m;return(a.def(d,"$to_json",m=function(){for(var J=[],f=0,h=this.length;f<h;f++)J.push(this[f].$to_json());return"["+J.join(", ")+"]"},m.$$arity=0),p)&&"to_json"})(G[0],null,G);(function(d,
$super,c){d=e(d,$super,"Boolean");[d].concat(c);var m;return(a.def(d,"$to_json",m=function(){return 1==this?"true":"false"},m.$$arity=0),p)&&"to_json"})(G[0],null,G);(function(d,$super,c){d=e(d,$super,"Hash");[d].concat(c);var m;return(a.def(d,"$to_json",m=function(){for(var J=[],f=0,h=this.$$keys,L=h.length,D,Q;f<L;f++)D=h[f],D.$$is_string?Q=this.$$smap[D]:(Q=D.value,D=D.key),J.push(D.$to_s().$to_json()+":"+Q.$to_json());return"{"+J.join(", ")+"}"},m.$$arity=0),p)&&"to_json"})(G[0],null,G);(function(d,
$super,c){d=e(d,$super,"NilClass");[d].concat(c);var m;return(a.def(d,"$to_json",m=function(){return"null"},m.$$arity=0),p)&&"to_json"})(G[0],null,G);(function(d,$super,c){d=e(d,$super,"Numeric");[d].concat(c);var m;return(a.def(d,"$to_json",m=function(){return this.toString()},m.$$arity=0),p)&&"to_json"})(G[0],null,G);(function(d,$super,c){d=e(d,$super,"String");[d].concat(c);return a.alias(d,"to_json","inspect")})(G[0],null,G);(function(d,$super,c){d=e(d,$super,"Time");[d].concat(c);var m;return(a.def(d,
"$to_json",m=function(){return this.$strftime("%FT%T%z").$to_json()},m.$$arity=0),p)&&"to_json"})(G[0],null,G);return function(d,$super,c){d=e(d,$super,"Date");[d].concat(c);var m,J;a.def(d,"$to_json",m=function(){return this.$to_s().$to_json()},m.$$arity=0);return(a.def(d,"$as_json",J=function(){return this.$to_s()},J.$$arity=0),p)&&"as_json"}(G[0],null,G)};
Opal.modules.date=function(a){function v(y,c){return"number"===typeof y&&"number"===typeof c?y+c:y["$+"](c)}function G(y,c){return"number"===typeof y&&"number"===typeof c?y-c:y["$-"](c)}function p(y,c){return"number"===typeof y&&"number"===typeof c?y<c:y["$<"](c)}var r=[],x=a.nil,q=a.$$$,e=a.$$,E=a.klass,B=a.send2,g=a.truthy,d=a.send;a.add_stubs("$include $<=> $attr_reader $nonzero? $d $zero? $new $class $-@ $+@ $=== $coerce $== $> $+ $allocate $join $compact $map $to_proc $downcase $wrap $raise $clone $jd $>> $wday $year $month $day $- $to_s $to_i $< $* $reverse $step $abs $each".split(" "));
return function(y,$super,m){function J(W,ya){return[31,0===W%4&&0!==W%100||0===W%400?29:28,31,30,31,30,31,31,30,31,30,31][ya]}y=E(y,$super,"Date");var f=[y].concat(m),h,L,D,Q,ja,fa,na,b,n,k,t,z,F,H,K,da,va,Na,wa,Aa,Ka,oa,R,sa,ba,ka,Y,S,V,ta,Da,ma,xa,Ha,Ea,Sa,Qa,Oa,kb,lb;y.$$prototype.date=x;y.$include(e(f,"Comparable"));(function(W,$super,Ca){W=E(W,$super,"Infinity");var Va=[W].concat(Ca),hb,cb,$a,ab,za,ua,La,Ra,Ya,Fa,Z;W.$$prototype.d=x;W.$include(e(Va,"Comparable"));a.def(W,"$initialize",hb=function(P){null==
P&&(P=1);return this.d=P["$<=>"](0)},hb.$$arity=-1);W.$attr_reader("d");a.def(W,"$zero?",cb=function(){return!1},cb.$$arity=0);a.def(W,"$finite?",$a=function(){return!1},$a.$$arity=0);a.def(W,"$infinite?",ab=function(){return this.$d()["$nonzero?"]()},ab.$$arity=0);a.def(W,"$nan?",za=function(){return this.$d()["$zero?"]()},za.$$arity=0);a.def(W,"$abs",ua=function(){return this.$class().$new()},ua.$$arity=0);a.def(W,"$-@",La=function(){return this.$class().$new(this.$d()["$-@"]())},La.$$arity=0);
a.def(W,"$+@",Ra=function(){return this.$class().$new(this.$d()["$+@"]())},Ra.$$arity=0);a.def(W,"$<=>",Ya=function(P){var aa,T,ha=this,la=x,l=x,C=x;return function(){la=P;if(e(Va,"Infinity")["$==="](la))return ha.$d()["$<=>"](P.$d());if(e(Va,"Numeric")["$==="](la))return ha.$d();try{return T=P.$coerce(ha),aa=a.to_ary(T),l=null==aa[0]?x:aa[0],C=null==aa[1]?x:aa[1],T,l["$<=>"](C)}catch(M){if(a.rescue(M,[e(Va,"NoMethodError")]))try{return x}finally{a.pop_exception()}else throw M;}}()},Ya.$$arity=1);
a.def(W,"$coerce",Fa=function(P){var aa=Fa.$$p,T;aa&&(Fa.$$p=null);var ha=0;var la=arguments.length;for(T=Array(la);ha<la;ha++)T[ha]=arguments[ha];aa=e(Va,"Numeric")["$==="](P)?[this.$d()["$-@"](),this.$d()]:B(this,a.find_super_dispatcher(this,"coerce",Fa,!1,!0),"coerce",T,aa);return aa},Fa.$$arity=1);return(a.def(W,"$to_f",Z=function(){if(this.d["$=="](0))return 0;var P=this.d;P="number"===typeof P?0<P:P["$>"](0);return g(P)?q(e(Va,"Float"),"INFINITY"):q(e(Va,"Float"),"INFINITY")["$-@"]()},Z.$$arity=
0),x)&&"to_f"})(f[0],e(f,"Numeric"),f);a.const_set(f[0],"JULIAN",e(f,"Infinity").$new());a.const_set(f[0],"GREGORIAN",e(f,"Infinity").$new()["$-@"]());a.const_set(f[0],"ITALY",2299161);a.const_set(f[0],"ENGLAND",2361222);a.const_set(f[0],"MONTHNAMES",v([x],"January February March April May June July August September October November December".split(" ")));a.const_set(f[0],"ABBR_MONTHNAMES","jan feb mar apr may jun jul aug sep oct nov dec".split(" "));a.const_set(f[0],"DAYNAMES","Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "));
a.const_set(f[0],"ABBR_DAYNAMES","Sun Mon Tue Wed Thu Fri Sat".split(" "));(function(W,ya){var Ca=[W].concat(ya),Va,hb,cb,$a;a.alias(W,"civil","new");a.def(W,"$wrap",Va=function(ab){var za=this.$allocate();za.date=ab;return za},Va.$$arity=1);a.def(W,"$parse",hb=function(ab,za){function ua(ca){return ca[1]}function La(ca){return ca[2]}function Ra(ca){return ca[3]}function Ya(ca){return ca[4]}function Fa(ca){return function(w){w=ca(w);return 69<=w?w+1900:w+2E3}}function Z(ca){return function(w){w=ca(w).toLowerCase();
return e(Ca,"ABBR_MONTHNAMES").indexOf(w)+1}}function P(ca){return function(w){w=ca(w);return parseInt(w,10)}}function aa(ca){return function(w){w=ca(w);return d(e(Ca,"MONTHNAMES").$compact(),"map",[],"downcase".$to_proc()).indexOf(w.$downcase())+1}}null==za&&(za=!0);var T=new Date,ha=T.getDate(),la=T.getMonth(),l=T.getFullYear(),C=T.getDay();T=e(Ca,"MONTHNAMES").$compact().$join("|");T=[{regexp:/^(\d{2})$/,year:l,month:la,day:P(ua)},{regexp:/^(\d{3})$/,year:l,month:0,day:P(ua)},{regexp:/^(\d{2})(\d{2})$/,
year:l,month:P(ua),day:P(La)},{regexp:/^(\d{2})(\d{3})$/,year:Fa(P(ua)),month:0,day:P(La)},{regexp:/^(\d{2})(\d{2})(\d{2})$/,year:Fa(P(ua)),month:P(La),day:P(Ra)},{regexp:/^(\d{4})(\d{3})$/,year:P(ua),month:0,day:P(La)},{regexp:/^(\d{4})(\d{2})(\d{2})$/,year:P(ua),month:P(La),day:P(Ra)},{regexp:/^([a-z]{3})[\s\.\/\-](\d{3,4})$/,year:P(La),month:Z(ua),day:1},{regexp:/^(\d{1,2})[\s\.\/\-]([a-z]{3})[\s\.\/\-](\d{3,4})$/i,year:P(Ra),month:Z(La),day:P(ua)},{regexp:/^([a-z]{3})[\s\.\/\-](\d{1,2})[\s\.\/\-](\d{3,4})$/i,
year:P(Ra),month:Z(ua),day:P(La)},{regexp:/^(\d{3,4})[\s\.\/\-]([a-z]{3})[\s\.\/\-](\d{1,2})$/i,year:P(ua),month:Z(La),day:P(Ra)},{regexp:/^(\-?\d{3,4})[\s\.\/\-](\d{1,2})[\s\.\/\-](\d{1,2})$/,year:P(ua),month:P(La),day:P(Ra)},{regexp:/^(\d{2})[\s\.\/\-](\d{1,2})[\s\.\/\-](\d{1,2})$/,year:function(ca){return function(w){w=ca(w);return za?w+2E3:w}}(P(ua)),month:P(La),day:P(Ra)},{regexp:/^(\d{1,2})[\s\.\/\-](\d{1,2})[\s\.\/\-](\-?\d{3,4})$/,year:P(Ra),month:P(La),day:P(ua)},{regexp:new RegExp("^("+
e(Ca,"DAYNAMES").$join("|")+")$","i"),year:l,month:la,day:function(ca){return function(w){w=ca(w);w=d(e(Ca,"DAYNAMES"),"map",[],"downcase".$to_proc()).indexOf(w.$downcase());return ha-C+w}}(ua)},{regexp:new RegExp("^("+T+")[\\s\\.\\/\\-](\\d{1,2})(th|nd|rd)[\\s\\.\\/\\-](\\-?\\d{3,4})$","i"),year:P(Ya),month:aa(ua),day:P(La)},{regexp:new RegExp("^("+T+")[\\s\\.\\/\\-](\\d{1,2})(th|nd|rd)","i"),year:l,month:aa(ua),day:P(La)},{regexp:new RegExp("^(\\d{1,2})(th|nd|rd)[\\s\\.\\/\\-]("+T+")[\\s\\.\\/\\-](\\-?\\d{3,4})$",
"i"),year:P(Ya),month:aa(Ra),day:P(ua)},{regexp:new RegExp("^(\\-?\\d{3,4})[\\s\\.\\/\\-]("+T+")[\\s\\.\\/\\-](\\d{1,2})(th|nd|rd)$","i"),year:P(ua),month:aa(La),day:P(Ra)}];var M;for(M=0;M<T.length;M++)if(l=T[M],la=l.regexp.exec(ab))return ab=l.year,"function"===typeof ab&&(ab=ab(la)),T=l.month,"function"===typeof T&&(T=T(la)-1),l=l.day,"function"===typeof l&&(l=l(la)),la=new Date(ab,T,l),0<=ab&&1970>=ab&&la.setFullYear(ab),this.$wrap(la);return this.$raise(e(Ca,"ArgumentError"),"invalid date")},
hb.$$arity=-2);a.def(W,"$today",cb=function(){return this.$wrap(new Date)},cb.$$arity=0);return(a.def(W,"$gregorian_leap?",$a=function(ab){return 0===(new Date(ab,1,29)).getMonth()-1},$a.$$arity=1),x)&&"gregorian_leap?"})(a.get_singleton_class(y),f);a.def(y,"$initialize",h=function(W,ya,Ca,Va){null==W&&(W=-4712);null==ya&&(ya=1);null==Ca&&(Ca=1);null==Va&&e(f,"ITALY");1582===W&&10===ya&&4<Ca&&15>Ca&&(Ca=4);return this.date=new Date(W,ya-1,Ca)},h.$$arity=-1);a.def(y,"$-",L=function(W){if(W.$$is_number){var ya=
this.$clone();ya.date.setDate(this.date.getDate()-W);return ya}if(W.date)return Math.round((this.date-W.date)/864E5);this.$raise(e(f,"TypeError"))},L.$$arity=1);a.def(y,"$+",D=function(W){if(W.$$is_number){var ya=this.$clone();ya.date.setDate(this.date.getDate()+W);return ya}this.$raise(e(f,"TypeError"))},D.$$arity=1);a.def(y,"$<",Q=function(W){var ya=this.date;W=W.date;ya.setHours(0,0,0,0);W.setHours(0,0,0,0);return ya<W},Q.$$arity=1);a.def(y,"$<=",ja=function(W){var ya=this.date;W=W.date;ya.setHours(0,
0,0,0);W.setHours(0,0,0,0);return ya<=W},ja.$$arity=1);a.def(y,"$>",fa=function(W){var ya=this.date;W=W.date;ya.setHours(0,0,0,0);W.setHours(0,0,0,0);return ya>W},fa.$$arity=1);a.def(y,"$>=",na=function(W){var ya=this.date;W=W.date;ya.setHours(0,0,0,0);W.setHours(0,0,0,0);return ya>=W},na.$$arity=1);a.def(y,"$<=>",b=function(W){if(W.$$is_number)return this.$jd()["$<=>"](W);if(e(f,"Date")["$==="](W)){var ya=this.date;W=W.date;ya.setHours(0,0,0,0);W.setHours(0,0,0,0);return ya<W?-1:ya>W?1:0}return x},
b.$$arity=1);a.def(y,"$>>",n=function(W){W.$$is_number||this.$raise(e(f,"TypeError"));var ya=this.$clone(),Ca=ya.date,Va=Ca.getDate();Ca.setDate(1);Ca.setMonth(Ca.getMonth()+W);Ca.setDate(Math.min(Va,J(Ca.getFullYear(),Ca.getMonth())));return ya},n.$$arity=1);a.def(y,"$<<",k=function(W){W.$$is_number||this.$raise(e(f,"TypeError"));return this["$>>"](-W)},k.$$arity=1);a.alias(y,"eql?","==");a.def(y,"$clone",t=function(){return e(f,"Date").$wrap(new Date(this.date.getTime()))},t.$$arity=0);a.def(y,
"$day",z=function(){return this.date.getDate()},z.$$arity=0);a.def(y,"$friday?",F=function(){return this.$wday()["$=="](5)},F.$$arity=0);a.def(y,"$jd",H=function(){var W=this.date.getMonth()+1,ya=this.date.getDate(),Ca=this.date.getFullYear();var Va=1;1585>=Ca&&(Va=0);var hb=-1*Math.floor(7*(Math.floor((W+9)/12)+Ca)/4);var cb=1;0>W-9&&(cb=-1);cb=Math.floor(Ca+cb*Math.floor(Math.abs(W-9)/7));cb=-1*Math.floor(3*(Math.floor(cb/100)+1)/4);hb=hb+Math.floor(275*W/9)+ya+Va*cb;return hb+1721027+2*Va+367*
Ca-.5+.5},H.$$arity=0);a.def(y,"$julian?",K=function(){return this.date<new Date(1582,9,15,12)},K.$$arity=0);a.def(y,"$monday?",da=function(){return this.$wday()["$=="](1)},da.$$arity=0);a.def(y,"$month",va=function(){return this.date.getMonth()+1},va.$$arity=0);a.def(y,"$next",Na=function(){return v(this,1)},Na.$$arity=0);a.def(y,"$next_day",wa=function(W){null==W&&(W=1);return v(this,W)},wa.$$arity=-1);a.def(y,"$next_month",Aa=function(W){null==W&&(W=1);var ya=this.$clone(),Ca=ya.date,Va=Ca.getDate();
Ca.setDate(1);Ca.setMonth(Ca.getMonth()+W);Ca.setDate(Math.min(Va,J(Ca.getFullYear(),Ca.getMonth())));return ya},Aa.$$arity=-1);a.def(y,"$next_year",Ka=function(W){null==W&&(W=1);return this.$class().$new(v(this.$year(),W),this.$month(),this.$day())},Ka.$$arity=-1);a.def(y,"$prev_day",oa=function(W){null==W&&(W=1);return G(this,W)},oa.$$arity=-1);a.def(y,"$prev_month",R=function(W){null==W&&(W=1);var ya=this.$clone(),Ca=ya.date,Va=Ca.getDate();Ca.setDate(1);Ca.setMonth(Ca.getMonth()-W);Ca.setDate(Math.min(Va,
J(Ca.getFullYear(),Ca.getMonth())));return ya},R.$$arity=-1);a.def(y,"$prev_year",sa=function(W){null==W&&(W=1);return this.$class().$new(G(this.$year(),W),this.$month(),this.$day())},sa.$$arity=-1);a.def(y,"$saturday?",ba=function(){return this.$wday()["$=="](6)},ba.$$arity=0);a.def(y,"$strftime",ka=function(W){null==W&&(W="");return""==W?this.$to_s():this.date.$strftime(W)},ka.$$arity=-1);a.alias(y,"succ","next");a.def(y,"$sunday?",Y=function(){return this.$wday()["$=="](0)},Y.$$arity=0);a.def(y,
"$thursday?",S=function(){return this.$wday()["$=="](4)},S.$$arity=0);a.def(y,"$to_s",V=function(){var W=this.date,ya=W.getFullYear(),Ca=W.getMonth()+1;W=W.getDate();10>Ca&&(Ca="0"+Ca);10>W&&(W="0"+W);return ya+"-"+Ca+"-"+W},V.$$arity=0);a.def(y,"$to_time",ta=function(){return e(f,"Time").$new(this.$year(),this.$month(),this.$day())},ta.$$arity=0);a.def(y,"$to_n",Da=function(){return this.date},Da.$$arity=0);a.def(y,"$tuesday?",ma=function(){return this.$wday()["$=="](2)},ma.$$arity=0);a.def(y,"$step",
xa=function(W,ya){var Ca=xa.$$p,Va=Ca||x,hb,cb,$a=x;$a=$a=x;Ca&&(xa.$$p=null);Ca&&(xa.$$p=null);null==ya&&(ya=1);$a=G(W,this).$to_i();$a=g(p("number"===typeof $a&&"number"===typeof ya?$a*ya:$a["$*"](ya),0))?[]:g(p($a,0))?d(a.Range.$new(0,$a["$-@"](),!1).$step(ya.$abs()),"map",[],"-@".$to_proc()).$reverse():a.Range.$new(0,$a,!1).$step(ya.$abs());$a=d($a,"map",[],(hb=function(ab){var za=null==hb.$$s?this:hb.$$s;null==ab&&(ab=x);return v(za,ab)},hb.$$s=this,hb.$$arity=1,hb));return Va!==x?(d($a,"each",
[],(cb=function(ab){null==ab&&(ab=x);return a.yield1(Va,ab)},cb.$$s=this,cb.$$arity=1,cb)),this):$a},xa.$$arity=-2);a.def(y,"$upto",Ha=function(W){var ya=Ha.$$p,Ca=ya||x;ya&&(Ha.$$p=null);ya&&(Ha.$$p=null);return d(this,"step",[W,1],Ca.$to_proc())},Ha.$$arity=1);a.def(y,"$downto",Ea=function(W){var ya=Ea.$$p,Ca=ya||x;ya&&(Ea.$$p=null);ya&&(Ea.$$p=null);return d(this,"step",[W,-1],Ca.$to_proc())},Ea.$$arity=1);a.def(y,"$wday",Sa=function(){return this.date.getDay()},Sa.$$arity=0);a.def(y,"$wednesday?",
Qa=function(){return this.$wday()["$=="](3)},Qa.$$arity=0);a.def(y,"$year",Oa=function(){return this.date.getFullYear()},Oa.$$arity=0);a.def(y,"$cwday",kb=function(){return this.date.getDay()||7},kb.$$arity=0);a.def(y,"$cweek",lb=function(){var W=new Date(this.date);W.setHours(0,0,0);W.setDate(W.getDate()+4-(W.getDay()||7));return Math.ceil(((W-new Date(W.getFullYear(),0,1))/864E5+1)/7)},lb.$$arity=0)}(r[0],null,r)};
Opal.modules.todo=function(a){function v(m,J){return"number"===typeof m&&"number"===typeof J?m+J:m["$+"](J)}function G(m,J){return"number"===typeof m&&"number"===typeof J?m>J:m["$>"](J)}function p(m,J){return"number"===typeof m&&"number"===typeof J?m<J:m["$<"](J)}function r(m,J){return"number"===typeof m&&"number"===typeof J?m-J:m["$-"](J)}var x=a.top,q=[],e=a.nil,E=a.$$,B=a.klass,g=a.hash2,d=a.truthy,y=a.range,c=a.send;a.add_stubs("$require $setup $first $[] $=== $nil? $empty? $raise $+ $add $join $> $length $change_state $to_i $list $< $set_priority $due_date $append $rename $!= $delete $add_note $delete_note $show $push $strip $usage $cleanup $colorize $gsub $to_s $private $keys $map $select $parse $strftime $today $downcase $! $each $split $== $chomp $[]= $- $has_key? $sort $generate $match $convert_due_date $postprocess_tags $load_tasks $write_tasks $max $size $filter_tasks $sort_by $start_with? $abs $rjust $kind_of? $to_a $index".split(" "));
x.$require("json");x.$require("date");return function(m,$super,f){m=B(m,$super,"Todo");var h=[m].concat(f),L,D,Q,ja,fa,na,b,n,k,t,z,F,H,K,da,va,Na,wa,Aa,Ka,oa,R,sa;m.$$prototype.text_buffer=m.$$prototype.queries=m.$$prototype.today=m.$$prototype.due_date_days=e;a.const_set(h[0],"COLOR_CODES",g("black red green yellow blue magenta cyan white".split(" "),{black:30,red:31,green:32,yellow:33,blue:34,magenta:35,cyan:36,white:37}));a.const_set(h[0],"STATES",g(["new","done","started","blocked","default"],
{"new":"[ ]",done:"[x]",started:"[>]",blocked:"[!]","default":"[?]"}));a.const_set(h[0],"ORDER",g(["new","done","started","blocked","default"],{"new":3,done:4,started:2,blocked:1,"default":100}));a.const_set(h[0],"COLORS",g(["new","done","started","blocked","default"],{"new":"white",done:"blue",started:"green",blocked:"yellow","default":"magenta"}));a.const_set(h[0],"DATE_FORMAT","%Y-%m-%d");a.const_set(h[0],"DUE_DATE_DAYS_SIMPLE",["today","tomorrow"]);a.const_set(h[0],"DUE_DATE_TAG_PATTERN",/(^| )due:([a-zA-Z0-9-]+)/);
a.const_set(h[0],"CONTEXT_TAG_PATTERN",/(^| )[@+][\w-]+/);a.const_set(h[0],"PRIORITY_FLAG","*");a.const_set(h[0],"TODO_FILE","todo.jsonl");a.def(m,"$execute",L=function(ba){var ka=e,Y=e,S=e,V=e,ta=e,Da=e,ma=e,xa=e,Ha=e,Ea=e,Sa=e,Qa=e;this.text_buffer=[];try{this.$setup(),ka=ba.$first(),Y=d(S=ba["$[]"](y(1,-1,!1)))?S:[],V=ka,"add"["$==="](V)?(d(d(ta=Y["$nil?"]())?ta:Y["$empty?"]())&&this.$raise(v(ka," command requires at least one parameter")),this.$add(Y.$join(" "))):"start"["$==="](V)?d(G(Y.$length(),
0))?this.$change_state(Y.$first().$to_i(),"started",(d(Da=Y["$[]"](y(1,-1,!1)))?Da:[]).$join(" ")):this.$list(e,[":started"]):"done"["$==="](V)?d(G(Y.$length(),0))?this.$change_state(Y.$first().$to_i(),"done",(d(ma=Y["$[]"](y(1,-1,!1)))?ma:[]).$join(" ")):this.$list(e,[":done"]):"block"["$==="](V)?d(G(Y.$length(),0))?this.$change_state(Y.$first().$to_i(),"blocked",(d(xa=Y["$[]"](y(1,-1,!1)))?xa:[]).$join(" ")):this.$list(e,[":blocked"]):"reset"["$==="](V)?d(G(Y.$length(),0))?this.$change_state(Y.$first().$to_i(),
"new",(d(Ha=Y["$[]"](y(1,-1,!1)))?Ha:[]).$join(" ")):this.$list(e,[":new"]):"prio"["$==="](V)?(d(p(Y.$length(),1))&&this.$raise(v(ka," command requires at least one parameter")),this.$set_priority(Y.$first().$to_i(),(d(Ea=Y["$[]"](y(1,-1,!1)))?Ea:[]).$join(" "))):"due"["$==="](V)?(d(p(Y.$length(),1))&&this.$raise(v(ka," command requires at least one parameter")),this.$due_date(Y.$first().$to_i(),(d(Sa=Y["$[]"](y(1,-1,!1)))?Sa:[]).$join(" "))):"append"["$==="](V)?(d(p(Y.$length(),2))&&this.$raise(v(ka,
" command requires at least two parameters")),this.$append(Y.$first().$to_i(),Y["$[]"](y(1,-1,!1)).$join(" "))):"rename"["$==="](V)?(d(p(Y.$length(),2))&&this.$raise(v(ka," command requires at least two parameters")),this.$rename(Y.$first().$to_i(),Y["$[]"](y(1,-1,!1)).$join(" "))):"del"["$==="](V)?(d(Y.$length()["$!="](1))&&this.$raise(v(ka," command requires exactly one parameter")),this.$delete(Y.$first().$to_i())):"note"["$==="](V)?(d(p(Y.$length(),2))&&this.$raise(v(ka," command requires at least two parameters")),
this.$add_note(Y.$first().$to_i(),Y["$[]"](y(1,-1,!1)).$join(" "))):"delnote"["$==="](V)?(d(Y.$length()["$!="](1))&&this.$raise(v(ka," command requires exactly one parameter")),this.$delete_note(Y.$first().$to_i())):"list"["$==="](V)?this.$list(e,Y):"show"["$==="](V)?(d(Y.$length()["$!="](1))&&this.$raise(v(ka," command requires exactly one parameter")),this.$show(Y.$first().$to_i())):"help"["$==="](V)?(d(G(Y.$length(),0))&&this.$raise(v(ka," command has no parameters")),this.text_buffer.$push(this.$usage().$strip())):
"cleanup"["$==="](V)?(d(d(Qa=Y["$nil?"]())?Qa:Y["$empty?"]())&&this.$raise(v(ka," command requires at least one parameter")),this.$cleanup(Y)):this.$list(e,ba)}catch(Oa){if(a.rescue(Oa,[E(h,"StandardError")])){ba=Oa;try{this.text_buffer.$push(""+this.$colorize("ERROR:","red")+" "+ba)}finally{a.pop_exception()}}else throw Oa;}return this},L.$$arity=1);a.def(m,"$to_s",D=function(){var ba=e;return v((d(ba=this.text_buffer)?ba:[]).$join("\n"),"\n")},D.$$arity=0);a.def(m,"$to_html",Q=function(){return v(v('<span class="output">',
this.$to_s().$gsub("&","&amp;").$gsub("<","&lt;").$gsub(">","&gt;").$gsub(" ","&nbsp;").$gsub("\n","<br>").$gsub(/e\[0m/,"</span>").$gsub(/e\[(\d+)m/,'<span class="color color-\\1">')),"</span>")},Q.$$arity=0);m.$private();a.def(m,"$usage",ja=function(){var ba,ka;return"Usage: todo <command> <arguments>\n\nCommands:\n* add <text>                     add new task\n* start <tasknumber> [text]      mark task as started, with optional note\n* done <tasknumber> [text]       mark task as completed, with optional note\n* block <tasknumber> [text]      mark task as blocked, with optional note\n* reset <tasknumber> [text]      reset task to new state, with optional note\n* prio <tasknumber> [text]       toggle high priority flag, with optional note\n* due <tasknumber> [date]        set/unset due date (in YYYY-MM-DD format)\n\n* append <tasknumber> <text>     append text to task title\n* rename <tasknumber> <text>     rename task\n* del <tasknumber>               delete task\n* note <tasknumber> <text>       add note to task\n* delnote <tasknumber>           delete all notes from task\n\n* list <regex> [regex...]        list tasks (only active tasks by default)\n* show <tasknumber>              show all task details\n* cleanup <regex> [regex...]     cleanup completed tasks by regexp\n* help                           this help screen\n\nWith list command the following pre-defined regex patterns can be also used:\n"+
this.queries.$keys().$join(", ")+'\n\nDue dates can be also added via tags in task title: "due:YYYY-MM-DD"\n\nLegend:\n'+c(c(E(h,"STATES"),"select",[],(ba=function(Y){null==Y&&(Y=e);return Y["$!="]("default")},ba.$$s=this,ba.$$arity=2,ba)),"map",[],(ka=function(Y,S){null==Y&&(Y=e);null==S&&(S=e);return""+Y+" "+S},ka.$$s=this,ka.$$arity=2,ka)).$join(", ")+", priority "+E(h,"PRIORITY_FLAG")+"\n\nLocal storage: "+E(h,"TODO_FILE")+"\n"},ja.$$arity=0);a.def(m,"$setup",fa=function(){var ba,ka,Y,S=e;S=e;
this.today=E(h,"Date").$parse(E(h,"Date").$today().$strftime(E(h,"DATE_FORMAT")));S=c(y(0,6,!1),"map",[],(ba=function(V){var ta=null==ba.$$s?this:ba.$$s;null==ta.today&&(ta.today=e);null==V&&(V=e);return v(ta.today,V)},ba.$$s=this,ba.$$arity=1,ba));this.due_date_days=c(S,"map",[],(ka=function(V){null==V&&(V=e);return V.$strftime("%A").$downcase()},ka.$$s=this,ka.$$arity=1,ka));S=c(S,"map",[],(Y=function(V){null==V&&(V=e);return V.$strftime(E(h,"DATE_FORMAT"))},Y.$$s=this,Y.$$arity=1,Y));return this.queries=
g(":active :done :blocked :started :new :all :today :tomorrow :next7days".split(" "),{":active":"state=(new|started|blocked)",":done":"state=done",":blocked":"state=blocked",":started":"state=started",":new":"state=new",":all":"state=\\w+",":today":"due="+S["$[]"](0),":tomorrow":"due="+S["$[]"](1),":next7days":"due=("+S.$join("|")+")"})},fa.$$arity=0);a.def(m,"$load_tasks",na=function(ba){var ka,Y=e,S=e,V=e,ta=e;null==ba&&(ba=e);Y=0;S=g([],{});V=window.localStorage.getItem(E(h,"TODO_FILE"))||"";d(V["$empty?"]()["$!"]())&&
c(V.$split("\n"),"each",[],(ka=function(Da){null==Da&&(Da=e);if(Da.$strip()["$=="](""))return e;Y=v(Y,1);Da=[Y,E(h,"JSON").$parse(Da.$chomp(),g(["symbolize_names"],{symbolize_names:!0}))];c(S,"[]=",a.to_a(Da));return Da[r(Da.length,1)]},ka.$$s=this,ka.$$arity=1,ka));d(d(ta=ba)?S["$has_key?"](ba)["$!"]():ta)&&this.$raise(""+ba+": No such todo");return S},na.$$arity=-1);a.def(m,"$write_tasks",b=function(ba){var ka,Y=e;Y=v(c(ba.$keys().$sort(),"map",[],(ka=function(S){null==S&&(S=e);return E(h,"JSON").$generate(ba["$[]"](S))},
ka.$$s=this,ka.$$arity=1,ka)).$join("\n"),"\n");return window.localStorage.setItem(E(h,"TODO_FILE"),Y)},b.$$arity=1);a.def(m,"$postprocess_tags",n=function(ba){var ka=ba["$[]"]("title").$match(E(h,"DUE_DATE_TAG_PATTERN"));if(d(ka)){var Y=["title",ba["$[]"]("title").$gsub(E(h,"DUE_DATE_TAG_PATTERN"),"")];c(ba,"[]=",a.to_a(Y));Y[r(Y.length,1)];Y=["due",this.$convert_due_date(ka["$[]"](2))];c(ba,"[]=",a.to_a(Y));Y[r(Y.length,1)]}return d(ba["$[]"]("title")["$empty?"]())?this.$raise("title must not be empty"):
e},n.$$arity=1);a.def(m,"$add",k=function(ba){ba=g(["state","title","modified"],{state:"new",title:ba,modified:this.today.$strftime(E(h,"DATE_FORMAT"))});this.$postprocess_tags(ba);var ka=window.localStorage.getItem(E(h,"TODO_FILE"))||"";ka=v(ka,v(E(h,"JSON").$generate(ba),"\n"));window.localStorage.setItem(E(h,"TODO_FILE"),ka);return this.$list()},k.$$arity=1);a.def(m,"$append",t=function(ba,ka){null==ka&&(ka="");var Y=this.$load_tasks(ba);ka=["title",[Y["$[]"](ba)["$[]"]("title"),ka].$join(" ")];
c(Y["$[]"](ba),"[]=",a.to_a(ka));ka[r(ka.length,1)];ka=["modified",this.today.$strftime(E(h,"DATE_FORMAT"))];c(Y["$[]"](ba),"[]=",a.to_a(ka));ka[r(ka.length,1)];this.$postprocess_tags(Y["$[]"](ba));this.$write_tasks(Y);return this.$list(Y)},t.$$arity=-2);a.def(m,"$rename",z=function(ba,ka){var Y=this.$load_tasks(ba);ka=["title",ka];c(Y["$[]"](ba),"[]=",a.to_a(ka));ka[r(ka.length,1)];ka=["modified",this.today.$strftime(E(h,"DATE_FORMAT"))];c(Y["$[]"](ba),"[]=",a.to_a(ka));ka[r(ka.length,1)];this.$postprocess_tags(Y["$[]"](ba));
this.$write_tasks(Y);return this.$list(Y)},z.$$arity=2);a.def(m,"$delete",F=function(ba){var ka=this.$load_tasks(ba);ka.$delete(ba);this.$write_tasks(ka);return this.$list()},F.$$arity=1);a.def(m,"$change_state",H=function(ba,ka,Y){var S=e;null==Y&&(Y=e);var V=this.$load_tasks(ba);ka=["state",ka];c(V["$[]"](ba),"[]=",a.to_a(ka));ka[r(ka.length,1)];ka=["modified",this.today.$strftime(E(h,"DATE_FORMAT"))];c(V["$[]"](ba),"[]=",a.to_a(ka));ka[r(ka.length,1)];d(d(S=Y["$nil?"]()["$!"]())?Y["$empty?"]()["$!"]():
S)&&(S=V["$[]"](ba),d(ka=S["$[]"]("note"))?ka:(ka=["note",[]],c(S,"[]=",a.to_a(ka)),ka[r(ka.length,1)]),V["$[]"](ba)["$[]"]("note").$push(Y));this.$write_tasks(V);return this.$list(V)},H.$$arity=-3);a.def(m,"$set_priority",K=function(ba,ka){var Y=e;null==ka&&(ka=e);var S=this.$load_tasks(ba);var V=["priority",S["$[]"](ba)["$[]"]("priority")["$!"]()];c(S["$[]"](ba),"[]=",a.to_a(V));V[r(V.length,1)];d(S["$[]"](ba)["$[]"]("priority")["$!"]())&&S["$[]"](ba).$delete("priority");V=["modified",this.today.$strftime(E(h,
"DATE_FORMAT"))];c(S["$[]"](ba),"[]=",a.to_a(V));V[r(V.length,1)];d(d(Y=ka["$nil?"]()["$!"]())?ka["$empty?"]()["$!"]():Y)&&(Y=S["$[]"](ba),d(V=Y["$[]"]("note"))?V:(V=["note",[]],c(Y,"[]=",a.to_a(V)),V[r(V.length,1)]),S["$[]"](ba)["$[]"]("note").$push(ka));this.$write_tasks(S);return this.$list(S)},K.$$arity=-2);a.def(m,"$due_date",da=function(ba,ka){null==ka&&(ka="");var Y=this.$load_tasks(ba);ka=["due",this.$convert_due_date(ka)];c(Y["$[]"](ba),"[]=",a.to_a(ka));ka[r(ka.length,1)];d(Y["$[]"](ba)["$[]"]("due")["$nil?"]())&&
Y["$[]"](ba).$delete("due");ka=["modified",this.today.$strftime(E(h,"DATE_FORMAT"))];c(Y["$[]"](ba),"[]=",a.to_a(ka));ka[r(ka.length,1)];this.$write_tasks(Y);return this.$list(Y)},da.$$arity=-2);a.def(m,"$list",va=function(ba,ka){var Y,S,V=e,ta=e,Da=e,ma=e;null==ba&&(ba=e);null==ka&&(ka=e);ba=d(V=ba)?V:this.$load_tasks();ta=[ba.$keys().$max().$to_s().$size(),4].$max();ka=d(d(Da=ka["$nil?"]())?Da:ka["$empty?"]())?[this.queries["$[]"](":active")]:ka;ma=this.$filter_tasks(ba,ka);ma=c(ma,"sort_by",[],
(Y=function(xa,Ha){var Ea=e,Sa=e,Qa=e;null==xa&&(xa=e);null==Ha&&(Ha=e);return[d(d(Ea=Ha["$[]"]("priority"))?Ha["$[]"]("state")["$!="]("done"):Ea)?0:1,E(h,"ORDER")["$[]"](d(Sa=Ha["$[]"]("state"))?Sa:"default"),d(Qa=Ha["$[]"]("due"))?Qa:"n/a",xa]},Y.$$s=this,Y.$$arity=2,Y));c(ma,"each",[],(S=function(xa,Ha){var Ea=null==S.$$s?this:S.$$s,Sa,Qa=e,Oa=e,kb=e,lb=kb=e,W=e,ya=e,Ca=e,Va=Qa=e,hb=e;null==Ea.today&&(Ea.today=e);null==Ea.due_date_days&&(Ea.due_date_days=e);null==Ea.text_buffer&&(Ea.text_buffer=
e);null==xa&&(xa=e);null==Ha&&(Ha=e);Qa=d(Oa=Ha["$[]"]("state"))?Oa:"default";kb=E(h,"COLORS")["$[]"](Qa);kb=Ea.$colorize(E(h,"STATES")["$[]"](Qa),kb);lb=c(Ha["$[]"]("title"),"gsub",[E(h,"CONTEXT_TAG_PATTERN")],(Sa=function(cb){var $a=null==Sa.$$s?this:Sa.$$s;null==cb&&(cb=e);return v(d(cb["$start_with?"](" "))?" ":"",$a.$colorize(cb.$strip(),"cyan"))},Sa.$$s=Ea,Sa.$$arity=1,Sa));W=d(Ha["$[]"]("priority"))?Ea.$colorize(E(h,"PRIORITY_FLAG"),"red"):" ";ya="";d(d(Ca=Ha["$[]"]("due"))?Qa["$!="]("done"):
Ca)&&(Qa=r(E(h,"Date").$parse(Ha["$[]"]("due")),Ea.today).$to_i(),d(p(Qa,0))?ya=Ea.$colorize("("+Qa.$abs()+"d overdue)","red"):d(d(Va=Qa["$=="](0))?Va:Qa["$=="](1))?ya=Ea.$colorize("("+E(h,"DUE_DATE_DAYS_SIMPLE")["$[]"](Qa)+")","yellow"):d(G(Qa,1))&&(ya=Ea.$colorize("("+(d(hb=Ea.due_date_days["$[]"](Qa))?hb:Ha["$[]"]("due"))+")","magenta")),ya=v(" ",ya));return Ea.text_buffer.$push(""+xa.$to_s().$rjust(ta," ")+":"+W+kb+" "+lb+ya)},S.$$s=this,S.$$arity=2,S));return d(ma["$empty?"]())?this.text_buffer.$push("No todos found"):
e},va.$$arity=-1);a.def(m,"$add_note",Na=function(ba,ka){var Y;var S=this.$load_tasks(ba);var V=S["$[]"](ba);d(Y=V["$[]"]("note"))?Y:(Y=["note",[]],c(V,"[]=",a.to_a(Y)),Y[r(Y.length,1)]);S["$[]"](ba)["$[]"]("note").$push(ka);Y=["modified",this.today.$strftime(E(h,"DATE_FORMAT"))];c(S["$[]"](ba),"[]=",a.to_a(Y));Y[r(Y.length,1)];this.$write_tasks(S);return this.$show(ba)},Na.$$arity=2);a.def(m,"$delete_note",wa=function(ba){var ka=this.$load_tasks(ba);ka["$[]"](ba).$delete("note");var Y=["modified",
this.today.$strftime(E(h,"DATE_FORMAT"))];c(ka["$[]"](ba),"[]=",a.to_a(Y));Y[r(Y.length,1)];this.$write_tasks(ka);return this.$show(ba)},wa.$$arity=1);a.def(m,"$show",Aa=function(ba){var ka,Y=e;Y=this.$load_tasks(ba);return c(Y["$[]"](ba),"each",[],(ka=function(S,V){var ta=null==ka.$$s?this:ka.$$s;null==ta.text_buffer&&(ta.text_buffer=e);null==S&&(S=e);null==V&&(V=e);V=d(V["$kind_of?"](E(h,"Array")))?v("\n",V.$join("\n")):V;return ta.text_buffer.$push(""+ta.$colorize(v(S.$to_s().$rjust(10," "),":"),
"cyan")+" "+V)},ka.$$s=this,ka.$$arity=2,ka))},Aa.$$arity=1);a.def(m,"$cleanup",Ka=function(ba){var ka,Y=e,S=e;Y=this.$load_tasks();ba=v([this.queries["$[]"](":done")],ba.$to_a());S=this.$filter_tasks(Y,ba);c(S.$keys(),"each",[],(ka=function(V){null==V&&(V=e);return Y.$delete(V)},ka.$$s=this,ka.$$arity=1,ka));this.$write_tasks(Y);return this.text_buffer.$push("Deleted "+S.$size()+" todo(s)")},Ka.$$arity=1);a.def(m,"$filter_tasks",oa=function(ba,ka){var Y,S=e;S=g([],{});c(ba,"each",[],(Y=function(V,
ta){var Da=null==Y.$$s?this:Y.$$s,ma,xa=e,Ha=e,Ea=e;null==V&&(V=e);null==ta&&(ta=e);xa="state="+ta["$[]"]("state")+" due="+ta["$[]"]("due")+" "+ta["$[]"]("title");Ha=!0;c(ka,"each",[],(ma=function(Sa){var Qa=null==ma.$$s?this:ma.$$s,Oa=e;null==Qa.queries&&(Qa.queries=e);null==Sa&&(Sa=e);return d(a.regexp([d(Oa=Qa.queries["$[]"](Sa))?Oa:Sa],"i").$match(xa))?e:Ha=!1},ma.$$s=Da,ma.$$arity=1,ma));return d(Ha)?(Ea=[V,ta],c(S,"[]=",a.to_a(Ea)),Ea[r(Ea.length,1)]):e},Y.$$s=this,Y.$$arity=2,Y));return S},
oa.$$arity=2);a.def(m,"$colorize",R=function(ba,ka){return"e["+E(h,"COLOR_CODES")["$[]"](ka)+"m"+ba+"e[0m"},R.$$arity=2);return(a.def(m,"$convert_due_date",sa=function(ba){var ka,Y=this,S=e,V=S=e,ta=e,Da=e;null==ba&&(ba="");S=e;S=function(){return d(V=d(ta=Y.due_date_days.$index(ba.$to_s().$downcase()))?ta:E(h,"DUE_DATE_DAYS_SIMPLE").$index(ba.$to_s().$downcase()))?V:c(Y.due_date_days,"map",[],(ka=function(ma){null==ma&&(ma=e);return ma["$[]"](y(0,2,!1))},ka.$$s=Y,ka.$$arity=1,ka)).$index(ba.$to_s().$downcase())}();
return S=d(S)?v(Y.today,S).$strftime(E(h,"DATE_FORMAT")):d(d(Da=ba["$nil?"]())?Da:ba["$empty?"]())?e:E(h,"Date").$parse(ba).$strftime(E(h,"DATE_FORMAT"))},sa.$$arity=-1),e)&&"convert_due_date"}(q[0],null,q)};
(function(a){function v(d){return(d||"").toString().replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}var G,p=a.top,r=[],x=a.nil,q=a.$$$,e=a.$$,E=a.send,B=x,g=x;a.add_stubs("$require $new $lambda $to_html $execute $+".split(" "));p.$require("./todo.rb");B=e(r,"Todo").$new();g=E(p,"lambda",[],(G=function(d,y,c){null==d&&(d=x);null==y&&(y=x);null==c&&(c=x);try{var m=B,J=m.$execute;y=[y];var f="number"===typeof y&&"number"===typeof c?y+c:y["$+"](c);var h=J.call(m,f).$to_html();d.output(h)}catch(L){d.output('<span class="output"><span class="color color-31">ERROR:</span> '+
v(L)+"</span>")}},G.$$s=p,G.$$arity=3,G));a=new VanillaTerminal({welcome:'<u>todo list manager</u> REPL v0.1.23<br>Type "help" or "copyright" for more information.<br><br>',defaultCallback:g,prompt:"todo",commands:{cls:function(d){d.clear()},copyright:function(d){d.output('<span class="output">todo-jsonl - Copyright (c) 2020-2021 Gabor Bata<br>opal - Copyright (c) 2013-2021 by Adam Beynon and the Opal contributors<br>vanilla-terminal - Copyright (c) 2018 Javier Jimenez Villar</span>')},wipe:function(d){d.prompt("Are you sure remove all your todo data? y/n",
function(y){"Y"===y.trim().toUpperCase()&&(localStorage.removeItem(q(e(r,"Todo"),"TODO_FILE")),d.history=[],d.historyCursor=0,d.output("todo data wiped"))})}}});try{a.output(B.$execute(["list"]).$to_html())}catch(d){a.output('<span class="output"><span class="color color-31">ERROR:</span> '+v(d)+"</span>")}})(Opal);var Qb=Opal.$$;Opal.add_stubs(["$exit"]);Qb([],"Kernel").$exit();}).call(this);
