(function(){var Ta=Ta||{};Ta.scope={};Ta.createTemplateTagFirstArg=function(a){return a.raw=a};Ta.createTemplateTagFirstArgWithRaw=function(a,u){a.raw=u;return a};Ta.arrayIteratorImpl=function(a){var u=0;return function(){return u<a.length?{done:!1,value:a[u++]}:{done:!0}}};Ta.arrayIterator=function(a){return{next:Ta.arrayIteratorImpl(a)}};Ta.makeIterator=function(a){var u="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return u?u.call(a):Ta.arrayIterator(a)};
Ta.arrayFromIterator=function(a){for(var u,I=[];!(u=a.next()).done;)I.push(u.value);return I};Ta.ASSUME_ES5=!1;Ta.ASSUME_NO_NATIVE_MAP=!1;Ta.ASSUME_NO_NATIVE_SET=!1;Ta.SIMPLE_FROUND_POLYFILL=!1;Ta.ISOLATE_POLYFILLS=!1;Ta.FORCE_POLYFILL_PROMISE=!1;Ta.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION=!1;Ta.defineProperty=Ta.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,u,I){if(a==Array.prototype||a==Object.prototype)return a;a[u]=I.value;return a};
Ta.getGlobal=function(a){a=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var u=0;u<a.length;++u){var I=a[u];if(I&&I.Math==Math)return I}throw Error("Cannot find global object");};Ta.global=Ta.getGlobal(this);Ta.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");Ta.TRUST_ES6_POLYFILLS=!Ta.ISOLATE_POLYFILLS||Ta.IS_SYMBOL_NATIVE;Ta.polyfills={};Ta.propertyToPolyfillSymbol={};
Ta.POLYFILL_PREFIX="$jscp$";Ta.polyfill=function(a,u,I,q){u&&(Ta.ISOLATE_POLYFILLS?Ta.polyfillIsolated(a,u,I,q):Ta.polyfillUnisolated(a,u,I,q))};Ta.polyfillUnisolated=function(a,u){var I=Ta.global;a=a.split(".");for(var q=0;q<a.length-1;q++){var r=a[q];if(!(r in I))return;I=I[r]}a=a[a.length-1];q=I[a];u=u(q);u!=q&&null!=u&&Ta.defineProperty(I,a,{configurable:!0,writable:!0,value:u})};
Ta.polyfillIsolated=function(a,u,I){var q=a.split(".");a=1===q.length;var r=q[0];r=!a&&r in Ta.polyfills?Ta.polyfills:Ta.global;for(var x=0;x<q.length-1;x++){var p=q[x];if(!(p in r))return;r=r[p]}q=q[q.length-1];I=Ta.IS_SYMBOL_NATIVE&&"es6"===I?r[q]:null;u=u(I);null!=u&&(a?Ta.defineProperty(Ta.polyfills,q,{configurable:!0,writable:!0,value:u}):u!==I&&(void 0===Ta.propertyToPolyfillSymbol[q]&&(Ta.propertyToPolyfillSymbol[q]=Ta.IS_SYMBOL_NATIVE?Ta.global.Symbol(q):Ta.POLYFILL_PREFIX+q),Ta.defineProperty(r,
Ta.propertyToPolyfillSymbol[q],{configurable:!0,writable:!0,value:u})))};Ta.initSymbol=function(){};Ta.polyfill("Symbol",function(a){function u(r){if(this instanceof u)throw new TypeError("Symbol is not a constructor");return new I("jscomp_symbol_"+(r||"")+"_"+q++,r)}function I(r,x){this.$jscomp$symbol$id_=r;Ta.defineProperty(this,"description",{configurable:!0,writable:!0,value:x})}if(a)return a;I.prototype.toString=function(){return this.$jscomp$symbol$id_};var q=0;return u},"es6","es3");
Ta.polyfill("Symbol.iterator",function(a){if(a)return a;a=Symbol("Symbol.iterator");for(var u="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),I=0;I<u.length;I++){var q=Ta.global[u[I]];"function"===typeof q&&"function"!=typeof q.prototype[a]&&Ta.defineProperty(q.prototype,a,{configurable:!0,writable:!0,value:function(){return Ta.iteratorPrototype(Ta.arrayIteratorImpl(this))}})}return a},"es6","es3");
Ta.iteratorPrototype=function(a){a={next:a};a[Symbol.iterator]=function(){return this};return a};Ta.iteratorFromArray=function(a,u){a instanceof String&&(a+="");var I=0,q=!1,r={next:function(){if(!q&&I<a.length){var x=I++;return{value:u(x,a[x]),done:!1}}q=!0;return{done:!0,value:void 0}}};r[Symbol.iterator]=function(){return r};return r};Ta.polyfill("Array.prototype.keys",function(a){return a?a:function(){return Ta.iteratorFromArray(this,function(u){return u})}},"es6","es3");
Ta.owns=function(a,u){return Object.prototype.hasOwnProperty.call(a,u)};Ta.assign=Ta.TRUST_ES6_POLYFILLS&&"function"==typeof Object.assign?Object.assign:function(a,u){for(var I=1;I<arguments.length;I++){var q=arguments[I];if(q)for(var r in q)Ta.owns(q,r)&&(a[r]=q[r])}return a};Ta.polyfill("Object.assign",function(a){return a||Ta.assign},"es6","es3");Ta.polyfill("Object.is",function(a){return a?a:function(u,I){return u===I?0!==u||1/u===1/I:u!==u&&I!==I}},"es6","es3");
Ta.polyfill("Array.prototype.includes",function(a){return a?a:function(u,I){var q=this;q instanceof String&&(q=String(q));var r=q.length;I=I||0;for(0>I&&(I=Math.max(I+r,0));I<r;I++){var x=q[I];if(x===u||Object.is(x,u))return!0}return!1}},"es7","es3");
Ta.checkStringArgs=function(a,u,I){if(null==a)throw new TypeError("The 'this' value for String.prototype."+I+" must not be null or undefined");if(u instanceof RegExp)throw new TypeError("First argument to String.prototype."+I+" must not be a regular expression");return a+""};Ta.polyfill("String.prototype.includes",function(a){return a?a:function(u,I){return-1!==Ta.checkStringArgs(this,u,"includes").indexOf(u,I||0)}},"es6","es3");
Ta.underscoreProtoCanBeSet=function(){var a={a:!0},u={};try{return u.__proto__=a,u.a}catch(I){}return!1};Ta.setPrototypeOf=Ta.TRUST_ES6_POLYFILLS&&"function"==typeof Object.setPrototypeOf?Object.setPrototypeOf:Ta.underscoreProtoCanBeSet()?function(a,u){a.__proto__=u;if(a.__proto__!==u)throw new TypeError(a+" is not extensible");return a}:null;Ta.polyfill("Object.setPrototypeOf",function(a){return a||Ta.setPrototypeOf},"es6","es5");
Ta.polyfill("Number.EPSILON",function(){return Math.pow(2,-52)},"es6","es3");Ta.polyfill("Number.MAX_SAFE_INTEGER",function(){return 9007199254740991},"es6","es3");Ta.polyfill("String.prototype.codePointAt",function(a){return a?a:function(u){var I=Ta.checkStringArgs(this,null,"codePointAt"),q=I.length;u=Number(u)||0;if(0<=u&&u<q){u|=0;var r=I.charCodeAt(u);if(55296>r||56319<r||u+1===q)return r;u=I.charCodeAt(u+1);return 56320>u||57343<u?r:1024*(r-55296)+u+9216}}},"es6","es3");
Ta.polyfill("String.prototype.trimLeft",function(a){function u(){return this.replace(/^[\s\xa0]+/,"")}return a||u},"es_2019","es3");"function"!==typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(a,u){if(null===a||void 0===a)throw new TypeError("Cannot convert undefined or null to object");for(var I=Object(a),q=1;q<arguments.length;q++){var r=arguments[q];if(null!==r&&void 0!==r)for(var x in r)Object.prototype.hasOwnProperty.call(r,x)&&(I[x]=r[x])}return I},writable:!0,configurable:!0});
Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(a,u){if(null==this)throw new TypeError('"this" is null or not defined');var I=Object(this),q=I.length>>>0;if(0===q)return!1;u|=0;for(u=Math.max(0<=u?u:q-Math.abs(u),0);u<q;){var r=I[u],x=a;if(r===x||"number"===typeof r&&"number"===typeof x&&isNaN(r)&&isNaN(x))return!0;u++}return!1}});
(function(){function a(q){var r=this,x=q=void 0===q?{}:q;q=void 0===x.container?"vanilla-terminal":x.container;var p=void 0===x.defaultCallback?null:x.defaultCallback,d=void 0===x.welcome?'Welcome to <a href="">Vanilla</a> terminal.':x.welcome,C=void 0===x.prompt?"":x.prompt,A=void 0===x.separator?"&gt;":x.separator;this.commands=Object.assign({},void 0===x.commands?{}:x.commands,I);this.defaultCallback=p;this.history=[];this.historyCursor=this.history.length;this.welcome=d;this.shell={prompt:C,separator:A};
this.state={prompt:void 0,idle:void 0};this.cacheDOM=function(e){e.classList.add("VanillaTerm");var f=r.shell;e.insertAdjacentHTML.call(e,"beforeEnd",'\n    <div class="container">\n      <output></output>\n      <div class="command">\n        <div class="prompt">'+f.prompt+f.separator+'</div>\n        <input class="input" spellcheck="false" autofocus />\n      </table>\n    </div>\n  ');e=e.querySelector(".container");r.DOM={container:e,output:e.querySelector("output"),command:e.querySelector(".command"),
input:e.querySelector(".command .input"),prompt:e.querySelector(".command .prompt")}};this.addListeners=function(){var e=r.DOM;e.output.addEventListener("DOMSubtreeModified",function(){setTimeout(function(){return e.input.scrollIntoView()},10)},!1);u("click",function(){return e.input.focus()},!1);e.output.addEventListener("click",function(f){return f.stopPropagation()},!1);e.input.addEventListener("keyup",r.onKeyUp,!1);e.input.addEventListener("keydown",r.onKeyDown,!1);e.command.addEventListener("click",
function(){return e.input.focus()},!1);u("keyup",function(f){e.input.focus();f.stopPropagation();f.preventDefault()},!1)};this.onKeyUp=function(e){var f=e.keyCode,F=r.DOM,c=void 0===r.history?[]:r.history,n=r.historyCursor;27===f?(F.input.value="",e.stopPropagation(),e.preventDefault()):[38,40].includes(f)&&(38===f&&0<n&&--r.historyCursor,40===f&&n<c.length-1&&(r.historyCursor+=1),c[r.historyCursor]&&(F.input.value=c[r.historyCursor]))};this.onKeyDown=function(e){var f=e.keyCode,F=void 0===r.commands?
{}:r.commands,c=r.DOM,n=r.history;e=r.onInputCallback;var L=r.defaultCallback,g=r.state,h=c.input.value.trim();if(13===f&&h){var K=Ta.makeIterator(h.trim().split(/[\s|\u00A0]+/));f=K.next().value;K=Ta.arrayFromIterator(K);if(g.prompt)g.prompt=!1,r.onAskCallback(f),r.setPrompt(),r.resetCommand();else{100<=n.length&&n.shift();n.push(h);r.historyCursor=n.length;n=c.output;g=n.appendChild;h=c.command.cloneNode(!0);var D=h.querySelector(".input");D.autofocus=!1;D.readOnly=!0;D.insertAdjacentHTML("beforebegin",
D.value);D.parentNode.removeChild(D);h.classList.add("line");g.call(n,h);c.command.classList.add("hidden");c.input.value="";Object.keys(F).includes(f)?((F=F[f])&&F(r,K),e&&e(f,K)):L?L(r,f,K):r.output("<u>"+f+"</u>: command not found.")}}};this.resetCommand=function(){var e=r.DOM;e.input.value="";e.command.classList.remove("input");e.command.classList.remove("hidden");e.input.scrollIntoView&&e.input.scrollIntoView()};if(x=document.getElementById(q))this.cacheDOM(x),this.addListeners(),d&&this.output(d);
else throw Error("Container #"+q+" doesn't exists.");}var u=window.addEventListener,I={clear:function(q){return q.clear()},commands:function(q){q.output("These shell commands are defined internally:");q.output(Object.keys(q.commands).join(", "))}};a.prototype.clear=function(){this.DOM.output.innerHTML="";this.resetCommand()};a.prototype.idle=function(){var q=this.DOM;q.command.classList.add("idle");q.prompt.innerHTML='<div class="spinner"></div>'};a.prototype.prompt=function(q,r){this.state.prompt=
!0;this.onAskCallback=void 0===r?function(){}:r;this.DOM.prompt.innerHTML=q+":";this.resetCommand();this.DOM.command.classList.add("input")};a.prototype.onInput=function(q){this.onInputCallback=q};a.prototype.output=function(q){this.DOM.output.insertAdjacentHTML("beforeEnd","<span>"+(void 0===q?"&nbsp;":q)+"</span>");this.resetCommand()};a.prototype.setPrompt=function(q){q=void 0===q?this.shell.prompt:q;var r=this.DOM,x=this.shell.separator;this.shell={prompt:q,separator:x};r.command.classList.remove("idle");
r.prompt.innerHTML=""+q+x;r.input.focus()};window&&(window.VanillaTerminal=a)})();
(function(a){function u(b,l,m){"string"===typeof b?b[l]=m:Object.defineProperty(b,l,{value:m,enumerable:!1,configurable:!0,writable:!0})}function I(b,l){if(b)return b.$$const[l]}function q(b,l){var m;if(null!=b){var v=g.ancestors(b);b=0;for(m=v.length;b<m;b++)if(v[b].$$const&&h.call(v[b].$$const,l))return v[b].$$const[l]}}function r(b,l,m){if(!m)return(b||n).$const_missing(l)}function x(b){return b.hasOwnProperty("$$iclass")&&b.hasOwnProperty("$$root")}function p(b){var l=d(b);b.$$is_module&&b.$$iclasses.push(l);
return l}function d(b){var l={},m=b.$$prototype;m.hasOwnProperty("$$dummy")&&(m=m.$$define_methods_on);var v=Object.getOwnPropertyNames(m),B=v.length,E;for(E=0;E<B;E++){var H=v[E];u(l,H,m[H])}u(l,"$$iclass",!0);u(l,"$$module",b);return l}function C(b){var l=b.length,m=b[0];u(m,"$$root",!0);if(1===l)return{first:m,last:m};for(var v=1;v<l;v++){var B=b[v];D(m,B);m=B}return{first:b[0],last:b[l-1]}}function A(b){if(!b.hasOwnProperty("$$dummy")){if(b.hasOwnProperty("$$iclass"))return b.$$module;if(b.hasOwnProperty("$$class"))return b.$$class}}
function e(b){return"function"===typeof b&&!b.$$stub}function f(){var b=g.slice.call(arguments,0,arguments.length),l=f.$$p;f.$$p=null;return g.send(n,"define_method",b,l)}"undefined"!==typeof globalThis?a=globalThis:"undefined"!==typeof global?a=global:"undefined"!==typeof window&&(a=window);var F="object"===typeof a.console?a.console:null==a.console?a.console={}:{};"log"in F||(F.log=function(){});"warn"in F||(F.warn=F.log);if("undefined"!==typeof a.Opal)return F.warn("Opal already loaded. Loading twice can cause troubles, please fix your setup."),
a.Opal;var c,n,L,g=a.Opal={};g.global=a;a.Opal=g;g.config={missing_require_severity:"error",unsupported_features_severity:"warning",enable_stack_trace:!0};var h=Object.hasOwnProperty,K=Function.prototype.bind,D=Object.setPrototypeOf,Q=Array.prototype.slice,ja=Array.prototype.splice,ca=4;g.uid=function(){return ca+=2};g.id=function(b){if(b.$$is_number)return 2*b+1;if(null!=b.$$id)return b.$$id;u(b,"$$id",g.uid());return b.$$id};g.gvars={};g.exit=function(b){g.gvars.DEBUG&&F.log("Exited with status "+
b)};g.exceptions=[];g.pop_exception=function(){g.gvars["!"]=g.exceptions.pop()||la};g.inspect=function(b){return void 0===b?"undefined":null===b?"null":b.$$class?b.$inspect():b.toString()};g.defineProperty=u;g.slice=Q;g.truthy=function(b){return b!==la&&null!=b&&(!b.$$is_boolean||1==b)};g.falsy=function(b){return b===la||null==b||b.$$is_boolean&&0==b};g.type_error=function(b,l,m,v){b=b.$$class;return v&&m?(v=v.$$class,g.TypeError.$new("can't convert "+b+" into "+l+" ("+b+"#"+m+" gives "+v+")")):g.TypeError.$new("no implicit conversion of "+
b+" into "+l)};g.coerce_to=function(b,l,m,v){if(l["$==="](b))return b;if(!b["$respond_to?"](m))throw g.type_error(b,l);null==v&&(v=[]);return g.send(b,m,v)};g.respond_to=function(b,l,m){if(null==b||!b.$$class)return!1;m=!!m;var v=b[l];return b["$respond_to?"].$$pristine?b["$respond_to_missing?"].$$pristine?"function"===typeof v&&!v.$$stub:g.send(b,b["$respond_to_missing?"],[l.substr(1),m]):g.send(b,b["$respond_to?"],[l.substr(1),m])};g.const_get_local=function(b,l,m){if(null!=b){"::"===b&&(b=n);if(!b.$$is_module&&
!b.$$is_class)throw new g.TypeError(b.toString()+" is not a class/module");var v=I(b,l);if(null!=v)return v;v=r(b,l,m);if(null!=v)return v}};g.const_get_qualified=function(b,l,m){var v,B=g.const_cache_version;if(null!=b){"::"===b&&(b=n);if(!b.$$is_module&&!b.$$is_class)throw new g.TypeError(b.toString()+" is not a class/module");null==(v=b.$$const_cache)&&(u(b,"$$const_cache",Object.create(null)),v=b.$$const_cache);var E=v[l];null==E||E[0]!==B?(null!=(E=I(b,l))||null!=(E=q(b,l)),v[l]=[B,E]):E=E[1];
return null!=E?E:r(b,l,m)}};g.const_cache_version=1;g.const_get_relative=function(b,l,m){var v=b[0],B=g.const_cache_version,E;null==(E=b.$$const_cache)&&(u(b,"$$const_cache",Object.create(null)),E=b.$$const_cache);var H=E[l];if(null==H||H[0]!==B){var J;if(!(J=null!=(H=I(v,l)))){a:{if(0!==b.length)for(H=0,J=b.length;H<J;H++){var Z=b[H].$$const[l];if(null!=Z){b=Z;break a}}b=void 0}J=null!=(H=b)}J||null!=(H=q(v,l))||(b=null==v||v.$$is_module?q(n,l):void 0,null!=(H=b));E[l]=[B,H]}else H=H[1];return null!=
H?H:r(v,l,m)};g.const_set=function(b,l,m){if(null==b||"::"===b)b=n;if(m.$$is_a_module){if(null==m.$$name||m.$$name===la)m.$$name=l;null==m.$$base_module&&(m.$$base_module=b)}b.$$const=b.$$const||Object.create(null);b.$$const[l]=m;b.$$=b.$$const;g.const_cache_version++;b===n&&(g[l]=m);u(b,l,m);return m};g.constants=function(b,l){null==l&&(l=!0);var m=[b],v,B={},E;l&&(m=m.concat(g.ancestors(b)));l&&b.$$is_module&&(m=m.concat([g.Object]).concat(g.ancestors(g.Object)));var H=0;for(v=m.length;H<v;H++){l=
m[H];if(b!==n&&l==n)break;for(E in l.$$const)B[E]=!0}return Object.keys(B)};g.const_remove=function(b,l){g.const_cache_version++;if(null!=b.$$const[l]){var m=b.$$const[l];delete b.$$const[l];return m}if(null!=b.$$autoload&&null!=b.$$autoload[l])return delete b.$$autoload[l],la;throw g.NameError.$new("constant "+b+"::"+b.$name()+" not defined");};g.$$=g.const_get_relative;g.$$$=g.const_get_qualified;g.allocate_class=function(b,l){var m=null!=l&&l.$$bridge?function(){var B=Q.call(arguments);B=new (K.apply(l.$$constructor,
[null].concat(B)));D(B,v.$$prototype);return B}:function(){};b&&u(m,"displayName","::"+b);var v=m;u(v,"$$name",b);u(v,"$$constructor",m);u(v,"$$prototype",m.prototype);u(v,"$$const",{});u(v,"$$is_class",!0);u(v,"$$is_a_module",!0);u(v,"$$super",l);u(v,"$$cvars",{});u(v,"$$own_included_modules",[]);u(v,"$$own_prepended_modules",[]);u(v,"$$ancestors",[]);u(v,"$$ancestors_cache_version",null);u(v.$$prototype,"$$class",v);g.Class&&D(v,g.Class.prototype);null!=l&&(D(v.$$prototype,l.$$prototype),l.$$meta&&
g.build_class_singleton_class(v));return v};g.klass=function(b,l,m){null==b?b=n:b.$$is_class||b.$$is_module||(b=b.$$class);if(null!=l&&!l.hasOwnProperty("$$is_class")){var v=l;l=n}var B;if(B=I(b,m)){if(!B.$$is_class)throw g.TypeError.$new(m+" is not a class");}else B=void 0;if(B){if(l&&B.$$super!==l)throw g.TypeError.$new("superclass mismatch for class "+B.$$name);return B}null==l&&(l=n);B=g.allocate_class(m,l);g.const_set(b,m,B);l.$inherited&&l.$inherited(B);v&&g.bridge(v,B);return B};g.allocate_module=
function(b){function l(){}b&&u(l,"displayName",b+".$$constructor");b&&u(l,"displayName",b+".constructor");u(l,"$$name",b);u(l,"$$prototype",l.prototype);u(l,"$$const",{});u(l,"$$is_module",!0);u(l,"$$is_a_module",!0);u(l,"$$cvars",{});u(l,"$$iclasses",[]);u(l,"$$own_included_modules",[]);u(l,"$$own_prepended_modules",[]);u(l,"$$ancestors",[l]);u(l,"$$ancestors_cache_version",null);D(l,g.Module.prototype);return l};g.module=function(b,l){null==b?b=n:b.$$is_class||b.$$is_module||(b=b.$$class);var m=
b;var v=I(m,l);null==v&&m===n&&(v=q(n,l));if(v&&!v.$$is_module&&v!==n)throw g.TypeError.$new(l+" is not a module");if(m=v)return m;m=g.allocate_module(l);g.const_set(b,l,m);return m};g.get_singleton_class=function(b){return b.$$meta?b.$$meta:b.hasOwnProperty("$$is_class")?g.build_class_singleton_class(b):b.hasOwnProperty("$$is_module")?g.build_module_singleton_class(b):g.build_object_singleton_class(b)};g.build_class_singleton_class=function(b){if(b.$$meta)return b.$$meta;var l=b===c?L:g.get_singleton_class(b.$$super);
l=g.allocate_class(null,l,function(){});u(l,"$$is_singleton",!0);u(l,"$$singleton_of",b);u(b,"$$meta",l);D(b,l.$$prototype);u(b,"$$class",g.Class);return l};g.build_module_singleton_class=function(b){if(b.$$meta)return b.$$meta;var l=g.allocate_class(null,g.Module,function(){});u(l,"$$is_singleton",!0);u(l,"$$singleton_of",b);u(b,"$$meta",l);D(b,l.$$prototype);u(b,"$$class",g.Module);return l};g.build_object_singleton_class=function(b){var l=g.allocate_class(la,b.$$class,function(){});u(l,"$$is_singleton",
!0);u(l,"$$singleton_of",b);delete l.$$prototype.$$class;u(b,"$$meta",l);D(b,b.$$meta.$$prototype);return l};g.is_method=function(b){return"$"===b[0]&&"$"!==b[1]};g.instance_methods=function(b){var l=[],m=[];b=g.ancestors(b);for(var v=0,B=b.length;v<B;v++){var E=b[v].$$prototype;E.hasOwnProperty("$$dummy")&&(E=E.$$define_methods_on);for(var H=Object.getOwnPropertyNames(E),J=0,Z=H.length;J<Z;J++){var ta=H[J];if(g.is_method(ta)){var Ka=ta.slice(1);ta=E[ta];ta.$$stub&&-1===l.indexOf(Ka)&&l.push(Ka);
ta.$$stub||-1!==m.indexOf(Ka)||-1!==l.indexOf(Ka)||m.push(Ka)}}}return m};g.own_instance_methods=function(b){var l=[];b=b.$$prototype;b.hasOwnProperty("$$dummy")&&(b=b.$$define_methods_on);for(var m=Object.getOwnPropertyNames(b),v=0,B=m.length;v<B;v++){var E=m[v];g.is_method(E)&&!b[E].$$stub&&(E=E.slice(1),l.push(E))}return l};g.methods=function(b){return g.instance_methods(g.get_singleton_class(b))};g.own_methods=function(b){return g.own_instance_methods(g.get_singleton_class(b))};g.receiver_methods=
function(b){var l=g.get_singleton_class(b);b=g.own_instance_methods(l);l=g.own_instance_methods(l.$$super);return b.concat(l)};g.class_variables=function(b){b=g.ancestors(b);var l,m={};for(l=b.length-1;0<=l;l--){var v=b[l],B;for(B in v.$$cvars)m[B]=v.$$cvars[B]}return m};g.class_variable_set=function(b,l,m){var v=g.ancestors(b),B;for(B=v.length-2;0<=B;B--){var E=v[B];if(h.call(E.$$cvars,l))return E.$$cvars[l]=m}return b.$$cvars[l]=m};g.append_features=function(b,l){var m=g.ancestors(b),v=[];if(-1!==
m.indexOf(l))throw g.ArgumentError.$new("cyclic include detected");for(var B=0,E=m.length;B<E;B++){var H=p(m[B]);u(H,"$$included",!0);v.push(H)}m=g.ancestors(l);v=C(v);if(-1===m.indexOf(b))b=l.$$prototype,m=Object.getPrototypeOf(l.$$prototype);else{m=l.$$prototype;for(B=Object.getPrototypeOf(m);null!=B&&(!x(B)||B.$$module!==b);)m=B,B=Object.getPrototypeOf(B);for(B=Object.getPrototypeOf(B);B.hasOwnProperty("$$iclass")&&!x(B);)B=Object.getPrototypeOf(B);b=m;m=B}D(b,v.first);D(v.last,m);b=[];for(m=Object.getPrototypeOf(l.$$prototype);m&&
!m.hasOwnProperty("$$class");)(v=A(m))&&b.push(v),m=Object.getPrototypeOf(m);l.$$own_included_modules=b;g.const_cache_version++};g.prepend_features=function(b,l){var m=g.ancestors(b),v=[];if(-1!==m.indexOf(l))throw g.ArgumentError.$new("cyclic prepend detected");for(var B=0,E=m.length;B<E;B++){var H=p(m[B]);u(H,"$$prepended",!0);v.push(H)}m=C(v);B=l.$$prototype;E=Object.getPrototypeOf(B);if(B.hasOwnProperty("$$dummy"))v=B.$$define_methods_on;else{v=d(l);H=l.$$prototype;for(var J=Object.getOwnPropertyNames(H),
Z=0;Z<J.length;Z++){var ta=J[Z];g.is_method(ta)&&delete H[ta]}u(B,"$$dummy",!0);u(B,"$$define_methods_on",v);D(B,v);D(v,E)}if(-1===g.ancestors(l).indexOf(b))for(b=B,B=Object.getPrototypeOf(B);null!=B&&!B.hasOwnProperty("$$root")&&B!==v&&B.hasOwnProperty("$$iclass");)B=Object.getPrototypeOf(B);else throw g.RuntimeError.$new("Prepending a module multiple times is not supported");D(b,m.first);D(m.last,B);b=[];v=Object.getPrototypeOf(l.$$prototype);if(l.$$prototype.hasOwnProperty("$$dummy"))for(;v&&v!==
l.$$prototype.$$define_methods_on;)(m=A(v))&&b.push(m),v=Object.getPrototypeOf(v);l.$$own_prepended_modules=b;g.const_cache_version++};g.bridge=function(b,l){if(b.hasOwnProperty("$$bridge"))throw g.ArgumentError.$new("already bridged");u(b,"$$bridge",l);D(b.prototype,(l.$$super||g.Object).$$prototype);u(l,"$$prototype",b.prototype);u(l.$$prototype,"$$class",l);u(l,"$$constructor",b);u(l,"$$bridge",!0)};g.ancestors=function(b){if(!b)return[];if(b.$$ancestors_cache_version===g.const_cache_version)return b.$$ancestors;
var l=[],m;var v=0;var B=b.$$own_prepended_modules.concat([b]).concat(b.$$own_included_modules);for(m=B.length;v<m;v++)l.push(B[v]);if(b.$$super)for(v=0,B=g.ancestors(b.$$super),m=B.length;v<m;v++)l.push(B[v]);b.$$ancestors_cache_version=g.const_cache_version;return b.$$ancestors=l};g.included_modules=function(b){for(var l=[],m=Object.getPrototypeOf(b.$$prototype);m&&Object.getPrototypeOf(m);m=Object.getPrototypeOf(m))(b=A(m))&&b.$$is_module&&m.$$iclass&&m.$$included&&l.push(b);return l};g.add_stubs=
function(b){for(var l=g.BasicObject.$$prototype,m=0,v=b.length;m<v;m++){var B=b[m],E=l[B];(null==E||E.$$stub)&&g.add_stub_for(l,B)}};g.add_stub_for=function(b,l){var m=g.stub_for(l);u(b,l,m)};g.stub_for=function(b){function l(){this.$method_missing.$$p=l.$$p;l.$$p=null;for(var m=Array(arguments.length),v=0,B=m.length;v<B;v++)m[v]=arguments[v];return this.$method_missing.apply(this,[b.slice(1)].concat(m))}l.$$stub=!0;return l};g.ac=function(b,l,m,v){var B="";B=m.$$is_a_module?B+(m.$$name+"."):B+(m.$$class.$$name+
"#");throw g.ArgumentError.$new("["+(B+v)+"] wrong number of arguments("+b+" for "+l+")");};g.block_ac=function(b,l,m){throw g.ArgumentError.$new("`block in "+m+"': wrong number of arguments ("+b+" for "+l+")");};g.find_super_dispatcher=function(b,l,m,v,B){var E="$"+l;var H=b.hasOwnProperty("$$meta")?g.ancestors(b.$$meta):g.ancestors(b.$$class);for(m=H.indexOf(m.$$owner)+1;m<H.length;m++){var J=H[m].$$prototype;J.hasOwnProperty("$$dummy")&&(J=J.$$define_methods_on);if(J.hasOwnProperty(E)){var Z=J[E];
break}}if(!v&&Z&&Z.$$stub&&b.$method_missing.$$pristine)throw g.NoMethodError.$new("super: no superclass method `"+l+"' for "+b,l);return Z.$$stub&&!B?null:Z};g.find_iter_super_dispatcher=function(b,l,m,v,B){if(!m)throw g.RuntimeError.$new("super called outside of method");if(B&&m.$$define_meth)throw g.RuntimeError.$new("implicit argument passing of super from method defined by define_method() is not supported. Specify all arguments explicitly");m.$$def&&(l=m.$$jsid);return g.find_super_dispatcher(b,
l,m,v)};g.ret=function(b){g.returner.$v=b;throw g.returner;};g.brk=function(b,l){l.$v=b;throw l;};g.new_brk=function(){return Error("unexpected break")};g.yield1=function(b,l){if("function"!==typeof b)throw g.LocalJumpError.$new("no block given");var m=b.$$has_top_level_mlhs_arg,v=b.$$has_trailing_comma_in_args;if(1<b.length||(m||v)&&1===b.length)l=g.to_ary(l);return(1<b.length||v&&1===b.length)&&l.$$is_array?b.apply(null,l):b(l)};g.yieldX=function(b,l){if("function"!==typeof b)throw g.LocalJumpError.$new("no block given");
if(1<b.length&&1===l.length&&l[0].$$is_array)return b.apply(null,l[0]);if(!l.$$is_array){for(var m=Array(l.length),v=0,B=m.length;v<B;v++)m[v]=l[v];return b.apply(null,m)}return b.apply(null,l)};g.rescue=function(b,l){for(var m=0;m<l.length;m++){var v=l[m];if(v.$$is_array){if(v=g.rescue(b,v))return v}else if(v===g.JS.Error||v["$==="](b))return v}return null};g.is_a=function(b,l){if(null!=l&&b.$$meta===l||b.$$class===l)return!0;if(b.$$is_number&&l.$$is_number_class)return l.$$is_integer_class?0===
b%1:!0;var m,v=g.ancestors(b.$$is_class?g.get_singleton_class(b):b.$$meta||b.$$class);b=0;for(m=v.length;b<m;b++)if(v[b]===l)return!0;return!1};g.to_hash=function(b){if(b.$$is_hash)return b;if(b["$respond_to?"]("to_hash",!0)){var l=b.$to_hash();if(l.$$is_hash)return l;throw g.TypeError.$new("Can't convert "+b.$$class+" to Hash ("+b.$$class+"#to_hash gives "+l.$$class+")");}throw g.TypeError.$new("no implicit conversion of "+b.$$class+" into Hash");};g.to_ary=function(b){if(b.$$is_array)return b;if(b["$respond_to?"]("to_ary",
!0)){var l=b.$to_ary();if(l===la)return[b];if(l.$$is_array)return l;throw g.TypeError.$new("Can't convert "+b.$$class+" to Array ("+b.$$class+"#to_ary gives "+l.$$class+")");}return[b]};g.to_a=function(b){if(b.$$is_array)return b.slice();if(b["$respond_to?"]("to_a",!0)){var l=b.$to_a();if(l===la)return[b];if(l.$$is_array)return l;throw g.TypeError.$new("Can't convert "+b.$$class+" to Array ("+b.$$class+"#to_a gives "+l.$$class+")");}return[b]};g.extract_kwargs=function(b){var l=b[b.length-1];return null!=
l&&g.respond_to(l,"$to_hash",!0)?(ja.call(b,b.length-1,1),l.$to_hash()):g.hash2([],{})};g.kwrestargs=function(b,l){var m=[],v={},B;b=b.$$smap;for(B in b)l[B]||(m.push(B),v[B]=b[B]);return g.hash2(m,v)};g.send=function(b,l,m,v){if("function"===typeof l){var B=l;l=null}else if("string"===typeof l)B=b["$"+l];else throw g.NameError.$new("Passed method should be a string or a function");return g.send2(b,B,l,m,v)};g.send2=function(b,l,m,v,B){null==l&&null!=m&&b.$method_missing&&(l=b.$method_missing,v=[m].concat(v));
"function"===typeof B&&(l.$$p=B);return l.apply(b,v)};g.lambda=function(b){b.$$is_lambda=!0;return b};g.def=function(b,l,m){b===g.top?g.defn(g.Object,l,m):!b.$$eval&&b.$$is_a_module?g.defn(b,l,m):g.defs(b,l,m)};g.defn=function(b,l,m){m.displayName=l;m.$$owner=b;var v=b.$$prototype;v.hasOwnProperty("$$dummy")&&(v=v.$$define_methods_on);u(v,l,m);if(b.$$is_module){b.$$module_function&&g.defs(b,l,m);v=0;for(var B=b.$$iclasses,E=B.length;v<E;v++)u(B[v],l,m)}m=b.$$singleton_of;!b.$method_added||b.$method_added.$$stub||
m?m&&m.$singleton_method_added&&!m.$singleton_method_added.$$stub&&m.$singleton_method_added(l.substr(1)):b.$method_added(l.substr(1))};g.defs=function(b,l,m){if(b.$$is_string||b.$$is_number)throw g.TypeError.$new("can't define singleton");g.defn(g.get_singleton_class(b),l,m)};g.rdef=function(b,l){if(!h.call(b.$$prototype,l))throw g.NameError.$new("method '"+l.substr(1)+"' not defined in "+b.$name());delete b.$$prototype[l];b.$$is_singleton?b.$$prototype.$singleton_method_removed&&!b.$$prototype.$singleton_method_removed.$$stub&&
b.$$prototype.$singleton_method_removed(l.substr(1)):b.$method_removed&&!b.$method_removed.$$stub&&b.$method_removed(l.substr(1))};g.udef=function(b,l){if(!b.$$prototype[l]||b.$$prototype[l].$$stub)throw g.NameError.$new("method '"+l.substr(1)+"' not defined in "+b.$name());g.add_stub_for(b.$$prototype,l);b.$$is_singleton?b.$$prototype.$singleton_method_undefined&&!b.$$prototype.$singleton_method_undefined.$$stub&&b.$$prototype.$singleton_method_undefined(l.substr(1)):b.$method_undefined&&!b.$method_undefined.$$stub&&
b.$method_undefined(l.substr(1))};g.alias=function(b,l,m){var v="$"+l,B="$"+m,E=b.$$prototype["$"+m];if(b.$$eval)return g.alias(g.get_singleton_class(b),l,m);if(!e(E)){for(var H=b.$$super;"function"!==typeof E&&H;)E=H[B],H=H.$$super;!e(E)&&b.$$is_module&&(E=g.Object.$$prototype[B]);if(!e(E))throw g.NameError.$new("undefined method `"+m+"' for class `"+b.$name()+"'");}E.$$alias_of&&(E=E.$$alias_of);var J=function(){var Z=J.$$p,ta;var Ka=Array(arguments.length);var ua=0;for(ta=arguments.length;ua<ta;ua++)Ka[ua]=
arguments[ua];null!=Z&&(J.$$p=null);return g.send(this,E,Ka,Z)};try{Object.defineProperty(J,"length",{value:E.length})}catch(Z){}J.displayName=l;J.$$arity=E.$$arity;J.$$parameters=E.$$parameters;J.$$source_location=E.$$source_location;J.$$alias_of=E;J.$$alias_name=l;g.defn(b,v,J);return b};g.alias_native=function(b,l,m){l="$"+l;var v=b.$$prototype[m];if("function"!==typeof v||v.$$stub)throw g.NameError.$new("undefined native method `"+m+"' for class `"+b.$name()+"'");g.defn(b,l,v);return b};g.hash_init=
function(b){b.$$smap=Object.create(null);b.$$map=Object.create(null);b.$$keys=[]};g.hash_clone=function(b,l){l.$$none=b.$$none;l.$$proc=b.$$proc;var m=0,v=b.$$keys;b=b.$$smap;for(var B=v.length,E,H;m<B;m++)E=v[m],E.$$is_string?H=b[E]:(H=E.value,E=E.key),g.hash_put(l,E,H)};g.hash_put=function(b,l,m){if(l.$$is_string)h.call(b.$$smap,l)||b.$$keys.push(l),b.$$smap[l]=m;else{var v;var B=b.$$by_identity?g.id(l):l.$hash();if(h.call(b.$$map,B)){for(v=b.$$map[B];v;){if(l===v.key||l["$eql?"](v.key)){var E=
void 0;v.value=m;break}E=v;v=v.next}E&&(v={key:l,key_hash:B,value:m},b.$$keys.push(v),E.next=v)}else v={key:l,key_hash:B,value:m},b.$$keys.push(v),b.$$map[B]=v}};g.hash_get=function(b,l){if(l.$$is_string){if(h.call(b.$$smap,l))return b.$$smap[l]}else{var m=b.$$by_identity?g.id(l):l.$hash();if(h.call(b.$$map,m))for(b=b.$$map[m];b;){if(l===b.key||l["$eql?"](b.key))return b.value;b=b.next}}};g.hash_delete=function(b,l){var m,v=b.$$keys,B=v.length;if(l.$$is_string){"string"!==typeof l&&(l=l.valueOf());
if(!h.call(b.$$smap,l))return;for(m=0;m<B;m++)if(v[m]===l){v.splice(m,1);break}var E=b.$$smap[l];delete b.$$smap[l];return E}var H=l.$hash();if(h.call(b.$$map,H))for(var J=b.$$map[H],Z;J;){if(l===J.key||l["$eql?"](J.key)){E=J.value;for(m=0;m<B;m++)if(v[m]===J){v.splice(m,1);break}Z&&J.next?Z.next=J.next:Z?delete Z.next:J.next?b.$$map[H]=J.next:delete b.$$map[H];return E}Z=J;J=J.next}};g.hash_rehash=function(b){for(var l=0,m=b.$$keys.length,v,B,E;l<m;l++)if(!b.$$keys[l].$$is_string&&(v=b.$$keys[l].key.$hash(),
v!==b.$$keys[l].key_hash)){B=b.$$map[b.$$keys[l].key_hash];for(E=void 0;B;){if(B===b.$$keys[l]){E&&B.next?E.next=B.next:E?delete E.next:B.next?b.$$map[b.$$keys[l].key_hash]=B.next:delete b.$$map[b.$$keys[l].key_hash];break}E=B;B=B.next}b.$$keys[l].key_hash=v;if(h.call(b.$$map,v)){B=b.$$map[v];for(E=void 0;B;){if(B===b.$$keys[l]){E=void 0;break}E=B;B=B.next}E&&(E.next=b.$$keys[l])}else b.$$map[v]=b.$$keys[l]}};g.hash=function(){var b=arguments.length,l;if(1===b&&arguments[0].$$is_hash)return arguments[0];
var m=new g.Hash;g.hash_init(m);if(1===b&&arguments[0].$$is_array){b=arguments[0];var v=b.length;for(l=0;l<v;l++){if(2!==b[l].length)throw g.ArgumentError.$new("value not of length 2: "+b[l].$inspect());var B=b[l][0];var E=b[l][1];g.hash_put(m,B,E)}return m}if(1===b){b=arguments[0];for(B in b)h.call(b,B)&&(E=b[B],g.hash_put(m,B,E));return m}if(0!==b%2)throw g.ArgumentError.$new("odd number of arguments for Hash");for(l=0;l<b;l+=2)B=arguments[l],E=arguments[l+1],g.hash_put(m,B,E);return m};g.hash2=
function(b,l){var m=new g.Hash;m.$$smap=l;m.$$map=Object.create(null);m.$$keys=b;return m};g.range=function(b,l,m){var v=new g.Range;v.begin=b;v.end=l;v.excl=m;return v};g.ivar=function(b){return"constructor"===b||"displayName"===b||"__count__"===b||"__noSuchMethod__"===b||"__parent__"===b||"__proto__"===b||"hasOwnProperty"===b||"valueOf"===b?b+"$":b};g.escape_regexp=function(b){return b.replace(/([-[\]\/{}()*+?.^$\\| ])/g,"\\$1").replace(/[\n]/g,"\\n").replace(/[\r]/g,"\\r").replace(/[\f]/g,"\\f").replace(/[\t]/g,
"\\t")};g.global_regexp=function(b){if(b.global)return b;null==b.$$g?b.$$g=new RegExp(b.source,(b.multiline?"gm":"g")+(b.ignoreCase?"i":"")):b.$$g.lastIndex=null;return b.$$g};g.global_multiline_regexp=function(b){if(b.multiline){if(b.global)return b;b=null!=b.$$g?b.$$g:b.$$g=new RegExp(b.source,"gm"+(b.ignoreCase?"i":""))}else b=null!=b.$$gm?b.$$gm:b.$$gm=new RegExp(b.source,"gm"+(b.ignoreCase?"i":""));b.lastIndex=null;return b};g.regexp=function(b,l){for(var m,v="undefined"!==typeof l&&l&&0<=l.indexOf("i"),
B=0,E=b.length;B<E;B++)m=b[B],m instanceof RegExp&&(m.ignoreCase!==v&&g.Kernel.$warn("ignore case doesn't match for "+m.source.$inspect(),g.hash({uplevel:1})),m=m.source),""===m&&(m="(?:"+m+")"),b[B]=m;return l?new RegExp(b.join(""),l):new RegExp(b.join(""))};g.modules={};g.loaded_features=["corelib/runtime"];g.current_dir=".";g.require_table={"corelib/runtime":!0};g.normalize=function(b){var l=[];"."!==g.current_dir&&(b=g.current_dir.replace(/\/*$/,"/")+b);b=b.replace(/^\.\//,"");b=b.replace(/\.(rb|opal|js)$/,
"");b=b.split("/");for(var m=0,v=b.length;m<v;m++){var B=b[m];""!==B&&(".."===B?l.pop():l.push(B))}return l.join("/")};g.loaded=function(b){var l;var m=0;for(l=b.length;m<l;m++){var v=g.normalize(b[m]);g.require_table[v]||(g.loaded_features.push(v),g.require_table[v]=!0)}};g.load=function(b){b=g.normalize(b);g.loaded([b]);var l=g.modules[b];if(l)l(g);else{l=g.config.missing_require_severity;b="cannot load such file -- "+b;if("error"===l){if(g.LoadError)throw g.LoadError.$new(b);throw b;}"warning"===
l&&F.warn("WARNING: LoadError: "+b)}return!0};g.require=function(b){b=g.normalize(b);return g.require_table[b]?!1:g.load(b)};g.encodings=Object.create(null);g.set_encoding=function(b,l){if("string"===typeof b)throw g.FrozenError.$new("can't modify frozen String");l=g.encodings[l];if(l===b.encoding)return b;b.encoding=l;return b};g.enc=function(b,l){b=new String(b);g.set_encoding(b,l);b.internal_encoding=b.encoding;return b};g.BasicObject=c=g.allocate_class("BasicObject",null,function(){});g.Object=
n=g.allocate_class("Object",g.BasicObject,function(){});g.Module=a=g.allocate_class("Module",g.Object,function(){});g.Class=L=g.allocate_class("Class",g.Module,function(){});D(g.BasicObject,g.Class.$$prototype);D(g.Object,g.Class.$$prototype);D(g.Module,g.Class.$$prototype);D(g.Class,g.Class.$$prototype);c.$$const.BasicObject=c;g.const_set(n,"BasicObject",c);g.const_set(n,"Object",n);g.const_set(n,"Module",a);g.const_set(n,"Class",L);c.$$class=L;n.$$class=L;a.$$class=L;L.$$class=L;u(n.$$prototype,
"toString",function(){var b=this.$to_s();return b.$$is_string&&"object"===typeof b?b.valueOf():b});u(n.$$prototype,"$require",g.require);g.top=new n;g.top.$to_s=g.top.$inspect=function(){return"main"};g.top.$define_method=f;g.NilClass=g.allocate_class("NilClass",g.Object,function(){});g.const_set(n,"NilClass",g.NilClass);var la=g.nil=new g.NilClass;la.$$id=4;la.call=la.apply=function(){throw g.LocalJumpError.$new("no block given");};g.breaker=Error("unexpected break (old)");g.returner=Error("unexpected return");
TypeError.$$super=Error}).call(this);Opal.loaded(["corelib/runtime.js"]);
Opal.modules["corelib/helpers"]=function(a){var u=[],I=a.nil,q=a.$$,r=a.type_error,x=a.coerce_to,p=a.module,d=a.truthy;a.add_stubs("$=== $raise $respond_to? $nil? $__send__ $<=> $class $coerce_to! $new $!= $[] $upcase".split(" "));return function(C,A){C=p(C,"Opal");var e=[C].concat(A),f,F,c,n,L,g,h,K,D,Q,ja;a.defs(C,"$bridge",f=function(ca,la){return a.bridge(ca,la)},f.$$arity=2);a.defs(C,"$coerce_to!",F=function(ca,la,b,l){var m=a.slice.call(arguments,3,arguments.length);m=x(ca,la,b,m);d(la["$==="](m))||
this.$raise(r(ca,la,b,m));return m},F.$$arity=-4);a.defs(C,"$coerce_to?",c=function(ca,la,b,l){var m=a.slice.call(arguments,3,arguments.length);if(!d(ca["$respond_to?"](b)))return I;m=x(ca,la,b,m);if(d(m["$nil?"]()))return I;d(la["$==="](m))||this.$raise(r(ca,la,b,m));return m},c.$$arity=-4);a.defs(C,"$try_convert",n=function(ca,la,b){return d(la["$==="](ca))?ca:d(ca["$respond_to?"](b))?ca.$__send__(b):I},n.$$arity=3);a.defs(C,"$compare",L=function(ca,la){var b=ca["$<=>"](la);d(b===I)&&this.$raise(q(e,
"ArgumentError"),"comparison of "+ca.$class()+" with "+la.$class()+" failed");return b},L.$$arity=2);a.defs(C,"$destructure",g=function(ca){if(1==ca.length)return ca[0];if(ca.$$is_array)return ca;for(var la=Array(ca.length),b=0,l=la.length;b<l;b++)la[b]=ca[b];return la},g.$$arity=1);a.defs(C,"$respond_to?",h=function(ca,la,b){null==b&&(b=!1);return null!=ca&&ca.$$class?ca["$respond_to?"](la,b):!1},h.$$arity=-3);a.defs(C,"$instance_variable_name!",K=function(ca){ca=q(e,"Opal")["$coerce_to!"](ca,q(e,
"String"),"to_str");d(/^@[a-zA-Z_][a-zA-Z0-9_]*?$/.test(ca))||this.$raise(q(e,"NameError").$new("'"+ca+"' is not allowed as an instance variable name",ca));return ca},K.$$arity=1);a.defs(C,"$class_variable_name!",D=function(ca){ca=q(e,"Opal")["$coerce_to!"](ca,q(e,"String"),"to_str");d(3>ca.length||"@@"!==ca.slice(0,2))&&this.$raise(q(e,"NameError").$new("`"+ca+"' is not allowed as a class variable name",ca));return ca},D.$$arity=1);a.defs(C,"$const_name!",Q=function(ca){ca=q(e,"Opal")["$coerce_to!"](ca,
q(e,"String"),"to_str");d(ca["$[]"](0)["$!="](ca["$[]"](0).$upcase()))&&this.$raise(q(e,"NameError"),"wrong constant name "+ca);return ca},Q.$$arity=1);a.defs(C,"$pristine",ja=function(ca,la){var b=a.slice.call(arguments,1,arguments.length);for(var l,m=b.length-1;0<=m;m--)l=b[m],(l=ca.$$prototype["$"+l])&&!l.$$stub&&(l.$$pristine=!0);return I},ja.$$arity=-2)}(u[0],u)};
Opal.modules["corelib/module"]=function(a){function u(n,L){return"number"===typeof n&&"number"===typeof L?n<L:n["$<"](L)}var I=[],q=a.nil,r=a.$$$,x=a.$$,p=a.truthy,d=a.coerce_to,C=a.klass,A=a.send,e=a.hash2,f=a.lambda,F=a.range,c=a.send2;a.add_stubs("$module_eval $to_proc $=== $raise $equal? $< $> $nil? $attr_reader $attr_writer $warn $attr_accessor $class_variable_name! $new $const_name! $=~ $inject $split $const_get $== $!~ $start_with? $bind $call $class $append_features $included $name $cover? $size $merge $compile $proc $any? $prepend_features $prepended $to_s $__id__ $constants $include? $copy_class_variables $copy_constants".split(" "));
return function(n,$super,g){n=C(n,$super,"Module");var h=[n].concat(g),K,D,Q,ja,ca,la,b,l,m,v,B,E,H,J,Z,ta,Ka,ua,ya,Ia,na,P,ra,Y,ia,X,R,T,sa,Ca,ka,xa,Ea,Da,Ra,Pa,La,kb,lb,va,Na,Sa,db,jb,fb,gb,ib,Aa,wa,Oa,Va,Za,Fa,aa,W,da,V,ha,ma;a.defs(n,"$allocate",K=function(){var k=a.allocate_module(q,function(){});this!==a.Module&&Object.setPrototypeOf(k,this.$$prototype);return k},K.$$arity=0);a.def(n,"$initialize",D=function(){var k=D.$$p,z=k||q;k&&(D.$$p=null);k&&(D.$$p=null);return z!==q?A(this,"module_eval",
[],z.$to_proc()):q},D.$$arity=0);a.def(n,"$===",Q=function(k){return p(null==k)?!1:a.is_a(k,this)},Q.$$arity=1);a.def(n,"$<",ja=function(k){p(x(h,"Module")["$==="](k))||this.$raise(x(h,"TypeError"),"compared with non class/module");var z;if(this===k)return!1;var O=0;var fa=a.ancestors(this);for(z=fa.length;O<z;O++)if(fa[O]===k)return!0;O=0;fa=a.ancestors(k);for(z=fa.length;O<z;O++)if(fa[O]===this)return!1;return q},ja.$$arity=1);a.def(n,"$<=",ca=function(k){var z;return p(z=this["$equal?"](k))?z:
u(this,k)},ca.$$arity=1);a.def(n,"$>",la=function(k){p(x(h,"Module")["$==="](k))||this.$raise(x(h,"TypeError"),"compared with non class/module");return u(k,this)},la.$$arity=1);a.def(n,"$>=",b=function(k){var z;return p(z=this["$equal?"](k))?z:"number"===typeof this&&"number"===typeof k?this>k:this["$>"](k)},b.$$arity=1);a.def(n,"$<=>",l=function(k){if(this===k)return 0;if(!p(x(h,"Module")["$==="](k)))return q;k=u(this,k);return p(k["$nil?"]())?q:p(k)?-1:1},l.$$arity=1);a.def(n,"$alias_method",m=
function(k,z){k=d(k,x(h,"String"),"to_str");z=d(z,x(h,"String"),"to_str");a.alias(this,k,z);return this},m.$$arity=2);a.def(n,"$alias_native",v=function(k,z){null==z&&(z=k);a.alias_native(this,k,z);return this},v.$$arity=-2);a.def(n,"$ancestors",B=function(){return a.ancestors(this)},B.$$arity=0);a.def(n,"$append_features",E=function(k){a.append_features(this,k);return this},E.$$arity=1);a.def(n,"$attr_accessor",H=function(k){var z=a.slice.call(arguments,0,arguments.length);A(this,"attr_reader",a.to_a(z));
return A(this,"attr_writer",a.to_a(z))},H.$$arity=-1);a.def(n,"$attr",J=function(k){var z=a.slice.call(arguments,0,arguments.length);return 2!=z.length||!0!==z[1]&&!1!==z[1]?A(this,"attr_reader",a.to_a(z)):(this.$warn("optional boolean argument is obsoleted",e(["uplevel"],{uplevel:1})),z[1]?this.$attr_accessor(z[0]):this.$attr_reader(z[0]),q)},J.$$arity=-1);a.def(n,"$attr_reader",Z=function(k){var z=a.slice.call(arguments,0,arguments.length);for(var O=this.$$prototype,fa=z.length-1;0<=fa;fa--){var w=
z[fa],S="$"+w;w=a.ivar(w);var oa=function(Ha){return function(){return null==this[Ha]?q:this[Ha]}}(w);a.defineProperty(O,w,q);oa.$$parameters=[];oa.$$arity=0;a.defn(this,S,oa)}return q},Z.$$arity=-1);a.def(n,"$attr_writer",ta=function(k){var z=a.slice.call(arguments,0,arguments.length);for(var O=this.$$prototype,fa=z.length-1;0<=fa;fa--){var w=z[fa],S="$"+w+"=";w=a.ivar(w);var oa=function(Ha){return function(eb){return this[Ha]=eb}}(w);oa.$$parameters=[["req"]];oa.$$arity=1;a.defineProperty(O,w,q);
a.defn(this,S,oa)}return q},ta.$$arity=-1);a.def(n,"$autoload",Ka=function(k,z){null==this.$$autoload&&(this.$$autoload={});a.const_cache_version++;this.$$autoload[k]=z;return q},Ka.$$arity=2);a.def(n,"$class_variables",ua=function(){return Object.keys(a.class_variables(this))},ua.$$arity=0);a.def(n,"$class_variable_get",ya=function(k){k=x(h,"Opal")["$class_variable_name!"](k);var z=a.class_variables(this)[k];null==z&&this.$raise(x(h,"NameError").$new("uninitialized class variable "+k+" in "+this,
k));return z},ya.$$arity=1);a.def(n,"$class_variable_set",Ia=function(k,z){k=x(h,"Opal")["$class_variable_name!"](k);return a.class_variable_set(this,k,z)},Ia.$$arity=2);a.def(n,"$class_variable_defined?",na=function(k){k=x(h,"Opal")["$class_variable_name!"](k);return a.class_variables(this).hasOwnProperty(k)},na.$$arity=1);a.def(n,"$remove_class_variable",P=function(k){k=x(h,"Opal")["$class_variable_name!"](k);if(a.hasOwnProperty.call(this.$$cvars,k)){var z=this.$$cvars[k];delete this.$$cvars[k];
return z}this.$raise(x(h,"NameError"),"cannot remove "+k+" for "+this)},P.$$arity=1);a.def(n,"$constants",ra=function(k){null==k&&(k=!0);return a.constants(this,k)},ra.$$arity=-1);a.defs(n,"$constants",Y=function(k){if(null==k){k=(this.$$nesting||[]).concat(a.Object);var z,O={},fa;var w=0;for(fa=k.length;w<fa;w++)for(z in k[w].$$const)O[z]=!0;return Object.keys(O)}return a.constants(this,k)},Y.$$arity=-1);a.defs(n,"$nesting",ia=function(){return this.$$nesting||[]},ia.$$arity=0);a.def(n,"$const_defined?",
X=function(k,z){null==z&&(z=!0);k=x(h,"Opal")["$const_name!"](k);p(k["$=~"](r(x(h,"Opal"),"CONST_NAME_REGEXP")))||this.$raise(x(h,"NameError").$new("wrong constant name "+k,k));var O=[this],fa;z&&(O=O.concat(a.ancestors(this)),this.$$is_module&&(O=O.concat([a.Object]).concat(a.ancestors(a.Object))));var w=0;for(fa=O.length;w<fa;w++)if(z=O[w],null!=z.$$const[k])return!0;return!1},X.$$arity=-2);a.def(n,"$const_get",R=function(k,z){var O;null==z&&(z=!0);k=x(h,"Opal")["$const_name!"](k);0===k.indexOf("::")&&
"::"!==k&&(k=k.slice(2));if(p(-1!=k.indexOf("::")&&"::"!=k))return A(k.$split("::"),"inject",[this],(O=function(fa,w){null==fa&&(fa=q);null==w&&(w=q);return fa.$const_get(w)},O.$$s=this,O.$$arity=2,O));p(k["$=~"](r(x(h,"Opal"),"CONST_NAME_REGEXP")))||this.$raise(x(h,"NameError").$new("wrong constant name "+k,k));return z?x([this],k):a.const_get_local(this,k)},R.$$arity=-2);a.def(n,"$const_missing",T=function(k){var z;if(this.$$autoload&&(z=this.$$autoload[k]))return this.$require(z),this.$const_get(k);
z=this["$=="](x(h,"Object"))?k:""+this+"::"+k;return this.$raise(x(h,"NameError").$new("uninitialized constant "+z,k))},T.$$arity=1);a.def(n,"$const_set",sa=function(k,z){var O=q;k=x(h,"Opal")["$const_name!"](k);p(p(O=k["$!~"](r(x(h,"Opal"),"CONST_NAME_REGEXP")))?O:k["$start_with?"]("::"))&&this.$raise(x(h,"NameError").$new("wrong constant name "+k,k));a.const_set(this,k,z);return z},sa.$$arity=2);a.def(n,"$public_constant",Ca=function(){return q},Ca.$$arity=1);a.def(n,"$define_method",ka=function(k,
z){var O=ka.$$p,fa=O||q,w,S=this,oa=q,Ha=q;O&&(ka.$$p=null);O&&(ka.$$p=null);p(void 0===z&&fa===q)&&S.$raise(x(h,"ArgumentError"),"tried to create a Proc object without a block");fa=function(){return p(oa=fa)?oa:function(){Ha=z;return x(h,"Proc")["$==="](Ha)?z:x(h,"Method")["$==="](Ha)?z.$to_proc().$$unbound:x(h,"UnboundMethod")["$==="](Ha)?f((w=function(eb){var ob=null==w.$$s?this:w.$$s;var mb=a.slice.call(arguments,0,arguments.length);ob=z.$bind(ob);return A(ob,"call",a.to_a(mb))},w.$$s=S,w.$$arity=
-1,w)):S.$raise(x(h,"TypeError"),"wrong argument type "+fa.$class()+" (expected Proc/Method)")}()}();fa.$$jsid=k;fa.$$s=null;fa.$$def=fa;fa.$$define_meth=!0;a.defn(S,"$"+k,fa);return k},ka.$$arity=-2);a.def(n,"$remove_method",xa=function(k){var z=a.slice.call(arguments,0,arguments.length);for(var O=0,fa=z.length;O<fa;O++)a.rdef(this,"$"+z[O]);return this},xa.$$arity=-1);a.def(n,"$singleton_class?",Ea=function(){return!!this.$$is_singleton},Ea.$$arity=0);a.def(n,"$include",Da=function(k){var z=a.slice.call(arguments,
0,arguments.length);for(var O=z.length-1;0<=O;O--){var fa=z[O];fa.$$is_module||this.$raise(x(h,"TypeError"),"wrong argument type "+fa.$class()+" (expected Module)");fa.$append_features(this);fa.$included(this)}return this},Da.$$arity=-1);a.def(n,"$included_modules",Ra=function(){return a.included_modules(this)},Ra.$$arity=0);a.def(n,"$include?",Pa=function(k){k.$$is_module||this.$raise(x(h,"TypeError"),"wrong argument type "+k.$class()+" (expected Module)");var z,O=a.ancestors(this);var fa=0;for(z=
O.length;fa<z;fa++){var w=O[fa];if(w===k&&w!==this)return!0}return!1},Pa.$$arity=1);a.def(n,"$instance_method",La=function(k){var z=this.$$prototype["$"+k];z&&!z.$$stub||this.$raise(x(h,"NameError").$new("undefined method `"+k+"' for class `"+this.$name()+"'",k));return x(h,"UnboundMethod").$new(this,z.$$owner||this,z,k)},La.$$arity=1);a.def(n,"$instance_methods",kb=function(k){null==k&&(k=!0);return p(k)?a.instance_methods(this):a.own_instance_methods(this)},kb.$$arity=-1);a.def(n,"$included",lb=
function(){return q},lb.$$arity=1);a.def(n,"$extended",va=function(){return q},va.$$arity=1);a.def(n,"$extend_object",Na=function(){return q},Na.$$arity=1);a.def(n,"$method_added",Sa=function(k){a.slice.call(arguments,0,arguments.length);return q},Sa.$$arity=-1);a.def(n,"$method_removed",db=function(k){a.slice.call(arguments,0,arguments.length);return q},db.$$arity=-1);a.def(n,"$method_undefined",jb=function(k){a.slice.call(arguments,0,arguments.length);return q},jb.$$arity=-1);a.def(n,"$module_eval",
fb=function(k){var z=fb.$$p,O=z||q,fa,w,S=q,oa=fa=q,Ha=oa=q,eb=oa=q;z&&(fb.$$p=null);z&&(fb.$$p=null);fa=a.slice.call(arguments,0,arguments.length);p(p(S=O["$nil?"]())?!!a.compile:S)?(p(F(1,3,!1)["$cover?"](fa.$size()))||x(h,"Kernel").$raise(x(h,"ArgumentError"),"wrong number of arguments (0 for 1..3)"),O=[].concat(a.to_a(fa)),fa=null==O[0]?q:O[0],oa=null==O[1]?q:O[1],O,oa=e(["file","eval"],{file:p(Ha=oa)?Ha:"(eval)",eval:!0}),oa=a.hash({arity_check:!1}).$merge(oa),eb=x(h,"Opal").$compile(fa,oa),
O=A(x(h,"Kernel"),"proc",[],(w=function(){return function(){return eval(eb)}(null==w.$$s?this:w.$$s)},w.$$s=this,w.$$arity=0,w))):p(fa["$any?"]())&&x(h,"Kernel").$raise(x(h,"ArgumentError"),"wrong number of arguments ("+fa.$size()+" for 0)\n\n  NOTE:If you want to enable passing a String argument please add \"require 'opal-parser'\" to your script\n");Ha=O.$$s;O.$$s=null;S=O.apply(this,[this]);O.$$s=Ha;return S},fb.$$arity=-1);a.alias(n,"class_eval","module_eval");a.def(n,"$module_exec",gb=function(k){var z=
gb.$$p,O=z||q;z&&(gb.$$p=null);z&&(gb.$$p=null);var fa=a.slice.call(arguments,0,arguments.length);O===q&&this.$raise(x(h,"LocalJumpError"),"no block given");z=O.$$s;O.$$s=null;fa=O.apply(this,fa);O.$$s=z;return fa},gb.$$arity=-1);a.alias(n,"class_exec","module_exec");a.def(n,"$method_defined?",ib=function(k){k=this.$$prototype["$"+k];return!!k&&!k.$$stub},ib.$$arity=1);a.def(n,"$module_function",Aa=function(k){var z=a.slice.call(arguments,0,arguments.length);if(0===z.length)this.$$module_function=
!0;else for(var O=0,fa=z.length;O<fa;O++){var w="$"+z[O];a.defs(this,w,this.$$prototype[w])}return this},Aa.$$arity=-1);a.def(n,"$name",wa=function(){if(this.$$full_name)return this.$$full_name;for(var k=[],z=this;z;){if(z.$$name===q||null==z.$$name)return q;k.unshift(z.$$name);z=z.$$base_module;if(z===a.Object)break}return 0===k.length?q:this.$$full_name=k.join("::")},wa.$$arity=0);a.def(n,"$prepend",Oa=function(k){var z=a.slice.call(arguments,0,arguments.length);0===z.length&&this.$raise(x(h,"ArgumentError"),
"wrong number of arguments (given 0, expected 1+)");for(var O=z.length-1;0<=O;O--){var fa=z[O];fa.$$is_module||this.$raise(x(h,"TypeError"),"wrong argument type "+fa.$class()+" (expected Module)");fa.$prepend_features(this);fa.$prepended(this)}return this},Oa.$$arity=-1);a.def(n,"$prepend_features",Va=function(k){this.$$is_module||this.$raise(x(h,"TypeError"),"wrong argument type "+this.$class()+" (expected Module)");a.prepend_features(this,k);return this},Va.$$arity=1);a.def(n,"$prepended",Za=function(){return q},
Za.$$arity=1);a.def(n,"$remove_const",Fa=function(k){return a.const_remove(this,k)},Fa.$$arity=1);a.def(n,"$to_s",aa=function(){var k;return p(k=a.Module.$name.call(this))?k:"#<"+(this.$$is_module?"Module":"Class")+":0x"+this.$__id__().$to_s(16)+">"},aa.$$arity=0);a.def(n,"$undef_method",W=function(k){var z=a.slice.call(arguments,0,arguments.length);for(var O=0,fa=z.length;O<fa;O++)a.udef(this,"$"+z[O]);return this},W.$$arity=-1);a.def(n,"$instance_variables",da=function(){var k=(a.Module.$$nesting=
h,this.$constants());var z=[],O;for(O in this)this.hasOwnProperty(O)&&"$"!==O.charAt(0)&&"constructor"!==O&&!k["$include?"](O)&&z.push("@"+O);return z},da.$$arity=0);a.def(n,"$dup",V=function(){var k=V.$$p,z;k&&(V.$$p=null);var O=0;var fa=arguments.length;for(z=Array(fa);O<fa;O++)z[O]=arguments[O];k=c(this,a.find_super_dispatcher(this,"dup",V,!1,!0),"dup",z,k);k.$copy_class_variables(this);k.$copy_constants(this);return k},V.$$arity=0);a.def(n,"$copy_class_variables",ha=function(k){for(var z in k.$$cvars)this.$$cvars[z]=
k.$$cvars[z]},ha.$$arity=1);return(a.def(n,"$copy_constants",ma=function(k){var z;k=k.$$const;for(z in k)a.const_set(this,z,k[z])},ma.$$arity=1),q)&&"copy_constants"}(I[0],null,I)};
Opal.modules["corelib/class"]=function(a){var u=a.top,I=[],q=a.nil,r=a.$$,x=a.klass,p=a.send,d=a.send2;a.add_stubs("$require $class_eval $to_proc $initialize_copy $allocate $name $to_s".split(" "));u.$require("corelib/module");return function(C,$super,e){C=x(C,$super,"Class");var f=[C].concat(e),F,c,n,L,g,h,K;a.defs(C,"$new",F=function(D){var Q=F.$$p,ja=Q||q;Q&&(F.$$p=null);Q&&(F.$$p=null);null==D&&(D=r(f,"Object"));if(!D.$$is_class)throw a.TypeError.$new("superclass must be a Class");Q=a.allocate_class(q,
D);D.$inherited(Q);ja!==q&&p(Q,"class_eval",[],ja.$to_proc());return Q},F.$$arity=-1);a.def(C,"$allocate",c=function(){var D=new this.$$constructor;D.$$id=a.uid();return D},c.$$arity=0);a.def(C,"$inherited",n=function(){return q},n.$$arity=1);a.def(C,"$initialize_dup",L=function(D){this.$initialize_copy(D);this.$$full_name=this.$$name=null},L.$$arity=1);a.def(C,"$new",g=function(D){var Q=g.$$p,ja=Q||q;Q&&(g.$$p=null);Q&&(g.$$p=null);Q=a.slice.call(arguments,0,arguments.length);var ca=this.$allocate();
a.send(ca,ca.$initialize,Q,ja);return ca},g.$$arity=-1);a.def(C,"$superclass",h=function(){return this.$$super||q},h.$$arity=0);return(a.def(C,"$to_s",K=function(){K.$$p&&(K.$$p=null);var D=this.$$singleton_of;return D&&D.$$is_a_module?"#<Class:"+D.$name()+">":D?"#<Class:#<"+D.$$class.$name()+":0x"+a.id(D).$to_s(16)+">>":d(this,a.find_super_dispatcher(this,"to_s",K,!1,!0),"to_s",[],null)},K.$$arity=0),q)&&"to_s"}(I[0],null,I)};
Opal.modules["corelib/basic_object"]=function(a){var u=[],I=a.nil,q=a.$$$,r=a.klass,x=a.truthy,p=a.range,d=a.hash2,C=a.send;a.add_stubs("$== $! $nil? $cover? $size $raise $merge $compile $proc $any? $inspect $new".split(" "));return function(A,$super,f){A=r(A,$super,"BasicObject");[A].concat(f);var F,c,n,L,g,h,K,D,Q,ja,ca,la,b,l;a.def(A,"$initialize",F=function(m){a.slice.call(arguments,0,arguments.length);return I},F.$$arity=-1);a.def(A,"$==",c=function(m){return this===m},c.$$arity=1);a.def(A,"$eql?",
n=function(m){return this["$=="](m)},n.$$arity=1);a.alias(A,"equal?","==");a.def(A,"$__id__",L=function(){if(null!=this.$$id)return this.$$id;a.defineProperty(this,"$$id",a.uid());return this.$$id},L.$$arity=0);a.def(A,"$__send__",g=function(m,v){var B=g.$$p,E=B||I;B&&(g.$$p=null);B&&(g.$$p=null);B=a.slice.call(arguments,1,arguments.length);var H=this["$"+m];if(H)return E!==I&&(H.$$p=E),H.apply(this,B);E!==I&&(this.$method_missing.$$p=E);return this.$method_missing.apply(this,[m].concat(B))},g.$$arity=
-2);a.def(A,"$!",h=function(){return!1},h.$$arity=0);a.def(A,"$!=",K=function(m){return this["$=="](m)["$!"]()},K.$$arity=1);a.def(A,"$instance_eval",D=function(m){var v=D.$$p,B=v||I,E,H,J=I,Z=E=I,ta=Z=I,Ka=Z=I;v&&(D.$$p=null);v&&(D.$$p=null);E=a.slice.call(arguments,0,arguments.length);x(x(J=B["$nil?"]())?!!a.compile:J)?(x(p(1,3,!1)["$cover?"](E.$size()))||q("::","Kernel").$raise(q("::","ArgumentError"),"wrong number of arguments (0 for 1..3)"),B=[].concat(a.to_a(E)),E=null==B[0]?I:B[0],Z=null==
B[1]?I:B[1],B,Z=d(["file","eval"],{file:x(ta=Z)?ta:"(eval)",eval:!0}),Z=a.hash({arity_check:!1}).$merge(Z),Ka=q("::","Opal").$compile(E,Z),B=C(q("::","Kernel"),"proc",[],(H=function(){return function(){return eval(Ka)}(null==H.$$s?this:H.$$s)},H.$$s=this,H.$$arity=0,H))):x(E["$any?"]())&&q("::","Kernel").$raise(q("::","ArgumentError"),"wrong number of arguments ("+E.$size()+" for 0)");ta=B.$$s;B.$$s=null;if(this.$$is_a_module){this.$$eval=!0;try{var ua=B.call(this,this)}finally{this.$$eval=!1}}else ua=
B.call(this,this);B.$$s=ta;return ua},D.$$arity=-1);a.def(A,"$instance_exec",Q=function(m){var v=Q.$$p,B=v||I;v&&(Q.$$p=null);v&&(Q.$$p=null);v=a.slice.call(arguments,0,arguments.length);x(B)||q("::","Kernel").$raise(q("::","ArgumentError"),"no block given");var E=B.$$s;B.$$s=null;if(this.$$is_a_module){this.$$eval=!0;try{var H=B.apply(this,v)}finally{this.$$eval=!1}}else H=B.apply(this,v);B.$$s=E;return H},Q.$$arity=-1);a.def(A,"$singleton_method_added",ja=function(m){a.slice.call(arguments,0,arguments.length);
return I},ja.$$arity=-1);a.def(A,"$singleton_method_removed",ca=function(m){a.slice.call(arguments,0,arguments.length);return I},ca.$$arity=-1);a.def(A,"$singleton_method_undefined",la=function(m){a.slice.call(arguments,0,arguments.length);return I},la.$$arity=-1);a.def(A,"$method_missing",b=function(m,v){var B=b.$$p;B&&(b.$$p=null);B&&(b.$$p=null);a.slice.call(arguments,1,arguments.length);B=x(this.$inspect&&!this.$inspect.$$stub)?"undefined method `"+m+"' for "+this.$inspect()+":"+this.$$class:
"undefined method `"+m+"' for "+this.$$class;return q("::","Kernel").$raise(q("::","NoMethodError").$new(B,m))},b.$$arity=-2);return(a.def(A,"$respond_to_missing?",l=function(){return!1},l.$$arity=-2),I)&&"respond_to_missing?"}(u[0],null,u)};
Opal.modules["corelib/kernel"]=function(a){function u(c,n){return"number"===typeof c&&"number"===typeof n?c<=n:c["$<="](n)}var I=[],q=a.nil,r=a.$$$,x=a.$$,p=a.truthy,d=a.coerce_to,C=a.module,A=a.gvars,e=a.hash2,f=a.send,F=a.klass;a.add_stubs("$raise $new $inspect $! $=~ $== $object_id $class $coerce_to? $<< $allocate $copy_instance_variables $copy_singleton_methods $initialize_clone $initialize_copy $define_method $singleton_class $to_proc $initialize_dup $for $empty? $pop $call $append_features $extend_object $extended $__id__ $to_s $instance_variable_name! $respond_to? $to_int $coerce_to! $Integer $nil? $=== $enum_for $result $any? $print $format $puts $each $<= $length $[] $< $first $caller $+ $map $exception $is_a? $rand $respond_to_missing? $pristine $try_convert! $expand_path $join $start_with? $new_seed $srand $sym $arg $open $include".split(" "));(function(c,
n){c=C(c,"Kernel");var L=[c].concat(n),g,h,K,D,Q,ja,ca,la,b,l,m,v,B,E,H,J,Z,ta,Ka,ua,ya,Ia,na,P,ra,Y,ia,X,R,T,sa,Ca,ka,xa,Ea,Da,Ra,Pa,La,kb,lb,va,Na,Sa,db,jb,fb,gb,ib,Aa,wa,Oa,Va,Za,Fa,aa,W,da,V,ha,ma,k,z,O,fa;a.def(c,"$method_missing",g=function(w,S){var oa=g.$$p;oa&&(g.$$p=null);oa&&(g.$$p=null);oa=a.slice.call(arguments,1,arguments.length);return this.$raise(x(L,"NoMethodError").$new("undefined method `"+w+"' for "+this.$inspect(),w,oa))},g.$$arity=-2);a.def(c,"$=~",h=function(){return!1},h.$$arity=
1);a.def(c,"$!~",K=function(w){return this["$=~"](w)["$!"]()},K.$$arity=1);a.def(c,"$===",D=function(w){var S;return p(S=this.$object_id()["$=="](w.$object_id()))?S:this["$=="](w)},D.$$arity=1);a.def(c,"$<=>",Q=function(w){this.$$comparable=!0;return(w=this["$=="](w))&&w!==q?0:q},Q.$$arity=1);a.def(c,"$method",ja=function(w){var S=this["$"+w];S&&!S.$$stub||this.$raise(x(L,"NameError").$new("undefined method `"+w+"' for class `"+this.$class()+"'",w));return x(L,"Method").$new(this,S.$$owner||this.$class(),
S,w)},ja.$$arity=1);a.def(c,"$methods",ca=function(w){null==w&&(w=!0);return p(w)?a.methods(this):a.own_methods(this)},ca.$$arity=-1);a.def(c,"$public_methods",la=function(w){null==w&&(w=!0);return p(w)?a.methods(this):a.receiver_methods(this)},la.$$arity=-1);a.def(c,"$Array",b=function(w){if(w===q)return[];if(w.$$is_array)return w;var S=x(L,"Opal")["$coerce_to?"](w,x(L,"Array"),"to_ary");if(S!==q)return S;S=x(L,"Opal")["$coerce_to?"](w,x(L,"Array"),"to_a");return S!==q?S:[w]},b.$$arity=1);a.def(c,
"$at_exit",l=function(){var w=l.$$p,S=w||q,oa=q;null==A.__at_exit__&&(A.__at_exit__=q);w&&(l.$$p=null);w&&(l.$$p=null);A.__at_exit__=p(oa=A.__at_exit__)?oa:[];A.__at_exit__["$<<"](S);return S},l.$$arity=0);a.def(c,"$caller",m=function(w,S){null==S&&(S=q);w=(Error().stack||"").split("\n");var oa=[];for(var Ha=3,eb=w.length;Ha<eb&&(w[Ha].match("runtime.js")||(oa.push(w[Ha].replace(/^ *\w+ +/,"")),!S||oa.length!=S));Ha++);return oa},m.$$arity=-1);a.def(c,"$class",v=function(){return this.$$class},v.$$arity=
0);a.def(c,"$copy_instance_variables",B=function(w){var S=Object.keys(w),oa;var Ha=0;for(oa=S.length;Ha<oa;Ha++){var eb=S[Ha];"$"!==eb.charAt(0)&&w.hasOwnProperty(eb)&&(this[eb]=w[eb])}},B.$$arity=1);a.def(c,"$copy_singleton_methods",E=function(w){var S;if(w.hasOwnProperty("$$meta")){var oa=a.get_singleton_class(w),Ha=a.get_singleton_class(this);var eb=Object.getOwnPropertyNames(oa.$$prototype);var ob=0;for(S=eb.length;ob<S;ob++){var mb=eb[ob];a.is_method(mb)&&(Ha.$$prototype[mb]=oa.$$prototype[mb])}Ha.$$const=
Object.assign({},oa.$$const);Object.setPrototypeOf(Ha.$$prototype,Object.getPrototypeOf(oa.$$prototype))}ob=0;eb=Object.getOwnPropertyNames(w);for(S=eb.length;ob<S;ob++)mb=eb[ob],"$"===mb.charAt(0)&&"$"!==mb.charAt(1)&&w.hasOwnProperty(mb)&&(this[mb]=w[mb])},E.$$arity=1);a.def(c,"$clone",H=function(w){if(null==w)e([],{});else if(!w.$$is_hash)throw a.ArgumentError.$new("expected kwargs");w=this.$class().$allocate();w.$copy_instance_variables(this);w.$copy_singleton_methods(this);w.$initialize_clone(this);
return w},H.$$arity=-1);a.def(c,"$initialize_clone",J=function(w){return this.$initialize_copy(w)},J.$$arity=1);a.def(c,"$define_singleton_method",Z=function(w,S){var oa=Z.$$p,Ha=oa||q;oa&&(Z.$$p=null);oa&&(Z.$$p=null);return f(this.$singleton_class(),"define_method",[w,S],Ha.$to_proc())},Z.$$arity=-2);a.def(c,"$dup",ta=function(){var w=this.$class().$allocate();w.$copy_instance_variables(this);w.$initialize_dup(this);return w},ta.$$arity=0);a.def(c,"$initialize_dup",Ka=function(w){return this.$initialize_copy(w)},
Ka.$$arity=1);a.def(c,"$enum_for",ua=function(w,S){var oa=ua.$$p,Ha=oa||q;oa&&(ua.$$p=null);oa&&(ua.$$p=null);oa=a.slice.call(arguments,0,arguments.length);if(0<oa.length){var eb=oa[0];oa.splice(0,1)}null==eb&&(eb="each");return f(x(L,"Enumerator"),"for",[this,eb].concat(a.to_a(oa)),Ha.$to_proc())},ua.$$arity=-1);a.alias(c,"to_enum","enum_for");a.def(c,"$equal?",ya=function(w){return this===w},ya.$$arity=1);a.def(c,"$exit",Ia=function(w){var S=q;null==A.__at_exit__&&(A.__at_exit__=q);null==w&&(w=
!0);for(A.__at_exit__=p(S=A.__at_exit__)?S:[];!p(A.__at_exit__["$empty?"]());)S=A.__at_exit__.$pop(),S.$call();w=w.$$is_boolean?w?0:1:d(w,x(L,"Integer"),"to_int");a.exit(w);return q},Ia.$$arity=-1);a.def(c,"$extend",na=function(w){var S=a.slice.call(arguments,0,arguments.length);for(var oa=this.$singleton_class(),Ha=S.length-1;0<=Ha;Ha--){var eb=S[Ha];eb.$$is_module||this.$raise(x(L,"TypeError"),"wrong argument type "+eb.$class()+" (expected Module)");eb.$append_features(oa);eb.$extend_object(this);
eb.$extended(this)}return this},na.$$arity=-1);a.def(c,"$hash",P=function(){return this.$__id__()},P.$$arity=0);a.def(c,"$initialize_copy",ra=function(){return q},ra.$$arity=1);a.def(c,"$inspect",Y=function(){return this.$to_s()},Y.$$arity=0);a.def(c,"$instance_of?",ia=function(w){w.$$is_class||w.$$is_module||this.$raise(x(L,"TypeError"),"class or module required");return this.$$class===w},ia.$$arity=1);a.def(c,"$instance_variable_defined?",X=function(w){w=x(L,"Opal")["$instance_variable_name!"](w);
return a.hasOwnProperty.call(this,w.substr(1))},X.$$arity=1);a.def(c,"$instance_variable_get",R=function(w){w=x(L,"Opal")["$instance_variable_name!"](w);w=this[a.ivar(w.substr(1))];return null==w?q:w},R.$$arity=1);a.def(c,"$instance_variable_set",T=function(w,S){w=x(L,"Opal")["$instance_variable_name!"](w);return this[a.ivar(w.substr(1))]=S},T.$$arity=2);a.def(c,"$remove_instance_variable",sa=function(w){w=x(L,"Opal")["$instance_variable_name!"](w);var S=a.ivar(w.substr(1));return this.hasOwnProperty(S)?
(w=this[S],delete this[S],w):this.$raise(x(L,"NameError"),"instance variable "+w+" not defined")},sa.$$arity=1);a.def(c,"$instance_variables",Ca=function(){var w=[],S;for(S in this)if(this.hasOwnProperty(S)&&"$"!==S.charAt(0)){var oa="$"===S.substr(-1)?S.slice(0,S.length-1):S;w.push("@"+oa)}return w},Ca.$$arity=0);a.def(c,"$Integer",ka=function(w,S){var oa=this;if(!w.$$is_string){void 0!==S&&oa.$raise(x(L,"ArgumentError"),"base specified for non string value");w===q&&oa.$raise(x(L,"TypeError"),"can't convert nil into Integer");
if(w.$$is_number)return(Infinity===w||-Infinity===w||isNaN(w))&&oa.$raise(x(L,"FloatDomainError"),w),Math.floor(w);if(w["$respond_to?"]("to_int")){var Ha=w.$to_int();if(Ha!==q)return Ha}return x(L,"Opal")["$coerce_to!"](w,x(L,"Integer"),"to_i")}if("0"===w)return 0;void 0===S?S=0:(S=d(S,x(L,"Integer"),"to_int"),(1===S||0>S||36<S)&&oa.$raise(x(L,"ArgumentError"),"invalid radix "+S));Ha=w.toLowerCase();Ha=Ha.replace(/(\d)_(?=\d)/g,"$1");Ha=Ha.replace(/^(\s*[+-]?)(0[bodx]?)/,function(ob,mb,sb){switch(sb){case "0b":if(0===
S||2===S)return S=2,mb;case "0":case "0o":if(0===S||8===S)return S=8,mb;case "0d":if(0===S||10===S)return S=10,mb;case "0x":if(0===S||16===S)return S=16,mb}oa.$raise(x(L,"ArgumentError"),'invalid value for Integer(): "'+w+'"')});S=0===S?10:S;var eb="0-"+(10>=S?S-1:"9a-"+String.fromCharCode(97+(S-11)));(new RegExp("^\\s*[+-]?["+eb+"]+\\s*$")).test(Ha)||oa.$raise(x(L,"ArgumentError"),'invalid value for Integer(): "'+w+'"');Ha=parseInt(Ha,S);isNaN(Ha)&&oa.$raise(x(L,"ArgumentError"),'invalid value for Integer(): "'+
w+'"');return Ha},ka.$$arity=-2);a.def(c,"$Float",xa=function(w){w===q&&this.$raise(x(L,"TypeError"),"can't convert nil into Float");if(w.$$is_string){var S=w.toString();S=S.replace(/(\d)_(?=\d)/g,"$1");if(/^\s*[-+]?0[xX][0-9a-fA-F]+\s*$/.test(S))return this.$Integer(S);/^\s*[-+]?[0-9]*\.?[0-9]+([eE][-+]?[0-9]+)?\s*$/.test(S)||this.$raise(x(L,"ArgumentError"),'invalid value for Float(): "'+w+'"');return parseFloat(S)}return x(L,"Opal")["$coerce_to!"](w,x(L,"Float"),"to_f")},xa.$$arity=1);a.def(c,
"$Hash",Ea=function(w){var S=q;return p(p(S=w["$nil?"]())?S:w["$=="]([]))?e([],{}):p(x(L,"Hash")["$==="](w))?w:x(L,"Opal")["$coerce_to!"](w,x(L,"Hash"),"to_hash")},Ea.$$arity=1);a.def(c,"$is_a?",Da=function(w){w.$$is_class||w.$$is_module||this.$raise(x(L,"TypeError"),"class or module required");return a.is_a(this,w)},Da.$$arity=1);a.def(c,"$itself",Ra=function(){return this},Ra.$$arity=0);a.alias(c,"kind_of?","is_a?");a.def(c,"$lambda",Pa=function(){var w=Pa.$$p,S=w||q;w&&(Pa.$$p=null);w&&(Pa.$$p=
null);return a.lambda(S)},Pa.$$arity=0);a.def(c,"$load",La=function(w){w=x(L,"Opal")["$coerce_to!"](w,x(L,"String"),"to_str");return a.load(w)},La.$$arity=1);a.def(c,"$loop",kb=function(){var w,S=kb.$$p,oa=S||q,Ha=q;S&&(kb.$$p=null);if(oa===q)return f(this,"enum_for",["loop"],(w=function(){return r(x(L,"Float"),"INFINITY")},w.$$s=this,w.$$arity=0,w));for(;p(!0);)try{a.yieldX(oa,[])}catch(eb){if(a.rescue(eb,[x(L,"StopIteration")])){Ha=eb;try{return Ha.$result()}finally{a.pop_exception()}}else throw eb;
}return this},kb.$$arity=0);a.def(c,"$nil?",lb=function(){return!1},lb.$$arity=0);a.alias(c,"object_id","__id__");a.def(c,"$printf",va=function(w){var S=a.slice.call(arguments,0,arguments.length);p(S["$any?"]())&&this.$print(f(this,"format",a.to_a(S)));return q},va.$$arity=-1);a.def(c,"$proc",Na=function(){var w=Na.$$p,S=w||q;w&&(Na.$$p=null);w&&(Na.$$p=null);p(S)||this.$raise(x(L,"ArgumentError"),"tried to create Proc object without a block");S.$$is_lambda=!1;return S},Na.$$arity=0);a.def(c,"$puts",
Sa=function(w){null==A.stdout&&(A.stdout=q);var S=a.slice.call(arguments,0,arguments.length);return f(A.stdout,"puts",a.to_a(S))},Sa.$$arity=-1);a.def(c,"$p",db=function(w){var S;var oa=a.slice.call(arguments,0,arguments.length);f(oa,"each",[],(S=function(Ha){null==A.stdout&&(A.stdout=q);null==Ha&&(Ha=q);return A.stdout.$puts(Ha.$inspect())},S.$$s=this,S.$$arity=1,S));return p(u(oa.$length(),1))?oa["$[]"](0):oa},db.$$arity=-1);a.def(c,"$print",jb=function(w){null==A.stdout&&(A.stdout=q);var S=a.slice.call(arguments,
0,arguments.length);return f(A.stdout,"print",a.to_a(S))},jb.$$arity=-1);a.def(c,"$warn",fb=function(w,S){var oa,Ha=q,eb=q;null==A.VERBOSE&&(A.VERBOSE=q);null==A.stderr&&(A.stderr=q);var ob=a.slice.call(arguments,0,arguments.length);var mb=a.extract_kwargs(ob);if(null==mb)mb=e([],{});else if(!mb.$$is_hash)throw a.ArgumentError.$new("expected kwargs");mb=mb.$$smap.uplevel;null==mb&&(mb=q);p(mb)&&(mb=x(L,"Opal")["$coerce_to!"](mb,x(L,"Integer"),"to_str"),p("number"===typeof mb?0>mb:mb["$<"](0))&&this.$raise(x(L,
"ArgumentError"),"negative level ("+mb+")"),Ha=this.$caller("number"===typeof mb?mb+2:mb["$+"](2),1).$first(),p(Ha)&&(Ha=""+Ha+": "),ob=f(ob,"map",[],(oa=function(sb){null==sb&&(sb=q);return""+Ha+"warning: "+sb},oa.$$s=this,oa.$$arity=1,oa)));return p(p(eb=A.VERBOSE["$nil?"]())?eb:ob["$empty?"]())?q:f(A.stderr,"puts",a.to_a(ob))},fb.$$arity=-1);a.def(c,"$raise",gb=function(w,S){null==A["!"]&&(A["!"]=q);null==S&&(S=q);if(null==w&&A["!"]!==q)throw A["!"];null==w?w=x(L,"RuntimeError").$new():w.$$is_string?
w=x(L,"RuntimeError").$new(w):w.$$is_class&&w["$respond_to?"]("exception")?w=w.$exception(S):w["$is_a?"](x(L,"Exception"))||(w=x(L,"TypeError").$new("exception class/object expected"));A["!"]!==q&&a.exceptions.push(A["!"]);A["!"]=w;throw w;},gb.$$arity=-1);a.alias(c,"fail","raise");a.def(c,"$rand",ib=function(w){if(void 0===w)return r(x(L,"Random"),"DEFAULT").$rand();w.$$is_number&&(0>w&&(w=Math.abs(w)),0!==w%1&&(w=w.$to_i()),0===w&&(w=void 0));return r(x(L,"Random"),"DEFAULT").$rand(w)},ib.$$arity=
-1);a.def(c,"$respond_to?",Aa=function(w,S){null==S&&(S=!1);var oa=this["$"+w];return"function"!==typeof oa||oa.$$stub?!0===this["$respond_to_missing?"].$$pristine?!1:this["$respond_to_missing?"](w,S):!0},Aa.$$arity=-2);a.def(c,"$respond_to_missing?",wa=function(){return!1},wa.$$arity=-2);x(L,"Opal").$pristine(c,"respond_to?","respond_to_missing?");a.def(c,"$require",Oa=function(w){w=x(L,"Opal")["$coerce_to!"](w,x(L,"String"),"to_str");return a.require(w)},Oa.$$arity=1);a.def(c,"$require_relative",
Va=function(w){x(L,"Opal")["$try_convert!"](w,x(L,"String"),"to_str");w=x(L,"File").$expand_path(x(L,"File").$join(a.current_file,"..",w));return a.require(w)},Va.$$arity=1);a.def(c,"$require_tree",Za=function(w){var S=[];w=x(L,"File").$expand_path(w);w=a.normalize(w);"."===w&&(w="");for(var oa in a.modules)oa["$start_with?"](w)&&S.push([oa,a.require(oa)]);return S},Za.$$arity=1);a.alias(c,"send","__send__");a.alias(c,"public_send","__send__");a.def(c,"$singleton_class",Fa=function(){return a.get_singleton_class(this)},
Fa.$$arity=0);a.def(c,"$sleep",aa=function(w){null==w&&(w=q);w===q&&this.$raise(x(L,"TypeError"),"can't convert NilClass into time interval");w.$$is_number||this.$raise(x(L,"TypeError"),"can't convert "+w.$class()+" into time interval");0>w&&this.$raise(x(L,"ArgumentError"),"time interval must be positive");for(var S=a.global.performance?function(){return performance.now()}:function(){return new Date},oa=S();S()-oa<=1E3*w;);return Math.round(w)},aa.$$arity=-1);a.def(c,"$srand",W=function(w){null==
w&&(w=x(L,"Random").$new_seed());return x(L,"Random").$srand(w)},W.$$arity=-1);a.def(c,"$String",da=function(w){var S;return p(S=x(L,"Opal")["$coerce_to?"](w,x(L,"String"),"to_str"))?S:x(L,"Opal")["$coerce_to!"](w,x(L,"String"),"to_s")},da.$$arity=1);a.def(c,"$tap",V=function(){var w=V.$$p,S=w||q;w&&(V.$$p=null);w&&(V.$$p=null);a.yield1(S,this);return this},V.$$arity=0);a.def(c,"$to_proc",ha=function(){return this},ha.$$arity=0);a.def(c,"$to_s",ma=function(){return"#<"+this.$class()+":0x"+this.$__id__().$to_s(16)+
">"},ma.$$arity=0);a.def(c,"$catch",k=function(w){var S=k.$$p,oa=S||q;S&&(k.$$p=null);try{return a.yieldX(oa,[])}catch(Ha){if(a.rescue(Ha,[x(L,"UncaughtThrowError")])){S=Ha;try{return S.$sym()["$=="](w)?S.$arg():this.$raise()}finally{a.pop_exception()}}else throw Ha;}},k.$$arity=1);a.def(c,"$throw",z=function(w){var S=a.slice.call(arguments,0,arguments.length);return this.$raise(x(L,"UncaughtThrowError"),S)},z.$$arity=-1);a.def(c,"$open",O=function(w){var S=O.$$p,oa=S||q;S&&(O.$$p=null);S&&(O.$$p=
null);S=a.slice.call(arguments,0,arguments.length);return f(x(L,"File"),"open",a.to_a(S),oa.$to_proc())},O.$$arity=-1);a.def(c,"$yield_self",fa=function(){var w,S=fa.$$p,oa=S||q;S&&(fa.$$p=null);return oa===q?f(this,"enum_for",["yield_self"],(w=function(){return 1},w.$$s=this,w.$$arity=0,w)):a.yield1(oa,this)},fa.$$arity=0);a.alias(c,"then","yield_self");x(L,"Opal").$pristine(c,"method_missing")})(I[0],I);return function(c,$super,L){c=F(c,$super,"Object");L=[c].concat(L);return c.$include(x(L,"Kernel"))}(I[0],
null,I)};
Opal.modules["corelib/error"]=function(a){var u=[],I=a.nil,q=a.$$,r=a.klass,x=a.send,p=a.truthy,d=a.module,C=a.send2,A=a.hash2;a.add_stubs("$new $clone $to_s $empty? $class $raise $+ $attr_reader $[] $> $length $inspect".split(" "));(function(e,$super,F){e=r(e,$super,"Exception");var c=[e].concat(F),n,L,g,h,K,D,Q,ja,ca;e.$$prototype.message=I;a.defs(e,"$new",n=function(b){var l=a.slice.call(arguments,0,arguments.length);var m=0<l.length?l[0]:I,v=new this.$$constructor(m);v.name=this.$$name;v.message=
m;a.send(v,v.$initialize,l);a.config.enable_stack_trace&&Error.captureStackTrace&&Error.captureStackTrace(v,la);return v},n.$$arity=-1);var la=e.$new;a.defs(e,"$exception",L=function(b){var l=a.slice.call(arguments,0,arguments.length);return x(this,"new",a.to_a(l))},L.$$arity=-1);a.def(e,"$initialize",g=function(b){var l=a.slice.call(arguments,0,arguments.length);return this.message=0<l.length?l[0]:I},g.$$arity=-1);a.def(e,"$backtrace",h=function(){if(this.backtrace)return this.backtrace;var b=this.stack;
return"string"===typeof b?b.split("\n").slice(0,15):b?b.slice(0,15):[]},h.$$arity=0);a.def(e,"$exception",K=function(b){null==b&&(b=I);if(b===I||this===b)return this;var l=this.$clone();l.message=b;l.stack=this.stack;return l},K.$$arity=-1);a.def(e,"$message",D=function(){return this.$to_s()},D.$$arity=0);a.def(e,"$inspect",Q=function(){var b=this.$to_s();return p(b["$empty?"]())?this.$class().$to_s():"#<"+this.$class().$to_s()+": "+this.$to_s()+">"},Q.$$arity=0);a.def(e,"$set_backtrace",ja=function(b){var l=
!0,m;if(b===I)this.backtrace=I,this.stack="";else if(b.$$is_string)this.backtrace=[b],this.stack=b;else{if(b.$$is_array){var v=0;for(m=b.length;v<m;v++)if(!b[v].$$is_string){l=!1;break}}else l=!1;!1===l&&this.$raise(q(c,"TypeError"),"backtrace must be Array of String");this.backtrace=b;this.stack=b.join("\n")}return b},ja.$$arity=1);return(a.def(e,"$to_s",ca=function(){var b=I,l=I;return p(b=p(l=this.message)?this.message.$to_s():l)?b:this.$class().$to_s()},ca.$$arity=0),I)&&"to_s"})(u[0],Error,u);
(function(e,$super,F){[r(e,$super,"ScriptError")].concat(F);return I})(u[0],q(u,"Exception"),u);(function(e,$super,F){[r(e,$super,"SyntaxError")].concat(F);return I})(u[0],q(u,"ScriptError"),u);(function(e,$super,F){[r(e,$super,"LoadError")].concat(F);return I})(u[0],q(u,"ScriptError"),u);(function(e,$super,F){[r(e,$super,"NotImplementedError")].concat(F);return I})(u[0],q(u,"ScriptError"),u);(function(e,$super,F){[r(e,$super,"SystemExit")].concat(F);return I})(u[0],q(u,"Exception"),u);(function(e,
$super,F){[r(e,$super,"NoMemoryError")].concat(F);return I})(u[0],q(u,"Exception"),u);(function(e,$super,F){[r(e,$super,"SignalException")].concat(F);return I})(u[0],q(u,"Exception"),u);(function(e,$super,F){[r(e,$super,"Interrupt")].concat(F);return I})(u[0],q(u,"Exception"),u);(function(e,$super,F){[r(e,$super,"SecurityError")].concat(F);return I})(u[0],q(u,"Exception"),u);(function(e,$super,F){[r(e,$super,"StandardError")].concat(F);return I})(u[0],q(u,"Exception"),u);(function(e,$super,F){[r(e,
$super,"EncodingError")].concat(F);return I})(u[0],q(u,"StandardError"),u);(function(e,$super,F){[r(e,$super,"ZeroDivisionError")].concat(F);return I})(u[0],q(u,"StandardError"),u);(function(e,$super,F){[r(e,$super,"NameError")].concat(F);return I})(u[0],q(u,"StandardError"),u);(function(e,$super,F){[r(e,$super,"NoMethodError")].concat(F);return I})(u[0],q(u,"NameError"),u);(function(e,$super,F){[r(e,$super,"RuntimeError")].concat(F);return I})(u[0],q(u,"StandardError"),u);(function(e,$super,F){[r(e,
$super,"FrozenError")].concat(F);return I})(u[0],q(u,"RuntimeError"),u);(function(e,$super,F){[r(e,$super,"LocalJumpError")].concat(F);return I})(u[0],q(u,"StandardError"),u);(function(e,$super,F){[r(e,$super,"TypeError")].concat(F);return I})(u[0],q(u,"StandardError"),u);(function(e,$super,F){[r(e,$super,"ArgumentError")].concat(F);return I})(u[0],q(u,"StandardError"),u);(function(e,$super,F){[r(e,$super,"IndexError")].concat(F);return I})(u[0],q(u,"StandardError"),u);(function(e,$super,F){[r(e,
$super,"StopIteration")].concat(F);return I})(u[0],q(u,"IndexError"),u);(function(e,$super,F){[r(e,$super,"KeyError")].concat(F);return I})(u[0],q(u,"IndexError"),u);(function(e,$super,F){[r(e,$super,"RangeError")].concat(F);return I})(u[0],q(u,"StandardError"),u);(function(e,$super,F){[r(e,$super,"FloatDomainError")].concat(F);return I})(u[0],q(u,"RangeError"),u);(function(e,$super,F){[r(e,$super,"IOError")].concat(F);return I})(u[0],q(u,"StandardError"),u);(function(e,$super,F){[r(e,$super,"SystemCallError")].concat(F);
return I})(u[0],q(u,"StandardError"),u);(function(e,f){e=[d(e,"Errno")].concat(f);(function(F,$super,n){F=r(F,$super,"EINVAL");[F].concat(n);var L;return(a.defs(F,"$new",L=function(g){L.$$p&&(L.$$p=null);null==g&&(g=I);var h="Invalid argument";p(g)&&(g=" - "+g,h="number"===typeof h&&"number"===typeof g?h+g:h["$+"](g));return C(this,a.find_super_dispatcher(this,"new",L,!1,!0),"new",[h],null)},L.$$arity=-1),I)&&"new"})(e[0],q(e,"SystemCallError"),e)})(u[0],u);(function(e,$super,F){e=r(e,$super,"UncaughtThrowError");
[e].concat(F);var c;e.$$prototype.sym=I;e.$attr_reader("sym","arg");return(a.def(e,"$initialize",c=function(n){c.$$p&&(c.$$p=null);this.sym=n["$[]"](0);var L=n.$length();L="number"===typeof L?1<L:L["$>"](1);p(L)&&(this.arg=n["$[]"](1));return C(this,a.find_super_dispatcher(this,"initialize",c,!1,!0),"initialize",["uncaught throw "+this.sym.$inspect()],null)},c.$$arity=1),I)&&"initialize"})(u[0],q(u,"ArgumentError"),u);(function(e,$super,F){e=r(e,$super,"NameError");[e].concat(F);var c;e.$attr_reader("name");
return(a.def(e,"$initialize",c=function(n,L){c.$$p&&(c.$$p=null);null==L&&(L=I);C(this,a.find_super_dispatcher(this,"initialize",c,!1,!0),"initialize",[n],null);return this.name=L},c.$$arity=-2),I)&&"initialize"})(u[0],null,u);(function(e,$super,F){e=r(e,$super,"NoMethodError");[e].concat(F);var c;e.$attr_reader("args");return(a.def(e,"$initialize",c=function(n,L,g){c.$$p&&(c.$$p=null);null==L&&(L=I);null==g&&(g=[]);C(this,a.find_super_dispatcher(this,"initialize",c,!1,!0),"initialize",[n,L],null);
return this.args=g},c.$$arity=-2),I)&&"initialize"})(u[0],null,u);(function(e,$super,F){e=r(e,$super,"StopIteration");[e].concat(F);return e.$attr_reader("result")})(u[0],null,u);(function(e,$super,F){e=r(e,$super,"KeyError");var c=[e].concat(F),n,L,g;e.$$prototype.receiver=e.$$prototype.key=I;a.def(e,"$initialize",n=function(h,K){n.$$p&&(n.$$p=null);if(null==K)K=A([],{});else if(!K.$$is_hash)throw a.ArgumentError.$new("expected kwargs");var D=K.$$smap.receiver;null==D&&(D=I);K=K.$$smap.key;null==
K&&(K=I);C(this,a.find_super_dispatcher(this,"initialize",n,!1,!0),"initialize",[h],null);this.receiver=D;return this.key=K},n.$$arity=-2);a.def(e,"$receiver",L=function(){var h;return p(h=this.receiver)?h:this.$raise(q(c,"ArgumentError"),"no receiver is available")},L.$$arity=0);return(a.def(e,"$key",g=function(){var h;return p(h=this.key)?h:this.$raise(q(c,"ArgumentError"),"no key is available")},g.$$arity=0),I)&&"key"})(u[0],null,u);return function(e,f){e=[d(e,"JS")].concat(f);[r(e[0],null,"Error")].concat(e)}(u[0],
u)};
Opal.modules["corelib/constants"]=function(a){var u=[],I=a.$$;a.const_set(u[0],"RUBY_PLATFORM","opal");a.const_set(u[0],"RUBY_ENGINE","opal");a.const_set(u[0],"RUBY_VERSION","3.0.0");a.const_set(u[0],"RUBY_ENGINE_VERSION","1.1.1");a.const_set(u[0],"RUBY_RELEASE_DATE","2021-02-23");a.const_set(u[0],"RUBY_PATCHLEVEL",0);a.const_set(u[0],"RUBY_REVISION","0");a.const_set(u[0],"RUBY_COPYRIGHT","opal - Copyright (C) 2013-2021 Adam Beynon and the Opal contributors");return a.const_set(u[0],"RUBY_DESCRIPTION","opal "+
I(u,"RUBY_ENGINE_VERSION")+" ("+I(u,"RUBY_RELEASE_DATE")+" revision "+I(u,"RUBY_REVISION")+")")};Opal.modules["opal/base"]=function(a){var u=a.top;a.add_stubs(["$require"]);u.$require("corelib/runtime");u.$require("corelib/helpers");u.$require("corelib/module");u.$require("corelib/class");u.$require("corelib/basic_object");u.$require("corelib/kernel");u.$require("corelib/error");return u.$require("corelib/constants")};
Opal.modules["corelib/nil"]=function(a){var u=[],I=a.nil,q=a.$$,r=a.klass,x=a.hash2,p=a.truthy;a.add_stubs("$raise $name $new $> $length $Rational".split(" "));(function(d,$super,A){d=r(d,$super,"NilClass");var e=[d].concat(A),f,F,c,n,L,g,h,K,D,Q,ja,ca,la,b,l,m,v,B;d.$$prototype.$$meta=d;(function(E,H){var J=[E].concat(H),Z;a.def(E,"$allocate",Z=function(){return this.$raise(q(J,"TypeError"),"allocator undefined for "+this.$name())},Z.$$arity=0);a.udef(E,"$new");return I})(a.get_singleton_class(d),
e);a.def(d,"$!",f=function(){return!0},f.$$arity=0);a.def(d,"$&",F=function(){return!1},F.$$arity=1);a.def(d,"$|",c=function(E){return!1!==E&&E!==I},c.$$arity=1);a.def(d,"$^",n=function(E){return!1!==E&&E!==I},n.$$arity=1);a.def(d,"$==",L=function(E){return E===I},L.$$arity=1);a.def(d,"$dup",g=function(){return I},g.$$arity=0);a.def(d,"$clone",h=function(E){if(null==E)x([],{});else if(!E.$$is_hash)throw a.ArgumentError.$new("expected kwargs");return I},h.$$arity=-1);a.def(d,"$inspect",K=function(){return"nil"},
K.$$arity=0);a.def(d,"$nil?",D=function(){return!0},D.$$arity=0);a.def(d,"$singleton_class",Q=function(){return q(e,"NilClass")},Q.$$arity=0);a.def(d,"$to_a",ja=function(){return[]},ja.$$arity=0);a.def(d,"$to_h",ca=function(){return a.hash()},ca.$$arity=0);a.def(d,"$to_i",la=function(){return 0},la.$$arity=0);a.alias(d,"to_f","to_i");a.def(d,"$to_s",b=function(){return""},b.$$arity=0);a.def(d,"$to_c",l=function(){return q(e,"Complex").$new(0,0)},l.$$arity=0);a.def(d,"$rationalize",m=function(E){var H=
a.slice.call(arguments,0,arguments.length).$length();H="number"===typeof H?1<H:H["$>"](1);p(H)&&this.$raise(q(e,"ArgumentError"));return this.$Rational(0,1)},m.$$arity=-1);a.def(d,"$to_r",v=function(){return this.$Rational(0,1)},v.$$arity=0);return(a.def(d,"$instance_variables",B=function(){return[]},B.$$arity=0),I)&&"instance_variables"})(u[0],null,u);return a.const_set(u[0],"NIL",I)};
Opal.modules["corelib/boolean"]=function(a){var u=[],I=a.nil,q=a.$$,r=a.klass,x=a.hash2;a.add_stubs(["$raise","$name"]);(function(p,$super,C){p=r(p,$super,"Boolean");var A=[p].concat(C),e,f,F,c,n,L,g,h,K,D;a.defineProperty(p.$$prototype,"$$is_boolean",!0);a.defineProperty(p.$$prototype,"$$meta",p);(function(Q,ja){var ca=[Q].concat(ja),la;a.def(Q,"$allocate",la=function(){return this.$raise(q(ca,"TypeError"),"allocator undefined for "+this.$name())},la.$$arity=0);a.udef(Q,"$new");return I})(a.get_singleton_class(p),
A);a.def(p,"$__id__",e=function(){return this.valueOf()?2:0},e.$$arity=0);a.alias(p,"object_id","__id__");a.def(p,"$!",f=function(){return 1!=this},f.$$arity=0);a.def(p,"$&",F=function(Q){return 1==this?!1!==Q&&Q!==I:!1},F.$$arity=1);a.def(p,"$|",c=function(Q){return 1==this?!0:!1!==Q&&Q!==I},c.$$arity=1);a.def(p,"$^",n=function(Q){return 1==this?!1===Q||Q===I:!1!==Q&&Q!==I},n.$$arity=1);a.def(p,"$==",L=function(Q){return 1==this===Q.valueOf()},L.$$arity=1);a.alias(p,"equal?","==");a.alias(p,"eql?",
"==");a.def(p,"$singleton_class",g=function(){return q(A,"Boolean")},g.$$arity=0);a.def(p,"$to_s",h=function(){return 1==this?"true":"false"},h.$$arity=0);a.def(p,"$dup",K=function(){return this},K.$$arity=0);return(a.def(p,"$clone",D=function(Q){if(null==Q)x([],{});else if(!Q.$$is_hash)throw a.ArgumentError.$new("expected kwargs");return this},D.$$arity=-1),I)&&"clone"})(u[0],Boolean,u);a.const_set(u[0],"TrueClass",q(u,"Boolean"));a.const_set(u[0],"FalseClass",q(u,"Boolean"));a.const_set(u[0],"TRUE",
!0);return a.const_set(u[0],"FALSE",!1)};
Opal.modules["corelib/comparable"]=function(a){function u(A,e){return"number"===typeof A&&"number"===typeof e?A>e:A["$>"](e)}function I(A,e){return"number"===typeof A&&"number"===typeof e?A<e:A["$<"](e)}var q=[],r=a.nil,x=a.$$,p=a.falsy,d=a.module,C=a.truthy;a.add_stubs("$> $< $=== $raise $class $<=> $equal?".split(" "));return function(A,e){function f(la){return a.is_a(la,a.Integer)?la:u(la,0)?1:I(la,0)?-1:0}function F(la,b){var l=la["$<=>"](b);p(l)&&(ca=b,b=r["$==="](ca)||(!0)["$==="](ca)||(!1)["$==="](ca)||
x(n,"Integer")["$==="](ca)||x(n,"Float")["$==="](ca)?b.$inspect():b.$$class,c.$raise(x(n,"ArgumentError"),"comparison of "+la.$class()+" with "+b+" failed"));return f(l)}var c=d(A,"Comparable"),n=[c].concat(e),L,g,h,K,D,Q,ja,ca=r;a.def(c,"$==",L=function(la){var b;return C(this["$equal?"](la))?!0:this["$<=>"]==a.Kernel["$<=>"]?!1:this.$$comparable?(delete this.$$comparable,!1):C(b=this["$<=>"](la))?0==f(b):!1},L.$$arity=1);a.def(c,"$>",g=function(la){return 0<F(this,la)},g.$$arity=1);a.def(c,"$>=",
h=function(la){return 0<=F(this,la)},h.$$arity=1);a.def(c,"$<",K=function(la){return 0>F(this,la)},K.$$arity=1);a.def(c,"$<=",D=function(la){return 0>=F(this,la)},D.$$arity=1);a.def(c,"$between?",Q=function(la,b){return I(this,la)||u(this,b)?!1:!0},Q.$$arity=2);a.def(c,"$clamp",ja=function(la,b){null==b&&(b=r);if(b===r){a.is_a(la,a.Range)||this.$raise(x(n,"TypeError"),"wrong argument type "+la.$class()+" (expected Range)");var l=la.excl;b=la.end;la=la.begin;b!==r&&l&&this.$raise(x(n,"ArgumentError"),
"cannot clamp with an exclusive range")}la!==r&&b!==r&&0<F(la,b)&&this.$raise(x(n,"ArgumentError"),"min argument must be smaller than max argument");if(la!==r){l=F(this,la);if(0==l)return this;if(0>l)return la}return b!==r&&(l=F(this,b),0<l)?b:this},ja.$$arity=-2)}(q[0],q)};
Opal.modules["corelib/regexp"]=function(a){var u=[],I=a.nil,q=a.$$,r=a.coerce_to,x=a.klass,p=a.send2,d=a.truthy,C=a.gvars,A=a.send;a.add_stubs("$nil? $[] $raise $escape $options $to_str $new $join $coerce_to! $! $match $coerce_to? $begin $=~ $attr_reader $=== $inspect $to_a".split(" "));(function(e,$super,F){[x(e,$super,"RegexpError")].concat(F);return I})(u[0],q(u,"StandardError"),u);(function(e,$super,F){e=x(e,$super,"Regexp");var c=[e].concat(F),n,L,g,h,K,D,Q,ja,ca,la;a.const_set(c[0],"IGNORECASE",
1);a.const_set(c[0],"EXTENDED",2);a.const_set(c[0],"MULTILINE",4);a.defineProperty(e.$$prototype,"$$is_regexp",!0);(function(b,l){var m=[b].concat(l),v,B,E,H,J;a.def(b,"$allocate",v=function(){var Z=v.$$p,ta;Z&&(v.$$p=null);var Ka=0;var ua=arguments.length;for(ta=Array(ua);Ka<ua;Ka++)ta[Ka]=arguments[Ka];Z=p(this,a.find_super_dispatcher(this,"allocate",v,!1,!0),"allocate",ta,Z);Z.uninitialized=!0;return Z},v.$$arity=0);a.def(b,"$escape",B=function(Z){return a.escape_regexp(Z)},B.$$arity=1);a.def(b,
"$last_match",E=function(Z){null==C["~"]&&(C["~"]=I);null==Z&&(Z=I);return d(Z["$nil?"]())?C["~"]:C["~"]["$[]"](Z)},E.$$arity=-1);a.alias(b,"quote","escape");a.def(b,"$union",H=function(Z){var ta=a.slice.call(arguments,0,arguments.length);if(0==ta.length)return/(?!)/;if(1==ta.length&&ta[0].$$is_regexp)return ta[0];var Ka=ta[0].$$is_array;1<ta.length&&Ka&&this.$raise(q(m,"TypeError"),"no implicit conversion of Array into String");Ka&&(ta=ta[0]);var ua=void 0;Ka=[];for(var ya=0;ya<ta.length;ya++){var Ia=
ta[ya];if(Ia.$$is_string)Ka.push(this.$escape(Ia));else if(Ia.$$is_regexp){var na=Ia.$options();void 0!=ua&&ua!=na&&this.$raise(q(m,"TypeError"),"All expressions must use the same options");ua=na;Ka.push("("+Ia.source+")")}else Ka.push(this.$escape(Ia.$to_str()))}return this.$new(Ka.$join("|"),ua)},H.$$arity=-1);a.def(b,"$new",J=function(Z,ta){if(Z.$$is_regexp)return new RegExp(Z);Z=q(m,"Opal")["$coerce_to!"](Z,q(m,"String"),"to_str");"\\"===Z.charAt(Z.length-1)&&"\\"!==Z.charAt(Z.length-2)&&this.$raise(q(m,
"RegexpError"),"too short escape sequence: /"+Z+"/");if(void 0===ta||ta["$!"]())return new RegExp(Z);if(ta.$$is_number){var Ka="";q(m,"IGNORECASE")&ta&&(Ka+="i");q(m,"MULTILINE")&ta&&(Ka+="m");ta=Ka}else ta="i";return new RegExp(Z,ta)},J.$$arity=-2);return a.alias(b,"compile","new")})(a.get_singleton_class(e),c);a.def(e,"$==",n=function(b){return b instanceof RegExp&&this.toString()===b.toString()},n.$$arity=1);a.def(e,"$===",L=function(b){return this.$match(q(c,"Opal")["$coerce_to?"](b,q(c,"String"),
"to_str"))!==I},L.$$arity=1);a.def(e,"$=~",g=function(b){var l;null==C["~"]&&(C["~"]=I);return d(l=this.$match(b))?C["~"].$begin(0):l},g.$$arity=1);a.alias(e,"eql?","==");a.def(e,"$inspect",h=function(){var b=this.toString(),l=/^\/(.*)\/([^\/]*)$/.exec(b);if(l){b=l[2];l=l[1].split("");for(var m=l.length,v=!1,B="",E=0;E<m;E++){var H=l[E];v||"/"!=H||(B=B.concat("\\"));B=B.concat(H);v="\\"==H?v?!1:!0:!1}return"/"+B+"/"+b}return b},h.$$arity=0);a.def(e,"$match",K=function(b,l){var m=K.$$p,v=m||I;null==
C["~"]&&(C["~"]=I);m&&(K.$$p=null);m&&(K.$$p=null);this.uninitialized&&this.$raise(q(c,"TypeError"),"uninitialized Regexp");if(void 0===l)return b===I?C["~"]=I:(b=this.exec(r(b,q(c,"String"),"to_str")))?(C["~"]=q(c,"MatchData").$new(this,b),v===I?C["~"]:a.yield1(v,C["~"])):C["~"]=I;l=r(l,q(c,"Integer"),"to_int");if(b===I)return C["~"]=I;b=r(b,q(c,"String"),"to_str");if(0>l&&(l+=b.length,0>l))return C["~"]=I;for(var B=a.global_regexp(this);;){m=B.exec(b);if(null===m)return C["~"]=I;if(m.index>=l)return C["~"]=
q(c,"MatchData").$new(B,m),v===I?C["~"]:a.yield1(v,C["~"]);B.lastIndex=m.index+1}},K.$$arity=-2);a.def(e,"$match?",D=function(b,l){this.uninitialized&&this.$raise(q(c,"TypeError"),"uninitialized Regexp");if(void 0===l)return b===I?!1:this.test(r(b,q(c,"String"),"to_str"));l=r(l,q(c,"Integer"),"to_int");if(b===I)return!1;b=r(b,q(c,"String"),"to_str");if(0>l&&(l+=b.length,0>l))return!1;b=a.global_regexp(this).exec(b);return null===b||b.index<l?!1:!0},D.$$arity=-2);a.def(e,"$~",Q=function(){null==C._&&
(C._=I);return this["$=~"](C._)},Q.$$arity=0);a.def(e,"$source",ja=function(){return this.source},ja.$$arity=0);a.def(e,"$options",ca=function(){this.uninitialized&&this.$raise(q(c,"TypeError"),"uninitialized Regexp");var b=0;this.multiline&&(b|=q(c,"MULTILINE"));this.ignoreCase&&(b|=q(c,"IGNORECASE"));return b},ca.$$arity=0);a.def(e,"$casefold?",la=function(){return this.ignoreCase},la.$$arity=0);return a.alias(e,"to_s","source")})(u[0],RegExp,u);return function(e,$super,F){e=x(e,$super,"MatchData");
var c=[e].concat(F),n,L,g,h,K,D,Q,ja,ca,la,b,l;e.$$prototype.matches=I;e.$attr_reader("post_match","pre_match","regexp","string");a.def(e,"$initialize",n=function(m,v){C["~"]=this;this.regexp=m;this.begin=v.index;this.string=v.input;this.pre_match=v.input.slice(0,v.index);this.post_match=v.input.slice(v.index+v[0].length);this.matches=[];m=0;for(var B=v.length;m<B;m++){var E=v[m];null==E?this.matches.push(I):this.matches.push(E)}},n.$$arity=2);a.def(e,"$[]",L=function(m){var v=a.slice.call(arguments,
0,arguments.length);return A(this.matches,"[]",a.to_a(v))},L.$$arity=-1);a.def(e,"$offset",g=function(m){0!==m&&this.$raise(q(c,"ArgumentError"),"MatchData#offset only supports 0th element");return[this.begin,this.begin+this.matches[m].length]},g.$$arity=1);a.def(e,"$==",h=function(m){var v=I,B=I,E=I,H=I;return d(q(c,"MatchData")["$==="](m))?d(v=d(B=d(E=d(H=this.string==m.string)?this.regexp.toString()==m.regexp.toString():H)?this.pre_match==m.pre_match:E)?this.post_match==m.post_match:B)?this.begin==
m.begin:v:!1},h.$$arity=1);a.alias(e,"eql?","==");a.def(e,"$begin",K=function(m){0!==m&&this.$raise(q(c,"ArgumentError"),"MatchData#begin only supports 0th element");return this.begin},K.$$arity=1);a.def(e,"$end",D=function(m){0!==m&&this.$raise(q(c,"ArgumentError"),"MatchData#end only supports 0th element");return this.begin+this.matches[m].length},D.$$arity=1);a.def(e,"$captures",Q=function(){return this.matches.slice(1)},Q.$$arity=0);a.def(e,"$inspect",ja=function(){for(var m="#<MatchData "+this.matches[0].$inspect(),
v=1,B=this.matches.length;v<B;v++)m+=" "+v+":"+this.matches[v].$inspect();return m+">"},ja.$$arity=0);a.def(e,"$length",ca=function(){return this.matches.length},ca.$$arity=0);a.alias(e,"size","length");a.def(e,"$to_a",la=function(){return this.matches},la.$$arity=0);a.def(e,"$to_s",b=function(){return this.matches[0]},b.$$arity=0);return(a.def(e,"$values_at",l=function(m){var v=a.slice.call(arguments,0,arguments.length);var B,E=[];for(B=0;B<v.length;B++){if(v[B].$$is_range){var H=v[B].$to_a();H.unshift(B,
1);Array.prototype.splice.apply(v,H)}H=q(c,"Opal")["$coerce_to!"](v[B],q(c,"Integer"),"to_int");if(0>H&&(H+=this.matches.length,0>H)){E.push(I);continue}E.push(this.matches[H])}return E},l.$$arity=-1),I)&&"values_at"}(u[0],null,u)};
Opal.modules["corelib/string"]=function(a){function u(n,L){return"number"===typeof n&&"number"===typeof L?n/L:n["$/"](L)}function I(n,L){return"number"===typeof n&&"number"===typeof L?n+L:n["$+"](L)}var q=a.top,r=[],x=a.nil,p=a.$$$,d=a.$$,C=a.coerce_to,A=a.respond_to,e=a.klass,f=a.truthy,F=a.send,c=a.gvars;a.add_stubs("$require $include $coerce_to? $raise $=== $format $to_s $respond_to? $to_str $<=> $== $=~ $new $force_encoding $casecmp $empty? $ljust $ceil $/ $+ $rjust $floor $to_a $each_char $to_proc $coerce_to! $copy_singleton_methods $initialize_clone $initialize_dup $enum_for $size $chomp $[] $to_i $each_line $encoding $class $match $match? $captures $proc $succ $escape $include? $upcase $unicode_normalize".split(" "));
q.$require("corelib/comparable");q.$require("corelib/regexp");(function(n,$super,g){function h(y){function M(Qa){var Wa="",bb,qb=Qa.length;for(bb=0;bb<qb;bb++){var nb=Qa.charAt(bb);if("-"===nb&&0<bb&&bb<qb-1&&!pb){var pb=Qa.charCodeAt(bb-1);nb=Qa.charCodeAt(bb+1);pb>nb&&K.$raise(d(D,"ArgumentError"),'invalid range "'+pb+"-"+nb+'" in string transliteration');for(pb+=1;pb<nb+1;pb++)Wa+=String.fromCharCode(pb);pb=!0;bb++}else pb="\\"===nb,Wa+=nb}return Wa}function qa(Qa,Wa){if(0===Qa.length)return Wa;
var bb="",qb,nb=Qa.length;for(qb=0;qb<nb;qb++){var pb=Qa.charAt(qb);-1!==Wa.indexOf(pb)&&(bb+=pb)}return bb}var Ba,za="",Ga="";var Ua=0;for(Ba=y.length;Ua<Ba;Ua++){var cb=C(y[Ua],d(D,"String"),"to_str");var $a="^"===cb.charAt(0)&&1<cb.length;cb=M($a?cb.slice(1):cb);$a?Ga=qa(Ga,cb):za=qa(za,cb)}if(0<za.length&&0<Ga.length){cb="";Ua=0;for(Ba=za.length;Ua<Ba;Ua++)y=za.charAt(Ua),-1===Ga.indexOf(y)&&(cb+=y);za=cb;Ga=""}return 0<za.length?"["+d(D,"Regexp").$escape(za)+"]":0<Ga.length?"[^"+d(D,"Regexp").$escape(Ga)+
"]":null}var K=e(n,$super,"String"),D=[K].concat(g),Q,ja,ca,la,b,l,m,v,B,E,H,J,Z,ta,Ka,ua,ya,Ia,na,P,ra,Y,ia,X,R,T,sa,Ca,ka,xa,Ea,Da,Ra,Pa,La,kb,lb,va,Na,Sa,db,jb,fb,gb,ib,Aa,wa,Oa,Va,Za,Fa,aa,W,da,V,ha,ma,k,z,O,fa,w,S,oa,Ha,eb,ob,mb,sb,tb,wb,xb,ub,U,Ja,Ya;K.$include(d(D,"Comparable"));a.defineProperty(K.$$prototype,"$$is_string",!0);a.defineProperty(K.$$prototype,"$$cast",function(y){var M=this.$$class;return M.$$constructor===String?y:new M.$$constructor(y)});a.def(K,"$__id__",Q=function(){return this.toString()},
Q.$$arity=0);a.alias(K,"object_id","__id__");a.defs(K,"$try_convert",ja=function(y){return d(D,"Opal")["$coerce_to?"](y,d(D,"String"),"to_str")},ja.$$arity=1);a.defs(K,"$new",ca=function(y){null==y&&(y="");y=C(y,d(D,"String"),"to_str");return new this.$$constructor(y)},ca.$$arity=-1);a.def(K,"$initialize",la=function(y){return void 0===y?this:this.$raise(d(D,"NotImplementedError"),"Mutable strings are not supported in Opal.")},la.$$arity=-1);a.def(K,"$%",b=function(y){return f(d(D,"Array")["$==="](y))?
F(this,"format",[this].concat(a.to_a(y))):this.$format(this,y)},b.$$arity=1);a.def(K,"$*",l=function(y){y=C(y,d(D,"Integer"),"to_int");0>y&&this.$raise(d(D,"ArgumentError"),"negative argument");if(0===y)return this.$$cast("");var M="",qa=this.toString();for(268435456<=qa.length*y&&this.$raise(d(D,"RangeError"),"multiply count must not overflow maximum string size");;){1===(y&1)&&(M+=qa);y>>>=1;if(0===y)break;qa+=qa}return this.$$cast(M)},l.$$arity=1);a.def(K,"$+",m=function(y){y=C(y,d(D,"String"),
"to_str");return this+y.$to_s()},m.$$arity=1);a.def(K,"$<=>",v=function(y){if(f(y["$respond_to?"]("to_str")))return y=y.$to_str().$to_s(),this>y?1:this<y?-1:0;y=y["$<=>"](this);return y===x?x:0<y?-1:0>y?1:0},v.$$arity=1);a.def(K,"$==",B=function(y){return y.$$is_string?this.toString()===y.toString():A(y,"$to_str")?y["$=="](this):!1},B.$$arity=1);a.alias(K,"eql?","==");a.alias(K,"===","==");a.def(K,"$=~",E=function(y){y.$$is_string&&this.$raise(d(D,"TypeError"),"type mismatch: String given");return y["$=~"](this)},
E.$$arity=1);a.def(K,"$[]",H=function(y,M){var qa=this.length;if(y.$$is_range){var Ba=y.excl;M=C(y.end,d(D,"Integer"),"to_int");y=C(y.begin,d(D,"Integer"),"to_int");if(Math.abs(y)>qa)return x;0>y&&(y+=qa);0>M&&(M+=qa);Ba||(M+=1);M-=y;0>M&&(M=0);return this.$$cast(this.substr(y,M))}if(y.$$is_string)return null!=M&&this.$raise(d(D,"TypeError")),-1!==this.indexOf(y)?this.$$cast(y):x;if(y.$$is_regexp){qa=this.match(y);if(null===qa)return c["~"]=x;c["~"]=d(D,"MatchData").$new(y,qa);if(null==M)return this.$$cast(qa[0]);
M=C(M,d(D,"Integer"),"to_int");return 0>M&&-M<qa.length?this.$$cast(qa[M+qa.length]):0<=M&&M<qa.length?this.$$cast(qa[M]):x}y=C(y,d(D,"Integer"),"to_int");0>y&&(y+=qa);if(null==M)return y>=qa||0>y?x:this.$$cast(this.substr(y,1));M=C(M,d(D,"Integer"),"to_int");return 0>M||y>qa||0>y?x:this.$$cast(this.substr(y,M))},H.$$arity=-2);a.alias(K,"byteslice","[]");a.def(K,"$b",J=function(){return this.$force_encoding("binary")},J.$$arity=0);a.def(K,"$capitalize",Z=function(){return this.$$cast(this.charAt(0).toUpperCase()+
this.substr(1).toLowerCase())},Z.$$arity=0);a.def(K,"$casecmp",ta=function(y){var M=this;if(!f(y["$respond_to?"]("to_str")))return x;y=C(y,d(D,"String"),"to_str").$to_s();var qa=/^[\x00-\x7F]*$/;qa.test(M)&&qa.test(y)&&(M=M.toLowerCase(),y=y.toLowerCase());return M["$<=>"](y)},ta.$$arity=1);a.def(K,"$casecmp?",Ka=function(y){y=this.$casecmp(y);return y===x?x:0===y},Ka.$$arity=1);a.def(K,"$center",ua=function(y,M){null==M&&(M=" ");y=C(y,d(D,"Integer"),"to_int");M=C(M,d(D,"String"),"to_str").$to_s();
f(M["$empty?"]())&&this.$raise(d(D,"ArgumentError"),"zero width padding");if(f(y<=this.length))return this;var qa=this.$ljust(u(I(y,this.length),2).$ceil(),M);y=this.$rjust(u(I(y,this.length),2).$floor(),M);return this.$$cast(y+qa.slice(this.length))},ua.$$arity=-2);a.def(K,"$chars",ya=function(){var y=ya.$$p,M=y||x;y&&(ya.$$p=null);y&&(ya.$$p=null);return f(M)?F(this,"each_char",[],M.$to_proc()):this.$each_char().$to_a()},ya.$$arity=0);a.def(K,"$chomp",Ia=function(y){null==c["/"]&&(c["/"]=x);null==
y&&(y=c["/"]);if(f(y===x||0===this.length))return this;y=d(D,"Opal")["$coerce_to!"](y,d(D,"String"),"to_str").$to_s();var M;"\n"===y?M=this.replace(/\r?\n?$/,""):""===y?M=this.replace(/(\r?\n)+$/,""):this.length>=y.length&&this.substr(this.length-y.length,y.length)===y&&(M=this.substr(0,this.length-y.length));return null!=M?this.$$cast(M):this},Ia.$$arity=-1);a.def(K,"$chop",na=function(){var y=this.length;y=1>=y?"":"\n"===this.charAt(y-1)&&"\r"===this.charAt(y-2)?this.substr(0,y-2):this.substr(0,
y-1);return this.$$cast(y)},na.$$arity=0);a.def(K,"$chr",P=function(){return this.charAt(0)},P.$$arity=0);a.def(K,"$clone",ra=function(){var y=new String(this);y.$copy_singleton_methods(this);y.$initialize_clone(this);return y},ra.$$arity=0);a.def(K,"$dup",Y=function(){var y=new String(this);y.$initialize_dup(this);return y},Y.$$arity=0);a.def(K,"$count",ia=function(y){var M=a.slice.call(arguments,0,arguments.length);0===M.length&&this.$raise(d(D,"ArgumentError"),"ArgumentError: wrong number of arguments (0 for 1+)");
M=h(M);return null===M?0:this.length-this.replace(new RegExp(M,"g"),"").length},ia.$$arity=-1);a.def(K,"$delete",X=function(y){var M=a.slice.call(arguments,0,arguments.length);0===M.length&&this.$raise(d(D,"ArgumentError"),"ArgumentError: wrong number of arguments (0 for 1+)");M=h(M);return null===M?this:this.$$cast(this.replace(new RegExp(M,"g"),""))},X.$$arity=-1);a.def(K,"$delete_prefix",R=function(y){y.$$is_string||(y=C(y,d(D,"String"),"to_str"));return this.slice(0,y.length)===y?this.$$cast(this.slice(y.length)):
this},R.$$arity=1);a.def(K,"$delete_suffix",T=function(y){y.$$is_string||(y=C(y,d(D,"String"),"to_str"));return this.slice(this.length-y.length)===y?this.$$cast(this.slice(0,this.length-y.length)):this},T.$$arity=1);a.def(K,"$downcase",sa=function(){return this.$$cast(this.toLowerCase())},sa.$$arity=0);a.def(K,"$each_char",Ca=function(){var y=Ca.$$p,M=y||x,qa;y&&(Ca.$$p=null);y&&(Ca.$$p=null);if(M===x)return F(this,"enum_for",["each_char"],(qa=function(){return(null==qa.$$s?this:qa.$$s).$size()},
qa.$$s=this,qa.$$arity=0,qa));y=0;for(var Ba=this.length;y<Ba;y++)a.yield1(M,this.charAt(y));return this},Ca.$$arity=0);a.def(K,"$each_line",ka=function(y){var M=ka.$$p,qa=M||x;null==c["/"]&&(c["/"]=x);M&&(ka.$$p=null);M&&(ka.$$p=null);null==y&&(y=c["/"]);if(qa===x)return this.$enum_for("each_line",y);if(y===x)return a.yield1(qa,this),this;y=C(y,d(D,"String"),"to_str");var Ba,za;if(0===y.length){y=this.split(/(\n{2,})/);M=0;for(Ba=y.length;M<Ba;M+=2)(y[M]||y[M+1])&&a.yield1(qa,this.$$cast((y[M]||
"")+(y[M+1]||"")));return this}M=this.$chomp(y);Ba=this.length!=M.length;var Ga=M.split(y);M=0;for(za=Ga.length;M<za;M++)M<za-1||Ba?a.yield1(qa,this.$$cast(Ga[M]+y)):a.yield1(qa,this.$$cast(Ga[M]));return this},ka.$$arity=-1);a.def(K,"$empty?",xa=function(){return 0===this.length},xa.$$arity=0);a.def(K,"$end_with?",Ea=function(y){var M=a.slice.call(arguments,0,arguments.length);for(var qa=0,Ba=M.length;qa<Ba;qa++){var za=C(M[qa],d(D,"String"),"to_str").$to_s();if(this.length>=za.length&&this.substr(this.length-
za.length,za.length)==za)return!0}return!1},Ea.$$arity=-1);a.alias(K,"equal?","===");a.def(K,"$gsub",Da=function(y,M){var qa=Da.$$p,Ba=qa||x,za=this;qa&&(Da.$$p=null);qa&&(Da.$$p=null);if(void 0===M&&Ba===x)return za.$enum_for("gsub",y);qa="";var Ga=x,Ua=0;y.$$is_regexp?y=a.global_multiline_regexp(y):(y=C(y,d(D,"String"),"to_str"),y=new RegExp(y.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));for(var cb;;){var $a=y.exec(za);if(null===$a){c["~"]=x;qa+=za.slice(Ua);break}Ga=d(D,"MatchData").$new(y,$a);
if(void 0===M){cb=y.lastIndex;var Qa=Ba($a[0]);y.lastIndex=cb}else M.$$is_hash?Qa=M["$[]"]($a[0]).$to_s():(M.$$is_string||(M=C(M,d(D,"String"),"to_str")),Qa=M.replace(/([\\]+)([0-9+&`'])/g,function(Wa,bb,qb){if(0===bb.length%2)return Wa;switch(qb){case "+":for(Wa=$a.length-1;0<Wa;Wa--)if(void 0!==$a[Wa])return bb.slice(1)+$a[Wa];return"";case "&":return bb.slice(1)+$a[0];case "`":return bb.slice(1)+za.slice(0,$a.index);case "'":return bb.slice(1)+za.slice($a.index+$a[0].length);default:return bb.slice(1)+
($a[qb]||"")}}).replace(/\\\\/g,"\\"));y.lastIndex===$a.index?(qa+=za.slice(Ua,$a.index)+Qa+(za[$a.index]||""),y.lastIndex+=1):qa+=za.slice(Ua,$a.index)+Qa;Ua=y.lastIndex}c["~"]=Ga;return za.$$cast(qa)},Da.$$arity=-2);a.def(K,"$hash",Ra=function(){return this.toString()},Ra.$$arity=0);a.def(K,"$hex",Pa=function(){return this.$to_i(16)},Pa.$$arity=0);a.def(K,"$include?",La=function(y){y.$$is_string||(y=C(y,d(D,"String"),"to_str"));return-1!==this.indexOf(y)},La.$$arity=1);a.def(K,"$index",kb=function(y,
M){var qa;if(void 0===M)M=0;else if(M=C(M,d(D,"Integer"),"to_int"),0>M&&(M+=this.length,0>M))return x;if(y.$$is_regexp)for(qa=a.global_multiline_regexp(y);;){y=qa.exec(this);if(null===y){c["~"]=x;M=-1;break}if(y.index>=M){c["~"]=d(D,"MatchData").$new(qa,y);M=y.index;break}qa.lastIndex=y.index+1}else y=C(y,d(D,"String"),"to_str"),M=0===y.length&&M>this.length?-1:this.indexOf(y,M);return-1===M?x:M},kb.$$arity=-2);a.def(K,"$inspect",lb=function(){var y={"\u0007":"\\a","\u001b":"\\e","\b":"\\b","\t":"\\t",
"\n":"\\n","\f":"\\f","\r":"\\r","\x0B":"\\v",'"':'\\"',"\\":"\\\\"};return'"'+this.replace(/[\\"\x00-\x1f\u007F-\u009F\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,function(M){return y[M]||"\\u"+("0000"+M.charCodeAt(0).toString(16).toUpperCase()).slice(-4)}).replace(/#[\$@\{]/g,"\\$&")+'"'},lb.$$arity=0);a.def(K,"$intern",va=function(){return this.toString()},va.$$arity=0);a.def(K,"$lines",Na=function(y){var M=Na.$$p,qa=M||x;null==c["/"]&&(c["/"]=x);
M&&(Na.$$p=null);M&&(Na.$$p=null);null==y&&(y=c["/"]);y=F(this,"each_line",[y],qa.$to_proc());return f(qa)?this:y.$to_a()},Na.$$arity=-1);a.def(K,"$length",Sa=function(){return this.length},Sa.$$arity=0);a.def(K,"$ljust",db=function(y,M){null==M&&(M=" ");y=C(y,d(D,"Integer"),"to_int");M=C(M,d(D,"String"),"to_str").$to_s();f(M["$empty?"]())&&this.$raise(d(D,"ArgumentError"),"zero width padding");if(f(y<=this.length))return this;var qa=-1,Ba="";for(y-=this.length;++qa<y;)Ba+=M;return this.$$cast(this+
Ba.slice(0,y))},db.$$arity=-2);a.def(K,"$lstrip",jb=function(){return this.replace(/^\s*/,"")},jb.$$arity=0);a.def(K,"$ascii_only?",fb=function(){return this.$encoding()["$=="](p(d(D,"Encoding"),"UTF_16BE"))?!1:/^[\x00-\x7F]*$/.test(this)},fb.$$arity=0);a.def(K,"$match",gb=function(y,M){var qa=gb.$$p,Ba=qa||x,za=x;qa&&(gb.$$p=null);qa&&(gb.$$p=null);f(f(za=d(D,"String")["$==="](y))?za:y["$respond_to?"]("to_str"))&&(y=d(D,"Regexp").$new(y.$to_str()));f(d(D,"Regexp")["$==="](y))||this.$raise(d(D,"TypeError"),
"wrong argument type "+y.$class()+" (expected Regexp)");return F(y,"match",[this,M],Ba.$to_proc())},gb.$$arity=-2);a.def(K,"$match?",ib=function(y,M){var qa=x;f(f(qa=d(D,"String")["$==="](y))?qa:y["$respond_to?"]("to_str"))&&(y=d(D,"Regexp").$new(y.$to_str()));f(d(D,"Regexp")["$==="](y))||this.$raise(d(D,"TypeError"),"wrong argument type "+y.$class()+" (expected Regexp)");return y["$match?"](this,M)},ib.$$arity=-2);a.def(K,"$next",Aa=function(){var y=this.length;if(0===y)return this.$$cast("");for(var M=
this,qa=this.search(/[a-zA-Z0-9]/),Ba,za;y--;){za=this.charCodeAt(y);if(48<=za&&57>=za||65<=za&&90>=za||97<=za&&122>=za)switch(za){case 57:Ba=!0;za=48;break;case 90:Ba=!0;za=65;break;case 122:Ba=!0;za=97;break;default:Ba=!1,za+=1}else-1===qa?255===za?(Ba=!0,za=0):(Ba=!1,za+=1):Ba=!0;M=M.slice(0,y)+String.fromCharCode(za)+M.slice(y+1);if(Ba&&(0===y||y===qa)){switch(za){case 65:break;case 97:break;default:za+=1}M=0===y?String.fromCharCode(za)+M:M.slice(0,y)+String.fromCharCode(za)+M.slice(y);Ba=!1}if(!Ba)break}return this.$$cast(M)},
Aa.$$arity=0);a.def(K,"$oct",wa=function(){var y=this;var M=8;if(/^\s*_/.test(y))return 0;y=y.replace(/^(\s*[+-]?)(0[bodx]?)(.+)$/i,function(qa,Ba,za,Ga){switch(Ga.charAt(0)){case "+":case "-":return qa;case "0":if("x"===Ga.charAt(1)&&"0x"===za)return qa}switch(za){case "0b":M=2;break;case "0":case "0o":M=8;break;case "0d":M=10;break;case "0x":M=16}return Ba+Ga});y=parseInt(y.replace(/_(?!_)/g,""),M);return isNaN(y)?0:y},wa.$$arity=0);a.def(K,"$ord",Oa=function(){return this.charCodeAt(0)},Oa.$$arity=
0);a.def(K,"$partition",Va=function(y){if(y.$$is_regexp){var M=y.exec(this);null===M?M=-1:(d(D,"MatchData").$new(y,M),y=M[0],M=M.index)}else y=C(y,d(D,"String"),"to_str"),M=this.indexOf(y);return-1===M?[this,"",""]:[this.slice(0,M),this.slice(M,M+y.length),this.slice(M+y.length)]},Va.$$arity=1);a.def(K,"$reverse",Za=function(){return this.split("").reverse().join("")},Za.$$arity=0);a.def(K,"$rindex",Fa=function(y,M){if(void 0===M)M=this.length;else if(M=C(M,d(D,"Integer"),"to_int"),0>M&&(M+=this.length,
0>M))return x;if(y.$$is_regexp){var qa=null;for(y=a.global_multiline_regexp(y);;){var Ba=y.exec(this);if(null===Ba||Ba.index>M)break;qa=Ba;y.lastIndex=qa.index+1}null===qa?(c["~"]=x,M=-1):(d(D,"MatchData").$new(y,qa),M=qa.index)}else y=C(y,d(D,"String"),"to_str"),M=this.lastIndexOf(y,M);return-1===M?x:M},Fa.$$arity=-2);a.def(K,"$rjust",aa=function(y,M){null==M&&(M=" ");y=C(y,d(D,"Integer"),"to_int");M=C(M,d(D,"String"),"to_str").$to_s();f(M["$empty?"]())&&this.$raise(d(D,"ArgumentError"),"zero width padding");
if(f(y<=this.length))return this;y=Math.floor(y-this.length);var qa=Array(Math.floor(y/M.length)+1).join(M);return this.$$cast(qa+M.slice(0,y-qa.length)+this)},aa.$$arity=-2);a.def(K,"$rpartition",W=function(y){var M;if(y.$$is_regexp){var qa=null;for(M=a.global_multiline_regexp(y);;){var Ba=M.exec(this);if(null===Ba)break;qa=Ba;M.lastIndex=qa.index+1}null===qa?qa=-1:(d(D,"MatchData").$new(M,qa),y=qa[0],qa=qa.index)}else y=C(y,d(D,"String"),"to_str"),qa=this.lastIndexOf(y);return-1===qa?["","",this]:
[this.slice(0,qa),this.slice(qa,qa+y.length),this.slice(qa+y.length)]},W.$$arity=1);a.def(K,"$rstrip",da=function(){return this.replace(/[\s\u0000]*$/,"")},da.$$arity=0);a.def(K,"$scan",V=function(y){var M=V.$$p,qa=M||x;M&&(V.$$p=null);M&&(V.$$p=null);M=[];var Ba=x,za;y.$$is_regexp?y=a.global_multiline_regexp(y):(y=C(y,d(D,"String"),"to_str"),y=new RegExp(y.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));for(;null!=(za=y.exec(this));)Ba=d(D,"MatchData").$new(y,za),qa===x?1==za.length?M.push(za[0]):M.push(Ba.$captures()):
1==za.length?qa(za[0]):qa.call(this,Ba.$captures()),y.lastIndex===za.index&&(y.lastIndex+=1);c["~"]=Ba;return qa!==x?this:M},V.$$arity=1);a.alias(K,"size","length");a.alias(K,"slice","[]");a.def(K,"$split",ha=function(y,M){function qa(){for(cb=0;cb<Ga.length;cb++)Ga[cb]=Ba.$$cast(Ga[cb])}var Ba=this,za=x;null==c[";"]&&(c[";"]=x);if(0===Ba.length)return[];if(void 0===M)M=0;else if(M=d(D,"Opal")["$coerce_to!"](M,d(D,"Integer"),"to_int"),1===M)return[Ba];if(void 0===y||y===x)y=f(za=c[";"])?za:" ";var Ga=
[];za=Ba.toString();var Ua=0,cb;y.$$is_regexp?y=a.global_multiline_regexp(y):(y=C(y,d(D,"String"),"to_str").$to_s()," "===y?(y=/\s+/gm,za=za.replace(/^\s+/,"")):y=new RegExp(y.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));Ga=za.split(y);if(1===Ga.length&&Ga[0]===za)return[Ba.$$cast(Ga[0])];for(;-1!==(cb=Ga.indexOf(void 0));)Ga.splice(cb,1);if(0===M){for(;""===Ga[Ga.length-1];)--Ga.length;qa();return Ga}var $a=y.exec(za);if(0>M){if(null!==$a&&""===$a[0]&&-1===y.source.indexOf("(?="))for(cb=0,y=$a.length;cb<
y;cb++)Ga.push("");qa();return Ga}if(null!==$a&&""===$a[0])return Ga.splice(M-1,Ga.length-1,Ga.slice(M-1).join("")),qa(),Ga;if(M>=Ga.length)return qa(),Ga;for(cb=0;null!==$a;){cb++;Ua=y.lastIndex;if(cb+1===M)break;$a=y.exec(za)}Ga.splice(M-1,Ga.length-1,za.slice(Ua));qa();return Ga},ha.$$arity=-1);a.def(K,"$squeeze",ma=function(y){var M=a.slice.call(arguments,0,arguments.length);if(0===M.length)return this.$$cast(this.replace(/(.)\1+/g,"$1"));M=h(M);return null===M?this:this.$$cast(this.replace(new RegExp("("+
M+")\\1+","g"),"$1"))},ma.$$arity=-1);a.def(K,"$start_with?",k=function(y){var M=a.slice.call(arguments,0,arguments.length);for(var qa=0,Ba=M.length;qa<Ba;qa++){var za=C(M[qa],d(D,"String"),"to_str").$to_s();if(0===this.indexOf(za))return!0}return!1},k.$$arity=-1);a.def(K,"$strip",z=function(){return this.replace(/^\s*/,"").replace(/[\s\u0000]*$/,"")},z.$$arity=0);a.def(K,"$sub",O=function(y,M){var qa=O.$$p,Ba=qa||x,za=this;qa&&(O.$$p=null);qa&&(O.$$p=null);y.$$is_regexp||(y=C(y,d(D,"String"),"to_str"),
y=new RegExp(y.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")));var Ga=y.exec(za);null===Ga?(c["~"]=x,y=za.toString()):(d(D,"MatchData").$new(y,Ga),void 0===M?(Ba===x&&za.$raise(d(D,"ArgumentError"),"wrong number of arguments (1 for 2)"),y=za.slice(0,Ga.index)+Ba(Ga[0])+za.slice(Ga.index+Ga[0].length)):M.$$is_hash?y=za.slice(0,Ga.index)+M["$[]"](Ga[0]).$to_s()+za.slice(Ga.index+Ga[0].length):(M=C(M,d(D,"String"),"to_str"),M=M.replace(/([\\]+)([0-9+&`'])/g,function(Ua,cb,$a){if(0===cb.length%2)return Ua;switch($a){case "+":for(Ua=
Ga.length-1;0<Ua;Ua--)if(void 0!==Ga[Ua])return cb.slice(1)+Ga[Ua];return"";case "&":return cb.slice(1)+Ga[0];case "`":return cb.slice(1)+za.slice(0,Ga.index);case "'":return cb.slice(1)+za.slice(Ga.index+Ga[0].length);default:return cb.slice(1)+(Ga[$a]||"")}}).replace(/\\\\/g,"\\"),y=za.slice(0,Ga.index)+M+za.slice(Ga.index+Ga[0].length)));return za.$$cast(y)},O.$$arity=-2);a.alias(K,"succ","next");a.def(K,"$sum",fa=function(y){null==y&&(y=16);y=C(y,d(D,"Integer"),"to_int");for(var M=0,qa=this.length,
Ba=0;Ba<qa;Ba++)M+=this.charCodeAt(Ba);return 0>=y?M:M&Math.pow(2,y)-1},fa.$$arity=-1);a.def(K,"$swapcase",w=function(){var y=this.replace(/([a-z]+)|([A-Z]+)/g,function(M,qa){return qa?M.toUpperCase():M.toLowerCase()});return this.constructor===String?y:this.$class().$new(y)},w.$$arity=0);a.def(K,"$to_f",S=function(){if("_"===this.charAt(0))return 0;var y=parseFloat(this.replace(/_/g,""));return isNaN(y)||Infinity==y||-Infinity==y?0:y},S.$$arity=0);a.def(K,"$to_i",oa=function(y){null==y&&(y=10);var M=
this.toLowerCase(),qa=C(y,d(D,"Integer"),"to_int");(1===qa||0>qa||36<qa)&&this.$raise(d(D,"ArgumentError"),"invalid radix "+qa);if(/^\s*_/.test(M))return 0;M=M.replace(/^(\s*[+-]?)(0[bodx]?)(.+)$/,function(Ba,za,Ga,Ua){switch(Ua.charAt(0)){case "+":case "-":return Ba;case "0":if("x"===Ua.charAt(1)&&"0x"===Ga&&(0===qa||16===qa))return Ba}switch(Ga){case "0b":if(0===qa||2===qa)return qa=2,za+Ua;break;case "0":case "0o":if(0===qa||8===qa)return qa=8,za+Ua;break;case "0d":if(0===qa||10===qa)return qa=
10,za+Ua;break;case "0x":if(0===qa||16===qa)return qa=16,za+Ua}return Ba});y=parseInt(M.replace(/_(?!_)/g,""),qa);return isNaN(y)?0:y},oa.$$arity=-1);a.def(K,"$to_proc",Ha=function(){var y,M=x;Ha.$$p&&(Ha.$$p=null);M=I("$",this.valueOf());return F(this,"proc",[],(y=function(qa){var Ba=null==y.$$s?this:y.$$s,za=y.$$p,Ga=za||x;za&&(y.$$p=null);za=a.slice.call(arguments,0,arguments.length);0===za.length&&Ba.$raise(d(D,"ArgumentError"),"no receiver given");Ba=za[0];null==Ba&&(Ba=x);var Ua=Ba[M];if(!Ua)return Ba.$method_missing.apply(Ba,
za);"function"===typeof Ga&&(Ua.$$p=Ga);return 1===za.length?Ua.call(Ba):Ua.apply(Ba,za.slice(1))},y.$$s=this,y.$$arity=-1,y))},Ha.$$arity=0);a.def(K,"$to_s",eb=function(){return this.toString()},eb.$$arity=0);a.alias(K,"to_str","to_s");a.alias(K,"to_sym","intern");a.def(K,"$tr",ob=function(y,M){y=C(y,d(D,"String"),"to_str").$to_s();M=C(M,d(D,"String"),"to_str").$to_s();if(0==y.length||y===M)return this;var qa={};var Ba=y.split("");var za=Ba.length,Ga=M.split(""),Ua=Ga.length;y=!1;var cb=null;"^"===
Ba[0]&&1<Ba.length&&(y=!0,Ba.shift(),cb=Ga[Ua-1],--za);var $a=[];var Qa=null;var Wa=!1;for(M=0;M<za;M++){var bb=Ba[M];if(null==Qa)Qa=bb,$a.push(bb);else if("-"===bb)"-"===Qa?($a.push("-"),$a.push("-")):M==za-1?$a.push("-"):Wa=!0;else if(Wa){Qa=Qa.charCodeAt(0);Wa=bb.charCodeAt(0);Qa>Wa&&this.$raise(d(D,"ArgumentError"),'invalid range "'+String.fromCharCode(Qa)+"-"+String.fromCharCode(Wa)+'" in string transliteration');for(Qa+=1;Qa<Wa;Qa++)$a.push(String.fromCharCode(Qa));$a.push(bb);Qa=Wa=null}else $a.push(bb)}Ba=
$a;za=Ba.length;if(y)for(M=0;M<za;M++)qa[Ba[M]]=!0;else{if(0<Ua){$a=[];Qa=null;Wa=!1;for(M=0;M<Ua;M++)if(bb=Ga[M],null==Qa)Qa=bb,$a.push(bb);else if("-"===bb)"-"===Qa?($a.push("-"),$a.push("-")):M==Ua-1?$a.push("-"):Wa=!0;else if(Wa){Qa=Qa.charCodeAt(0);Wa=bb.charCodeAt(0);Qa>Wa&&this.$raise(d(D,"ArgumentError"),'invalid range "'+String.fromCharCode(Qa)+"-"+String.fromCharCode(Wa)+'" in string transliteration');for(Qa+=1;Qa<Wa;Qa++)$a.push(String.fromCharCode(Qa));$a.push(bb);Qa=Wa=null}else $a.push(bb);
Ga=$a;Ua=Ga.length}bb=za-Ua;if(0<bb)for(Ua=0<Ua?Ga[Ua-1]:"",M=0;M<bb;M++)Ga.push(Ua);for(M=0;M<za;M++)qa[Ba[M]]=Ga[M]}za="";M=0;for(Ba=this.length;M<Ba;M++)bb=this.charAt(M),Ga=qa[bb],za=y?za+(null==Ga?cb:bb):za+(null!=Ga?Ga:bb);return this.$$cast(za)},ob.$$arity=2);a.def(K,"$tr_s",mb=function(y,M){y=C(y,d(D,"String"),"to_str").$to_s();M=C(M,d(D,"String"),"to_str").$to_s();if(0==y.length)return this;var qa={};var Ba=y.split("");var za=Ba.length,Ga=M.split(""),Ua=Ga.length;y=!1;var cb=null;"^"===Ba[0]&&
1<Ba.length&&(y=!0,Ba.shift(),cb=Ga[Ua-1],--za);var $a=[];var Qa=null;var Wa=!1;for(M=0;M<za;M++){var bb=Ba[M];if(null==Qa)Qa=bb,$a.push(bb);else if("-"===bb)"-"===Qa?($a.push("-"),$a.push("-")):M==za-1?$a.push("-"):Wa=!0;else if(Wa){Qa=Qa.charCodeAt(0);Wa=bb.charCodeAt(0);Qa>Wa&&this.$raise(d(D,"ArgumentError"),'invalid range "'+String.fromCharCode(Qa)+"-"+String.fromCharCode(Wa)+'" in string transliteration');for(Qa+=1;Qa<Wa;Qa++)$a.push(String.fromCharCode(Qa));$a.push(bb);Qa=Wa=null}else $a.push(bb)}Ba=
$a;za=Ba.length;if(y)for(M=0;M<za;M++)qa[Ba[M]]=!0;else{if(0<Ua){$a=[];Wa=!1;for(M=0;M<Ua;M++)if(bb=Ga[M],null==Qa)Qa=bb,$a.push(bb);else if("-"===bb)M==Ua-1?$a.push("-"):Wa=!0;else if(Wa){Qa=Qa.charCodeAt(0);Wa=bb.charCodeAt(0);Qa>Wa&&this.$raise(d(D,"ArgumentError"),'invalid range "'+String.fromCharCode(Qa)+"-"+String.fromCharCode(Wa)+'" in string transliteration');for(Qa+=1;Qa<Wa;Qa++)$a.push(String.fromCharCode(Qa));$a.push(bb);Qa=Wa=null}else $a.push(bb);Ga=$a;Ua=Ga.length}bb=za-Ua;if(0<bb)for(Ua=
0<Ua?Ga[Ua-1]:"",M=0;M<bb;M++)Ga.push(Ua);for(M=0;M<za;M++)qa[Ba[M]]=Ga[M]}za="";Ga=null;M=0;for(Ba=this.length;M<Ba;M++)if(bb=this.charAt(M),Ua=qa[bb],y)null==Ua?null==Ga&&(za+=cb,Ga=!0):(za+=bb,Ga=null);else if(null!=Ua){if(null==Ga||Ga!==Ua)za+=Ua,Ga=Ua}else za+=bb,Ga=null;return this.$$cast(za)},mb.$$arity=2);a.def(K,"$upcase",sb=function(){return this.$$cast(this.toUpperCase())},sb.$$arity=0);a.def(K,"$upto",tb=function(y,M){var qa=tb.$$p,Ba=qa||x;qa&&(tb.$$p=null);qa&&(tb.$$p=null);null==M&&
(M=!1);if(Ba===x)return this.$enum_for("upto",y,M);qa=this.toString();y=C(y,d(D,"String"),"to_str");if(1===qa.length&&1===y.length)for(qa=qa.charCodeAt(0),y=y.charCodeAt(0);qa<=y&&(!M||qa!==y);)Ba(String.fromCharCode(qa)),qa+=1;else if(parseInt(qa,10).toString()===qa&&parseInt(y,10).toString()===y)for(qa=parseInt(qa,10),y=parseInt(y,10);qa<=y&&(!M||qa!==y);)Ba(qa.toString()),qa+=1;else for(;qa.length<=y.length&&qa<=y&&(!M||qa!==y);)Ba(qa),qa=qa.$succ();return this},tb.$$arity=-2);a.def(K,"$instance_variables",
wb=function(){return[]},wb.$$arity=0);a.defs(K,"$_load",xb=function(y){var M=a.slice.call(arguments,0,arguments.length);return F(this,"new",a.to_a(M))},xb.$$arity=-1);a.def(K,"$unicode_normalize",ub=function(y){null==y&&(y="nfc");f(["nfc","nfd","nfkc","nfkd"]["$include?"](y))||this.$raise(d(D,"ArgumentError"),"Invalid normalization form "+y);return this.normalize(y.$upcase())},ub.$$arity=-1);a.def(K,"$unicode_normalized?",U=function(y){null==y&&(y="nfc");return this.$unicode_normalize(y)["$=="](this)},
U.$$arity=-1);a.def(K,"$unpack",Ja=function(){return this.$raise("To use String#unpack, you must first require 'corelib/string/unpack'.")},Ja.$$arity=1);return(a.def(K,"$unpack1",Ya=function(){return this.$raise("To use String#unpack1, you must first require 'corelib/string/unpack'.")},Ya.$$arity=1),x)&&"unpack1"})(r[0],String,r);return a.const_set(r[0],"Symbol",d(r,"String"))};
Opal.modules["corelib/enumerable"]=function(a){function u(g,h){return"number"===typeof g&&"number"===typeof h?g>h:g["$>"](h)}function I(g,h){return"number"===typeof g&&"number"===typeof h?g+h:g["$+"](h)}function q(g,h){return"number"===typeof g&&"number"===typeof h?g-h:g["$-"](h)}function r(g,h){return"number"===typeof g&&"number"===typeof h?g<=h:g["$<="](h)}var x=[],p=a.nil,d=a.$$$,C=a.$$,A=a.falsy,e=a.truthy,f=a.coerce_to,F=a.module,c=a.send,n=a.hash2,L=a.lambda;a.add_stubs("$each $public_send $destructure $to_enum $enumerator_size $new $yield $raise $slice_when $! $enum_for $flatten $map $warn $proc $== $nil? $respond_to? $coerce_to! $> $* $try_convert $< $+ $- $ceil $/ $size $select $to_proc $__send__ $length $<= $[] $push $<< $[]= $=== $inspect $<=> $first $reverse $sort $take $sort_by $compare $call $dup $to_a $sort! $map! $key? $values $transform_values $group_by $to_h $coerce_to? $class $zip".split(" "));
return function(g,h){function K(aa){0===aa.length&&(aa=[p]);1<aa.length&&(aa=[aa]);return aa}g=F(g,"Enumerable");var D=[g].concat(h),Q,ja,ca,la,b,l,m,v,B,E,H,J,Z,ta,Ka,ua,ya,Ia,na,P,ra,Y,ia,X,R,T,sa,Ca,ka,xa,Ea,Da,Ra,Pa,La,kb,lb,va,Na,Sa,db,jb,fb,gb,ib,Aa,wa,Oa,Va,Za,Fa;a.def(g,"$all?",Q=function(aa){try{var W=Q.$$p,da=W||p,V,ha,ma;W&&(Q.$$p=null);W&&(Q.$$p=null);e(void 0!==aa)?c(this,"each",[],(V=function(k){var z=a.slice.call(arguments,0,arguments.length);z=K(z);if(e(c(aa,"public_send",["==="].concat(a.to_a(z)))))return p;
a.ret(!1)},V.$$s=this,V.$$arity=-1,V)):da!==p?c(this,"each",[],(ha=function(k){var z=a.slice.call(arguments,0,arguments.length);if(e(a.yieldX(da,a.to_a(z))))return p;a.ret(!1)},ha.$$s=this,ha.$$arity=-1,ha)):c(this,"each",[],(ma=function(k){var z=a.slice.call(arguments,0,arguments.length);if(e(C(D,"Opal").$destructure(z)))return p;a.ret(!1)},ma.$$s=this,ma.$$arity=-1,ma));return!0}catch(k){if(k===a.returner)return k.$v;throw k;}},Q.$$arity=-1);a.def(g,"$any?",ja=function(aa){try{var W=ja.$$p,da=W||
p,V,ha,ma;W&&(ja.$$p=null);W&&(ja.$$p=null);e(void 0!==aa)?c(this,"each",[],(V=function(k){var z=a.slice.call(arguments,0,arguments.length);z=K(z);if(e(c(aa,"public_send",["==="].concat(a.to_a(z)))))a.ret(!0);else return p},V.$$s=this,V.$$arity=-1,V)):da!==p?c(this,"each",[],(ha=function(k){var z=a.slice.call(arguments,0,arguments.length);if(e(a.yieldX(da,a.to_a(z))))a.ret(!0);else return p},ha.$$s=this,ha.$$arity=-1,ha)):c(this,"each",[],(ma=function(k){var z=a.slice.call(arguments,0,arguments.length);
if(e(C(D,"Opal").$destructure(z)))a.ret(!0);else return p},ma.$$s=this,ma.$$arity=-1,ma));return!1}catch(k){if(k===a.returner)return k.$v;throw k;}},ja.$$arity=-1);a.def(g,"$chunk",ca=function(){var aa=ca.$$p,W=aa||p,da,V;aa&&(ca.$$p=null);aa&&(ca.$$p=null);return W===p?c(this,"to_enum",["chunk"],(da=function(){return(null==da.$$s?this:da.$$s).$enumerator_size()},da.$$s=this,da.$$arity=0,da)):c(d("::","Enumerator"),"new",[],(V=function(ha){function ma(){0<O.length&&ha.$yield(z,O)}var k=null==V.$$s?
this:V.$$s;null==ha&&(ha=p);var z=p,O=[];k.$each.$$p=function(fa){var w=a.yield1(W,fa);w===p?(ma(),O=[],z=p):(z===p||z===w?O.push(fa):(ma(),O=[fa]),z=w)};k.$each();ma()},V.$$s=this,V.$$arity=1,V))},ca.$$arity=0);a.def(g,"$chunk_while",la=function(){var aa=la.$$p,W=aa||p,da;aa&&(la.$$p=null);aa&&(la.$$p=null);W===p&&this.$raise(C(D,"ArgumentError"),"no block given");return c(this,"slice_when",[],(da=function(V,ha){null==V&&(V=p);null==ha&&(ha=p);return a.yieldX(W,[V,ha])["$!"]()},da.$$s=this,da.$$arity=
2,da))},la.$$arity=0);a.def(g,"$collect",b=function(){var aa=b.$$p,W=aa||p,da;aa&&(b.$$p=null);aa&&(b.$$p=null);if(W===p)return c(this,"enum_for",["collect"],(da=function(){return(null==da.$$s?this:da.$$s).$enumerator_size()},da.$$s=this,da.$$arity=0,da));var V=[];this.$each.$$p=function(){var ha=a.yieldX(W,arguments);V.push(ha)};this.$each();return V},b.$$arity=0);a.def(g,"$collect_concat",l=function(){var aa=l.$$p,W=aa||p,da,V;aa&&(l.$$p=null);aa&&(l.$$p=null);return W===p?c(this,"enum_for",["collect_concat"],
(da=function(){return(null==da.$$s?this:da.$$s).$enumerator_size()},da.$$s=this,da.$$arity=0,da)):c(this,"map",[],(V=function(ha){null==ha&&(ha=p);return a.yield1(W,ha)},V.$$s=this,V.$$arity=1,V)).$flatten(1)},l.$$arity=0);a.def(g,"$count",m=function(aa){var W=m.$$p,da=W||p,V,ha,ma,k=p;W&&(m.$$p=null);W&&(m.$$p=null);k=0;null!=aa&&da!==p&&this.$warn("warning: given block not used");e(null!=aa)?da=c(this,"proc",[],(V=function(z){var O=a.slice.call(arguments,0,arguments.length);return C(D,"Opal").$destructure(O)["$=="](aa)},
V.$$s=this,V.$$arity=-1,V)):e(da["$nil?"]())&&(da=c(this,"proc",[],(ha=function(){return!0},ha.$$s=this,ha.$$arity=0,ha)));c(this,"each",[],(ma=function(z){var O=a.slice.call(arguments,0,arguments.length);return e(a.yieldX(da,O))?k++:p},ma.$$s=this,ma.$$arity=-1,ma));return k},m.$$arity=-1);a.def(g,"$cycle",v=function(aa){var W=v.$$p,da=W||p,V;W&&(v.$$p=null);W&&(v.$$p=null);null==aa&&(aa=p);if(da===p)return c(this,"enum_for",["cycle",aa],(V=function(){var k=null==V.$$s?this:V.$$s;if(e(aa["$nil?"]()))return e(k["$respond_to?"]("size"))?
d(C(D,"Float"),"INFINITY"):p;aa=C(D,"Opal")["$coerce_to!"](aa,C(D,"Integer"),"to_int");return e(u(aa,0))?(k=k.$enumerator_size(),"number"===typeof k&&"number"===typeof aa?k*aa:k["$*"](aa)):0},V.$$s=this,V.$$arity=0,V));if(!e(aa["$nil?"]())&&(aa=C(D,"Opal")["$coerce_to!"](aa,C(D,"Integer"),"to_int"),e(0>=aa)))return p;var ha=[],ma;this.$each.$$p=function(){var k=C(D,"Opal").$destructure(arguments);a.yield1(da,k);ha.push(k)};this.$each();if(0===ha.length)return p;if(aa===p)for(;;)for(W=0,ma=ha.length;W<
ma;W++)a.yield1(da,ha[W]);else for(;1<aa;){W=0;for(ma=ha.length;W<ma;W++)a.yield1(da,ha[W]);aa--}},v.$$arity=-1);a.def(g,"$detect",B=function(aa){try{var W=B.$$p,da=W||p,V;W&&(B.$$p=null);W&&(B.$$p=null);if(da===p)return this.$enum_for("detect",aa);c(this,"each",[],(V=function(ha){var ma=a.slice.call(arguments,0,arguments.length);ma=C(D,"Opal").$destructure(ma);if(e(a.yield1(da,ma)))a.ret(ma);else return p},V.$$s=this,V.$$arity=-1,V));return void 0!==aa?"function"===typeof aa?aa():aa:p}catch(ha){if(ha===
a.returner)return ha.$v;throw ha;}},B.$$arity=-1);a.def(g,"$drop",E=function(aa){aa=f(aa,C(D,"Integer"),"to_int");e(0>aa)&&this.$raise(C(D,"ArgumentError"),"attempt to drop negative size");var W=[],da=0;this.$each.$$p=function(){aa<=da&&W.push(C(D,"Opal").$destructure(arguments));da++};this.$each();return W},E.$$arity=1);a.def(g,"$drop_while",H=function(){var aa=H.$$p,W=aa||p;aa&&(H.$$p=null);aa&&(H.$$p=null);if(W===p)return this.$enum_for("drop_while");var da=[],V=!0;this.$each.$$p=function(){var ha=
C(D,"Opal").$destructure(arguments);if(V){var ma=a.yield1(W,ha);A(ma)&&(V=!1,da.push(ha))}else da.push(ha)};this.$each();return da},H.$$arity=0);a.def(g,"$each_cons",J=function(aa){var W=J.$$p,da=W||p,V;W&&(J.$$p=null);W&&(J.$$p=null);e(1!=arguments.length)&&this.$raise(C(D,"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 1)");aa=C(D,"Opal").$try_convert(aa,C(D,"Integer"),"to_int");e(0>=aa)&&this.$raise(C(D,"ArgumentError"),"invalid size");if(da===p)return c(this,"enum_for",["each_cons",
aa],(V=function(){var ma=p;var k=(null==V.$$s?this:V.$$s).$enumerator_size();return e(k["$nil?"]())?p:e(e(ma=k["$=="](0))?ma:"number"===typeof k&&"number"===typeof aa?k<aa:k["$<"](aa))?0:I(q(k,aa),1)},V.$$s=this,V.$$arity=0,V));var ha=[];this.$each.$$p=function(){var ma=C(D,"Opal").$destructure(arguments);ha.push(ma);ha.length>aa&&ha.shift();ha.length==aa&&a.yield1(da,ha.slice(0,aa))};this.$each();return p},J.$$arity=1);a.def(g,"$each_entry",Z=function(aa){var W=Z.$$p,da=W||p,V;W&&(Z.$$p=null);W&&
(Z.$$p=null);W=a.slice.call(arguments,0,arguments.length);if(da===p)return c(this,"to_enum",["each_entry"].concat(a.to_a(W)),(V=function(){return(null==V.$$s?this:V.$$s).$enumerator_size()},V.$$s=this,V.$$arity=0,V));this.$each.$$p=function(){var ha=C(D,"Opal").$destructure(arguments);a.yield1(da,ha)};this.$each.apply(this,W);return this},Z.$$arity=-1);a.def(g,"$each_slice",ta=function(aa){var W=ta.$$p,da=W||p,V;W&&(ta.$$p=null);W&&(ta.$$p=null);aa=f(aa,C(D,"Integer"),"to_int");e(0>=aa)&&this.$raise(C(D,
"ArgumentError"),"invalid slice size");if(da===p)return c(this,"enum_for",["each_slice",aa],(V=function(){var ma=null==V.$$s?this:V.$$s;return e(ma["$respond_to?"]("size"))?(ma=ma.$size(),("number"===typeof ma&&"number"===typeof aa?ma/aa:ma["$/"](aa)).$ceil()):p},V.$$s=this,V.$$arity=0,V));var ha=[];this.$each.$$p=function(){var ma=C(D,"Opal").$destructure(arguments);ha.push(ma);ha.length===aa&&(a.yield1(da,ha),ha=[])};this.$each();0<ha.length&&a.yield1(da,ha);return p},ta.$$arity=1);a.def(g,"$each_with_index",
Ka=function(aa){var W=Ka.$$p,da=W||p,V;W&&(Ka.$$p=null);W&&(Ka.$$p=null);W=a.slice.call(arguments,0,arguments.length);if(da===p)return c(this,"enum_for",["each_with_index"].concat(a.to_a(W)),(V=function(){return(null==V.$$s?this:V.$$s).$enumerator_size()},V.$$s=this,V.$$arity=0,V));var ha=0;this.$each.$$p=function(){var ma=C(D,"Opal").$destructure(arguments);da(ma,ha);ha++};this.$each.apply(this,W);return this},Ka.$$arity=-1);a.def(g,"$each_with_object",ua=function(aa){var W=ua.$$p,da=W||p,V;W&&(ua.$$p=
null);W&&(ua.$$p=null);if(da===p)return c(this,"enum_for",["each_with_object",aa],(V=function(){return(null==V.$$s?this:V.$$s).$enumerator_size()},V.$$s=this,V.$$arity=0,V));this.$each.$$p=function(){var ha=C(D,"Opal").$destructure(arguments);da(ha,aa)};this.$each();return aa},ua.$$arity=1);a.def(g,"$entries",ya=function(aa){var W=a.slice.call(arguments,0,arguments.length);var da=[];this.$each.$$p=function(){da.push(C(D,"Opal").$destructure(arguments))};this.$each.apply(this,W);return da},ya.$$arity=
-1);a.def(g,"$filter_map",Ia=function(){var aa=Ia.$$p,W=aa||p,da;aa&&(Ia.$$p=null);aa&&(Ia.$$p=null);return W===p?c(this,"enum_for",["filter_map"],(da=function(){return(null==da.$$s?this:da.$$s).$enumerator_size()},da.$$s=this,da.$$arity=0,da)):c(c(this,"map",[],W.$to_proc()),"select",[],"itself".$to_proc())},Ia.$$arity=0);a.alias(g,"find","detect");a.def(g,"$find_all",na=function(){var aa=na.$$p,W=aa||p,da;aa&&(na.$$p=null);aa&&(na.$$p=null);if(W===p)return c(this,"enum_for",["find_all"],(da=function(){return(null==
da.$$s?this:da.$$s).$enumerator_size()},da.$$s=this,da.$$arity=0,da));var V=[];this.$each.$$p=function(){var ha=C(D,"Opal").$destructure(arguments),ma=a.yield1(W,ha);e(ma)&&V.push(ha)};this.$each();return V},na.$$arity=0);a.alias(g,"filter","find_all");a.def(g,"$find_index",P=function(aa){try{var W=P.$$p,da=W||p,V,ha,ma=p;W&&(P.$$p=null);W&&(P.$$p=null);if(e(void 0===aa&&da===p))return this.$enum_for("find_index");null!=aa&&da!==p&&this.$warn("warning: given block not used");ma=0;e(null!=aa)?c(this,
"each",[],(V=function(k){var z=a.slice.call(arguments,0,arguments.length);C(D,"Opal").$destructure(z)["$=="](aa)&&a.ret(ma);return ma+=1},V.$$s=this,V.$$arity=-1,V)):c(this,"each",[],(ha=function(k){var z=a.slice.call(arguments,0,arguments.length);e(a.yieldX(da,a.to_a(z)))&&a.ret(ma);return ma+=1},ha.$$s=this,ha.$$arity=-1,ha));return p}catch(k){if(k===a.returner)return k.$v;throw k;}},P.$$arity=-1);a.def(g,"$first",ra=function(aa){try{var W,da,V=p,ha=p;if(e(void 0===aa))return c(this,"each",[],(W=
function(ma){null==ma&&(ma=p);a.ret(ma)},W.$$s=this,W.$$arity=1,W));V=[];aa=f(aa,C(D,"Integer"),"to_int");e(0>aa)&&this.$raise(C(D,"ArgumentError"),"attempt to take negative size");if(e(0==aa))return[];ha=0;c(this,"each",[],(da=function(ma){var k=a.slice.call(arguments,0,arguments.length);V.push(C(D,"Opal").$destructure(k));if(e(aa<=++ha))a.ret(V);else return p},da.$$s=this,da.$$arity=-1,da));return V}catch(ma){if(ma===a.returner)return ma.$v;throw ma;}},ra.$$arity=-1);a.alias(g,"flat_map","collect_concat");
a.def(g,"$grep",Y=function(aa){var W=Y.$$p,da=W||p,V,ha=p;W&&(Y.$$p=null);W&&(Y.$$p=null);ha=[];c(this,"each",[],(V=function(ma){var k=a.slice.call(arguments,0,arguments.length);var z=K(k);if(!e(c(aa,"__send__",["==="].concat(a.to_a(z)))))return p;da!==p?(e(u(k.$length(),1))&&(k=[k]),k=a.yieldX(da,a.to_a(k))):e(r(k.$length(),1))&&(k=k["$[]"](0));return ha.$push(k)},V.$$s=this,V.$$arity=-1,V));return ha},Y.$$arity=1);a.def(g,"$grep_v",ia=function(aa){var W=ia.$$p,da=W||p,V,ha=p;W&&(ia.$$p=null);W&&
(ia.$$p=null);ha=[];c(this,"each",[],(V=function(ma){var k=a.slice.call(arguments,0,arguments.length);var z=K(k);if(e(c(aa,"__send__",["==="].concat(a.to_a(z)))))return p;da!==p?(e(u(k.$length(),1))&&(k=[k]),k=a.yieldX(da,a.to_a(k))):e(r(k.$length(),1))&&(k=k["$[]"](0));return ha.$push(k)},V.$$s=this,V.$$arity=-1,V));return ha},ia.$$arity=1);a.def(g,"$group_by",X=function(){var aa=X.$$p,W=aa||p,da,V=p,ha=p,ma=p;aa&&(X.$$p=null);aa&&(X.$$p=null);if(W===p)return c(this,"enum_for",["group_by"],(da=function(){return(null==
da.$$s?this:da.$$s).$enumerator_size()},da.$$s=this,da.$$arity=0,da));V=n([],{});this.$each.$$p=function(){var k=C(D,"Opal").$destructure(arguments),z=a.yield1(W,k);e(ha=V["$[]"](z))?z=ha:(ma=[z,[]],c(V,"[]=",a.to_a(ma)),z=ma[q(ma.length,1)]);z["$<<"](k)};this.$each();return V},X.$$arity=0);a.def(g,"$include?",R=function(aa){try{var W;c(this,"each",[],(W=function(da){var V=a.slice.call(arguments,0,arguments.length);if(C(D,"Opal").$destructure(V)["$=="](aa))a.ret(!0);else return p},W.$$s=this,W.$$arity=
-1,W));return!1}catch(da){if(da===a.returner)return da.$v;throw da;}},R.$$arity=1);a.def(g,"$inject",T=function(aa,W){var da=T.$$p,V=da||p;da&&(T.$$p=null);da&&(T.$$p=null);var ha=aa;V!==p&&void 0===W?this.$each.$$p=function(){var ma=C(D,"Opal").$destructure(arguments);void 0!==ha&&(ma=a.yieldX(V,[ha,ma]));ha=ma}:(void 0===W&&(C(D,"Symbol")["$==="](aa)||this.$raise(C(D,"TypeError"),""+aa.$inspect()+" is not a Symbol"),W=aa,ha=void 0),this.$each.$$p=function(){var ma=C(D,"Opal").$destructure(arguments);
ha=void 0===ha?ma:ha.$__send__(W,ma)});this.$each();return void 0==ha?p:ha},T.$$arity=-1);a.def(g,"$lazy",sa=function(){var aa;return c(d(C(D,"Enumerator"),"Lazy"),"new",[this,this.$enumerator_size()],(aa=function(W,da){null==W&&(W=p);var V=a.slice.call(arguments,1,arguments.length);return c(W,"yield",a.to_a(V))},aa.$$s=this,aa.$$arity=-2,aa))},sa.$$arity=0);a.def(g,"$enumerator_size",Ca=function(){return e(this["$respond_to?"]("size"))?this.$size():p},Ca.$$arity=0);a.alias(g,"map","collect");a.def(g,
"$max",ka=function(aa){var W=ka.$$p,da=W||p,V=this;W&&(ka.$$p=null);W&&(ka.$$p=null);if(void 0===aa||aa===p){var ha,ma;V.$each.$$p=function(){var k=C(D,"Opal").$destructure(arguments);void 0===ha?ha=k:(ma=da!==p?a.yieldX(da,[k,ha]):k["$<=>"](ha),ma===p&&V.$raise(C(D,"ArgumentError"),"comparison failed"),0<ma&&(ha=k))};V.$each();return void 0===ha?p:ha}aa=f(aa,C(D,"Integer"),"to_int");return c(V,"sort",[],da.$to_proc()).$reverse().$first(aa)},ka.$$arity=-1);a.def(g,"$max_by",xa=function(aa){var W=
xa.$$p,da=W||p,V;W&&(xa.$$p=null);W&&(xa.$$p=null);null==aa&&(aa=p);if(!e(da))return c(this,"enum_for",["max_by",aa],(V=function(){return(null==V.$$s?this:V.$$s).$enumerator_size()},V.$$s=this,V.$$arity=0,V));if(!e(aa["$nil?"]()))return c(this,"sort_by",[],da.$to_proc()).$reverse().$take(aa);var ha,ma;this.$each.$$p=function(){var k=C(D,"Opal").$destructure(arguments),z=a.yield1(da,k);void 0===ha?(ha=k,ma=z):0<z["$<=>"](ma)&&(ha=k,ma=z)};this.$each();return void 0===ha?p:ha},xa.$$arity=-1);a.alias(g,
"member?","include?");a.def(g,"$min",Ea=function(aa){var W=Ea.$$p,da=W||p,V,ha=this;W&&(Ea.$$p=null);W&&(Ea.$$p=null);null==aa&&(aa=p);if(!e(aa["$nil?"]()))return da!==p?c(ha,"sort",[],(V=function(k,z){null==k&&(k=p);null==z&&(z=p);return a.yieldX(da,[k,z])},V.$$s=ha,V.$$arity=2,V)).$take(aa):ha.$sort().$take(aa);var ma;ha.$each.$$p=da!==p?function(){var k=C(D,"Opal").$destructure(arguments);if(void 0===ma)ma=k;else{var z=da(k,ma);z===p&&ha.$raise(C(D,"ArgumentError"),"comparison failed");0>z&&(ma=
k)}}:function(){var k=C(D,"Opal").$destructure(arguments);void 0===ma?ma=k:0>C(D,"Opal").$compare(k,ma)&&(ma=k)};ha.$each();return void 0===ma?p:ma},Ea.$$arity=-1);a.def(g,"$min_by",Da=function(aa){var W=Da.$$p,da=W||p,V;W&&(Da.$$p=null);W&&(Da.$$p=null);null==aa&&(aa=p);if(!e(da))return c(this,"enum_for",["min_by",aa],(V=function(){return(null==V.$$s?this:V.$$s).$enumerator_size()},V.$$s=this,V.$$arity=0,V));if(!e(aa["$nil?"]()))return c(this,"sort_by",[],da.$to_proc()).$take(aa);var ha,ma;this.$each.$$p=
function(){var k=C(D,"Opal").$destructure(arguments),z=a.yield1(da,k);void 0===ha?(ha=k,ma=z):0>z["$<=>"](ma)&&(ha=k,ma=z)};this.$each();return void 0===ha?p:ha},Da.$$arity=-1);a.def(g,"$minmax",Ra=function(){var aa=Ra.$$p,W=aa||p,da,V=this,ha=p;aa&&(Ra.$$p=null);aa&&(Ra.$$p=null);W=function(){return e(ha=W)?ha:c(V,"proc",[],(da=function(O,fa){null==O&&(O=p);null==fa&&(fa=p);return O["$<=>"](fa)},da.$$s=V,da.$$arity=2,da))}();var ma=p,k=p,z=!0;V.$each.$$p=function(){var O=C(D,"Opal").$destructure(arguments);
if(z)ma=k=O,z=!1;else{var fa=W.$call(ma,O);fa===p?V.$raise(C(D,"ArgumentError"),"comparison failed"):0<fa&&(ma=O);fa=W.$call(k,O);fa===p?V.$raise(C(D,"ArgumentError"),"comparison failed"):0>fa&&(k=O)}};V.$each();return[ma,k]},Ra.$$arity=0);a.def(g,"$minmax_by",Pa=function(){var aa=Pa.$$p,W=aa||p,da;aa&&(Pa.$$p=null);aa&&(Pa.$$p=null);if(!e(W))return c(this,"enum_for",["minmax_by"],(da=function(){return(null==da.$$s?this:da.$$s).$enumerator_size()},da.$$s=this,da.$$arity=0,da));var V=p,ha=p,ma,k;this.$each.$$p=
function(){var z=C(D,"Opal").$destructure(arguments),O=a.yield1(W,z);if(void 0===ma||0>O["$<=>"](ma))V=z,ma=O;if(void 0===k||0<O["$<=>"](k))ha=z,k=O};this.$each();return[V,ha]},Pa.$$arity=0);a.def(g,"$none?",La=function(aa){try{var W=La.$$p,da=W||p,V,ha,ma;W&&(La.$$p=null);W&&(La.$$p=null);e(void 0!==aa)?c(this,"each",[],(V=function(k){var z=a.slice.call(arguments,0,arguments.length);z=K(z);if(e(c(aa,"public_send",["==="].concat(a.to_a(z)))))a.ret(!1);else return p},V.$$s=this,V.$$arity=-1,V)):da!==
p?c(this,"each",[],(ha=function(k){var z=a.slice.call(arguments,0,arguments.length);if(e(a.yieldX(da,a.to_a(z))))a.ret(!1);else return p},ha.$$s=this,ha.$$arity=-1,ha)):c(this,"each",[],(ma=function(k){var z=a.slice.call(arguments,0,arguments.length);z=C(D,"Opal").$destructure(z);if(e(z))a.ret(!1);else return p},ma.$$s=this,ma.$$arity=-1,ma));return!0}catch(k){if(k===a.returner)return k.$v;throw k;}},La.$$arity=-1);a.def(g,"$one?",kb=function(aa){try{var W=kb.$$p,da=W||p,V,ha,ma,k=p;W&&(kb.$$p=null);
W&&(kb.$$p=null);k=0;e(void 0!==aa)?c(this,"each",[],(V=function(z){var O=a.slice.call(arguments,0,arguments.length);O=K(O);if(e(c(aa,"public_send",["==="].concat(a.to_a(O)))))if(k=I(k,1),e(u(k,1)))a.ret(!1);else return p;else return p},V.$$s=this,V.$$arity=-1,V)):da!==p?c(this,"each",[],(ha=function(z){var O=a.slice.call(arguments,0,arguments.length);if(!e(a.yieldX(da,a.to_a(O))))return p;k=I(k,1);if(e(u(k,1)))a.ret(!1);else return p},ha.$$s=this,ha.$$arity=-1,ha)):c(this,"each",[],(ma=function(z){var O=
a.slice.call(arguments,0,arguments.length);if(!e(C(D,"Opal").$destructure(O)))return p;k=I(k,1);if(e(u(k,1)))a.ret(!1);else return p},ma.$$s=this,ma.$$arity=-1,ma));return k["$=="](1)}catch(z){if(z===a.returner)return z.$v;throw z;}},kb.$$arity=-1);a.def(g,"$partition",lb=function(){var aa=lb.$$p,W=aa||p,da;aa&&(lb.$$p=null);aa&&(lb.$$p=null);if(W===p)return c(this,"enum_for",["partition"],(da=function(){return(null==da.$$s?this:da.$$s).$enumerator_size()},da.$$s=this,da.$$arity=0,da));var V=[],ha=
[];this.$each.$$p=function(){var ma=C(D,"Opal").$destructure(arguments),k=a.yield1(W,ma);e(k)?V.push(ma):ha.push(ma)};this.$each();return[V,ha]},lb.$$arity=0);a.alias(g,"reduce","inject");a.def(g,"$reject",va=function(){var aa=va.$$p,W=aa||p,da;aa&&(va.$$p=null);aa&&(va.$$p=null);if(W===p)return c(this,"enum_for",["reject"],(da=function(){return(null==da.$$s?this:da.$$s).$enumerator_size()},da.$$s=this,da.$$arity=0,da));var V=[];this.$each.$$p=function(){var ha=C(D,"Opal").$destructure(arguments),
ma=a.yield1(W,ha);A(ma)&&V.push(ha)};this.$each();return V},va.$$arity=0);a.def(g,"$reverse_each",Na=function(){var aa=Na.$$p,W=aa||p,da;aa&&(Na.$$p=null);aa&&(Na.$$p=null);if(W===p)return c(this,"enum_for",["reverse_each"],(da=function(){return(null==da.$$s?this:da.$$s).$enumerator_size()},da.$$s=this,da.$$arity=0,da));var V=[];this.$each.$$p=function(){V.push(arguments)};this.$each();for(aa=V.length-1;0<=aa;aa--)a.yieldX(W,V[aa]);return V},Na.$$arity=0);a.alias(g,"select","find_all");a.def(g,"$slice_before",
Sa=function(aa){var W=Sa.$$p,da=W||p,V;W&&(Sa.$$p=null);W&&(Sa.$$p=null);e(void 0===aa&&da===p)&&this.$raise(C(D,"ArgumentError"),"both pattern and block are given");e(void 0!==aa&&da!==p||1<arguments.length)&&this.$raise(C(D,"ArgumentError"),"wrong number of arguments ("+arguments.length+" expected 1)");return c(C(D,"Enumerator"),"new",[],(V=function(ha){var ma=null==V.$$s?this:V.$$s;null==ha&&(ha=p);var k=[];ma.$each.$$p=da!==p?void 0===aa?function(){var z=C(D,"Opal").$destructure(arguments),O=
a.yield1(da,z);e(O)&&0<k.length&&(ha["$<<"](k),k=[]);k.push(z)}:function(){var z=C(D,"Opal").$destructure(arguments),O=da(z,aa.$dup());e(O)&&0<k.length&&(ha["$<<"](k),k=[]);k.push(z)}:function(){var z=C(D,"Opal").$destructure(arguments),O=aa["$==="](z);e(O)&&0<k.length&&(ha["$<<"](k),k=[]);k.push(z)};ma.$each();if(0<k.length)ha["$<<"](k)},V.$$s=this,V.$$arity=1,V))},Sa.$$arity=-1);a.def(g,"$slice_after",db=function(aa){var W=db.$$p,da=W||p,V,ha;W&&(db.$$p=null);W&&(db.$$p=null);e(void 0===aa&&da===
p)&&this.$raise(C(D,"ArgumentError"),"both pattern and block are given");e(void 0!==aa&&da!==p||1<arguments.length)&&this.$raise(C(D,"ArgumentError"),"wrong number of arguments ("+arguments.length+" expected 1)");e(void 0!==aa)&&(da=c(this,"proc",[],(V=function(ma){null==ma&&(ma=p);return aa["$==="](ma)},V.$$s=this,V.$$arity=1,V)));return c(C(D,"Enumerator"),"new",[],(ha=function(ma){var k=null==ha.$$s?this:ha.$$s;null==ma&&(ma=p);var z;k.$each.$$p=function(){var O=C(D,"Opal").$destructure(arguments),
fa=a.yield1(da,O);null==z&&(z=[]);e(fa)?(z.push(O),ma.$yield(z),z=null):z.push(O)};k.$each();null!=z&&ma.$yield(z)},ha.$$s=this,ha.$$arity=1,ha))},db.$$arity=-1);a.def(g,"$slice_when",jb=function(){var aa=jb.$$p,W=aa||p,da;aa&&(jb.$$p=null);aa&&(jb.$$p=null);W===p&&this.$raise(C(D,"ArgumentError"),"wrong number of arguments (0 for 1)");return c(C(D,"Enumerator"),"new",[],(da=function(V){var ha=null==da.$$s?this:da.$$s;null==V&&(V=p);var ma=p,k=p;ha.$each_cons.$$p=function(){var z=C(D,"Opal").$destructure(arguments),
O=z[0];z=z[1];var fa=a.yieldX(W,[O,z]);k=z;ma===p&&(ma=[]);e(fa)?(ma.push(O),V.$yield(ma),ma=[]):ma.push(O)};ha.$each_cons(2);ma!==p&&(ma.push(k),V.$yield(ma))},da.$$s=this,da.$$arity=1,da))},jb.$$arity=0);a.def(g,"$sort",fb=function(){var aa=fb.$$p,W=aa||p,da,V=p;aa&&(fb.$$p=null);aa&&(fb.$$p=null);V=this.$to_a();W===p&&(W=L((da=function(ha,ma){null==ha&&(ha=p);null==ma&&(ma=p);return ha["$<=>"](ma)},da.$$s=this,da.$$arity=2,da)));return c(V,"sort",[],W.$to_proc())},fb.$$arity=0);a.def(g,"$sort_by",
gb=function(){var aa=gb.$$p,W=aa||p,da,V,ha,ma,k=p;aa&&(gb.$$p=null);aa&&(gb.$$p=null);if(W===p)return c(this,"enum_for",["sort_by"],(da=function(){return(null==da.$$s?this:da.$$s).$enumerator_size()},da.$$s=this,da.$$arity=0,da));k=c(this,"map",[],(V=function(){var z=C(D,"Opal").$destructure(arguments);return[a.yield1(W,z),z]},V.$$s=this,V.$$arity=0,V));c(k,"sort!",[],(ha=function(z,O){null==z&&(z=p);null==O&&(O=p);return z[0]["$<=>"](O[0])},ha.$$s=this,ha.$$arity=2,ha));return c(k,"map!",[],(ma=
function(z){null==z&&(z=p);return z[1]},ma.$$s=this,ma.$$arity=1,ma))},gb.$$arity=0);a.def(g,"$sum",ib=function(aa){var W,da=ib.$$p,V=da||p,ha=p;da&&(ib.$$p=null);null==aa&&(aa=0);ha=aa;c(this,"each",[],(W=function(ma){var k=a.slice.call(arguments,0,arguments.length);k=V!==p?a.yieldX(V,a.to_a(k)):C(D,"Opal").$destructure(k);return ha=I(ha,k)},W.$$s=this,W.$$arity=-1,W));return ha},ib.$$arity=-1);a.def(g,"$take",Aa=function(aa){return this.$first(aa)},Aa.$$arity=1);a.def(g,"$take_while",wa=function(){try{var aa=
wa.$$p,W=aa||p,da,V=p;aa&&(wa.$$p=null);aa&&(wa.$$p=null);if(!e(W))return this.$enum_for("take_while");V=[];return c(this,"each",[],(da=function(ha){var ma=a.slice.call(arguments,0,arguments.length);ma=C(D,"Opal").$destructure(ma);e(a.yield1(W,ma))||a.ret(V);return V.push(ma)},da.$$s=this,da.$$arity=-1,da))}catch(ha){if(ha===a.returner)return ha.$v;throw ha;}},wa.$$arity=0);a.def(g,"$uniq",Oa=function(){var aa=Oa.$$p,W=aa||p,da,V=p;aa&&(Oa.$$p=null);aa&&(Oa.$$p=null);V=n([],{});c(this,"each",[],(da=
function(ha){var ma=a.slice.call(arguments,0,arguments.length);ma=C(D,"Opal").$destructure(ma);var k=W!==p?a.yield1(W,ma):ma;if(e(V["$key?"](k)))return p;ma=[k,ma];c(V,"[]=",a.to_a(ma));return ma[q(ma.length,1)]},da.$$s=this,da.$$arity=-1,da));return V.$values()},Oa.$$arity=0);a.def(g,"$tally",Va=function(){return c(c(this,"group_by",[],"itself".$to_proc()),"transform_values",[],"count".$to_proc())},Va.$$arity=0);a.alias(g,"to_a","entries");a.def(g,"$to_h",Za=function(aa){var W=Za.$$p,da=W||p,V=this;
W&&(Za.$$p=null);W&&(Za.$$p=null);W=a.slice.call(arguments,0,arguments.length);if(da!==p)return c(c(V,"map",[],da.$to_proc()),"to_h",a.to_a(W));var ha=n([],{});V.$each.$$p=function(){var ma=C(D,"Opal").$destructure(arguments);ma=C(D,"Opal")["$coerce_to?"](ma,C(D,"Array"),"to_ary");ma.$$is_array||V.$raise(C(D,"TypeError"),"wrong element type "+ma.$class()+" (expected array)");2!==ma.length&&V.$raise(C(D,"ArgumentError"),"wrong array length (expected 2, was "+ma.$length()+")");a.hash_put(ha,ma[0],ma[1])};
V.$each.apply(V,W);return ha},Za.$$arity=-1);a.def(g,"$zip",Fa=function(aa){var W=Fa.$$p;W&&(Fa.$$p=null);W&&(Fa.$$p=null);W=a.slice.call(arguments,0,arguments.length);return c(this.$to_a(),"zip",a.to_a(W))},Fa.$$arity=-1)}(x[0],x)};
Opal.modules["corelib/enumerator"]=function(a){function u(L,g){return"number"===typeof L&&"number"===typeof g?L+g:L["$+"](g)}function I(L,g){return"number"===typeof L&&"number"===typeof g?L<g:L["$<"](g)}var q=a.top,r=[],x=a.nil,p=a.$$,d=a.breaker,C=a.slice,A=a.falsy,e=a.truthy,f=a.coerce_to,F=a.klass,c=a.send,n=a.send2;a.add_stubs("$require $include $allocate $new $to_proc $! $respond_to? $nil? $empty? $+ $class $__send__ $call $enum_for $size $destructure $inspect $any? $[] $raise $yield $each $enumerator_size $try_convert $< $=== $for".split(" "));
q.$require("corelib/enumerable");return function(L,$super,h){L=F(L,$super,"Enumerator");var K=[L].concat(h),D,Q,ja,ca,la,b,l;L.$$prototype.size=L.$$prototype.args=L.$$prototype.object=L.$$prototype.method=x;L.$include(p(K,"Enumerable"));L.$$prototype.$$is_enumerator=!0;a.defs(L,"$for",D=function(m,v,B){var E=D.$$p,H=E||x;E&&(D.$$p=null);E&&(D.$$p=null);E=a.slice.call(arguments,1,arguments.length);if(0<E.length){var J=E[0];E.splice(0,1)}null==J&&(J="each");var Z=this.$allocate();Z.object=m;Z.size=
H;Z.method=J;Z.args=E;return Z},D.$$arity=-2);a.def(L,"$initialize",Q=function(m){var v=Q.$$p,B=v||x,E=x;v&&(Q.$$p=null);v&&(Q.$$p=null);a.slice.call(arguments,0,arguments.length);if(e(B))return this.object=c(p(K,"Generator"),"new",[],B.$to_proc()),this.method="each",this.args=[],this.size=arguments[0]||x,e(e(E=this.size)?this.size["$respond_to?"]("call")["$!"]():E)?this.size=f(this.size,p(K,"Integer"),"to_int"):x;this.object=arguments[0];this.method=arguments[1]||"each";this.args=C.call(arguments,
2);return this.size=x},Q.$$arity=-1);a.def(L,"$each",ja=function(m){var v=ja.$$p,B=v||x,E=x;v&&(ja.$$p=null);v&&(ja.$$p=null);v=a.slice.call(arguments,0,arguments.length);if(e(e(E=B["$nil?"]())?v["$empty?"]():E))return this;v=u(this.args,v);return e(B["$nil?"]())?c(this.$class(),"new",[this.object,this.method].concat(a.to_a(v))):c(this.object,"__send__",[this.method].concat(a.to_a(v)),B.$to_proc())},ja.$$arity=-1);a.def(L,"$size",ca=function(){return e(this.size["$respond_to?"]("call"))?c(this.size,
"call",a.to_a(this.args)):this.size},ca.$$arity=0);a.def(L,"$with_index",la=function(m){var v=la.$$p,B=v||x,E;v&&(la.$$p=null);v&&(la.$$p=null);null==m&&(m=0);m=e(m)?f(m,p(K,"Integer"),"to_int"):0;if(!e(B))return c(this,"enum_for",["with_index",m],(E=function(){return(null==E.$$s?this:E.$$s).$size()},E.$$s=this,E.$$arity=0,E));var H=m;this.$each.$$p=function(){var J=p(K,"Opal").$destructure(arguments);J=B(J,H);H++;return J};return this.$each()},la.$$arity=-1);a.alias(L,"with_object","each_with_object");
a.def(L,"$each_with_index",b=function(){var m=b.$$p,v=m||x,B,E=x,H=x,J=x;m&&(b.$$p=null);H=0;J=arguments.length;for(E=Array(J);H<J;H++)E[H]=arguments[H];m&&(b.$$p=null);if(v===x)return c(this,"enum_for",["each_with_index"],(B=function(){return(null==B.$$s?this:B.$$s).$size()},B.$$s=this,B.$$arity=0,B));n(this,a.find_super_dispatcher(this,"each_with_index",b,!1,!0),"each_with_index",E,m);return this.object},b.$$arity=0);a.def(L,"$inspect",l=function(){var m="#<"+this.$class()+": "+this.object.$inspect()+
":"+this.method;e(this.args["$any?"]())&&(m=u(m,"("+this.args.$inspect()["$[]"](p(K,"Range").$new(1,-2))+")"));return u(m,">")},l.$$arity=0);(function(m,$super,B){m=F(m,$super,"Generator");var E=[m].concat(B),H,J;m.$$prototype.block=x;m.$include(p(E,"Enumerable"));a.def(m,"$initialize",H=function(){var Z=H.$$p,ta=Z||x;Z&&(H.$$p=null);Z&&(H.$$p=null);e(ta)||this.$raise(p(E,"LocalJumpError"),"no block given");return this.block=ta},H.$$arity=0);return(a.def(m,"$each",J=function(Z){var ta=J.$$p,Ka=ta||
x;ta&&(J.$$p=null);ta&&(J.$$p=null);ta=a.slice.call(arguments,0,arguments.length);Ka=c(p(E,"Yielder"),"new",[],Ka.$to_proc());try{ta.unshift(Ka),a.yieldX(this.block,ta)}catch(ua){if(ua===d)return d.$v;throw ua;}return this},J.$$arity=-1),x)&&"each"})(K[0],null,K);(function(m,$super,B){m=F(m,$super,"Yielder");[m].concat(B);var E,H,J;m.$$prototype.block=x;a.def(m,"$initialize",E=function(){var Z=E.$$p,ta=Z||x;Z&&(E.$$p=null);Z&&(E.$$p=null);return this.block=ta},E.$$arity=0);a.def(m,"$yield",H=function(Z){var ta=
a.slice.call(arguments,0,arguments.length);ta=a.yieldX(this.block,ta);if(ta===d)throw d;return ta},H.$$arity=-1);return(a.def(m,"$<<",J=function(Z){var ta=a.slice.call(arguments,0,arguments.length);c(this,"yield",a.to_a(ta));return this},J.$$arity=-1),x)&&"<<"})(K[0],null,K);(function(m,$super,B){m=F(m,$super,"Lazy");var E=[m].concat(B),H,J,Z,ta,Ka,ua,ya,Ia,na,P,ra,Y,ia;m.$$prototype.enumerator=x;(function(X,$super,T){[F(X,$super,"StopLazyError")].concat(T);return x})(E[0],p(E,"Exception"),E);a.def(m,
"$initialize",H=function(X,R){var T=H.$$p,sa=T||x,Ca;T&&(H.$$p=null);T&&(H.$$p=null);null==R&&(R=x);sa===x&&this.$raise(p(E,"ArgumentError"),"tried to call lazy new without a block");this.enumerator=X;return n(this,a.find_super_dispatcher(this,"initialize",H,!1,!0),"initialize",[R],(Ca=function(ka,xa){var Ea=null==Ca.$$s?this:Ca.$$s,Da;null==ka&&(ka=x);var Ra=a.slice.call(arguments,1,arguments.length);try{return c(X,"each",a.to_a(Ra),(Da=function(Pa){var La=a.slice.call(arguments,0,arguments.length);
La.unshift(ka);a.yieldX(sa,La)},Da.$$s=Ea,Da.$$arity=-1,Da))}catch(Pa){if(a.rescue(Pa,[p(E,"Exception")]))try{return x}finally{a.pop_exception()}else throw Pa;}},Ca.$$s=this,Ca.$$arity=-2,Ca))},H.$$arity=-2);a.alias(m,"force","to_a");a.def(m,"$lazy",J=function(){return this},J.$$arity=0);a.def(m,"$collect",Z=function(){var X=Z.$$p,R=X||x,T;X&&(Z.$$p=null);X&&(Z.$$p=null);e(R)||this.$raise(p(E,"ArgumentError"),"tried to call lazy map without a block");return c(p(E,"Lazy"),"new",[this,this.$enumerator_size()],
(T=function(sa,Ca){null==sa&&(sa=x);var ka=a.slice.call(arguments,1,arguments.length);ka=a.yieldX(R,ka);sa.$yield(ka)},T.$$s=this,T.$$arity=-2,T))},Z.$$arity=0);a.def(m,"$collect_concat",ta=function(){var X=ta.$$p,R=X||x,T;X&&(ta.$$p=null);X&&(ta.$$p=null);e(R)||this.$raise(p(E,"ArgumentError"),"tried to call lazy map without a block");return c(p(E,"Lazy"),"new",[this,x],(T=function(sa,Ca){var ka=null==T.$$s?this:T.$$s,xa,Ea;null==sa&&(sa=x);var Da=a.slice.call(arguments,1,arguments.length);Da=a.yieldX(R,
Da);Da["$respond_to?"]("force")&&Da["$respond_to?"]("each")?c(Da,"each",[],(xa=function(Ra){null==Ra&&(Ra=x);return sa.$yield(Ra)},xa.$$s=ka,xa.$$arity=1,xa)):p(E,"Opal").$try_convert(Da,p(E,"Array"),"to_ary")===x?sa.$yield(Da):c(Da,"each",[],(Ea=function(Ra){null==Ra&&(Ra=x);return sa.$yield(Ra)},Ea.$$s=ka,Ea.$$arity=1,Ea))},T.$$s=this,T.$$arity=-2,T))},ta.$$arity=0);a.def(m,"$drop",Ka=function(X){var R,T=x,sa=T=x;X=f(X,p(E,"Integer"),"to_int");e(I(X,0))&&this.$raise(p(E,"ArgumentError"),"attempt to drop negative size");
T=this.$enumerator_size();T=e(p(E,"Integer")["$==="](T))?e(I(X,T))?X:T:T;sa=0;return c(p(E,"Lazy"),"new",[this,T],(R=function(Ca,ka){null==Ca&&(Ca=x);var xa=a.slice.call(arguments,1,arguments.length);return e(I(sa,X))?sa=u(sa,1):c(Ca,"yield",a.to_a(xa))},R.$$s=this,R.$$arity=-2,R))},Ka.$$arity=1);a.def(m,"$drop_while",ua=function(){var X=ua.$$p,R=X||x,T,sa=x;X&&(ua.$$p=null);X&&(ua.$$p=null);e(R)||this.$raise(p(E,"ArgumentError"),"tried to call lazy drop_while without a block");sa=!0;return c(p(E,
"Lazy"),"new",[this,x],(T=function(Ca,ka){null==Ca&&(Ca=x);var xa=a.slice.call(arguments,1,arguments.length);if(e(sa)){var Ea=a.yieldX(R,xa);A(Ea)&&(sa=!1,c(Ca,"yield",a.to_a(xa)))}else return c(Ca,"yield",a.to_a(xa))},T.$$s=this,T.$$arity=-2,T))},ua.$$arity=0);a.def(m,"$enum_for",ya=function(X,R){var T=ya.$$p,sa=T||x;T&&(ya.$$p=null);T&&(ya.$$p=null);T=a.slice.call(arguments,0,arguments.length);if(0<T.length){var Ca=T[0];T.splice(0,1)}null==Ca&&(Ca="each");return c(this.$class(),"for",[this,Ca].concat(a.to_a(T)),
sa.$to_proc())},ya.$$arity=-1);a.alias(m,"filter","find_all");a.def(m,"$find_all",Ia=function(){var X=Ia.$$p,R=X||x,T;X&&(Ia.$$p=null);X&&(Ia.$$p=null);e(R)||this.$raise(p(E,"ArgumentError"),"tried to call lazy select without a block");return c(p(E,"Lazy"),"new",[this,x],(T=function(sa,Ca){null==sa&&(sa=x);var ka=a.slice.call(arguments,1,arguments.length);var xa=a.yieldX(R,ka);e(xa)&&c(sa,"yield",a.to_a(ka))},T.$$s=this,T.$$arity=-2,T))},Ia.$$arity=0);a.alias(m,"flat_map","collect_concat");a.def(m,
"$grep",na=function(X){var R=na.$$p,T=R||x,sa,Ca;R&&(na.$$p=null);R&&(na.$$p=null);return e(T)?c(p(E,"Lazy"),"new",[this,x],(sa=function(ka,xa){null==ka&&(ka=x);var Ea=a.slice.call(arguments,1,arguments.length);Ea=p(E,"Opal").$destructure(Ea);var Da=X["$==="](Ea);e(Da)&&(a.yield1(T,Ea),ka.$yield(a.yield1(T,Ea)))},sa.$$s=this,sa.$$arity=-2,sa)):c(p(E,"Lazy"),"new",[this,x],(Ca=function(ka,xa){null==ka&&(ka=x);var Ea=a.slice.call(arguments,1,arguments.length);Ea=p(E,"Opal").$destructure(Ea);var Da=
X["$==="](Ea);e(Da)&&ka.$yield(Ea)},Ca.$$s=this,Ca.$$arity=-2,Ca))},na.$$arity=1);a.alias(m,"map","collect");a.alias(m,"select","find_all");a.def(m,"$reject",P=function(){var X=P.$$p,R=X||x,T;X&&(P.$$p=null);X&&(P.$$p=null);e(R)||this.$raise(p(E,"ArgumentError"),"tried to call lazy reject without a block");return c(p(E,"Lazy"),"new",[this,x],(T=function(sa,Ca){null==sa&&(sa=x);var ka=a.slice.call(arguments,1,arguments.length);var xa=a.yieldX(R,ka);A(xa)&&c(sa,"yield",a.to_a(ka))},T.$$s=this,T.$$arity=
-2,T))},P.$$arity=0);a.def(m,"$take",ra=function(X){var R,T=x,sa=T=x;X=f(X,p(E,"Integer"),"to_int");e(I(X,0))&&this.$raise(p(E,"ArgumentError"),"attempt to take negative size");T=this.$enumerator_size();T=e(p(E,"Integer")["$==="](T))?e(I(X,T))?X:T:T;sa=0;return c(p(E,"Lazy"),"new",[this,T],(R=function(Ca,ka){var xa=null==R.$$s?this:R.$$s;null==Ca&&(Ca=x);var Ea=a.slice.call(arguments,1,arguments.length);return e(I(sa,X))?(c(Ca,"yield",a.to_a(Ea)),sa=u(sa,1)):xa.$raise(p(E,"StopLazyError"))},R.$$s=
this,R.$$arity=-2,R))},ra.$$arity=1);a.def(m,"$take_while",Y=function(){var X=Y.$$p,R=X||x,T;X&&(Y.$$p=null);X&&(Y.$$p=null);e(R)||this.$raise(p(E,"ArgumentError"),"tried to call lazy take_while without a block");return c(p(E,"Lazy"),"new",[this,x],(T=function(sa,Ca){var ka=null==T.$$s?this:T.$$s;null==sa&&(sa=x);var xa=a.slice.call(arguments,1,arguments.length);var Ea=a.yieldX(R,xa);e(Ea)?c(sa,"yield",a.to_a(xa)):ka.$raise(p(E,"StopLazyError"))},T.$$s=this,T.$$arity=-2,T))},Y.$$arity=0);a.alias(m,
"to_enum","enum_for");return(a.def(m,"$inspect",ia=function(){return"#<"+this.$class()+": "+this.enumerator.$inspect()+">"},ia.$$arity=0),x)&&"inspect"})(K[0],L,K);return function(m,$super,B){[F(m,$super,"ArithmeticSequence")].concat(B);return x}(K[0],L,K)}(r[0],null,r)};
Opal.modules["corelib/numeric"]=function(a){function u(c,n){return"number"===typeof c&&"number"===typeof n?c-n:c["$-"](n)}function I(c,n){return"number"===typeof c&&"number"===typeof n?c*n:c["$*"](n)}function q(c,n){return"number"===typeof c&&"number"===typeof n?c<n:c["$<"](n)}function r(c,n){return"number"===typeof c&&"number"===typeof n?c/n:c["$/"](n)}var x=a.top,p=[],d=a.nil,C=a.$$$,A=a.$$,e=a.klass,f=a.truthy,F=a.hash2;a.add_stubs("$require $include $instance_of? $class $Float $respond_to? $coerce $__send__ $=== $raise $equal? $- $* $div $< $-@ $ceil $to_f $denominator $to_r $== $floor $/ $% $Complex $zero? $numerator $abs $arg $coerce_to! $round $to_i $truncate $>".split(" "));
x.$require("corelib/comparable");return function(c,$super,L){c=e(c,$super,"Numeric");var g=[c].concat(L),h,K,D,Q,ja,ca,la,b,l,m,v,B,E,H,J,Z,ta,Ka,ua,ya,Ia,na,P,ra,Y,ia,X,R,T,sa,Ca,ka,xa,Ea,Da,Ra,Pa;c.$include(A(g,"Comparable"));a.def(c,"$coerce",h=function(La){return f(La["$instance_of?"](this.$class()))?[La,this]:[this.$Float(La),this.$Float(this)]},h.$$arity=1);a.def(c,"$__coerced__",K=function(La,kb){if(f(kb["$respond_to?"]("coerce"))){kb=kb.$coerce(this);var lb=a.to_ary(kb);var va=null==lb[0]?
d:lb[0];lb=null==lb[1]?d:lb[1];kb;return va.$__send__(La,lb)}return"+"["$==="](La)||"-"["$==="](La)||"*"["$==="](La)||"/"["$==="](La)||"%"["$==="](La)||"&"["$==="](La)||"|"["$==="](La)||"^"["$==="](La)||"**"["$==="](La)?this.$raise(A(g,"TypeError"),""+kb.$class()+" can't be coerced into Numeric"):">"["$==="](La)||">="["$==="](La)||"<"["$==="](La)||"<="["$==="](La)||"<=>"["$==="](La)?this.$raise(A(g,"ArgumentError"),"comparison of "+this.$class()+" with "+kb.$class()+" failed"):d},K.$$arity=2);a.def(c,
"$<=>",D=function(La){return f(this["$equal?"](La))?0:d},D.$$arity=1);a.def(c,"$+@",Q=function(){return this},Q.$$arity=0);a.def(c,"$-@",ja=function(){return u(0,this)},ja.$$arity=0);a.def(c,"$%",ca=function(La){return u(this,I(La,this.$div(La)))},ca.$$arity=1);a.def(c,"$abs",la=function(){return q(this,0)?this["$-@"]():this},la.$$arity=0);a.def(c,"$abs2",b=function(){return I(this,this)},b.$$arity=0);a.def(c,"$angle",l=function(){return q(this,0)?C(A(g,"Math"),"PI"):0},l.$$arity=0);a.alias(c,"arg",
"angle");a.def(c,"$ceil",m=function(La){null==La&&(La=0);return this.$to_f().$ceil(La)},m.$$arity=-1);a.def(c,"$conj",v=function(){return this},v.$$arity=0);a.alias(c,"conjugate","conj");a.def(c,"$denominator",B=function(){return this.$to_r().$denominator()},B.$$arity=0);a.def(c,"$div",E=function(La){La["$=="](0)&&this.$raise(A(g,"ZeroDivisionError"),"divided by o");return r(this,La).$floor()},E.$$arity=1);a.def(c,"$divmod",H=function(La){return[this.$div(La),this["$%"](La)]},H.$$arity=1);a.def(c,
"$fdiv",J=function(La){return r(this.$to_f(),La)},J.$$arity=1);a.def(c,"$floor",Z=function(La){null==La&&(La=0);return this.$to_f().$floor(La)},Z.$$arity=-1);a.def(c,"$i",ta=function(){return this.$Complex(0,this)},ta.$$arity=0);a.def(c,"$imag",Ka=function(){return 0},Ka.$$arity=0);a.alias(c,"imaginary","imag");a.def(c,"$integer?",ua=function(){return!1},ua.$$arity=0);a.alias(c,"magnitude","abs");a.alias(c,"modulo","%");a.def(c,"$nonzero?",ya=function(){return f(this["$zero?"]())?d:this},ya.$$arity=
0);a.def(c,"$numerator",Ia=function(){return this.$to_r().$numerator()},Ia.$$arity=0);a.alias(c,"phase","arg");a.def(c,"$polar",na=function(){return[this.$abs(),this.$arg()]},na.$$arity=0);a.def(c,"$quo",P=function(La){return r(A(g,"Opal")["$coerce_to!"](this,A(g,"Rational"),"to_r"),La)},P.$$arity=1);a.def(c,"$real",ra=function(){return this},ra.$$arity=0);a.def(c,"$real?",Y=function(){return!0},Y.$$arity=0);a.def(c,"$rect",ia=function(){return[this,0]},ia.$$arity=0);a.alias(c,"rectangular","rect");
a.def(c,"$round",X=function(La){return this.$to_f().$round(La)},X.$$arity=-1);a.def(c,"$to_c",R=function(){return this.$Complex(this,0)},R.$$arity=0);a.def(c,"$to_int",T=function(){return this.$to_i()},T.$$arity=0);a.def(c,"$truncate",sa=function(La){null==La&&(La=0);return this.$to_f().$truncate(La)},sa.$$arity=-1);a.def(c,"$zero?",Ca=function(){return this["$=="](0)},Ca.$$arity=0);a.def(c,"$positive?",ka=function(){return"number"===typeof this?0<this:this["$>"](0)},ka.$$arity=0);a.def(c,"$negative?",
xa=function(){return q(this,0)},xa.$$arity=0);a.def(c,"$dup",Ea=function(){return this},Ea.$$arity=0);a.def(c,"$clone",Da=function(La){if(null==La)F([],{});else if(!La.$$is_hash)throw a.ArgumentError.$new("expected kwargs");return this},Da.$$arity=-1);a.def(c,"$finite?",Ra=function(){return!0},Ra.$$arity=0);return(a.def(c,"$infinite?",Pa=function(){return d},Pa.$$arity=0),d)&&"infinite?"}(p[0],null,p)};
Opal.modules["corelib/array"]=function(a){function u(ja,ca){return"number"===typeof ja&&"number"===typeof ca?ja>ca:ja["$>"](ca)}var I=a.top,q=[],r=a.nil,x=a.$$$,p=a.$$,d=a.truthy,C=a.falsy,A=a.hash_ids,e=a.yield1,f=a.hash_get,F=a.hash_put,c=a.hash_delete,n=a.coerce_to,L=a.respond_to,g=a.klass,h=a.hash2,K=a.send2,D=a.send,Q=a.gvars;a.add_stubs("$require $include $to_a $warn $raise $replace $respond_to? $to_ary $coerce_to? $=== $join $to_str $class $hash $<=> $== $object_id $inspect $enum_for $bsearch_index $to_proc $nil? $coerce_to! $> $* $enumerator_size $empty? $size $map $equal? $dup $each $[] $dig $eql? $length $exclude_end? $flatten $__id__ $to_s $new $max $min $! $>= $** $delete_if $reverse $rotate $rand $at $keep_if $shuffle! $< $sort $sort_by $!= $times $[]= $- $<< $values $is_a? $last $first $upto $reject $pristine $singleton_class".split(" "));
I.$require("corelib/enumerable");I.$require("corelib/numeric");return function(ja,$super,la){function b(t,G){return G.$$name===a.Array?t:G.$allocate().$replace(t.$to_a())}function l(t,G,N){for(var ba,ea=null,pa=Array(t.length),Ma=0,ab=0,Xa=t.length;Ma<Xa;Ma++){if(!ea)try{ba=e(N,t[Ma])}catch(hb){ea=hb}if(ea||G(ba))pa[ab]=t[Ma],ab+=1}ab!==Ma&&(t.splice.apply(t,[0,pa.length].concat(pa)),t.splice(ab,pa.length));if(ea)throw ea;}function m(t,G){var N=t.length;var ba=G.excl;var ea=n(G.begin,a.Integer,"to_int");
G=n(G.end,a.Integer,"to_int");if(0>ea&&(ea+=N,0>ea)||ea>N)return r;if(0>G&&(G+=N,0>G))return[];ba||(G+=1);N=t.slice(ea,G);return b(N,t.$class())}function v(t,G,N){var ba=t.length;G=n(G,a.Integer,"to_int");if(0>G&&(G+=ba,0>G))return r;if(void 0===N)return G>=ba||0>G?r:t[G];N=n(N,a.Integer,"to_int");if(0>N||G>ba||0>G)return r;G=t.slice(G,G+N);return b(G,t.$class())}function B(t,G){return t===G||0===G?1:0<G&&t>G?B(t-1,G-1)+B(t-1,G):0}var E=g(ja,$super,"Array"),H=[E].concat(la),J,Z,ta,Ka,ua,ya,Ia,na,
P,ra,Y,ia,X,R,T,sa,Ca,ka,xa,Ea,Da,Ra,Pa,La,kb,lb,va,Na,Sa,db,jb,fb,gb,ib,Aa,wa,Oa,Va,Za,Fa,aa,W,da,V,ha,ma,k,z,O,fa,w,S,oa,Ha,eb,ob,mb,sb,tb,wb,xb,ub,U,Ja,Ya,y,M,qa,Ba,za,Ga,Ua,cb,$a,Qa,Wa,bb,qb,nb,pb,Gb,Ab,Jb,Bb,Kb,Cb,Db,Lb,Mb,Eb,Nb,Fb,Ob;E.$include(p(H,"Enumerable"));a.defineProperty(E.$$prototype,"$$is_array",!0);a.defs(E,"$[]",J=function(t){var G=a.slice.call(arguments,0,arguments.length);return b(G,this)},J.$$arity=-1);a.def(E,"$initialize",Z=function(t,G){var N=Z.$$p,ba=N||r;N&&(Z.$$p=null);
N&&(Z.$$p=null);null==t&&(t=r);null==G&&(G=r);G!==r&&ba!==r&&this.$warn("warning: block supersedes default value argument");t>x(p(H,"Integer"),"MAX")&&this.$raise(p(H,"ArgumentError"),"array size too big");2<arguments.length&&this.$raise(p(H,"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..2)");if(0===arguments.length)return this.splice(0,this.length),this;if(1===arguments.length){if(t.$$is_array)return this.$replace(t.$to_a()),this;if(t["$respond_to?"]("to_ary"))return this.$replace(t.$to_ary()),
this}t=n(t,p(H,"Integer"),"to_int");0>t&&this.$raise(p(H,"ArgumentError"),"negative array size");this.splice(0,this.length);if(ba===r)for(N=0;N<t;N++)this.push(G);else for(N=0,ea;N<t;N++){var ea=ba(N);this[N]=ea}return this},Z.$$arity=-1);a.defs(E,"$try_convert",ta=function(t){return p(H,"Opal")["$coerce_to?"](t,p(H,"Array"),"to_ary")},ta.$$arity=1);a.def(E,"$&",Ka=function(t){t=d(p(H,"Array")["$==="](t))?t.$to_a():n(t,p(H,"Array"),"to_ary").$to_a();var G=[],N=h([],{}),ba;var ea=0;for(ba=t.length;ea<
ba;ea++)F(N,t[ea],!0);ea=0;for(ba=this.length;ea<ba;ea++)t=this[ea],void 0!==c(N,t)&&G.push(t);return G},Ka.$$arity=1);a.def(E,"$|",ua=function(t){t=d(p(H,"Array")["$==="](t))?t.$to_a():n(t,p(H,"Array"),"to_ary").$to_a();var G=h([],{}),N;var ba=0;for(N=this.length;ba<N;ba++)F(G,this[ba],!0);ba=0;for(N=t.length;ba<N;ba++)F(G,t[ba],!0);return G.$keys()},ua.$$arity=1);a.def(E,"$*",ya=function(t){if(d(t["$respond_to?"]("to_str")))return this.$join(t.$to_str());t=n(t,p(H,"Integer"),"to_int");d(0>t)&&this.$raise(p(H,
"ArgumentError"),"negative argument");for(var G=[],N=this.$to_a(),ba=0;ba<t;ba++)G=G.concat(N);return b(G,this.$class())},ya.$$arity=1);a.def(E,"$+",Ia=function(t){t=d(p(H,"Array")["$==="](t))?t.$to_a():n(t,p(H,"Array"),"to_ary").$to_a();return this.concat(t)},Ia.$$arity=1);a.def(E,"$-",na=function(t){t=d(p(H,"Array")["$==="](t))?t.$to_a():n(t,p(H,"Array"),"to_ary").$to_a();if(d(0===this.length))return[];if(d(0===t.length))return this.slice();var G=[],N=h([],{}),ba;var ea=0;for(ba=t.length;ea<ba;ea++)F(N,
t[ea],!0);ea=0;for(ba=this.length;ea<ba;ea++)t=this[ea],void 0===f(N,t)&&G.push(t);return G},na.$$arity=1);a.def(E,"$<<",P=function(t){this.push(t);return this},P.$$arity=1);a.def(E,"$<=>",ra=function(t){if(d(p(H,"Array")["$==="](t)))t=t.$to_a();else if(d(t["$respond_to?"]("to_ary")))t=t.$to_ary().$to_a();else return r;if(this.$hash()===t.$hash())return 0;for(var G=Math.min(this.length,t.length),N=0;N<G;N++){var ba=this[N]["$<=>"](t[N]);if(0!==ba)return ba}return this.length["$<=>"](t.length)},ra.$$arity=
1);a.def(E,"$==",Y=function(t){function G(ba,ea){var pa;if(ba===ea)return!0;if(!ea.$$is_array)return L(ea,"$to_ary")?ea["$=="](ba):!1;ba.$$constructor!==Array&&(ba=ba.$to_a());ea.$$constructor!==Array&&(ea=ea.$to_a());if(ba.length!==ea.length)return!1;N[ba.$object_id()]=!0;var Ma=0;for(pa=ba.length;Ma<pa;Ma++){var ab=ba[Ma];var Xa=ea[Ma];if(ab.$$is_array){if(Xa.$$is_array&&Xa.length!==ab.length||!N.hasOwnProperty(ab.$object_id())&&!G(ab,Xa))return!1}else if(!ab["$=="](Xa))return!1}return!0}var N=
{};return G(this,t)},Y.$$arity=1);a.def(E,"$[]",ia=function(t,G){return t.$$is_range?m(this,t):v(this,t,G)},ia.$$arity=-2);a.def(E,"$[]=",X=function(t,G,N){var ba=r;var ea=this.length;if(d(p(H,"Range")["$==="](t))){ba=d(p(H,"Array")["$==="](G))?G.$to_a():d(G["$respond_to?"]("to_ary"))?G.$to_ary().$to_a():[G];var pa=t.excl;N=n(t.begin,p(H,"Integer"),"to_int");var Ma=n(t.end,p(H,"Integer"),"to_int");0>N&&(N+=ea,0>N&&this.$raise(p(H,"RangeError"),""+t.$inspect()+" out of range"));0>Ma&&(Ma+=ea);pa||
(Ma+=1);if(N>ea)for(;ea<N;ea++)this[ea]=r;0>Ma?this.splice.apply(this,[N,0].concat(ba)):this.splice.apply(this,[N,Ma-N].concat(ba))}else{d(void 0===N)?Ma=1:(Ma=G,G=N,ba=d(p(H,"Array")["$==="](G))?G.$to_a():d(G["$respond_to?"]("to_ary"))?G.$to_ary().$to_a():[G]);t=n(t,p(H,"Integer"),"to_int");Ma=n(Ma,p(H,"Integer"),"to_int");0>t&&(pa=t,t+=ea,0>t&&this.$raise(p(H,"IndexError"),"index "+pa+" too small for array; minimum "+-this.length));0>Ma&&this.$raise(p(H,"IndexError"),"negative length ("+Ma+")");
if(t>ea)for(;ea<t;ea++)this[ea]=r;void 0===N?this[t]=G:this.splice.apply(this,[t,Ma].concat(ba))}return G},X.$$arity=-3);a.def(E,"$any?",R=function(t){var G=R.$$p,N;G&&(R.$$p=null);var ba=0;var ea=arguments.length;for(N=Array(ea);ba<ea;ba++)N[ba]=arguments[ba];G&&(R.$$p=null);return 0===this.length?!1:K(this,a.find_super_dispatcher(this,"any?",R,!1,!0),"any?",N,G)},R.$$arity=-1);a.def(E,"$assoc",T=function(t){for(var G=0,N=this.length,ba;G<N;G++)if(ba=this[G],ba.length&&ba[0]["$=="](t))return ba;
return r},T.$$arity=1);a.def(E,"$at",sa=function(t){t=n(t,p(H,"Integer"),"to_int");0>t&&(t+=this.length);return 0>t||t>=this.length?r:this[t]},sa.$$arity=1);a.def(E,"$bsearch_index",Ca=function(){var t=Ca.$$p,G=t||r;t&&(Ca.$$p=null);t&&(Ca.$$p=null);if(G===r)return this.$enum_for("bsearch_index");t=0;for(var N=this.length,ba,ea,pa=!1,Ma=r;t<N;){ba=t+Math.floor((N-t)/2);ea=this[ba];ea=e(G,ea);if(!0===ea)Ma=ba,pa=!0;else if(!1===ea||ea===r)pa=!1;else if(ea.$$is_number){if(0===ea)return ba;pa=0>ea}else this.$raise(p(H,
"TypeError"),"wrong argument type "+ea.$class()+" (must be numeric, true, false or nil)");pa?N=ba:t=ba+1}return Ma},Ca.$$arity=0);a.def(E,"$bsearch",ka=function(){var t=ka.$$p,G=t||r;t&&(ka.$$p=null);t&&(ka.$$p=null);if(G===r)return this.$enum_for("bsearch");t=D(this,"bsearch_index",[],G.$to_proc());return null!=t&&t.$$is_number?this[t]:t},ka.$$arity=0);a.def(E,"$cycle",xa=function(t){var G=xa.$$p,N=G||r,ba,ea=r;G&&(xa.$$p=null);G&&(xa.$$p=null);null==t&&(t=r);if(N===r)return D(this,"enum_for",["cycle",
t],(ba=function(){var pa=null==ba.$$s?this:ba.$$s;if(d(t["$nil?"]()))return x(p(H,"Float"),"INFINITY");t=p(H,"Opal")["$coerce_to!"](t,p(H,"Integer"),"to_int");return d(u(t,0))?(pa=pa.$enumerator_size(),"number"===typeof pa&&"number"===typeof t?pa*t:pa["$*"](t)):0},ba.$$s=this,ba.$$arity=0,ba));if(d(d(ea=this["$empty?"]())?ea:t["$=="](0)))return r;if(t===r)for(;;)for(G=0,ea=this.length;G<ea;G++)e(N,this[G]);else{t=p(H,"Opal")["$coerce_to!"](t,p(H,"Integer"),"to_int");if(0>=t)return this;for(;0<t;){G=
0;for(ea=this.length;G<ea;G++)e(N,this[G]);t--}}return this},xa.$$arity=-1);a.def(E,"$clear",Ea=function(){this.splice(0,this.length);return this},Ea.$$arity=0);a.def(E,"$count",Da=function(t){var G=Da.$$p,N=G||r,ba=r,ea;G&&(Da.$$p=null);var pa=0;var Ma=arguments.length;for(ea=Array(Ma);pa<Ma;pa++)ea[pa]=arguments[pa];G&&(Da.$$p=null);null==t&&(t=r);return d(d(ba=t)?ba:N)?K(this,a.find_super_dispatcher(this,"count",Da,!1,!0),"count",ea,G):this.$size()},Da.$$arity=-1);a.def(E,"$initialize_copy",Ra=
function(t){return this.$replace(t)},Ra.$$arity=1);a.def(E,"$collect",Pa=function(){var t=Pa.$$p,G=t||r,N;t&&(Pa.$$p=null);t&&(Pa.$$p=null);if(G===r)return D(this,"enum_for",["collect"],(N=function(){return(null==N.$$s?this:N.$$s).$size()},N.$$s=this,N.$$arity=0,N));t=[];for(var ba=0,ea=this.length;ba<ea;ba++){var pa=e(G,this[ba]);t.push(pa)}return t},Pa.$$arity=0);a.def(E,"$collect!",La=function(){var t=La.$$p,G=t||r,N;t&&(La.$$p=null);t&&(La.$$p=null);if(G===r)return D(this,"enum_for",["collect!"],
(N=function(){return(null==N.$$s?this:N.$$s).$size()},N.$$s=this,N.$$arity=0,N));t=0;for(var ba=this.length;t<ba;t++){var ea=e(G,this[t]);this[t]=ea}return this},La.$$arity=0);a.def(E,"$combination",kb=function(t){var G,N=kb.$$p,ba=N||r,ea=r;N&&(kb.$$p=null);ea=p(H,"Opal")["$coerce_to!"](t,p(H,"Integer"),"to_int");if(ba===r)return D(this,"enum_for",["combination",ea],(G=function(){return B((null==G.$$s?this:G.$$s).length,ea)},G.$$s=this,G.$$arity=0,G));if(0===ea)a.yield1(ba,[]);else if(1===ea)for(N=
0,t=this.length;N<t;N++)a.yield1(ba,[this[N]]);else if(ea===this.length)a.yield1(ba,this.slice());else if(0<=ea&&ea<this.length){t=[];for(N=0;N<=ea+1;N++)t.push(0);N=[];var pa=0;var Ma=!1;for(t[0]=-1;!Ma;){for(N[pa]=this[t[pa+1]];pa<ea-1;)pa++,Ma=t[pa+1]=t[pa]+1,N[pa]=this[Ma];a.yield1(ba,N.slice());pa++;do Ma=0===pa,t[pa]++,pa--;while(t[pa+1]+ea===this.length+pa+1)}}return this},kb.$$arity=1);a.def(E,"$repeated_combination",lb=function(t){function G(Ma,ab,Xa,hb){if(Xa.length==Ma)Ma=Xa.slice(),a.yield1(ea,
Ma);else for(;ab<hb.length;ab++)Xa.push(hb[ab]),G(Ma,ab,Xa,hb),Xa.pop()}var N,ba=lb.$$p,ea=ba||r,pa=r;ba&&(lb.$$p=null);pa=p(H,"Opal")["$coerce_to!"](t,p(H,"Integer"),"to_int");if(ea===r)return D(this,"enum_for",["repeated_combination",pa],(N=function(){return B((null==N.$$s?this:N.$$s).length+pa-1,pa)},N.$$s=this,N.$$arity=0,N));0<=pa&&G(pa,0,[],this);return this},lb.$$arity=1);a.def(E,"$compact",va=function(){for(var t=[],G=0,N=this.length,ba;G<N;G++)(ba=this[G])!==r&&t.push(ba);return t},va.$$arity=
0);a.def(E,"$compact!",Na=function(){for(var t=this.length,G=0,N=this.length;G<N;G++)this[G]===r&&(this.splice(G,1),N--,G--);return this.length===t?r:this},Na.$$arity=0);a.def(E,"$concat",Sa=function(t){var G,N;var ba=a.slice.call(arguments,0,arguments.length);ba=D(ba,"map",[],(G=function(ea){var pa=null==G.$$s?this:G.$$s;null==ea&&(ea=r);ea=d(p(H,"Array")["$==="](ea))?ea.$to_a():n(ea,p(H,"Array"),"to_ary").$to_a();d(ea["$equal?"](pa))&&(ea=ea.$dup());return ea},G.$$s=this,G.$$arity=1,G));D(ba,"each",
[],(N=function(ea){var pa=null==N.$$s?this:N.$$s;null==ea&&(ea=r);for(var Ma=0,ab=ea.length;Ma<ab;Ma++)pa.push(ea[Ma])},N.$$s=this,N.$$arity=1,N));return this},Sa.$$arity=-1);a.def(E,"$delete",db=function(t){var G=db.$$p,N=G||r;G&&(db.$$p=null);G=this.length;for(var ba=0,ea=G;ba<ea;ba++)this[ba]["$=="](t)&&(this.splice(ba,1),ea--,ba--);return this.length===G?N!==r?a.yieldX(N,[]):r:t},db.$$arity=1);a.def(E,"$delete_at",jb=function(t){t=n(t,p(H,"Integer"),"to_int");0>t&&(t+=this.length);if(0>t||t>=
this.length)return r;var G=this[t];this.splice(t,1);return G},jb.$$arity=1);a.def(E,"$delete_if",fb=function(){var t=fb.$$p,G=t||r,N;t&&(fb.$$p=null);t&&(fb.$$p=null);if(G===r)return D(this,"enum_for",["delete_if"],(N=function(){return(null==N.$$s?this:N.$$s).$size()},N.$$s=this,N.$$arity=0,N));l(this,C,G);return this},fb.$$arity=0);a.alias(E,"difference","-");a.def(E,"$dig",gb=function(t,G){var N=a.slice.call(arguments,1,arguments.length);var ba=this["$[]"](t);if(ba===r||0===N.length)return ba;d(ba["$respond_to?"]("dig"))||
this.$raise(p(H,"TypeError"),""+ba.$class()+" does not have #dig method");return D(ba,"dig",a.to_a(N))},gb.$$arity=-2);a.def(E,"$drop",ib=function(t){0>t&&this.$raise(p(H,"ArgumentError"));return this.slice(t)},ib.$$arity=1);a.def(E,"$dup",Aa=function(){var t=Aa.$$p,G;t&&(Aa.$$p=null);var N=0;var ba=arguments.length;for(G=Array(ba);N<ba;N++)G[N]=arguments[N];return this.$$class===a.Array&&this.$$class.$allocate.$$pristine&&this.$copy_instance_variables.$$pristine&&this.$initialize_dup.$$pristine?
this.slice(0):K(this,a.find_super_dispatcher(this,"dup",Aa,!1,!0),"dup",G,t)},Aa.$$arity=0);a.def(E,"$each",wa=function(){var t=wa.$$p,G=t||r,N;t&&(wa.$$p=null);t&&(wa.$$p=null);if(G===r)return D(this,"enum_for",["each"],(N=function(){return(null==N.$$s?this:N.$$s).$size()},N.$$s=this,N.$$arity=0,N));t=0;for(var ba=this.length;t<ba;t++)e(G,this[t]);return this},wa.$$arity=0);a.def(E,"$each_index",Oa=function(){var t=Oa.$$p,G=t||r,N;t&&(Oa.$$p=null);t&&(Oa.$$p=null);if(G===r)return D(this,"enum_for",
["each_index"],(N=function(){return(null==N.$$s?this:N.$$s).$size()},N.$$s=this,N.$$arity=0,N));t=0;for(var ba=this.length;t<ba;t++)e(G,t);return this},Oa.$$arity=0);a.def(E,"$empty?",Va=function(){return 0===this.length},Va.$$arity=0);a.def(E,"$eql?",Za=function(t){function G(ba,ea){var pa;if(!ea.$$is_array)return!1;ea=ea.$to_a();if(ba.length!==ea.length)return!1;N[ba.$object_id()]=!0;var Ma=0;for(pa=ba.length;Ma<pa;Ma++){var ab=ba[Ma];var Xa=ea[Ma];if(ab.$$is_array){if(Xa.$$is_array&&Xa.length!==
ab.length||!N.hasOwnProperty(ab.$object_id())&&!G(ab,Xa))return!1}else if(!ab["$eql?"](Xa))return!1}return!0}var N={};return G(this,t)},Za.$$arity=1);a.def(E,"$fetch",Fa=function(t,G){var N=Fa.$$p,ba=N||r;N&&(Fa.$$p=null);N&&(Fa.$$p=null);N=t;t=n(t,p(H,"Integer"),"to_int");0>t&&(t+=this.length);if(0<=t&&t<this.length)return this[t];ba!==r&&null!=G&&this.$warn("warning: block supersedes default value argument");if(ba!==r)return ba(N);if(null!=G)return G;0===this.length?this.$raise(p(H,"IndexError"),
"index "+N+" outside of array bounds: 0...0"):this.$raise(p(H,"IndexError"),"index "+N+" outside of array bounds: -"+this.length+"..."+this.length)},Fa.$$arity=-2);a.def(E,"$fill",aa=function(t){var G=aa.$$p,N=G||r,ba=r;G&&(aa.$$p=null);G&&(aa.$$p=null);G=a.slice.call(arguments,0,arguments.length);if(d(N)){d(2<G.length)&&this.$raise(p(H,"ArgumentError"),"wrong number of arguments ("+G.$length()+" for 0..2)");var ea=G;var pa=a.to_ary(ea);G=null==pa[0]?r:pa[0];pa=null==pa[1]?r:pa[1]}else d(0==G.length)?
this.$raise(p(H,"ArgumentError"),"wrong number of arguments (0 for 1..3)"):d(3<G.length)&&this.$raise(p(H,"ArgumentError"),"wrong number of arguments ("+G.$length()+" for 1..3)"),ea=G,pa=a.to_ary(ea),ba=null==pa[0]?r:pa[0],G=null==pa[1]?r:pa[1],pa=null==pa[2]?r:pa[2];ea;if(d(p(H,"Range")["$==="](G))){if(d(pa)&&this.$raise(p(H,"TypeError"),"length invalid with range"),ea=n(G.begin,p(H,"Integer"),"to_int"),d(0>ea)&&(ea+=this.length),d(0>ea)&&this.$raise(p(H,"RangeError"),""+G.$inspect()+" out of range"),
pa=n(G.end,p(H,"Integer"),"to_int"),d(0>pa)&&(pa+=this.length),d(G["$exclude_end?"]())||(pa+=1),d(pa<=ea))return this}else if(d(G))if(ea=n(G,p(H,"Integer"),"to_int"),d(0>ea)&&(ea+=this.length),d(0>ea)&&(ea=0),d(pa)){pa=n(pa,p(H,"Integer"),"to_int");if(d(0==pa))return this;pa+=ea}else pa=this.length;else ea=0,pa=this.length;if(d(ea>this.length))for(G=this.length;G<pa;G++)this[G]=r;d(pa>this.length)&&(this.length=pa);if(d(N))for(;ea<pa;ea++)ba=N(ea),this[ea]=ba;else for(;ea<pa;ea++)this[ea]=ba;return this},
aa.$$arity=-1);a.def(E,"$first",W=function(t){if(null==t)return 0===this.length?r:this[0];t=n(t,p(H,"Integer"),"to_int");0>t&&this.$raise(p(H,"ArgumentError"),"negative array size");return this.slice(0,t)},W.$$arity=-1);a.def(E,"$flatten",da=function(t){function G(ba,ea){var pa=[],Ma;ba=ba.$to_a();var ab=0;for(Ma=ba.length;ab<Ma;ab++){var Xa=ba[ab];if(L(Xa,"$to_ary",!0)){var hb=Xa.$to_ary();if(hb===r)pa.push(Xa);else switch(hb.$$is_array||N.$raise(p(H,"TypeError")),hb===N&&N.$raise(p(H,"ArgumentError")),
ea){case void 0:pa=pa.concat(G(hb));break;case 0:pa.push(hb);break;default:pa.push.apply(pa,G(hb,ea-1))}}else pa.push(Xa)}return pa}var N=this;void 0!==t&&(t=n(t,p(H,"Integer"),"to_int"));return b(G(N,t),N.$class())},da.$$arity=-1);a.def(E,"$flatten!",V=function(t){t=this.$flatten(t);if(this.length==t.length){for(var G=0,N=this.length;G<N&&this[G]===t[G];G++);if(G==N)return r}this.$replace(t);return this},V.$$arity=-1);a.def(E,"$hash",ha=function(){var t=void 0===A,G=["A"],N=this.$object_id(),ba,
ea;try{t&&(A=Object.create(null));if(A[N])return"self";for(ea in A){var pa=A[ea];if(this["$eql?"](pa))return"self"}A[N]=this;for(ba=0;ba<this.length;ba++)pa=this[ba],G.push(pa.$hash());return G.join(",")}finally{t&&(A=void 0)}},ha.$$arity=0);a.def(E,"$include?",ma=function(t){for(var G=0,N=this.length;G<N;G++)if(this[G]["$=="](t))return!0;return!1},ma.$$arity=1);a.def(E,"$index",k=function(t){var G=k.$$p,N=G||r;G&&(k.$$p=null);G&&(k.$$p=null);var ba;null!=t&&N!==r&&this.$warn("warning: given block not used");
if(null!=t)for(G=0,ba=this.length;G<ba;G++){if(this[G]["$=="](t))return G}else if(N!==r)for(G=0,ba=this.length;G<ba;G++){if(t=N(this[G]),!1!==t&&t!==r)return G}else return this.$enum_for("index");return r},k.$$arity=-1);a.def(E,"$insert",z=function(t,G){var N=a.slice.call(arguments,1,arguments.length);t=n(t,p(H,"Integer"),"to_int");if(0<N.length){0>t&&(t+=this.length+1,0>t&&this.$raise(p(H,"IndexError"),""+t+" is out of bounds"));if(t>this.length)for(var ba=this.length;ba<t;ba++)this.push(r);this.splice.apply(this,
[t,0].concat(N))}return this},z.$$arity=-2);a.def(E,"$inspect",O=function(){for(var t=[],G=this.$__id__(),N=0,ba=this.length;N<ba;N++){var ea=this["$[]"](N);ea.$__id__()===G?t.push("[...]"):t.push(ea.$inspect())}return"["+t.join(", ")+"]"},O.$$arity=0);a.alias(E,"intersection","&");a.def(E,"$join",fa=function(t){null==Q[","]&&(Q[","]=r);null==t&&(t=r);if(d(0===this.length))return"";d(t===r)&&(t=Q[","]);var G=[],N;var ba=0;for(N=this.length;ba<N;ba++){var ea=this[ba];if(L(ea,"$to_str")){var pa=ea.$to_str();
if(pa!==r){G.push(pa.$to_s());continue}}if(L(ea,"$to_ary")&&(pa=ea.$to_ary(),pa===this&&this.$raise(p(H,"ArgumentError")),pa!==r)){G.push(pa.$join(t));continue}if(L(ea,"$to_s")&&(pa=ea.$to_s(),pa!==r)){G.push(pa);continue}this.$raise(p(H,"NoMethodError").$new(""+a.inspect(ea)+" doesn't respond to #to_str, #to_ary or #to_s","to_str"))}return t===r?G.join(""):G.join(p(H,"Opal")["$coerce_to!"](t,p(H,"String"),"to_str").$to_s())},fa.$$arity=-1);a.def(E,"$keep_if",w=function(){var t=w.$$p,G=t||r,N;t&&
(w.$$p=null);t&&(w.$$p=null);if(G===r)return D(this,"enum_for",["keep_if"],(N=function(){return(null==N.$$s?this:N.$$s).$size()},N.$$s=this,N.$$arity=0,N));l(this,d,G);return this},w.$$arity=0);a.def(E,"$last",S=function(t){if(null==t)return 0===this.length?r:this[this.length-1];t=n(t,p(H,"Integer"),"to_int");0>t&&this.$raise(p(H,"ArgumentError"),"negative array size");t>this.length&&(t=this.length);return this.slice(this.length-t,this.length)},S.$$arity=-1);a.def(E,"$length",oa=function(){return this.length},
oa.$$arity=0);a.alias(E,"map","collect");a.alias(E,"map!","collect!");a.def(E,"$max",Ha=function(t){var G=Ha.$$p,N=G||r;G&&(Ha.$$p=null);G&&(Ha.$$p=null);return D(this.$each(),"max",[t],N.$to_proc())},Ha.$$arity=-1);a.def(E,"$min",eb=function(){var t=eb.$$p,G=t||r;t&&(eb.$$p=null);t&&(eb.$$p=null);return D(this.$each(),"min",[],G.$to_proc())},eb.$$arity=0);a.def(E,"$permutation",ob=function(t){var G=ob.$$p,N=G||r,ba,ea=this,pa=r,Ma=r;G&&(ob.$$p=null);G&&(ob.$$p=null);if(N===r)return D(ea,"enum_for",
["permutation",t],(ba=function(){var hb=null==ba.$$s?this:ba.$$s,vb=hb.length;hb=void 0===t?hb.length:t;for(var yb=0<=hb?1:0;hb;)yb*=vb,vb--,hb--;return yb},ba.$$s=ea,ba.$$arity=0,ba));var ab;t=void 0===t?ea.length:n(t,p(H,"Integer"),"to_int");if(!(0>t||ea.length<t))if(0===t)a.yield1(N,[]);else if(1===t)for(pa=0;pa<ea.length;pa++)a.yield1(N,[ea[pa]]);else{pa=p(H,"Array").$new(t);Ma=p(H,"Array").$new(ea.length,!1);var Xa=function(hb,vb,yb,Hb,Pb){ea=this;for(var zb=0;zb<ea.length;zb++)if(Hb["$[]"](zb)["$!"]())if(vb[yb]=
zb,yb<hb-1)Hb[zb]=!0,Xa.call(ea,hb,vb,yb+1,Hb,Pb),Hb[zb]=!1;else{ab=[];for(var Ib=0;Ib<vb.length;Ib++)ab.push(ea[vb[Ib]]);e(Pb,ab)}};N!==r?(G=ea.slice(),Xa.call(G,t,pa,0,Ma,N)):Xa.call(ea,t,pa,0,Ma,N)}return ea},ob.$$arity=-1);a.def(E,"$repeated_permutation",mb=function(t){function G(Ma,ab,Xa){if(ab.length==Ma)Ma=ab.slice(),a.yield1(ea,Ma);else for(var hb=0;hb<Xa.length;hb++)ab.push(Xa[hb]),G(Ma,ab,Xa),ab.pop()}var N,ba=mb.$$p,ea=ba||r,pa=r;ba&&(mb.$$p=null);pa=p(H,"Opal")["$coerce_to!"](t,p(H,"Integer"),
"to_int");if(ea===r)return D(this,"enum_for",["repeated_permutation",pa],(N=function(){var Ma=null==N.$$s?this:N.$$s;return d("number"===typeof pa?0<=pa:pa["$>="](0))?Ma.$size()["$**"](pa):0},N.$$s=this,N.$$arity=0,N));G(pa,[],this.slice());return this},mb.$$arity=1);a.def(E,"$pop",sb=function(t){if(d(void 0===t))return d(0===this.length)?r:this.pop();t=n(t,p(H,"Integer"),"to_int");d(0>t)&&this.$raise(p(H,"ArgumentError"),"negative array size");return d(0===this.length)?[]:d(1===t)?[this.pop()]:d(t>
this.length)?this.splice(0,this.length):this.splice(this.length-t,this.length)},sb.$$arity=-1);a.def(E,"$product",tb=function(t){var G=tb.$$p,N=G||r;G&&(tb.$$p=null);G&&(tb.$$p=null);var ba=a.slice.call(arguments,0,arguments.length);G=N!==r?null:[];var ea=ba.length+1,pa=Array(ea),Ma=Array(ea),ab=Array(ea),Xa;var hb=1;ab[0]=this;for(Xa=1;Xa<ea;Xa++)ab[Xa]=n(ba[Xa-1],p(H,"Array"),"to_ary");for(Xa=0;Xa<ea;Xa++){ba=ab[Xa].length;if(0===ba)return G||this;hb*=ba;2147483647<hb&&this.$raise(p(H,"RangeError"),
"too big to product");Ma[Xa]=ba;pa[Xa]=0}a:for(;;){hb=[];for(Xa=0;Xa<ea;Xa++)hb.push(ab[Xa][pa[Xa]]);G?G.push(hb):a.yield1(N,hb);Xa=ea-1;for(pa[Xa]++;pa[Xa]===Ma[Xa];){pa[Xa]=0;if(0>--Xa)break a;pa[Xa]++}}return G||this},tb.$$arity=-1);a.def(E,"$push",wb=function(t){var G=a.slice.call(arguments,0,arguments.length);for(var N=0,ba=G.length;N<ba;N++)this.push(G[N]);return this},wb.$$arity=-1);a.alias(E,"append","push");a.def(E,"$rassoc",xb=function(t){for(var G=0,N=this.length,ba;G<N;G++)if(ba=this[G],
ba.length&&void 0!==ba[1]&&ba[1]["$=="](t))return ba;return r},xb.$$arity=1);a.def(E,"$reject",ub=function(){var t=ub.$$p,G=t||r,N;t&&(ub.$$p=null);t&&(ub.$$p=null);if(G===r)return D(this,"enum_for",["reject"],(N=function(){return(null==N.$$s?this:N.$$s).$size()},N.$$s=this,N.$$arity=0,N));t=[];for(var ba=0,ea=this.length,pa;ba<ea;ba++)pa=G(this[ba]),!1!==pa&&pa!==r||t.push(this[ba]);return t},ub.$$arity=0);a.def(E,"$reject!",U=function(){var t=U.$$p,G=t||r,N,ba=r;t&&(U.$$p=null);t&&(U.$$p=null);
if(G===r)return D(this,"enum_for",["reject!"],(N=function(){return(null==N.$$s?this:N.$$s).$size()},N.$$s=this,N.$$arity=0,N));ba=this.$length();D(this,"delete_if",[],G.$to_proc());return this.$length()["$=="](ba)?r:this},U.$$arity=0);a.def(E,"$replace",Ja=function(t){t=d(p(H,"Array")["$==="](t))?t.$to_a():n(t,p(H,"Array"),"to_ary").$to_a();this.splice(0,this.length);this.push.apply(this,t);return this},Ja.$$arity=1);a.def(E,"$reverse",Ya=function(){return this.slice(0).reverse()},Ya.$$arity=0);a.def(E,
"$reverse!",y=function(){return this.reverse()},y.$$arity=0);a.def(E,"$reverse_each",M=function(){var t=M.$$p,G=t||r,N;t&&(M.$$p=null);t&&(M.$$p=null);if(G===r)return D(this,"enum_for",["reverse_each"],(N=function(){return(null==N.$$s?this:N.$$s).$size()},N.$$s=this,N.$$arity=0,N));D(this.$reverse(),"each",[],G.$to_proc());return this},M.$$arity=0);a.def(E,"$rindex",qa=function(t){var G=qa.$$p,N=G||r;G&&(qa.$$p=null);G&&(qa.$$p=null);null!=t&&N!==r&&this.$warn("warning: given block not used");if(null!=
t)for(G=this.length-1;0<=G&&!(G>=this.length);G--){if(this[G]["$=="](t))return G}else if(N!==r)for(G=this.length-1;0<=G&&!(G>=this.length);G--){if(t=N(this[G]),!1!==t&&t!==r)return G}else if(null==t)return this.$enum_for("rindex");return r},qa.$$arity=-1);a.def(E,"$rotate",Ba=function(t){null==t&&(t=1);t=n(t,p(H,"Integer"),"to_int");if(1===this.length)return this.slice();if(0===this.length)return[];var G=this.slice();var N=t%G.length;t=G.slice(N);G=G.slice(0,N);return t.concat(G)},Ba.$$arity=-1);
a.def(E,"$rotate!",za=function(t){null==t&&(t=1);if(0===this.length||1===this.length)return this;t=n(t,p(H,"Integer"),"to_int");t=this.$rotate(t);return this.$replace(t)},za.$$arity=-1);(function(t,$super,N){t=g(t,$super,"SampleRandom");var ba=[t].concat(N),ea,pa;t.$$prototype.rng=r;a.def(t,"$initialize",ea=function(Ma){return this.rng=Ma},ea.$$arity=1);return(a.def(t,"$rand",pa=function(Ma){var ab=n(this.rng.$rand(Ma),p(ba,"Integer"),"to_int");d(0>ab)&&this.$raise(p(ba,"RangeError"),"random value must be >= 0");
d(ab<Ma)||this.$raise(p(ba,"RangeError"),"random value must be less than Array size");return ab},pa.$$arity=1),r)&&"rand"})(H[0],null,H);a.def(E,"$sample",Ga=function(t,G){var N=r,ba=r,ea=r;if(d(void 0===t))return this.$at(p(H,"Kernel").$rand(this.length));d(void 0===G)?d(G=p(H,"Opal")["$coerce_to?"](t,p(H,"Hash"),"to_hash"))?t=r:(G=r,t=n(t,p(H,"Integer"),"to_int")):(t=n(t,p(H,"Integer"),"to_int"),G=n(G,p(H,"Hash"),"to_hash"));d(d(N=t)?0>t:N)&&this.$raise(p(H,"ArgumentError"),"count must be greater than 0");
d(G)&&(ba=G["$[]"]("random"));ba=d(d(ea=ba)?ba["$respond_to?"]("rand"):ea)?p(H,"SampleRandom").$new(ba):p(H,"Kernel");if(!d(t))return this[ba.$rand(this.length)];t>this.length&&(t=this.length);switch(t){case 0:return[];case 1:return[this[ba.$rand(this.length)]];case 2:var pa=ba.$rand(this.length);var Ma=ba.$rand(this.length);pa===Ma&&(Ma=0===pa?pa+1:pa-1);return[this[pa],this[Ma]];default:if(3<this.length/t){ea=!1;G=0;N=p(H,"Array").$new(t);pa=1;for(N[0]=ba.$rand(this.length);pa<t;){var ab=ba.$rand(this.length);
for(Ma=0;Ma<pa;){for(;ab===N[Ma];){G++;if(100<G){ea=!0;break}ab=ba.$rand(this.length)}if(ea)break;Ma++}if(ea)break;N[pa]=ab;pa++}if(!ea){for(pa=0;pa<t;)N[pa]=this[N[pa]],pa++;return N}}N=this.slice();for(pa=0;pa<t;pa++)ea=ba.$rand(this.length),G=N[pa],N[pa]=N[ea],N[ea]=G;return t===this.length?N:N["$[]"](0,t)}},Ga.$$arity=-1);a.def(E,"$select",Ua=function(){var t=Ua.$$p,G=t||r,N;t&&(Ua.$$p=null);t&&(Ua.$$p=null);if(G===r)return D(this,"enum_for",["select"],(N=function(){return(null==N.$$s?this:N.$$s).$size()},
N.$$s=this,N.$$arity=0,N));t=[];for(var ba=0,ea=this.length,pa,Ma;ba<ea;ba++)pa=this[ba],Ma=e(G,pa),d(Ma)&&t.push(pa);return t},Ua.$$arity=0);a.def(E,"$select!",cb=function(){var t=cb.$$p,G=t||r,N;t&&(cb.$$p=null);t&&(cb.$$p=null);if(G===r)return D(this,"enum_for",["select!"],(N=function(){return(null==N.$$s?this:N.$$s).$size()},N.$$s=this,N.$$arity=0,N));t=this.length;D(this,"keep_if",[],G.$to_proc());return this.length===t?r:this},cb.$$arity=0);a.alias(E,"filter","select");a.alias(E,"filter!","select!");
a.def(E,"$shift",$a=function(t){if(d(void 0===t)){if(d(0===this.length))return r;t=this[0];for(var G=1,N=this.length;G<N;G++)this[G-1]=this[G];this.pop();return t}t=n(t,p(H,"Integer"),"to_int");d(0>t)&&this.$raise(p(H,"ArgumentError"),"negative array size");return d(0===this.length)?[]:this.splice(0,t)},$a.$$arity=-1);a.alias(E,"size","length");a.def(E,"$shuffle",Qa=function(t){return this.$dup().$to_a()["$shuffle!"](t)},Qa.$$arity=-1);a.def(E,"$shuffle!",Wa=function(t){var G,N=this.length;void 0!==
t&&(t=p(H,"Opal")["$coerce_to?"](t,p(H,"Hash"),"to_hash"),t!==r&&(t=t["$[]"]("random"),t!==r&&t["$respond_to?"]("rand")&&(G=t)));for(;N;){G?(t=G.$rand(N).$to_int(),0>t&&this.$raise(p(H,"RangeError"),"random number too small "+t),t>=N&&this.$raise(p(H,"RangeError"),"random number too big "+t)):t=this.$rand(N);var ba=this[--N];this[N]=this[t];this[t]=ba}return this},Wa.$$arity=-1);a.alias(E,"slice","[]");a.def(E,"$slice!",bb=function(t,G){if(d(void 0===G))if(d(p(H,"Range")["$==="](t))){var N=this["$[]"](t);
G=n(t.begin,p(H,"Integer"),"to_int");var ba=n(t.end,p(H,"Integer"),"to_int");0>G&&(G+=this.length);0>ba?ba+=this.length:ba>=this.length&&(ba=this.length-1,t.excl&&(ba+=1));var ea=ba-G;t.excl?--ba:ea+=1;G<this.length&&0<=G&&ba<this.length&&0<=ba&&0<ea&&this.splice(G,ea)}else{t=n(t,p(H,"Integer"),"to_int");0>t&&(t+=this.length);if(0>t||t>=this.length)return r;N=this[t];0===t?this.shift():this.splice(t,1)}else{t=n(t,p(H,"Integer"),"to_int");G=n(G,p(H,"Integer"),"to_int");if(0>G)return r;N=this["$[]"](t,
G);0>t&&(t+=this.length);t+G>this.length&&(G=this.length-t);t<this.length&&0<=t&&this.splice(t,G)}return N},bb.$$arity=-2);a.def(E,"$sort",qb=function(){var t=qb.$$p,G=t||r,N=this;t&&(qb.$$p=null);t&&(qb.$$p=null);if(!d(1<N.length))return N;G===r&&(G=function(ba,ea){return ba["$<=>"](ea)});return N.slice().sort(function(ba,ea){var pa=G(ba,ea);pa===r&&N.$raise(p(H,"ArgumentError"),"comparison of "+ba.$inspect()+" with "+ea.$inspect()+" failed");return u(pa,0)?1:("number"===typeof pa?0>pa:pa["$<"](0))?
-1:0})},qb.$$arity=0);a.def(E,"$sort!",nb=function(){var t=nb.$$p,G=t||r;t&&(nb.$$p=null);t&&(nb.$$p=null);t=G!==r?D(this.slice(),"sort",[],G.$to_proc()):this.slice().$sort();G=this.length=0;for(var N=t.length;G<N;G++)this.push(t[G]);return this},nb.$$arity=0);a.def(E,"$sort_by!",pb=function(){var t=pb.$$p,G=t||r,N;t&&(pb.$$p=null);t&&(pb.$$p=null);return G===r?D(this,"enum_for",["sort_by!"],(N=function(){return(null==N.$$s?this:N.$$s).$size()},N.$$s=this,N.$$arity=0,N)):this.$replace(D(this,"sort_by",
[],G.$to_proc()))},pb.$$arity=0);a.def(E,"$take",Gb=function(t){0>t&&this.$raise(p(H,"ArgumentError"));return this.slice(0,t)},Gb.$$arity=1);a.def(E,"$take_while",Ab=function(){var t=Ab.$$p,G=t||r;t&&(Ab.$$p=null);t&&(Ab.$$p=null);t=[];for(var N=0,ba=this.length,ea,pa;N<ba;N++){ea=this[N];pa=G(ea);if(!1===pa||pa===r)break;t.push(ea)}return t},Ab.$$arity=0);a.def(E,"$to_a",Jb=function(){return this},Jb.$$arity=0);a.alias(E,"to_ary","to_a");a.def(E,"$to_h",Bb=function(){var t=Bb.$$p,G=t||r;t&&(Bb.$$p=
null);t&&(Bb.$$p=null);t=this;G!==r&&(t=D(t,"map",[],G.$to_proc()));var N=t.length,ba=h([],{});for(G=0;G<N;G++){var ea=p(H,"Opal")["$coerce_to?"](t[G],p(H,"Array"),"to_ary");ea.$$is_array||this.$raise(p(H,"TypeError"),"wrong element type "+ea.$class()+" at "+G+" (expected array)");2!==ea.length&&this.$raise(p(H,"ArgumentError"),"wrong array length at "+G+" (expected 2, was "+ea.$length()+")");var pa=ea[0];ea=ea[1];F(ba,pa,ea)}return ba},Bb.$$arity=0);a.alias(E,"to_s","inspect");a.def(E,"$transpose",
Kb=function(){var t,G=r,N=r;if(d(this["$empty?"]()))return[];G=[];N=r;D(this,"each",[],(t=function(ba){var ea=null==t.$$s?this:t.$$s,pa,Ma=r;null==ba&&(ba=r);ba=d(p(H,"Array")["$==="](ba))?ba.$to_a():n(ba,p(H,"Array"),"to_ary").$to_a();N=d(Ma=N)?Ma:ba.length;d(ba.length["$!="](N))&&ea.$raise(p(H,"IndexError"),"element size differs ("+ba.length+" should be "+N+")");return D(ba.length,"times",[],(pa=function(ab){var Xa;null==ab&&(ab=r);if(!d(Xa=G["$[]"](ab))){Xa=[ab,[]];D(G,"[]=",a.to_a(Xa));var hb=
Xa.length;hb="number"===typeof hb?hb-1:hb["$-"](1);Xa=Xa[hb]}return Xa["$<<"](ba.$at(ab))},pa.$$s=ea,pa.$$arity=1,pa))},t.$$s=this,t.$$arity=1,t));return G},Kb.$$arity=0);a.alias(E,"union","|");a.def(E,"$uniq",Cb=function(){var t=Cb.$$p,G=t||r;t&&(Cb.$$p=null);t&&(Cb.$$p=null);t=h([],{});var N;if(G===r){var ba=0;for(N=this.length;ba<N;ba++){var ea=this[ba];void 0===f(t,ea)&&F(t,ea,ea)}}else for(ba=0,N=this.length;ba<N;ba++){ea=this[ba];var pa=e(G,ea);void 0===f(t,pa)&&F(t,pa,ea)}return b(t.$values(),
this.$class())},Cb.$$arity=0);a.def(E,"$uniq!",Db=function(){var t=Db.$$p,G=t||r;t&&(Db.$$p=null);t&&(Db.$$p=null);t=this.length;var N=h([],{}),ba;var ea=0;for(ba=t;ea<ba;ea++){var pa=this[ea];var Ma=G===r?pa:e(G,pa);void 0===f(N,Ma)?F(N,Ma,pa):(this.splice(ea,1),ba--,ea--)}return this.length===t?r:this},Db.$$arity=0);a.def(E,"$unshift",Lb=function(t){var G=a.slice.call(arguments,0,arguments.length);for(var N=G.length-1;0<=N;N--)this.unshift(G[N]);return this},Lb.$$arity=-1);a.alias(E,"prepend","unshift");
a.def(E,"$values_at",Mb=function(t){var G,N=r;var ba=a.slice.call(arguments,0,arguments.length);N=[];D(ba,"each",[],(G=function(ea){var pa=null==G.$$s?this:G.$$s,Ma,ab=r,Xa=r;ab=r;null==ea&&(ea=r);if(d(ea["$is_a?"](p(H,"Range")))){ab=n(ea.$last(),p(H,"Integer"),"to_int");Xa=n(ea.$first(),p(H,"Integer"),"to_int");if(0>Xa)return Xa+=pa.length,r;0>ab&&(ab+=pa.length);ea["$exclude_end?"]()&&ab--;return ab<Xa?r:D(Xa,"upto",[ab],(Ma=function(hb){var vb=null==Ma.$$s?this:Ma.$$s;null==hb&&(hb=r);return N["$<<"](vb.$at(hb))},
Ma.$$s=pa,Ma.$$arity=1,Ma))}ab=n(ea,p(H,"Integer"),"to_int");return N["$<<"](pa.$at(ab))},G.$$s=this,G.$$arity=1,G));return N},Mb.$$arity=-1);a.def(E,"$zip",Eb=function(t){var G=Eb.$$p,N=G||r,ba=r;G&&(Eb.$$p=null);G&&(Eb.$$p=null);G=a.slice.call(arguments,0,arguments.length);var ea=[],pa=this.length,Ma,ab;var Xa=0;for(ab=G.length;Xa<ab;Xa++){var hb=G[Xa];hb.$$is_array||(hb.$$is_enumerator?Infinity===hb.$size()?G[Xa]=hb.$take(pa):G[Xa]=hb.$to_a():G[Xa]=(d(ba=p(H,"Opal")["$coerce_to?"](hb,p(H,"Array"),
"to_ary"))?ba:p(H,"Opal")["$coerce_to!"](hb,p(H,"Enumerator"),"to_enum","each")).$to_a())}for(Ma=0;Ma<pa;Ma++){ba=[this[Ma]];Xa=0;for(ab=G.length;Xa<ab;Xa++)hb=G[Xa][Ma],null==hb&&(hb=r),ba[Xa+1]=hb;ea[Ma]=ba}if(N!==r){for(Ma=0;Ma<pa;Ma++)N(ea[Ma]);return r}return ea},Eb.$$arity=-1);a.defs(E,"$inherited",Nb=function(t){t.$$prototype.$to_a=function(){return this.slice(0,this.length)}},Nb.$$arity=1);a.def(E,"$instance_variables",Fb=function(){var t,G=Fb.$$p,N=r,ba=r,ea=r;G&&(Fb.$$p=null);ba=0;ea=arguments.length;
for(N=Array(ea);ba<ea;ba++)N[ba]=arguments[ba];return D(K(this,a.find_super_dispatcher(this,"instance_variables",Fb,!1,!0),"instance_variables",N,G),"reject",[],(t=function(pa){var Ma;null==pa&&(pa=r);return d(Ma=/^@\d+$/.test(pa))?Ma:pa["$=="]("@length")},t.$$s=this,t.$$arity=1,t))},Fb.$$arity=0);p(H,"Opal").$pristine(E.$singleton_class(),"allocate");p(H,"Opal").$pristine(E,"copy_instance_variables","initialize_dup");return(a.def(E,"$pack",Ob=function(t){a.slice.call(arguments,0,arguments.length);
return this.$raise("To use Array#pack, you must first require 'corelib/array/pack'.")},Ob.$$arity=-1),r)&&"pack"}(q[0],Array,q)};
Opal.modules["corelib/hash"]=function(a){function u(e,f){return"number"===typeof e&&"number"===typeof f?e>=f:e["$>="](f)}var I=a.top,q=[],r=a.nil,x=a.$$,p=a.klass,d=a.send,C=a.hash2,A=a.truthy;a.add_stubs("$require $include $coerce_to? $[] $merge! $allocate $raise $coerce_to! $each $fetch $>= $> $== $compare_by_identity $lambda? $abs $arity $enum_for $size $respond_to? $class $dig $new $inspect $map $to_proc $flatten $eql? $default $dup $default_proc $default_proc= $- $default= $to_h $proc".split(" "));I.$require("corelib/enumerable");
return function(e,$super,F){e=p(e,$super,"Hash");var c=[e].concat(F),n,L,g,h,K,D,Q,ja,ca,la,b,l,m,v,B,E,H,J,Z,ta,Ka,ua,ya,Ia,na,P,ra,Y,ia,X,R,T,sa,Ca,ka,xa,Ea,Da,Ra,Pa,La,kb,lb,va,Na,Sa,db,jb,fb,gb,ib,Aa,wa,Oa,Va,Za,Fa,aa,W,da,V,ha;e.$include(x(c,"Enumerable"));e.$$prototype.$$is_hash=!0;a.defs(e,"$[]",n=function(k){var z=a.slice.call(arguments,0,arguments.length);var O=z.length,fa;if(1===O){var w=x(c,"Opal")["$coerce_to?"](z["$[]"](0),x(c,"Hash"),"to_hash");if(w!==r)return this.$allocate()["$merge!"](w);
z=x(c,"Opal")["$coerce_to?"](z["$[]"](0),x(c,"Array"),"to_ary");z===r&&this.$raise(x(c,"ArgumentError"),"odd number of arguments for Hash");O=z.length;w=this.$allocate();for(fa=0;fa<O;fa++)if(z[fa].$$is_array)switch(z[fa].length){case 1:w.$store(z[fa][0],r);break;case 2:w.$store(z[fa][0],z[fa][1]);break;default:this.$raise(x(c,"ArgumentError"),"invalid number of elements ("+z[fa].length+" for 1..2)")}return w}0!==O%2&&this.$raise(x(c,"ArgumentError"),"odd number of arguments for Hash");w=this.$allocate();
for(fa=0;fa<O;fa+=2)w.$store(z[fa],z[fa+1]);return w},n.$$arity=-1);a.defs(e,"$allocate",L=function(){var k=new this.$$constructor;a.hash_init(k);k.$$none=r;k.$$proc=r;return k},L.$$arity=0);a.defs(e,"$try_convert",g=function(k){return x(c,"Opal")["$coerce_to?"](k,x(c,"Hash"),"to_hash")},g.$$arity=1);a.def(e,"$initialize",h=function(k){var z=h.$$p,O=z||r;z&&(h.$$p=null);z&&(h.$$p=null);void 0!==k&&O!==r&&this.$raise(x(c,"ArgumentError"),"wrong number of arguments (1 for 0)");this.$$none=void 0===
k?r:k;this.$$proc=O;return this},h.$$arity=-1);a.def(e,"$==",K=function(k){if(this===k)return!0;if(!k.$$is_hash||this.$$keys.length!==k.$$keys.length)return!1;for(var z=0,O=this.$$keys,fa=O.length,w,S;z<fa;z++)if(w=O[z],w.$$is_string?(S=this.$$smap[w],w=k.$$smap[w]):(S=w.value,w=a.hash_get(k,w.key)),void 0===w||!S["$eql?"](w))return!1;return!0},K.$$arity=1);a.def(e,"$>=",D=function(k){var z,O=r;k=x(c,"Opal")["$coerce_to!"](k,x(c,"Hash"),"to_hash");if(this.$$keys.length<k.$$keys.length)return!1;O=
!0;d(k,"each",[],(z=function(fa,w){var S=null==z.$$s?this:z.$$s;null==fa&&(fa=r);null==w&&(w=r);fa=S.$fetch(fa,null);if(null==fa||fa!==w)O=!1},z.$$s=this,z.$$arity=2,z));return O},D.$$arity=1);a.def(e,"$>",Q=function(k){k=x(c,"Opal")["$coerce_to!"](k,x(c,"Hash"),"to_hash");return this.$$keys.length<=k.$$keys.length?!1:u(this,k)},Q.$$arity=1);a.def(e,"$<",ja=function(k){k=x(c,"Opal")["$coerce_to!"](k,x(c,"Hash"),"to_hash");return"number"===typeof k&&"number"===typeof this?k>this:k["$>"](this)},ja.$$arity=
1);a.def(e,"$<=",ca=function(k){k=x(c,"Opal")["$coerce_to!"](k,x(c,"Hash"),"to_hash");return u(k,this)},ca.$$arity=1);a.def(e,"$[]",la=function(k){var z=a.hash_get(this,k);return void 0!==z?z:this.$default(k)},la.$$arity=1);a.def(e,"$[]=",b=function(k,z){a.hash_put(this,k,z);return z},b.$$arity=2);a.def(e,"$assoc",l=function(k){for(var z=0,O=this.$$keys,fa=O.length,w;z<fa;z++)if(w=O[z],w.$$is_string){if(w["$=="](k))return[w,this.$$smap[w]]}else if(w.key["$=="](k))return[w.key,w.value];return r},l.$$arity=
1);a.def(e,"$clear",m=function(){a.hash_init(this);return this},m.$$arity=0);a.def(e,"$clone",v=function(){var k=new this.$$class;a.hash_init(k);a.hash_clone(this,k);return k},v.$$arity=0);a.def(e,"$compact",B=function(){for(var k=a.hash(),z=0,O=this.$$keys,fa=O.length,w,S;z<fa;z++)w=O[z],w.$$is_string?S=this.$$smap[w]:(S=w.value,w=w.key),S!==r&&a.hash_put(k,w,S);return k},B.$$arity=0);a.def(e,"$compact!",E=function(){for(var k=!1,z=0,O=this.$$keys,fa=O.length,w,S;z<fa;z++)w=O[z],w.$$is_string?S=
this.$$smap[w]:(S=w.value,w=w.key),S===r&&void 0!==a.hash_delete(this,w)&&(k=!0,fa--,z--);return k?this:r},E.$$arity=0);a.def(e,"$compare_by_identity",H=function(){var k,z=this.$$keys;if(this.$$by_identity)return this;if(0===this.$$keys.length)return this.$$by_identity=!0,this;var O=C([],{}).$compare_by_identity();var fa=0;for(k=z.length;fa<k;fa++){var w=z[fa];w.$$is_string||(w=w.key);a.hash_put(O,w,a.hash_get(this,w))}this.$$by_identity=!0;this.$$map=O.$$map;this.$$smap=O.$$smap;return this},H.$$arity=
0);a.def(e,"$compare_by_identity?",J=function(){return!0===this.$$by_identity},J.$$arity=0);a.def(e,"$default",Z=function(k){return void 0!==k&&this.$$proc!==r&&void 0!==this.$$proc?this.$$proc.$call(this,k):void 0===this.$$none?r:this.$$none},Z.$$arity=-1);a.def(e,"$default=",ta=function(k){this.$$proc=r;return this.$$none=k},ta.$$arity=1);a.def(e,"$default_proc",Ka=function(){return void 0!==this.$$proc?this.$$proc:r},Ka.$$arity=0);a.def(e,"$default_proc=",ua=function(k){var z=k;z!==r&&(z=x(c,"Opal")["$coerce_to!"](z,
x(c,"Proc"),"to_proc"),z["$lambda?"]()&&2!==z.$arity().$abs()&&this.$raise(x(c,"TypeError"),"default_proc takes two arguments"));this.$$none=r;this.$$proc=z;return k},ua.$$arity=1);a.def(e,"$delete",ya=function(k){var z=ya.$$p,O=z||r;z&&(ya.$$p=null);z&&(ya.$$p=null);z=a.hash_delete(this,k);return void 0!==z?z:O!==r?a.yield1(O,k):r},ya.$$arity=1);a.def(e,"$delete_if",Ia=function(){var k=Ia.$$p,z=k||r,O;k&&(Ia.$$p=null);k&&(Ia.$$p=null);if(!A(z))return d(this,"enum_for",["delete_if"],(O=function(){return(null==
O.$$s?this:O.$$s).$size()},O.$$s=this,O.$$arity=0,O));k=0;for(var fa=this.$$keys,w=fa.length,S,oa;k<w;k++)S=fa[k],S.$$is_string?oa=this.$$smap[S]:(oa=S.value,S=S.key),oa=z(S,oa),!1!==oa&&oa!==r&&void 0!==a.hash_delete(this,S)&&(w--,k--);return this},Ia.$$arity=0);a.alias(e,"dup","clone");a.def(e,"$dig",na=function(k,z){var O=a.slice.call(arguments,1,arguments.length);var fa=this["$[]"](k);if(fa===r||0===O.length)return fa;A(fa["$respond_to?"]("dig"))||this.$raise(x(c,"TypeError"),""+fa.$class()+" does not have #dig method");
return d(fa,"dig",a.to_a(O))},na.$$arity=-2);a.def(e,"$each",P=function(){var k=P.$$p,z=k||r,O;k&&(P.$$p=null);k&&(P.$$p=null);if(!A(z))return d(this,"enum_for",["each"],(O=function(){return(null==O.$$s?this:O.$$s).$size()},O.$$s=this,O.$$arity=0,O));k=0;for(var fa=this.$$keys,w=fa.length,S,oa;k<w;k++)S=fa[k],S.$$is_string?oa=this.$$smap[S]:(oa=S.value,S=S.key),a.yield1(z,[S,oa]);return this},P.$$arity=0);a.def(e,"$each_key",ra=function(){var k=ra.$$p,z=k||r,O;k&&(ra.$$p=null);k&&(ra.$$p=null);if(!A(z))return d(this,
"enum_for",["each_key"],(O=function(){return(null==O.$$s?this:O.$$s).$size()},O.$$s=this,O.$$arity=0,O));k=0;for(var fa=this.$$keys,w=fa.length,S;k<w;k++)S=fa[k],z(S.$$is_string?S:S.key);return this},ra.$$arity=0);a.alias(e,"each_pair","each");a.def(e,"$each_value",Y=function(){var k=Y.$$p,z=k||r,O;k&&(Y.$$p=null);k&&(Y.$$p=null);if(!A(z))return d(this,"enum_for",["each_value"],(O=function(){return(null==O.$$s?this:O.$$s).$size()},O.$$s=this,O.$$arity=0,O));k=0;for(var fa=this.$$keys,w=fa.length,
S;k<w;k++)S=fa[k],z(S.$$is_string?this.$$smap[S]:S.value);return this},Y.$$arity=0);a.def(e,"$empty?",ia=function(){return 0===this.$$keys.length},ia.$$arity=0);a.alias(e,"eql?","==");a.def(e,"$fetch",X=function(k,z){var O=X.$$p,fa=O||r;O&&(X.$$p=null);O&&(X.$$p=null);O=a.hash_get(this,k);return void 0!==O?O:fa!==r?fa(k):void 0!==z?z:this.$raise(x(c,"KeyError").$new("key not found: "+k.$inspect(),C(["key","receiver"],{key:k,receiver:this})))},X.$$arity=-2);a.def(e,"$fetch_values",R=function(k){var z=
R.$$p,O=z||r,fa;z&&(R.$$p=null);z&&(R.$$p=null);z=a.slice.call(arguments,0,arguments.length);return d(z,"map",[],(fa=function(w){var S=null==fa.$$s?this:fa.$$s;null==w&&(w=r);return d(S,"fetch",[w],O.$to_proc())},fa.$$s=this,fa.$$arity=1,fa))},R.$$arity=-1);a.def(e,"$flatten",T=function(k){null==k&&(k=1);k=x(c,"Opal")["$coerce_to!"](k,x(c,"Integer"),"to_int");for(var z=[],O=0,fa=this.$$keys,w=fa.length,S,oa;O<w;O++)S=fa[O],S.$$is_string?oa=this.$$smap[S]:(oa=S.value,S=S.key),z.push(S),oa.$$is_array?
1===k?z.push(oa):z=z.concat(oa.$flatten(k-2)):z.push(oa);return z},T.$$arity=-1);a.def(e,"$has_key?",sa=function(k){return void 0!==a.hash_get(this,k)},sa.$$arity=1);a.def(e,"$has_value?",Ca=function(k){for(var z=0,O=this.$$keys,fa=O.length,w;z<fa;z++)if(w=O[z],(w.$$is_string?this.$$smap[w]:w.value)["$=="](k))return!0;return!1},Ca.$$arity=1);a.def(e,"$hash",ka=function(){var k=void 0===a.hash_ids,z=this.$object_id(),O=["Hash"];try{k&&(a.hash_ids=Object.create(null));if(a[z])return"self";for(oa in a.hash_ids){var fa=
a.hash_ids[oa];if(this["$eql?"](fa))return"self"}a.hash_ids[z]=this;z=0;for(var w=this.$$keys,S=w.length;z<S;z++){var oa=w[z];oa.$$is_string?O.push([oa,this.$$smap[oa].$hash()]):O.push([oa.key_hash,oa.value.$hash()])}return O.sort().join()}finally{k&&(a.hash_ids=void 0)}},ka.$$arity=0);a.alias(e,"include?","has_key?");a.def(e,"$index",xa=function(k){for(var z=0,O=this.$$keys,fa=O.length,w,S;z<fa;z++)if(w=O[z],w.$$is_string?S=this.$$smap[w]:(S=w.value,w=w.key),S["$=="](k))return w;return r},xa.$$arity=
1);a.def(e,"$indexes",Ea=function(k){var z=a.slice.call(arguments,0,arguments.length);for(var O=[],fa=0,w=z.length,S;fa<w;fa++)S=z[fa],S=a.hash_get(this,S),void 0===S?O.push(this.$default()):O.push(S);return O},Ea.$$arity=-1);a.alias(e,"indices","indexes");var ma;a.def(e,"$inspect",Da=function(){var k=void 0===ma,z=this.$object_id(),O=[];try{k&&(ma={});if(ma.hasOwnProperty(z))return"{...}";ma[z]=!0;z=0;for(var fa=this.$$keys,w=fa.length,S,oa;z<w;z++)S=fa[z],S.$$is_string?oa=this.$$smap[S]:(oa=S.value,
S=S.key),O.push(S.$inspect()+"=>"+oa.$inspect());return"{"+O.join(", ")+"}"}finally{k&&(ma=void 0)}},Da.$$arity=0);a.def(e,"$invert",Ra=function(){for(var k=a.hash(),z=0,O=this.$$keys,fa=O.length,w,S;z<fa;z++)w=O[z],w.$$is_string?S=this.$$smap[w]:(S=w.value,w=w.key),a.hash_put(k,S,w);return k},Ra.$$arity=0);a.def(e,"$keep_if",Pa=function(){var k=Pa.$$p,z=k||r,O;k&&(Pa.$$p=null);k&&(Pa.$$p=null);if(!A(z))return d(this,"enum_for",["keep_if"],(O=function(){return(null==O.$$s?this:O.$$s).$size()},O.$$s=
this,O.$$arity=0,O));k=0;for(var fa=this.$$keys,w=fa.length,S,oa;k<w;k++)S=fa[k],S.$$is_string?oa=this.$$smap[S]:(oa=S.value,S=S.key),oa=z(S,oa),!1!==oa&&oa!==r||void 0===a.hash_delete(this,S)||(w--,k--);return this},Pa.$$arity=0);a.alias(e,"key","index");a.alias(e,"key?","has_key?");a.def(e,"$keys",La=function(){for(var k=[],z=0,O=this.$$keys,fa=O.length,w;z<fa;z++)w=O[z],w.$$is_string?k.push(w):k.push(w.key);return k},La.$$arity=0);a.def(e,"$length",kb=function(){return this.$$keys.length},kb.$$arity=
0);a.alias(e,"member?","has_key?");a.def(e,"$merge",lb=function(k){var z=lb.$$p,O=z||r;z&&(lb.$$p=null);z&&(lb.$$p=null);return d(this.$dup(),"merge!",[k],O.$to_proc())},lb.$$arity=1);a.def(e,"$merge!",va=function(k){var z=va.$$p,O=z||r;z&&(va.$$p=null);z&&(va.$$p=null);k.$$is_hash||(k=x(c,"Opal")["$coerce_to!"](k,x(c,"Hash"),"to_hash"));var fa=k.$$keys,w=fa.length;if(O===r){for(z=0;z<w;z++){var S=fa[z];if(S.$$is_string)var oa=k.$$smap[S];else oa=S.value,S=S.key;a.hash_put(this,S,oa)}return this}for(z=
0;z<w;z++){S=fa[z];S.$$is_string?oa=k.$$smap[S]:(oa=S.value,S=S.key);var Ha=a.hash_get(this,S);void 0===Ha?a.hash_put(this,S,oa):a.hash_put(this,S,O(S,Ha,oa))}return this},va.$$arity=1);a.def(e,"$rassoc",Na=function(k){for(var z=0,O=this.$$keys,fa=O.length,w,S;z<fa;z++)if(w=O[z],w.$$is_string?S=this.$$smap[w]:(S=w.value,w=w.key),S["$=="](k))return[w,S];return r},Na.$$arity=1);a.def(e,"$rehash",Sa=function(){a.hash_rehash(this);return this},Sa.$$arity=0);a.def(e,"$reject",db=function(){var k=db.$$p,
z=k||r,O;k&&(db.$$p=null);k&&(db.$$p=null);if(!A(z))return d(this,"enum_for",["reject"],(O=function(){return(null==O.$$s?this:O.$$s).$size()},O.$$s=this,O.$$arity=0,O));k=a.hash();for(var fa=0,w=this.$$keys,S=w.length,oa,Ha,eb;fa<S;fa++)oa=w[fa],oa.$$is_string?Ha=this.$$smap[oa]:(Ha=oa.value,oa=oa.key),eb=z(oa,Ha),!1!==eb&&eb!==r||a.hash_put(k,oa,Ha);return k},db.$$arity=0);a.def(e,"$reject!",jb=function(){var k=jb.$$p,z=k||r,O;k&&(jb.$$p=null);k&&(jb.$$p=null);if(!A(z))return d(this,"enum_for",["reject!"],
(O=function(){return(null==O.$$s?this:O.$$s).$size()},O.$$s=this,O.$$arity=0,O));k=!1;for(var fa=0,w=this.$$keys,S=w.length,oa,Ha;fa<S;fa++)oa=w[fa],oa.$$is_string?Ha=this.$$smap[oa]:(Ha=oa.value,oa=oa.key),Ha=z(oa,Ha),!1!==Ha&&Ha!==r&&void 0!==a.hash_delete(this,oa)&&(k=!0,S--,fa--);return k?this:r},jb.$$arity=0);a.def(e,"$replace",fb=function(k){k=x(c,"Opal")["$coerce_to!"](k,x(c,"Hash"),"to_hash");a.hash_init(this);var z=0;for(var O=k.$$keys,fa=O.length,w,S;z<fa;z++)w=O[z],w.$$is_string?S=k.$$smap[w]:
(S=w.value,w=w.key),a.hash_put(this,w,S);A(k.$default_proc())?(z=[k.$default_proc()],d(this,"default_proc=",a.to_a(z))):(z=[k.$default()],d(this,"default=",a.to_a(z)));k=z;z=z.length;z="number"===typeof z?z-1:z["$-"](1);k[z];return this},fb.$$arity=1);a.def(e,"$select",gb=function(){var k=gb.$$p,z=k||r,O;k&&(gb.$$p=null);k&&(gb.$$p=null);if(!A(z))return d(this,"enum_for",["select"],(O=function(){return(null==O.$$s?this:O.$$s).$size()},O.$$s=this,O.$$arity=0,O));k=a.hash();for(var fa=0,w=this.$$keys,
S=w.length,oa,Ha,eb;fa<S;fa++)oa=w[fa],oa.$$is_string?Ha=this.$$smap[oa]:(Ha=oa.value,oa=oa.key),eb=z(oa,Ha),!1!==eb&&eb!==r&&a.hash_put(k,oa,Ha);return k},gb.$$arity=0);a.def(e,"$select!",ib=function(){var k=ib.$$p,z=k||r,O;k&&(ib.$$p=null);k&&(ib.$$p=null);if(!A(z))return d(this,"enum_for",["select!"],(O=function(){return(null==O.$$s?this:O.$$s).$size()},O.$$s=this,O.$$arity=0,O));k=r;for(var fa=0,w=this.$$keys,S=w.length,oa,Ha;fa<S;fa++)if(oa=w[fa],oa.$$is_string?Ha=this.$$smap[oa]:(Ha=oa.value,
oa=oa.key),Ha=z(oa,Ha),!1===Ha||Ha===r)void 0!==a.hash_delete(this,oa)&&(S--,fa--),k=this;return k},ib.$$arity=0);a.alias(e,"filter","select");a.alias(e,"filter!","select!");a.def(e,"$shift",Aa=function(){var k=this.$$keys;return 0<k.length?(k=k[0],k=k.$$is_string?k:k.key,[k,a.hash_delete(this,k)]):this.$default(r)},Aa.$$arity=0);a.alias(e,"size","length");a.def(e,"$slice",wa=function(k){var z=a.slice.call(arguments,0,arguments.length);for(var O=a.hash(),fa=0,w=z.length;fa<w;fa++){var S=z[fa],oa=
a.hash_get(this,S);void 0!==oa&&a.hash_put(O,S,oa)}return O},wa.$$arity=-1);a.alias(e,"store","[]=");a.def(e,"$to_a",Oa=function(){for(var k=[],z=0,O=this.$$keys,fa=O.length,w,S;z<fa;z++)w=O[z],w.$$is_string?S=this.$$smap[w]:(S=w.value,w=w.key),k.push([w,S]);return k},Oa.$$arity=0);a.def(e,"$to_h",Va=function(){var k=Va.$$p,z=k||r;k&&(Va.$$p=null);k&&(Va.$$p=null);if(z!==r)return d(this,"map",[],z.$to_proc()).$to_h();if(this.$$class===a.Hash)return this;k=new a.Hash;a.hash_init(k);a.hash_clone(this,
k);return k},Va.$$arity=0);a.def(e,"$to_hash",Za=function(){return this},Za.$$arity=0);a.def(e,"$to_proc",Fa=function(){var k;return d(this,"proc",[],(k=function(z){var O=null==k.$$s?this:k.$$s;null==z&&O.$raise(x(c,"ArgumentError"),"no key given");return O["$[]"](z)},k.$$s=this,k.$$arity=-1,k))},Fa.$$arity=0);a.alias(e,"to_s","inspect");a.def(e,"$transform_keys",aa=function(){var k=aa.$$p,z=k||r,O;k&&(aa.$$p=null);k&&(aa.$$p=null);if(!A(z))return d(this,"enum_for",["transform_keys"],(O=function(){return(null==
O.$$s?this:O.$$s).$size()},O.$$s=this,O.$$arity=0,O));k=a.hash();for(var fa=0,w=this.$$keys,S=w.length,oa,Ha;fa<S;fa++)oa=w[fa],oa.$$is_string?Ha=this.$$smap[oa]:(Ha=oa.value,oa=oa.key),oa=a.yield1(z,oa),a.hash_put(k,oa,Ha);return k},aa.$$arity=0);a.def(e,"$transform_keys!",W=function(){var k=W.$$p,z=k||r,O;k&&(W.$$p=null);k&&(W.$$p=null);if(!A(z))return d(this,"enum_for",["transform_keys!"],(O=function(){return(null==O.$$s?this:O.$$s).$size()},O.$$s=this,O.$$arity=0,O));k=a.slice.call(this.$$keys);
var fa,w=k.length;for(fa=0;fa<w;fa++){var S=k[fa];if(S.$$is_string)var oa=this.$$smap[S];else oa=S.value,S=S.key;var Ha=a.yield1(z,S);a.hash_delete(this,S);a.hash_put(this,Ha,oa)}return this},W.$$arity=0);a.def(e,"$transform_values",da=function(){var k=da.$$p,z=k||r,O;k&&(da.$$p=null);k&&(da.$$p=null);if(!A(z))return d(this,"enum_for",["transform_values"],(O=function(){return(null==O.$$s?this:O.$$s).$size()},O.$$s=this,O.$$arity=0,O));k=a.hash();for(var fa=0,w=this.$$keys,S=w.length,oa,Ha;fa<S;fa++)oa=
w[fa],oa.$$is_string?Ha=this.$$smap[oa]:(Ha=oa.value,oa=oa.key),Ha=a.yield1(z,Ha),a.hash_put(k,oa,Ha);return k},da.$$arity=0);a.def(e,"$transform_values!",V=function(){var k=V.$$p,z=k||r,O;k&&(V.$$p=null);k&&(V.$$p=null);if(!A(z))return d(this,"enum_for",["transform_values!"],(O=function(){return(null==O.$$s?this:O.$$s).$size()},O.$$s=this,O.$$arity=0,O));k=0;for(var fa=this.$$keys,w=fa.length,S,oa;k<w;k++)S=fa[k],S.$$is_string?oa=this.$$smap[S]:(oa=S.value,S=S.key),oa=a.yield1(z,oa),a.hash_put(this,
S,oa);return this},V.$$arity=0);a.alias(e,"update","merge!");a.alias(e,"value?","has_value?");a.alias(e,"values_at","indexes");return(a.def(e,"$values",ha=function(){for(var k=[],z=0,O=this.$$keys,fa=O.length,w;z<fa;z++)w=O[z],w.$$is_string?k.push(this.$$smap[w]):k.push(w.value);return k},ha.$$arity=0),r)&&"values"}(q[0],null,q)};
Opal.modules["corelib/number"]=function(a){function u(h,K){return"number"===typeof h&&"number"===typeof K?h>K:h["$>"](K)}function I(h,K){return"number"===typeof h&&"number"===typeof K?h<K:h["$<"](K)}function q(h,K){return"number"===typeof h&&"number"===typeof K?h+K:h["$+"](K)}function r(h,K){return"number"===typeof h&&"number"===typeof K?h-K:h["$-"](K)}function x(h,K){return"number"===typeof h&&"number"===typeof K?h/K:h["$/"](K)}function p(h,K){return"number"===typeof h&&"number"===typeof K?h*K:h["$*"](K)}
var d=a.top,C=[],A=a.nil,e=a.$$$,f=a.$$,F=a.klass,c=a.truthy,n=a.send2,L=a.send,g=a.hash2;a.add_stubs("$require $bridge $raise $name $class $Float $respond_to? $coerce_to! $__coerced__ $=== $! $> $** $new $< $to_f $== $nan? $infinite? $enum_for $+ $- $gcd $lcm $% $/ $frexp $to_i $ldexp $rationalize $* $<< $to_r $truncate $-@ $size $<= $>= $<=> $compare $any?".split(" "));d.$require("corelib/numeric");(function(h,$super,D){h=F(h,$super,"Number");var Q=[h].concat(D),ja,ca,la,b,l,m,v,B,E,H,J,Z,ta,Ka,
ua,ya,Ia,na,P,ra,Y,ia,X,R,T,sa,Ca,ka,xa,Ea,Da,Ra,Pa,La,kb,lb,va,Na,Sa,db,jb,fb,gb,ib,Aa,wa,Oa,Va,Za,Fa,aa,W,da,V,ha,ma,k,z,O,fa,w,S,oa,Ha,eb,ob,mb,sb,tb,wb,xb,ub;f(Q,"Opal").$bridge(Number,h);a.defineProperty(h.$$prototype,"$$is_number",!0);h.$$is_number_class=!0;(function(U,Ja){var Ya=[U].concat(Ja),y;a.def(U,"$allocate",y=function(){return this.$raise(f(Ya,"TypeError"),"allocator undefined for "+this.$name())},y.$$arity=0);a.udef(U,"$new");return A})(a.get_singleton_class(h),Q);a.def(h,"$coerce",
ja=function(U){if(U!==A){if(U.$$is_string)return[this.$Float(U),this];if(U["$respond_to?"]("to_f"))return[f(Q,"Opal")["$coerce_to!"](U,f(Q,"Float"),"to_f"),this];if(U.$$is_number)return[U,this]}this.$raise(f(Q,"TypeError"),"can't convert "+U.$class()+" into Float")},ja.$$arity=1);a.def(h,"$__id__",ca=function(){return 2*this+1},ca.$$arity=0);a.alias(h,"object_id","__id__");a.def(h,"$+",la=function(U){return U.$$is_number?this+U:this.$__coerced__("+",U)},la.$$arity=1);a.def(h,"$-",b=function(U){return U.$$is_number?
this-U:this.$__coerced__("-",U)},b.$$arity=1);a.def(h,"$*",l=function(U){return U.$$is_number?this*U:this.$__coerced__("*",U)},l.$$arity=1);a.def(h,"$/",m=function(U){return U.$$is_number?this/U:this.$__coerced__("/",U)},m.$$arity=1);a.alias(h,"fdiv","/");a.def(h,"$%",v=function(U){if(U.$$is_number){if(-Infinity==U)return U;if(0==U)this.$raise(f(Q,"ZeroDivisionError"),"divided by 0");else return 0>U||0>this?(this%U+U)%U:this%U}else return this.$__coerced__("%",U)},v.$$arity=1);a.def(h,"$&",B=function(U){return U.$$is_number?
this&U:this.$__coerced__("&",U)},B.$$arity=1);a.def(h,"$|",E=function(U){return U.$$is_number?this|U:this.$__coerced__("|",U)},E.$$arity=1);a.def(h,"$^",H=function(U){return U.$$is_number?this^U:this.$__coerced__("^",U)},H.$$arity=1);a.def(h,"$<",J=function(U){return U.$$is_number?this<U:this.$__coerced__("<",U)},J.$$arity=1);a.def(h,"$<=",Z=function(U){return U.$$is_number?this<=U:this.$__coerced__("<=",U)},Z.$$arity=1);a.def(h,"$>",ta=function(U){return U.$$is_number?this>U:this.$__coerced__(">",
U)},ta.$$arity=1);a.def(h,"$>=",Ka=function(U){return U.$$is_number?this>=U:this.$__coerced__(">=",U)},Ka.$$arity=1);a.def(h,"$<=>",ua=function(U){try{return U.$$is_number?isNaN(this)||isNaN(U)?A:this>U?1:this<U?-1:0:this.$__coerced__("<=>",U)}catch(Ja){if(a.rescue(Ja,[f(Q,"ArgumentError")]))try{return A}finally{a.pop_exception()}else throw Ja;}},ua.$$arity=1);a.def(h,"$<<",ya=function(U){U=f(Q,"Opal")["$coerce_to!"](U,f(Q,"Integer"),"to_int");return 0<U?this<<U:this>>-U},ya.$$arity=1);a.def(h,"$>>",
Ia=function(U){U=f(Q,"Opal")["$coerce_to!"](U,f(Q,"Integer"),"to_int");return 0<U?this>>U:this<<-U},Ia.$$arity=1);a.def(h,"$[]",na=function(U){U=f(Q,"Opal")["$coerce_to!"](U,f(Q,"Integer"),"to_int");return 0>U?0:32<=U?0>this?1:0:this>>U&1},na.$$arity=1);a.def(h,"$+@",P=function(){return+this},P.$$arity=0);a.def(h,"$-@",ra=function(){return-this},ra.$$arity=0);a.def(h,"$~",Y=function(){return~this},Y.$$arity=0);a.def(h,"$**",ia=function(U){var Ja=A,Ya=A,y=A;return c(f(Q,"Integer")["$==="](U))?c(c(Ja=
f(Q,"Integer")["$==="](this)["$!"]())?Ja:u(U,0))?Math.pow(this,U):f(Q,"Rational").$new(this,1)["$**"](U):c(c(Ya=I(this,0))?c(y=f(Q,"Float")["$==="](U))?y:f(Q,"Rational")["$==="](U):Ya)?f(Q,"Complex").$new(this,0)["$**"](U.$to_f()):c(null!=U.$$is_number)?Math.pow(this,U):this.$__coerced__("**",U)},ia.$$arity=1);a.def(h,"$===",X=function(U){return U.$$is_number?this.valueOf()===U.valueOf():U["$respond_to?"]("==")?U["$=="](this):!1},X.$$arity=1);a.def(h,"$==",R=function(U){return U.$$is_number?this.valueOf()===
U.valueOf():U["$respond_to?"]("==")?U["$=="](this):!1},R.$$arity=1);a.def(h,"$abs",T=function(){return Math.abs(this)},T.$$arity=0);a.def(h,"$abs2",sa=function(){return Math.abs(this*this)},sa.$$arity=0);a.def(h,"$allbits?",Ca=function(U){U=f(Q,"Opal")["$coerce_to!"](U,f(Q,"Integer"),"to_int");return(this&U)==U},Ca.$$arity=1);a.def(h,"$anybits?",ka=function(U){U=f(Q,"Opal")["$coerce_to!"](U,f(Q,"Integer"),"to_int");return 0!==(this&U)},ka.$$arity=1);a.def(h,"$angle",xa=function(){return c(this["$nan?"]())?
this:0==this?0<1/this?0:Math.PI:0>this?Math.PI:0},xa.$$arity=0);a.alias(h,"arg","angle");a.alias(h,"phase","angle");a.def(h,"$bit_length",Ea=function(){c(f(Q,"Integer")["$==="](this))||this.$raise(f(Q,"NoMethodError").$new("undefined method `bit_length` for "+this+":Float","bit_length"));if(0===this||-1===this)return 0;for(var U=0,Ja=0>this?~this:this;0!=Ja;)U+=1,Ja>>>=1;return U},Ea.$$arity=0);a.def(h,"$ceil",Da=function(U){null==U&&(U=0);var Ja=this.$to_f();if(0===Ja%1&&0<=U)return Ja;U=Math.pow(10,
U);U=Math.ceil(Ja*U)/U;0===Ja%1&&(U=Math.round(U));return U},Da.$$arity=-1);a.def(h,"$chr",Ra=function(){return String.fromCharCode(this)},Ra.$$arity=-1);a.def(h,"$denominator",Pa=function(){var U=Pa.$$p,Ja=A,Ya;U&&(Pa.$$p=null);var y=0;var M=arguments.length;for(Ya=Array(M);y<M;y++)Ya[y]=arguments[y];return c(c(Ja=this["$nan?"]())?Ja:this["$infinite?"]())?1:n(this,a.find_super_dispatcher(this,"denominator",Pa,!1,!0),"denominator",Ya,U)},Pa.$$arity=0);a.def(h,"$downto",La=function(U){var Ja=La.$$p,
Ya=Ja||A,y;Ja&&(La.$$p=null);Ja&&(La.$$p=null);if(Ya===A)return L(this,"enum_for",["downto",U],(y=function(){var M=null==y.$$s?this:y.$$s;c(f(Q,"Numeric")["$==="](U))||M.$raise(f(Q,"ArgumentError"),"comparison of "+M.$class()+" with "+U.$class()+" failed");return c(u(U,M))?0:q(r(M,U),1)},y.$$s=this,y.$$arity=0,y));U.$$is_number||this.$raise(f(Q,"ArgumentError"),"comparison of "+this.$class()+" with "+U.$class()+" failed");for(Ja=this;Ja>=U;Ja--)Ya(Ja);return this},La.$$arity=1);a.alias(h,"eql?","==");
a.def(h,"$equal?",kb=function(U){var Ja;return c(Ja=this["$=="](U))?Ja:isNaN(this)&&isNaN(U)},kb.$$arity=1);a.def(h,"$even?",lb=function(){return 0===this%2},lb.$$arity=0);a.def(h,"$floor",va=function(U){null==U&&(U=0);var Ja=this.$to_f();if(0===Ja%1&&0<=U)return Ja;U=Math.pow(10,U);U=Math.floor(Ja*U)/U;0===Ja%1&&(U=Math.round(U));return U},va.$$arity=-1);a.def(h,"$gcd",Na=function(U){c(f(Q,"Integer")["$==="](U))||this.$raise(f(Q,"TypeError"),"not an integer");var Ja=Math.abs(this);for(U=Math.abs(U);0<
Ja;){var Ya=Ja;Ja=U%Ja;U=Ya}return U},Na.$$arity=1);a.def(h,"$gcdlcm",Sa=function(U){return[this.$gcd(U),this.$lcm(U)]},Sa.$$arity=1);a.def(h,"$integer?",db=function(){return 0===this%1},db.$$arity=0);a.def(h,"$is_a?",jb=function(U){var Ja=jb.$$p,Ya=A,y=A,M=A,qa;Ja&&(jb.$$p=null);var Ba=0;var za=arguments.length;for(qa=Array(za);Ba<za;Ba++)qa[Ba]=arguments[Ba];return c(c(Ya=U["$=="](f(Q,"Integer")))?f(Q,"Integer")["$==="](this):Ya)||c(c(y=U["$=="](f(Q,"Integer")))?f(Q,"Integer")["$==="](this):y)||
c(c(M=U["$=="](f(Q,"Float")))?f(Q,"Float")["$==="](this):M)?!0:n(this,a.find_super_dispatcher(this,"is_a?",jb,!1,!0),"is_a?",qa,Ja)},jb.$$arity=1);a.alias(h,"kind_of?","is_a?");a.def(h,"$instance_of?",fb=function(U){var Ja=fb.$$p,Ya=A,y=A,M=A,qa;Ja&&(fb.$$p=null);var Ba=0;var za=arguments.length;for(qa=Array(za);Ba<za;Ba++)qa[Ba]=arguments[Ba];return c(c(Ya=U["$=="](f(Q,"Integer")))?f(Q,"Integer")["$==="](this):Ya)||c(c(y=U["$=="](f(Q,"Integer")))?f(Q,"Integer")["$==="](this):y)||c(c(M=U["$=="](f(Q,
"Float")))?f(Q,"Float")["$==="](this):M)?!0:n(this,a.find_super_dispatcher(this,"instance_of?",fb,!1,!0),"instance_of?",qa,Ja)},fb.$$arity=1);a.def(h,"$lcm",gb=function(U){c(f(Q,"Integer")["$==="](U))||this.$raise(f(Q,"TypeError"),"not an integer");return 0==this||0==U?0:Math.abs(this*U/this.$gcd(U))},gb.$$arity=1);a.alias(h,"magnitude","abs");a.alias(h,"modulo","%");a.def(h,"$next",ib=function(){return this+1},ib.$$arity=0);a.def(h,"$nobits?",Aa=function(U){U=f(Q,"Opal")["$coerce_to!"](U,f(Q,"Integer"),
"to_int");return 0==(this&U)},Aa.$$arity=1);a.def(h,"$nonzero?",wa=function(){return 0==this?A:this},wa.$$arity=0);a.def(h,"$numerator",Oa=function(){var U=Oa.$$p,Ja=A,Ya;U&&(Oa.$$p=null);var y=0;var M=arguments.length;for(Ya=Array(M);y<M;y++)Ya[y]=arguments[y];return c(c(Ja=this["$nan?"]())?Ja:this["$infinite?"]())?this:n(this,a.find_super_dispatcher(this,"numerator",Oa,!1,!0),"numerator",Ya,U)},Oa.$$arity=0);a.def(h,"$odd?",Va=function(){return 0!==this%2},Va.$$arity=0);a.def(h,"$ord",Za=function(){return this},
Za.$$arity=0);a.def(h,"$pow",Fa=function(U,Ja){0==this&&this.$raise(f(Q,"ZeroDivisionError"),"divided by 0");if(void 0===Ja)return this["$**"](U);f(Q,"Integer")["$==="](U)||this.$raise(f(Q,"TypeError"),"Integer#pow() 2nd argument not allowed unless a 1st argument is integer");0>U&&this.$raise(f(Q,"TypeError"),"Integer#pow() 1st argument cannot be negative when 2nd argument specified");f(Q,"Integer")["$==="](Ja)||this.$raise(f(Q,"TypeError"),"Integer#pow() 2nd argument not allowed unless all arguments are integers");
0===Ja&&this.$raise(f(Q,"ZeroDivisionError"),"divided by 0");return this["$**"](U)["$%"](Ja)},Fa.$$arity=-2);a.def(h,"$pred",aa=function(){return this-1},aa.$$arity=0);a.def(h,"$quo",W=function(U){var Ja=W.$$p,Ya;Ja&&(W.$$p=null);var y=0;var M=arguments.length;for(Ya=Array(M);y<M;y++)Ya[y]=arguments[y];return c(f(Q,"Integer")["$==="](this))?n(this,a.find_super_dispatcher(this,"quo",W,!1,!0),"quo",Ya,Ja):x(this,U)},W.$$arity=1);a.def(h,"$rationalize",da=function(U){1<arguments.length&&this.$raise(f(Q,
"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)");if(c(f(Q,"Integer")["$==="](this)))return f(Q,"Rational").$new(this,1);if(c(this["$infinite?"]()))return this.$raise(f(Q,"FloatDomainError"),"Infinity");if(c(this["$nan?"]()))return this.$raise(f(Q,"FloatDomainError"),"NaN");if(c(null==U)){var Ja=f(Q,"Math").$frexp(this);var Ya=a.to_ary(Ja);var y=null==Ya[0]?A:Ya[0];Ya=null==Ya[1]?A:Ya[1];Ja;y=f(Q,"Math").$ldexp(y,e(f(Q,"Float"),"MANT_DIG")).$to_i();Ya=r(Ya,e(f(Q,"Float"),
"MANT_DIG"));return f(Q,"Rational").$new(p(2,y),1["$<<"](r(1,Ya))).$rationalize(f(Q,"Rational").$new(1,1["$<<"](r(1,Ya))))}return this.$to_r().$rationalize(U)},da.$$arity=-1);a.def(h,"$remainder",V=function(U){return r(this,p(U,x(this,U).$truncate()))},V.$$arity=1);a.def(h,"$round",ha=function(U){var Ja,Ya,y=Ya=Ja=A;if(c(f(Q,"Integer")["$==="](this))){if(c(null==U))return this;c(c(Ja=f(Q,"Float")["$==="](U))?U["$infinite?"]():Ja)&&this.$raise(f(Q,"RangeError"),"Infinity");U=f(Q,"Opal")["$coerce_to!"](U,
f(Q,"Integer"),"to_int");c(I(U,e(f(Q,"Integer"),"MIN")))&&this.$raise(f(Q,"RangeError"),"out of bounds");if(c(0<=U))return this;U=U["$-@"]();if(.415241*U-.125>this.$size())return 0;U=Math.pow(10,U);U*=Math.floor((Math.abs(this)+U/2)/U);return 0>this?-U:U}c(c(Ya=this["$nan?"]())?null==U:Ya)&&this.$raise(f(Q,"FloatDomainError"),"NaN");U=f(Q,"Opal")["$coerce_to!"](U||0,f(Q,"Integer"),"to_int");if(c("number"===typeof U?0>=U:U["$<="](0)))c(this["$nan?"]())?this.$raise(f(Q,"RangeError"),"NaN"):c(this["$infinite?"]())&&
this.$raise(f(Q,"FloatDomainError"),"Infinity");else{if(U["$=="](0))return Math.round(this);if(c(c(y=this["$nan?"]())?y:this["$infinite?"]()))return this}Ya=f(Q,"Math").$frexp(this);Ja=a.to_ary(Ya);Ja=null==Ja[1]?A:Ja[1];Ya;Ya=r(q(e(f(Q,"Float"),"DIG"),2),c(u(Ja,0))?x(Ja,4):r(x(Ja,3),1));Ya="number"===typeof U&&"number"===typeof Ya?U>=Ya:U["$>="](Ya);return c(Ya)?this:c(I(U,(c(u(Ja,0))?q(x(Ja,3),1):x(Ja,4))["$-@"]()))?0:Math.round(this*Math.pow(10,U))/Math.pow(10,U)},ha.$$arity=-1);a.def(h,"$step",
ma=function(U,Ja,Ya){function y(){void 0!==bb&&(Qa=bb);void 0===Qa&&(Qa=A);Wa===A&&cb.$raise(f(Q,"TypeError"),"step must be numeric");0===Wa&&cb.$raise(f(Q,"ArgumentError"),"step can't be 0");void 0!==qb&&(Wa=qb);if(Wa===A||null==Wa)Wa=1;var nb=Wa["$<=>"](0);nb===A&&cb.$raise(f(Q,"ArgumentError"),"0 can't be coerced into "+Wa.$class());if(Qa===A||null==Qa)Qa=0<nb?e(f(Q,"Float"),"INFINITY"):e(f(Q,"Float"),"INFINITY")["$-@"]();f(Q,"Opal").$compare(cb,Qa)}function M(){if(0<Wa&&cb>Qa||0>Wa&&cb<Qa)return 0;
if(Infinity===Wa||-Infinity===Wa)return 1;var nb=Math.abs,pb=Math.floor;nb=(nb(cb)+nb(Qa)+nb(Qa-cb))/nb(Wa)*e(f(Q,"Float"),"EPSILON");if(Infinity===nb||-Infinity===nb)return 0;.5<nb&&(nb=.5);return pb((Qa-cb)/Wa+nb)+1}function qa(){y();if(0===Wa)return Infinity;if(0!==Wa%1)return M();if(0<Wa&&cb>Qa||0>Wa&&cb<Qa)return 0;var nb=Math.ceil,pb=Math.abs,Gb=pb(cb-Qa)+1;pb=pb(Wa);return nb(Gb/pb)}var Ba=ma.$$p,za=Ba||A,Ga,Ua,cb=this,$a=Ga=A;Ba&&(ma.$$p=null);Ba&&(ma.$$p=null);Ba=a.slice.call(arguments,0,
arguments.length);Ga=a.extract_kwargs(Ba);if(null==Ga)Ga=g([],{});else if(!Ga.$$is_hash)throw a.ArgumentError.$new("expected kwargs");if(0<Ba.length){var Qa=Ba[0];Ba.splice(0,1)}if(0<Ba.length){var Wa=Ba[0];Ba.splice(0,1)}var bb=Ga.$$smap.to;var qb=Ga.$$smap.by;void 0!==Qa&&void 0!==bb&&cb.$raise(f(Q,"ArgumentError"),"to is given twice");void 0!==Wa&&void 0!==qb&&cb.$raise(f(Q,"ArgumentError"),"step is given twice");if(za===A)return Ga=[],$a=g([],{}),void 0!==Qa&&Ga.push(Qa),void 0!==Wa&&Ga.push(Wa),
void 0!==bb&&a.hash_put($a,"to",bb),void 0!==qb&&a.hash_put($a,"by",qb),$a["$any?"]()&&Ga.push($a),L(cb,"enum_for",["step"].concat(a.to_a(Ga)),(Ua=function(){return qa()},Ua.$$s=cb,Ua.$$arity=0,Ua));y();if(0===Wa)for(;;)za(cb);if(0!==cb%1||0!==Qa%1||0!==Wa%1){if(Ua=M(),0<Ua)if(Infinity===Wa||-Infinity===Wa)za(cb);else if(Ba=0,0<Wa)for(;Ba<Ua;)Ga=Ba*Wa+cb,Qa<Ga&&(Ga=Qa),za(Ga),Ba+=1;else for(;Ba<Ua;)Ga=Ba*Wa+cb,Qa>Ga&&(Ga=Qa),za(Ga),Ba+=1}else if(Ua=cb,0<Wa)for(;Ua<=Qa;)za(Ua),Ua+=Wa;else for(;Ua>=
Qa;)za(Ua),Ua+=Wa;return cb},ma.$$arity=-1);a.alias(h,"succ","next");a.def(h,"$times",k=function(){var U=k.$$p,Ja=U||A,Ya;U&&(k.$$p=null);U&&(k.$$p=null);if(!c(Ja))return L(this,"enum_for",["times"],(Ya=function(){return null==Ya.$$s?this:Ya.$$s},Ya.$$s=this,Ya.$$arity=0,Ya));for(U=0;U<this;U++)Ja(U);return this},k.$$arity=0);a.def(h,"$to_f",z=function(){return this},z.$$arity=0);a.def(h,"$to_i",O=function(){return parseInt(this,10)},O.$$arity=0);a.alias(h,"to_int","to_i");a.def(h,"$to_r",fa=function(){if(c(f(Q,
"Integer")["$==="](this)))return f(Q,"Rational").$new(this,1);var U=f(Q,"Math").$frexp(this);var Ja=a.to_ary(U);var Ya=null==Ja[0]?A:Ja[0];Ja=null==Ja[1]?A:Ja[1];U;Ya=f(Q,"Math").$ldexp(Ya,e(f(Q,"Float"),"MANT_DIG")).$to_i();Ja=r(Ja,e(f(Q,"Float"),"MANT_DIG"));return p(Ya,e(f(Q,"Float"),"RADIX")["$**"](Ja)).$to_r()},fa.$$arity=0);a.def(h,"$to_s",w=function(U){var Ja=A;null==U&&(U=10);U=f(Q,"Opal")["$coerce_to!"](U,f(Q,"Integer"),"to_int");c(c(Ja=I(U,2))?Ja:u(U,36))&&this.$raise(f(Q,"ArgumentError"),
"invalid radix "+U);return this.toString(U)},w.$$arity=-1);a.def(h,"$truncate",S=function(U){null==U&&(U=0);var Ja=this.$to_f();if(0===Ja%1&&0<=U)return Ja;U=Math.pow(10,U);U=parseInt(Ja*U,10)/U;0===Ja%1&&(U=Math.round(U));return U},S.$$arity=-1);a.alias(h,"inspect","to_s");a.def(h,"$digits",oa=function(U){null==U&&(U=10);I(this,0)&&this.$raise(e(f(Q,"Math"),"DomainError"),"out of domain");U=f(Q,"Opal")["$coerce_to!"](U,f(Q,"Integer"),"to_int");c(I(U,2))&&this.$raise(f(Q,"ArgumentError"),"invalid radix "+
U);for(var Ja=this,Ya=[];0!==Ja;)Ya.push(Ja%U),Ja=parseInt(Ja/U,10);return Ya},oa.$$arity=-1);a.def(h,"$divmod",Ha=function(U){var Ja=Ha.$$p,Ya=A,y;Ja&&(Ha.$$p=null);var M=0;var qa=arguments.length;for(y=Array(qa);M<qa;M++)y[M]=arguments[M];return c(c(Ya=this["$nan?"]())?Ya:U["$nan?"]())?this.$raise(f(Q,"FloatDomainError"),"NaN"):c(this["$infinite?"]())?this.$raise(f(Q,"FloatDomainError"),"Infinity"):n(this,a.find_super_dispatcher(this,"divmod",Ha,!1,!0),"divmod",y,Ja)},Ha.$$arity=1);a.def(h,"$upto",
eb=function(U){var Ja=eb.$$p,Ya=Ja||A,y;Ja&&(eb.$$p=null);Ja&&(eb.$$p=null);if(Ya===A)return L(this,"enum_for",["upto",U],(y=function(){var M=null==y.$$s?this:y.$$s;c(f(Q,"Numeric")["$==="](U))||M.$raise(f(Q,"ArgumentError"),"comparison of "+M.$class()+" with "+U.$class()+" failed");return c(I(U,M))?0:q(r(U,M),1)},y.$$s=this,y.$$arity=0,y));U.$$is_number||this.$raise(f(Q,"ArgumentError"),"comparison of "+this.$class()+" with "+U.$class()+" failed");for(Ja=this;Ja<=U;Ja++)Ya(Ja);return this},eb.$$arity=
1);a.def(h,"$zero?",ob=function(){return 0==this},ob.$$arity=0);a.def(h,"$size",mb=function(){return 4},mb.$$arity=0);a.def(h,"$nan?",sb=function(){return isNaN(this)},sb.$$arity=0);a.def(h,"$finite?",tb=function(){return Infinity!=this&&-Infinity!=this&&!isNaN(this)},tb.$$arity=0);a.def(h,"$infinite?",wb=function(){return Infinity==this?1:-Infinity==this?-1:A},wb.$$arity=0);a.def(h,"$positive?",xb=function(){return 0!=this&&(Infinity==this||0<1/this)},xb.$$arity=0);return(a.def(h,"$negative?",ub=
function(){return-Infinity==this||0>1/this},ub.$$arity=0),A)&&"negative?"})(C[0],f(C,"Numeric"),C);a.const_set(C[0],"Fixnum",f(C,"Number"));(function(h,$super,D){h=F(h,$super,"Integer");D=[h].concat(D);h.$$is_number_class=!0;h.$$is_integer_class=!0;(function(Q,ja){var ca=[Q].concat(ja),la,b;a.def(Q,"$allocate",la=function(){return this.$raise(f(ca,"TypeError"),"allocator undefined for "+this.$name())},la.$$arity=0);a.udef(Q,"$new");return(a.def(Q,"$sqrt",b=function(l){l=f(ca,"Opal")["$coerce_to!"](l,
f(ca,"Integer"),"to_int");0>l&&this.$raise(e(f(ca,"Math"),"DomainError"),'Numerical argument is out of domain - "isqrt"');return parseInt(Math.sqrt(l),10)},b.$$arity=1),A)&&"sqrt"})(a.get_singleton_class(h),D);a.const_set(D[0],"MAX",Math.pow(2,30)-1);return a.const_set(D[0],"MIN",-Math.pow(2,30))})(C[0],f(C,"Numeric"),C);return function(h,$super,D){h=F(h,$super,"Float");D=[h].concat(D);h.$$is_number_class=!0;(function(Q,ja){var ca=[Q].concat(ja),la,b;a.def(Q,"$allocate",la=function(){return this.$raise(f(ca,
"TypeError"),"allocator undefined for "+this.$name())},la.$$arity=0);a.udef(Q,"$new");return(a.def(Q,"$===",b=function(l){return!!l.$$is_number},b.$$arity=1),A)&&"==="})(a.get_singleton_class(h),D);a.const_set(D[0],"INFINITY",Infinity);a.const_set(D[0],"MAX",Number.MAX_VALUE);a.const_set(D[0],"MIN",Number.MIN_VALUE);a.const_set(D[0],"NAN",NaN);a.const_set(D[0],"DIG",15);a.const_set(D[0],"MANT_DIG",53);a.const_set(D[0],"RADIX",2);return a.const_set(D[0],"EPSILON",Number.EPSILON||2.220446049250313E-16)}(C[0],
f(C,"Numeric"),C)};
Opal.modules["corelib/range"]=function(a){function u(n,L){return"number"===typeof n&&"number"===typeof L?n<=L:n["$<="](L)}function I(n,L){return"number"===typeof n&&"number"===typeof L?n<L:n["$<"](L)}function q(n,L){return"number"===typeof n&&"number"===typeof L?n>L:n["$>"](L)}function r(n,L){return"number"===typeof n&&"number"===typeof L?n+L:n["$+"](L)}var x=a.top,p=[],d=a.nil,C=a.$$$,A=a.$$,e=a.klass,f=a.truthy,F=a.send,c=a.send2;a.add_stubs("$require $include $attr_reader $raise $<=> $include? $<= $< $enum_for $size $upto $to_proc $respond_to? $class $succ $! $== $=== $exclude_end? $eql? $begin $end $last $to_a $> $- $abs $to_i $coerce_to! $ceil $/ $loop $+ $* $>= $each_with_index $% $bsearch $inspect $[] $hash".split(" "));x.$require("corelib/enumerable");
return function(n,$super,g){n=e(n,$super,"Range");var h=[n].concat(g),K,D,Q,ja,ca,la,b,l,m,v,B,E,H,J,Z,ta,Ka;n.$$prototype.begin=n.$$prototype.end=n.$$prototype.excl=d;n.$include(A(h,"Enumerable"));n.$$prototype.$$is_range=!0;n.$attr_reader("begin","end");a.def(n,"$initialize",K=function(ua,ya,Ia){null==Ia&&(Ia=!1);f(this.begin)&&this.$raise(A(h,"NameError"),"'initialize' called twice");f(ua["$<=>"](ya))||this.$raise(A(h,"ArgumentError"),"bad value for range");this.begin=ua;this.end=ya;return this.excl=
Ia},K.$$arity=-3);a.def(n,"$===",D=function(ua){return this["$include?"](ua)},D.$$arity=1);a.def(n,"$cover?",Q=function(ua){var ya=d,Ia=d,na=d;var P=this.begin["$<=>"](ua);if(!f(f(ya=P)?u(P,0):ya))return!1;ua=ua["$<=>"](this.end);return f(this.excl)?f(Ia=ua)?I(ua,0):Ia:f(na=ua)?u(ua,0):na},Q.$$arity=1);a.def(n,"$each",ja=function(){var ua=ja.$$p,ya=ua||d,Ia,na=d,P=d,ra=d;ua&&(ja.$$p=null);ua&&(ja.$$p=null);if(ya===d)return F(this,"enum_for",["each"],(Ia=function(){return(null==Ia.$$s?this:Ia.$$s).$size()},
Ia.$$s=this,Ia.$$arity=0,Ia));if(this.begin.$$is_number&&this.end.$$is_number){0===this.begin%1&&0===this.end%1||this.$raise(A(h,"TypeError"),"can't iterate from Float");ua=this.begin;for(na=this.end+(f(this.excl)?0:1);ua<na;ua++)ya(ua);return this}if(this.begin.$$is_string&&this.end.$$is_string)return F(this.begin,"upto",[this.end,this.excl],ya.$to_proc()),this;na=this.begin;P=this.end;for(f(na["$respond_to?"]("succ"))||this.$raise(A(h,"TypeError"),"can't iterate from "+na.$class());f(I(na["$<=>"](P),
0));)a.yield1(ya,na),na=na.$succ();f(f(ra=this.excl["$!"]())?na["$=="](P):ra)&&a.yield1(ya,na);return this},ja.$$arity=0);a.def(n,"$eql?",ca=function(ua){var ya=d,Ia=d;return f(A(h,"Range")["$==="](ua))?f(ya=f(Ia=this.excl["$==="](ua["$exclude_end?"]()))?this.begin["$eql?"](ua.$begin()):Ia)?this.end["$eql?"](ua.$end()):ya:!1},ca.$$arity=1);a.alias(n,"==","eql?");a.def(n,"$exclude_end?",la=function(){return this.excl},la.$$arity=0);a.def(n,"$first",b=function(ua){var ya=b.$$p,Ia;ya&&(b.$$p=null);var na=
0;var P=arguments.length;for(Ia=Array(P);na<P;na++)Ia[na]=arguments[na];return f(null==ua)?this.begin:c(this,a.find_super_dispatcher(this,"first",b,!1,!0),"first",Ia,ya)},b.$$arity=-1);a.alias(n,"include?","cover?");a.def(n,"$last",l=function(ua){return f(null==ua)?this.end:this.$to_a().$last(ua)},l.$$arity=-1);a.def(n,"$max",m=function(){var ua=m.$$p,ya=ua||d,Ia=d,na;ua&&(m.$$p=null);var P=0;var ra=arguments.length;for(na=Array(ra);P<ra;P++)na[P]=arguments[P];return ya!==d?c(this,a.find_super_dispatcher(this,
"max",m,!1,!0),"max",na,ua):f(q(this.begin,this.end))?d:f(f(Ia=this.excl)?this.begin["$=="](this.end):Ia)?d:this.excl?this.end-1:this.end},m.$$arity=0);a.alias(n,"member?","cover?");a.def(n,"$min",v=function(){var ua=v.$$p,ya=ua||d,Ia=d,na;ua&&(v.$$p=null);var P=0;var ra=arguments.length;for(na=Array(ra);P<ra;P++)na[P]=arguments[P];return ya!==d?c(this,a.find_super_dispatcher(this,"min",v,!1,!0),"min",na,ua):f(q(this.begin,this.end))?d:f(f(Ia=this.excl)?this.begin["$=="](this.end):Ia)?d:this.begin},
v.$$arity=0);a.def(n,"$size",B=function(){var ua=d;var ya=this.begin;var Ia=this.end;f(this.excl)&&(Ia="number"===typeof Ia?Ia-1:Ia["$-"](1));if(!f(f(ua=A(h,"Numeric")["$==="](ya))?A(h,"Numeric")["$==="](Ia):ua))return d;if(f(I(Ia,ya)))return 0;ua=C(A(h,"Float"),"INFINITY");return f([ya.$abs(),Ia.$abs()]["$include?"](ua))?ua:(Math.abs(Ia-ya)+1).$to_i()},B.$$arity=0);a.def(n,"$step",E=function(ua){function ya(){ua.$$is_number||(ua=A(h,"Opal")["$coerce_to!"](ua,A(h,"Integer"),"to_int"));0>ua?X.$raise(A(h,
"ArgumentError"),"step can't be negative"):0===ua&&X.$raise(A(h,"ArgumentError"),"step can't be 0")}function Ia(){if(!X.begin["$respond_to?"]("succ")||X.begin.$$is_string&&X.end.$$is_string)return d;if(0===ua%1){var T=X.$size();return("number"===typeof T&&"number"===typeof ua?T/ua:T["$/"](ua)).$ceil()}T=X.begin;var sa=X.end,Ca=Math.abs,ka=Math.floor;Ca=(Ca(T)+Ca(sa)+Ca(sa-T))/Ca(ua)*C(A(h,"Float"),"EPSILON");.5<Ca&&(Ca=.5);X.excl?(ka=ka((sa-T)/ua-Ca),ka*ua+T<sa&&ka++):ka=ka((sa-T)/ua+Ca)+1;return ka}
var na,P,ra,Y=E.$$p,ia=Y||d,X=this,R=d;Y&&(E.$$p=null);null==ua&&(ua=1);if(ia===d)return F(X,"enum_for",["step",ua],(na=function(){ya();return Ia()},na.$$s=X,na.$$arity=0,na));ya();f(X.begin.$$is_number&&X.end.$$is_number)?(R=0,function(){var T=a.new_brk();try{return F(X,"loop",[],(P=function(){var sa=null==P.$$s?this:P.$$s;null==sa.begin&&(sa.begin=d);null==sa.excl&&(sa.excl=d);null==sa.end&&(sa.end=d);var Ca=r(sa.begin,"number"===typeof R&&"number"===typeof ua?R*ua:R["$*"](ua));f(sa.excl)?(sa=sa.end,
sa="number"===typeof Ca&&"number"===typeof sa?Ca>=sa:Ca["$>="](sa),f(sa)&&a.brk(d,T)):f(q(Ca,sa.end))&&a.brk(d,T);a.yield1(ia,Ca);return R=r(R,1)},P.$$s=X,P.$$brk=T,P.$$arity=0,P))}catch(sa){if(sa===T)return sa.$v;throw sa;}}()):(X.begin.$$is_string&&X.end.$$is_string&&0!==ua%1&&X.$raise(A(h,"TypeError"),"no implicit conversion to float from string"),F(X,"each_with_index",[],(ra=function(T,sa){null==T&&(T=d);null==sa&&(sa=d);return sa["$%"](ua)["$=="](0)?a.yield1(ia,T):d},ra.$$s=X,ra.$$arity=2,ra)));
return X},E.$$arity=-1);a.def(n,"$bsearch",H=function(){var ua=H.$$p,ya=ua||d;ua&&(H.$$p=null);ua&&(H.$$p=null);if(ya===d)return this.$enum_for("bsearch");f(this.begin.$$is_number&&this.end.$$is_number)||this.$raise(A(h,"TypeError"),"can't do binary search for "+this.begin.$class());return F(this.$to_a(),"bsearch",[],ya.$to_proc())},H.$$arity=0);a.def(n,"$to_s",J=function(){return""+this.begin+(f(this.excl)?"...":"..")+this.end},J.$$arity=0);a.def(n,"$inspect",Z=function(){return""+this.begin.$inspect()+
(f(this.excl)?"...":"..")+this.end.$inspect()},Z.$$arity=0);a.def(n,"$marshal_load",ta=function(ua){this.begin=ua["$[]"]("begin");this.end=ua["$[]"]("end");return this.excl=ua["$[]"]("excl")},ta.$$arity=1);return(a.def(n,"$hash",Ka=function(){return[this.begin,this.end,this.excl].$hash()},Ka.$$arity=0),d)&&"hash"}(p[0],null,p)};
Opal.modules["corelib/proc"]=function(a){var u=[],I=a.nil,q=a.$$,r=a.slice,x=a.klass,p=a.truthy,d=a.send;a.add_stubs(["$raise","$proc","$call","$to_proc","$coerce_to!"]);return function(C,$super,e){C=x(C,$super,"Proc");var f=[C].concat(e),F,c,n,L,g,h,K,D,Q,ja,ca,la;a.defineProperty(C.$$prototype,"$$is_proc",!0);a.defineProperty(C.$$prototype,"$$is_lambda",!1);a.defs(C,"$new",F=function(){var b=F.$$p,l=b||I;b&&(F.$$p=null);b&&(F.$$p=null);p(l)||this.$raise(q(f,"ArgumentError"),"tried to create a Proc object without a block");
return l},F.$$arity=0);a.def(C,"$call",c=function(b){var l=c.$$p,m=l||I;l&&(c.$$p=null);l&&(c.$$p=null);l=a.slice.call(arguments,0,arguments.length);m!==I&&(this.$$p=m);if(m=this.$$brk)try{var v=this.$$is_lambda?this.apply(null,l):a.yieldX(this,l)}catch(B){if(B===m)return m.$v;throw B;}else v=this.$$is_lambda?this.apply(null,l):a.yieldX(this,l);return v},c.$$arity=-1);a.alias(C,"[]","call");a.alias(C,"===","call");a.alias(C,"yield","call");a.def(C,"$>>",n=function(b){var l;n.$$p&&(n.$$p=null);return d(this,
"proc",[],(l=function(m){var v=null==l.$$s?this:l.$$s,B=l.$$p,E=B||I;B&&(l.$$p=null);B=a.slice.call(arguments,0,arguments.length);v=d(v,"call",a.to_a(B),E.$to_proc());return b.$call(v)},l.$$s=this,l.$$arity=-1,l))},n.$$arity=1);a.def(C,"$<<",L=function(b){var l;L.$$p&&(L.$$p=null);return d(this,"proc",[],(l=function(m){var v=null==l.$$s?this:l.$$s,B=l.$$p,E=B||I;B&&(l.$$p=null);B=a.slice.call(arguments,0,arguments.length);E=d(b,"call",a.to_a(B),E.$to_proc());return v.$call(E)},l.$$s=this,l.$$arity=
-1,l))},L.$$arity=1);a.def(C,"$to_proc",g=function(){return this},g.$$arity=0);a.def(C,"$lambda?",h=function(){return!!this.$$is_lambda},h.$$arity=0);a.def(C,"$arity",K=function(){return this.$$is_curried?-1:this.$$arity},K.$$arity=0);a.def(C,"$source_location",D=function(){return I},D.$$arity=0);a.def(C,"$binding",Q=function(){this.$$is_curried&&this.$raise(q(f,"ArgumentError"),"Can't create Binding");return I},Q.$$arity=0);a.def(C,"$parameters",ja=function(){if(this.$$is_curried)return[["rest"]];
if(this.$$parameters){if(this.$$is_lambda)return this.$$parameters;var b=[],l;var m=0;for(l=this.$$parameters.length;m<l;m++){var v=this.$$parameters[m];"req"===v[0]&&(v=["opt",v[1]]);b.push(v)}return b}return[]},ja.$$arity=0);a.def(C,"$curry",ca=function(b){function l(){var v=r.call(arguments),B=v.length;B>b&&m.$$is_lambda&&!m.$$is_curried&&m.$raise(q(f,"ArgumentError"),"wrong number of arguments ("+B+" for "+b+")");if(B>=b)return m.$call.apply(m,v);B=function(){return l.apply(null,v.concat(r.call(arguments)))};
B.$$is_lambda=m.$$is_lambda;B.$$is_curried=!0;return B}var m=this;void 0===b?b=m.length:(b=q(f,"Opal")["$coerce_to!"](b,q(f,"Integer"),"to_int"),m.$$is_lambda&&b!==m.length&&m.$raise(q(f,"ArgumentError"),"wrong number of arguments ("+b+" for "+m.length+")"));l.$$is_lambda=m.$$is_lambda;l.$$is_curried=!0;return l},ca.$$arity=-1);a.def(C,"$dup",la=function(){function b(){return l.apply(this,arguments)}var l=this.$$original_proc||this,m;for(m in this)this.hasOwnProperty(m)&&(b[m]=this[m]);return b},
la.$$arity=0);return a.alias(C,"clone","dup")}(u[0],Function,u)};
Opal.modules["corelib/method"]=function(a){var u=[],I=a.nil,q=a.$$,r=a.klass,x=a.truthy;a.add_stubs("$attr_reader $arity $>> $<< $new $class $join $source_location $raise".split(" "));(function(p,$super,C){p=r(p,$super,"Method");var A=[p].concat(C),e,f,F,c,n,L,g,h,K,D,Q;p.$$prototype.method=p.$$prototype.receiver=p.$$prototype.owner=p.$$prototype.name=I;p.$attr_reader("owner","receiver","name");a.def(p,"$initialize",e=function(ja,ca,la,b){this.receiver=ja;this.owner=ca;this.name=b;return this.method=
la},e.$$arity=4);a.def(p,"$arity",f=function(){return this.method.$arity()},f.$$arity=0);a.def(p,"$parameters",F=function(){return this.method.$$parameters},F.$$arity=0);a.def(p,"$source_location",c=function(){var ja;return x(ja=this.method.$$source_location)?ja:["(eval)",0]},c.$$arity=0);a.def(p,"$comments",n=function(){var ja;return x(ja=this.method.$$comments)?ja:[]},n.$$arity=0);a.def(p,"$call",L=function(ja){var ca=L.$$p,la=ca||I;ca&&(L.$$p=null);ca&&(L.$$p=null);ca=a.slice.call(arguments,0,
arguments.length);this.method.$$p=la;return this.method.apply(this.receiver,ca)},L.$$arity=-1);a.alias(p,"[]","call");a.def(p,"$>>",g=function(ja){return this.method["$>>"](ja)},g.$$arity=1);a.def(p,"$<<",h=function(ja){return this.method["$<<"](ja)},h.$$arity=1);a.def(p,"$unbind",K=function(){return q(A,"UnboundMethod").$new(this.receiver.$class(),this.owner,this.method,this.name)},K.$$arity=0);a.def(p,"$to_proc",D=function(){var ja=this.$call.bind(this);ja.$$unbound=this.method;ja.$$is_lambda=!0;
ja.$$arity=this.method.$$arity;ja.$$parameters=this.method.$$parameters;return ja},D.$$arity=0);return(a.def(p,"$inspect",Q=function(){return"#<"+this.$class()+": "+this.receiver.$class()+"#"+this.name+" (defined in "+this.owner+" in "+this.$source_location().$join(":")+")>"},Q.$$arity=0),I)&&"inspect"})(u[0],null,u);return function(p,$super,C){p=r(p,$super,"UnboundMethod");var A=[p].concat(C),e,f,F,c,n,L,g;p.$$prototype.method=p.$$prototype.owner=p.$$prototype.name=p.$$prototype.source=I;p.$attr_reader("source",
"owner","name");a.def(p,"$initialize",e=function(h,K,D,Q){this.source=h;this.owner=K;this.method=D;return this.name=Q},e.$$arity=4);a.def(p,"$arity",f=function(){return this.method.$arity()},f.$$arity=0);a.def(p,"$parameters",F=function(){return this.method.$$parameters},F.$$arity=0);a.def(p,"$source_location",c=function(){var h;return x(h=this.method.$$source_location)?h:["(eval)",0]},c.$$arity=0);a.def(p,"$comments",n=function(){var h;return x(h=this.method.$$comments)?h:[]},n.$$arity=0);a.def(p,
"$bind",L=function(h){if(this.owner.$$is_module||a.is_a(h,this.owner))return q(A,"Method").$new(h,this.owner,this.method,this.name);this.$raise(q(A,"TypeError"),"can't bind singleton method to a different class (expected "+h+".kind_of?("+this.owner+" to be true)")},L.$$arity=1);return(a.def(p,"$inspect",g=function(){return"#<"+this.$class()+": "+this.source+"#"+this.name+" (defined in "+this.owner+" in "+this.$source_location().$join(":")+")>"},g.$$arity=0),I)&&"inspect"}(u[0],null,u)};
Opal.modules["corelib/variables"]=function(a){var u=[],I=a.nil,q=a.$$,r=a.gvars,x=a.hash2;a.add_stubs(["$new"]);r["&"]=r["~"]=r["`"]=r["'"]=I;r.LOADED_FEATURES=r['"']=a.loaded_features;r.LOAD_PATH=r[":"]=[];r["/"]="\n";r[","]=I;a.const_set(u[0],"ARGV",[]);a.const_set(u[0],"ARGF",q(u,"Object").$new());a.const_set(u[0],"ENV",x([],{}));r.VERBOSE=!1;r.DEBUG=!1;return r.SAFE=0};
Opal.modules["corelib/io"]=function(a){function u(F,c){return"number"===typeof F&&"number"===typeof c?F-c:F["$-"](c)}var I=[],q=a.nil,r=a.$$$,x=a.$$,p=a.klass,d=a.module,C=a.gvars,A=a.send,e=q;a.add_stubs("$attr_accessor $size $write $String $chomp $getbyte $getc $raise $new $write_proc= $- $extend".split(" "));(function(F,$super,n){F=p(F,$super,"IO");n=[F].concat(n);var L,g,h,K;F.$$prototype.tty=F.$$prototype.closed=q;a.const_set(n[0],"SEEK_SET",0);a.const_set(n[0],"SEEK_CUR",1);a.const_set(n[0],
"SEEK_END",2);a.def(F,"$tty?",L=function(){return this.tty},L.$$arity=0);a.def(F,"$closed?",g=function(){return this.closed},g.$$arity=0);F.$attr_accessor("write_proc");a.def(F,"$write",h=function(D){this.write_proc(D);return D.$size()},h.$$arity=1);F.$attr_accessor("sync","tty");a.def(F,"$flush",K=function(){return q},K.$$arity=0);(function(D,Q){D=d(D,"Writable");[D].concat(Q);var ja,ca,la;a.def(D,"$<<",ja=function(b){this.$write(b);return this},ja.$$arity=1);a.def(D,"$print",ca=function(b){null==
C[","]&&(C[","]=q);var l=a.slice.call(arguments,0,arguments.length);for(var m=0,v=l.length;m<v;m++)l[m]=this.$String(l[m]);this.$write(l.join(C[","]));return q},ca.$$arity=-1);a.def(D,"$puts",la=function(b){null==C["/"]&&(C["/"]=q);var l=a.slice.call(arguments,0,arguments.length);for(var m=0,v=l.length;m<v;m++)l[m]=this.$String(l[m]).$chomp();this.$write(l.concat([q]).join(C["/"]));return q},la.$$arity=-1)})(n[0],n);return function(D,Q){D=d(D,"Readable");var ja=[D].concat(Q),ca,la,b,l;a.def(D,"$readbyte",
ca=function(){return this.$getbyte()},ca.$$arity=0);a.def(D,"$readchar",la=function(){return this.$getc()},la.$$arity=0);a.def(D,"$readline",b=function(){null==C["/"]&&(C["/"]=q);return this.$raise(x(ja,"NotImplementedError"))},b.$$arity=-1);a.def(D,"$readpartial",l=function(){return this.$raise(x(ja,"NotImplementedError"))},l.$$arity=-2)}(n[0],n)})(I[0],null,I);a.const_set(I[0],"STDERR",C.stderr=x(I,"IO").$new());a.const_set(I[0],"STDIN",C.stdin=x(I,"IO").$new());a.const_set(I[0],"STDOUT",C.stdout=
x(I,"IO").$new());var f=a.global.console;e=["object"===typeof process&&"object"===typeof process.stdout?function(F){process.stdout.write(F)}:function(F){f.log(F)}];A(x(I,"STDOUT"),"write_proc=",a.to_a(e));e[u(e.length,1)];e=["object"===typeof process&&"object"===typeof process.stderr?function(F){process.stderr.write(F)}:function(F){f.warn(F)}];A(x(I,"STDERR"),"write_proc=",a.to_a(e));e[u(e.length,1)];x(I,"STDOUT").$extend(r(x(I,"IO"),"Writable"));return x(I,"STDERR").$extend(r(x(I,"IO"),"Writable"))};
Opal.modules["opal/regexp_anchors"]=function(a){var u=[],I=a.nil,q=a.$$,r=a.module;a.add_stubs(["$==","$new"]);u=[r(u[0],"Opal")].concat(u);a.const_set(u[0],"REGEXP_START",q(u,"RUBY_ENGINE")["$=="]("opal")?"^":I);a.const_set(u[0],"REGEXP_END",q(u,"RUBY_ENGINE")["$=="]("opal")?"$":I);a.const_set(u[0],"FORBIDDEN_STARTING_IDENTIFIER_CHARS","\\u0001-\\u002F\\u003A-\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F");a.const_set(u[0],"FORBIDDEN_ENDING_IDENTIFIER_CHARS","\\u0001-\\u0020\\u0022-\\u002F\\u003A-\\u003E\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F");
a.const_set(u[0],"INLINE_IDENTIFIER_REGEXP",q(u,"Regexp").$new("[^"+q(u,"FORBIDDEN_STARTING_IDENTIFIER_CHARS")+"]*[^"+q(u,"FORBIDDEN_ENDING_IDENTIFIER_CHARS")+"]"));a.const_set(u[0],"FORBIDDEN_CONST_NAME_CHARS","\\u0001-\\u0020\\u0021-\\u002F\\u003B-\\u003F\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F");a.const_set(u[0],"CONST_NAME_REGEXP",q(u,"Regexp").$new(""+q(u,"REGEXP_START")+"(::)?[A-Z][^"+q(u,"FORBIDDEN_CONST_NAME_CHARS")+"]*"+q(u,"REGEXP_END")))};
Opal.modules["opal/mini"]=function(a){var u=a.top;a.add_stubs(["$require"]);u.$require("opal/base");u.$require("corelib/nil");u.$require("corelib/boolean");u.$require("corelib/string");u.$require("corelib/comparable");u.$require("corelib/enumerable");u.$require("corelib/enumerator");u.$require("corelib/array");u.$require("corelib/hash");u.$require("corelib/number");u.$require("corelib/range");u.$require("corelib/proc");u.$require("corelib/method");u.$require("corelib/regexp");u.$require("corelib/variables");
u.$require("corelib/io");return u.$require("opal/regexp_anchors")};
Opal.modules["corelib/kernel/format"]=function(a){var u=[],I=a.nil,q=a.$$,r=a.coerce_to,x=a.module,p=a.truthy,d=a.gvars;a.add_stubs("$== $length $respond_to? $[] $coerce_to? $nil? $to_a $raise $to_int $fetch $Integer $Float $to_ary $to_str $inspect $to_s".split(" "));return function(C,A){C=x(C,"Kernel");var e=[C].concat(A),f;a.def(C,"$format",f=function(F,c){function n(){Z&32&&ca.$raise(q(e,"ArgumentError"),"flag after width");Z&128&&ca.$raise(q(e,"ArgumentError"),"flag after precision")}function L(){Z&
32&&ca.$raise(q(e,"ArgumentError"),"width given twice");Z&128&&ca.$raise(q(e,"ArgumentError"),"width after precision")}function g(ia){ia>=l.length&&ca.$raise(q(e,"ArgumentError"),"too few arguments");return l[ia]}function h(){switch(H){case -1:ca.$raise(q(e,"ArgumentError"),"unnumbered("+E+") mixed with numbered");case -2:ca.$raise(q(e,"ArgumentError"),"unnumbered("+E+") mixed with named")}H=E++;return g(H-1)}function K(ia){0<H&&ca.$raise(q(e,"ArgumentError"),"numbered("+ia+") after unnumbered("+
H+")");-2===H&&ca.$raise(q(e,"ArgumentError"),"numbered("+ia+") after named");1>ia&&ca.$raise(q(e,"ArgumentError"),"invalid index - "+ia+"$");H=-1;return g(ia-1)}function D(){return void 0===Ka?h():Ka}function Q(ia){var X;for(X="";;m++){m===v&&ca.$raise(q(e,"ArgumentError"),"malformed format string - %*[0-9]");if(48>F.charCodeAt(m)||57<F.charCodeAt(m))return m--,X=parseInt(X,10)||0,2147483647<X&&ca.$raise(q(e,"ArgumentError"),""+ia+" too big"),X;X+=F.charAt(m)}}function ja(ia){ia=Q(ia);"$"===F.charAt(m+
1)?(m++,ia=K(ia)):ia=h();return ia.$to_int()}var ca=this,la=I,b=I;null==d.DEBUG&&(d.DEBUG=I);var l=a.slice.call(arguments,1,arguments.length);p(p(la=l.$length()["$=="](1))?l["$[]"](0)["$respond_to?"]("to_ary"):la)&&(b=q(e,"Opal")["$coerce_to?"](l["$[]"](0),q(e,"Array"),"to_ary"),p(b["$nil?"]())||(l=b.$to_a()));la="";b=0;var m,v=F.length,B,E=1,H=0;for(m=F.indexOf("%");-1!==m;m=F.indexOf("%",m)){var J=void 0;var Z=0;var ta=B=-1;var Ka=void 0;var ua=m;m++;switch(F.charAt(m)){case "%":b=m;case "":case "\n":case "\x00":m++;
continue}a:for(;m<v;m++)switch(F.charAt(m)){case " ":n();Z|=16;continue a;case "#":n();Z|=1;continue a;case "+":n();Z|=4;continue a;case "-":n();Z|=2;continue a;case "0":n();Z|=8;continue a;case "1":case "2":case "3":case "4":case "5":case "6":case "7":case "8":case "9":var ya=Q("width");if("$"===F.charAt(m+1)){if(m+2===v){J="%";m++;break a}void 0!==Ka&&ca.$raise(q(e,"ArgumentError"),"value given twice - %"+ya+"$");Ka=K(ya);m++}else L(),Z|=32,B=ya;continue a;case "<":case "{":var Ia="<"===F.charAt(m)?
">":"}";ya="";for(m++;;m++){m===v&&ca.$raise(q(e,"ArgumentError"),"malformed name - unmatched parenthesis");if(F.charAt(m)===Ia)if(0<H&&ca.$raise(q(e,"ArgumentError"),"named "+ya+" after unnumbered("+H+")"),-1===H&&ca.$raise(q(e,"ArgumentError"),"named "+ya+" after numbered"),H=-2,void 0!==l[0]&&l[0].$$is_hash||ca.$raise(q(e,"ArgumentError"),"one hash required"),Ka=l[0].$fetch(ya),">"===Ia)continue a;else{J=Ka.toString();-1!==ta&&(J=J.slice(0,ta));if(Z&2)for(;J.length<B;)J+=" ";else for(;J.length<
B;)J=" "+J;break a}ya+=F.charAt(m)}case "*":m++;L();Z|=32;B=ja("width");0>B&&(Z|=2,B=-B);continue a;case ".":Z&128&&ca.$raise(q(e,"ArgumentError"),"precision given twice");Z|=192;ta=0;m++;if("*"===F.charAt(m)){m++;ta=ja("precision");0>ta&&(Z&=-65);continue a}ta=Q("precision");continue a;case "d":case "i":case "u":ya=ca.$Integer(D());if(0<=ya){for(J=ya.toString();J.length<ta;)J="0"+J;if(Z&2){if(Z&4||Z&16)J=(Z&4?"+":" ")+J;for(;J.length<B;)J+=" "}else if(Z&8&&-1===ta){for(;J.length<B-(Z&4||Z&16?1:0);)J=
"0"+J;if(Z&4||Z&16)J=(Z&4?"+":" ")+J}else{if(Z&4||Z&16)J=(Z&4?"+":" ")+J;for(;J.length<B;)J=" "+J}}else{for(J=(-ya).toString();J.length<ta;)J="0"+J;if(Z&2)for(J="-"+J;J.length<B;)J+=" ";else if(Z&8&&-1===ta){for(;J.length<B-1;)J="0"+J;J="-"+J}else for(J="-"+J;J.length<B;)J=" "+J}break a;case "b":case "B":case "o":case "x":case "X":switch(F.charAt(m)){case "b":case "B":var na=2;var P="0b";var ra=/^1+/;var Y="1";break;case "o":na=8;P="0";ra=/^3?7+/;Y="7";break;case "x":case "X":na=16,P="0x",ra=/^f+/,
Y="f"}ya=ca.$Integer(D());if(0<=ya){for(J=ya.toString(na);J.length<ta;)J="0"+J;if(Z&2){if(Z&4||Z&16)J=(Z&4?"+":" ")+J;for(Z&1&&0!==ya&&(J=P+J);J.length<B;)J+=" "}else if(Z&8&&-1===ta){for(;J.length<B-(Z&4||Z&16?1:0)-(Z&1&&0!==ya?P.length:0);)J="0"+J;Z&1&&0!==ya&&(J=P+J);if(Z&4||Z&16)J=(Z&4?"+":" ")+J}else{Z&1&&0!==ya&&(J=P+J);if(Z&4||Z&16)J=(Z&4?"+":" ")+J;for(;J.length<B;)J=" "+J}}else if(Z&4||Z&16){for(J=(-ya).toString(na);J.length<ta;)J="0"+J;if(Z&2)for(Z&1&&(J=P+J),J="-"+J;J.length<B;)J+=" ";
else if(Z&8&&-1===ta){for(;J.length<B-1-(Z&1?2:0);)J="0"+J;Z&1&&(J=P+J);J="-"+J}else for(Z&1&&(J=P+J),J="-"+J;J.length<B;)J=" "+J}else{for(J=(ya>>>0).toString(na).replace(ra,Y);J.length<ta-2;)J=Y+J;if(Z&2)for(J=".."+J,Z&1&&(J=P+J);J.length<B;)J+=" ";else if(Z&8&&-1===ta){for(;J.length<B-2-(Z&1?P.length:0);)J=Y+J;J=".."+J;Z&1&&(J=P+J)}else for(J=".."+J,Z&1&&(J=P+J);J.length<B;)J=" "+J}F.charAt(m)===F.charAt(m).toUpperCase()&&(J=J.toUpperCase());break a;case "f":case "e":case "E":case "g":case "G":ya=
ca.$Float(D());if(0<=ya||isNaN(ya)){if(Infinity===ya)J="Inf";else switch(F.charAt(m)){case "f":J=ya.toFixed(-1===ta?6:ta);break;case "e":case "E":J=ya.toExponential(-1===ta?6:ta);break;case "g":case "G":J=ya.toExponential(),Ia=parseInt(J.split("e")[1],10),-4>Ia||Ia>=(-1===ta?6:ta)||(J=ya.toPrecision(-1===ta?Z&1?6:void 0:ta))}if(Z&2){if(Z&4||Z&16)J=(Z&4?"+":" ")+J;for(;J.length<B;)J+=" "}else if(Z&8&&Infinity!==ya&&!isNaN(ya)){for(;J.length<B-(Z&4||Z&16?1:0);)J="0"+J;if(Z&4||Z&16)J=(Z&4?"+":" ")+J}else{if(Z&
4||Z&16)J=(Z&4?"+":" ")+J;for(;J.length<B;)J=" "+J}}else{if(-Infinity===ya)J="Inf";else switch(F.charAt(m)){case "f":J=(-ya).toFixed(-1===ta?6:ta);break;case "e":case "E":J=(-ya).toExponential(-1===ta?6:ta);break;case "g":case "G":J=(-ya).toExponential(),Ia=parseInt(J.split("e")[1],10),-4>Ia||Ia>=(-1===ta?6:ta)||(J=(-ya).toPrecision(-1===ta?Z&1?6:void 0:ta))}if(Z&2)for(J="-"+J;J.length<B;)J+=" ";else if(Z&8&&-Infinity!==ya){for(;J.length<B-1;)J="0"+J;J="-"+J}else for(J="-"+J;J.length<B;)J=" "+J}F.charAt(m)!==
F.charAt(m).toUpperCase()||Infinity===ya||-Infinity===ya||isNaN(ya)||(J=J.toUpperCase());J=J.replace(/([eE][-+]?)([0-9])$/,"$10$2");break a;case "a":case "A":ca.$raise(q(e,"NotImplementedError"),"`A` and `a` format field types are not implemented in Opal yet");case "c":ya=D();ya["$respond_to?"]("to_ary")&&(ya=ya.$to_ary()[0]);J=ya["$respond_to?"]("to_str")?ya.$to_str():String.fromCharCode(r(ya,q(e,"Integer"),"to_int"));1!==J.length&&ca.$raise(q(e,"ArgumentError"),"%c requires a character");if(Z&2)for(;J.length<
B;)J+=" ";else for(;J.length<B;)J=" "+J;break a;case "p":J=D().$inspect();-1!==ta&&(J=J.slice(0,ta));if(Z&2)for(;J.length<B;)J+=" ";else for(;J.length<B;)J=" "+J;break a;case "s":J=D().$to_s();-1!==ta&&(J=J.slice(0,ta));if(Z&2)for(;J.length<B;)J+=" ";else for(;J.length<B;)J=" "+J;break a;default:ca.$raise(q(e,"ArgumentError"),"malformed format string - %"+F.charAt(m))}void 0===J&&ca.$raise(q(e,"ArgumentError"),"malformed format string - %");la+=F.slice(b,ua)+J;b=m+1}d.DEBUG&&0<=H&&E<l.length&&ca.$raise(q(e,
"ArgumentError"),"too many arguments for format string");return la+F.slice(b)},f.$$arity=-2);a.alias(C,"sprintf","format")}(u[0],u)};
Opal.modules["corelib/string/encoding"]=function(a){function u(h,K){return"number"===typeof h&&"number"===typeof K?h+K:h["$+"](K)}var I,q,r,x,p,d=a.top,C=[],A=a.nil,e=a.$$$,f=a.$$,F=a.klass,c=a.hash2,n=a.truthy,L=a.send,g=A;a.add_stubs("$require $+ $[] $new $instance_eval $to_proc $each $const_set $sub $== $default_external $upcase $raise $attr_accessor $singleton_class $attr_reader $register $length $bytes $to_a $each_byte $dup $bytesize $enum_for $each_codepoint $coerce_to! $find $< $default_external= $-".split(" "));d.$require("corelib/string");
(function(h,$super,D){h=F(h,$super,"Encoding");var Q=[h].concat(D),ja,ca,la,b,l,m,v,B,E;h.$$prototype.ascii=h.$$prototype.dummy=h.$$prototype.name=A;a.defs(h,"$register",ja=function(H,J){var Z=ja.$$p,ta=Z||A,Ka,ua=A,ya=A,Ia=A,na=A,P=A,ra=A,Y=A,ia=A;Z&&(ja.$$p=null);Z&&(ja.$$p=null);null==J&&(J=c([],{}));ua=u([H],n(ya=J["$[]"]("aliases"))?ya:[]);Ia=n(na=J["$[]"]("ascii"))?na:!1;P=n(ra=J["$[]"]("dummy"))?ra:!1;Y=this.$new(H,ua,Ia,P);L(Y,"instance_eval",[],ta.$to_proc());ia=a.encodings;return L(ua,"each",
[],(Ka=function(X){var R=null==Ka.$$s?this:Ka.$$s;null==X&&(X=A);R.$const_set(X.$sub("-","_"),Y);return ia[X]=Y},Ka.$$s=this,Ka.$$arity=1,Ka))},ja.$$arity=-2);a.defs(h,"$find",ca=function(H){var J=A;if(H["$=="]("default_external"))return this.$default_external();var Z=a.encodings;Z=n(J=Z[H])?J:Z[H.$upcase()];n(Z)||this.$raise(f(Q,"ArgumentError"),"unknown encoding name - "+H);return Z},ca.$$arity=1);h.$singleton_class().$attr_accessor("default_external");h.$attr_reader("name","names");a.def(h,"$initialize",
la=function(H,J,Z,ta){this.name=H;this.names=J;this.ascii=Z;return this.dummy=ta},la.$$arity=4);a.def(h,"$ascii_compatible?",b=function(){return this.ascii},b.$$arity=0);a.def(h,"$dummy?",l=function(){return this.dummy},l.$$arity=0);a.def(h,"$to_s",m=function(){return this.name},m.$$arity=0);a.def(h,"$inspect",v=function(){return"#<Encoding:"+this.name+(n(this.dummy)?" (dummy)":A)+">"},v.$$arity=0);a.def(h,"$each_byte",B=function(H){a.slice.call(arguments,0,arguments.length);return this.$raise(f(Q,
"NotImplementedError"))},B.$$arity=-1);a.def(h,"$bytesize",E=function(H){a.slice.call(arguments,0,arguments.length);return this.$raise(f(Q,"NotImplementedError"))},E.$$arity=-1);(function(H,$super,Z){[F(H,$super,"EncodingError")].concat(Z);return A})(Q[0],f(Q,"StandardError"),Q);return function(H,$super,Z){[F(H,$super,"CompatibilityError")].concat(Z);return A}(Q[0],f(Q,"EncodingError"),Q)})(C[0],null,C);L(f(C,"Encoding"),"register",["UTF-8",c(["aliases","ascii"],{aliases:["CP65001"],ascii:!0})],(I=
function(){var h=null==I.$$s?this:I.$$s,K,D;a.def(h,"$each_byte",K=function(Q){var ja=K.$$p,ca=ja||A;ja&&(K.$$p=null);ja&&(K.$$p=null);ja=Infinity;for(var la,b=Q.length,l=null,m=0;m<b;++m){la=Q.charCodeAt(m);if(55295<la&&57344>la){if(!l){if(56319<la){-1<(ja-=3)&&(a.yield1(ca,239),a.yield1(ca,191),a.yield1(ca,189));continue}else if(m+1===b){-1<(ja-=3)&&(a.yield1(ca,239),a.yield1(ca,191),a.yield1(ca,189));continue}l=la;continue}if(56320>la){-1<(ja-=3)&&(a.yield1(ca,239),a.yield1(ca,191),a.yield1(ca,
189));l=la;continue}la=(l-55296<<10|la-56320)+65536}else l&&-1<(ja-=3)&&(a.yield1(ca,239),a.yield1(ca,191),a.yield1(ca,189));l=null;if(128>la){if(0>--ja)break;a.yield1(ca,la)}else if(2048>la){if(0>(ja-=2))break;a.yield1(ca,la>>6|192);a.yield1(ca,la&63|128)}else if(65536>la){if(0>(ja-=3))break;a.yield1(ca,la>>12|224);a.yield1(ca,la>>6&63|128);a.yield1(ca,la&63|128)}else if(1114112>la){if(0>(ja-=4))break;a.yield1(ca,la>>18|240);a.yield1(ca,la>>12&63|128);a.yield1(ca,la>>6&63|128);a.yield1(ca,la&63|
128)}}},K.$$arity=1);return(a.def(h,"$bytesize",D=function(Q){return Q.$bytes().$length()},D.$$arity=1),A)&&"bytesize"},I.$$s=d,I.$$arity=0,I));L(f(C,"Encoding"),"register",["UTF-16LE"],(q=function(){var h=null==q.$$s?this:q.$$s,K,D;a.def(h,"$each_byte",K=function(Q){var ja=K.$$p,ca=ja||A;ja&&(K.$$p=null);ja&&(K.$$p=null);ja=0;for(var la=Q.length;ja<la;ja++){var b=Q.charCodeAt(ja);a.yield1(ca,b&255);a.yield1(ca,b>>8)}},K.$$arity=1);return(a.def(h,"$bytesize",D=function(Q){return Q.$bytes().$length()},
D.$$arity=1),A)&&"bytesize"},q.$$s=d,q.$$arity=0,q));L(f(C,"Encoding"),"register",["UTF-16BE"],(r=function(){var h=null==r.$$s?this:r.$$s,K,D;a.def(h,"$each_byte",K=function(Q){var ja=K.$$p,ca=ja||A;ja&&(K.$$p=null);ja&&(K.$$p=null);ja=0;for(var la=Q.length;ja<la;ja++){var b=Q.charCodeAt(ja);a.yield1(ca,b>>8);a.yield1(ca,b&255)}},K.$$arity=1);return(a.def(h,"$bytesize",D=function(Q){return Q.$bytes().$length()},D.$$arity=1),A)&&"bytesize"},r.$$s=d,r.$$arity=0,r));L(f(C,"Encoding"),"register",["UTF-32LE"],
(x=function(){var h=null==x.$$s?this:x.$$s,K,D;a.def(h,"$each_byte",K=function(Q){var ja=K.$$p,ca=ja||A;ja&&(K.$$p=null);ja&&(K.$$p=null);ja=0;for(var la=Q.length;ja<la;ja++){var b=Q.charCodeAt(ja);a.yield1(ca,b&255);a.yield1(ca,b>>8)}},K.$$arity=1);return(a.def(h,"$bytesize",D=function(Q){return Q.$bytes().$length()},D.$$arity=1),A)&&"bytesize"},x.$$s=d,x.$$arity=0,x));L(f(C,"Encoding"),"register",["ASCII-8BIT",c(["aliases","ascii","dummy"],{aliases:["BINARY","US-ASCII","ASCII"],ascii:!0,dummy:!0})],
(p=function(){var h=null==p.$$s?this:p.$$s,K,D;a.def(h,"$each_byte",K=function(Q){var ja=K.$$p,ca=ja||A;ja&&(K.$$p=null);ja&&(K.$$p=null);ja=0;for(var la=Q.length;ja<la;ja++){var b=Q.charCodeAt(ja);a.yield1(ca,b&255);a.yield1(ca,b>>8)}},K.$$arity=1);return(a.def(h,"$bytesize",D=function(Q){return Q.$bytes().$length()},D.$$arity=1),A)&&"bytesize"},p.$$s=d,p.$$arity=0,p));(function(h,$super,D){h=F(h,$super,"String");var Q=[h].concat(D),ja,ca,la,b,l,m,v,B,E;h.$$prototype.bytes=h.$$prototype.internal_encoding=
A;h.$attr_reader("encoding");h.$attr_reader("internal_encoding");a.defineProperty(String.prototype,"bytes",A);a.defineProperty(String.prototype,"encoding",e(f(Q,"Encoding"),"UTF_8"));a.defineProperty(String.prototype,"internal_encoding",e(f(Q,"Encoding"),"UTF_8"));a.def(h,"$bytes",ja=function(){var H=A;this.bytes=n(H=this.bytes)?H:this.$each_byte().$to_a();return this.bytes.$dup()},ja.$$arity=0);a.def(h,"$bytesize",ca=function(){return this.internal_encoding.$bytesize(this)},ca.$$arity=0);a.def(h,
"$each_byte",la=function(){var H=la.$$p,J=H||A;H&&(la.$$p=null);H&&(la.$$p=null);if(J===A)return this.$enum_for("each_byte");L(this.internal_encoding,"each_byte",[this],J.$to_proc());return this},la.$$arity=0);a.def(h,"$each_codepoint",b=function(){var H=b.$$p,J=H||A;H&&(b.$$p=null);H&&(b.$$p=null);if(J===A)return this.$enum_for("each_codepoint");H=0;for(var Z=this.length;H<Z;H++)a.yield1(J,this.codePointAt(H));return this},b.$$arity=0);a.def(h,"$codepoints",l=function(){var H=l.$$p,J=H||A;H&&(l.$$p=
null);H&&(l.$$p=null);return J!==A?L(this,"each_codepoint",[],J.$to_proc()):this.$each_codepoint().$to_a()},l.$$arity=0);a.def(h,"$encode",m=function(H){return a.enc(this,H)},m.$$arity=1);a.def(h,"$force_encoding",v=function(H){if(H===this.encoding)return this;H=f(Q,"Opal")["$coerce_to!"](H,f(Q,"String"),"to_s");H=f(Q,"Encoding").$find(H);if(H===this.encoding)return this;a.set_encoding(this,H);return this},v.$$arity=1);a.def(h,"$getbyte",B=function(H){var J=this.$bytes();H=f(Q,"Opal")["$coerce_to!"](H,
f(Q,"Integer"),"to_int");var Z=J.$length();Z="number"===typeof Z&&"number"===typeof H?Z<H:Z["$<"](H);return n(Z)?A:J["$[]"](H)},B.$$arity=1);return(a.def(h,"$valid_encoding?",E=function(){return!0},E.$$arity=0),A)&&"valid_encoding?"})(C[0],null,C);g=[e(f(C,"Encoding"),"UTF_8")];L(f(C,"Encoding"),"default_external=",a.to_a(g));return g[function(h,K){return"number"===typeof h&&"number"===typeof K?h-K:h["$-"](K)}(g.length,1)]};
Opal.modules["corelib/math"]=function(a){var u=[],I=a.$$$,q=a.$$,r=a.type_error,x=a.module,p=a.truthy;a.add_stubs("$new $raise $Float $Integer $module_function $checked $float! $=== $gamma $- $integer! $/ $infinite?".split(" "));return function(d,C){d=x(d,"Math");var A=[d].concat(C),e,f,F,c,n,L,g,h,K,D,Q,ja,ca,la,b,l,m,v,B,E,H,J,Z,ta,Ka,ua,ya,Ia,na;a.const_set(A[0],"E",Math.E);a.const_set(A[0],"PI",Math.PI);a.const_set(A[0],"DomainError",q(A,"Class").$new(q(A,"StandardError")));a.defs(d,"$checked",
e=function(P,ra){var Y=a.slice.call(arguments,1,arguments.length);if(isNaN(Y[0])||2==Y.length&&isNaN(Y[1]))return NaN;Y=Math[P].apply(null,Y);isNaN(Y)&&this.$raise(q(A,"DomainError"),'Numerical argument is out of domain - "'+P+'"');return Y},e.$$arity=-2);a.defs(d,"$float!",f=function(P){try{return this.$Float(P)}catch(ra){if(a.rescue(ra,[q(A,"ArgumentError")]))try{return this.$raise(r(P,q(A,"Float")))}finally{a.pop_exception()}else throw ra;}},f.$$arity=1);a.defs(d,"$integer!",F=function(P){try{return this.$Integer(P)}catch(ra){if(a.rescue(ra,
[q(A,"ArgumentError")]))try{return this.$raise(r(P,q(A,"Integer")))}finally{a.pop_exception()}else throw ra;}},F.$$arity=1);d.$module_function();a.def(d,"$acos",c=function(P){return q(A,"Math").$checked("acos",q(A,"Math")["$float!"](P))},c.$$arity=1);p("undefined"!==typeof Math.acosh)||(Math.acosh=function(P){return Math.log(P+Math.sqrt(P*P-1))});a.def(d,"$acosh",n=function(P){return q(A,"Math").$checked("acosh",q(A,"Math")["$float!"](P))},n.$$arity=1);a.def(d,"$asin",L=function(P){return q(A,"Math").$checked("asin",
q(A,"Math")["$float!"](P))},L.$$arity=1);p("undefined"!==typeof Math.asinh)||(Math.asinh=function(P){return Math.log(P+Math.sqrt(P*P+1))});a.def(d,"$asinh",g=function(P){return q(A,"Math").$checked("asinh",q(A,"Math")["$float!"](P))},g.$$arity=1);a.def(d,"$atan",h=function(P){return q(A,"Math").$checked("atan",q(A,"Math")["$float!"](P))},h.$$arity=1);a.def(d,"$atan2",K=function(P,ra){return q(A,"Math").$checked("atan2",q(A,"Math")["$float!"](P),q(A,"Math")["$float!"](ra))},K.$$arity=2);p("undefined"!==
typeof Math.atanh)||(Math.atanh=function(P){return.5*Math.log((1+P)/(1-P))});a.def(d,"$atanh",D=function(P){return q(A,"Math").$checked("atanh",q(A,"Math")["$float!"](P))},D.$$arity=1);p("undefined"!==typeof Math.cbrt)||(Math.cbrt=function(P){if(0==P)return 0;if(0>P)return-Math.cbrt(-P);for(var ra=P,Y=0;.125>ra;)ra*=8,Y--;for(;1<ra;)ra*=.125,Y++;for(ra=(-.46946116*ra+1.072302)*ra+.3812513;0>Y;)ra*=.5,Y++;for(;0<Y;)ra*=2,Y--;ra=2/3*ra+1/3*P/(ra*ra);ra=2/3*ra+1/3*P/(ra*ra);ra=2/3*ra+1/3*P/(ra*ra);return 2/
3*ra+1/3*P/(ra*ra)});a.def(d,"$cbrt",Q=function(P){return q(A,"Math").$checked("cbrt",q(A,"Math")["$float!"](P))},Q.$$arity=1);a.def(d,"$cos",ja=function(P){return q(A,"Math").$checked("cos",q(A,"Math")["$float!"](P))},ja.$$arity=1);p("undefined"!==typeof Math.cosh)||(Math.cosh=function(P){return(Math.exp(P)+Math.exp(-P))/2});a.def(d,"$cosh",ca=function(P){return q(A,"Math").$checked("cosh",q(A,"Math")["$float!"](P))},ca.$$arity=1);p("undefined"!==typeof Math.erf)||a.defineProperty(Math,"erf",function(P){var ra=
1;0>P&&(ra=-1);P=Math.abs(P);var Y=1/(1+.3275911*P);return ra*(1-((((1.061405429*Y+-1.453152027)*Y+1.421413741)*Y+-.284496736)*Y+.254829592)*Y*Math.exp(-P*P))});a.def(d,"$erf",la=function(P){return q(A,"Math").$checked("erf",q(A,"Math")["$float!"](P))},la.$$arity=1);p("undefined"!==typeof Math.erfc)||a.defineProperty(Math,"erfc",function(P){var ra=Math.abs(P),Y=1/(.5*ra+1);ra=Y*Math.exp(-ra*ra-1.26551223+Y*(Y*(Y*(Y*(Y*(Y*(Y*(Y*(.17087277*Y+-.82215223)+1.48851587)+-1.13520398)+.27886807)+-.18628806)+
.09678418)+.37409196)+1.00002368));return 0>P?2-ra:ra});a.def(d,"$erfc",b=function(P){return q(A,"Math").$checked("erfc",q(A,"Math")["$float!"](P))},b.$$arity=1);a.def(d,"$exp",l=function(P){return q(A,"Math").$checked("exp",q(A,"Math")["$float!"](P))},l.$$arity=1);a.def(d,"$frexp",m=function(P){P=q(A,"Math")["$float!"](P);if(isNaN(P))return[NaN,0];var ra=Math.floor(Math.log(Math.abs(P))/Math.log(2))+1;return[P/Math.pow(2,ra),ra]},m.$$arity=1);a.def(d,"$gamma",v=function(P){P=q(A,"Math")["$float!"](P);
var ra=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3.399464998481189E-5,4.652362892704858E-5,-9.837447530487956E-5,1.580887032249125E-4,-2.1026444172410488E-4,2.1743961811521265E-4,-1.643181065367639E-4,8.441822398385275E-5,-2.6190838401581408E-5,3.6899182659531625E-6];if(isNaN(P))return NaN;if(0===P&&0>1/P)return-Infinity;-1!==P&&-Infinity!==P||this.$raise(q(A,"DomainError"),'Numerical argument is out of domain - "gamma"');if(q(A,"Integer")["$==="](P)){if(0>=
P)return isFinite(P)?Infinity:NaN;if(171<P)return Infinity;var Y=P-2;for(--P;1<Y;)P*=Y,Y--;0==P&&(P=1);return P}if(.5>P)return Math.PI/(Math.sin(Math.PI*P)*q(A,"Math").$gamma("number"===typeof P?1-P:1["$-"](P)));if(171.35<=P)return Infinity;if(85<P){Y=P*P;var ia=Y*P;ra=ia*P;var X=ra*P;return Math.sqrt(2*Math.PI/P)*Math.pow(P/Math.E,P)*(1+1/(12*P)+1/(288*Y)-139/(51840*ia)-571/(2488320*ra)+163879/(209018880*X)+5246819/(75246796800*X*P))}--P;Y=ra[0];for(ia=1;ia<ra.length;++ia)Y+=ra[ia]/(P+ia);ia=P+4.7421875+
.5;return Math.sqrt(2*Math.PI)*Math.pow(ia,P+.5)*Math.exp(-ia)*Y},v.$$arity=1);p("undefined"!==typeof Math.hypot)||(Math.hypot=function(P,ra){return Math.sqrt(P*P+ra*ra)});a.def(d,"$hypot",B=function(P,ra){return q(A,"Math").$checked("hypot",q(A,"Math")["$float!"](P),q(A,"Math")["$float!"](ra))},B.$$arity=2);a.def(d,"$ldexp",E=function(P,ra){P=q(A,"Math")["$float!"](P);ra=q(A,"Math")["$integer!"](ra);isNaN(ra)&&this.$raise(q(A,"RangeError"),"float NaN out of range of integer");return P*Math.pow(2,
ra)},E.$$arity=2);a.def(d,"$lgamma",H=function(P){return-1==P?[Infinity,1]:[Math.log(Math.abs(q(A,"Math").$gamma(P))),0>q(A,"Math").$gamma(P)?-1:1]},H.$$arity=1);a.def(d,"$log",J=function(P,ra){p(q(A,"String")["$==="](P))&&this.$raise(r(P,q(A,"Float")));if(p(null==ra))return q(A,"Math").$checked("log",q(A,"Math")["$float!"](P));p(q(A,"String")["$==="](ra))&&this.$raise(r(ra,q(A,"Float")));P=q(A,"Math").$checked("log",q(A,"Math")["$float!"](P));ra=q(A,"Math").$checked("log",q(A,"Math")["$float!"](ra));
return"number"===typeof P&&"number"===typeof ra?P/ra:P["$/"](ra)},J.$$arity=-2);p("undefined"!==typeof Math.log10)||(Math.log10=function(P){return Math.log(P)/Math.LN10});a.def(d,"$log10",Z=function(P){p(q(A,"String")["$==="](P))&&this.$raise(r(P,q(A,"Float")));return q(A,"Math").$checked("log10",q(A,"Math")["$float!"](P))},Z.$$arity=1);p("undefined"!==typeof Math.log2)||(Math.log2=function(P){return Math.log(P)/Math.LN2});a.def(d,"$log2",ta=function(P){p(q(A,"String")["$==="](P))&&this.$raise(r(P,
q(A,"Float")));return q(A,"Math").$checked("log2",q(A,"Math")["$float!"](P))},ta.$$arity=1);a.def(d,"$sin",Ka=function(P){return q(A,"Math").$checked("sin",q(A,"Math")["$float!"](P))},Ka.$$arity=1);p("undefined"!==typeof Math.sinh)||(Math.sinh=function(P){return(Math.exp(P)-Math.exp(-P))/2});a.def(d,"$sinh",ua=function(P){return q(A,"Math").$checked("sinh",q(A,"Math")["$float!"](P))},ua.$$arity=1);a.def(d,"$sqrt",ya=function(P){return q(A,"Math").$checked("sqrt",q(A,"Math")["$float!"](P))},ya.$$arity=
1);a.def(d,"$tan",Ia=function(P){P=q(A,"Math")["$float!"](P);return p(P["$infinite?"]())?I(q(A,"Float"),"NAN"):q(A,"Math").$checked("tan",q(A,"Math")["$float!"](P))},Ia.$$arity=1);p("undefined"!==typeof Math.tanh)||(Math.tanh=function(P){return Infinity==P?1:-Infinity==P?-1:(Math.exp(P)-Math.exp(-P))/(Math.exp(P)+Math.exp(-P))});a.def(d,"$tanh",na=function(P){return q(A,"Math").$checked("tanh",q(A,"Math")["$float!"](P))},na.$$arity=1)}(u[0],u)};
Opal.modules["corelib/complex"]=function(a){function u(c,n){return"number"===typeof c&&"number"===typeof n?c*n:c["$*"](n)}function I(c,n){return"number"===typeof c&&"number"===typeof n?c+n:c["$+"](n)}function q(c,n){return"number"===typeof c&&"number"===typeof n?c-n:c["$-"](n)}function r(c,n){return"number"===typeof c&&"number"===typeof n?c/n:c["$/"](n)}var x=a.top,p=[],d=a.nil,C=a.$$$,A=a.$$,e=a.klass,f=a.truthy,F=a.module;a.add_stubs("$require $=== $real? $raise $new $* $cos $sin $attr_reader $class $== $real $imag $Complex $-@ $+ $__coerced__ $- $nan? $/ $conj $abs2 $quo $polar $exp $log $> $!= $divmod $** $hypot $atan2 $lcm $denominator $finite? $infinite? $numerator $abs $arg $rationalize $to_f $to_i $to_r $inspect $positive? $zero? $Rational".split(" "));
x.$require("corelib/numeric");(function(c,$super,L){c=e(c,$super,"Complex");var g=[c].concat(L),h,K,D,Q,ja,ca,la,b,l,m,v,B,E,H,J,Z,ta,Ka,ua,ya,Ia,na,P,ra,Y,ia,X,R,T,sa,Ca;c.$$prototype.real=c.$$prototype.imag=d;a.defs(c,"$rect",h=function(ka,xa){var Ea=d,Da=d,Ra=d;null==xa&&(xa=0);f(f(Ea=f(Da=f(Ra=A(g,"Numeric")["$==="](ka))?ka["$real?"]():Ra)?A(g,"Numeric")["$==="](xa):Da)?xa["$real?"]():Ea)||this.$raise(A(g,"TypeError"),"not a real");return this.$new(ka,xa)},h.$$arity=-2);(function(ka,xa){[ka].concat(xa);
return a.alias(ka,"rectangular","rect")})(a.get_singleton_class(c),g);a.defs(c,"$polar",K=function(ka,xa){var Ea=d,Da=d,Ra=d;null==xa&&(xa=0);f(f(Ea=f(Da=f(Ra=A(g,"Numeric")["$==="](ka))?ka["$real?"]():Ra)?A(g,"Numeric")["$==="](xa):Da)?xa["$real?"]():Ea)||this.$raise(A(g,"TypeError"),"not a real");return this.$new(u(ka,A(g,"Math").$cos(xa)),u(ka,A(g,"Math").$sin(xa)))},K.$$arity=-2);c.$attr_reader("real","imag");a.def(c,"$initialize",D=function(ka,xa){null==xa&&(xa=0);this.real=ka;return this.imag=
xa},D.$$arity=-2);a.def(c,"$coerce",Q=function(ka){var xa=d;return f(A(g,"Complex")["$==="](ka))?[ka,this]:f(f(xa=A(g,"Numeric")["$==="](ka))?ka["$real?"]():xa)?[A(g,"Complex").$new(ka,0),this]:this.$raise(A(g,"TypeError"),""+ka.$class()+" can't be coerced into Complex")},Q.$$arity=1);a.def(c,"$==",ja=function(ka){var xa=d,Ea=d,Da=d;return f(A(g,"Complex")["$==="](ka))?f(xa=this.real["$=="](ka.$real()))?this.imag["$=="](ka.$imag()):xa:f(f(Ea=A(g,"Numeric")["$==="](ka))?ka["$real?"]():Ea)?f(Da=this.real["$=="](ka))?
this.imag["$=="](0):Da:ka["$=="](this)},ja.$$arity=1);a.def(c,"$-@",ca=function(){return this.$Complex(this.real["$-@"](),this.imag["$-@"]())},ca.$$arity=0);a.def(c,"$+",la=function(ka){var xa=d;return f(A(g,"Complex")["$==="](ka))?this.$Complex(I(this.real,ka.$real()),I(this.imag,ka.$imag())):f(f(xa=A(g,"Numeric")["$==="](ka))?ka["$real?"]():xa)?this.$Complex(I(this.real,ka),this.imag):this.$__coerced__("+",ka)},la.$$arity=1);a.def(c,"$-",b=function(ka){var xa=d;return f(A(g,"Complex")["$==="](ka))?
this.$Complex(q(this.real,ka.$real()),q(this.imag,ka.$imag())):f(f(xa=A(g,"Numeric")["$==="](ka))?ka["$real?"]():xa)?this.$Complex(q(this.real,ka),this.imag):this.$__coerced__("-",ka)},b.$$arity=1);a.def(c,"$*",l=function(ka){var xa=d;return f(A(g,"Complex")["$==="](ka))?this.$Complex(q(u(this.real,ka.$real()),u(this.imag,ka.$imag())),I(u(this.real,ka.$imag()),u(this.imag,ka.$real()))):f(f(xa=A(g,"Numeric")["$==="](ka))?ka["$real?"]():xa)?this.$Complex(u(this.real,ka),u(this.imag,ka)):this.$__coerced__("*",
ka)},l.$$arity=1);a.def(c,"$/",m=function(ka){var xa=d,Ea=d,Da=d,Ra=d,Pa=d,La=d,kb=d,lb=d;return f(A(g,"Complex")["$==="](ka))?f(f(xa=f(Ea=f(Da=f(Ra=A(g,"Number")["$==="](this.real))?this.real["$nan?"]():Ra)?Da:f(Pa=A(g,"Number")["$==="](this.imag))?this.imag["$nan?"]():Pa)?Ea:f(La=A(g,"Number")["$==="](ka.$real()))?ka.$real()["$nan?"]():La)?xa:f(kb=A(g,"Number")["$==="](ka.$imag()))?ka.$imag()["$nan?"]():kb)?A(g,"Complex").$new(C(A(g,"Float"),"NAN"),C(A(g,"Float"),"NAN")):r(u(this,ka.$conj()),ka.$abs2()):
f(f(lb=A(g,"Numeric")["$==="](ka))?ka["$real?"]():lb)?this.$Complex(this.real.$quo(ka),this.imag.$quo(ka)):this.$__coerced__("/",ka)},m.$$arity=1);a.def(c,"$**",v=function(ka){var xa=d;if(ka["$=="](0))return A(g,"Complex").$new(1,0);if(f(A(g,"Complex")["$==="](ka))){xa=this.$polar();var Ea=a.to_ary(xa);var Da=null==Ea[0]?d:Ea[0];Ea=null==Ea[1]?d:Ea[1];xa;xa=ka.$real();var Ra=ka.$imag();ka=A(g,"Math").$exp(q(u(xa,A(g,"Math").$log(Da)),u(Ra,Ea)));xa=I(u(Ea,xa),u(Ra,A(g,"Math").$log(Da)));return A(g,
"Complex").$polar(ka,xa)}if(f(A(g,"Integer")["$==="](ka))){if(f("number"===typeof ka?0<ka:ka["$>"](0))){Ea=Da=this;for(Ra=q(ka,1);f(Ra["$!="](0));){ka=Ra.$divmod(2);xa=a.to_ary(ka);var Pa=null==xa[0]?d:xa[0];var La=null==xa[1]?d:xa[1];for(ka;La["$=="](0);)Da=this.$Complex(q(u(Da.$real(),Da.$real()),u(Da.$imag(),Da.$imag())),u(u(2,Da.$real()),Da.$imag())),Ra=Pa,xa=Ra.$divmod(2),ka=a.to_ary(xa),Pa=null==ka[0]?d:ka[0],La=null==ka[1]?d:ka[1],xa;Ea=u(Ea,Da);Ra=q(Ra,1)}return Ea}return r(A(g,"Rational").$new(1,
1),this)["$**"](ka["$-@"]())}return f(f(xa=A(g,"Float")["$==="](ka))?xa:A(g,"Rational")["$==="](ka))?(xa=this.$polar(),Ea=a.to_ary(xa),Da=null==Ea[0]?d:Ea[0],Ea=null==Ea[1]?d:Ea[1],xa,A(g,"Complex").$polar(Da["$**"](ka),u(Ea,ka))):this.$__coerced__("**",ka)},v.$$arity=1);a.def(c,"$abs",B=function(){return A(g,"Math").$hypot(this.real,this.imag)},B.$$arity=0);a.def(c,"$abs2",E=function(){return I(u(this.real,this.real),u(this.imag,this.imag))},E.$$arity=0);a.def(c,"$angle",H=function(){return A(g,
"Math").$atan2(this.imag,this.real)},H.$$arity=0);a.alias(c,"arg","angle");a.def(c,"$conj",J=function(){return this.$Complex(this.real,this.imag["$-@"]())},J.$$arity=0);a.alias(c,"conjugate","conj");a.def(c,"$denominator",Z=function(){return this.real.$denominator().$lcm(this.imag.$denominator())},Z.$$arity=0);a.alias(c,"divide","/");a.def(c,"$eql?",ta=function(ka){var xa=d,Ea=d;return f(xa=f(Ea=A(g,"Complex")["$==="](ka))?this.real.$class()["$=="](this.imag.$class()):Ea)?this["$=="](ka):xa},ta.$$arity=
1);a.def(c,"$fdiv",Ka=function(ka){f(A(g,"Numeric")["$==="](ka))||this.$raise(A(g,"TypeError"),""+ka.$class()+" can't be coerced into Complex");return r(this,ka)},Ka.$$arity=1);a.def(c,"$finite?",ua=function(){var ka;return f(ka=this.real["$finite?"]())?this.imag["$finite?"]():ka},ua.$$arity=0);a.def(c,"$hash",ya=function(){return"Complex:"+this.real+":"+this.imag},ya.$$arity=0);a.alias(c,"imaginary","imag");a.def(c,"$infinite?",Ia=function(){var ka;return f(ka=this.real["$infinite?"]())?ka:this.imag["$infinite?"]()},
Ia.$$arity=0);a.def(c,"$inspect",na=function(){return"("+this+")"},na.$$arity=0);a.alias(c,"magnitude","abs");a.udef(c,"$negative?");a.def(c,"$numerator",P=function(){var ka=this.$denominator();return this.$Complex(u(this.real.$numerator(),r(ka,this.real.$denominator())),u(this.imag.$numerator(),r(ka,this.imag.$denominator())))},P.$$arity=0);a.alias(c,"phase","arg");a.def(c,"$polar",ra=function(){return[this.$abs(),this.$arg()]},ra.$$arity=0);a.udef(c,"$positive?");a.alias(c,"quo","/");a.def(c,"$rationalize",
Y=function(ka){1<arguments.length&&this.$raise(A(g,"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)");f(this.imag["$!="](0))&&this.$raise(A(g,"RangeError"),"can't' convert "+this+" into Rational");return this.$real().$rationalize(ka)},Y.$$arity=-1);a.def(c,"$real?",ia=function(){return!1},ia.$$arity=0);a.def(c,"$rect",X=function(){return[this.real,this.imag]},X.$$arity=0);a.alias(c,"rectangular","rect");a.def(c,"$to_f",R=function(){this.imag["$=="](0)||this.$raise(A(g,"RangeError"),
"can't convert "+this+" into Float");return this.real.$to_f()},R.$$arity=0);a.def(c,"$to_i",T=function(){this.imag["$=="](0)||this.$raise(A(g,"RangeError"),"can't convert "+this+" into Integer");return this.real.$to_i()},T.$$arity=0);a.def(c,"$to_r",sa=function(){this.imag["$=="](0)||this.$raise(A(g,"RangeError"),"can't convert "+this+" into Rational");return this.real.$to_r()},sa.$$arity=0);a.def(c,"$to_s",Ca=function(){var ka=d,xa=d,Ea=d,Da=d,Ra=d;var Pa=this.real.$inspect();Pa=I(Pa,f(f(ka=f(xa=
f(Ea=A(g,"Number")["$==="](this.imag))?this.imag["$nan?"]():Ea)?xa:this.imag["$positive?"]())?ka:this.imag["$zero?"]())?"+":"-");Pa=I(Pa,this.imag.$abs().$inspect());f(f(Da=A(g,"Number")["$==="](this.imag))?f(Ra=this.imag["$nan?"]())?Ra:this.imag["$infinite?"]():Da)&&(Pa=I(Pa,"*"));return I(Pa,"i")},Ca.$$arity=0);return a.const_set(g[0],"I",c.$new(0,1))})(p[0],A(p,"Numeric"),p);(function(c,n){c=F(c,"Kernel");var L=[c].concat(n),g;a.def(c,"$Complex",g=function(h,K){null==K&&(K=d);return f(K)?A(L,"Complex").$new(h,
K):A(L,"Complex").$new(h,0)},g.$$arity=-2)})(p[0],p);return function(c,$super,L){c=e(c,$super,"String");[c].concat(L);var g;return(a.def(c,"$to_c",g=function(){function h(){var b=Q.match(ja)[0];Q=Q.slice(b.length);return b.replace(/_/g,"")}function K(){if(ja.test(Q)){var b=parseFloat(h());if("/"===Q[0]){Q=Q.slice(1);if(ja.test(Q)){var l=parseFloat(h());return D.$Rational(b,l)}Q="/"+Q}return b}return null}var D=this,Q=D,ja=/[+-]?[\d_]+(\.[\d_]+)?(e\d+)?/;Q.match(ja);var ca;var la=K();return la?(ca=
K())?D.$Complex(la,ca):"i"===Q[0]?D.$Complex(0,la):D.$Complex(la,0):"i"===Q[0]?D.$Complex(0,1):"-"===Q[0]&&"i"===Q[1]?D.$Complex(0,-1):"+"===Q[0]&&"i"===Q[1]?D.$Complex(0,1):D.$Complex(0,0)},g.$$arity=0),d)&&"to_c"}(p[0],null,p)};
Opal.modules["corelib/rational"]=function(a){function u(n,L){return"number"===typeof n&&"number"===typeof L?n<L:n["$<"](L)}function I(n,L){return"number"===typeof n&&"number"===typeof L?n/L:n["$/"](L)}function q(n,L){return"number"===typeof n&&"number"===typeof L?n-L:n["$-"](L)}function r(n,L){return"number"===typeof n&&"number"===typeof L?n*L:n["$*"](L)}function x(n,L){return"number"===typeof n&&"number"===typeof L?n+L:n["$+"](L)}var p=a.top,d=[],C=a.nil,A=a.$$$,e=a.$$,f=a.klass,F=a.truthy,c=a.module;
a.add_stubs("$require $to_i $== $raise $< $-@ $new $gcd $/ $nil? $=== $reduce $to_r $equal? $! $coerce_to! $to_f $numerator $denominator $<=> $- $* $__coerced__ $+ $Rational $> $** $abs $ceil $with_precision $floor $<= $truncate $send $convert".split(" "));p.$require("corelib/numeric");(function(n,$super,g){n=f(n,$super,"Rational");var h=[n].concat(g),K,D,Q,ja,ca,la,b,l,m,v,B,E,H,J,Z,ta,Ka,ua,ya,Ia,na,P,ra,Y,ia,X;n.$$prototype.num=n.$$prototype.den=C;a.defs(n,"$reduce",K=function(R,T){R=R.$to_i();
T=T.$to_i();if(T["$=="](0))this.$raise(e(h,"ZeroDivisionError"),"divided by 0");else if(F(u(T,0)))R=R["$-@"](),T=T["$-@"]();else if(T["$=="](1))return this.$new(R,T);var sa=R.$gcd(T);return this.$new(I(R,sa),I(T,sa))},K.$$arity=2);a.defs(n,"$convert",D=function(R,T){var sa=C,Ca=C,ka=C,xa=C,Ea=C,Da=C,Ra=C,Pa=C;F(F(sa=R["$nil?"]())?sa:T["$nil?"]())&&this.$raise(e(h,"TypeError"),"cannot convert nil into Rational");if(F(F(Ca=e(h,"Integer")["$==="](R))?e(h,"Integer")["$==="](T):Ca))return this.$reduce(R,
T);F(F(ka=F(xa=e(h,"Float")["$==="](R))?xa:e(h,"String")["$==="](R))?ka:e(h,"Complex")["$==="](R))&&(R=R.$to_r());F(F(Ea=F(Da=e(h,"Float")["$==="](T))?Da:e(h,"String")["$==="](T))?Ea:e(h,"Complex")["$==="](T))&&(T=T.$to_r());return F(F(Ra=T["$equal?"](1))?e(h,"Integer")["$==="](R)["$!"]():Ra)?e(h,"Opal")["$coerce_to!"](R,e(h,"Rational"),"to_r"):F(F(Pa=e(h,"Numeric")["$==="](R))?e(h,"Numeric")["$==="](T):Pa)?I(R,T):this.$reduce(R,T)},D.$$arity=2);a.def(n,"$initialize",Q=function(R,T){this.num=R;return this.den=
T},Q.$$arity=2);a.def(n,"$numerator",ja=function(){return this.num},ja.$$arity=0);a.def(n,"$denominator",ca=function(){return this.den},ca.$$arity=0);a.def(n,"$coerce",la=function(R){return e(h,"Rational")["$==="](R)?[R,this]:e(h,"Integer")["$==="](R)?[R.$to_r(),this]:e(h,"Float")["$==="](R)?[R,this.$to_f()]:C},la.$$arity=1);a.def(n,"$==",b=function(R){var T=C,sa=C;return e(h,"Rational")["$==="](R)?F(T=this.num["$=="](R.$numerator()))?this.den["$=="](R.$denominator()):T:e(h,"Integer")["$==="](R)?
F(sa=this.num["$=="](R))?this.den["$=="](1):sa:e(h,"Float")["$==="](R)?this.$to_f()["$=="](R):R["$=="](this)},b.$$arity=1);a.def(n,"$<=>",l=function(R){return e(h,"Rational")["$==="](R)?q(r(this.num,R.$denominator()),r(this.den,R.$numerator()))["$<=>"](0):e(h,"Integer")["$==="](R)?q(this.num,r(this.den,R))["$<=>"](0):e(h,"Float")["$==="](R)?this.$to_f()["$<=>"](R):this.$__coerced__("<=>",R)},l.$$arity=1);a.def(n,"$+",m=function(R){if(e(h,"Rational")["$==="](R)){var T=x(r(this.num,R.$denominator()),
r(this.den,R.$numerator()));R=r(this.den,R.$denominator());T=this.$Rational(T,R)}else T=e(h,"Integer")["$==="](R)?this.$Rational(x(this.num,r(R,this.den)),this.den):e(h,"Float")["$==="](R)?x(this.$to_f(),R):this.$__coerced__("+",R);return T},m.$$arity=1);a.def(n,"$-",v=function(R){if(e(h,"Rational")["$==="](R)){var T=q(r(this.num,R.$denominator()),r(this.den,R.$numerator()));R=r(this.den,R.$denominator());T=this.$Rational(T,R)}else T=e(h,"Integer")["$==="](R)?this.$Rational(q(this.num,r(R,this.den)),
this.den):e(h,"Float")["$==="](R)?q(this.$to_f(),R):this.$__coerced__("-",R);return T},v.$$arity=1);a.def(n,"$*",B=function(R){if(e(h,"Rational")["$==="](R)){var T=r(this.num,R.$numerator());R=r(this.den,R.$denominator());T=this.$Rational(T,R)}else T=e(h,"Integer")["$==="](R)?this.$Rational(r(this.num,R),this.den):e(h,"Float")["$==="](R)?r(this.$to_f(),R):this.$__coerced__("*",R);return T},B.$$arity=1);a.def(n,"$/",E=function(R){if(e(h,"Rational")["$==="](R)){var T=r(this.num,R.$denominator());R=
r(this.den,R.$numerator());T=this.$Rational(T,R)}else T=e(h,"Integer")["$==="](R)?R["$=="](0)?I(this.$to_f(),0):this.$Rational(this.num,r(this.den,R)):e(h,"Float")["$==="](R)?I(this.$to_f(),R):this.$__coerced__("/",R);return T},E.$$arity=1);a.def(n,"$**",H=function(R){var T=C,sa=C;return e(h,"Integer")["$==="](R)?F(F(T=this["$=="](0))?u(R,0):T)?A(e(h,"Float"),"INFINITY"):F("number"===typeof R?0<R:R["$>"](0))?this.$Rational(this.num["$**"](R),this.den["$**"](R)):F(u(R,0))?this.$Rational(this.den["$**"](R["$-@"]()),
this.num["$**"](R["$-@"]())):this.$Rational(1,1):e(h,"Float")["$==="](R)?this.$to_f()["$**"](R):e(h,"Rational")["$==="](R)?R["$=="](0)?this.$Rational(1,1):R.$denominator()["$=="](1)?F(u(R,0))?this.$Rational(this.den["$**"](R.$numerator().$abs()),this.num["$**"](R.$numerator().$abs())):this.$Rational(this.num["$**"](R.$numerator()),this.den["$**"](R.$numerator())):F(F(sa=this["$=="](0))?u(R,0):sa)?this.$raise(e(h,"ZeroDivisionError"),"divided by 0"):this.$to_f()["$**"](R):this.$__coerced__("**",R)},
H.$$arity=1);a.def(n,"$abs",J=function(){return this.$Rational(this.num.$abs(),this.den.$abs())},J.$$arity=0);a.def(n,"$ceil",Z=function(R){null==R&&(R=0);return R["$=="](0)?I(this.num["$-@"](),this.den)["$-@"]().$ceil():this.$with_precision("ceil",R)},Z.$$arity=-1);a.alias(n,"divide","/");a.def(n,"$floor",ta=function(R){null==R&&(R=0);return R["$=="](0)?I(this.num["$-@"](),this.den)["$-@"]().$floor():this.$with_precision("floor",R)},ta.$$arity=-1);a.def(n,"$hash",Ka=function(){return"Rational:"+
this.num+":"+this.den},Ka.$$arity=0);a.def(n,"$inspect",ua=function(){return"("+this+")"},ua.$$arity=0);a.alias(n,"quo","/");a.def(n,"$rationalize",ya=function(R){1<arguments.length&&this.$raise(e(h,"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)");if(null==R)return this;var T=R.$abs(),sa=q(this,T);T=x(this,T);for(var Ca=0,ka=1,xa=1,Ea=0,Da,Ra,Pa;;){Da=sa.$ceil();if("number"===typeof Da&&"number"===typeof T?Da<=T:Da["$<="](T))break;Pa=Da-1;Da=Pa*ka+Ca;Ra=Pa*Ea+xa;Ca=I(1,
q(T,Pa));T=I(1,q(sa,Pa));sa=Ca;Ca=ka;xa=Ea;ka=Da;Ea=Ra}return this.$Rational(Da*ka+Ca,Da*Ea+xa)},ya.$$arity=-1);a.def(n,"$round",Ia=function(R){null==R&&(R=0);if(!R["$=="](0))return this.$with_precision("round",R);if(this.num["$=="](0))return 0;if(this.den["$=="](1))return this.num;R=x(r(this.num.$abs(),2),this.den);var T=r(this.den,2);R=I(R,T).$truncate();return F(u(this.num,0))?R["$-@"]():R},Ia.$$arity=-1);a.def(n,"$to_f",na=function(){return I(this.num,this.den)},na.$$arity=0);a.def(n,"$to_i",
P=function(){return this.$truncate()},P.$$arity=0);a.def(n,"$to_r",ra=function(){return this},ra.$$arity=0);a.def(n,"$to_s",Y=function(){return""+this.num+"/"+this.den},Y.$$arity=0);a.def(n,"$truncate",ia=function(R){null==R&&(R=0);return R["$=="](0)?F(u(this.num,0))?this.$ceil():this.$floor():this.$with_precision("truncate",R)},ia.$$arity=-1);return(a.def(n,"$with_precision",X=function(R,T){F(e(h,"Integer")["$==="](T))||this.$raise(e(h,"TypeError"),"not an Integer");var sa=10["$**"](T);var Ca=r(this,
sa);return F(u(T,1))?I(Ca.$send(R),sa).$to_i():this.$Rational(Ca.$send(R),sa)},X.$$arity=2),C)&&"with_precision"})(d[0],e(d,"Numeric"),d);(function(n,L){n=c(n,"Kernel");var g=[n].concat(L),h;a.def(n,"$Rational",h=function(K,D){null==D&&(D=1);return e(g,"Rational").$convert(K,D)},h.$$arity=-2)})(d[0],d);return function(n,$super,g){n=f(n,$super,"String");[n].concat(g);var h;return(a.def(n,"$to_r",h=function(){function K(){var la=D.match(Q)[0];D=D.slice(la.length);return la.replace(/_/g,"")}var D=this.trimLeft(),
Q=/^[+-]?[\d_]+(\.[\d_]+)?/;D.match(Q);if(Q.test(D)){var ja=parseFloat(K());if("/"===D[0]&&(D=D.slice(1),Q.test(D))){var ca=parseFloat(K());return this.$Rational(ja,ca)}return this.$Rational(ja,1)}return this.$Rational(0,1)},h.$$arity=0),C)&&"to_r"}(d[0],null,d)};
Opal.modules["corelib/time"]=function(a){function u(c,n){return"number"===typeof c&&"number"===typeof n?c+n:c["$+"](n)}function I(c,n){return"number"===typeof c&&"number"===typeof n?c/n:c["$/"](n)}function q(c,n){return"number"===typeof c&&"number"===typeof n?c-n:c["$-"](n)}function r(c,n){return"number"===typeof c&&"number"===typeof n?c<=n:c["$<="](n)}var x=a.top,p=[],d=a.nil,C=a.$$,A=a.slice,e=a.klass,f=a.truthy,F=a.range;a.add_stubs("$require $include $=== $raise $coerce_to! $respond_to? $to_str $to_i $new $<=> $to_f $nil? $> $< $strftime $year $month $day $+ $round $/ $- $copy_instance_variables $initialize_dup $is_a? $zero? $wday $utc? $mon $yday $hour $min $sec $rjust $ljust $zone $to_s $[] $cweek_cyear $isdst $<= $!= $== $ceil".split(" "));
x.$require("corelib/comparable");return function(c,$super,L){function g(Aa,wa,Oa,Va,Za,Fa){Aa=Aa.$$is_string?parseInt(Aa,10):C(K,"Opal")["$coerce_to!"](Aa,C(K,"Integer"),"to_int");if(wa===d)wa=1;else if(!wa.$$is_number)if(wa["$respond_to?"]("to_str"))switch(wa=wa.$to_str(),wa.toLowerCase()){case "jan":wa=1;break;case "feb":wa=2;break;case "mar":wa=3;break;case "apr":wa=4;break;case "may":wa=5;break;case "jun":wa=6;break;case "jul":wa=7;break;case "aug":wa=8;break;case "sep":wa=9;break;case "oct":wa=
10;break;case "nov":wa=11;break;case "dec":wa=12;break;default:wa=wa.$to_i()}else wa=C(K,"Opal")["$coerce_to!"](wa,C(K,"Integer"),"to_int");(1>wa||12<wa)&&h.$raise(C(K,"ArgumentError"),"month out of range: "+wa);--wa;Oa=Oa===d?1:Oa.$$is_string?parseInt(Oa,10):C(K,"Opal")["$coerce_to!"](Oa,C(K,"Integer"),"to_int");(1>Oa||31<Oa)&&h.$raise(C(K,"ArgumentError"),"day out of range: "+Oa);Va=Va===d?0:Va.$$is_string?parseInt(Va,10):C(K,"Opal")["$coerce_to!"](Va,C(K,"Integer"),"to_int");(0>Va||24<Va)&&h.$raise(C(K,
"ArgumentError"),"hour out of range: "+Va);Za=Za===d?0:Za.$$is_string?parseInt(Za,10):C(K,"Opal")["$coerce_to!"](Za,C(K,"Integer"),"to_int");(0>Za||59<Za)&&h.$raise(C(K,"ArgumentError"),"min out of range: "+Za);Fa===d?Fa=0:Fa.$$is_number||(Fa=Fa.$$is_string?parseInt(Fa,10):C(K,"Opal")["$coerce_to!"](Fa,C(K,"Integer"),"to_int"));(0>Fa||60<Fa)&&h.$raise(C(K,"ArgumentError"),"sec out of range: "+Fa);return[Aa,wa,Oa,Va,Za,Fa]}var h=e(c,$super,"Time"),K=[h].concat(L),D,Q,ja,ca,la,b,l,m,v,B,E,H,J,Z,ta,
Ka,ua,ya,Ia,na,P,ra,Y,ia,X,R,T,sa,Ca,ka,xa,Ea,Da,Ra,Pa,La,kb,lb,va,Na,Sa,db;h.$include(C(K,"Comparable"));var jb="Sunday Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "),fb="Sun Mon Tue Wed Thu Fri Sat".split(" "),gb="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),ib="January February March April May June July August September October November December".split(" ");a.defs(h,"$at",D=function(Aa,wa){if(C(K,"Time")["$==="](Aa))return void 0!==wa&&this.$raise(C(K,"TypeError"),
"can't convert Time into an exact number"),wa=new Date(Aa.getTime()),wa.is_utc=Aa.is_utc,wa;Aa.$$is_number||(Aa=C(K,"Opal")["$coerce_to!"](Aa,C(K,"Integer"),"to_int"));if(void 0===wa)return new Date(1E3*Aa);wa.$$is_number||(wa=C(K,"Opal")["$coerce_to!"](wa,C(K,"Integer"),"to_int"));return new Date(1E3*Aa+wa/1E3)},D.$$arity=-2);a.defs(h,"$new",Q=function(Aa,wa,Oa,Va,Za,Fa,aa){null==wa&&(wa=d);null==Oa&&(Oa=d);null==Va&&(Va=d);null==Za&&(Za=d);null==Fa&&(Fa=d);null==aa&&(aa=d);if(void 0===Aa)return new Date;
aa!==d&&this.$raise(C(K,"ArgumentError"),"Opal does not support explicitly specifying UTC offset for Time");Fa=g(Aa,wa,Oa,Va,Za,Fa);Aa=Fa[0];wa=Fa[1];Oa=Fa[2];Va=Fa[3];Za=Fa[4];Fa=Fa[5];wa=new Date(Aa,wa,Oa,Va,Za,0,1E3*Fa);100>Aa&&wa.setFullYear(Aa);return wa},Q.$$arity=-1);a.defs(h,"$local",ja=function(Aa,wa,Oa,Va,Za,Fa,aa,W,da,V){null==wa&&(wa=d);null==Oa&&(Oa=d);null==Va&&(Va=d);null==Za&&(Za=d);null==Fa&&(Fa=d);null==aa&&(aa=d);null==W&&(W=d);null==da&&(da=d);null==V&&(V=d);if(10===arguments.length){var ha=
A.call(arguments);Aa=ha[5];wa=ha[4];Oa=ha[3];Va=ha[2];Za=ha[1];Fa=ha[0]}ha=g(Aa,wa,Oa,Va,Za,Fa);Aa=ha[0];wa=ha[1];Oa=ha[2];Va=ha[3];Za=ha[4];Fa=ha[5];ha=new Date(Aa,wa,Oa,Va,Za,0,1E3*Fa);100>Aa&&ha.setFullYear(Aa);return ha},ja.$$arity=-2);a.defs(h,"$gm",ca=function(Aa,wa,Oa,Va,Za,Fa,aa,W,da,V){null==wa&&(wa=d);null==Oa&&(Oa=d);null==Va&&(Va=d);null==Za&&(Za=d);null==Fa&&(Fa=d);null==aa&&(aa=d);null==W&&(W=d);null==da&&(da=d);null==V&&(V=d);if(10===arguments.length){var ha=A.call(arguments);Aa=ha[5];
wa=ha[4];Oa=ha[3];Va=ha[2];Za=ha[1];Fa=ha[0]}ha=g(Aa,wa,Oa,Va,Za,Fa);Aa=ha[0];wa=ha[1];Oa=ha[2];Va=ha[3];Za=ha[4];Fa=ha[5];ha=new Date(Date.UTC(Aa,wa,Oa,Va,Za,0,1E3*Fa));100>Aa&&ha.setUTCFullYear(Aa);ha.is_utc=!0;return ha},ca.$$arity=-2);(function(Aa,wa){[Aa].concat(wa);a.alias(Aa,"mktime","local");return a.alias(Aa,"utc","gm")})(a.get_singleton_class(h),K);a.defs(h,"$now",la=function(){return this.$new()},la.$$arity=0);a.def(h,"$+",b=function(Aa){f(C(K,"Time")["$==="](Aa))&&this.$raise(C(K,"TypeError"),
"time + time?");Aa.$$is_number||(Aa=C(K,"Opal")["$coerce_to!"](Aa,C(K,"Integer"),"to_int"));Aa=new Date(this.getTime()+1E3*Aa);Aa.is_utc=this.is_utc;return Aa},b.$$arity=1);a.def(h,"$-",l=function(Aa){if(f(C(K,"Time")["$==="](Aa)))return(this.getTime()-Aa.getTime())/1E3;Aa.$$is_number||(Aa=C(K,"Opal")["$coerce_to!"](Aa,C(K,"Integer"),"to_int"));Aa=new Date(this.getTime()-1E3*Aa);Aa.is_utc=this.is_utc;return Aa},l.$$arity=1);a.def(h,"$<=>",m=function(Aa){if(f(C(K,"Time")["$==="](Aa)))return this.$to_f()["$<=>"](Aa.$to_f());
Aa=Aa["$<=>"](this);return f(Aa["$nil?"]())?d:f("number"===typeof Aa?0<Aa:Aa["$>"](0))?-1:f("number"===typeof Aa?0>Aa:Aa["$<"](0))?1:0},m.$$arity=1);a.def(h,"$==",v=function(Aa){var wa;return f(wa=C(K,"Time")["$==="](Aa))?this.$to_f()===Aa.$to_f():wa},v.$$arity=1);a.def(h,"$asctime",B=function(){return this.$strftime("%a %b %e %H:%M:%S %Y")},B.$$arity=0);a.alias(h,"ctime","asctime");a.def(h,"$day",E=function(){return this.is_utc?this.getUTCDate():this.getDate()},E.$$arity=0);a.def(h,"$yday",H=function(){var Aa=
C(K,"Time").$new(this.$year()).$to_i();var wa=C(K,"Time").$new(this.$year(),this.$month(),this.$day()).$to_i();return u(I(q(wa,Aa),86400).$round(),1)},H.$$arity=0);a.def(h,"$isdst",J=function(){var Aa=new Date(this.getFullYear(),0,1),wa=new Date(this.getFullYear(),6,1);return this.getTimezoneOffset()<Math.max(Aa.getTimezoneOffset(),wa.getTimezoneOffset())},J.$$arity=0);a.alias(h,"dst?","isdst");a.def(h,"$dup",Z=function(){var Aa=new Date(this.getTime());Aa.$copy_instance_variables(this);Aa.$initialize_dup(this);
return Aa},Z.$$arity=0);a.def(h,"$eql?",ta=function(Aa){var wa;return f(wa=Aa["$is_a?"](C(K,"Time")))?this["$<=>"](Aa)["$zero?"]():wa},ta.$$arity=1);a.def(h,"$friday?",Ka=function(){return 5==this.$wday()},Ka.$$arity=0);a.def(h,"$hash",ua=function(){return"Time:"+this.getTime()},ua.$$arity=0);a.def(h,"$hour",ya=function(){return this.is_utc?this.getUTCHours():this.getHours()},ya.$$arity=0);a.def(h,"$inspect",Ia=function(){return f(this["$utc?"]())?this.$strftime("%Y-%m-%d %H:%M:%S UTC"):this.$strftime("%Y-%m-%d %H:%M:%S %z")},
Ia.$$arity=0);a.alias(h,"mday","day");a.def(h,"$min",na=function(){return this.is_utc?this.getUTCMinutes():this.getMinutes()},na.$$arity=0);a.def(h,"$mon",P=function(){return(this.is_utc?this.getUTCMonth():this.getMonth())+1},P.$$arity=0);a.def(h,"$monday?",ra=function(){return 1==this.$wday()},ra.$$arity=0);a.alias(h,"month","mon");a.def(h,"$saturday?",Y=function(){return 6==this.$wday()},Y.$$arity=0);a.def(h,"$sec",ia=function(){return this.is_utc?this.getUTCSeconds():this.getSeconds()},ia.$$arity=
0);a.def(h,"$succ",X=function(){var Aa=new Date(this.getTime()+1E3);Aa.is_utc=this.is_utc;return Aa},X.$$arity=0);a.def(h,"$usec",R=function(){return 1E3*this.getMilliseconds()},R.$$arity=0);a.def(h,"$zone",T=function(){var Aa=this.toString();var wa=-1==Aa.indexOf("(")?Aa.match(/[A-Z]{3,4}/)[0]:Aa.match(/\((.+)\)(?:\s|$)/)[1];return"GMT"==wa&&/(GMT\W*\d{4})/.test(Aa)?RegExp.$1:wa},T.$$arity=0);a.def(h,"$getgm",sa=function(){var Aa=new Date(this.getTime());Aa.is_utc=!0;return Aa},sa.$$arity=0);a.alias(h,
"getutc","getgm");a.def(h,"$gmtime",Ca=function(){this.is_utc=!0;return this},Ca.$$arity=0);a.alias(h,"utc","gmtime");a.def(h,"$gmt?",ka=function(){return!0===this.is_utc},ka.$$arity=0);a.def(h,"$gmt_offset",xa=function(){return this.is_utc?0:60*-this.getTimezoneOffset()},xa.$$arity=0);a.def(h,"$strftime",Ea=function(Aa){var wa=this;return Aa.replace(/%([\-_#^0]*:{0,2})(\d+)?([EO]*)(.)/g,function(Oa,Va,Za,Fa,aa){Fa="";var W=-1!==Va.indexOf("0"),da=-1===Va.indexOf("-"),V=-1!==Va.indexOf("_"),ha=-1!==
Va.indexOf("^"),ma=-1!==Va.indexOf("#"),k=(Va.match(":")||[]).length;Za=parseInt(Za,10);W&&V&&(Va.indexOf("0")<Va.indexOf("_")?W=!1:V=!1);switch(aa){case "Y":Fa+=wa.$year();break;case "C":W=!V;Fa+=Math.round(wa.$year()/100);break;case "y":W=!V;Fa+=wa.$year()%100;break;case "m":W=!V;Fa+=wa.$mon();break;case "B":Fa+=ib[wa.$mon()-1];break;case "b":case "h":V=!W;Fa+=gb[wa.$mon()-1];break;case "d":W=!V;Fa+=wa.$day();break;case "e":V=!W;Fa+=wa.$day();break;case "j":W=!V;Za=isNaN(Za)?3:Za;Fa+=wa.$yday();
break;case "H":W=!V;Fa+=wa.$hour();break;case "k":V=!W;Fa+=wa.$hour();break;case "I":W=!V;Fa+=wa.$hour()%12||12;break;case "l":V=!W;Fa+=wa.$hour()%12||12;break;case "P":Fa+=12<=wa.$hour()?"pm":"am";break;case "p":Fa+=12<=wa.$hour()?"PM":"AM";break;case "M":W=!V;Fa+=wa.$min();break;case "S":W=!V;Fa+=wa.$sec();break;case "L":W=!V;Za=isNaN(Za)?3:Za;Fa+=wa.getMilliseconds();break;case "N":Za=isNaN(Za)?9:Za;Fa+=wa.getMilliseconds().toString().$rjust(3,"0");Fa=Fa.$ljust(Za,"0");break;case "z":Oa=wa.getTimezoneOffset();
Va=Math.floor(Math.abs(Oa)/60);aa=Math.abs(Oa)%60;Fa=Fa+(0>Oa?"+":"-")+(10>Va?"0":"")+Va;0<k&&(Fa+=":");Fa+=10>aa?"0":"";Fa+=aa;1<k&&(Fa+=":00");break;case "Z":Fa+=wa.$zone();break;case "A":Fa+=jb[wa.$wday()];break;case "a":Fa+=fb[wa.$wday()];break;case "u":Fa+=wa.$wday()+1;break;case "w":Fa+=wa.$wday();break;case "V":Fa+=wa.$cweek_cyear()["$[]"](0).$to_s().$rjust(2,"0");break;case "G":Fa+=wa.$cweek_cyear()["$[]"](1);break;case "g":Fa+=wa.$cweek_cyear()["$[]"](1)["$[]"](F(-2,-1,!1));break;case "s":Fa+=
wa.$to_i();break;case "n":Fa+="\n";break;case "t":Fa+="\t";break;case "%":Fa+="%";break;case "c":Fa+=wa.$strftime("%a %b %e %T %Y");break;case "D":case "x":Fa+=wa.$strftime("%m/%d/%y");break;case "F":Fa+=wa.$strftime("%Y-%m-%d");break;case "v":Fa+=wa.$strftime("%e-%^b-%4Y");break;case "r":Fa+=wa.$strftime("%I:%M:%S %p");break;case "R":Fa+=wa.$strftime("%H:%M");break;case "T":case "X":Fa+=wa.$strftime("%H:%M:%S");break;default:return Oa}ha&&(Fa=Fa.toUpperCase());ma&&(Fa=Fa.replace(/[A-Z]/,function(z){z.toLowerCase()}).replace(/[a-z]/,
function(z){z.toUpperCase()}));da&&(W||V)&&(Fa=Fa.$rjust(isNaN(Za)?2:Za,V?" ":"0"));return Fa})},Ea.$$arity=1);a.def(h,"$sunday?",Da=function(){return 0==this.$wday()},Da.$$arity=0);a.def(h,"$thursday?",Ra=function(){return 4==this.$wday()},Ra.$$arity=0);a.def(h,"$to_a",Pa=function(){return[this.$sec(),this.$min(),this.$hour(),this.$day(),this.$month(),this.$year(),this.$wday(),this.$yday(),this.$isdst(),this.$zone()]},Pa.$$arity=0);a.def(h,"$to_f",La=function(){return this.getTime()/1E3},La.$$arity=
0);a.def(h,"$to_i",kb=function(){return parseInt(this.getTime()/1E3,10)},kb.$$arity=0);a.alias(h,"to_s","inspect");a.def(h,"$tuesday?",lb=function(){return 2==this.$wday()},lb.$$arity=0);a.alias(h,"tv_sec","to_i");a.alias(h,"tv_usec","usec");a.alias(h,"utc?","gmt?");a.alias(h,"gmtoff","gmt_offset");a.alias(h,"utc_offset","gmt_offset");a.def(h,"$wday",va=function(){return this.is_utc?this.getUTCDay():this.getDay()},va.$$arity=0);a.def(h,"$wednesday?",Na=function(){return 3==this.$wday()},Na.$$arity=
0);a.def(h,"$year",Sa=function(){return this.is_utc?this.getUTCFullYear():this.getFullYear()},Sa.$$arity=0);return(a.def(h,"$cweek_cyear",db=function(){var Aa=d,wa=d;var Oa=C(K,"Time").$new(this.$year(),1,1).$wday();var Va=this.$year();f(f(Aa=r(Oa,4))?Oa["$!="](0):Aa)?Oa=q(Oa,1):(Oa=q(q(Oa,7),1),Oa["$=="](-8)&&(Oa=-1));Oa=I(u(this.$yday(),Oa),7).$ceil();if(f(r(Oa,0)))return C(K,"Time").$new(q(this.$year(),1),12,31).$cweek_cyear();Oa["$=="](53)&&(Aa=C(K,"Time").$new(this.$year(),12,31),Aa=Aa.$wday(),
f(f(wa=r(Aa,3))?Aa["$!="](0):wa)&&(Oa=1,Va=u(Va,1)));return[Oa,Va]},db.$$arity=0),d)&&"cweek_cyear"}(p[0],Date,p)};
Opal.modules["corelib/struct"]=function(a){function u(n,L){return"number"===typeof n&&"number"===typeof L?n>L:n["$>"](L)}function I(n,L){return"number"===typeof n&&"number"===typeof L?n-L:n["$-"](L)}function q(n,L){return"number"===typeof n&&"number"===typeof L?n<L:n["$<"](L)}function r(n,L){return"number"===typeof n&&"number"===typeof L?n>=L:n["$>="](L)}function x(n,L){return"number"===typeof n&&"number"===typeof L?n+L:n["$+"](L)}var p=a.top,d=[],C=a.nil,A=a.$$,e=a.klass,f=a.hash2,F=a.truthy,c=a.send;
a.add_stubs("$require $include $const_name! $unshift $map $coerce_to! $new $each $define_struct_attribute $allocate $initialize $alias_method $module_eval $to_proc $const_set $== $raise $<< $members $define_method $instance_eval $class $last $> $length $- $keys $any? $join $[] $[]= $each_with_index $hash $=== $< $-@ $size $>= $include? $to_sym $instance_of? $__id__ $eql? $enum_for $name $+ $each_pair $inspect $to_h $args $each_with_object $flatten $to_a $respond_to? $dig".split(" "));p.$require("corelib/enumerable");
return function(n,$super,g){n=e(n,$super,"Struct");var h=[n].concat(g),K,D,Q,ja,ca,la,b,l,m,v,B,E,H,J,Z,ta,Ka,ua,ya,Ia;n.$include(A(h,"Enumerable"));a.defs(n,"$new",K=function(na,P,ra){var Y=K.$$p,ia=Y||C,X,R;var T=C;Y&&(K.$$p=null);Y&&(K.$$p=null);var sa=a.slice.call(arguments,1,arguments.length);T=a.extract_kwargs(sa);if(null==T)T=f([],{});else if(!T.$$is_hash)throw a.ArgumentError.$new("expected kwargs");Y=T.$$smap.keyword_init;null==Y&&(Y=!1);if(F(na))try{na=A(h,"Opal")["$const_name!"](na)}catch(Ca){if(a.rescue(Ca,
[A(h,"TypeError"),A(h,"NameError")]))try{sa.$unshift(na),na=C}finally{a.pop_exception()}else throw Ca;}c(sa,"map",[],(X=function(Ca){null==Ca&&(Ca=C);return A(h,"Opal")["$coerce_to!"](Ca,A(h,"String"),"to_str")},X.$$s=this,X.$$arity=1,X));T=c(A(h,"Class"),"new",[this],(R=function(){var Ca=null==R.$$s?this:R.$$s,ka;c(sa,"each",[],(ka=function(xa){var Ea=null==ka.$$s?this:ka.$$s;null==xa&&(xa=C);return Ea.$define_struct_attribute(xa)},ka.$$s=Ca,ka.$$arity=1,ka));return function(xa,Ea){[xa].concat(Ea);
var Da;a.def(xa,"$new",Da=function(Ra){var Pa=a.slice.call(arguments,0,arguments.length);var La=this.$allocate();La.$$data={};c(La,"initialize",a.to_a(Pa));return La},Da.$$arity=-1);return xa.$alias_method("[]","new")}(a.get_singleton_class(Ca),h)},R.$$s=this,R.$$arity=0,R));F(ia)&&c(T,"module_eval",[],ia.$to_proc());T.$$keyword_init=Y;F(na)&&A(h,"Struct").$const_set(na,T);return T},K.$$arity=-2);a.defs(n,"$define_struct_attribute",D=function(na){var P,ra;this["$=="](A(h,"Struct"))&&this.$raise(A(h,
"ArgumentError"),"you cannot define attributes to the Struct class");this.$members()["$<<"](na);c(this,"define_method",[na],(P=function(){return(null==P.$$s?this:P.$$s).$$data[na]},P.$$s=this,P.$$arity=0,P));return c(this,"define_method",[""+na+"="],(ra=function(Y){var ia=null==ra.$$s?this:ra.$$s;null==Y&&(Y=C);return ia.$$data[na]=Y},ra.$$s=this,ra.$$arity=1,ra))},D.$$arity=1);a.defs(n,"$members",Q=function(){var na=C;null==this.members&&(this.members=C);this["$=="](A(h,"Struct"))&&this.$raise(A(h,
"ArgumentError"),"the Struct class has no members");return this.members=F(na=this.members)?na:[]},Q.$$arity=0);a.defs(n,"$inherited",ja=function(na){var P,ra=C;null==this.members&&(this.members=C);ra=this.members;return c(na,"instance_eval",[],(P=function(){return(null==P.$$s?this:P.$$s).members=ra},P.$$s=this,P.$$arity=0,P))},ja.$$arity=1);a.def(n,"$initialize",ca=function(na){var P,ra,Y=C,ia=C,X=C,R=C;var T=a.slice.call(arguments,0,arguments.length);if(F(this.$class().$$keyword_init))return Y=F(ia=
T.$last())?ia:f([],{}),F(F(X=u(T.$length(),1))?X:1===T.length&&!Y.$$is_hash)&&this.$raise(A(h,"ArgumentError"),"wrong number of arguments (given "+T.$length()+", expected 0)"),R=I(Y.$keys(),this.$class().$members()),F(R["$any?"]())&&this.$raise(A(h,"ArgumentError"),"unknown keywords: "+R.$join(", ")),c(this.$class().$members(),"each",[],(P=function(sa){var Ca=null==P.$$s?this:P.$$s;null==sa&&(sa=C);sa=[sa,Y["$[]"](sa)];c(Ca,"[]=",a.to_a(sa));return sa[I(sa.length,1)]},P.$$s=this,P.$$arity=1,P));F(u(T.$length(),
this.$class().$members().$length()))&&this.$raise(A(h,"ArgumentError"),"struct size differs");return c(this.$class().$members(),"each_with_index",[],(ra=function(sa,Ca){var ka=null==ra.$$s?this:ra.$$s;null==sa&&(sa=C);null==Ca&&(Ca=C);sa=[sa,T["$[]"](Ca)];c(ka,"[]=",a.to_a(sa));return sa[I(sa.length,1)]},ra.$$s=this,ra.$$arity=2,ra))},ca.$$arity=-1);a.def(n,"$initialize_copy",la=function(na){this.$$data={};var P=Object.keys(na.$$data),ra;var Y=0;for(ra=P.length;Y<ra;Y++){var ia=P[Y];this.$$data[ia]=
na.$$data[ia]}},la.$$arity=1);a.def(n,"$members",b=function(){return this.$class().$members()},b.$$arity=0);a.def(n,"$hash",l=function(){return A(h,"Hash").$new(this.$$data).$hash()},l.$$arity=0);a.def(n,"$[]",m=function(na){F(A(h,"Integer")["$==="](na))?(F(q(na,this.$class().$members().$size()["$-@"]()))&&this.$raise(A(h,"IndexError"),"offset "+na+" too small for struct(size:"+this.$class().$members().$size()+")"),F(r(na,this.$class().$members().$size()))&&this.$raise(A(h,"IndexError"),"offset "+
na+" too large for struct(size:"+this.$class().$members().$size()+")"),na=this.$class().$members()["$[]"](na)):F(A(h,"String")["$==="](na))?this.$$data.hasOwnProperty(na)||this.$raise(A(h,"NameError").$new("no member '"+na+"' in struct",na)):this.$raise(A(h,"TypeError"),"no implicit conversion of "+na.$class()+" into Integer");na=A(h,"Opal")["$coerce_to!"](na,A(h,"String"),"to_str");return this.$$data[na]},m.$$arity=1);a.def(n,"$[]=",v=function(na,P){F(A(h,"Integer")["$==="](na))?(F(q(na,this.$class().$members().$size()["$-@"]()))&&
this.$raise(A(h,"IndexError"),"offset "+na+" too small for struct(size:"+this.$class().$members().$size()+")"),F(r(na,this.$class().$members().$size()))&&this.$raise(A(h,"IndexError"),"offset "+na+" too large for struct(size:"+this.$class().$members().$size()+")"),na=this.$class().$members()["$[]"](na)):F(A(h,"String")["$==="](na))?F(this.$class().$members()["$include?"](na.$to_sym()))||this.$raise(A(h,"NameError").$new("no member '"+na+"' in struct",na)):this.$raise(A(h,"TypeError"),"no implicit conversion of "+
na.$class()+" into Integer");na=A(h,"Opal")["$coerce_to!"](na,A(h,"String"),"to_str");return this.$$data[na]=P},v.$$arity=2);a.def(n,"$==",B=function(na){function P(ia,X){var R;ra[ia.$__id__()]=!0;Y[X.$__id__()]=!0;for(R in ia.$$data){var T=ia.$$data[R];var sa=X.$$data[R];if(A(h,"Struct")["$==="](T)){if(!(ra.hasOwnProperty(T.$__id__())&&Y.hasOwnProperty(sa.$__id__())||P(T,sa)))return!1}else if(!T["$=="](sa))return!1}return!0}if(!F(na["$instance_of?"](this.$class())))return!1;var ra={},Y={};return P(this,
na)},B.$$arity=1);a.def(n,"$eql?",E=function(na){function P(ia,X){var R;ra[ia.$__id__()]=!0;Y[X.$__id__()]=!0;for(R in ia.$$data){var T=ia.$$data[R];var sa=X.$$data[R];if(A(h,"Struct")["$==="](T)){if(!(ra.hasOwnProperty(T.$__id__())&&Y.hasOwnProperty(sa.$__id__())||P(T,sa)))return!1}else if(!T["$eql?"](sa))return!1}return!0}if(!F(na["$instance_of?"](this.$class())))return!1;var ra={},Y={};return P(this,na)},E.$$arity=1);a.def(n,"$each",H=function(){var na,P,ra=H.$$p,Y=ra||C;ra&&(H.$$p=null);if(Y===
C)return c(this,"enum_for",["each"],(na=function(){return(null==na.$$s?this:na.$$s).$size()},na.$$s=this,na.$$arity=0,na));c(this.$class().$members(),"each",[],(P=function(ia){var X=null==P.$$s?this:P.$$s;null==ia&&(ia=C);return a.yield1(Y,X["$[]"](ia))},P.$$s=this,P.$$arity=1,P));return this},H.$$arity=0);a.def(n,"$each_pair",J=function(){var na,P,ra=J.$$p,Y=ra||C;ra&&(J.$$p=null);if(Y===C)return c(this,"enum_for",["each_pair"],(na=function(){return(null==na.$$s?this:na.$$s).$size()},na.$$s=this,
na.$$arity=0,na));c(this.$class().$members(),"each",[],(P=function(ia){var X=null==P.$$s?this:P.$$s;null==ia&&(ia=C);return a.yield1(Y,[ia,X["$[]"](ia)])},P.$$s=this,P.$$arity=1,P));return this},J.$$arity=0);a.def(n,"$length",Z=function(){return this.$class().$members().$length()},Z.$$arity=0);a.alias(n,"size","length");a.def(n,"$to_a",ta=function(){var na;return c(this.$class().$members(),"map",[],(na=function(P){var ra=null==na.$$s?this:na.$$s;null==P&&(P=C);return ra["$[]"](P)},na.$$s=this,na.$$arity=
1,na))},ta.$$arity=0);a.alias(n,"values","to_a");a.def(n,"$inspect",Ka=function(){var na,P=C,ra=C;P="#<struct ";F(F(ra=A(h,"Struct")["$==="](this))?this.$class().$name():ra)&&(P=x(P,""+this.$class()+" "));P=x(P,c(this.$each_pair(),"map",[],(na=function(Y,ia){null==Y&&(Y=C);null==ia&&(ia=C);return""+Y+"="+ia.$inspect()},na.$$s=this,na.$$arity=2,na)).$join(", "));return P=x(P,">")},Ka.$$arity=0);a.alias(n,"to_s","inspect");a.def(n,"$to_h",ua=function(){var na=ua.$$p,P=na||C,ra;na&&(ua.$$p=null);na&&
(ua.$$p=null);return P!==C?c(c(this,"map",[],P.$to_proc()),"to_h",a.to_a(this.$args())):c(this.$class().$members(),"each_with_object",[f([],{})],(ra=function(Y,ia){var X=null==ra.$$s?this:ra.$$s;null==Y&&(Y=C);null==ia&&(ia=C);Y=[Y,X["$[]"](Y)];c(ia,"[]=",a.to_a(Y));return Y[I(Y.length,1)]},ra.$$s=this,ra.$$arity=2,ra))},ua.$$arity=0);a.def(n,"$values_at",ya=function(na){var P;var ra=a.slice.call(arguments,0,arguments.length);ra=c(ra,"map",[],(P=function(X){null==X&&(X=C);return X.$$is_range?X.$to_a():
X},P.$$s=this,P.$$arity=1,P)).$flatten();P=[];for(var Y=0,ia=ra.length;Y<ia;Y++)ra[Y].$$is_number||this.$raise(A(h,"TypeError"),"no implicit conversion of "+ra[Y].$class()+" into Integer"),P.push(this["$[]"](ra[Y]));return P},ya.$$arity=-1);return(a.def(n,"$dig",Ia=function(na,P){var ra=a.slice.call(arguments,1,arguments.length);var Y=F(na.$$is_string&&this.$$data.hasOwnProperty(na))?this.$$data[na]||C:C;if(Y===C||0===ra.length)return Y;F(Y["$respond_to?"]("dig"))||this.$raise(A(h,"TypeError"),""+
Y.$class()+" does not have #dig method");return c(Y,"dig",a.to_a(ra))},Ia.$$arity=-2),C)&&"dig"}(d[0],null,d)};Opal.modules["corelib/main"]=function(a){var u,I,q=a.top,r=[],x=a.nil,p=a.$$;a.add_stubs(["$include"]);a.defs(q,"$to_s",u=function(){return"main"},u.$$arity=0);return(a.defs(q,"$include",I=function(d){return p(r,"Object").$include(d)},I.$$arity=1),x)&&"include"};
Opal.modules["corelib/dir"]=function(a){var u=[],I=a.nil,q=a.$$,r=a.klass,x=a.truthy;a.add_stubs(["$[]"]);return function(p,$super,C){p=r(p,$super,"Dir");C=[p].concat(C);return function(A,e){var f=[A].concat(e),F,c,n;a.def(A,"$chdir",F=function(L){var g=F.$$p,h=g||I,K=I;g&&(F.$$p=null);a:{try{K=a.current_dir;a.current_dir=L;var D=a.yieldX(h,[]);break a}finally{a.current_dir=K}D=void 0}return D},F.$$arity=1);a.def(A,"$pwd",c=function(){return a.current_dir||"."},c.$$arity=0);a.alias(A,"getwd","pwd");
return(a.def(A,"$home",n=function(){var L;return x(L=q(f,"ENV")["$[]"]("HOME"))?L:"."},n.$$arity=0),I)&&"home"}(a.get_singleton_class(p),C)}(u[0],null,u)};
Opal.modules["corelib/file"]=function(a){function u(A,e){return"number"===typeof A&&"number"===typeof e?A+e:A["$+"](e)}var I=[],q=a.nil,r=a.$$,x=a.truthy,p=a.klass,d=a.range,C=a.send;a.add_stubs("$respond_to? $to_path $pwd $split $sub $+ $unshift $join $home $raise $start_with? $absolute_path $coerce_to! $basename $empty? $rindex $[] $nil? $== $- $length $gsub $find $=~ $map $each_with_index $flatten $reject $to_proc $end_with?".split(" "));return function(A,$super,f){A=p(A,$super,"File");f=[A].concat(f);
var F=q;a.const_set(f[0],"Separator",a.const_set(f[0],"SEPARATOR","/"));a.const_set(f[0],"ALT_SEPARATOR",q);a.const_set(f[0],"PATH_SEPARATOR",":");a.const_set(f[0],"FNM_SYSCASE",0);F=/^[a-zA-Z]:(?:\\|\/)/;return function(c,n){function L(v){x(v["$respond_to?"]("to_path"))&&(v=v.$to_path());return v=r(h,"Opal")["$coerce_to!"](v,r(h,"String"),"to_str")}function g(){return r(h,"ALT_SEPARATOR")===q?a.escape_regexp(r(h,"SEPARATOR")):a.escape_regexp(u(r(h,"SEPARATOR"),r(h,"ALT_SEPARATOR")))}var h=[c].concat(n),
K,D,Q,ja,ca,la,b,l,m;a.def(c,"$absolute_path",K=function(v,B){var E=q;null==B&&(B=q);var H=r(h,"SEPARATOR");var J=g();var Z=[];v=x(v["$respond_to?"]("to_path"))?v.$to_path():v;B=x(E=B)?E:r(h,"Dir").$pwd();E=v.substr(0,H.length)===H||F.test(v);var ta=B.substr(0,H.length)===H||F.test(B);x(E)?(E=v.$split(a.regexp(["[",J,"]"])),v=F.test(v)?"":v.$sub(a.regexp(["^([",J,"]+).*$"]),"\\1"),B=!0):(E=u(B.$split(a.regexp(["[",J,"]"])),v.$split(a.regexp(["[",J,"]"]))),v=F.test(B)?"":B.$sub(a.regexp(["^([",J,"]+).*$"]),
"\\1"),B=ta);ta=0;for(var Ka=E.length;ta<Ka;ta++)J=E[ta],J===q||""===J&&(0===Z.length||B)||"."===J&&(0===Z.length||B)||(".."===J?Z.pop():Z.push(J));B||"."===E[0]||Z.$unshift(".");H=Z.$join(H);x(B)&&(H=u(v,H));return H},K.$$arity=-2);a.def(c,"$expand_path",D=function(v,B){null==B&&(B=q);var E=r(h,"SEPARATOR");var H=g();if(x("~"===v[0]||B&&"~"===B[0])){var J=r(h,"Dir").$home();x(J)||this.$raise(r(h,"ArgumentError"),"couldn't find HOME environment -- expanding `~'");H=F.test(J)?"":J.$sub(a.regexp(["^([",
H,"]+).*$"]),"\\1");x(J["$start_with?"](H))||this.$raise(r(h,"ArgumentError"),"non-absolute home");J=u(J,E);E=a.regexp(["^\\~(?:",E,"|$)"]);v=v.$sub(E,J);x(B)&&(B=B.$sub(E,J))}return this.$absolute_path(v,B)},D.$$arity=-2);a.alias(c,"realpath","expand_path");a.def(c,"$dirname",Q=function(v){var B=g();v=L(v);var E=v.match(new RegExp("^["+B+"]"));v=v.replace(new RegExp("["+B+"]+$"),"");v=v.replace(new RegExp("[^"+B+"]+$"),"");v=v.replace(new RegExp("["+B+"]+$"),"");return""===v?E?"/":".":v},Q.$$arity=
1);a.def(c,"$basename",ja=function(v,B){null==B&&(B=q);var E=g();v=L(v);if(0==v.length)return v;B=B!==q?r(h,"Opal")["$coerce_to!"](B,r(h,"String"),"to_str"):null;v=v.replace(new RegExp("(.)["+E+"]*$"),"$1");v=v.replace(new RegExp("^(?:.*["+E+"])?([^"+E+"]+)$"),"$1");".*"===B?v=v.replace(/\.[^\.]+$/,""):null!==B&&(B=a.escape_regexp(B),v=v.replace(new RegExp(""+B+"$"),""));return v},ja.$$arity=-2);a.def(c,"$extname",ca=function(v){var B;v=L(v);v=this.$basename(v);if(x(v["$empty?"]()))return"";var E=
v["$[]"](d(1,-1,!1)).$rindex(".");if(!x(B=E["$nil?"]())){B=u(E,1);var H=B["$=="];var J=v.$length();J="number"===typeof J?J-1:J["$-"](1);B=H.call(B,J)}return x(B)?"":v["$[]"](a.Range.$new(u(E,1),-1,!1))},ca.$$arity=1);a.def(c,"$exist?",la=function(v){return null!=a.modules[v]},la.$$arity=1);a.alias(c,"exists?","exist?");a.def(c,"$directory?",b=function(v){var B,E=q;E=q;E=[];for(var H in a.modules)E.push(H);v=v.$gsub(a.regexp(["(^.",r(h,"SEPARATOR"),"+|",r(h,"SEPARATOR"),"+$)"]));return E=C(E,"find",
[],(B=function(J){null==J&&(J=q);return J["$=~"](a.regexp(["^",v]))},B.$$s=this,B.$$arity=1,B))},b.$$arity=1);a.def(c,"$join",l=function(v){var B,E,H=q;var J=a.slice.call(arguments,0,arguments.length);if(x(J["$empty?"]()))return"";H="";J=C(J.$flatten().$each_with_index(),"map",[],(B=function(Z,ta){var Ka=q,ua=q;null==Z&&(Z=q);null==ta&&(ta=q);return x(x(Ka=ta["$=="](0))?Z["$empty?"]():Ka)?r(h,"SEPARATOR"):x(x(ua=J.$length()["$=="](u(ta,1)))?Z["$empty?"]():ua)?r(h,"SEPARATOR"):Z},B.$$s=this,B.$$arity=
2,B));J=C(J,"reject",[],"empty?".$to_proc());C(J,"each_with_index",[],(E=function(Z,ta){var Ka=q,ua=q;null==Z&&(Z=q);null==ta&&(ta=q);ta=J["$[]"](u(ta,1));if(x(ta["$nil?"]()))return H=""+H+Z;x(x(Ka=Z["$end_with?"](r(h,"SEPARATOR")))?ta["$start_with?"](r(h,"SEPARATOR")):Ka)&&(Z=Z.$sub(a.regexp([r(h,"SEPARATOR"),"+$"]),""));return H=x(x(ua=Z["$end_with?"](r(h,"SEPARATOR")))?ua:ta["$start_with?"](r(h,"SEPARATOR")))?""+H+Z:""+H+Z+r(h,"SEPARATOR")},E.$$s=this,E.$$arity=2,E));return H},l.$$arity=-1);return(a.def(c,
"$split",m=function(v){return v.$split(r(h,"SEPARATOR"))},m.$$arity=1),q)&&"split"}(a.get_singleton_class(A),f)}(I[0],r(I,"IO"),I)};
Opal.modules["corelib/process"]=function(a){var u=[],I=a.nil,q=a.$$$,r=a.$$,x=a.klass,p=a.truthy;a.add_stubs("$const_set $size $<< $__register_clock__ $to_f $now $new $[] $raise".split(" "));(function(d,$super,A){d=x(d,$super,"Process");var e=[d].concat(A),f,F,c,n;A=I;d.__clocks__=[];a.defs(d,"$__register_clock__",f=function(g,h){null==this.__clocks__&&(this.__clocks__=I);this.$const_set(g,this.__clocks__.$size());return this.__clocks__["$<<"](h)},f.$$arity=2);d.$__register_clock__("CLOCK_REALTIME",
function(){return Date.now()});A=!1;if(a.global.performance)A=function(){return performance.now()};else if(a.global.process&&process.hrtime){var L=process.hrtime();A=function(){var g=process.hrtime(L);return 1E3*g[0]+(g[1]/1E3|0)/1E3}}p(A)&&d.$__register_clock__("CLOCK_MONOTONIC",A);a.defs(d,"$pid",F=function(){return 0},F.$$arity=0);a.defs(d,"$times",c=function(){var g=r(e,"Time").$now().$to_f();return q(r(e,"Benchmark"),"Tms").$new(g,g,g,g,g)},c.$$arity=0);return(a.defs(d,"$clock_gettime",n=function(g,
h){var K,D;null==this.__clocks__&&(this.__clocks__=I);null==h&&(h="float_second");p(K=D=this.__clocks__["$[]"](g))?K:this.$raise(q(r(e,"Errno"),"EINVAL"),"clock_gettime("+g+") "+this.__clocks__["$[]"](g));g=D();switch(h){case "float_second":return g/1E3;case "float_millisecond":return g/1;case "float_microsecond":return 1E3*g;case "second":return g/1E3|0;case "millisecond":return g/1|0;case "microsecond":return 1E3*g|0;case "nanosecond":return 1E6*g|0;default:this.$raise(r(e,"ArgumentError"),"unexpected unit: "+
h)}},n.$$arity=-2),I)&&"clock_gettime"})(u[0],null,u);(function(d,$super,A){d=x(d,$super,"Signal");[d].concat(A);var e;return(a.defs(d,"$trap",e=function(f){a.slice.call(arguments,0,arguments.length);return I},e.$$arity=-1),I)&&"trap"})(u[0],null,u);return function(d,$super,A){d=x(d,$super,"GC");[d].concat(A);var e;return(a.defs(d,"$start",e=function(){return I},e.$$arity=0),I)&&"start"}(u[0],null,u)};
Opal.modules["corelib/random"]=function(a){var u=[],I=a.nil,q=a.$$,r=a.klass,x=a.truthy,p=a.send;a.add_stubs("$attr_reader $new_seed $coerce_to! $reseed $rand $seed $< $raise $encode $join $new $chr $=== $== $state $const_defined? $const_set".split(" "));return function(d,$super,A){d=r(d,$super,"Random");var e=[d].concat(A),f,F,c,n,L,g,h,K,D,Q;d.$attr_reader("seed","state");a.def(d,"$initialize",f=function(ja){null==ja&&(ja=q(e,"Random").$new_seed());this.state=ja=q(e,"Opal")["$coerce_to!"](ja,q(e,
"Integer"),"to_int");return this.$reseed(ja)},f.$$arity=-1);a.def(d,"$reseed",F=function(ja){this.seed=ja;return this.$rng=a.$$rand.reseed(ja)},F.$$arity=1);a.defs(d,"$new_seed",c=function(){return a.$$rand.new_seed()},c.$$arity=0);a.defs(d,"$rand",n=function(ja){return q(e,"DEFAULT").$rand(ja)},n.$$arity=-1);a.defs(d,"$srand",L=function(ja){null==ja&&(ja=q(e,"Random").$new_seed());ja=q(e,"Opal")["$coerce_to!"](ja,q(e,"Integer"),"to_int");var ca=q(e,"DEFAULT").$seed();q(e,"DEFAULT").$reseed(ja);return ca},
L.$$arity=-1);a.defs(d,"$urandom",g=function(ja){var ca;ja=q(e,"Opal")["$coerce_to!"](ja,q(e,"Integer"),"to_int");x("number"===typeof ja?0>ja:ja["$<"](0))&&this.$raise(q(e,"ArgumentError"),"negative string size (or size too big)");return p(q(e,"Array"),"new",[ja],(ca=function(){return(null==ca.$$s?this:ca.$$s).$rand(255).$chr()},ca.$$s=this,ca.$$arity=0,ca)).$join().$encode("ASCII-8BIT")},g.$$arity=1);a.def(d,"$==",h=function(ja){var ca;return x(q(e,"Random")["$==="](ja))?x(ca=this.$seed()["$=="](ja.$seed()))?
this.$state()["$=="](ja.$state()):ca:!1},h.$$arity=1);a.def(d,"$bytes",K=function(ja){var ca;ja=q(e,"Opal")["$coerce_to!"](ja,q(e,"Integer"),"to_int");return p(q(e,"Array"),"new",[ja],(ca=function(){return(null==ca.$$s?this:ca.$$s).$rand(255).$chr()},ca.$$s=this,ca.$$arity=0,ca)).$join().$encode("ASCII-8BIT")},K.$$arity=1);a.def(d,"$rand",D=function(ja){function ca(){b.state++;return a.$$rand.rand(b.$rng)}function la(){var l=ja.begin,m=ja.end;if(l===I||m===I)return I;var v=m-l;if(0>v)return I;if(0===
v)return l;0!==m%1||0!==l%1||ja.excl||v++;return b.$rand(v)+l}var b=this;if(null==ja)return ca();if(ja.$$is_range)return la();if(ja.$$is_number)return 0>=ja&&b.$raise(q(e,"ArgumentError"),"invalid argument - "+ja),0===ja%1?Math.floor(ca()*ja):ca()*ja;ja=q(e,"Opal")["$coerce_to!"](ja,q(e,"Integer"),"to_int");0>=ja&&b.$raise(q(e,"ArgumentError"),"invalid argument - "+ja);return Math.floor(ca()*ja)},D.$$arity=-1);return(a.defs(d,"$generator=",Q=function(ja){a.$$rand=ja;return x(this["$const_defined?"]("DEFAULT"))?
q(e,"DEFAULT").$reseed():this.$const_set("DEFAULT",this.$new(this.$new_seed()))},Q.$$arity=1),I)&&"generator="}(u[0],null,u)};
Opal.modules["corelib/random/mersenne_twister"]=function(a){function u(C,A){return"number"===typeof C&&"number"===typeof A?C-A:C["$-"](A)}var I=[],q=a.nil,r=a.$$,x=a.klass,p=a.send,d=q;a.add_stubs(["$generator=","$-"]);d=function(){function C(e,f){return(e&2147483648|f&2147483647)>>>1^(f&1?2567483615:0)}function A(e){if(0>=--e.left){var f=0,F=e.state,c;e.left=624;e.next=0;for(c=228;--c;f++)F[f]=F[f+397]^C(F[f+0],F[f+1]);for(c=397;--c;f++)F[f]=F[f+-227]^C(F[f+0],F[f+1]);F[f]=F[f+-227]^C(F[f+0],F[0])}e=
e.state[e.next++];e^=e>>>11;e^=e<<7&2636928640;e^=e<<15&4022730752;return(e^e>>>18)>>>0}return{genrand_real:function(e){var f=A(e);e=A(e);return 1.1102230246251565E-16*(67108864*(f>>>5)+(e>>>6))},init:function(e){var f={left:0,next:624,state:Array(624)};f.state[0]=e>>>0;for(e=1;624>e;e++)f.state[e]=1812433253*(f.state[e-1]^f.state[e-1]>>30>>>0)+e,f.state[e]&=4294967295;f.left=1;f.next=624;return f}}}();return function(C,$super,e){C=x(C,$super,"Random");e=[C].concat(e);var f=q,F=Number.MAX_SAFE_INTEGER||
Math.pow(2,53)-1;a.const_set(e[0],"MERSENNE_TWISTER_GENERATOR",{new_seed:function(){return Math.round(Math.random()*F)},reseed:function(c){return d.init(c)},rand:function(c){return d.genrand_real(c)}});f=[r(e,"MERSENNE_TWISTER_GENERATOR")];p(C,"generator=",a.to_a(f));return f[u(f.length,1)]}(I[0],null,I)};
Opal.modules["corelib/unsupported"]=function(a){function u(f){switch(a.config.unsupported_features_severity){case "error":d(x,"Kernel").$raise(d(x,"NotImplementedError"),f);break;case "warning":e[f]||(e[f]=!0,r.$warn(f))}}var I,q,r=a.top,x=[],p=a.nil,d=a.$$,C=a.klass,A=a.module;a.add_stubs(["$raise","$warn","$%"]);var e={};(function(f,$super,c){f=C(f,$super,"String");var n=[f].concat(c),L,g,h,K,D,Q,ja,ca,la,b,l,m,v,B,E,H,J,Z,ta,Ka,ua,ya,Ia;a.def(f,"$<<",L=function(na){a.slice.call(arguments,0,arguments.length);
return this.$raise(d(n,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("<<"))},L.$$arity=-1);a.def(f,"$capitalize!",g=function(na){a.slice.call(arguments,0,arguments.length);return this.$raise(d(n,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("capitalize!"))},g.$$arity=-1);a.def(f,"$chomp!",h=function(na){a.slice.call(arguments,0,arguments.length);return this.$raise(d(n,"NotImplementedError"),
"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("chomp!"))},h.$$arity=-1);a.def(f,"$chop!",K=function(na){a.slice.call(arguments,0,arguments.length);return this.$raise(d(n,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("chop!"))},K.$$arity=-1);a.def(f,"$downcase!",D=function(na){a.slice.call(arguments,0,arguments.length);return this.$raise(d(n,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("downcase!"))},
D.$$arity=-1);a.def(f,"$gsub!",Q=function(na){a.slice.call(arguments,0,arguments.length);return this.$raise(d(n,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("gsub!"))},Q.$$arity=-1);a.def(f,"$lstrip!",ja=function(na){a.slice.call(arguments,0,arguments.length);return this.$raise(d(n,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("lstrip!"))},ja.$$arity=-1);a.def(f,"$next!",ca=function(na){a.slice.call(arguments,
0,arguments.length);return this.$raise(d(n,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("next!"))},ca.$$arity=-1);a.def(f,"$reverse!",la=function(na){a.slice.call(arguments,0,arguments.length);return this.$raise(d(n,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("reverse!"))},la.$$arity=-1);a.def(f,"$slice!",b=function(na){a.slice.call(arguments,0,arguments.length);return this.$raise(d(n,
"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("slice!"))},b.$$arity=-1);a.def(f,"$squeeze!",l=function(na){a.slice.call(arguments,0,arguments.length);return this.$raise(d(n,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("squeeze!"))},l.$$arity=-1);a.def(f,"$strip!",m=function(na){a.slice.call(arguments,0,arguments.length);return this.$raise(d(n,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("strip!"))},
m.$$arity=-1);a.def(f,"$sub!",v=function(na){a.slice.call(arguments,0,arguments.length);return this.$raise(d(n,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("sub!"))},v.$$arity=-1);a.def(f,"$succ!",B=function(na){a.slice.call(arguments,0,arguments.length);return this.$raise(d(n,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("succ!"))},B.$$arity=-1);a.def(f,"$swapcase!",E=function(na){a.slice.call(arguments,
0,arguments.length);return this.$raise(d(n,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("swapcase!"))},E.$$arity=-1);a.def(f,"$tr!",H=function(na){a.slice.call(arguments,0,arguments.length);return this.$raise(d(n,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("tr!"))},H.$$arity=-1);a.def(f,"$tr_s!",J=function(na){a.slice.call(arguments,0,arguments.length);return this.$raise(d(n,
"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("tr_s!"))},J.$$arity=-1);a.def(f,"$upcase!",Z=function(na){a.slice.call(arguments,0,arguments.length);return this.$raise(d(n,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("upcase!"))},Z.$$arity=-1);a.def(f,"$prepend",ta=function(na){a.slice.call(arguments,0,arguments.length);return this.$raise(d(n,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("prepend"))},
ta.$$arity=-1);a.def(f,"$[]=",Ka=function(na){a.slice.call(arguments,0,arguments.length);return this.$raise(d(n,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("[]="))},Ka.$$arity=-1);a.def(f,"$clear",ua=function(na){a.slice.call(arguments,0,arguments.length);return this.$raise(d(n,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("clear"))},ua.$$arity=-1);a.def(f,"$encode!",ya=function(na){a.slice.call(arguments,
0,arguments.length);return this.$raise(d(n,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("encode!"))},ya.$$arity=-1);return(a.def(f,"$unicode_normalize!",Ia=function(na){a.slice.call(arguments,0,arguments.length);return this.$raise(d(n,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("unicode_normalize!"))},Ia.$$arity=-1),p)&&"unicode_normalize!"})(x[0],null,x);(function(f,F){f=A(f,
"Kernel");[f].concat(F);var c,n;a.def(f,"$freeze",c=function(){u("Object freezing is not supported by Opal");return this},c.$$arity=0);a.def(f,"$frozen?",n=function(){u("Object freezing is not supported by Opal");return!1},n.$$arity=0)})(x[0],x);(function(f,F){f=A(f,"Kernel");[f].concat(F);var c,n,L;a.def(f,"$taint",c=function(){u("Object tainting is not supported by Opal");return this},c.$$arity=0);a.def(f,"$untaint",n=function(){u("Object tainting is not supported by Opal");return this},n.$$arity=
0);a.def(f,"$tainted?",L=function(){u("Object tainting is not supported by Opal");return!1},L.$$arity=0)})(x[0],x);(function(f,$super,c){f=C(f,$super,"Module");[f].concat(c);var n,L,g,h;a.def(f,"$public",n=function(K){0===a.slice.call(arguments,0,arguments.length).length&&(this.$$module_function=!1);return p},n.$$arity=-1);a.alias(f,"private","public");a.alias(f,"protected","public");a.alias(f,"nesting","public");a.def(f,"$private_class_method",L=function(K){a.slice.call(arguments,0,arguments.length);
return this},L.$$arity=-1);a.alias(f,"public_class_method","private_class_method");a.def(f,"$private_method_defined?",g=function(){return!1},g.$$arity=1);a.def(f,"$private_constant",h=function(K){a.slice.call(arguments,0,arguments.length);return p},h.$$arity=-1);a.alias(f,"protected_method_defined?","private_method_defined?");a.alias(f,"public_instance_methods","instance_methods");a.alias(f,"public_instance_method","instance_method");return a.alias(f,"public_method_defined?","method_defined?")})(x[0],
null,x);(function(f,F){f=A(f,"Kernel");[f].concat(F);var c;a.def(f,"$private_methods",c=function(n){a.slice.call(arguments,0,arguments.length);return[]},c.$$arity=-1);a.alias(f,"private_instance_methods","private_methods")})(x[0],x);(function(f,F){f=A(f,"Kernel");var c=[f].concat(F),n;a.def(f,"$eval",n=function(L){a.slice.call(arguments,0,arguments.length);return this.$raise(d(c,"NotImplementedError"),"To use Kernel#eval, you must first require 'opal-parser'. See https://github.com/opal/opal/blob/"+
(d(c,"RUBY_ENGINE_VERSION")+"/docs/opal_parser.md for details."))},n.$$arity=-1)})(x[0],x);a.defs(r,"$public",I=function(f){a.slice.call(arguments,0,arguments.length);return p},I.$$arity=-1);return(a.defs(r,"$private",q=function(f){a.slice.call(arguments,0,arguments.length);return p},q.$$arity=-1),p)&&"private"};var rb=Opal.top;Opal.add_stubs(["$require"]);rb.$require("opal/base");rb.$require("opal/mini");rb.$require("corelib/kernel/format");rb.$require("corelib/string/encoding");rb.$require("corelib/math");
rb.$require("corelib/complex");rb.$require("corelib/rational");rb.$require("corelib/time");rb.$require("corelib/struct");rb.$require("corelib/io");rb.$require("corelib/main");rb.$require("corelib/dir");rb.$require("corelib/file");rb.$require("corelib/process");rb.$require("corelib/random");rb.$require("corelib/random/mersenne_twister");rb.$require("corelib/unsupported");
Opal.modules.json=function(a){function u(f,F){return"number"===typeof f&&"number"===typeof F?f-F:f["$-"](F)}var I=[],q=a.nil,r=a.$$$,x=a.$$,p=a.module,d=a.klass,C=a.send,A=a.hash2,e=a.truthy;a.add_stubs("$raise $new $push $[]= $- $[] $create_id $json_create $const_get $attr_accessor $create_id= $=== $parse $generate $from_object $merge $to_json $responds_to? $to_io $write $to_s $to_a $strftime".split(" "));(function(f,F){function c(m){try{return JSON.parse(m)}catch(v){L.$raise(r(x(g,"JSON"),"ParserError"),
v.message)}}function n(m,v){var B;switch(typeof m){case "string":return m;case "number":return m;case "boolean":return!!m;case "null":return q;case "object":if(!m)return q;if(m.$$is_array){var E=v.array_class.$new();var H=0;for(B=m.length;H<B;H++)E.$push(n(m[H],v));return E}H=v.object_class.$new();for(B in m)l.call(m,B)&&(b=[B,n(m[B],v)],C(H,"[]=",a.to_a(b)),b[u(b.length,1)]);return v.parse||(E=H["$[]"](x(g,"JSON").$create_id()))==q?H:r("::","Object").$const_get(E).$json_create(H)}}var L=p(f,"JSON"),
g=[L].concat(F),h,K,D,Q,ja,ca,la,b=q;(function(m,$super,B){[d(m,$super,"JSONError")].concat(B);return q})(g[0],x(g,"StandardError"),g);(function(m,$super,B){[d(m,$super,"ParserError")].concat(B);return q})(g[0],x(g,"JSONError"),g);var l=a.hasOwnProperty;(function(m,v){[m].concat(v);return m.$attr_accessor("create_id")})(a.get_singleton_class(L),g);b=["json_class"];C(L,"create_id=",a.to_a(b));b[u(b.length,1)];a.defs(L,"$[]",h=function(m,v){null==v&&(v=A([],{}));return e(x(g,"String")["$==="](m))?this.$parse(m,
v):this.$generate(m,v)},h.$$arity=-2);a.defs(L,"$parse",K=function(m,v){null==v&&(v=A([],{}));return this.$from_object(c(m),v.$merge(A(["parse"],{parse:!0})))},K.$$arity=-2);a.defs(L,"$parse!",D=function(m,v){null==v&&(v=A([],{}));return this.$parse(m,v)},D.$$arity=-2);a.defs(L,"$load",Q=function(m,v){null==v&&(v=A([],{}));return this.$from_object(c(m),v)},Q.$$arity=-2);a.defs(L,"$from_object",ja=function(m,v){var B;null==v&&(v=A([],{}));e(B=v["$[]"]("object_class"))?B:(B=["object_class",x(g,"Hash")],
C(v,"[]=",a.to_a(B)),B[u(B.length,1)]);e(B=v["$[]"]("array_class"))?B:(B=["array_class",x(g,"Array")],C(v,"[]=",a.to_a(B)),B[u(B.length,1)]);return n(m,v.$$smap)},ja.$$arity=-2);a.defs(L,"$generate",ca=function(m,v){null==v&&(v=A([],{}));return m.$to_json(v)},ca.$$arity=-2);a.defs(L,"$dump",la=function(m,v){null==v&&(v=q);m=this.$generate(m);return e(v)?(e(v["$responds_to?"]("to_io"))&&(v=v.$to_io()),v.$write(m),v):m},la.$$arity=-2)})(I[0],I);(function(f,$super,c){f=d(f,$super,"Object");[f].concat(c);
var n;return(a.def(f,"$to_json",n=function(){return this.$to_s().$to_json()},n.$$arity=0),q)&&"to_json"})(I[0],null,I);(function(f,F){f=p(f,"Enumerable");[f].concat(F);var c;a.def(f,"$to_json",c=function(){return this.$to_a().$to_json()},c.$$arity=0)})(I[0],I);(function(f,$super,c){f=d(f,$super,"Array");[f].concat(c);var n;return(a.def(f,"$to_json",n=function(){for(var L=[],g=0,h=this.length;g<h;g++)L.push(this[g].$to_json());return"["+L.join(", ")+"]"},n.$$arity=0),q)&&"to_json"})(I[0],null,I);(function(f,
$super,c){f=d(f,$super,"Boolean");[f].concat(c);var n;return(a.def(f,"$to_json",n=function(){return 1==this?"true":"false"},n.$$arity=0),q)&&"to_json"})(I[0],null,I);(function(f,$super,c){f=d(f,$super,"Hash");[f].concat(c);var n;return(a.def(f,"$to_json",n=function(){for(var L=[],g=0,h=this.$$keys,K=h.length,D,Q;g<K;g++)D=h[g],D.$$is_string?Q=this.$$smap[D]:(Q=D.value,D=D.key),L.push(D.$to_s().$to_json()+":"+Q.$to_json());return"{"+L.join(", ")+"}"},n.$$arity=0),q)&&"to_json"})(I[0],null,I);(function(f,
$super,c){f=d(f,$super,"NilClass");[f].concat(c);var n;return(a.def(f,"$to_json",n=function(){return"null"},n.$$arity=0),q)&&"to_json"})(I[0],null,I);(function(f,$super,c){f=d(f,$super,"Numeric");[f].concat(c);var n;return(a.def(f,"$to_json",n=function(){return this.toString()},n.$$arity=0),q)&&"to_json"})(I[0],null,I);(function(f,$super,c){f=d(f,$super,"String");[f].concat(c);return a.alias(f,"to_json","inspect")})(I[0],null,I);(function(f,$super,c){f=d(f,$super,"Time");[f].concat(c);var n;return(a.def(f,
"$to_json",n=function(){return this.$strftime("%FT%T%z").$to_json()},n.$$arity=0),q)&&"to_json"})(I[0],null,I);return function(f,$super,c){f=d(f,$super,"Date");[f].concat(c);var n,L;a.def(f,"$to_json",n=function(){return this.$to_s().$to_json()},n.$$arity=0);return(a.def(f,"$as_json",L=function(){return this.$to_s()},L.$$arity=0),q)&&"as_json"}(I[0],null,I)};
Opal.modules.date=function(a){function u(F,c){return"number"===typeof F&&"number"===typeof c?F+c:F["$+"](c)}function I(F,c){return"number"===typeof F&&"number"===typeof c?F-c:F["$-"](c)}function q(F,c){return"number"===typeof F&&"number"===typeof c?F<c:F["$<"](c)}var r=[],x=a.nil,p=a.$$$,d=a.$$,C=a.klass,A=a.send2,e=a.truthy,f=a.send;a.add_stubs("$include $<=> $attr_reader $nonzero? $d $zero? $new $class $-@ $+@ $=== $coerce $== $> $+ $allocate $join $compact $map $to_proc $downcase $wrap $raise $clone $jd $>> $wday $year $month $day $- $to_s $to_i $< $* $reverse $step $abs $each".split(" "));
return function(F,$super,n){function L(va,Na){return[31,0===va%4&&0!==va%100||0===va%400?29:28,31,30,31,30,31,31,30,31,30,31][Na]}F=C(F,$super,"Date");var g=[F].concat(n),h,K,D,Q,ja,ca,la,b,l,m,v,B,E,H,J,Z,ta,Ka,ua,ya,Ia,na,P,ra,Y,ia,X,R,T,sa,Ca,ka,xa,Ea,Da,Ra,Pa,La,kb,lb;F.$$prototype.date=x;F.$include(d(g,"Comparable"));(function(va,$super,Sa){va=C(va,$super,"Infinity");var db=[va].concat(Sa),jb,fb,gb,ib,Aa,wa,Oa,Va,Za,Fa,aa;va.$$prototype.d=x;va.$include(d(db,"Comparable"));a.def(va,"$initialize",
jb=function(W){null==W&&(W=1);return this.d=W["$<=>"](0)},jb.$$arity=-1);va.$attr_reader("d");a.def(va,"$zero?",fb=function(){return!1},fb.$$arity=0);a.def(va,"$finite?",gb=function(){return!1},gb.$$arity=0);a.def(va,"$infinite?",ib=function(){return this.$d()["$nonzero?"]()},ib.$$arity=0);a.def(va,"$nan?",Aa=function(){return this.$d()["$zero?"]()},Aa.$$arity=0);a.def(va,"$abs",wa=function(){return this.$class().$new()},wa.$$arity=0);a.def(va,"$-@",Oa=function(){return this.$class().$new(this.$d()["$-@"]())},
Oa.$$arity=0);a.def(va,"$+@",Va=function(){return this.$class().$new(this.$d()["$+@"]())},Va.$$arity=0);a.def(va,"$<=>",Za=function(W){var da,V,ha=this,ma=x,k=x,z=x;return function(){ma=W;if(d(db,"Infinity")["$==="](ma))return ha.$d()["$<=>"](W.$d());if(d(db,"Numeric")["$==="](ma))return ha.$d();try{return V=W.$coerce(ha),da=a.to_ary(V),k=null==da[0]?x:da[0],z=null==da[1]?x:da[1],V,k["$<=>"](z)}catch(O){if(a.rescue(O,[d(db,"NoMethodError")]))try{return x}finally{a.pop_exception()}else throw O;}}()},
Za.$$arity=1);a.def(va,"$coerce",Fa=function(W){var da=Fa.$$p,V;da&&(Fa.$$p=null);var ha=0;var ma=arguments.length;for(V=Array(ma);ha<ma;ha++)V[ha]=arguments[ha];da=d(db,"Numeric")["$==="](W)?[this.$d()["$-@"](),this.$d()]:A(this,a.find_super_dispatcher(this,"coerce",Fa,!1,!0),"coerce",V,da);return da},Fa.$$arity=1);return(a.def(va,"$to_f",aa=function(){if(this.d["$=="](0))return 0;var W=this.d;W="number"===typeof W?0<W:W["$>"](0);return e(W)?p(d(db,"Float"),"INFINITY"):p(d(db,"Float"),"INFINITY")["$-@"]()},
aa.$$arity=0),x)&&"to_f"})(g[0],d(g,"Numeric"),g);a.const_set(g[0],"JULIAN",d(g,"Infinity").$new());a.const_set(g[0],"GREGORIAN",d(g,"Infinity").$new()["$-@"]());a.const_set(g[0],"ITALY",2299161);a.const_set(g[0],"ENGLAND",2361222);a.const_set(g[0],"MONTHNAMES",u([x],"January February March April May June July August September October November December".split(" ")));a.const_set(g[0],"ABBR_MONTHNAMES","jan feb mar apr may jun jul aug sep oct nov dec".split(" "));a.const_set(g[0],"DAYNAMES","Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "));
a.const_set(g[0],"ABBR_DAYNAMES","Sun Mon Tue Wed Thu Fri Sat".split(" "));(function(va,Na){var Sa=[va].concat(Na),db,jb,fb,gb;a.alias(va,"civil","new");a.def(va,"$wrap",db=function(ib){var Aa=this.$allocate();Aa.date=ib;return Aa},db.$$arity=1);a.def(va,"$parse",jb=function(ib,Aa){function wa(fa){return fa[1]}function Oa(fa){return fa[2]}function Va(fa){return fa[3]}function Za(fa){return fa[4]}function Fa(fa){return function(w){w=fa(w);return 69<=w?w+1900:w+2E3}}function aa(fa){return function(w){w=
fa(w).toLowerCase();return d(Sa,"ABBR_MONTHNAMES").indexOf(w)+1}}function W(fa){return function(w){w=fa(w);return parseInt(w,10)}}function da(fa){return function(w){w=fa(w);return f(d(Sa,"MONTHNAMES").$compact(),"map",[],"downcase".$to_proc()).indexOf(w.$downcase())+1}}null==Aa&&(Aa=!0);var V=new Date,ha=V.getDate(),ma=V.getMonth(),k=V.getFullYear(),z=V.getDay();V=d(Sa,"MONTHNAMES").$compact().$join("|");V=[{regexp:/^(\d{2})$/,year:k,month:ma,day:W(wa)},{regexp:/^(\d{3})$/,year:k,month:0,day:W(wa)},
{regexp:/^(\d{2})(\d{2})$/,year:k,month:W(wa),day:W(Oa)},{regexp:/^(\d{2})(\d{3})$/,year:Fa(W(wa)),month:0,day:W(Oa)},{regexp:/^(\d{2})(\d{2})(\d{2})$/,year:Fa(W(wa)),month:W(Oa),day:W(Va)},{regexp:/^(\d{4})(\d{3})$/,year:W(wa),month:0,day:W(Oa)},{regexp:/^(\d{4})(\d{2})(\d{2})$/,year:W(wa),month:W(Oa),day:W(Va)},{regexp:/^([a-z]{3})[\s\.\/\-](\d{3,4})$/,year:W(Oa),month:aa(wa),day:1},{regexp:/^(\d{1,2})[\s\.\/\-]([a-z]{3})[\s\.\/\-](\d{3,4})$/i,year:W(Va),month:aa(Oa),day:W(wa)},{regexp:/^([a-z]{3})[\s\.\/\-](\d{1,2})[\s\.\/\-](\d{3,4})$/i,
year:W(Va),month:aa(wa),day:W(Oa)},{regexp:/^(\d{3,4})[\s\.\/\-]([a-z]{3})[\s\.\/\-](\d{1,2})$/i,year:W(wa),month:aa(Oa),day:W(Va)},{regexp:/^(\-?\d{3,4})[\s\.\/\-](\d{1,2})[\s\.\/\-](\d{1,2})$/,year:W(wa),month:W(Oa),day:W(Va)},{regexp:/^(\d{2})[\s\.\/\-](\d{1,2})[\s\.\/\-](\d{1,2})$/,year:function(fa){return function(w){w=fa(w);return Aa?w+2E3:w}}(W(wa)),month:W(Oa),day:W(Va)},{regexp:/^(\d{1,2})[\s\.\/\-](\d{1,2})[\s\.\/\-](\-?\d{3,4})$/,year:W(Va),month:W(Oa),day:W(wa)},{regexp:new RegExp("^("+
d(Sa,"DAYNAMES").$join("|")+")$","i"),year:k,month:ma,day:function(fa){return function(w){w=fa(w);w=f(d(Sa,"DAYNAMES"),"map",[],"downcase".$to_proc()).indexOf(w.$downcase());return ha-z+w}}(wa)},{regexp:new RegExp("^("+V+")[\\s\\.\\/\\-](\\d{1,2})(th|nd|rd)[\\s\\.\\/\\-](\\-?\\d{3,4})$","i"),year:W(Za),month:da(wa),day:W(Oa)},{regexp:new RegExp("^("+V+")[\\s\\.\\/\\-](\\d{1,2})(th|nd|rd)","i"),year:k,month:da(wa),day:W(Oa)},{regexp:new RegExp("^(\\d{1,2})(th|nd|rd)[\\s\\.\\/\\-]("+V+")[\\s\\.\\/\\-](\\-?\\d{3,4})$",
"i"),year:W(Za),month:da(Va),day:W(wa)},{regexp:new RegExp("^(\\-?\\d{3,4})[\\s\\.\\/\\-]("+V+")[\\s\\.\\/\\-](\\d{1,2})(th|nd|rd)$","i"),year:W(wa),month:da(Oa),day:W(Va)}];var O;for(O=0;O<V.length;O++)if(k=V[O],ma=k.regexp.exec(ib))return ib=k.year,"function"===typeof ib&&(ib=ib(ma)),V=k.month,"function"===typeof V&&(V=V(ma)-1),k=k.day,"function"===typeof k&&(k=k(ma)),ma=new Date(ib,V,k),0<=ib&&1970>=ib&&ma.setFullYear(ib),this.$wrap(ma);return this.$raise(d(Sa,"ArgumentError"),"invalid date")},
jb.$$arity=-2);a.def(va,"$today",fb=function(){return this.$wrap(new Date)},fb.$$arity=0);return(a.def(va,"$gregorian_leap?",gb=function(ib){return 0===(new Date(ib,1,29)).getMonth()-1},gb.$$arity=1),x)&&"gregorian_leap?"})(a.get_singleton_class(F),g);a.def(F,"$initialize",h=function(va,Na,Sa,db){null==va&&(va=-4712);null==Na&&(Na=1);null==Sa&&(Sa=1);null==db&&d(g,"ITALY");1582===va&&10===Na&&4<Sa&&15>Sa&&(Sa=4);return this.date=new Date(va,Na-1,Sa)},h.$$arity=-1);a.def(F,"$-",K=function(va){if(va.$$is_number){var Na=
this.$clone();Na.date.setDate(this.date.getDate()-va);return Na}if(va.date)return Math.round((this.date-va.date)/864E5);this.$raise(d(g,"TypeError"))},K.$$arity=1);a.def(F,"$+",D=function(va){if(va.$$is_number){var Na=this.$clone();Na.date.setDate(this.date.getDate()+va);return Na}this.$raise(d(g,"TypeError"))},D.$$arity=1);a.def(F,"$<",Q=function(va){var Na=this.date;va=va.date;Na.setHours(0,0,0,0);va.setHours(0,0,0,0);return Na<va},Q.$$arity=1);a.def(F,"$<=",ja=function(va){var Na=this.date;va=
va.date;Na.setHours(0,0,0,0);va.setHours(0,0,0,0);return Na<=va},ja.$$arity=1);a.def(F,"$>",ca=function(va){var Na=this.date;va=va.date;Na.setHours(0,0,0,0);va.setHours(0,0,0,0);return Na>va},ca.$$arity=1);a.def(F,"$>=",la=function(va){var Na=this.date;va=va.date;Na.setHours(0,0,0,0);va.setHours(0,0,0,0);return Na>=va},la.$$arity=1);a.def(F,"$<=>",b=function(va){if(va.$$is_number)return this.$jd()["$<=>"](va);if(d(g,"Date")["$==="](va)){var Na=this.date;va=va.date;Na.setHours(0,0,0,0);va.setHours(0,
0,0,0);return Na<va?-1:Na>va?1:0}return x},b.$$arity=1);a.def(F,"$>>",l=function(va){va.$$is_number||this.$raise(d(g,"TypeError"));var Na=this.$clone(),Sa=Na.date,db=Sa.getDate();Sa.setDate(1);Sa.setMonth(Sa.getMonth()+va);Sa.setDate(Math.min(db,L(Sa.getFullYear(),Sa.getMonth())));return Na},l.$$arity=1);a.def(F,"$<<",m=function(va){va.$$is_number||this.$raise(d(g,"TypeError"));return this["$>>"](-va)},m.$$arity=1);a.alias(F,"eql?","==");a.def(F,"$clone",v=function(){return d(g,"Date").$wrap(new Date(this.date.getTime()))},
v.$$arity=0);a.def(F,"$day",B=function(){return this.date.getDate()},B.$$arity=0);a.def(F,"$friday?",E=function(){return this.$wday()["$=="](5)},E.$$arity=0);a.def(F,"$jd",H=function(){var va=this.date.getMonth()+1,Na=this.date.getDate(),Sa=this.date.getFullYear();var db=1;1585>=Sa&&(db=0);var jb=-1*Math.floor(7*(Math.floor((va+9)/12)+Sa)/4);var fb=1;0>va-9&&(fb=-1);fb=Math.floor(Sa+fb*Math.floor(Math.abs(va-9)/7));fb=-1*Math.floor(3*(Math.floor(fb/100)+1)/4);jb=jb+Math.floor(275*va/9)+Na+db*fb;return jb+
1721027+2*db+367*Sa-.5+.5},H.$$arity=0);a.def(F,"$julian?",J=function(){return this.date<new Date(1582,9,15,12)},J.$$arity=0);a.def(F,"$monday?",Z=function(){return this.$wday()["$=="](1)},Z.$$arity=0);a.def(F,"$month",ta=function(){return this.date.getMonth()+1},ta.$$arity=0);a.def(F,"$next",Ka=function(){return u(this,1)},Ka.$$arity=0);a.def(F,"$next_day",ua=function(va){null==va&&(va=1);return u(this,va)},ua.$$arity=-1);a.def(F,"$next_month",ya=function(va){null==va&&(va=1);var Na=this.$clone(),
Sa=Na.date,db=Sa.getDate();Sa.setDate(1);Sa.setMonth(Sa.getMonth()+va);Sa.setDate(Math.min(db,L(Sa.getFullYear(),Sa.getMonth())));return Na},ya.$$arity=-1);a.def(F,"$next_year",Ia=function(va){null==va&&(va=1);return this.$class().$new(u(this.$year(),va),this.$month(),this.$day())},Ia.$$arity=-1);a.def(F,"$prev_day",na=function(va){null==va&&(va=1);return I(this,va)},na.$$arity=-1);a.def(F,"$prev_month",P=function(va){null==va&&(va=1);var Na=this.$clone(),Sa=Na.date,db=Sa.getDate();Sa.setDate(1);
Sa.setMonth(Sa.getMonth()-va);Sa.setDate(Math.min(db,L(Sa.getFullYear(),Sa.getMonth())));return Na},P.$$arity=-1);a.def(F,"$prev_year",ra=function(va){null==va&&(va=1);return this.$class().$new(I(this.$year(),va),this.$month(),this.$day())},ra.$$arity=-1);a.def(F,"$saturday?",Y=function(){return this.$wday()["$=="](6)},Y.$$arity=0);a.def(F,"$strftime",ia=function(va){null==va&&(va="");return""==va?this.$to_s():this.date.$strftime(va)},ia.$$arity=-1);a.alias(F,"succ","next");a.def(F,"$sunday?",X=function(){return this.$wday()["$=="](0)},
X.$$arity=0);a.def(F,"$thursday?",R=function(){return this.$wday()["$=="](4)},R.$$arity=0);a.def(F,"$to_s",T=function(){var va=this.date,Na=va.getFullYear(),Sa=va.getMonth()+1;va=va.getDate();10>Sa&&(Sa="0"+Sa);10>va&&(va="0"+va);return Na+"-"+Sa+"-"+va},T.$$arity=0);a.def(F,"$to_time",sa=function(){return d(g,"Time").$new(this.$year(),this.$month(),this.$day())},sa.$$arity=0);a.def(F,"$to_n",Ca=function(){return this.date},Ca.$$arity=0);a.def(F,"$tuesday?",ka=function(){return this.$wday()["$=="](2)},
ka.$$arity=0);a.def(F,"$step",xa=function(va,Na){var Sa=xa.$$p,db=Sa||x,jb,fb,gb=x;gb=gb=x;Sa&&(xa.$$p=null);Sa&&(xa.$$p=null);null==Na&&(Na=1);gb=I(va,this).$to_i();gb=e(q("number"===typeof gb&&"number"===typeof Na?gb*Na:gb["$*"](Na),0))?[]:e(q(gb,0))?f(a.Range.$new(0,gb["$-@"](),!1).$step(Na.$abs()),"map",[],"-@".$to_proc()).$reverse():a.Range.$new(0,gb,!1).$step(Na.$abs());gb=f(gb,"map",[],(jb=function(ib){var Aa=null==jb.$$s?this:jb.$$s;null==ib&&(ib=x);return u(Aa,ib)},jb.$$s=this,jb.$$arity=
1,jb));return db!==x?(f(gb,"each",[],(fb=function(ib){null==ib&&(ib=x);return a.yield1(db,ib)},fb.$$s=this,fb.$$arity=1,fb)),this):gb},xa.$$arity=-2);a.def(F,"$upto",Ea=function(va){var Na=Ea.$$p,Sa=Na||x;Na&&(Ea.$$p=null);Na&&(Ea.$$p=null);return f(this,"step",[va,1],Sa.$to_proc())},Ea.$$arity=1);a.def(F,"$downto",Da=function(va){var Na=Da.$$p,Sa=Na||x;Na&&(Da.$$p=null);Na&&(Da.$$p=null);return f(this,"step",[va,-1],Sa.$to_proc())},Da.$$arity=1);a.def(F,"$wday",Ra=function(){return this.date.getDay()},
Ra.$$arity=0);a.def(F,"$wednesday?",Pa=function(){return this.$wday()["$=="](3)},Pa.$$arity=0);a.def(F,"$year",La=function(){return this.date.getFullYear()},La.$$arity=0);a.def(F,"$cwday",kb=function(){return this.date.getDay()||7},kb.$$arity=0);a.def(F,"$cweek",lb=function(){var va=new Date(this.date);va.setHours(0,0,0);va.setDate(va.getDate()+4-(va.getDay()||7));return Math.ceil(((va-new Date(va.getFullYear(),0,1))/864E5+1)/7)},lb.$$arity=0)}(r[0],null,r)};
Opal.modules.todo=function(a){function u(n,L){return"number"===typeof n&&"number"===typeof L?n+L:n["$+"](L)}function I(n,L){return"number"===typeof n&&"number"===typeof L?n>L:n["$>"](L)}function q(n,L){return"number"===typeof n&&"number"===typeof L?n<L:n["$<"](L)}function r(n,L){return"number"===typeof n&&"number"===typeof L?n-L:n["$-"](L)}var x=a.top,p=[],d=a.nil,C=a.$$,A=a.klass,e=a.hash2,f=a.truthy,F=a.range,c=a.send;a.add_stubs("$require $setup $first $[] $=== $nil? $empty? $raise $+ $add $join $> $length $change_state $to_i $list $< $set_priority $due_date $append $rename $!= $delete $add_note $delete_note $show $push $strip $usage $cleanup $colorize $gsub $to_s $private $keys $map $select $parse $strftime $today $downcase $! $each $split $== $chomp $[]= $- $has_key? $sort $generate $match $convert_due_date $postprocess_tags $load_tasks $write_tasks $max $size $filter_tasks $sort_by $start_with? $abs $rjust $kind_of? $to_a $index".split(" "));
x.$require("./json.rb");x.$require("./date.rb");return function(n,$super,g){n=A(n,$super,"Todo");var h=[n].concat(g),K,D,Q,ja,ca,la,b,l,m,v,B,E,H,J,Z,ta,Ka,ua,ya,Ia,na,P,ra;n.$$prototype.text_buffer=n.$$prototype.queries=n.$$prototype.today=n.$$prototype.due_date_days=d;a.const_set(h[0],"COLOR_CODES",e("black red green yellow blue magenta cyan white".split(" "),{black:30,red:31,green:32,yellow:33,blue:34,magenta:35,cyan:36,white:37}));a.const_set(h[0],"STATES",e(["new","done","started","blocked",
"default"],{"new":"[ ]",done:"[x]",started:"[>]",blocked:"[!]","default":"[?]"}));a.const_set(h[0],"ORDER",e(["new","done","started","blocked","default"],{"new":3,done:4,started:2,blocked:1,"default":100}));a.const_set(h[0],"COLORS",e(["new","done","started","blocked","default"],{"new":"white",done:"blue",started:"green",blocked:"yellow","default":"magenta"}));a.const_set(h[0],"DATE_FORMAT","%Y-%m-%d");a.const_set(h[0],"DUE_DATE_DAYS_SIMPLE",["today","tomorrow"]);a.const_set(h[0],"DUE_DATE_TAG_PATTERN",
/(^| )due:([a-zA-Z0-9-]+)/);a.const_set(h[0],"CONTEXT_TAG_PATTERN",/(^| )[@+][\w-]+/);a.const_set(h[0],"PRIORITY_FLAG","*");a.const_set(h[0],"TODO_FILE","todo.jsonl");a.def(n,"$execute",K=function(Y){var ia=d,X=d,R=d,T=d,sa=d,Ca=d,ka=d,xa=d,Ea=d,Da=d,Ra=d,Pa=d;this.text_buffer=[];try{this.$setup(),ia=Y.$first(),X=f(R=Y["$[]"](F(1,-1,!1)))?R:[],T=ia,"add"["$==="](T)?(f(f(sa=X["$nil?"]())?sa:X["$empty?"]())&&this.$raise(u(ia," command requires at least one parameter")),this.$add(X.$join(" "))):"start"["$==="](T)?
f(I(X.$length(),0))?this.$change_state(X.$first().$to_i(),"started",(f(Ca=X["$[]"](F(1,-1,!1)))?Ca:[]).$join(" ")):this.$list(d,[":started"]):"done"["$==="](T)?f(I(X.$length(),0))?this.$change_state(X.$first().$to_i(),"done",(f(ka=X["$[]"](F(1,-1,!1)))?ka:[]).$join(" ")):this.$list(d,[":done"]):"block"["$==="](T)?f(I(X.$length(),0))?this.$change_state(X.$first().$to_i(),"blocked",(f(xa=X["$[]"](F(1,-1,!1)))?xa:[]).$join(" ")):this.$list(d,[":blocked"]):"reset"["$==="](T)?f(I(X.$length(),0))?this.$change_state(X.$first().$to_i(),
"new",(f(Ea=X["$[]"](F(1,-1,!1)))?Ea:[]).$join(" ")):this.$list(d,[":new"]):"prio"["$==="](T)?(f(q(X.$length(),1))&&this.$raise(u(ia," command requires at least one parameter")),this.$set_priority(X.$first().$to_i(),(f(Da=X["$[]"](F(1,-1,!1)))?Da:[]).$join(" "))):"due"["$==="](T)?(f(q(X.$length(),1))&&this.$raise(u(ia," command requires at least one parameter")),this.$due_date(X.$first().$to_i(),(f(Ra=X["$[]"](F(1,-1,!1)))?Ra:[]).$join(" "))):"append"["$==="](T)?(f(q(X.$length(),2))&&this.$raise(u(ia,
" command requires at least two parameters")),this.$append(X.$first().$to_i(),X["$[]"](F(1,-1,!1)).$join(" "))):"rename"["$==="](T)?(f(q(X.$length(),2))&&this.$raise(u(ia," command requires at least two parameters")),this.$rename(X.$first().$to_i(),X["$[]"](F(1,-1,!1)).$join(" "))):"del"["$==="](T)?(f(X.$length()["$!="](1))&&this.$raise(u(ia," command requires exactly one parameter")),this.$delete(X.$first().$to_i())):"note"["$==="](T)?(f(q(X.$length(),2))&&this.$raise(u(ia," command requires at least two parameters")),
this.$add_note(X.$first().$to_i(),X["$[]"](F(1,-1,!1)).$join(" "))):"delnote"["$==="](T)?(f(X.$length()["$!="](1))&&this.$raise(u(ia," command requires exactly one parameter")),this.$delete_note(X.$first().$to_i())):"list"["$==="](T)?this.$list(d,X):"show"["$==="](T)?(f(X.$length()["$!="](1))&&this.$raise(u(ia," command requires exactly one parameter")),this.$show(X.$first().$to_i())):"help"["$==="](T)?(f(I(X.$length(),0))&&this.$raise(u(ia," command has no parameters")),this.text_buffer.$push(this.$usage().$strip())):
"cleanup"["$==="](T)?(f(f(Pa=X["$nil?"]())?Pa:X["$empty?"]())&&this.$raise(u(ia," command requires at least one parameter")),this.$cleanup(X)):this.$list(d,Y)}catch(La){if(a.rescue(La,[C(h,"StandardError")])){Y=La;try{this.text_buffer.$push(""+this.$colorize("ERROR:","red")+" "+Y)}finally{a.pop_exception()}}else throw La;}return this},K.$$arity=1);a.def(n,"$to_s",D=function(){var Y=d;return u((f(Y=this.text_buffer)?Y:[]).$join("\n"),"\n")},D.$$arity=0);a.def(n,"$to_html",Q=function(){return u(u('<span class="output">',
this.$to_s().$gsub("&","&amp;").$gsub("<","&lt;").$gsub(">","&gt;").$gsub(" ","&nbsp;").$gsub("\n","<br>").$gsub(/e\[0m/,"</span>").$gsub(/e\[(\d+)m/,'<span class="color color-\\1">')),"</span>")},Q.$$arity=0);n.$private();a.def(n,"$usage",ja=function(){var Y,ia;return"Usage: todo <command> <arguments>\n\nCommands:\n* add <text>                     add new task\n* start <tasknumber> [text]      mark task as started, with optional note\n* done <tasknumber> [text]       mark task as completed, with optional note\n* block <tasknumber> [text]      mark task as blocked, with optional note\n* reset <tasknumber> [text]      reset task to new state, with optional note\n* prio <tasknumber> [text]       toggle high priority flag, with optional note\n* due <tasknumber> [date]        set/unset due date (in YYYY-MM-DD format)\n\n* append <tasknumber> <text>     append text to task title\n* rename <tasknumber> <text>     rename task\n* del <tasknumber>               delete task\n* note <tasknumber> <text>       add note to task\n* delnote <tasknumber>           delete all notes from task\n\n* list <regex> [regex...]        list tasks (only active tasks by default)\n* show <tasknumber>              show all task details\n* cleanup <regex> [regex...]     cleanup completed tasks by regexp\n* help                           this help screen\n\nWith list command the following pre-defined regex patterns can be also used:\n"+
this.queries.$keys().$join(", ")+'\n\nDue dates can be also added via tags in task title: "due:YYYY-MM-DD"\n\nLegend:\n'+c(c(C(h,"STATES"),"select",[],(Y=function(X){null==X&&(X=d);return X["$!="]("default")},Y.$$s=this,Y.$$arity=2,Y)),"map",[],(ia=function(X,R){null==X&&(X=d);null==R&&(R=d);return""+X+" "+R},ia.$$s=this,ia.$$arity=2,ia)).$join(", ")+", priority "+C(h,"PRIORITY_FLAG")+"\n\nLocal storage: "+C(h,"TODO_FILE")+"\n"},ja.$$arity=0);a.def(n,"$setup",ca=function(){var Y,ia,X,R=d;R=d;this.today=
C(h,"Date").$parse(C(h,"Date").$today().$strftime(C(h,"DATE_FORMAT")));R=c(F(0,6,!1),"map",[],(Y=function(T){var sa=null==Y.$$s?this:Y.$$s;null==sa.today&&(sa.today=d);null==T&&(T=d);return u(sa.today,T)},Y.$$s=this,Y.$$arity=1,Y));this.due_date_days=c(R,"map",[],(ia=function(T){null==T&&(T=d);return T.$strftime("%A").$downcase()},ia.$$s=this,ia.$$arity=1,ia));R=c(R,"map",[],(X=function(T){null==T&&(T=d);return T.$strftime(C(h,"DATE_FORMAT"))},X.$$s=this,X.$$arity=1,X));return this.queries=e(":active :done :blocked :started :new :all :today :tomorrow :next7days".split(" "),
{":active":"state=(new|started|blocked)",":done":"state=done",":blocked":"state=blocked",":started":"state=started",":new":"state=new",":all":"state=\\w+",":today":"due="+R["$[]"](0),":tomorrow":"due="+R["$[]"](1),":next7days":"due=("+R.$join("|")+")"})},ca.$$arity=0);a.def(n,"$load_tasks",la=function(Y){var ia,X=d,R=d,T=d,sa=d;null==Y&&(Y=d);X=0;R=e([],{});T=window.localStorage.getItem(C(h,"TODO_FILE"))||"";f(T["$empty?"]()["$!"]())&&c(T.$split("\n"),"each",[],(ia=function(Ca){null==Ca&&(Ca=d);if(Ca.$strip()["$=="](""))return d;
X=u(X,1);Ca=[X,C(h,"JSON").$parse(Ca.$chomp(),e(["symbolize_names"],{symbolize_names:!0}))];c(R,"[]=",a.to_a(Ca));return Ca[r(Ca.length,1)]},ia.$$s=this,ia.$$arity=1,ia));f(f(sa=Y)?R["$has_key?"](Y)["$!"]():sa)&&this.$raise(""+Y+": No such todo");return R},la.$$arity=-1);a.def(n,"$write_tasks",b=function(Y){var ia,X=d;X=u(c(Y.$keys().$sort(),"map",[],(ia=function(R){null==R&&(R=d);return C(h,"JSON").$generate(Y["$[]"](R))},ia.$$s=this,ia.$$arity=1,ia)).$join("\n"),"\n");return window.localStorage.setItem(C(h,
"TODO_FILE"),X)},b.$$arity=1);a.def(n,"$postprocess_tags",l=function(Y){var ia=Y["$[]"]("title").$match(C(h,"DUE_DATE_TAG_PATTERN"));if(f(ia)){var X=["title",Y["$[]"]("title").$gsub(C(h,"DUE_DATE_TAG_PATTERN"),"")];c(Y,"[]=",a.to_a(X));X[r(X.length,1)];X=["due",this.$convert_due_date(ia["$[]"](2))];c(Y,"[]=",a.to_a(X));X[r(X.length,1)]}return f(Y["$[]"]("title")["$empty?"]())?this.$raise("title must not be empty"):d},l.$$arity=1);a.def(n,"$add",m=function(Y){Y=e(["state","title","modified"],{state:"new",
title:Y,modified:this.today.$strftime(C(h,"DATE_FORMAT"))});this.$postprocess_tags(Y);var ia=window.localStorage.getItem(C(h,"TODO_FILE"))||"";ia=u(ia,u(C(h,"JSON").$generate(Y),"\n"));window.localStorage.setItem(C(h,"TODO_FILE"),ia);return this.$list()},m.$$arity=1);a.def(n,"$append",v=function(Y,ia){null==ia&&(ia="");var X=this.$load_tasks(Y);ia=["title",[X["$[]"](Y)["$[]"]("title"),ia].$join(" ")];c(X["$[]"](Y),"[]=",a.to_a(ia));ia[r(ia.length,1)];ia=["modified",this.today.$strftime(C(h,"DATE_FORMAT"))];
c(X["$[]"](Y),"[]=",a.to_a(ia));ia[r(ia.length,1)];this.$postprocess_tags(X["$[]"](Y));this.$write_tasks(X);return this.$list(X)},v.$$arity=-2);a.def(n,"$rename",B=function(Y,ia){var X=this.$load_tasks(Y);ia=["title",ia];c(X["$[]"](Y),"[]=",a.to_a(ia));ia[r(ia.length,1)];ia=["modified",this.today.$strftime(C(h,"DATE_FORMAT"))];c(X["$[]"](Y),"[]=",a.to_a(ia));ia[r(ia.length,1)];this.$postprocess_tags(X["$[]"](Y));this.$write_tasks(X);return this.$list(X)},B.$$arity=2);a.def(n,"$delete",E=function(Y){var ia=
this.$load_tasks(Y);ia.$delete(Y);this.$write_tasks(ia);return this.$list()},E.$$arity=1);a.def(n,"$change_state",H=function(Y,ia,X){var R=d;null==X&&(X=d);var T=this.$load_tasks(Y);ia=["state",ia];c(T["$[]"](Y),"[]=",a.to_a(ia));ia[r(ia.length,1)];ia=["modified",this.today.$strftime(C(h,"DATE_FORMAT"))];c(T["$[]"](Y),"[]=",a.to_a(ia));ia[r(ia.length,1)];f(f(R=X["$nil?"]()["$!"]())?X["$empty?"]()["$!"]():R)&&(R=T["$[]"](Y),f(ia=R["$[]"]("note"))?ia:(ia=["note",[]],c(R,"[]=",a.to_a(ia)),ia[r(ia.length,
1)]),T["$[]"](Y)["$[]"]("note").$push(X));this.$write_tasks(T);return this.$list(T)},H.$$arity=-3);a.def(n,"$set_priority",J=function(Y,ia){var X=d;null==ia&&(ia=d);var R=this.$load_tasks(Y);var T=["priority",R["$[]"](Y)["$[]"]("priority")["$!"]()];c(R["$[]"](Y),"[]=",a.to_a(T));T[r(T.length,1)];f(R["$[]"](Y)["$[]"]("priority")["$!"]())&&R["$[]"](Y).$delete("priority");T=["modified",this.today.$strftime(C(h,"DATE_FORMAT"))];c(R["$[]"](Y),"[]=",a.to_a(T));T[r(T.length,1)];f(f(X=ia["$nil?"]()["$!"]())?
ia["$empty?"]()["$!"]():X)&&(X=R["$[]"](Y),f(T=X["$[]"]("note"))?T:(T=["note",[]],c(X,"[]=",a.to_a(T)),T[r(T.length,1)]),R["$[]"](Y)["$[]"]("note").$push(ia));this.$write_tasks(R);return this.$list(R)},J.$$arity=-2);a.def(n,"$due_date",Z=function(Y,ia){null==ia&&(ia="");var X=this.$load_tasks(Y);ia=["due",this.$convert_due_date(ia)];c(X["$[]"](Y),"[]=",a.to_a(ia));ia[r(ia.length,1)];f(X["$[]"](Y)["$[]"]("due")["$nil?"]())&&X["$[]"](Y).$delete("due");ia=["modified",this.today.$strftime(C(h,"DATE_FORMAT"))];
c(X["$[]"](Y),"[]=",a.to_a(ia));ia[r(ia.length,1)];this.$write_tasks(X);return this.$list(X)},Z.$$arity=-2);a.def(n,"$list",ta=function(Y,ia){var X,R,T=d,sa=d,Ca=d,ka=d;null==Y&&(Y=d);null==ia&&(ia=d);Y=f(T=Y)?T:this.$load_tasks();sa=[Y.$keys().$max().$to_s().$size(),4].$max();ia=f(f(Ca=ia["$nil?"]())?Ca:ia["$empty?"]())?[this.queries["$[]"](":active")]:ia;ka=this.$filter_tasks(Y,ia);ka=c(ka,"sort_by",[],(X=function(xa,Ea){var Da=d,Ra=d,Pa=d;null==xa&&(xa=d);null==Ea&&(Ea=d);return[f(f(Da=Ea["$[]"]("priority"))?
Ea["$[]"]("state")["$!="]("done"):Da)?0:1,C(h,"ORDER")["$[]"](f(Ra=Ea["$[]"]("state"))?Ra:"default"),f(Pa=Ea["$[]"]("due"))?Pa:"n/a",xa]},X.$$s=this,X.$$arity=2,X));c(ka,"each",[],(R=function(xa,Ea){var Da=null==R.$$s?this:R.$$s,Ra,Pa=d,La=d,kb=d,lb=kb=d,va=d,Na=d,Sa=d,db=Pa=d,jb=d;null==Da.today&&(Da.today=d);null==Da.due_date_days&&(Da.due_date_days=d);null==Da.text_buffer&&(Da.text_buffer=d);null==xa&&(xa=d);null==Ea&&(Ea=d);Pa=f(La=Ea["$[]"]("state"))?La:"default";kb=C(h,"COLORS")["$[]"](Pa);
kb=Da.$colorize(C(h,"STATES")["$[]"](Pa),kb);lb=c(Ea["$[]"]("title"),"gsub",[C(h,"CONTEXT_TAG_PATTERN")],(Ra=function(fb){var gb=null==Ra.$$s?this:Ra.$$s;null==fb&&(fb=d);return u(f(fb["$start_with?"](" "))?" ":"",gb.$colorize(fb.$strip(),"cyan"))},Ra.$$s=Da,Ra.$$arity=1,Ra));va=f(Ea["$[]"]("priority"))?Da.$colorize(C(h,"PRIORITY_FLAG"),"red"):" ";Na="";f(f(Sa=Ea["$[]"]("due"))?Pa["$!="]("done"):Sa)&&(Pa=r(C(h,"Date").$parse(Ea["$[]"]("due")),Da.today).$to_i(),f(q(Pa,0))?Na=Da.$colorize("("+Pa.$abs()+
"d overdue)","red"):f(f(db=Pa["$=="](0))?db:Pa["$=="](1))?Na=Da.$colorize("("+C(h,"DUE_DATE_DAYS_SIMPLE")["$[]"](Pa)+")","yellow"):f(I(Pa,1))&&(Na=Da.$colorize("("+(f(jb=Da.due_date_days["$[]"](Pa))?jb:Ea["$[]"]("due"))+")","magenta")),Na=u(" ",Na));return Da.text_buffer.$push(""+xa.$to_s().$rjust(sa," ")+":"+va+kb+" "+lb+Na)},R.$$s=this,R.$$arity=2,R));return f(ka["$empty?"]())?this.text_buffer.$push("No todos found"):d},ta.$$arity=-1);a.def(n,"$add_note",Ka=function(Y,ia){var X;var R=this.$load_tasks(Y);
var T=R["$[]"](Y);f(X=T["$[]"]("note"))?X:(X=["note",[]],c(T,"[]=",a.to_a(X)),X[r(X.length,1)]);R["$[]"](Y)["$[]"]("note").$push(ia);X=["modified",this.today.$strftime(C(h,"DATE_FORMAT"))];c(R["$[]"](Y),"[]=",a.to_a(X));X[r(X.length,1)];this.$write_tasks(R);return this.$show(Y)},Ka.$$arity=2);a.def(n,"$delete_note",ua=function(Y){var ia=this.$load_tasks(Y);ia["$[]"](Y).$delete("note");var X=["modified",this.today.$strftime(C(h,"DATE_FORMAT"))];c(ia["$[]"](Y),"[]=",a.to_a(X));X[r(X.length,1)];this.$write_tasks(ia);
return this.$show(Y)},ua.$$arity=1);a.def(n,"$show",ya=function(Y){var ia,X=d;X=this.$load_tasks(Y);return c(X["$[]"](Y),"each",[],(ia=function(R,T){var sa=null==ia.$$s?this:ia.$$s;null==sa.text_buffer&&(sa.text_buffer=d);null==R&&(R=d);null==T&&(T=d);T=f(T["$kind_of?"](C(h,"Array")))?u("\n",T.$join("\n")):T;return sa.text_buffer.$push(""+sa.$colorize(u(R.$to_s().$rjust(10," "),":"),"cyan")+" "+T)},ia.$$s=this,ia.$$arity=2,ia))},ya.$$arity=1);a.def(n,"$cleanup",Ia=function(Y){var ia,X=d,R=d;X=this.$load_tasks();
Y=u([this.queries["$[]"](":done")],Y.$to_a());R=this.$filter_tasks(X,Y);c(R.$keys(),"each",[],(ia=function(T){null==T&&(T=d);return X.$delete(T)},ia.$$s=this,ia.$$arity=1,ia));this.$write_tasks(X);return this.text_buffer.$push("deleted "+R.$size()+" todo(s)")},Ia.$$arity=1);a.def(n,"$filter_tasks",na=function(Y,ia){var X,R=d;R=e([],{});c(Y,"each",[],(X=function(T,sa){var Ca=null==X.$$s?this:X.$$s,ka,xa=d,Ea=d,Da=d;null==T&&(T=d);null==sa&&(sa=d);xa="state="+sa["$[]"]("state")+" due="+sa["$[]"]("due")+
" "+sa["$[]"]("title");Ea=!0;c(ia,"each",[],(ka=function(Ra){var Pa=null==ka.$$s?this:ka.$$s,La=d;null==Pa.queries&&(Pa.queries=d);null==Ra&&(Ra=d);return f(a.regexp([f(La=Pa.queries["$[]"](Ra))?La:Ra],"i").$match(xa))?d:Ea=!1},ka.$$s=Ca,ka.$$arity=1,ka));return f(Ea)?(Da=[T,sa],c(R,"[]=",a.to_a(Da)),Da[r(Da.length,1)]):d},X.$$s=this,X.$$arity=2,X));return R},na.$$arity=2);a.def(n,"$colorize",P=function(Y,ia){return"e["+C(h,"COLOR_CODES")["$[]"](ia)+"m"+Y+"e[0m"},P.$$arity=2);return(a.def(n,"$convert_due_date",
ra=function(Y){var ia,X=this,R=d,T=R=d,sa=d,Ca=d;null==Y&&(Y="");R=d;R=function(){return f(T=f(sa=X.due_date_days.$index(Y.$to_s().$downcase()))?sa:C(h,"DUE_DATE_DAYS_SIMPLE").$index(Y.$to_s().$downcase()))?T:c(X.due_date_days,"map",[],(ia=function(ka){null==ka&&(ka=d);return ka["$[]"](F(0,2,!1))},ia.$$s=X,ia.$$arity=1,ia)).$index(Y.$to_s().$downcase())}();return R=f(R)?u(X.today,R).$strftime(C(h,"DATE_FORMAT")):f(f(Ca=Y["$nil?"]())?Ca:Y["$empty?"]())?d:C(h,"Date").$parse(Y).$strftime(C(h,"DATE_FORMAT"))},
ra.$$arity=-1),d)&&"convert_due_date"}(p[0],null,p)};
(function(a){function u(f){return(f||"").toString().replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}var I,q=a.top,r=[],x=a.nil,p=a.$$$,d=a.$$,C=a.send,A=x,e=x;a.add_stubs("$require $new $lambda $to_html $execute $+".split(" "));q.$require("./todo.rb");A=d(r,"Todo").$new();e=C(q,"lambda",[],(I=function(f,F,c){null==f&&(f=x);null==F&&(F=x);null==c&&(c=x);try{var n=A,L=n.$execute;F=[F];var g="number"===typeof F&&"number"===typeof c?F+c:F["$+"](c);var h=L.call(n,g).$to_html();f.output(h)}catch(K){f.output('<span class="output"><span class="color color-31">ERROR:</span> '+
u(K)+"</span>")}},I.$$s=q,I.$$arity=3,I));a=new VanillaTerminal({welcome:'<u>todo list manager</u> REPL v0.1.22<br>Type "help" for more information.<br><br>',defaultCallback:e,prompt:"todo",commands:{cls:function(f){f.clear()},wipe:function(f){f.prompt("Are you sure remove all your todo data? y/n",function(F){"Y"===F.trim().toUpperCase()&&(localStorage.removeItem(p(d(r,"Todo"),"TODO_FILE")),f.history=[],f.historyCursor=0,f.output("todo data wiped"))})}}});try{a.output(A.$execute(["list"]).$to_html())}catch(f){a.output('<span class="output"><span class="color color-31">ERROR:</span> '+
u(f)+"</span>")}})(Opal);var Qb=Opal.$$;Opal.add_stubs(["$exit"]);Qb([],"Kernel").$exit();}).call(this);
