#!/usr/bin/env node
(function(){var ab=ab||{};ab.scope={};ab.ASSUME_ES5=!1;ab.ASSUME_NO_NATIVE_MAP=!1;ab.ASSUME_NO_NATIVE_SET=!1;ab.SIMPLE_FROUND_POLYFILL=!1;ab.ISOLATE_POLYFILLS=!1;ab.FORCE_POLYFILL_PROMISE=!1;ab.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION=!1;ab.defineProperty=ab.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,x,H){if(a==Array.prototype||a==Object.prototype)return a;a[x]=H.value;return a};
ab.getGlobal=function(a){a=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var x=0;x<a.length;++x){var H=a[x];if(H&&H.Math==Math)return H}throw Error("Cannot find global object");};ab.global=ab.getGlobal(this);ab.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");ab.TRUST_ES6_POLYFILLS=!ab.ISOLATE_POLYFILLS||ab.IS_SYMBOL_NATIVE;ab.polyfills={};ab.propertyToPolyfillSymbol={};
ab.POLYFILL_PREFIX="$jscp$";ab.polyfill=function(a,x,H,t){x&&(ab.ISOLATE_POLYFILLS?ab.polyfillIsolated(a,x,H,t):ab.polyfillUnisolated(a,x,H,t))};ab.polyfillUnisolated=function(a,x){var H=ab.global;a=a.split(".");for(var t=0;t<a.length-1;t++){var w=a[t];if(!(w in H))return;H=H[w]}a=a[a.length-1];t=H[a];x=x(t);x!=t&&null!=x&&ab.defineProperty(H,a,{configurable:!0,writable:!0,value:x})};
ab.polyfillIsolated=function(a,x,H){var t=a.split(".");a=1===t.length;var w=t[0];w=!a&&w in ab.polyfills?ab.polyfills:ab.global;for(var z=0;z<t.length-1;z++){var p=t[z];if(!(p in w))return;w=w[p]}t=t[t.length-1];H=ab.IS_SYMBOL_NATIVE&&"es6"===H?w[t]:null;x=x(H);null!=x&&(a?ab.defineProperty(ab.polyfills,t,{configurable:!0,writable:!0,value:x}):x!==H&&(void 0===ab.propertyToPolyfillSymbol[t]&&(ab.propertyToPolyfillSymbol[t]=ab.IS_SYMBOL_NATIVE?ab.global.Symbol(t):ab.POLYFILL_PREFIX+t),ab.defineProperty(w,
ab.propertyToPolyfillSymbol[t],{configurable:!0,writable:!0,value:x})))};ab.underscoreProtoCanBeSet=function(){var a={a:!0},x={};try{return x.__proto__=a,x.a}catch(H){}return!1};ab.setPrototypeOf=ab.TRUST_ES6_POLYFILLS&&"function"==typeof Object.setPrototypeOf?Object.setPrototypeOf:ab.underscoreProtoCanBeSet()?function(a,x){a.__proto__=x;if(a.__proto__!==x)throw new TypeError(a+" is not extensible");return a}:null;
ab.polyfill("Object.setPrototypeOf",function(a){return a||ab.setPrototypeOf},"es6","es5");ab.arrayIteratorImpl=function(a){var x=0;return function(){return x<a.length?{done:!1,value:a[x++]}:{done:!0}}};ab.arrayIterator=function(a){return{next:ab.arrayIteratorImpl(a)}};ab.initSymbol=function(){};
ab.polyfill("Symbol",function(a){function x(w){if(this instanceof x)throw new TypeError("Symbol is not a constructor");return new H("jscomp_symbol_"+(w||"")+"_"+t++,w)}function H(w,z){this.$jscomp$symbol$id_=w;ab.defineProperty(this,"description",{configurable:!0,writable:!0,value:z})}if(a)return a;H.prototype.toString=function(){return this.$jscomp$symbol$id_};var t=0;return x},"es6","es3");
ab.polyfill("Symbol.iterator",function(a){if(a)return a;a=Symbol("Symbol.iterator");for(var x="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),H=0;H<x.length;H++){var t=ab.global[x[H]];"function"===typeof t&&"function"!=typeof t.prototype[a]&&ab.defineProperty(t.prototype,a,{configurable:!0,writable:!0,value:function(){return ab.iteratorPrototype(ab.arrayIteratorImpl(this))}})}return a},"es6","es3");
ab.iteratorPrototype=function(a){a={next:a};a[Symbol.iterator]=function(){return this};return a};ab.iteratorFromArray=function(a,x){a instanceof String&&(a+="");var H=0,t=!1,w={next:function(){if(!t&&H<a.length){var z=H++;return{value:x(z,a[z]),done:!1}}t=!0;return{done:!0,value:void 0}}};w[Symbol.iterator]=function(){return w};return w};ab.polyfill("Array.prototype.keys",function(a){return a?a:function(){return ab.iteratorFromArray(this,function(x){return x})}},"es6","es3");
ab.owns=function(a,x){return Object.prototype.hasOwnProperty.call(a,x)};ab.assign=ab.TRUST_ES6_POLYFILLS&&"function"==typeof Object.assign?Object.assign:function(a,x){for(var H=1;H<arguments.length;H++){var t=arguments[H];if(t)for(var w in t)ab.owns(t,w)&&(a[w]=t[w])}return a};ab.polyfill("Object.assign",function(a){return a||ab.assign},"es6","es3");ab.polyfill("Number.EPSILON",function(){return Math.pow(2,-52)},"es6","es3");
ab.polyfill("Number.MAX_SAFE_INTEGER",function(){return 9007199254740991},"es6","es3");ab.checkStringArgs=function(a,x,H){if(null==a)throw new TypeError("The 'this' value for String.prototype."+H+" must not be null or undefined");if(x instanceof RegExp)throw new TypeError("First argument to String.prototype."+H+" must not be a regular expression");return a+""};
ab.polyfill("String.prototype.codePointAt",function(a){return a?a:function(x){var H=ab.checkStringArgs(this,null,"codePointAt"),t=H.length;x=Number(x)||0;if(0<=x&&x<t){x|=0;var w=H.charCodeAt(x);if(55296>w||56319<w||x+1===t)return w;x=H.charCodeAt(x+1);return 56320>x||57343<x?w:1024*(w-55296)+x+9216}}},"es6","es3");ab.polyfill("String.prototype.trimLeft",function(a){function x(){return this.replace(/^[\s\xa0]+/,"")}return a||x},"es_2019","es3");
ab.polyfill("Object.is",function(a){return a?a:function(x,H){return x===H?0!==x||1/x===1/H:x!==x&&H!==H}},"es6","es3");ab.polyfill("Array.prototype.includes",function(a){return a?a:function(x,H){var t=this;t instanceof String&&(t=String(t));var w=t.length;H=H||0;for(0>H&&(H=Math.max(H+w,0));H<w;H++){var z=t[H];if(z===x||Object.is(z,x))return!0}return!1}},"es7","es3");
ab.polyfill("String.prototype.includes",function(a){return a?a:function(x,H){return-1!==ab.checkStringArgs(this,x,"includes").indexOf(x,H||0)}},"es6","es3");
(function(a){function x(b,h,f){"string"===typeof b?b[h]=f:Object.defineProperty(b,h,{value:f,enumerable:!1,configurable:!0,writable:!0})}function H(b,h){if(b)return b.$$const[h]}function t(b,h){var f;if(null!=b){var q=d.ancestors(b);b=0;for(f=q.length;b<f;b++)if(q[b].$$const&&l.call(q[b].$$const,h))return q[b].$$const[h]}}function w(b,h,f){if(!f)return(b||k).$const_missing(h)}function z(b){return b.hasOwnProperty("$$iclass")&&b.hasOwnProperty("$$root")}function p(b){var h=n(b);b.$$is_module&&b.$$iclasses.push(h);
return h}function n(b){var h={},f=b.$$prototype;f.hasOwnProperty("$$dummy")&&(f=f.$$define_methods_on);var q=Object.getOwnPropertyNames(f),A=q.length,F;for(F=0;F<A;F++){var G=q[F];x(h,G,f[G])}x(h,"$$iclass",!0);x(h,"$$module",b);return h}function u(b){var h=b.length,f=b[0];x(f,"$$root",!0);if(1===h)return{first:f,last:f};for(var q=1;q<h;q++){var A=b[q];y(f,A);f=A}return{first:b[0],last:b[h-1]}}function D(b){if(!b.hasOwnProperty("$$dummy")){if(b.hasOwnProperty("$$iclass"))return b.$$module;if(b.hasOwnProperty("$$class"))return b.$$class}}
function e(b){return"function"===typeof b&&!b.$$stub}function m(){var b=d.slice.call(arguments,0,arguments.length),h=m.$$p;m.$$p=null;return d.send(k,"define_method",b,h)}"undefined"!==typeof globalThis?a=globalThis:"undefined"!==typeof global?a=global:"undefined"!==typeof window&&(a=window);var E="object"===typeof a.console?a.console:null==a.console?a.console={}:{};"log"in E||(E.log=function(){});"warn"in E||(E.warn=E.log);if("undefined"!==typeof a.Opal)return E.warn("Opal already loaded. Loading twice can cause troubles, please fix your setup."),
a.Opal;var c,k,L,d=a.Opal={};d.global=a;a.Opal=d;d.config={missing_require_severity:"error",unsupported_features_severity:"warning",enable_stack_trace:!0};var l=Object.hasOwnProperty,N=Function.prototype.bind,y=Object.setPrototypeOf,S=Array.prototype.slice,ja=Array.prototype.splice,ea=4;d.uid=function(){return ea+=2};d.id=function(b){if(b.$$is_number)return 2*b+1;if(null!=b.$$id)return b.$$id;x(b,"$$id",d.uid());return b.$$id};d.gvars={};d.exit=function(b){d.gvars.DEBUG&&E.log("Exited with status "+
b)};d.exceptions=[];d.pop_exception=function(){d.gvars["!"]=d.exceptions.pop()||ma};d.inspect=function(b){return void 0===b?"undefined":null===b?"null":b.$$class?b.$inspect():b.toString()};d.defineProperty=x;d.slice=S;d.truthy=function(b){return b!==ma&&null!=b&&(!b.$$is_boolean||1==b)};d.falsy=function(b){return b===ma||null==b||b.$$is_boolean&&0==b};d.type_error=function(b,h,f,q){b=b.$$class;return q&&f?(q=q.$$class,d.TypeError.$new("can't convert "+b+" into "+h+" ("+b+"#"+f+" gives "+q+")")):d.TypeError.$new("no implicit conversion of "+
b+" into "+h)};d.coerce_to=function(b,h,f,q){if(h["$==="](b))return b;if(!b["$respond_to?"](f))throw d.type_error(b,h);null==q&&(q=[]);return d.send(b,f,q)};d.respond_to=function(b,h,f){if(null==b||!b.$$class)return!1;f=!!f;var q=b[h];return b["$respond_to?"].$$pristine?b["$respond_to_missing?"].$$pristine?"function"===typeof q&&!q.$$stub:d.send(b,b["$respond_to_missing?"],[h.substr(1),f]):d.send(b,b["$respond_to?"],[h.substr(1),f])};d.const_get_local=function(b,h,f){if(null!=b){"::"===b&&(b=k);if(!b.$$is_module&&
!b.$$is_class)throw new d.TypeError(b.toString()+" is not a class/module");var q=H(b,h);if(null!=q)return q;q=w(b,h,f);if(null!=q)return q}};d.const_get_qualified=function(b,h,f){var q,A=d.const_cache_version;if(null!=b){"::"===b&&(b=k);if(!b.$$is_module&&!b.$$is_class)throw new d.TypeError(b.toString()+" is not a class/module");null==(q=b.$$const_cache)&&(x(b,"$$const_cache",Object.create(null)),q=b.$$const_cache);var F=q[h];null==F||F[0]!==A?(null!=(F=H(b,h))||null!=(F=t(b,h)),q[h]=[A,F]):F=F[1];
return null!=F?F:w(b,h,f)}};d.const_cache_version=1;d.const_get_relative=function(b,h,f){var q=b[0],A=d.const_cache_version,F;null==(F=b.$$const_cache)&&(x(b,"$$const_cache",Object.create(null)),F=b.$$const_cache);var G=F[h];if(null==G||G[0]!==A){var J;if(!(J=null!=(G=H(q,h)))){a:{if(0!==b.length)for(G=0,J=b.length;G<J;G++){var ca=b[G].$$const[h];if(null!=ca){b=ca;break a}}b=void 0}J=null!=(G=b)}J||null!=(G=t(q,h))||(b=null==q||q.$$is_module?t(k,h):void 0,null!=(G=b));F[h]=[A,G]}else G=G[1];return null!=
G?G:w(q,h,f)};d.const_set=function(b,h,f){if(null==b||"::"===b)b=k;if(f.$$is_a_module){if(null==f.$$name||f.$$name===ma)f.$$name=h;null==f.$$base_module&&(f.$$base_module=b)}b.$$const=b.$$const||Object.create(null);b.$$const[h]=f;b.$$=b.$$const;d.const_cache_version++;b===k&&(d[h]=f);x(b,h,f);return f};d.constants=function(b,h){null==h&&(h=!0);var f=[b],q,A={},F;h&&(f=f.concat(d.ancestors(b)));h&&b.$$is_module&&(f=f.concat([d.Object]).concat(d.ancestors(d.Object)));var G=0;for(q=f.length;G<q;G++){h=
f[G];if(b!==k&&h==k)break;for(F in h.$$const)A[F]=!0}return Object.keys(A)};d.const_remove=function(b,h){d.const_cache_version++;if(null!=b.$$const[h]){var f=b.$$const[h];delete b.$$const[h];return f}if(null!=b.$$autoload&&null!=b.$$autoload[h])return delete b.$$autoload[h],ma;throw d.NameError.$new("constant "+b+"::"+b.$name()+" not defined");};d.$$=d.const_get_relative;d.$$$=d.const_get_qualified;d.allocate_class=function(b,h){var f=null!=h&&h.$$bridge?function(){var A=S.call(arguments);A=new (N.apply(h.$$constructor,
[null].concat(A)));y(A,q.$$prototype);return A}:function(){};b&&x(f,"displayName","::"+b);var q=f;x(q,"$$name",b);x(q,"$$constructor",f);x(q,"$$prototype",f.prototype);x(q,"$$const",{});x(q,"$$is_class",!0);x(q,"$$is_a_module",!0);x(q,"$$super",h);x(q,"$$cvars",{});x(q,"$$own_included_modules",[]);x(q,"$$own_prepended_modules",[]);x(q,"$$ancestors",[]);x(q,"$$ancestors_cache_version",null);x(q.$$prototype,"$$class",q);d.Class&&y(q,d.Class.prototype);null!=h&&(y(q.$$prototype,h.$$prototype),h.$$meta&&
d.build_class_singleton_class(q));return q};d.klass=function(b,h,f){null==b?b=k:b.$$is_class||b.$$is_module||(b=b.$$class);if(null!=h&&!h.hasOwnProperty("$$is_class")){var q=h;h=k}var A;if(A=H(b,f)){if(!A.$$is_class)throw d.TypeError.$new(f+" is not a class");}else A=void 0;if(A){if(h&&A.$$super!==h)throw d.TypeError.$new("superclass mismatch for class "+A.$$name);return A}null==h&&(h=k);A=d.allocate_class(f,h);d.const_set(b,f,A);h.$inherited&&h.$inherited(A);q&&d.bridge(q,A);return A};d.allocate_module=
function(b){function h(){}b&&x(h,"displayName",b+".$$constructor");b&&x(h,"displayName",b+".constructor");x(h,"$$name",b);x(h,"$$prototype",h.prototype);x(h,"$$const",{});x(h,"$$is_module",!0);x(h,"$$is_a_module",!0);x(h,"$$cvars",{});x(h,"$$iclasses",[]);x(h,"$$own_included_modules",[]);x(h,"$$own_prepended_modules",[]);x(h,"$$ancestors",[h]);x(h,"$$ancestors_cache_version",null);y(h,d.Module.prototype);return h};d.module=function(b,h){null==b?b=k:b.$$is_class||b.$$is_module||(b=b.$$class);var f=
b;var q=H(f,h);null==q&&f===k&&(q=t(k,h));if(q&&!q.$$is_module&&q!==k)throw d.TypeError.$new(h+" is not a module");if(f=q)return f;f=d.allocate_module(h);d.const_set(b,h,f);return f};d.get_singleton_class=function(b){return b.$$meta?b.$$meta:b.hasOwnProperty("$$is_class")?d.build_class_singleton_class(b):b.hasOwnProperty("$$is_module")?d.build_module_singleton_class(b):d.build_object_singleton_class(b)};d.build_class_singleton_class=function(b){if(b.$$meta)return b.$$meta;var h=b===c?L:d.get_singleton_class(b.$$super);
h=d.allocate_class(null,h,function(){});x(h,"$$is_singleton",!0);x(h,"$$singleton_of",b);x(b,"$$meta",h);y(b,h.$$prototype);x(b,"$$class",d.Class);return h};d.build_module_singleton_class=function(b){if(b.$$meta)return b.$$meta;var h=d.allocate_class(null,d.Module,function(){});x(h,"$$is_singleton",!0);x(h,"$$singleton_of",b);x(b,"$$meta",h);y(b,h.$$prototype);x(b,"$$class",d.Module);return h};d.build_object_singleton_class=function(b){var h=d.allocate_class(ma,b.$$class,function(){});x(h,"$$is_singleton",
!0);x(h,"$$singleton_of",b);delete h.$$prototype.$$class;x(b,"$$meta",h);y(b,b.$$meta.$$prototype);return h};d.is_method=function(b){return"$"===b[0]&&"$"!==b[1]};d.instance_methods=function(b){var h=[],f=[];b=d.ancestors(b);for(var q=0,A=b.length;q<A;q++){var F=b[q].$$prototype;F.hasOwnProperty("$$dummy")&&(F=F.$$define_methods_on);for(var G=Object.getOwnPropertyNames(F),J=0,ca=G.length;J<ca;J++){var va=G[J];if(d.is_method(va)){var Pa=va.slice(1);va=F[va];va.$$stub&&-1===h.indexOf(Pa)&&h.push(Pa);
va.$$stub||-1!==f.indexOf(Pa)||-1!==h.indexOf(Pa)||f.push(Pa)}}}return f};d.own_instance_methods=function(b){var h=[];b=b.$$prototype;b.hasOwnProperty("$$dummy")&&(b=b.$$define_methods_on);for(var f=Object.getOwnPropertyNames(b),q=0,A=f.length;q<A;q++){var F=f[q];d.is_method(F)&&!b[F].$$stub&&(F=F.slice(1),h.push(F))}return h};d.methods=function(b){return d.instance_methods(d.get_singleton_class(b))};d.own_methods=function(b){return d.own_instance_methods(d.get_singleton_class(b))};d.receiver_methods=
function(b){var h=d.get_singleton_class(b);b=d.own_instance_methods(h);h=d.own_instance_methods(h.$$super);return b.concat(h)};d.class_variables=function(b){b=d.ancestors(b);var h,f={};for(h=b.length-1;0<=h;h--){var q=b[h],A;for(A in q.$$cvars)f[A]=q.$$cvars[A]}return f};d.class_variable_set=function(b,h,f){var q=d.ancestors(b),A;for(A=q.length-2;0<=A;A--){var F=q[A];if(l.call(F.$$cvars,h))return F.$$cvars[h]=f}return b.$$cvars[h]=f};d.append_features=function(b,h){var f=d.ancestors(b),q=[];if(-1!==
f.indexOf(h))throw d.ArgumentError.$new("cyclic include detected");for(var A=0,F=f.length;A<F;A++){var G=p(f[A]);x(G,"$$included",!0);q.push(G)}f=d.ancestors(h);q=u(q);if(-1===f.indexOf(b))b=h.$$prototype,f=Object.getPrototypeOf(h.$$prototype);else{f=h.$$prototype;for(A=Object.getPrototypeOf(f);null!=A&&(!z(A)||A.$$module!==b);)f=A,A=Object.getPrototypeOf(A);for(A=Object.getPrototypeOf(A);A.hasOwnProperty("$$iclass")&&!z(A);)A=Object.getPrototypeOf(A);b=f;f=A}y(b,q.first);y(q.last,f);b=[];for(f=Object.getPrototypeOf(h.$$prototype);f&&
!f.hasOwnProperty("$$class");)(q=D(f))&&b.push(q),f=Object.getPrototypeOf(f);h.$$own_included_modules=b;d.const_cache_version++};d.prepend_features=function(b,h){var f=d.ancestors(b),q=[];if(-1!==f.indexOf(h))throw d.ArgumentError.$new("cyclic prepend detected");for(var A=0,F=f.length;A<F;A++){var G=p(f[A]);x(G,"$$prepended",!0);q.push(G)}f=u(q);A=h.$$prototype;F=Object.getPrototypeOf(A);if(A.hasOwnProperty("$$dummy"))q=A.$$define_methods_on;else{q=n(h);G=h.$$prototype;for(var J=Object.getOwnPropertyNames(G),
ca=0;ca<J.length;ca++){var va=J[ca];d.is_method(va)&&delete G[va]}x(A,"$$dummy",!0);x(A,"$$define_methods_on",q);y(A,q);y(q,F)}if(-1===d.ancestors(h).indexOf(b))for(b=A,A=Object.getPrototypeOf(A);null!=A&&!A.hasOwnProperty("$$root")&&A!==q&&A.hasOwnProperty("$$iclass");)A=Object.getPrototypeOf(A);else throw d.RuntimeError.$new("Prepending a module multiple times is not supported");y(b,f.first);y(f.last,A);b=[];q=Object.getPrototypeOf(h.$$prototype);if(h.$$prototype.hasOwnProperty("$$dummy"))for(;q&&
q!==h.$$prototype.$$define_methods_on;)(f=D(q))&&b.push(f),q=Object.getPrototypeOf(q);h.$$own_prepended_modules=b;d.const_cache_version++};d.bridge=function(b,h){if(b.hasOwnProperty("$$bridge"))throw d.ArgumentError.$new("already bridged");x(b,"$$bridge",h);y(b.prototype,(h.$$super||d.Object).$$prototype);x(h,"$$prototype",b.prototype);x(h.$$prototype,"$$class",h);x(h,"$$constructor",b);x(h,"$$bridge",!0)};d.ancestors=function(b){if(!b)return[];if(b.$$ancestors_cache_version===d.const_cache_version)return b.$$ancestors;
var h=[],f;var q=0;var A=b.$$own_prepended_modules.concat([b]).concat(b.$$own_included_modules);for(f=A.length;q<f;q++)h.push(A[q]);if(b.$$super)for(q=0,A=d.ancestors(b.$$super),f=A.length;q<f;q++)h.push(A[q]);b.$$ancestors_cache_version=d.const_cache_version;return b.$$ancestors=h};d.included_modules=function(b){for(var h=[],f=Object.getPrototypeOf(b.$$prototype);f&&Object.getPrototypeOf(f);f=Object.getPrototypeOf(f))(b=D(f))&&b.$$is_module&&f.$$iclass&&f.$$included&&h.push(b);return h};d.add_stubs=
function(b){for(var h=d.BasicObject.$$prototype,f=0,q=b.length;f<q;f++){var A=b[f],F=h[A];(null==F||F.$$stub)&&d.add_stub_for(h,A)}};d.add_stub_for=function(b,h){var f=d.stub_for(h);x(b,h,f)};d.stub_for=function(b){function h(){this.$method_missing.$$p=h.$$p;h.$$p=null;for(var f=Array(arguments.length),q=0,A=f.length;q<A;q++)f[q]=arguments[q];return this.$method_missing.apply(this,[b.slice(1)].concat(f))}h.$$stub=!0;return h};d.ac=function(b,h,f,q){var A="";A=f.$$is_a_module?A+(f.$$name+"."):A+(f.$$class.$$name+
"#");throw d.ArgumentError.$new("["+(A+q)+"] wrong number of arguments("+b+" for "+h+")");};d.block_ac=function(b,h,f){throw d.ArgumentError.$new("`block in "+f+"': wrong number of arguments ("+b+" for "+h+")");};d.find_super_dispatcher=function(b,h,f,q,A){var F="$"+h;var G=b.hasOwnProperty("$$meta")?d.ancestors(b.$$meta):d.ancestors(b.$$class);for(f=G.indexOf(f.$$owner)+1;f<G.length;f++){var J=G[f].$$prototype;J.hasOwnProperty("$$dummy")&&(J=J.$$define_methods_on);if(J.hasOwnProperty(F)){var ca=
J[F];break}}if(!q&&ca&&ca.$$stub&&b.$method_missing.$$pristine)throw d.NoMethodError.$new("super: no superclass method `"+h+"' for "+b,h);return ca.$$stub&&!A?null:ca};d.find_iter_super_dispatcher=function(b,h,f,q,A){if(!f)throw d.RuntimeError.$new("super called outside of method");if(A&&f.$$define_meth)throw d.RuntimeError.$new("implicit argument passing of super from method defined by define_method() is not supported. Specify all arguments explicitly");f.$$def&&(h=f.$$jsid);return d.find_super_dispatcher(b,
h,f,q)};d.ret=function(b){d.returner.$v=b;throw d.returner;};d.brk=function(b,h){h.$v=b;throw h;};d.new_brk=function(){return Error("unexpected break")};d.yield1=function(b,h){if("function"!==typeof b)throw d.LocalJumpError.$new("no block given");var f=b.$$has_top_level_mlhs_arg,q=b.$$has_trailing_comma_in_args;if(1<b.length||(f||q)&&1===b.length)h=d.to_ary(h);return(1<b.length||q&&1===b.length)&&h.$$is_array?b.apply(null,h):b(h)};d.yieldX=function(b,h){if("function"!==typeof b)throw d.LocalJumpError.$new("no block given");
if(1<b.length&&1===h.length&&h[0].$$is_array)return b.apply(null,h[0]);if(!h.$$is_array){for(var f=Array(h.length),q=0,A=f.length;q<A;q++)f[q]=h[q];return b.apply(null,f)}return b.apply(null,h)};d.rescue=function(b,h){for(var f=0;f<h.length;f++){var q=h[f];if(q.$$is_array){if(q=d.rescue(b,q))return q}else if(q===d.JS.Error||q["$==="](b))return q}return null};d.is_a=function(b,h){if(null!=h&&b.$$meta===h||b.$$class===h)return!0;if(b.$$is_number&&h.$$is_number_class)return h.$$is_integer_class?0===
b%1:!0;var f,q=d.ancestors(b.$$is_class?d.get_singleton_class(b):b.$$meta||b.$$class);b=0;for(f=q.length;b<f;b++)if(q[b]===h)return!0;return!1};d.to_hash=function(b){if(b.$$is_hash)return b;if(b["$respond_to?"]("to_hash",!0)){var h=b.$to_hash();if(h.$$is_hash)return h;throw d.TypeError.$new("Can't convert "+b.$$class+" to Hash ("+b.$$class+"#to_hash gives "+h.$$class+")");}throw d.TypeError.$new("no implicit conversion of "+b.$$class+" into Hash");};d.to_ary=function(b){if(b.$$is_array)return b;if(b["$respond_to?"]("to_ary",
!0)){var h=b.$to_ary();if(h===ma)return[b];if(h.$$is_array)return h;throw d.TypeError.$new("Can't convert "+b.$$class+" to Array ("+b.$$class+"#to_ary gives "+h.$$class+")");}return[b]};d.to_a=function(b){if(b.$$is_array)return b.slice();if(b["$respond_to?"]("to_a",!0)){var h=b.$to_a();if(h===ma)return[b];if(h.$$is_array)return h;throw d.TypeError.$new("Can't convert "+b.$$class+" to Array ("+b.$$class+"#to_a gives "+h.$$class+")");}return[b]};d.extract_kwargs=function(b){var h=b[b.length-1];return null!=
h&&d.respond_to(h,"$to_hash",!0)?(ja.call(b,b.length-1,1),h.$to_hash()):d.hash2([],{})};d.kwrestargs=function(b,h){var f=[],q={},A;b=b.$$smap;for(A in b)h[A]||(f.push(A),q[A]=b[A]);return d.hash2(f,q)};d.send=function(b,h,f,q){if("function"===typeof h){var A=h;h=null}else if("string"===typeof h)A=b["$"+h];else throw d.NameError.$new("Passed method should be a string or a function");return d.send2(b,A,h,f,q)};d.send2=function(b,h,f,q,A){null==h&&null!=f&&b.$method_missing&&(h=b.$method_missing,q=[f].concat(q));
"function"===typeof A&&(h.$$p=A);return h.apply(b,q)};d.lambda=function(b){b.$$is_lambda=!0;return b};d.def=function(b,h,f){b===d.top?d.defn(d.Object,h,f):!b.$$eval&&b.$$is_a_module?d.defn(b,h,f):d.defs(b,h,f)};d.defn=function(b,h,f){f.displayName=h;f.$$owner=b;var q=b.$$prototype;q.hasOwnProperty("$$dummy")&&(q=q.$$define_methods_on);x(q,h,f);if(b.$$is_module){b.$$module_function&&d.defs(b,h,f);q=0;for(var A=b.$$iclasses,F=A.length;q<F;q++)x(A[q],h,f)}f=b.$$singleton_of;!b.$method_added||b.$method_added.$$stub||
f?f&&f.$singleton_method_added&&!f.$singleton_method_added.$$stub&&f.$singleton_method_added(h.substr(1)):b.$method_added(h.substr(1))};d.defs=function(b,h,f){if(b.$$is_string||b.$$is_number)throw d.TypeError.$new("can't define singleton");d.defn(d.get_singleton_class(b),h,f)};d.rdef=function(b,h){if(!l.call(b.$$prototype,h))throw d.NameError.$new("method '"+h.substr(1)+"' not defined in "+b.$name());delete b.$$prototype[h];b.$$is_singleton?b.$$prototype.$singleton_method_removed&&!b.$$prototype.$singleton_method_removed.$$stub&&
b.$$prototype.$singleton_method_removed(h.substr(1)):b.$method_removed&&!b.$method_removed.$$stub&&b.$method_removed(h.substr(1))};d.udef=function(b,h){if(!b.$$prototype[h]||b.$$prototype[h].$$stub)throw d.NameError.$new("method '"+h.substr(1)+"' not defined in "+b.$name());d.add_stub_for(b.$$prototype,h);b.$$is_singleton?b.$$prototype.$singleton_method_undefined&&!b.$$prototype.$singleton_method_undefined.$$stub&&b.$$prototype.$singleton_method_undefined(h.substr(1)):b.$method_undefined&&!b.$method_undefined.$$stub&&
b.$method_undefined(h.substr(1))};d.alias=function(b,h,f){var q="$"+h,A="$"+f,F=b.$$prototype["$"+f];if(b.$$eval)return d.alias(d.get_singleton_class(b),h,f);if(!e(F)){for(var G=b.$$super;"function"!==typeof F&&G;)F=G[A],G=G.$$super;!e(F)&&b.$$is_module&&(F=d.Object.$$prototype[A]);if(!e(F))throw d.NameError.$new("undefined method `"+f+"' for class `"+b.$name()+"'");}F.$$alias_of&&(F=F.$$alias_of);var J=function(){var ca=J.$$p,va;var Pa=Array(arguments.length);var wa=0;for(va=arguments.length;wa<
va;wa++)Pa[wa]=arguments[wa];null!=ca&&(J.$$p=null);return d.send(this,F,Pa,ca)};try{Object.defineProperty(J,"length",{value:F.length})}catch(ca){}J.displayName=h;J.$$arity=F.$$arity;J.$$parameters=F.$$parameters;J.$$source_location=F.$$source_location;J.$$alias_of=F;J.$$alias_name=h;d.defn(b,q,J);return b};d.alias_native=function(b,h,f){h="$"+h;var q=b.$$prototype[f];if("function"!==typeof q||q.$$stub)throw d.NameError.$new("undefined native method `"+f+"' for class `"+b.$name()+"'");d.defn(b,h,
q);return b};d.hash_init=function(b){b.$$smap=Object.create(null);b.$$map=Object.create(null);b.$$keys=[]};d.hash_clone=function(b,h){h.$$none=b.$$none;h.$$proc=b.$$proc;var f=0,q=b.$$keys;b=b.$$smap;for(var A=q.length,F,G;f<A;f++)F=q[f],F.$$is_string?G=b[F]:(G=F.value,F=F.key),d.hash_put(h,F,G)};d.hash_put=function(b,h,f){if(h.$$is_string)l.call(b.$$smap,h)||b.$$keys.push(h),b.$$smap[h]=f;else{var q;var A=b.$$by_identity?d.id(h):h.$hash();if(l.call(b.$$map,A)){for(q=b.$$map[A];q;){if(h===q.key||
h["$eql?"](q.key)){var F=void 0;q.value=f;break}F=q;q=q.next}F&&(q={key:h,key_hash:A,value:f},b.$$keys.push(q),F.next=q)}else q={key:h,key_hash:A,value:f},b.$$keys.push(q),b.$$map[A]=q}};d.hash_get=function(b,h){if(h.$$is_string){if(l.call(b.$$smap,h))return b.$$smap[h]}else{var f=b.$$by_identity?d.id(h):h.$hash();if(l.call(b.$$map,f))for(b=b.$$map[f];b;){if(h===b.key||h["$eql?"](b.key))return b.value;b=b.next}}};d.hash_delete=function(b,h){var f,q=b.$$keys,A=q.length;if(h.$$is_string){"string"!==
typeof h&&(h=h.valueOf());if(!l.call(b.$$smap,h))return;for(f=0;f<A;f++)if(q[f]===h){q.splice(f,1);break}var F=b.$$smap[h];delete b.$$smap[h];return F}var G=h.$hash();if(l.call(b.$$map,G))for(var J=b.$$map[G],ca;J;){if(h===J.key||h["$eql?"](J.key)){F=J.value;for(f=0;f<A;f++)if(q[f]===J){q.splice(f,1);break}ca&&J.next?ca.next=J.next:ca?delete ca.next:J.next?b.$$map[G]=J.next:delete b.$$map[G];return F}ca=J;J=J.next}};d.hash_rehash=function(b){for(var h=0,f=b.$$keys.length,q,A,F;h<f;h++)if(!b.$$keys[h].$$is_string&&
(q=b.$$keys[h].key.$hash(),q!==b.$$keys[h].key_hash)){A=b.$$map[b.$$keys[h].key_hash];for(F=void 0;A;){if(A===b.$$keys[h]){F&&A.next?F.next=A.next:F?delete F.next:A.next?b.$$map[b.$$keys[h].key_hash]=A.next:delete b.$$map[b.$$keys[h].key_hash];break}F=A;A=A.next}b.$$keys[h].key_hash=q;if(l.call(b.$$map,q)){A=b.$$map[q];for(F=void 0;A;){if(A===b.$$keys[h]){F=void 0;break}F=A;A=A.next}F&&(F.next=b.$$keys[h])}else b.$$map[q]=b.$$keys[h]}};d.hash=function(){var b=arguments.length,h;if(1===b&&arguments[0].$$is_hash)return arguments[0];
var f=new d.Hash;d.hash_init(f);if(1===b&&arguments[0].$$is_array){b=arguments[0];var q=b.length;for(h=0;h<q;h++){if(2!==b[h].length)throw d.ArgumentError.$new("value not of length 2: "+b[h].$inspect());var A=b[h][0];var F=b[h][1];d.hash_put(f,A,F)}return f}if(1===b){b=arguments[0];for(A in b)l.call(b,A)&&(F=b[A],d.hash_put(f,A,F));return f}if(0!==b%2)throw d.ArgumentError.$new("odd number of arguments for Hash");for(h=0;h<b;h+=2)A=arguments[h],F=arguments[h+1],d.hash_put(f,A,F);return f};d.hash2=
function(b,h){var f=new d.Hash;f.$$smap=h;f.$$map=Object.create(null);f.$$keys=b;return f};d.range=function(b,h,f){var q=new d.Range;q.begin=b;q.end=h;q.excl=f;return q};d.ivar=function(b){return"constructor"===b||"displayName"===b||"__count__"===b||"__noSuchMethod__"===b||"__parent__"===b||"__proto__"===b||"hasOwnProperty"===b||"valueOf"===b?b+"$":b};d.escape_regexp=function(b){return b.replace(/([-[\]\/{}()*+?.^$\\| ])/g,"\\$1").replace(/[\n]/g,"\\n").replace(/[\r]/g,"\\r").replace(/[\f]/g,"\\f").replace(/[\t]/g,
"\\t")};d.global_regexp=function(b){if(b.global)return b;null==b.$$g?b.$$g=new RegExp(b.source,(b.multiline?"gm":"g")+(b.ignoreCase?"i":"")):b.$$g.lastIndex=null;return b.$$g};d.global_multiline_regexp=function(b){if(b.multiline){if(b.global)return b;b=null!=b.$$g?b.$$g:b.$$g=new RegExp(b.source,"gm"+(b.ignoreCase?"i":""))}else b=null!=b.$$gm?b.$$gm:b.$$gm=new RegExp(b.source,"gm"+(b.ignoreCase?"i":""));b.lastIndex=null;return b};d.regexp=function(b,h){for(var f,q="undefined"!==typeof h&&h&&0<=h.indexOf("i"),
A=0,F=b.length;A<F;A++)f=b[A],f instanceof RegExp&&(f.ignoreCase!==q&&d.Kernel.$warn("ignore case doesn't match for "+f.source.$inspect(),d.hash({uplevel:1})),f=f.source),""===f&&(f="(?:"+f+")"),b[A]=f;return h?new RegExp(b.join(""),h):new RegExp(b.join(""))};d.modules={};d.loaded_features=["corelib/runtime"];d.current_dir=".";d.require_table={"corelib/runtime":!0};d.normalize=function(b){var h=[];"."!==d.current_dir&&(b=d.current_dir.replace(/\/*$/,"/")+b);b=b.replace(/^\.\//,"");b=b.replace(/\.(rb|opal|js)$/,
"");b=b.split("/");for(var f=0,q=b.length;f<q;f++){var A=b[f];""!==A&&(".."===A?h.pop():h.push(A))}return h.join("/")};d.loaded=function(b){var h;var f=0;for(h=b.length;f<h;f++){var q=d.normalize(b[f]);d.require_table[q]||(d.loaded_features.push(q),d.require_table[q]=!0)}};d.load=function(b){b=d.normalize(b);d.loaded([b]);var h=d.modules[b];if(h)h(d);else{h=d.config.missing_require_severity;b="cannot load such file -- "+b;if("error"===h){if(d.LoadError)throw d.LoadError.$new(b);throw b;}"warning"===
h&&E.warn("WARNING: LoadError: "+b)}return!0};d.require=function(b){b=d.normalize(b);return d.require_table[b]?!1:d.load(b)};d.encodings=Object.create(null);d.set_encoding=function(b,h){if("string"===typeof b)throw d.FrozenError.$new("can't modify frozen String");h=d.encodings[h];if(h===b.encoding)return b;b.encoding=h;return b};d.enc=function(b,h){b=new String(b);d.set_encoding(b,h);b.internal_encoding=b.encoding;return b};d.BasicObject=c=d.allocate_class("BasicObject",null,function(){});d.Object=
k=d.allocate_class("Object",d.BasicObject,function(){});d.Module=a=d.allocate_class("Module",d.Object,function(){});d.Class=L=d.allocate_class("Class",d.Module,function(){});y(d.BasicObject,d.Class.$$prototype);y(d.Object,d.Class.$$prototype);y(d.Module,d.Class.$$prototype);y(d.Class,d.Class.$$prototype);c.$$const.BasicObject=c;d.const_set(k,"BasicObject",c);d.const_set(k,"Object",k);d.const_set(k,"Module",a);d.const_set(k,"Class",L);c.$$class=L;k.$$class=L;a.$$class=L;L.$$class=L;x(k.$$prototype,
"toString",function(){var b=this.$to_s();return b.$$is_string&&"object"===typeof b?b.valueOf():b});x(k.$$prototype,"$require",d.require);d.top=new k;d.top.$to_s=d.top.$inspect=function(){return"main"};d.top.$define_method=m;d.NilClass=d.allocate_class("NilClass",d.Object,function(){});d.const_set(k,"NilClass",d.NilClass);var ma=d.nil=new d.NilClass;ma.$$id=4;ma.call=ma.apply=function(){throw d.LocalJumpError.$new("no block given");};d.breaker=Error("unexpected break (old)");d.returner=Error("unexpected return");
TypeError.$$super=Error}).call(this);Opal.loaded(["corelib/runtime.js"]);
Opal.modules["corelib/helpers"]=function(a){var x=[],H=a.nil,t=a.$$,w=a.type_error,z=a.coerce_to,p=a.module,n=a.truthy;a.add_stubs("$=== $raise $respond_to? $nil? $__send__ $<=> $class $coerce_to! $new $!= $[] $upcase".split(" "));return function(u,D){u=p(u,"Opal");var e=[u].concat(D),m,E,c,k,L,d,l,N,y,S,ja;a.defs(u,"$bridge",m=function(ea,ma){return a.bridge(ea,ma)},m.$$arity=2);a.defs(u,"$coerce_to!",E=function(ea,ma,b,h){var f=a.slice.call(arguments,3,arguments.length);f=z(ea,ma,b,f);n(ma["$==="](f))||
this.$raise(w(ea,ma,b,f));return f},E.$$arity=-4);a.defs(u,"$coerce_to?",c=function(ea,ma,b,h){var f=a.slice.call(arguments,3,arguments.length);if(!n(ea["$respond_to?"](b)))return H;f=z(ea,ma,b,f);if(n(f["$nil?"]()))return H;n(ma["$==="](f))||this.$raise(w(ea,ma,b,f));return f},c.$$arity=-4);a.defs(u,"$try_convert",k=function(ea,ma,b){return n(ma["$==="](ea))?ea:n(ea["$respond_to?"](b))?ea.$__send__(b):H},k.$$arity=3);a.defs(u,"$compare",L=function(ea,ma){var b=ea["$<=>"](ma);n(b===H)&&this.$raise(t(e,
"ArgumentError"),"comparison of "+ea.$class()+" with "+ma.$class()+" failed");return b},L.$$arity=2);a.defs(u,"$destructure",d=function(ea){if(1==ea.length)return ea[0];if(ea.$$is_array)return ea;for(var ma=Array(ea.length),b=0,h=ma.length;b<h;b++)ma[b]=ea[b];return ma},d.$$arity=1);a.defs(u,"$respond_to?",l=function(ea,ma,b){null==b&&(b=!1);return null!=ea&&ea.$$class?ea["$respond_to?"](ma,b):!1},l.$$arity=-3);a.defs(u,"$instance_variable_name!",N=function(ea){ea=t(e,"Opal")["$coerce_to!"](ea,t(e,
"String"),"to_str");n(/^@[a-zA-Z_][a-zA-Z0-9_]*?$/.test(ea))||this.$raise(t(e,"NameError").$new("'"+ea+"' is not allowed as an instance variable name",ea));return ea},N.$$arity=1);a.defs(u,"$class_variable_name!",y=function(ea){ea=t(e,"Opal")["$coerce_to!"](ea,t(e,"String"),"to_str");n(3>ea.length||"@@"!==ea.slice(0,2))&&this.$raise(t(e,"NameError").$new("`"+ea+"' is not allowed as a class variable name",ea));return ea},y.$$arity=1);a.defs(u,"$const_name!",S=function(ea){ea=t(e,"Opal")["$coerce_to!"](ea,
t(e,"String"),"to_str");n(ea["$[]"](0)["$!="](ea["$[]"](0).$upcase()))&&this.$raise(t(e,"NameError"),"wrong constant name "+ea);return ea},S.$$arity=1);a.defs(u,"$pristine",ja=function(ea,ma){var b=a.slice.call(arguments,1,arguments.length);for(var h,f=b.length-1;0<=f;f--)h=b[f],(h=ea.$$prototype["$"+h])&&!h.$$stub&&(h.$$pristine=!0);return H},ja.$$arity=-2)}(x[0],x)};
Opal.modules["corelib/module"]=function(a){function x(k,L){return"number"===typeof k&&"number"===typeof L?k<L:k["$<"](L)}var H=[],t=a.nil,w=a.$$$,z=a.$$,p=a.truthy,n=a.coerce_to,u=a.klass,D=a.send,e=a.hash2,m=a.lambda,E=a.range,c=a.send2;a.add_stubs("$module_eval $to_proc $=== $raise $equal? $< $> $nil? $attr_reader $attr_writer $warn $attr_accessor $class_variable_name! $new $const_name! $=~ $inject $split $const_get $== $!~ $start_with? $bind $call $class $append_features $included $name $cover? $size $merge $compile $proc $any? $prepend_features $prepended $to_s $__id__ $constants $include? $copy_class_variables $copy_constants".split(" "));
return function(k,$super,d){k=u(k,$super,"Module");var l=[k].concat(d),N,y,S,ja,ea,ma,b,h,f,q,A,F,G,J,ca,va,Pa,wa,Aa,La,na,T,sa,xa,Ja,ka,M,K,Y,qa,fa,ta,Ea,Ha,Ra,Sa,Ma,gb,kb,W,ya,Ba,Va,bb,db,Ca,Wa,za,ua,Na,Ta,Za,Fa,Z,R,aa,U,ha,la;a.defs(k,"$allocate",N=function(){var g=a.allocate_module(t,function(){});this!==a.Module&&Object.setPrototypeOf(g,this.$$prototype);return g},N.$$arity=0);a.def(k,"$initialize",y=function(){var g=y.$$p,C=g||t;g&&(y.$$p=null);g&&(y.$$p=null);return C!==t?D(this,"module_eval",
[],C.$to_proc()):t},y.$$arity=0);a.def(k,"$===",S=function(g){return p(null==g)?!1:a.is_a(g,this)},S.$$arity=1);a.def(k,"$<",ja=function(g){p(z(l,"Module")["$==="](g))||this.$raise(z(l,"TypeError"),"compared with non class/module");var C;if(this===g)return!1;var O=0;var ba=a.ancestors(this);for(C=ba.length;O<C;O++)if(ba[O]===g)return!0;O=0;ba=a.ancestors(g);for(C=ba.length;O<C;O++)if(ba[O]===this)return!1;return t},ja.$$arity=1);a.def(k,"$<=",ea=function(g){var C;return p(C=this["$equal?"](g))?C:
x(this,g)},ea.$$arity=1);a.def(k,"$>",ma=function(g){p(z(l,"Module")["$==="](g))||this.$raise(z(l,"TypeError"),"compared with non class/module");return x(g,this)},ma.$$arity=1);a.def(k,"$>=",b=function(g){var C;return p(C=this["$equal?"](g))?C:"number"===typeof this&&"number"===typeof g?this>g:this["$>"](g)},b.$$arity=1);a.def(k,"$<=>",h=function(g){if(this===g)return 0;if(!p(z(l,"Module")["$==="](g)))return t;g=x(this,g);return p(g["$nil?"]())?t:p(g)?-1:1},h.$$arity=1);a.def(k,"$alias_method",f=
function(g,C){g=n(g,z(l,"String"),"to_str");C=n(C,z(l,"String"),"to_str");a.alias(this,g,C);return this},f.$$arity=2);a.def(k,"$alias_native",q=function(g,C){null==C&&(C=g);a.alias_native(this,g,C);return this},q.$$arity=-2);a.def(k,"$ancestors",A=function(){return a.ancestors(this)},A.$$arity=0);a.def(k,"$append_features",F=function(g){a.append_features(this,g);return this},F.$$arity=1);a.def(k,"$attr_accessor",G=function(g){var C=a.slice.call(arguments,0,arguments.length);D(this,"attr_reader",a.to_a(C));
return D(this,"attr_writer",a.to_a(C))},G.$$arity=-1);a.def(k,"$attr",J=function(g){var C=a.slice.call(arguments,0,arguments.length);return 2!=C.length||!0!==C[1]&&!1!==C[1]?D(this,"attr_reader",a.to_a(C)):(this.$warn("optional boolean argument is obsoleted",e(["uplevel"],{uplevel:1})),C[1]?this.$attr_accessor(C[0]):this.$attr_reader(C[0]),t)},J.$$arity=-1);a.def(k,"$attr_reader",ca=function(g){var C=a.slice.call(arguments,0,arguments.length);for(var O=this.$$prototype,ba=C.length-1;0<=ba;ba--){var v=
C[ba],V="$"+v;v=a.ivar(v);var oa=function(Ka){return function(){return null==this[Ka]?t:this[Ka]}}(v);a.defineProperty(O,v,t);oa.$$parameters=[];oa.$$arity=0;a.defn(this,V,oa)}return t},ca.$$arity=-1);a.def(k,"$attr_writer",va=function(g){var C=a.slice.call(arguments,0,arguments.length);for(var O=this.$$prototype,ba=C.length-1;0<=ba;ba--){var v=C[ba],V="$"+v+"=";v=a.ivar(v);var oa=function(Ka){return function(jb){return this[Ka]=jb}}(v);oa.$$parameters=[["req"]];oa.$$arity=1;a.defineProperty(O,v,
t);a.defn(this,V,oa)}return t},va.$$arity=-1);a.def(k,"$autoload",Pa=function(g,C){null==this.$$autoload&&(this.$$autoload={});a.const_cache_version++;this.$$autoload[g]=C;return t},Pa.$$arity=2);a.def(k,"$class_variables",wa=function(){return Object.keys(a.class_variables(this))},wa.$$arity=0);a.def(k,"$class_variable_get",Aa=function(g){g=z(l,"Opal")["$class_variable_name!"](g);var C=a.class_variables(this)[g];null==C&&this.$raise(z(l,"NameError").$new("uninitialized class variable "+g+" in "+this,
g));return C},Aa.$$arity=1);a.def(k,"$class_variable_set",La=function(g,C){g=z(l,"Opal")["$class_variable_name!"](g);return a.class_variable_set(this,g,C)},La.$$arity=2);a.def(k,"$class_variable_defined?",na=function(g){g=z(l,"Opal")["$class_variable_name!"](g);return a.class_variables(this).hasOwnProperty(g)},na.$$arity=1);a.def(k,"$remove_class_variable",T=function(g){g=z(l,"Opal")["$class_variable_name!"](g);if(a.hasOwnProperty.call(this.$$cvars,g)){var C=this.$$cvars[g];delete this.$$cvars[g];
return C}this.$raise(z(l,"NameError"),"cannot remove "+g+" for "+this)},T.$$arity=1);a.def(k,"$constants",sa=function(g){null==g&&(g=!0);return a.constants(this,g)},sa.$$arity=-1);a.defs(k,"$constants",xa=function(g){if(null==g){g=(this.$$nesting||[]).concat(a.Object);var C,O={},ba;var v=0;for(ba=g.length;v<ba;v++)for(C in g[v].$$const)O[C]=!0;return Object.keys(O)}return a.constants(this,g)},xa.$$arity=-1);a.defs(k,"$nesting",Ja=function(){return this.$$nesting||[]},Ja.$$arity=0);a.def(k,"$const_defined?",
ka=function(g,C){null==C&&(C=!0);g=z(l,"Opal")["$const_name!"](g);p(g["$=~"](w(z(l,"Opal"),"CONST_NAME_REGEXP")))||this.$raise(z(l,"NameError").$new("wrong constant name "+g,g));var O=[this],ba;C&&(O=O.concat(a.ancestors(this)),this.$$is_module&&(O=O.concat([a.Object]).concat(a.ancestors(a.Object))));var v=0;for(ba=O.length;v<ba;v++)if(C=O[v],null!=C.$$const[g])return!0;return!1},ka.$$arity=-2);a.def(k,"$const_get",M=function(g,C){var O;null==C&&(C=!0);g=z(l,"Opal")["$const_name!"](g);0===g.indexOf("::")&&
"::"!==g&&(g=g.slice(2));if(p(-1!=g.indexOf("::")&&"::"!=g))return D(g.$split("::"),"inject",[this],(O=function(ba,v){null==ba&&(ba=t);null==v&&(v=t);return ba.$const_get(v)},O.$$s=this,O.$$arity=2,O));p(g["$=~"](w(z(l,"Opal"),"CONST_NAME_REGEXP")))||this.$raise(z(l,"NameError").$new("wrong constant name "+g,g));return C?z([this],g):a.const_get_local(this,g)},M.$$arity=-2);a.def(k,"$const_missing",K=function(g){var C;if(this.$$autoload&&(C=this.$$autoload[g]))return this.$require(C),this.$const_get(g);
C=this["$=="](z(l,"Object"))?g:""+this+"::"+g;return this.$raise(z(l,"NameError").$new("uninitialized constant "+C,g))},K.$$arity=1);a.def(k,"$const_set",Y=function(g,C){var O=t;g=z(l,"Opal")["$const_name!"](g);p(p(O=g["$!~"](w(z(l,"Opal"),"CONST_NAME_REGEXP")))?O:g["$start_with?"]("::"))&&this.$raise(z(l,"NameError").$new("wrong constant name "+g,g));a.const_set(this,g,C);return C},Y.$$arity=2);a.def(k,"$public_constant",qa=function(){return t},qa.$$arity=1);a.def(k,"$define_method",fa=function(g,
C){var O=fa.$$p,ba=O||t,v,V=this,oa=t,Ka=t;O&&(fa.$$p=null);O&&(fa.$$p=null);p(void 0===C&&ba===t)&&V.$raise(z(l,"ArgumentError"),"tried to create a Proc object without a block");ba=function(){return p(oa=ba)?oa:function(){Ka=C;return z(l,"Proc")["$==="](Ka)?C:z(l,"Method")["$==="](Ka)?C.$to_proc().$$unbound:z(l,"UnboundMethod")["$==="](Ka)?m((v=function(jb){var ob=null==v.$$s?this:v.$$s;var mb=a.slice.call(arguments,0,arguments.length);ob=C.$bind(ob);return D(ob,"call",a.to_a(mb))},v.$$s=V,v.$$arity=
-1,v)):V.$raise(z(l,"TypeError"),"wrong argument type "+ba.$class()+" (expected Proc/Method)")}()}();ba.$$jsid=g;ba.$$s=null;ba.$$def=ba;ba.$$define_meth=!0;a.defn(V,"$"+g,ba);return g},fa.$$arity=-2);a.def(k,"$remove_method",ta=function(g){var C=a.slice.call(arguments,0,arguments.length);for(var O=0,ba=C.length;O<ba;O++)a.rdef(this,"$"+C[O]);return this},ta.$$arity=-1);a.def(k,"$singleton_class?",Ea=function(){return!!this.$$is_singleton},Ea.$$arity=0);a.def(k,"$include",Ha=function(g){var C=a.slice.call(arguments,
0,arguments.length);for(var O=C.length-1;0<=O;O--){var ba=C[O];ba.$$is_module||this.$raise(z(l,"TypeError"),"wrong argument type "+ba.$class()+" (expected Module)");ba.$append_features(this);ba.$included(this)}return this},Ha.$$arity=-1);a.def(k,"$included_modules",Ra=function(){return a.included_modules(this)},Ra.$$arity=0);a.def(k,"$include?",Sa=function(g){g.$$is_module||this.$raise(z(l,"TypeError"),"wrong argument type "+g.$class()+" (expected Module)");var C,O=a.ancestors(this);var ba=0;for(C=
O.length;ba<C;ba++){var v=O[ba];if(v===g&&v!==this)return!0}return!1},Sa.$$arity=1);a.def(k,"$instance_method",Ma=function(g){var C=this.$$prototype["$"+g];C&&!C.$$stub||this.$raise(z(l,"NameError").$new("undefined method `"+g+"' for class `"+this.$name()+"'",g));return z(l,"UnboundMethod").$new(this,C.$$owner||this,C,g)},Ma.$$arity=1);a.def(k,"$instance_methods",gb=function(g){null==g&&(g=!0);return p(g)?a.instance_methods(this):a.own_instance_methods(this)},gb.$$arity=-1);a.def(k,"$included",kb=
function(){return t},kb.$$arity=1);a.def(k,"$extended",W=function(){return t},W.$$arity=1);a.def(k,"$extend_object",ya=function(){return t},ya.$$arity=1);a.def(k,"$method_added",Ba=function(g){a.slice.call(arguments,0,arguments.length);return t},Ba.$$arity=-1);a.def(k,"$method_removed",Va=function(g){a.slice.call(arguments,0,arguments.length);return t},Va.$$arity=-1);a.def(k,"$method_undefined",bb=function(g){a.slice.call(arguments,0,arguments.length);return t},bb.$$arity=-1);a.def(k,"$module_eval",
db=function(g){var C=db.$$p,O=C||t,ba,v,V=t,oa=ba=t,Ka=oa=t,jb=oa=t;C&&(db.$$p=null);C&&(db.$$p=null);ba=a.slice.call(arguments,0,arguments.length);p(p(V=O["$nil?"]())?!!a.compile:V)?(p(E(1,3,!1)["$cover?"](ba.$size()))||z(l,"Kernel").$raise(z(l,"ArgumentError"),"wrong number of arguments (0 for 1..3)"),O=[].concat(a.to_a(ba)),ba=null==O[0]?t:O[0],oa=null==O[1]?t:O[1],O,oa=e(["file","eval"],{file:p(Ka=oa)?Ka:"(eval)",eval:!0}),oa=a.hash({arity_check:!1}).$merge(oa),jb=z(l,"Opal").$compile(ba,oa),
O=D(z(l,"Kernel"),"proc",[],(v=function(){return function(){return eval(jb)}(null==v.$$s?this:v.$$s)},v.$$s=this,v.$$arity=0,v))):p(ba["$any?"]())&&z(l,"Kernel").$raise(z(l,"ArgumentError"),"wrong number of arguments ("+ba.$size()+" for 0)\n\n  NOTE:If you want to enable passing a String argument please add \"require 'opal-parser'\" to your script\n");Ka=O.$$s;O.$$s=null;V=O.apply(this,[this]);O.$$s=Ka;return V},db.$$arity=-1);a.alias(k,"class_eval","module_eval");a.def(k,"$module_exec",Ca=function(g){var C=
Ca.$$p,O=C||t;C&&(Ca.$$p=null);C&&(Ca.$$p=null);var ba=a.slice.call(arguments,0,arguments.length);O===t&&this.$raise(z(l,"LocalJumpError"),"no block given");C=O.$$s;O.$$s=null;ba=O.apply(this,ba);O.$$s=C;return ba},Ca.$$arity=-1);a.alias(k,"class_exec","module_exec");a.def(k,"$method_defined?",Wa=function(g){g=this.$$prototype["$"+g];return!!g&&!g.$$stub},Wa.$$arity=1);a.def(k,"$module_function",za=function(g){var C=a.slice.call(arguments,0,arguments.length);if(0===C.length)this.$$module_function=
!0;else for(var O=0,ba=C.length;O<ba;O++){var v="$"+C[O];a.defs(this,v,this.$$prototype[v])}return this},za.$$arity=-1);a.def(k,"$name",ua=function(){if(this.$$full_name)return this.$$full_name;for(var g=[],C=this;C;){if(C.$$name===t||null==C.$$name)return t;g.unshift(C.$$name);C=C.$$base_module;if(C===a.Object)break}return 0===g.length?t:this.$$full_name=g.join("::")},ua.$$arity=0);a.def(k,"$prepend",Na=function(g){var C=a.slice.call(arguments,0,arguments.length);0===C.length&&this.$raise(z(l,"ArgumentError"),
"wrong number of arguments (given 0, expected 1+)");for(var O=C.length-1;0<=O;O--){var ba=C[O];ba.$$is_module||this.$raise(z(l,"TypeError"),"wrong argument type "+ba.$class()+" (expected Module)");ba.$prepend_features(this);ba.$prepended(this)}return this},Na.$$arity=-1);a.def(k,"$prepend_features",Ta=function(g){this.$$is_module||this.$raise(z(l,"TypeError"),"wrong argument type "+this.$class()+" (expected Module)");a.prepend_features(this,g);return this},Ta.$$arity=1);a.def(k,"$prepended",Za=function(){return t},
Za.$$arity=1);a.def(k,"$remove_const",Fa=function(g){return a.const_remove(this,g)},Fa.$$arity=1);a.def(k,"$to_s",Z=function(){var g;return p(g=a.Module.$name.call(this))?g:"#<"+(this.$$is_module?"Module":"Class")+":0x"+this.$__id__().$to_s(16)+">"},Z.$$arity=0);a.def(k,"$undef_method",R=function(g){var C=a.slice.call(arguments,0,arguments.length);for(var O=0,ba=C.length;O<ba;O++)a.udef(this,"$"+C[O]);return this},R.$$arity=-1);a.def(k,"$instance_variables",aa=function(){var g=(a.Module.$$nesting=
l,this.$constants());var C=[],O;for(O in this)this.hasOwnProperty(O)&&"$"!==O.charAt(0)&&"constructor"!==O&&!g["$include?"](O)&&C.push("@"+O);return C},aa.$$arity=0);a.def(k,"$dup",U=function(){var g=U.$$p,C;g&&(U.$$p=null);var O=0;var ba=arguments.length;for(C=Array(ba);O<ba;O++)C[O]=arguments[O];g=c(this,a.find_super_dispatcher(this,"dup",U,!1,!0),"dup",C,g);g.$copy_class_variables(this);g.$copy_constants(this);return g},U.$$arity=0);a.def(k,"$copy_class_variables",ha=function(g){for(var C in g.$$cvars)this.$$cvars[C]=
g.$$cvars[C]},ha.$$arity=1);return(a.def(k,"$copy_constants",la=function(g){var C;g=g.$$const;for(C in g)a.const_set(this,C,g[C])},la.$$arity=1),t)&&"copy_constants"}(H[0],null,H)};
Opal.modules["corelib/class"]=function(a){var x=a.top,H=[],t=a.nil,w=a.$$,z=a.klass,p=a.send,n=a.send2;a.add_stubs("$require $class_eval $to_proc $initialize_copy $allocate $name $to_s".split(" "));x.$require("corelib/module");return function(u,$super,e){u=z(u,$super,"Class");var m=[u].concat(e),E,c,k,L,d,l,N;a.defs(u,"$new",E=function(y){var S=E.$$p,ja=S||t;S&&(E.$$p=null);S&&(E.$$p=null);null==y&&(y=w(m,"Object"));if(!y.$$is_class)throw a.TypeError.$new("superclass must be a Class");S=a.allocate_class(t,
y);y.$inherited(S);ja!==t&&p(S,"class_eval",[],ja.$to_proc());return S},E.$$arity=-1);a.def(u,"$allocate",c=function(){var y=new this.$$constructor;y.$$id=a.uid();return y},c.$$arity=0);a.def(u,"$inherited",k=function(){return t},k.$$arity=1);a.def(u,"$initialize_dup",L=function(y){this.$initialize_copy(y);this.$$full_name=this.$$name=null},L.$$arity=1);a.def(u,"$new",d=function(y){var S=d.$$p,ja=S||t;S&&(d.$$p=null);S&&(d.$$p=null);S=a.slice.call(arguments,0,arguments.length);var ea=this.$allocate();
a.send(ea,ea.$initialize,S,ja);return ea},d.$$arity=-1);a.def(u,"$superclass",l=function(){return this.$$super||t},l.$$arity=0);return(a.def(u,"$to_s",N=function(){N.$$p&&(N.$$p=null);var y=this.$$singleton_of;return y&&y.$$is_a_module?"#<Class:"+y.$name()+">":y?"#<Class:#<"+y.$$class.$name()+":0x"+a.id(y).$to_s(16)+">>":n(this,a.find_super_dispatcher(this,"to_s",N,!1,!0),"to_s",[],null)},N.$$arity=0),t)&&"to_s"}(H[0],null,H)};
Opal.modules["corelib/basic_object"]=function(a){var x=[],H=a.nil,t=a.$$$,w=a.klass,z=a.truthy,p=a.range,n=a.hash2,u=a.send;a.add_stubs("$== $! $nil? $cover? $size $raise $merge $compile $proc $any? $inspect $new".split(" "));return function(D,$super,m){D=w(D,$super,"BasicObject");[D].concat(m);var E,c,k,L,d,l,N,y,S,ja,ea,ma,b,h;a.def(D,"$initialize",E=function(f){a.slice.call(arguments,0,arguments.length);return H},E.$$arity=-1);a.def(D,"$==",c=function(f){return this===f},c.$$arity=1);a.def(D,"$eql?",
k=function(f){return this["$=="](f)},k.$$arity=1);a.alias(D,"equal?","==");a.def(D,"$__id__",L=function(){if(null!=this.$$id)return this.$$id;a.defineProperty(this,"$$id",a.uid());return this.$$id},L.$$arity=0);a.def(D,"$__send__",d=function(f,q){var A=d.$$p,F=A||H;A&&(d.$$p=null);A&&(d.$$p=null);A=a.slice.call(arguments,1,arguments.length);var G=this["$"+f];if(G)return F!==H&&(G.$$p=F),G.apply(this,A);F!==H&&(this.$method_missing.$$p=F);return this.$method_missing.apply(this,[f].concat(A))},d.$$arity=
-2);a.def(D,"$!",l=function(){return!1},l.$$arity=0);a.def(D,"$!=",N=function(f){return this["$=="](f)["$!"]()},N.$$arity=1);a.def(D,"$instance_eval",y=function(f){var q=y.$$p,A=q||H,F,G,J=H,ca=F=H,va=ca=H,Pa=ca=H;q&&(y.$$p=null);q&&(y.$$p=null);F=a.slice.call(arguments,0,arguments.length);z(z(J=A["$nil?"]())?!!a.compile:J)?(z(p(1,3,!1)["$cover?"](F.$size()))||t("::","Kernel").$raise(t("::","ArgumentError"),"wrong number of arguments (0 for 1..3)"),A=[].concat(a.to_a(F)),F=null==A[0]?H:A[0],ca=null==
A[1]?H:A[1],A,ca=n(["file","eval"],{file:z(va=ca)?va:"(eval)",eval:!0}),ca=a.hash({arity_check:!1}).$merge(ca),Pa=t("::","Opal").$compile(F,ca),A=u(t("::","Kernel"),"proc",[],(G=function(){return function(){return eval(Pa)}(null==G.$$s?this:G.$$s)},G.$$s=this,G.$$arity=0,G))):z(F["$any?"]())&&t("::","Kernel").$raise(t("::","ArgumentError"),"wrong number of arguments ("+F.$size()+" for 0)");va=A.$$s;A.$$s=null;if(this.$$is_a_module){this.$$eval=!0;try{var wa=A.call(this,this)}finally{this.$$eval=!1}}else wa=
A.call(this,this);A.$$s=va;return wa},y.$$arity=-1);a.def(D,"$instance_exec",S=function(f){var q=S.$$p,A=q||H;q&&(S.$$p=null);q&&(S.$$p=null);q=a.slice.call(arguments,0,arguments.length);z(A)||t("::","Kernel").$raise(t("::","ArgumentError"),"no block given");var F=A.$$s;A.$$s=null;if(this.$$is_a_module){this.$$eval=!0;try{var G=A.apply(this,q)}finally{this.$$eval=!1}}else G=A.apply(this,q);A.$$s=F;return G},S.$$arity=-1);a.def(D,"$singleton_method_added",ja=function(f){a.slice.call(arguments,0,arguments.length);
return H},ja.$$arity=-1);a.def(D,"$singleton_method_removed",ea=function(f){a.slice.call(arguments,0,arguments.length);return H},ea.$$arity=-1);a.def(D,"$singleton_method_undefined",ma=function(f){a.slice.call(arguments,0,arguments.length);return H},ma.$$arity=-1);a.def(D,"$method_missing",b=function(f,q){var A=b.$$p;A&&(b.$$p=null);A&&(b.$$p=null);a.slice.call(arguments,1,arguments.length);A=z(this.$inspect&&!this.$inspect.$$stub)?"undefined method `"+f+"' for "+this.$inspect()+":"+this.$$class:
"undefined method `"+f+"' for "+this.$$class;return t("::","Kernel").$raise(t("::","NoMethodError").$new(A,f))},b.$$arity=-2);return(a.def(D,"$respond_to_missing?",h=function(){return!1},h.$$arity=-2),H)&&"respond_to_missing?"}(x[0],null,x)};
Opal.modules["corelib/kernel"]=function(a){function x(c,k){return"number"===typeof c&&"number"===typeof k?c<=k:c["$<="](k)}var H=[],t=a.nil,w=a.$$$,z=a.$$,p=a.truthy,n=a.coerce_to,u=a.module,D=a.gvars,e=a.hash2,m=a.send,E=a.klass;a.add_stubs("$raise $new $inspect $! $=~ $== $object_id $class $coerce_to? $<< $allocate $copy_instance_variables $copy_singleton_methods $initialize_clone $initialize_copy $define_method $singleton_class $to_proc $initialize_dup $for $empty? $pop $call $append_features $extend_object $extended $__id__ $to_s $instance_variable_name! $respond_to? $to_int $coerce_to! $Integer $nil? $=== $enum_for $result $any? $print $format $puts $each $<= $length $[] $< $first $caller $+ $map $exception $is_a? $rand $respond_to_missing? $pristine $try_convert! $expand_path $join $start_with? $new_seed $srand $sym $arg $open $include".split(" "));(function(c,
k){c=u(c,"Kernel");var L=[c].concat(k),d,l,N,y,S,ja,ea,ma,b,h,f,q,A,F,G,J,ca,va,Pa,wa,Aa,La,na,T,sa,xa,Ja,ka,M,K,Y,qa,fa,ta,Ea,Ha,Ra,Sa,Ma,gb,kb,W,ya,Ba,Va,bb,db,Ca,Wa,za,ua,Na,Ta,Za,Fa,Z,R,aa,U,ha,la,g,C,O,ba;a.def(c,"$method_missing",d=function(v,V){var oa=d.$$p;oa&&(d.$$p=null);oa&&(d.$$p=null);oa=a.slice.call(arguments,1,arguments.length);return this.$raise(z(L,"NoMethodError").$new("undefined method `"+v+"' for "+this.$inspect(),v,oa))},d.$$arity=-2);a.def(c,"$=~",l=function(){return!1},l.$$arity=
1);a.def(c,"$!~",N=function(v){return this["$=~"](v)["$!"]()},N.$$arity=1);a.def(c,"$===",y=function(v){var V;return p(V=this.$object_id()["$=="](v.$object_id()))?V:this["$=="](v)},y.$$arity=1);a.def(c,"$<=>",S=function(v){this.$$comparable=!0;return(v=this["$=="](v))&&v!==t?0:t},S.$$arity=1);a.def(c,"$method",ja=function(v){var V=this["$"+v];V&&!V.$$stub||this.$raise(z(L,"NameError").$new("undefined method `"+v+"' for class `"+this.$class()+"'",v));return z(L,"Method").$new(this,V.$$owner||this.$class(),
V,v)},ja.$$arity=1);a.def(c,"$methods",ea=function(v){null==v&&(v=!0);return p(v)?a.methods(this):a.own_methods(this)},ea.$$arity=-1);a.def(c,"$public_methods",ma=function(v){null==v&&(v=!0);return p(v)?a.methods(this):a.receiver_methods(this)},ma.$$arity=-1);a.def(c,"$Array",b=function(v){if(v===t)return[];if(v.$$is_array)return v;var V=z(L,"Opal")["$coerce_to?"](v,z(L,"Array"),"to_ary");if(V!==t)return V;V=z(L,"Opal")["$coerce_to?"](v,z(L,"Array"),"to_a");return V!==t?V:[v]},b.$$arity=1);a.def(c,
"$at_exit",h=function(){var v=h.$$p,V=v||t,oa=t;null==D.__at_exit__&&(D.__at_exit__=t);v&&(h.$$p=null);v&&(h.$$p=null);D.__at_exit__=p(oa=D.__at_exit__)?oa:[];D.__at_exit__["$<<"](V);return V},h.$$arity=0);a.def(c,"$caller",f=function(v,V){null==V&&(V=t);v=(Error().stack||"").split("\n");var oa=[];for(var Ka=3,jb=v.length;Ka<jb&&(v[Ka].match("runtime.js")||(oa.push(v[Ka].replace(/^ *\w+ +/,"")),!V||oa.length!=V));Ka++);return oa},f.$$arity=-1);a.def(c,"$class",q=function(){return this.$$class},q.$$arity=
0);a.def(c,"$copy_instance_variables",A=function(v){var V=Object.keys(v),oa;var Ka=0;for(oa=V.length;Ka<oa;Ka++){var jb=V[Ka];"$"!==jb.charAt(0)&&v.hasOwnProperty(jb)&&(this[jb]=v[jb])}},A.$$arity=1);a.def(c,"$copy_singleton_methods",F=function(v){var V;if(v.hasOwnProperty("$$meta")){var oa=a.get_singleton_class(v),Ka=a.get_singleton_class(this);var jb=Object.getOwnPropertyNames(oa.$$prototype);var ob=0;for(V=jb.length;ob<V;ob++){var mb=jb[ob];a.is_method(mb)&&(Ka.$$prototype[mb]=oa.$$prototype[mb])}Ka.$$const=
Object.assign({},oa.$$const);Object.setPrototypeOf(Ka.$$prototype,Object.getPrototypeOf(oa.$$prototype))}ob=0;jb=Object.getOwnPropertyNames(v);for(V=jb.length;ob<V;ob++)mb=jb[ob],"$"===mb.charAt(0)&&"$"!==mb.charAt(1)&&v.hasOwnProperty(mb)&&(this[mb]=v[mb])},F.$$arity=1);a.def(c,"$clone",G=function(v){if(null==v)e([],{});else if(!v.$$is_hash)throw a.ArgumentError.$new("expected kwargs");v=this.$class().$allocate();v.$copy_instance_variables(this);v.$copy_singleton_methods(this);v.$initialize_clone(this);
return v},G.$$arity=-1);a.def(c,"$initialize_clone",J=function(v){return this.$initialize_copy(v)},J.$$arity=1);a.def(c,"$define_singleton_method",ca=function(v,V){var oa=ca.$$p,Ka=oa||t;oa&&(ca.$$p=null);oa&&(ca.$$p=null);return m(this.$singleton_class(),"define_method",[v,V],Ka.$to_proc())},ca.$$arity=-2);a.def(c,"$dup",va=function(){var v=this.$class().$allocate();v.$copy_instance_variables(this);v.$initialize_dup(this);return v},va.$$arity=0);a.def(c,"$initialize_dup",Pa=function(v){return this.$initialize_copy(v)},
Pa.$$arity=1);a.def(c,"$enum_for",wa=function(v,V){var oa=wa.$$p,Ka=oa||t;oa&&(wa.$$p=null);oa&&(wa.$$p=null);oa=a.slice.call(arguments,0,arguments.length);if(0<oa.length){var jb=oa[0];oa.splice(0,1)}null==jb&&(jb="each");return m(z(L,"Enumerator"),"for",[this,jb].concat(a.to_a(oa)),Ka.$to_proc())},wa.$$arity=-1);a.alias(c,"to_enum","enum_for");a.def(c,"$equal?",Aa=function(v){return this===v},Aa.$$arity=1);a.def(c,"$exit",La=function(v){var V=t;null==D.__at_exit__&&(D.__at_exit__=t);null==v&&(v=
!0);for(D.__at_exit__=p(V=D.__at_exit__)?V:[];!p(D.__at_exit__["$empty?"]());)V=D.__at_exit__.$pop(),V.$call();v=v.$$is_boolean?v?0:1:n(v,z(L,"Integer"),"to_int");a.exit(v);return t},La.$$arity=-1);a.def(c,"$extend",na=function(v){var V=a.slice.call(arguments,0,arguments.length);for(var oa=this.$singleton_class(),Ka=V.length-1;0<=Ka;Ka--){var jb=V[Ka];jb.$$is_module||this.$raise(z(L,"TypeError"),"wrong argument type "+jb.$class()+" (expected Module)");jb.$append_features(oa);jb.$extend_object(this);
jb.$extended(this)}return this},na.$$arity=-1);a.def(c,"$hash",T=function(){return this.$__id__()},T.$$arity=0);a.def(c,"$initialize_copy",sa=function(){return t},sa.$$arity=1);a.def(c,"$inspect",xa=function(){return this.$to_s()},xa.$$arity=0);a.def(c,"$instance_of?",Ja=function(v){v.$$is_class||v.$$is_module||this.$raise(z(L,"TypeError"),"class or module required");return this.$$class===v},Ja.$$arity=1);a.def(c,"$instance_variable_defined?",ka=function(v){v=z(L,"Opal")["$instance_variable_name!"](v);
return a.hasOwnProperty.call(this,v.substr(1))},ka.$$arity=1);a.def(c,"$instance_variable_get",M=function(v){v=z(L,"Opal")["$instance_variable_name!"](v);v=this[a.ivar(v.substr(1))];return null==v?t:v},M.$$arity=1);a.def(c,"$instance_variable_set",K=function(v,V){v=z(L,"Opal")["$instance_variable_name!"](v);return this[a.ivar(v.substr(1))]=V},K.$$arity=2);a.def(c,"$remove_instance_variable",Y=function(v){v=z(L,"Opal")["$instance_variable_name!"](v);var V=a.ivar(v.substr(1));return this.hasOwnProperty(V)?
(v=this[V],delete this[V],v):this.$raise(z(L,"NameError"),"instance variable "+v+" not defined")},Y.$$arity=1);a.def(c,"$instance_variables",qa=function(){var v=[],V;for(V in this)if(this.hasOwnProperty(V)&&"$"!==V.charAt(0)){var oa="$"===V.substr(-1)?V.slice(0,V.length-1):V;v.push("@"+oa)}return v},qa.$$arity=0);a.def(c,"$Integer",fa=function(v,V){var oa=this;if(!v.$$is_string){void 0!==V&&oa.$raise(z(L,"ArgumentError"),"base specified for non string value");v===t&&oa.$raise(z(L,"TypeError"),"can't convert nil into Integer");
if(v.$$is_number)return(Infinity===v||-Infinity===v||isNaN(v))&&oa.$raise(z(L,"FloatDomainError"),v),Math.floor(v);if(v["$respond_to?"]("to_int")){var Ka=v.$to_int();if(Ka!==t)return Ka}return z(L,"Opal")["$coerce_to!"](v,z(L,"Integer"),"to_i")}if("0"===v)return 0;void 0===V?V=0:(V=n(V,z(L,"Integer"),"to_int"),(1===V||0>V||36<V)&&oa.$raise(z(L,"ArgumentError"),"invalid radix "+V));Ka=v.toLowerCase();Ka=Ka.replace(/(\d)_(?=\d)/g,"$1");Ka=Ka.replace(/^(\s*[+-]?)(0[bodx]?)/,function(ob,mb,sb){switch(sb){case "0b":if(0===
V||2===V)return V=2,mb;case "0":case "0o":if(0===V||8===V)return V=8,mb;case "0d":if(0===V||10===V)return V=10,mb;case "0x":if(0===V||16===V)return V=16,mb}oa.$raise(z(L,"ArgumentError"),'invalid value for Integer(): "'+v+'"')});V=0===V?10:V;var jb="0-"+(10>=V?V-1:"9a-"+String.fromCharCode(97+(V-11)));(new RegExp("^\\s*[+-]?["+jb+"]+\\s*$")).test(Ka)||oa.$raise(z(L,"ArgumentError"),'invalid value for Integer(): "'+v+'"');Ka=parseInt(Ka,V);isNaN(Ka)&&oa.$raise(z(L,"ArgumentError"),'invalid value for Integer(): "'+
v+'"');return Ka},fa.$$arity=-2);a.def(c,"$Float",ta=function(v){v===t&&this.$raise(z(L,"TypeError"),"can't convert nil into Float");if(v.$$is_string){var V=v.toString();V=V.replace(/(\d)_(?=\d)/g,"$1");if(/^\s*[-+]?0[xX][0-9a-fA-F]+\s*$/.test(V))return this.$Integer(V);/^\s*[-+]?[0-9]*\.?[0-9]+([eE][-+]?[0-9]+)?\s*$/.test(V)||this.$raise(z(L,"ArgumentError"),'invalid value for Float(): "'+v+'"');return parseFloat(V)}return z(L,"Opal")["$coerce_to!"](v,z(L,"Float"),"to_f")},ta.$$arity=1);a.def(c,
"$Hash",Ea=function(v){var V=t;return p(p(V=v["$nil?"]())?V:v["$=="]([]))?e([],{}):p(z(L,"Hash")["$==="](v))?v:z(L,"Opal")["$coerce_to!"](v,z(L,"Hash"),"to_hash")},Ea.$$arity=1);a.def(c,"$is_a?",Ha=function(v){v.$$is_class||v.$$is_module||this.$raise(z(L,"TypeError"),"class or module required");return a.is_a(this,v)},Ha.$$arity=1);a.def(c,"$itself",Ra=function(){return this},Ra.$$arity=0);a.alias(c,"kind_of?","is_a?");a.def(c,"$lambda",Sa=function(){var v=Sa.$$p,V=v||t;v&&(Sa.$$p=null);v&&(Sa.$$p=
null);return a.lambda(V)},Sa.$$arity=0);a.def(c,"$load",Ma=function(v){v=z(L,"Opal")["$coerce_to!"](v,z(L,"String"),"to_str");return a.load(v)},Ma.$$arity=1);a.def(c,"$loop",gb=function(){var v,V=gb.$$p,oa=V||t,Ka=t;V&&(gb.$$p=null);if(oa===t)return m(this,"enum_for",["loop"],(v=function(){return w(z(L,"Float"),"INFINITY")},v.$$s=this,v.$$arity=0,v));for(;p(!0);)try{a.yieldX(oa,[])}catch(jb){if(a.rescue(jb,[z(L,"StopIteration")])){Ka=jb;try{return Ka.$result()}finally{a.pop_exception()}}else throw jb;
}return this},gb.$$arity=0);a.def(c,"$nil?",kb=function(){return!1},kb.$$arity=0);a.alias(c,"object_id","__id__");a.def(c,"$printf",W=function(v){var V=a.slice.call(arguments,0,arguments.length);p(V["$any?"]())&&this.$print(m(this,"format",a.to_a(V)));return t},W.$$arity=-1);a.def(c,"$proc",ya=function(){var v=ya.$$p,V=v||t;v&&(ya.$$p=null);v&&(ya.$$p=null);p(V)||this.$raise(z(L,"ArgumentError"),"tried to create Proc object without a block");V.$$is_lambda=!1;return V},ya.$$arity=0);a.def(c,"$puts",
Ba=function(v){null==D.stdout&&(D.stdout=t);var V=a.slice.call(arguments,0,arguments.length);return m(D.stdout,"puts",a.to_a(V))},Ba.$$arity=-1);a.def(c,"$p",Va=function(v){var V;var oa=a.slice.call(arguments,0,arguments.length);m(oa,"each",[],(V=function(Ka){null==D.stdout&&(D.stdout=t);null==Ka&&(Ka=t);return D.stdout.$puts(Ka.$inspect())},V.$$s=this,V.$$arity=1,V));return p(x(oa.$length(),1))?oa["$[]"](0):oa},Va.$$arity=-1);a.def(c,"$print",bb=function(v){null==D.stdout&&(D.stdout=t);var V=a.slice.call(arguments,
0,arguments.length);return m(D.stdout,"print",a.to_a(V))},bb.$$arity=-1);a.def(c,"$warn",db=function(v,V){var oa,Ka=t,jb=t;null==D.VERBOSE&&(D.VERBOSE=t);null==D.stderr&&(D.stderr=t);var ob=a.slice.call(arguments,0,arguments.length);var mb=a.extract_kwargs(ob);if(null==mb)mb=e([],{});else if(!mb.$$is_hash)throw a.ArgumentError.$new("expected kwargs");mb=mb.$$smap.uplevel;null==mb&&(mb=t);p(mb)&&(mb=z(L,"Opal")["$coerce_to!"](mb,z(L,"Integer"),"to_str"),p("number"===typeof mb?0>mb:mb["$<"](0))&&this.$raise(z(L,
"ArgumentError"),"negative level ("+mb+")"),Ka=this.$caller("number"===typeof mb?mb+2:mb["$+"](2),1).$first(),p(Ka)&&(Ka=""+Ka+": "),ob=m(ob,"map",[],(oa=function(sb){null==sb&&(sb=t);return""+Ka+"warning: "+sb},oa.$$s=this,oa.$$arity=1,oa)));return p(p(jb=D.VERBOSE["$nil?"]())?jb:ob["$empty?"]())?t:m(D.stderr,"puts",a.to_a(ob))},db.$$arity=-1);a.def(c,"$raise",Ca=function(v,V){null==D["!"]&&(D["!"]=t);null==V&&(V=t);if(null==v&&D["!"]!==t)throw D["!"];null==v?v=z(L,"RuntimeError").$new():v.$$is_string?
v=z(L,"RuntimeError").$new(v):v.$$is_class&&v["$respond_to?"]("exception")?v=v.$exception(V):v["$is_a?"](z(L,"Exception"))||(v=z(L,"TypeError").$new("exception class/object expected"));D["!"]!==t&&a.exceptions.push(D["!"]);D["!"]=v;throw v;},Ca.$$arity=-1);a.alias(c,"fail","raise");a.def(c,"$rand",Wa=function(v){if(void 0===v)return w(z(L,"Random"),"DEFAULT").$rand();v.$$is_number&&(0>v&&(v=Math.abs(v)),0!==v%1&&(v=v.$to_i()),0===v&&(v=void 0));return w(z(L,"Random"),"DEFAULT").$rand(v)},Wa.$$arity=
-1);a.def(c,"$respond_to?",za=function(v,V){null==V&&(V=!1);var oa=this["$"+v];return"function"!==typeof oa||oa.$$stub?!0===this["$respond_to_missing?"].$$pristine?!1:this["$respond_to_missing?"](v,V):!0},za.$$arity=-2);a.def(c,"$respond_to_missing?",ua=function(){return!1},ua.$$arity=-2);z(L,"Opal").$pristine(c,"respond_to?","respond_to_missing?");a.def(c,"$require",Na=function(v){v=z(L,"Opal")["$coerce_to!"](v,z(L,"String"),"to_str");return a.require(v)},Na.$$arity=1);a.def(c,"$require_relative",
Ta=function(v){z(L,"Opal")["$try_convert!"](v,z(L,"String"),"to_str");v=z(L,"File").$expand_path(z(L,"File").$join(a.current_file,"..",v));return a.require(v)},Ta.$$arity=1);a.def(c,"$require_tree",Za=function(v){var V=[];v=z(L,"File").$expand_path(v);v=a.normalize(v);"."===v&&(v="");for(var oa in a.modules)oa["$start_with?"](v)&&V.push([oa,a.require(oa)]);return V},Za.$$arity=1);a.alias(c,"send","__send__");a.alias(c,"public_send","__send__");a.def(c,"$singleton_class",Fa=function(){return a.get_singleton_class(this)},
Fa.$$arity=0);a.def(c,"$sleep",Z=function(v){null==v&&(v=t);v===t&&this.$raise(z(L,"TypeError"),"can't convert NilClass into time interval");v.$$is_number||this.$raise(z(L,"TypeError"),"can't convert "+v.$class()+" into time interval");0>v&&this.$raise(z(L,"ArgumentError"),"time interval must be positive");for(var V=a.global.performance?function(){return performance.now()}:function(){return new Date},oa=V();V()-oa<=1E3*v;);return Math.round(v)},Z.$$arity=-1);a.def(c,"$srand",R=function(v){null==v&&
(v=z(L,"Random").$new_seed());return z(L,"Random").$srand(v)},R.$$arity=-1);a.def(c,"$String",aa=function(v){var V;return p(V=z(L,"Opal")["$coerce_to?"](v,z(L,"String"),"to_str"))?V:z(L,"Opal")["$coerce_to!"](v,z(L,"String"),"to_s")},aa.$$arity=1);a.def(c,"$tap",U=function(){var v=U.$$p,V=v||t;v&&(U.$$p=null);v&&(U.$$p=null);a.yield1(V,this);return this},U.$$arity=0);a.def(c,"$to_proc",ha=function(){return this},ha.$$arity=0);a.def(c,"$to_s",la=function(){return"#<"+this.$class()+":0x"+this.$__id__().$to_s(16)+
">"},la.$$arity=0);a.def(c,"$catch",g=function(v){var V=g.$$p,oa=V||t;V&&(g.$$p=null);try{return a.yieldX(oa,[])}catch(Ka){if(a.rescue(Ka,[z(L,"UncaughtThrowError")])){V=Ka;try{return V.$sym()["$=="](v)?V.$arg():this.$raise()}finally{a.pop_exception()}}else throw Ka;}},g.$$arity=1);a.def(c,"$throw",C=function(v){var V=a.slice.call(arguments,0,arguments.length);return this.$raise(z(L,"UncaughtThrowError"),V)},C.$$arity=-1);a.def(c,"$open",O=function(v){var V=O.$$p,oa=V||t;V&&(O.$$p=null);V&&(O.$$p=
null);V=a.slice.call(arguments,0,arguments.length);return m(z(L,"File"),"open",a.to_a(V),oa.$to_proc())},O.$$arity=-1);a.def(c,"$yield_self",ba=function(){var v,V=ba.$$p,oa=V||t;V&&(ba.$$p=null);return oa===t?m(this,"enum_for",["yield_self"],(v=function(){return 1},v.$$s=this,v.$$arity=0,v)):a.yield1(oa,this)},ba.$$arity=0);a.alias(c,"then","yield_self");z(L,"Opal").$pristine(c,"method_missing")})(H[0],H);return function(c,$super,L){c=E(c,$super,"Object");L=[c].concat(L);return c.$include(z(L,"Kernel"))}(H[0],
null,H)};
Opal.modules["corelib/error"]=function(a){var x=[],H=a.nil,t=a.$$,w=a.klass,z=a.send,p=a.truthy,n=a.module,u=a.send2,D=a.hash2;a.add_stubs("$new $clone $to_s $empty? $class $raise $+ $attr_reader $[] $> $length $inspect".split(" "));(function(e,$super,E){e=w(e,$super,"Exception");var c=[e].concat(E),k,L,d,l,N,y,S,ja,ea;e.$$prototype.message=H;a.defs(e,"$new",k=function(b){var h=a.slice.call(arguments,0,arguments.length);var f=0<h.length?h[0]:H,q=new this.$$constructor(f);q.name=this.$$name;q.message=
f;a.send(q,q.$initialize,h);a.config.enable_stack_trace&&Error.captureStackTrace&&Error.captureStackTrace(q,ma);return q},k.$$arity=-1);var ma=e.$new;a.defs(e,"$exception",L=function(b){var h=a.slice.call(arguments,0,arguments.length);return z(this,"new",a.to_a(h))},L.$$arity=-1);a.def(e,"$initialize",d=function(b){var h=a.slice.call(arguments,0,arguments.length);return this.message=0<h.length?h[0]:H},d.$$arity=-1);a.def(e,"$backtrace",l=function(){if(this.backtrace)return this.backtrace;var b=this.stack;
return"string"===typeof b?b.split("\n").slice(0,15):b?b.slice(0,15):[]},l.$$arity=0);a.def(e,"$exception",N=function(b){null==b&&(b=H);if(b===H||this===b)return this;var h=this.$clone();h.message=b;h.stack=this.stack;return h},N.$$arity=-1);a.def(e,"$message",y=function(){return this.$to_s()},y.$$arity=0);a.def(e,"$inspect",S=function(){var b=this.$to_s();return p(b["$empty?"]())?this.$class().$to_s():"#<"+this.$class().$to_s()+": "+this.$to_s()+">"},S.$$arity=0);a.def(e,"$set_backtrace",ja=function(b){var h=
!0,f;if(b===H)this.backtrace=H,this.stack="";else if(b.$$is_string)this.backtrace=[b],this.stack=b;else{if(b.$$is_array){var q=0;for(f=b.length;q<f;q++)if(!b[q].$$is_string){h=!1;break}}else h=!1;!1===h&&this.$raise(t(c,"TypeError"),"backtrace must be Array of String");this.backtrace=b;this.stack=b.join("\n")}return b},ja.$$arity=1);return(a.def(e,"$to_s",ea=function(){var b=H,h=H;return p(b=p(h=this.message)?this.message.$to_s():h)?b:this.$class().$to_s()},ea.$$arity=0),H)&&"to_s"})(x[0],Error,x);
(function(e,$super,E){[w(e,$super,"ScriptError")].concat(E);return H})(x[0],t(x,"Exception"),x);(function(e,$super,E){[w(e,$super,"SyntaxError")].concat(E);return H})(x[0],t(x,"ScriptError"),x);(function(e,$super,E){[w(e,$super,"LoadError")].concat(E);return H})(x[0],t(x,"ScriptError"),x);(function(e,$super,E){[w(e,$super,"NotImplementedError")].concat(E);return H})(x[0],t(x,"ScriptError"),x);(function(e,$super,E){[w(e,$super,"SystemExit")].concat(E);return H})(x[0],t(x,"Exception"),x);(function(e,
$super,E){[w(e,$super,"NoMemoryError")].concat(E);return H})(x[0],t(x,"Exception"),x);(function(e,$super,E){[w(e,$super,"SignalException")].concat(E);return H})(x[0],t(x,"Exception"),x);(function(e,$super,E){[w(e,$super,"Interrupt")].concat(E);return H})(x[0],t(x,"Exception"),x);(function(e,$super,E){[w(e,$super,"SecurityError")].concat(E);return H})(x[0],t(x,"Exception"),x);(function(e,$super,E){[w(e,$super,"StandardError")].concat(E);return H})(x[0],t(x,"Exception"),x);(function(e,$super,E){[w(e,
$super,"EncodingError")].concat(E);return H})(x[0],t(x,"StandardError"),x);(function(e,$super,E){[w(e,$super,"ZeroDivisionError")].concat(E);return H})(x[0],t(x,"StandardError"),x);(function(e,$super,E){[w(e,$super,"NameError")].concat(E);return H})(x[0],t(x,"StandardError"),x);(function(e,$super,E){[w(e,$super,"NoMethodError")].concat(E);return H})(x[0],t(x,"NameError"),x);(function(e,$super,E){[w(e,$super,"RuntimeError")].concat(E);return H})(x[0],t(x,"StandardError"),x);(function(e,$super,E){[w(e,
$super,"FrozenError")].concat(E);return H})(x[0],t(x,"RuntimeError"),x);(function(e,$super,E){[w(e,$super,"LocalJumpError")].concat(E);return H})(x[0],t(x,"StandardError"),x);(function(e,$super,E){[w(e,$super,"TypeError")].concat(E);return H})(x[0],t(x,"StandardError"),x);(function(e,$super,E){[w(e,$super,"ArgumentError")].concat(E);return H})(x[0],t(x,"StandardError"),x);(function(e,$super,E){[w(e,$super,"IndexError")].concat(E);return H})(x[0],t(x,"StandardError"),x);(function(e,$super,E){[w(e,
$super,"StopIteration")].concat(E);return H})(x[0],t(x,"IndexError"),x);(function(e,$super,E){[w(e,$super,"KeyError")].concat(E);return H})(x[0],t(x,"IndexError"),x);(function(e,$super,E){[w(e,$super,"RangeError")].concat(E);return H})(x[0],t(x,"StandardError"),x);(function(e,$super,E){[w(e,$super,"FloatDomainError")].concat(E);return H})(x[0],t(x,"RangeError"),x);(function(e,$super,E){[w(e,$super,"IOError")].concat(E);return H})(x[0],t(x,"StandardError"),x);(function(e,$super,E){[w(e,$super,"SystemCallError")].concat(E);
return H})(x[0],t(x,"StandardError"),x);(function(e,m){e=[n(e,"Errno")].concat(m);(function(E,$super,k){E=w(E,$super,"EINVAL");[E].concat(k);var L;return(a.defs(E,"$new",L=function(d){L.$$p&&(L.$$p=null);null==d&&(d=H);var l="Invalid argument";p(d)&&(d=" - "+d,l="number"===typeof l&&"number"===typeof d?l+d:l["$+"](d));return u(this,a.find_super_dispatcher(this,"new",L,!1,!0),"new",[l],null)},L.$$arity=-1),H)&&"new"})(e[0],t(e,"SystemCallError"),e)})(x[0],x);(function(e,$super,E){e=w(e,$super,"UncaughtThrowError");
[e].concat(E);var c;e.$$prototype.sym=H;e.$attr_reader("sym","arg");return(a.def(e,"$initialize",c=function(k){c.$$p&&(c.$$p=null);this.sym=k["$[]"](0);var L=k.$length();L="number"===typeof L?1<L:L["$>"](1);p(L)&&(this.arg=k["$[]"](1));return u(this,a.find_super_dispatcher(this,"initialize",c,!1,!0),"initialize",["uncaught throw "+this.sym.$inspect()],null)},c.$$arity=1),H)&&"initialize"})(x[0],t(x,"ArgumentError"),x);(function(e,$super,E){e=w(e,$super,"NameError");[e].concat(E);var c;e.$attr_reader("name");
return(a.def(e,"$initialize",c=function(k,L){c.$$p&&(c.$$p=null);null==L&&(L=H);u(this,a.find_super_dispatcher(this,"initialize",c,!1,!0),"initialize",[k],null);return this.name=L},c.$$arity=-2),H)&&"initialize"})(x[0],null,x);(function(e,$super,E){e=w(e,$super,"NoMethodError");[e].concat(E);var c;e.$attr_reader("args");return(a.def(e,"$initialize",c=function(k,L,d){c.$$p&&(c.$$p=null);null==L&&(L=H);null==d&&(d=[]);u(this,a.find_super_dispatcher(this,"initialize",c,!1,!0),"initialize",[k,L],null);
return this.args=d},c.$$arity=-2),H)&&"initialize"})(x[0],null,x);(function(e,$super,E){e=w(e,$super,"StopIteration");[e].concat(E);return e.$attr_reader("result")})(x[0],null,x);(function(e,$super,E){e=w(e,$super,"KeyError");var c=[e].concat(E),k,L,d;e.$$prototype.receiver=e.$$prototype.key=H;a.def(e,"$initialize",k=function(l,N){k.$$p&&(k.$$p=null);if(null==N)N=D([],{});else if(!N.$$is_hash)throw a.ArgumentError.$new("expected kwargs");var y=N.$$smap.receiver;null==y&&(y=H);N=N.$$smap.key;null==
N&&(N=H);u(this,a.find_super_dispatcher(this,"initialize",k,!1,!0),"initialize",[l],null);this.receiver=y;return this.key=N},k.$$arity=-2);a.def(e,"$receiver",L=function(){var l;return p(l=this.receiver)?l:this.$raise(t(c,"ArgumentError"),"no receiver is available")},L.$$arity=0);return(a.def(e,"$key",d=function(){var l;return p(l=this.key)?l:this.$raise(t(c,"ArgumentError"),"no key is available")},d.$$arity=0),H)&&"key"})(x[0],null,x);return function(e,m){e=[n(e,"JS")].concat(m);[w(e[0],null,"Error")].concat(e)}(x[0],
x)};
Opal.modules["corelib/constants"]=function(a){var x=[],H=a.$$;a.const_set(x[0],"RUBY_PLATFORM","opal");a.const_set(x[0],"RUBY_ENGINE","opal");a.const_set(x[0],"RUBY_VERSION","3.0.0");a.const_set(x[0],"RUBY_ENGINE_VERSION","1.1.1");a.const_set(x[0],"RUBY_RELEASE_DATE","2021-02-23");a.const_set(x[0],"RUBY_PATCHLEVEL",0);a.const_set(x[0],"RUBY_REVISION","0");a.const_set(x[0],"RUBY_COPYRIGHT","opal - Copyright (C) 2013-2021 Adam Beynon and the Opal contributors");return a.const_set(x[0],"RUBY_DESCRIPTION","opal "+
H(x,"RUBY_ENGINE_VERSION")+" ("+H(x,"RUBY_RELEASE_DATE")+" revision "+H(x,"RUBY_REVISION")+")")};Opal.modules["opal/base"]=function(a){var x=a.top;a.add_stubs(["$require"]);x.$require("corelib/runtime");x.$require("corelib/helpers");x.$require("corelib/module");x.$require("corelib/class");x.$require("corelib/basic_object");x.$require("corelib/kernel");x.$require("corelib/error");return x.$require("corelib/constants")};
Opal.modules["corelib/nil"]=function(a){var x=[],H=a.nil,t=a.$$,w=a.klass,z=a.hash2,p=a.truthy;a.add_stubs("$raise $name $new $> $length $Rational".split(" "));(function(n,$super,D){n=w(n,$super,"NilClass");var e=[n].concat(D),m,E,c,k,L,d,l,N,y,S,ja,ea,ma,b,h,f,q,A;n.$$prototype.$$meta=n;(function(F,G){var J=[F].concat(G),ca;a.def(F,"$allocate",ca=function(){return this.$raise(t(J,"TypeError"),"allocator undefined for "+this.$name())},ca.$$arity=0);a.udef(F,"$new");return H})(a.get_singleton_class(n),
e);a.def(n,"$!",m=function(){return!0},m.$$arity=0);a.def(n,"$&",E=function(){return!1},E.$$arity=1);a.def(n,"$|",c=function(F){return!1!==F&&F!==H},c.$$arity=1);a.def(n,"$^",k=function(F){return!1!==F&&F!==H},k.$$arity=1);a.def(n,"$==",L=function(F){return F===H},L.$$arity=1);a.def(n,"$dup",d=function(){return H},d.$$arity=0);a.def(n,"$clone",l=function(F){if(null==F)z([],{});else if(!F.$$is_hash)throw a.ArgumentError.$new("expected kwargs");return H},l.$$arity=-1);a.def(n,"$inspect",N=function(){return"nil"},
N.$$arity=0);a.def(n,"$nil?",y=function(){return!0},y.$$arity=0);a.def(n,"$singleton_class",S=function(){return t(e,"NilClass")},S.$$arity=0);a.def(n,"$to_a",ja=function(){return[]},ja.$$arity=0);a.def(n,"$to_h",ea=function(){return a.hash()},ea.$$arity=0);a.def(n,"$to_i",ma=function(){return 0},ma.$$arity=0);a.alias(n,"to_f","to_i");a.def(n,"$to_s",b=function(){return""},b.$$arity=0);a.def(n,"$to_c",h=function(){return t(e,"Complex").$new(0,0)},h.$$arity=0);a.def(n,"$rationalize",f=function(F){var G=
a.slice.call(arguments,0,arguments.length).$length();G="number"===typeof G?1<G:G["$>"](1);p(G)&&this.$raise(t(e,"ArgumentError"));return this.$Rational(0,1)},f.$$arity=-1);a.def(n,"$to_r",q=function(){return this.$Rational(0,1)},q.$$arity=0);return(a.def(n,"$instance_variables",A=function(){return[]},A.$$arity=0),H)&&"instance_variables"})(x[0],null,x);return a.const_set(x[0],"NIL",H)};
Opal.modules["corelib/boolean"]=function(a){var x=[],H=a.nil,t=a.$$,w=a.klass,z=a.hash2;a.add_stubs(["$raise","$name"]);(function(p,$super,u){p=w(p,$super,"Boolean");var D=[p].concat(u),e,m,E,c,k,L,d,l,N,y;a.defineProperty(p.$$prototype,"$$is_boolean",!0);a.defineProperty(p.$$prototype,"$$meta",p);(function(S,ja){var ea=[S].concat(ja),ma;a.def(S,"$allocate",ma=function(){return this.$raise(t(ea,"TypeError"),"allocator undefined for "+this.$name())},ma.$$arity=0);a.udef(S,"$new");return H})(a.get_singleton_class(p),
D);a.def(p,"$__id__",e=function(){return this.valueOf()?2:0},e.$$arity=0);a.alias(p,"object_id","__id__");a.def(p,"$!",m=function(){return 1!=this},m.$$arity=0);a.def(p,"$&",E=function(S){return 1==this?!1!==S&&S!==H:!1},E.$$arity=1);a.def(p,"$|",c=function(S){return 1==this?!0:!1!==S&&S!==H},c.$$arity=1);a.def(p,"$^",k=function(S){return 1==this?!1===S||S===H:!1!==S&&S!==H},k.$$arity=1);a.def(p,"$==",L=function(S){return 1==this===S.valueOf()},L.$$arity=1);a.alias(p,"equal?","==");a.alias(p,"eql?",
"==");a.def(p,"$singleton_class",d=function(){return t(D,"Boolean")},d.$$arity=0);a.def(p,"$to_s",l=function(){return 1==this?"true":"false"},l.$$arity=0);a.def(p,"$dup",N=function(){return this},N.$$arity=0);return(a.def(p,"$clone",y=function(S){if(null==S)z([],{});else if(!S.$$is_hash)throw a.ArgumentError.$new("expected kwargs");return this},y.$$arity=-1),H)&&"clone"})(x[0],Boolean,x);a.const_set(x[0],"TrueClass",t(x,"Boolean"));a.const_set(x[0],"FalseClass",t(x,"Boolean"));a.const_set(x[0],"TRUE",
!0);return a.const_set(x[0],"FALSE",!1)};
Opal.modules["corelib/comparable"]=function(a){function x(D,e){return"number"===typeof D&&"number"===typeof e?D>e:D["$>"](e)}function H(D,e){return"number"===typeof D&&"number"===typeof e?D<e:D["$<"](e)}var t=[],w=a.nil,z=a.$$,p=a.falsy,n=a.module,u=a.truthy;a.add_stubs("$> $< $=== $raise $class $<=> $equal?".split(" "));return function(D,e){function m(ma){return a.is_a(ma,a.Integer)?ma:x(ma,0)?1:H(ma,0)?-1:0}function E(ma,b){var h=ma["$<=>"](b);p(h)&&(ea=b,b=w["$==="](ea)||(!0)["$==="](ea)||(!1)["$==="](ea)||
z(k,"Integer")["$==="](ea)||z(k,"Float")["$==="](ea)?b.$inspect():b.$$class,c.$raise(z(k,"ArgumentError"),"comparison of "+ma.$class()+" with "+b+" failed"));return m(h)}var c=n(D,"Comparable"),k=[c].concat(e),L,d,l,N,y,S,ja,ea=w;a.def(c,"$==",L=function(ma){var b;return u(this["$equal?"](ma))?!0:this["$<=>"]==a.Kernel["$<=>"]?!1:this.$$comparable?(delete this.$$comparable,!1):u(b=this["$<=>"](ma))?0==m(b):!1},L.$$arity=1);a.def(c,"$>",d=function(ma){return 0<E(this,ma)},d.$$arity=1);a.def(c,"$>=",
l=function(ma){return 0<=E(this,ma)},l.$$arity=1);a.def(c,"$<",N=function(ma){return 0>E(this,ma)},N.$$arity=1);a.def(c,"$<=",y=function(ma){return 0>=E(this,ma)},y.$$arity=1);a.def(c,"$between?",S=function(ma,b){return H(this,ma)||x(this,b)?!1:!0},S.$$arity=2);a.def(c,"$clamp",ja=function(ma,b){null==b&&(b=w);if(b===w){a.is_a(ma,a.Range)||this.$raise(z(k,"TypeError"),"wrong argument type "+ma.$class()+" (expected Range)");var h=ma.excl;b=ma.end;ma=ma.begin;b!==w&&h&&this.$raise(z(k,"ArgumentError"),
"cannot clamp with an exclusive range")}ma!==w&&b!==w&&0<E(ma,b)&&this.$raise(z(k,"ArgumentError"),"min argument must be smaller than max argument");if(ma!==w){h=E(this,ma);if(0==h)return this;if(0>h)return ma}return b!==w&&(h=E(this,b),0<h)?b:this},ja.$$arity=-2)}(t[0],t)};
Opal.modules["corelib/regexp"]=function(a){var x=[],H=a.nil,t=a.$$,w=a.coerce_to,z=a.klass,p=a.send2,n=a.truthy,u=a.gvars,D=a.send;a.add_stubs("$nil? $[] $raise $escape $options $to_str $new $join $coerce_to! $! $match $coerce_to? $begin $=~ $attr_reader $=== $inspect $to_a".split(" "));(function(e,$super,E){[z(e,$super,"RegexpError")].concat(E);return H})(x[0],t(x,"StandardError"),x);(function(e,$super,E){e=z(e,$super,"Regexp");var c=[e].concat(E),k,L,d,l,N,y,S,ja,ea,ma;a.const_set(c[0],"IGNORECASE",
1);a.const_set(c[0],"EXTENDED",2);a.const_set(c[0],"MULTILINE",4);a.defineProperty(e.$$prototype,"$$is_regexp",!0);(function(b,h){var f=[b].concat(h),q,A,F,G,J;a.def(b,"$allocate",q=function(){var ca=q.$$p,va;ca&&(q.$$p=null);var Pa=0;var wa=arguments.length;for(va=Array(wa);Pa<wa;Pa++)va[Pa]=arguments[Pa];ca=p(this,a.find_super_dispatcher(this,"allocate",q,!1,!0),"allocate",va,ca);ca.uninitialized=!0;return ca},q.$$arity=0);a.def(b,"$escape",A=function(ca){return a.escape_regexp(ca)},A.$$arity=1);
a.def(b,"$last_match",F=function(ca){null==u["~"]&&(u["~"]=H);null==ca&&(ca=H);return n(ca["$nil?"]())?u["~"]:u["~"]["$[]"](ca)},F.$$arity=-1);a.alias(b,"quote","escape");a.def(b,"$union",G=function(ca){var va=a.slice.call(arguments,0,arguments.length);if(0==va.length)return/(?!)/;if(1==va.length&&va[0].$$is_regexp)return va[0];var Pa=va[0].$$is_array;1<va.length&&Pa&&this.$raise(t(f,"TypeError"),"no implicit conversion of Array into String");Pa&&(va=va[0]);var wa=void 0;Pa=[];for(var Aa=0;Aa<va.length;Aa++){var La=
va[Aa];if(La.$$is_string)Pa.push(this.$escape(La));else if(La.$$is_regexp){var na=La.$options();void 0!=wa&&wa!=na&&this.$raise(t(f,"TypeError"),"All expressions must use the same options");wa=na;Pa.push("("+La.source+")")}else Pa.push(this.$escape(La.$to_str()))}return this.$new(Pa.$join("|"),wa)},G.$$arity=-1);a.def(b,"$new",J=function(ca,va){if(ca.$$is_regexp)return new RegExp(ca);ca=t(f,"Opal")["$coerce_to!"](ca,t(f,"String"),"to_str");"\\"===ca.charAt(ca.length-1)&&"\\"!==ca.charAt(ca.length-
2)&&this.$raise(t(f,"RegexpError"),"too short escape sequence: /"+ca+"/");if(void 0===va||va["$!"]())return new RegExp(ca);if(va.$$is_number){var Pa="";t(f,"IGNORECASE")&va&&(Pa+="i");t(f,"MULTILINE")&va&&(Pa+="m");va=Pa}else va="i";return new RegExp(ca,va)},J.$$arity=-2);return a.alias(b,"compile","new")})(a.get_singleton_class(e),c);a.def(e,"$==",k=function(b){return b instanceof RegExp&&this.toString()===b.toString()},k.$$arity=1);a.def(e,"$===",L=function(b){return this.$match(t(c,"Opal")["$coerce_to?"](b,
t(c,"String"),"to_str"))!==H},L.$$arity=1);a.def(e,"$=~",d=function(b){var h;null==u["~"]&&(u["~"]=H);return n(h=this.$match(b))?u["~"].$begin(0):h},d.$$arity=1);a.alias(e,"eql?","==");a.def(e,"$inspect",l=function(){var b=this.toString(),h=/^\/(.*)\/([^\/]*)$/.exec(b);if(h){b=h[2];h=h[1].split("");for(var f=h.length,q=!1,A="",F=0;F<f;F++){var G=h[F];q||"/"!=G||(A=A.concat("\\"));A=A.concat(G);q="\\"==G?q?!1:!0:!1}return"/"+A+"/"+b}return b},l.$$arity=0);a.def(e,"$match",N=function(b,h){var f=N.$$p,
q=f||H;null==u["~"]&&(u["~"]=H);f&&(N.$$p=null);f&&(N.$$p=null);this.uninitialized&&this.$raise(t(c,"TypeError"),"uninitialized Regexp");if(void 0===h)return b===H?u["~"]=H:(b=this.exec(w(b,t(c,"String"),"to_str")))?(u["~"]=t(c,"MatchData").$new(this,b),q===H?u["~"]:a.yield1(q,u["~"])):u["~"]=H;h=w(h,t(c,"Integer"),"to_int");if(b===H)return u["~"]=H;b=w(b,t(c,"String"),"to_str");if(0>h&&(h+=b.length,0>h))return u["~"]=H;for(var A=a.global_regexp(this);;){f=A.exec(b);if(null===f)return u["~"]=H;if(f.index>=
h)return u["~"]=t(c,"MatchData").$new(A,f),q===H?u["~"]:a.yield1(q,u["~"]);A.lastIndex=f.index+1}},N.$$arity=-2);a.def(e,"$match?",y=function(b,h){this.uninitialized&&this.$raise(t(c,"TypeError"),"uninitialized Regexp");if(void 0===h)return b===H?!1:this.test(w(b,t(c,"String"),"to_str"));h=w(h,t(c,"Integer"),"to_int");if(b===H)return!1;b=w(b,t(c,"String"),"to_str");if(0>h&&(h+=b.length,0>h))return!1;b=a.global_regexp(this).exec(b);return null===b||b.index<h?!1:!0},y.$$arity=-2);a.def(e,"$~",S=function(){null==
u._&&(u._=H);return this["$=~"](u._)},S.$$arity=0);a.def(e,"$source",ja=function(){return this.source},ja.$$arity=0);a.def(e,"$options",ea=function(){this.uninitialized&&this.$raise(t(c,"TypeError"),"uninitialized Regexp");var b=0;this.multiline&&(b|=t(c,"MULTILINE"));this.ignoreCase&&(b|=t(c,"IGNORECASE"));return b},ea.$$arity=0);a.def(e,"$casefold?",ma=function(){return this.ignoreCase},ma.$$arity=0);return a.alias(e,"to_s","source")})(x[0],RegExp,x);return function(e,$super,E){e=z(e,$super,"MatchData");
var c=[e].concat(E),k,L,d,l,N,y,S,ja,ea,ma,b,h;e.$$prototype.matches=H;e.$attr_reader("post_match","pre_match","regexp","string");a.def(e,"$initialize",k=function(f,q){u["~"]=this;this.regexp=f;this.begin=q.index;this.string=q.input;this.pre_match=q.input.slice(0,q.index);this.post_match=q.input.slice(q.index+q[0].length);this.matches=[];f=0;for(var A=q.length;f<A;f++){var F=q[f];null==F?this.matches.push(H):this.matches.push(F)}},k.$$arity=2);a.def(e,"$[]",L=function(f){var q=a.slice.call(arguments,
0,arguments.length);return D(this.matches,"[]",a.to_a(q))},L.$$arity=-1);a.def(e,"$offset",d=function(f){0!==f&&this.$raise(t(c,"ArgumentError"),"MatchData#offset only supports 0th element");return[this.begin,this.begin+this.matches[f].length]},d.$$arity=1);a.def(e,"$==",l=function(f){var q=H,A=H,F=H,G=H;return n(t(c,"MatchData")["$==="](f))?n(q=n(A=n(F=n(G=this.string==f.string)?this.regexp.toString()==f.regexp.toString():G)?this.pre_match==f.pre_match:F)?this.post_match==f.post_match:A)?this.begin==
f.begin:q:!1},l.$$arity=1);a.alias(e,"eql?","==");a.def(e,"$begin",N=function(f){0!==f&&this.$raise(t(c,"ArgumentError"),"MatchData#begin only supports 0th element");return this.begin},N.$$arity=1);a.def(e,"$end",y=function(f){0!==f&&this.$raise(t(c,"ArgumentError"),"MatchData#end only supports 0th element");return this.begin+this.matches[f].length},y.$$arity=1);a.def(e,"$captures",S=function(){return this.matches.slice(1)},S.$$arity=0);a.def(e,"$inspect",ja=function(){for(var f="#<MatchData "+this.matches[0].$inspect(),
q=1,A=this.matches.length;q<A;q++)f+=" "+q+":"+this.matches[q].$inspect();return f+">"},ja.$$arity=0);a.def(e,"$length",ea=function(){return this.matches.length},ea.$$arity=0);a.alias(e,"size","length");a.def(e,"$to_a",ma=function(){return this.matches},ma.$$arity=0);a.def(e,"$to_s",b=function(){return this.matches[0]},b.$$arity=0);return(a.def(e,"$values_at",h=function(f){var q=a.slice.call(arguments,0,arguments.length);var A,F=[];for(A=0;A<q.length;A++){if(q[A].$$is_range){var G=q[A].$to_a();G.unshift(A,
1);Array.prototype.splice.apply(q,G)}G=t(c,"Opal")["$coerce_to!"](q[A],t(c,"Integer"),"to_int");if(0>G&&(G+=this.matches.length,0>G)){F.push(H);continue}F.push(this.matches[G])}return F},h.$$arity=-1),H)&&"values_at"}(x[0],null,x)};
Opal.modules["corelib/string"]=function(a){function x(k,L){return"number"===typeof k&&"number"===typeof L?k/L:k["$/"](L)}function H(k,L){return"number"===typeof k&&"number"===typeof L?k+L:k["$+"](L)}var t=a.top,w=[],z=a.nil,p=a.$$$,n=a.$$,u=a.coerce_to,D=a.respond_to,e=a.klass,m=a.truthy,E=a.send,c=a.gvars;a.add_stubs("$require $include $coerce_to? $raise $=== $format $to_s $respond_to? $to_str $<=> $== $=~ $new $force_encoding $casecmp $empty? $ljust $ceil $/ $+ $rjust $floor $to_a $each_char $to_proc $coerce_to! $copy_singleton_methods $initialize_clone $initialize_dup $enum_for $size $chomp $[] $to_i $each_line $encoding $class $match $match? $captures $proc $succ $escape $include? $upcase $unicode_normalize".split(" "));
t.$require("corelib/comparable");t.$require("corelib/regexp");(function(k,$super,d){function l(B){function P(Ua){var Ya="",hb,qb=Ua.length;for(hb=0;hb<qb;hb++){var nb=Ua.charAt(hb);if("-"===nb&&0<hb&&hb<qb-1&&!pb){var pb=Ua.charCodeAt(hb-1);nb=Ua.charCodeAt(hb+1);pb>nb&&N.$raise(n(y,"ArgumentError"),'invalid range "'+pb+"-"+nb+'" in string transliteration');for(pb+=1;pb<nb+1;pb++)Ya+=String.fromCharCode(pb);pb=!0;hb++}else pb="\\"===nb,Ya+=nb}return Ya}function ra(Ua,Ya){if(0===Ua.length)return Ya;
var hb="",qb,nb=Ua.length;for(qb=0;qb<nb;qb++){var pb=Ua.charAt(qb);-1!==Ya.indexOf(pb)&&(hb+=pb)}return hb}var Ga,Da="",Ia="";var Xa=0;for(Ga=B.length;Xa<Ga;Xa++){var ib=u(B[Xa],n(y,"String"),"to_str");var eb="^"===ib.charAt(0)&&1<ib.length;ib=P(eb?ib.slice(1):ib);eb?Ia=ra(Ia,ib):Da=ra(Da,ib)}if(0<Da.length&&0<Ia.length){ib="";Xa=0;for(Ga=Da.length;Xa<Ga;Xa++)B=Da.charAt(Xa),-1===Ia.indexOf(B)&&(ib+=B);Da=ib;Ia=""}return 0<Da.length?"["+n(y,"Regexp").$escape(Da)+"]":0<Ia.length?"[^"+n(y,"Regexp").$escape(Ia)+
"]":null}var N=e(k,$super,"String"),y=[N].concat(d),S,ja,ea,ma,b,h,f,q,A,F,G,J,ca,va,Pa,wa,Aa,La,na,T,sa,xa,Ja,ka,M,K,Y,qa,fa,ta,Ea,Ha,Ra,Sa,Ma,gb,kb,W,ya,Ba,Va,bb,db,Ca,Wa,za,ua,Na,Ta,Za,Fa,Z,R,aa,U,ha,la,g,C,O,ba,v,V,oa,Ka,jb,ob,mb,sb,tb,wb,xb,ub,X,Oa,cb;N.$include(n(y,"Comparable"));a.defineProperty(N.$$prototype,"$$is_string",!0);a.defineProperty(N.$$prototype,"$$cast",function(B){var P=this.$$class;return P.$$constructor===String?B:new P.$$constructor(B)});a.def(N,"$__id__",S=function(){return this.toString()},
S.$$arity=0);a.alias(N,"object_id","__id__");a.defs(N,"$try_convert",ja=function(B){return n(y,"Opal")["$coerce_to?"](B,n(y,"String"),"to_str")},ja.$$arity=1);a.defs(N,"$new",ea=function(B){null==B&&(B="");B=u(B,n(y,"String"),"to_str");return new this.$$constructor(B)},ea.$$arity=-1);a.def(N,"$initialize",ma=function(B){return void 0===B?this:this.$raise(n(y,"NotImplementedError"),"Mutable strings are not supported in Opal.")},ma.$$arity=-1);a.def(N,"$%",b=function(B){return m(n(y,"Array")["$==="](B))?
E(this,"format",[this].concat(a.to_a(B))):this.$format(this,B)},b.$$arity=1);a.def(N,"$*",h=function(B){B=u(B,n(y,"Integer"),"to_int");0>B&&this.$raise(n(y,"ArgumentError"),"negative argument");if(0===B)return this.$$cast("");var P="",ra=this.toString();for(268435456<=ra.length*B&&this.$raise(n(y,"RangeError"),"multiply count must not overflow maximum string size");;){1===(B&1)&&(P+=ra);B>>>=1;if(0===B)break;ra+=ra}return this.$$cast(P)},h.$$arity=1);a.def(N,"$+",f=function(B){B=u(B,n(y,"String"),
"to_str");return this+B.$to_s()},f.$$arity=1);a.def(N,"$<=>",q=function(B){if(m(B["$respond_to?"]("to_str")))return B=B.$to_str().$to_s(),this>B?1:this<B?-1:0;B=B["$<=>"](this);return B===z?z:0<B?-1:0>B?1:0},q.$$arity=1);a.def(N,"$==",A=function(B){return B.$$is_string?this.toString()===B.toString():D(B,"$to_str")?B["$=="](this):!1},A.$$arity=1);a.alias(N,"eql?","==");a.alias(N,"===","==");a.def(N,"$=~",F=function(B){B.$$is_string&&this.$raise(n(y,"TypeError"),"type mismatch: String given");return B["$=~"](this)},
F.$$arity=1);a.def(N,"$[]",G=function(B,P){var ra=this.length;if(B.$$is_range){var Ga=B.excl;P=u(B.end,n(y,"Integer"),"to_int");B=u(B.begin,n(y,"Integer"),"to_int");if(Math.abs(B)>ra)return z;0>B&&(B+=ra);0>P&&(P+=ra);Ga||(P+=1);P-=B;0>P&&(P=0);return this.$$cast(this.substr(B,P))}if(B.$$is_string)return null!=P&&this.$raise(n(y,"TypeError")),-1!==this.indexOf(B)?this.$$cast(B):z;if(B.$$is_regexp){ra=this.match(B);if(null===ra)return c["~"]=z;c["~"]=n(y,"MatchData").$new(B,ra);if(null==P)return this.$$cast(ra[0]);
P=u(P,n(y,"Integer"),"to_int");return 0>P&&-P<ra.length?this.$$cast(ra[P+ra.length]):0<=P&&P<ra.length?this.$$cast(ra[P]):z}B=u(B,n(y,"Integer"),"to_int");0>B&&(B+=ra);if(null==P)return B>=ra||0>B?z:this.$$cast(this.substr(B,1));P=u(P,n(y,"Integer"),"to_int");return 0>P||B>ra||0>B?z:this.$$cast(this.substr(B,P))},G.$$arity=-2);a.alias(N,"byteslice","[]");a.def(N,"$b",J=function(){return this.$force_encoding("binary")},J.$$arity=0);a.def(N,"$capitalize",ca=function(){return this.$$cast(this.charAt(0).toUpperCase()+
this.substr(1).toLowerCase())},ca.$$arity=0);a.def(N,"$casecmp",va=function(B){var P=this;if(!m(B["$respond_to?"]("to_str")))return z;B=u(B,n(y,"String"),"to_str").$to_s();var ra=/^[\x00-\x7F]*$/;ra.test(P)&&ra.test(B)&&(P=P.toLowerCase(),B=B.toLowerCase());return P["$<=>"](B)},va.$$arity=1);a.def(N,"$casecmp?",Pa=function(B){B=this.$casecmp(B);return B===z?z:0===B},Pa.$$arity=1);a.def(N,"$center",wa=function(B,P){null==P&&(P=" ");B=u(B,n(y,"Integer"),"to_int");P=u(P,n(y,"String"),"to_str").$to_s();
m(P["$empty?"]())&&this.$raise(n(y,"ArgumentError"),"zero width padding");if(m(B<=this.length))return this;var ra=this.$ljust(x(H(B,this.length),2).$ceil(),P);B=this.$rjust(x(H(B,this.length),2).$floor(),P);return this.$$cast(B+ra.slice(this.length))},wa.$$arity=-2);a.def(N,"$chars",Aa=function(){var B=Aa.$$p,P=B||z;B&&(Aa.$$p=null);B&&(Aa.$$p=null);return m(P)?E(this,"each_char",[],P.$to_proc()):this.$each_char().$to_a()},Aa.$$arity=0);a.def(N,"$chomp",La=function(B){null==c["/"]&&(c["/"]=z);null==
B&&(B=c["/"]);if(m(B===z||0===this.length))return this;B=n(y,"Opal")["$coerce_to!"](B,n(y,"String"),"to_str").$to_s();var P;"\n"===B?P=this.replace(/\r?\n?$/,""):""===B?P=this.replace(/(\r?\n)+$/,""):this.length>=B.length&&this.substr(this.length-B.length,B.length)===B&&(P=this.substr(0,this.length-B.length));return null!=P?this.$$cast(P):this},La.$$arity=-1);a.def(N,"$chop",na=function(){var B=this.length;B=1>=B?"":"\n"===this.charAt(B-1)&&"\r"===this.charAt(B-2)?this.substr(0,B-2):this.substr(0,
B-1);return this.$$cast(B)},na.$$arity=0);a.def(N,"$chr",T=function(){return this.charAt(0)},T.$$arity=0);a.def(N,"$clone",sa=function(){var B=new String(this);B.$copy_singleton_methods(this);B.$initialize_clone(this);return B},sa.$$arity=0);a.def(N,"$dup",xa=function(){var B=new String(this);B.$initialize_dup(this);return B},xa.$$arity=0);a.def(N,"$count",Ja=function(B){var P=a.slice.call(arguments,0,arguments.length);0===P.length&&this.$raise(n(y,"ArgumentError"),"ArgumentError: wrong number of arguments (0 for 1+)");
P=l(P);return null===P?0:this.length-this.replace(new RegExp(P,"g"),"").length},Ja.$$arity=-1);a.def(N,"$delete",ka=function(B){var P=a.slice.call(arguments,0,arguments.length);0===P.length&&this.$raise(n(y,"ArgumentError"),"ArgumentError: wrong number of arguments (0 for 1+)");P=l(P);return null===P?this:this.$$cast(this.replace(new RegExp(P,"g"),""))},ka.$$arity=-1);a.def(N,"$delete_prefix",M=function(B){B.$$is_string||(B=u(B,n(y,"String"),"to_str"));return this.slice(0,B.length)===B?this.$$cast(this.slice(B.length)):
this},M.$$arity=1);a.def(N,"$delete_suffix",K=function(B){B.$$is_string||(B=u(B,n(y,"String"),"to_str"));return this.slice(this.length-B.length)===B?this.$$cast(this.slice(0,this.length-B.length)):this},K.$$arity=1);a.def(N,"$downcase",Y=function(){return this.$$cast(this.toLowerCase())},Y.$$arity=0);a.def(N,"$each_char",qa=function(){var B=qa.$$p,P=B||z,ra;B&&(qa.$$p=null);B&&(qa.$$p=null);if(P===z)return E(this,"enum_for",["each_char"],(ra=function(){return(null==ra.$$s?this:ra.$$s).$size()},ra.$$s=
this,ra.$$arity=0,ra));B=0;for(var Ga=this.length;B<Ga;B++)a.yield1(P,this.charAt(B));return this},qa.$$arity=0);a.def(N,"$each_line",fa=function(B){var P=fa.$$p,ra=P||z;null==c["/"]&&(c["/"]=z);P&&(fa.$$p=null);P&&(fa.$$p=null);null==B&&(B=c["/"]);if(ra===z)return this.$enum_for("each_line",B);if(B===z)return a.yield1(ra,this),this;B=u(B,n(y,"String"),"to_str");var Ga,Da;if(0===B.length){B=this.split(/(\n{2,})/);P=0;for(Ga=B.length;P<Ga;P+=2)(B[P]||B[P+1])&&a.yield1(ra,this.$$cast((B[P]||"")+(B[P+
1]||"")));return this}P=this.$chomp(B);Ga=this.length!=P.length;var Ia=P.split(B);P=0;for(Da=Ia.length;P<Da;P++)P<Da-1||Ga?a.yield1(ra,this.$$cast(Ia[P]+B)):a.yield1(ra,this.$$cast(Ia[P]));return this},fa.$$arity=-1);a.def(N,"$empty?",ta=function(){return 0===this.length},ta.$$arity=0);a.def(N,"$end_with?",Ea=function(B){var P=a.slice.call(arguments,0,arguments.length);for(var ra=0,Ga=P.length;ra<Ga;ra++){var Da=u(P[ra],n(y,"String"),"to_str").$to_s();if(this.length>=Da.length&&this.substr(this.length-
Da.length,Da.length)==Da)return!0}return!1},Ea.$$arity=-1);a.alias(N,"equal?","===");a.def(N,"$gsub",Ha=function(B,P){var ra=Ha.$$p,Ga=ra||z,Da=this;ra&&(Ha.$$p=null);ra&&(Ha.$$p=null);if(void 0===P&&Ga===z)return Da.$enum_for("gsub",B);ra="";var Ia=z,Xa=0;B.$$is_regexp?B=a.global_multiline_regexp(B):(B=u(B,n(y,"String"),"to_str"),B=new RegExp(B.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));for(var ib;;){var eb=B.exec(Da);if(null===eb){c["~"]=z;ra+=Da.slice(Xa);break}Ia=n(y,"MatchData").$new(B,eb);
if(void 0===P){ib=B.lastIndex;var Ua=Ga(eb[0]);B.lastIndex=ib}else P.$$is_hash?Ua=P["$[]"](eb[0]).$to_s():(P.$$is_string||(P=u(P,n(y,"String"),"to_str")),Ua=P.replace(/([\\]+)([0-9+&`'])/g,function(Ya,hb,qb){if(0===hb.length%2)return Ya;switch(qb){case "+":for(Ya=eb.length-1;0<Ya;Ya--)if(void 0!==eb[Ya])return hb.slice(1)+eb[Ya];return"";case "&":return hb.slice(1)+eb[0];case "`":return hb.slice(1)+Da.slice(0,eb.index);case "'":return hb.slice(1)+Da.slice(eb.index+eb[0].length);default:return hb.slice(1)+
(eb[qb]||"")}}).replace(/\\\\/g,"\\"));B.lastIndex===eb.index?(ra+=Da.slice(Xa,eb.index)+Ua+(Da[eb.index]||""),B.lastIndex+=1):ra+=Da.slice(Xa,eb.index)+Ua;Xa=B.lastIndex}c["~"]=Ia;return Da.$$cast(ra)},Ha.$$arity=-2);a.def(N,"$hash",Ra=function(){return this.toString()},Ra.$$arity=0);a.def(N,"$hex",Sa=function(){return this.$to_i(16)},Sa.$$arity=0);a.def(N,"$include?",Ma=function(B){B.$$is_string||(B=u(B,n(y,"String"),"to_str"));return-1!==this.indexOf(B)},Ma.$$arity=1);a.def(N,"$index",gb=function(B,
P){var ra;if(void 0===P)P=0;else if(P=u(P,n(y,"Integer"),"to_int"),0>P&&(P+=this.length,0>P))return z;if(B.$$is_regexp)for(ra=a.global_multiline_regexp(B);;){B=ra.exec(this);if(null===B){c["~"]=z;P=-1;break}if(B.index>=P){c["~"]=n(y,"MatchData").$new(ra,B);P=B.index;break}ra.lastIndex=B.index+1}else B=u(B,n(y,"String"),"to_str"),P=0===B.length&&P>this.length?-1:this.indexOf(B,P);return-1===P?z:P},gb.$$arity=-2);a.def(N,"$inspect",kb=function(){var B={"\u0007":"\\a","\u001b":"\\e","\b":"\\b","\t":"\\t",
"\n":"\\n","\f":"\\f","\r":"\\r","\x0B":"\\v",'"':'\\"',"\\":"\\\\"};return'"'+this.replace(/[\\"\x00-\x1f\u007F-\u009F\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,function(P){return B[P]||"\\u"+("0000"+P.charCodeAt(0).toString(16).toUpperCase()).slice(-4)}).replace(/#[\$@\{]/g,"\\$&")+'"'},kb.$$arity=0);a.def(N,"$intern",W=function(){return this.toString()},W.$$arity=0);a.def(N,"$lines",ya=function(B){var P=ya.$$p,ra=P||z;null==c["/"]&&(c["/"]=z);P&&
(ya.$$p=null);P&&(ya.$$p=null);null==B&&(B=c["/"]);B=E(this,"each_line",[B],ra.$to_proc());return m(ra)?this:B.$to_a()},ya.$$arity=-1);a.def(N,"$length",Ba=function(){return this.length},Ba.$$arity=0);a.def(N,"$ljust",Va=function(B,P){null==P&&(P=" ");B=u(B,n(y,"Integer"),"to_int");P=u(P,n(y,"String"),"to_str").$to_s();m(P["$empty?"]())&&this.$raise(n(y,"ArgumentError"),"zero width padding");if(m(B<=this.length))return this;var ra=-1,Ga="";for(B-=this.length;++ra<B;)Ga+=P;return this.$$cast(this+
Ga.slice(0,B))},Va.$$arity=-2);a.def(N,"$lstrip",bb=function(){return this.replace(/^\s*/,"")},bb.$$arity=0);a.def(N,"$ascii_only?",db=function(){return this.$encoding()["$=="](p(n(y,"Encoding"),"UTF_16BE"))?!1:/^[\x00-\x7F]*$/.test(this)},db.$$arity=0);a.def(N,"$match",Ca=function(B,P){var ra=Ca.$$p,Ga=ra||z,Da=z;ra&&(Ca.$$p=null);ra&&(Ca.$$p=null);m(m(Da=n(y,"String")["$==="](B))?Da:B["$respond_to?"]("to_str"))&&(B=n(y,"Regexp").$new(B.$to_str()));m(n(y,"Regexp")["$==="](B))||this.$raise(n(y,"TypeError"),
"wrong argument type "+B.$class()+" (expected Regexp)");return E(B,"match",[this,P],Ga.$to_proc())},Ca.$$arity=-2);a.def(N,"$match?",Wa=function(B,P){var ra=z;m(m(ra=n(y,"String")["$==="](B))?ra:B["$respond_to?"]("to_str"))&&(B=n(y,"Regexp").$new(B.$to_str()));m(n(y,"Regexp")["$==="](B))||this.$raise(n(y,"TypeError"),"wrong argument type "+B.$class()+" (expected Regexp)");return B["$match?"](this,P)},Wa.$$arity=-2);a.def(N,"$next",za=function(){var B=this.length;if(0===B)return this.$$cast("");for(var P=
this,ra=this.search(/[a-zA-Z0-9]/),Ga,Da;B--;){Da=this.charCodeAt(B);if(48<=Da&&57>=Da||65<=Da&&90>=Da||97<=Da&&122>=Da)switch(Da){case 57:Ga=!0;Da=48;break;case 90:Ga=!0;Da=65;break;case 122:Ga=!0;Da=97;break;default:Ga=!1,Da+=1}else-1===ra?255===Da?(Ga=!0,Da=0):(Ga=!1,Da+=1):Ga=!0;P=P.slice(0,B)+String.fromCharCode(Da)+P.slice(B+1);if(Ga&&(0===B||B===ra)){switch(Da){case 65:break;case 97:break;default:Da+=1}P=0===B?String.fromCharCode(Da)+P:P.slice(0,B)+String.fromCharCode(Da)+P.slice(B);Ga=!1}if(!Ga)break}return this.$$cast(P)},
za.$$arity=0);a.def(N,"$oct",ua=function(){var B=this;var P=8;if(/^\s*_/.test(B))return 0;B=B.replace(/^(\s*[+-]?)(0[bodx]?)(.+)$/i,function(ra,Ga,Da,Ia){switch(Ia.charAt(0)){case "+":case "-":return ra;case "0":if("x"===Ia.charAt(1)&&"0x"===Da)return ra}switch(Da){case "0b":P=2;break;case "0":case "0o":P=8;break;case "0d":P=10;break;case "0x":P=16}return Ga+Ia});B=parseInt(B.replace(/_(?!_)/g,""),P);return isNaN(B)?0:B},ua.$$arity=0);a.def(N,"$ord",Na=function(){return this.charCodeAt(0)},Na.$$arity=
0);a.def(N,"$partition",Ta=function(B){if(B.$$is_regexp){var P=B.exec(this);null===P?P=-1:(n(y,"MatchData").$new(B,P),B=P[0],P=P.index)}else B=u(B,n(y,"String"),"to_str"),P=this.indexOf(B);return-1===P?[this,"",""]:[this.slice(0,P),this.slice(P,P+B.length),this.slice(P+B.length)]},Ta.$$arity=1);a.def(N,"$reverse",Za=function(){return this.split("").reverse().join("")},Za.$$arity=0);a.def(N,"$rindex",Fa=function(B,P){if(void 0===P)P=this.length;else if(P=u(P,n(y,"Integer"),"to_int"),0>P&&(P+=this.length,
0>P))return z;if(B.$$is_regexp){var ra=null;for(B=a.global_multiline_regexp(B);;){var Ga=B.exec(this);if(null===Ga||Ga.index>P)break;ra=Ga;B.lastIndex=ra.index+1}null===ra?(c["~"]=z,P=-1):(n(y,"MatchData").$new(B,ra),P=ra.index)}else B=u(B,n(y,"String"),"to_str"),P=this.lastIndexOf(B,P);return-1===P?z:P},Fa.$$arity=-2);a.def(N,"$rjust",Z=function(B,P){null==P&&(P=" ");B=u(B,n(y,"Integer"),"to_int");P=u(P,n(y,"String"),"to_str").$to_s();m(P["$empty?"]())&&this.$raise(n(y,"ArgumentError"),"zero width padding");
if(m(B<=this.length))return this;B=Math.floor(B-this.length);var ra=Array(Math.floor(B/P.length)+1).join(P);return this.$$cast(ra+P.slice(0,B-ra.length)+this)},Z.$$arity=-2);a.def(N,"$rpartition",R=function(B){var P;if(B.$$is_regexp){var ra=null;for(P=a.global_multiline_regexp(B);;){var Ga=P.exec(this);if(null===Ga)break;ra=Ga;P.lastIndex=ra.index+1}null===ra?ra=-1:(n(y,"MatchData").$new(P,ra),B=ra[0],ra=ra.index)}else B=u(B,n(y,"String"),"to_str"),ra=this.lastIndexOf(B);return-1===ra?["","",this]:
[this.slice(0,ra),this.slice(ra,ra+B.length),this.slice(ra+B.length)]},R.$$arity=1);a.def(N,"$rstrip",aa=function(){return this.replace(/[\s\u0000]*$/,"")},aa.$$arity=0);a.def(N,"$scan",U=function(B){var P=U.$$p,ra=P||z;P&&(U.$$p=null);P&&(U.$$p=null);P=[];var Ga=z,Da;B.$$is_regexp?B=a.global_multiline_regexp(B):(B=u(B,n(y,"String"),"to_str"),B=new RegExp(B.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));for(;null!=(Da=B.exec(this));)Ga=n(y,"MatchData").$new(B,Da),ra===z?1==Da.length?P.push(Da[0]):P.push(Ga.$captures()):
1==Da.length?ra(Da[0]):ra.call(this,Ga.$captures()),B.lastIndex===Da.index&&(B.lastIndex+=1);c["~"]=Ga;return ra!==z?this:P},U.$$arity=1);a.alias(N,"size","length");a.alias(N,"slice","[]");a.def(N,"$split",ha=function(B,P){function ra(){for(ib=0;ib<Ia.length;ib++)Ia[ib]=Ga.$$cast(Ia[ib])}var Ga=this,Da=z;null==c[";"]&&(c[";"]=z);if(0===Ga.length)return[];if(void 0===P)P=0;else if(P=n(y,"Opal")["$coerce_to!"](P,n(y,"Integer"),"to_int"),1===P)return[Ga];if(void 0===B||B===z)B=m(Da=c[";"])?Da:" ";var Ia=
[];Da=Ga.toString();var Xa=0,ib;B.$$is_regexp?B=a.global_multiline_regexp(B):(B=u(B,n(y,"String"),"to_str").$to_s()," "===B?(B=/\s+/gm,Da=Da.replace(/^\s+/,"")):B=new RegExp(B.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));Ia=Da.split(B);if(1===Ia.length&&Ia[0]===Da)return[Ga.$$cast(Ia[0])];for(;-1!==(ib=Ia.indexOf(void 0));)Ia.splice(ib,1);if(0===P){for(;""===Ia[Ia.length-1];)--Ia.length;ra();return Ia}var eb=B.exec(Da);if(0>P){if(null!==eb&&""===eb[0]&&-1===B.source.indexOf("(?="))for(ib=0,B=eb.length;ib<
B;ib++)Ia.push("");ra();return Ia}if(null!==eb&&""===eb[0])return Ia.splice(P-1,Ia.length-1,Ia.slice(P-1).join("")),ra(),Ia;if(P>=Ia.length)return ra(),Ia;for(ib=0;null!==eb;){ib++;Xa=B.lastIndex;if(ib+1===P)break;eb=B.exec(Da)}Ia.splice(P-1,Ia.length-1,Da.slice(Xa));ra();return Ia},ha.$$arity=-1);a.def(N,"$squeeze",la=function(B){var P=a.slice.call(arguments,0,arguments.length);if(0===P.length)return this.$$cast(this.replace(/(.)\1+/g,"$1"));P=l(P);return null===P?this:this.$$cast(this.replace(new RegExp("("+
P+")\\1+","g"),"$1"))},la.$$arity=-1);a.def(N,"$start_with?",g=function(B){var P=a.slice.call(arguments,0,arguments.length);for(var ra=0,Ga=P.length;ra<Ga;ra++){var Da=u(P[ra],n(y,"String"),"to_str").$to_s();if(0===this.indexOf(Da))return!0}return!1},g.$$arity=-1);a.def(N,"$strip",C=function(){return this.replace(/^\s*/,"").replace(/[\s\u0000]*$/,"")},C.$$arity=0);a.def(N,"$sub",O=function(B,P){var ra=O.$$p,Ga=ra||z,Da=this;ra&&(O.$$p=null);ra&&(O.$$p=null);B.$$is_regexp||(B=u(B,n(y,"String"),"to_str"),
B=new RegExp(B.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")));var Ia=B.exec(Da);null===Ia?(c["~"]=z,B=Da.toString()):(n(y,"MatchData").$new(B,Ia),void 0===P?(Ga===z&&Da.$raise(n(y,"ArgumentError"),"wrong number of arguments (1 for 2)"),B=Da.slice(0,Ia.index)+Ga(Ia[0])+Da.slice(Ia.index+Ia[0].length)):P.$$is_hash?B=Da.slice(0,Ia.index)+P["$[]"](Ia[0]).$to_s()+Da.slice(Ia.index+Ia[0].length):(P=u(P,n(y,"String"),"to_str"),P=P.replace(/([\\]+)([0-9+&`'])/g,function(Xa,ib,eb){if(0===ib.length%2)return Xa;switch(eb){case "+":for(Xa=
Ia.length-1;0<Xa;Xa--)if(void 0!==Ia[Xa])return ib.slice(1)+Ia[Xa];return"";case "&":return ib.slice(1)+Ia[0];case "`":return ib.slice(1)+Da.slice(0,Ia.index);case "'":return ib.slice(1)+Da.slice(Ia.index+Ia[0].length);default:return ib.slice(1)+(Ia[eb]||"")}}).replace(/\\\\/g,"\\"),B=Da.slice(0,Ia.index)+P+Da.slice(Ia.index+Ia[0].length)));return Da.$$cast(B)},O.$$arity=-2);a.alias(N,"succ","next");a.def(N,"$sum",ba=function(B){null==B&&(B=16);B=u(B,n(y,"Integer"),"to_int");for(var P=0,ra=this.length,
Ga=0;Ga<ra;Ga++)P+=this.charCodeAt(Ga);return 0>=B?P:P&Math.pow(2,B)-1},ba.$$arity=-1);a.def(N,"$swapcase",v=function(){var B=this.replace(/([a-z]+)|([A-Z]+)/g,function(P,ra){return ra?P.toUpperCase():P.toLowerCase()});return this.constructor===String?B:this.$class().$new(B)},v.$$arity=0);a.def(N,"$to_f",V=function(){if("_"===this.charAt(0))return 0;var B=parseFloat(this.replace(/_/g,""));return isNaN(B)||Infinity==B||-Infinity==B?0:B},V.$$arity=0);a.def(N,"$to_i",oa=function(B){null==B&&(B=10);var P=
this.toLowerCase(),ra=u(B,n(y,"Integer"),"to_int");(1===ra||0>ra||36<ra)&&this.$raise(n(y,"ArgumentError"),"invalid radix "+ra);if(/^\s*_/.test(P))return 0;P=P.replace(/^(\s*[+-]?)(0[bodx]?)(.+)$/,function(Ga,Da,Ia,Xa){switch(Xa.charAt(0)){case "+":case "-":return Ga;case "0":if("x"===Xa.charAt(1)&&"0x"===Ia&&(0===ra||16===ra))return Ga}switch(Ia){case "0b":if(0===ra||2===ra)return ra=2,Da+Xa;break;case "0":case "0o":if(0===ra||8===ra)return ra=8,Da+Xa;break;case "0d":if(0===ra||10===ra)return ra=
10,Da+Xa;break;case "0x":if(0===ra||16===ra)return ra=16,Da+Xa}return Ga});B=parseInt(P.replace(/_(?!_)/g,""),ra);return isNaN(B)?0:B},oa.$$arity=-1);a.def(N,"$to_proc",Ka=function(){var B,P=z;Ka.$$p&&(Ka.$$p=null);P=H("$",this.valueOf());return E(this,"proc",[],(B=function(ra){var Ga=null==B.$$s?this:B.$$s,Da=B.$$p,Ia=Da||z;Da&&(B.$$p=null);Da=a.slice.call(arguments,0,arguments.length);0===Da.length&&Ga.$raise(n(y,"ArgumentError"),"no receiver given");Ga=Da[0];null==Ga&&(Ga=z);var Xa=Ga[P];if(!Xa)return Ga.$method_missing.apply(Ga,
Da);"function"===typeof Ia&&(Xa.$$p=Ia);return 1===Da.length?Xa.call(Ga):Xa.apply(Ga,Da.slice(1))},B.$$s=this,B.$$arity=-1,B))},Ka.$$arity=0);a.def(N,"$to_s",jb=function(){return this.toString()},jb.$$arity=0);a.alias(N,"to_str","to_s");a.alias(N,"to_sym","intern");a.def(N,"$tr",ob=function(B,P){B=u(B,n(y,"String"),"to_str").$to_s();P=u(P,n(y,"String"),"to_str").$to_s();if(0==B.length||B===P)return this;var ra={};var Ga=B.split("");var Da=Ga.length,Ia=P.split(""),Xa=Ia.length;B=!1;var ib=null;"^"===
Ga[0]&&1<Ga.length&&(B=!0,Ga.shift(),ib=Ia[Xa-1],--Da);var eb=[];var Ua=null;var Ya=!1;for(P=0;P<Da;P++){var hb=Ga[P];if(null==Ua)Ua=hb,eb.push(hb);else if("-"===hb)"-"===Ua?(eb.push("-"),eb.push("-")):P==Da-1?eb.push("-"):Ya=!0;else if(Ya){Ua=Ua.charCodeAt(0);Ya=hb.charCodeAt(0);Ua>Ya&&this.$raise(n(y,"ArgumentError"),'invalid range "'+String.fromCharCode(Ua)+"-"+String.fromCharCode(Ya)+'" in string transliteration');for(Ua+=1;Ua<Ya;Ua++)eb.push(String.fromCharCode(Ua));eb.push(hb);Ua=Ya=null}else eb.push(hb)}Ga=
eb;Da=Ga.length;if(B)for(P=0;P<Da;P++)ra[Ga[P]]=!0;else{if(0<Xa){eb=[];Ua=null;Ya=!1;for(P=0;P<Xa;P++)if(hb=Ia[P],null==Ua)Ua=hb,eb.push(hb);else if("-"===hb)"-"===Ua?(eb.push("-"),eb.push("-")):P==Xa-1?eb.push("-"):Ya=!0;else if(Ya){Ua=Ua.charCodeAt(0);Ya=hb.charCodeAt(0);Ua>Ya&&this.$raise(n(y,"ArgumentError"),'invalid range "'+String.fromCharCode(Ua)+"-"+String.fromCharCode(Ya)+'" in string transliteration');for(Ua+=1;Ua<Ya;Ua++)eb.push(String.fromCharCode(Ua));eb.push(hb);Ua=Ya=null}else eb.push(hb);
Ia=eb;Xa=Ia.length}hb=Da-Xa;if(0<hb)for(Xa=0<Xa?Ia[Xa-1]:"",P=0;P<hb;P++)Ia.push(Xa);for(P=0;P<Da;P++)ra[Ga[P]]=Ia[P]}Da="";P=0;for(Ga=this.length;P<Ga;P++)hb=this.charAt(P),Ia=ra[hb],Da=B?Da+(null==Ia?ib:hb):Da+(null!=Ia?Ia:hb);return this.$$cast(Da)},ob.$$arity=2);a.def(N,"$tr_s",mb=function(B,P){B=u(B,n(y,"String"),"to_str").$to_s();P=u(P,n(y,"String"),"to_str").$to_s();if(0==B.length)return this;var ra={};var Ga=B.split("");var Da=Ga.length,Ia=P.split(""),Xa=Ia.length;B=!1;var ib=null;"^"===Ga[0]&&
1<Ga.length&&(B=!0,Ga.shift(),ib=Ia[Xa-1],--Da);var eb=[];var Ua=null;var Ya=!1;for(P=0;P<Da;P++){var hb=Ga[P];if(null==Ua)Ua=hb,eb.push(hb);else if("-"===hb)"-"===Ua?(eb.push("-"),eb.push("-")):P==Da-1?eb.push("-"):Ya=!0;else if(Ya){Ua=Ua.charCodeAt(0);Ya=hb.charCodeAt(0);Ua>Ya&&this.$raise(n(y,"ArgumentError"),'invalid range "'+String.fromCharCode(Ua)+"-"+String.fromCharCode(Ya)+'" in string transliteration');for(Ua+=1;Ua<Ya;Ua++)eb.push(String.fromCharCode(Ua));eb.push(hb);Ua=Ya=null}else eb.push(hb)}Ga=
eb;Da=Ga.length;if(B)for(P=0;P<Da;P++)ra[Ga[P]]=!0;else{if(0<Xa){eb=[];Ya=!1;for(P=0;P<Xa;P++)if(hb=Ia[P],null==Ua)Ua=hb,eb.push(hb);else if("-"===hb)P==Xa-1?eb.push("-"):Ya=!0;else if(Ya){Ua=Ua.charCodeAt(0);Ya=hb.charCodeAt(0);Ua>Ya&&this.$raise(n(y,"ArgumentError"),'invalid range "'+String.fromCharCode(Ua)+"-"+String.fromCharCode(Ya)+'" in string transliteration');for(Ua+=1;Ua<Ya;Ua++)eb.push(String.fromCharCode(Ua));eb.push(hb);Ua=Ya=null}else eb.push(hb);Ia=eb;Xa=Ia.length}hb=Da-Xa;if(0<hb)for(Xa=
0<Xa?Ia[Xa-1]:"",P=0;P<hb;P++)Ia.push(Xa);for(P=0;P<Da;P++)ra[Ga[P]]=Ia[P]}Da="";Ia=null;P=0;for(Ga=this.length;P<Ga;P++)if(hb=this.charAt(P),Xa=ra[hb],B)null==Xa?null==Ia&&(Da+=ib,Ia=!0):(Da+=hb,Ia=null);else if(null!=Xa){if(null==Ia||Ia!==Xa)Da+=Xa,Ia=Xa}else Da+=hb,Ia=null;return this.$$cast(Da)},mb.$$arity=2);a.def(N,"$upcase",sb=function(){return this.$$cast(this.toUpperCase())},sb.$$arity=0);a.def(N,"$upto",tb=function(B,P){var ra=tb.$$p,Ga=ra||z;ra&&(tb.$$p=null);ra&&(tb.$$p=null);null==P&&
(P=!1);if(Ga===z)return this.$enum_for("upto",B,P);ra=this.toString();B=u(B,n(y,"String"),"to_str");if(1===ra.length&&1===B.length)for(ra=ra.charCodeAt(0),B=B.charCodeAt(0);ra<=B&&(!P||ra!==B);)Ga(String.fromCharCode(ra)),ra+=1;else if(parseInt(ra,10).toString()===ra&&parseInt(B,10).toString()===B)for(ra=parseInt(ra,10),B=parseInt(B,10);ra<=B&&(!P||ra!==B);)Ga(ra.toString()),ra+=1;else for(;ra.length<=B.length&&ra<=B&&(!P||ra!==B);)Ga(ra),ra=ra.$succ();return this},tb.$$arity=-2);a.def(N,"$instance_variables",
wb=function(){return[]},wb.$$arity=0);a.defs(N,"$_load",xb=function(B){var P=a.slice.call(arguments,0,arguments.length);return E(this,"new",a.to_a(P))},xb.$$arity=-1);a.def(N,"$unicode_normalize",ub=function(B){null==B&&(B="nfc");m(["nfc","nfd","nfkc","nfkd"]["$include?"](B))||this.$raise(n(y,"ArgumentError"),"Invalid normalization form "+B);return this.normalize(B.$upcase())},ub.$$arity=-1);a.def(N,"$unicode_normalized?",X=function(B){null==B&&(B="nfc");return this.$unicode_normalize(B)["$=="](this)},
X.$$arity=-1);a.def(N,"$unpack",Oa=function(){return this.$raise("To use String#unpack, you must first require 'corelib/string/unpack'.")},Oa.$$arity=1);return(a.def(N,"$unpack1",cb=function(){return this.$raise("To use String#unpack1, you must first require 'corelib/string/unpack'.")},cb.$$arity=1),z)&&"unpack1"})(w[0],String,w);return a.const_set(w[0],"Symbol",n(w,"String"))};
Opal.modules["corelib/enumerable"]=function(a){function x(d,l){return"number"===typeof d&&"number"===typeof l?d>l:d["$>"](l)}function H(d,l){return"number"===typeof d&&"number"===typeof l?d+l:d["$+"](l)}function t(d,l){return"number"===typeof d&&"number"===typeof l?d-l:d["$-"](l)}function w(d,l){return"number"===typeof d&&"number"===typeof l?d<=l:d["$<="](l)}var z=[],p=a.nil,n=a.$$$,u=a.$$,D=a.falsy,e=a.truthy,m=a.coerce_to,E=a.module,c=a.send,k=a.hash2,L=a.lambda;a.add_stubs("$each $public_send $destructure $to_enum $enumerator_size $new $yield $raise $slice_when $! $enum_for $flatten $map $warn $proc $== $nil? $respond_to? $coerce_to! $> $* $try_convert $< $+ $- $ceil $/ $size $select $to_proc $__send__ $length $<= $[] $push $<< $[]= $=== $inspect $<=> $first $reverse $sort $take $sort_by $compare $call $dup $to_a $sort! $map! $key? $values $transform_values $group_by $to_h $coerce_to? $class $zip".split(" "));
return function(d,l){function N(Z){0===Z.length&&(Z=[p]);1<Z.length&&(Z=[Z]);return Z}d=E(d,"Enumerable");var y=[d].concat(l),S,ja,ea,ma,b,h,f,q,A,F,G,J,ca,va,Pa,wa,Aa,La,na,T,sa,xa,Ja,ka,M,K,Y,qa,fa,ta,Ea,Ha,Ra,Sa,Ma,gb,kb,W,ya,Ba,Va,bb,db,Ca,Wa,za,ua,Na,Ta,Za,Fa;a.def(d,"$all?",S=function(Z){try{var R=S.$$p,aa=R||p,U,ha,la;R&&(S.$$p=null);R&&(S.$$p=null);e(void 0!==Z)?c(this,"each",[],(U=function(g){var C=a.slice.call(arguments,0,arguments.length);C=N(C);if(e(c(Z,"public_send",["==="].concat(a.to_a(C)))))return p;
a.ret(!1)},U.$$s=this,U.$$arity=-1,U)):aa!==p?c(this,"each",[],(ha=function(g){var C=a.slice.call(arguments,0,arguments.length);if(e(a.yieldX(aa,a.to_a(C))))return p;a.ret(!1)},ha.$$s=this,ha.$$arity=-1,ha)):c(this,"each",[],(la=function(g){var C=a.slice.call(arguments,0,arguments.length);if(e(u(y,"Opal").$destructure(C)))return p;a.ret(!1)},la.$$s=this,la.$$arity=-1,la));return!0}catch(g){if(g===a.returner)return g.$v;throw g;}},S.$$arity=-1);a.def(d,"$any?",ja=function(Z){try{var R=ja.$$p,aa=R||
p,U,ha,la;R&&(ja.$$p=null);R&&(ja.$$p=null);e(void 0!==Z)?c(this,"each",[],(U=function(g){var C=a.slice.call(arguments,0,arguments.length);C=N(C);if(e(c(Z,"public_send",["==="].concat(a.to_a(C)))))a.ret(!0);else return p},U.$$s=this,U.$$arity=-1,U)):aa!==p?c(this,"each",[],(ha=function(g){var C=a.slice.call(arguments,0,arguments.length);if(e(a.yieldX(aa,a.to_a(C))))a.ret(!0);else return p},ha.$$s=this,ha.$$arity=-1,ha)):c(this,"each",[],(la=function(g){var C=a.slice.call(arguments,0,arguments.length);
if(e(u(y,"Opal").$destructure(C)))a.ret(!0);else return p},la.$$s=this,la.$$arity=-1,la));return!1}catch(g){if(g===a.returner)return g.$v;throw g;}},ja.$$arity=-1);a.def(d,"$chunk",ea=function(){var Z=ea.$$p,R=Z||p,aa,U;Z&&(ea.$$p=null);Z&&(ea.$$p=null);return R===p?c(this,"to_enum",["chunk"],(aa=function(){return(null==aa.$$s?this:aa.$$s).$enumerator_size()},aa.$$s=this,aa.$$arity=0,aa)):c(n("::","Enumerator"),"new",[],(U=function(ha){function la(){0<O.length&&ha.$yield(C,O)}var g=null==U.$$s?this:
U.$$s;null==ha&&(ha=p);var C=p,O=[];g.$each.$$p=function(ba){var v=a.yield1(R,ba);v===p?(la(),O=[],C=p):(C===p||C===v?O.push(ba):(la(),O=[ba]),C=v)};g.$each();la()},U.$$s=this,U.$$arity=1,U))},ea.$$arity=0);a.def(d,"$chunk_while",ma=function(){var Z=ma.$$p,R=Z||p,aa;Z&&(ma.$$p=null);Z&&(ma.$$p=null);R===p&&this.$raise(u(y,"ArgumentError"),"no block given");return c(this,"slice_when",[],(aa=function(U,ha){null==U&&(U=p);null==ha&&(ha=p);return a.yieldX(R,[U,ha])["$!"]()},aa.$$s=this,aa.$$arity=2,aa))},
ma.$$arity=0);a.def(d,"$collect",b=function(){var Z=b.$$p,R=Z||p,aa;Z&&(b.$$p=null);Z&&(b.$$p=null);if(R===p)return c(this,"enum_for",["collect"],(aa=function(){return(null==aa.$$s?this:aa.$$s).$enumerator_size()},aa.$$s=this,aa.$$arity=0,aa));var U=[];this.$each.$$p=function(){var ha=a.yieldX(R,arguments);U.push(ha)};this.$each();return U},b.$$arity=0);a.def(d,"$collect_concat",h=function(){var Z=h.$$p,R=Z||p,aa,U;Z&&(h.$$p=null);Z&&(h.$$p=null);return R===p?c(this,"enum_for",["collect_concat"],
(aa=function(){return(null==aa.$$s?this:aa.$$s).$enumerator_size()},aa.$$s=this,aa.$$arity=0,aa)):c(this,"map",[],(U=function(ha){null==ha&&(ha=p);return a.yield1(R,ha)},U.$$s=this,U.$$arity=1,U)).$flatten(1)},h.$$arity=0);a.def(d,"$count",f=function(Z){var R=f.$$p,aa=R||p,U,ha,la,g=p;R&&(f.$$p=null);R&&(f.$$p=null);g=0;null!=Z&&aa!==p&&this.$warn("warning: given block not used");e(null!=Z)?aa=c(this,"proc",[],(U=function(C){var O=a.slice.call(arguments,0,arguments.length);return u(y,"Opal").$destructure(O)["$=="](Z)},
U.$$s=this,U.$$arity=-1,U)):e(aa["$nil?"]())&&(aa=c(this,"proc",[],(ha=function(){return!0},ha.$$s=this,ha.$$arity=0,ha)));c(this,"each",[],(la=function(C){var O=a.slice.call(arguments,0,arguments.length);return e(a.yieldX(aa,O))?g++:p},la.$$s=this,la.$$arity=-1,la));return g},f.$$arity=-1);a.def(d,"$cycle",q=function(Z){var R=q.$$p,aa=R||p,U;R&&(q.$$p=null);R&&(q.$$p=null);null==Z&&(Z=p);if(aa===p)return c(this,"enum_for",["cycle",Z],(U=function(){var g=null==U.$$s?this:U.$$s;if(e(Z["$nil?"]()))return e(g["$respond_to?"]("size"))?
n(u(y,"Float"),"INFINITY"):p;Z=u(y,"Opal")["$coerce_to!"](Z,u(y,"Integer"),"to_int");return e(x(Z,0))?(g=g.$enumerator_size(),"number"===typeof g&&"number"===typeof Z?g*Z:g["$*"](Z)):0},U.$$s=this,U.$$arity=0,U));if(!e(Z["$nil?"]())&&(Z=u(y,"Opal")["$coerce_to!"](Z,u(y,"Integer"),"to_int"),e(0>=Z)))return p;var ha=[],la;this.$each.$$p=function(){var g=u(y,"Opal").$destructure(arguments);a.yield1(aa,g);ha.push(g)};this.$each();if(0===ha.length)return p;if(Z===p)for(;;)for(R=0,la=ha.length;R<la;R++)a.yield1(aa,
ha[R]);else for(;1<Z;){R=0;for(la=ha.length;R<la;R++)a.yield1(aa,ha[R]);Z--}},q.$$arity=-1);a.def(d,"$detect",A=function(Z){try{var R=A.$$p,aa=R||p,U;R&&(A.$$p=null);R&&(A.$$p=null);if(aa===p)return this.$enum_for("detect",Z);c(this,"each",[],(U=function(ha){var la=a.slice.call(arguments,0,arguments.length);la=u(y,"Opal").$destructure(la);if(e(a.yield1(aa,la)))a.ret(la);else return p},U.$$s=this,U.$$arity=-1,U));return void 0!==Z?"function"===typeof Z?Z():Z:p}catch(ha){if(ha===a.returner)return ha.$v;
throw ha;}},A.$$arity=-1);a.def(d,"$drop",F=function(Z){Z=m(Z,u(y,"Integer"),"to_int");e(0>Z)&&this.$raise(u(y,"ArgumentError"),"attempt to drop negative size");var R=[],aa=0;this.$each.$$p=function(){Z<=aa&&R.push(u(y,"Opal").$destructure(arguments));aa++};this.$each();return R},F.$$arity=1);a.def(d,"$drop_while",G=function(){var Z=G.$$p,R=Z||p;Z&&(G.$$p=null);Z&&(G.$$p=null);if(R===p)return this.$enum_for("drop_while");var aa=[],U=!0;this.$each.$$p=function(){var ha=u(y,"Opal").$destructure(arguments);
if(U){var la=a.yield1(R,ha);D(la)&&(U=!1,aa.push(ha))}else aa.push(ha)};this.$each();return aa},G.$$arity=0);a.def(d,"$each_cons",J=function(Z){var R=J.$$p,aa=R||p,U;R&&(J.$$p=null);R&&(J.$$p=null);e(1!=arguments.length)&&this.$raise(u(y,"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 1)");Z=u(y,"Opal").$try_convert(Z,u(y,"Integer"),"to_int");e(0>=Z)&&this.$raise(u(y,"ArgumentError"),"invalid size");if(aa===p)return c(this,"enum_for",["each_cons",Z],(U=function(){var la=p;var g=
(null==U.$$s?this:U.$$s).$enumerator_size();return e(g["$nil?"]())?p:e(e(la=g["$=="](0))?la:"number"===typeof g&&"number"===typeof Z?g<Z:g["$<"](Z))?0:H(t(g,Z),1)},U.$$s=this,U.$$arity=0,U));var ha=[];this.$each.$$p=function(){var la=u(y,"Opal").$destructure(arguments);ha.push(la);ha.length>Z&&ha.shift();ha.length==Z&&a.yield1(aa,ha.slice(0,Z))};this.$each();return p},J.$$arity=1);a.def(d,"$each_entry",ca=function(Z){var R=ca.$$p,aa=R||p,U;R&&(ca.$$p=null);R&&(ca.$$p=null);R=a.slice.call(arguments,
0,arguments.length);if(aa===p)return c(this,"to_enum",["each_entry"].concat(a.to_a(R)),(U=function(){return(null==U.$$s?this:U.$$s).$enumerator_size()},U.$$s=this,U.$$arity=0,U));this.$each.$$p=function(){var ha=u(y,"Opal").$destructure(arguments);a.yield1(aa,ha)};this.$each.apply(this,R);return this},ca.$$arity=-1);a.def(d,"$each_slice",va=function(Z){var R=va.$$p,aa=R||p,U;R&&(va.$$p=null);R&&(va.$$p=null);Z=m(Z,u(y,"Integer"),"to_int");e(0>=Z)&&this.$raise(u(y,"ArgumentError"),"invalid slice size");
if(aa===p)return c(this,"enum_for",["each_slice",Z],(U=function(){var la=null==U.$$s?this:U.$$s;return e(la["$respond_to?"]("size"))?(la=la.$size(),("number"===typeof la&&"number"===typeof Z?la/Z:la["$/"](Z)).$ceil()):p},U.$$s=this,U.$$arity=0,U));var ha=[];this.$each.$$p=function(){var la=u(y,"Opal").$destructure(arguments);ha.push(la);ha.length===Z&&(a.yield1(aa,ha),ha=[])};this.$each();0<ha.length&&a.yield1(aa,ha);return p},va.$$arity=1);a.def(d,"$each_with_index",Pa=function(Z){var R=Pa.$$p,aa=
R||p,U;R&&(Pa.$$p=null);R&&(Pa.$$p=null);R=a.slice.call(arguments,0,arguments.length);if(aa===p)return c(this,"enum_for",["each_with_index"].concat(a.to_a(R)),(U=function(){return(null==U.$$s?this:U.$$s).$enumerator_size()},U.$$s=this,U.$$arity=0,U));var ha=0;this.$each.$$p=function(){var la=u(y,"Opal").$destructure(arguments);aa(la,ha);ha++};this.$each.apply(this,R);return this},Pa.$$arity=-1);a.def(d,"$each_with_object",wa=function(Z){var R=wa.$$p,aa=R||p,U;R&&(wa.$$p=null);R&&(wa.$$p=null);if(aa===
p)return c(this,"enum_for",["each_with_object",Z],(U=function(){return(null==U.$$s?this:U.$$s).$enumerator_size()},U.$$s=this,U.$$arity=0,U));this.$each.$$p=function(){var ha=u(y,"Opal").$destructure(arguments);aa(ha,Z)};this.$each();return Z},wa.$$arity=1);a.def(d,"$entries",Aa=function(Z){var R=a.slice.call(arguments,0,arguments.length);var aa=[];this.$each.$$p=function(){aa.push(u(y,"Opal").$destructure(arguments))};this.$each.apply(this,R);return aa},Aa.$$arity=-1);a.def(d,"$filter_map",La=function(){var Z=
La.$$p,R=Z||p,aa;Z&&(La.$$p=null);Z&&(La.$$p=null);return R===p?c(this,"enum_for",["filter_map"],(aa=function(){return(null==aa.$$s?this:aa.$$s).$enumerator_size()},aa.$$s=this,aa.$$arity=0,aa)):c(c(this,"map",[],R.$to_proc()),"select",[],"itself".$to_proc())},La.$$arity=0);a.alias(d,"find","detect");a.def(d,"$find_all",na=function(){var Z=na.$$p,R=Z||p,aa;Z&&(na.$$p=null);Z&&(na.$$p=null);if(R===p)return c(this,"enum_for",["find_all"],(aa=function(){return(null==aa.$$s?this:aa.$$s).$enumerator_size()},
aa.$$s=this,aa.$$arity=0,aa));var U=[];this.$each.$$p=function(){var ha=u(y,"Opal").$destructure(arguments),la=a.yield1(R,ha);e(la)&&U.push(ha)};this.$each();return U},na.$$arity=0);a.alias(d,"filter","find_all");a.def(d,"$find_index",T=function(Z){try{var R=T.$$p,aa=R||p,U,ha,la=p;R&&(T.$$p=null);R&&(T.$$p=null);if(e(void 0===Z&&aa===p))return this.$enum_for("find_index");null!=Z&&aa!==p&&this.$warn("warning: given block not used");la=0;e(null!=Z)?c(this,"each",[],(U=function(g){var C=a.slice.call(arguments,
0,arguments.length);u(y,"Opal").$destructure(C)["$=="](Z)&&a.ret(la);return la+=1},U.$$s=this,U.$$arity=-1,U)):c(this,"each",[],(ha=function(g){var C=a.slice.call(arguments,0,arguments.length);e(a.yieldX(aa,a.to_a(C)))&&a.ret(la);return la+=1},ha.$$s=this,ha.$$arity=-1,ha));return p}catch(g){if(g===a.returner)return g.$v;throw g;}},T.$$arity=-1);a.def(d,"$first",sa=function(Z){try{var R,aa,U=p,ha=p;if(e(void 0===Z))return c(this,"each",[],(R=function(la){null==la&&(la=p);a.ret(la)},R.$$s=this,R.$$arity=
1,R));U=[];Z=m(Z,u(y,"Integer"),"to_int");e(0>Z)&&this.$raise(u(y,"ArgumentError"),"attempt to take negative size");if(e(0==Z))return[];ha=0;c(this,"each",[],(aa=function(la){var g=a.slice.call(arguments,0,arguments.length);U.push(u(y,"Opal").$destructure(g));if(e(Z<=++ha))a.ret(U);else return p},aa.$$s=this,aa.$$arity=-1,aa));return U}catch(la){if(la===a.returner)return la.$v;throw la;}},sa.$$arity=-1);a.alias(d,"flat_map","collect_concat");a.def(d,"$grep",xa=function(Z){var R=xa.$$p,aa=R||p,U,ha=
p;R&&(xa.$$p=null);R&&(xa.$$p=null);ha=[];c(this,"each",[],(U=function(la){var g=a.slice.call(arguments,0,arguments.length);var C=N(g);if(!e(c(Z,"__send__",["==="].concat(a.to_a(C)))))return p;aa!==p?(e(x(g.$length(),1))&&(g=[g]),g=a.yieldX(aa,a.to_a(g))):e(w(g.$length(),1))&&(g=g["$[]"](0));return ha.$push(g)},U.$$s=this,U.$$arity=-1,U));return ha},xa.$$arity=1);a.def(d,"$grep_v",Ja=function(Z){var R=Ja.$$p,aa=R||p,U,ha=p;R&&(Ja.$$p=null);R&&(Ja.$$p=null);ha=[];c(this,"each",[],(U=function(la){var g=
a.slice.call(arguments,0,arguments.length);var C=N(g);if(e(c(Z,"__send__",["==="].concat(a.to_a(C)))))return p;aa!==p?(e(x(g.$length(),1))&&(g=[g]),g=a.yieldX(aa,a.to_a(g))):e(w(g.$length(),1))&&(g=g["$[]"](0));return ha.$push(g)},U.$$s=this,U.$$arity=-1,U));return ha},Ja.$$arity=1);a.def(d,"$group_by",ka=function(){var Z=ka.$$p,R=Z||p,aa,U=p,ha=p,la=p;Z&&(ka.$$p=null);Z&&(ka.$$p=null);if(R===p)return c(this,"enum_for",["group_by"],(aa=function(){return(null==aa.$$s?this:aa.$$s).$enumerator_size()},
aa.$$s=this,aa.$$arity=0,aa));U=k([],{});this.$each.$$p=function(){var g=u(y,"Opal").$destructure(arguments),C=a.yield1(R,g);e(ha=U["$[]"](C))?C=ha:(la=[C,[]],c(U,"[]=",a.to_a(la)),C=la[t(la.length,1)]);C["$<<"](g)};this.$each();return U},ka.$$arity=0);a.def(d,"$include?",M=function(Z){try{var R;c(this,"each",[],(R=function(aa){var U=a.slice.call(arguments,0,arguments.length);if(u(y,"Opal").$destructure(U)["$=="](Z))a.ret(!0);else return p},R.$$s=this,R.$$arity=-1,R));return!1}catch(aa){if(aa===a.returner)return aa.$v;
throw aa;}},M.$$arity=1);a.def(d,"$inject",K=function(Z,R){var aa=K.$$p,U=aa||p;aa&&(K.$$p=null);aa&&(K.$$p=null);var ha=Z;U!==p&&void 0===R?this.$each.$$p=function(){var la=u(y,"Opal").$destructure(arguments);void 0!==ha&&(la=a.yieldX(U,[ha,la]));ha=la}:(void 0===R&&(u(y,"Symbol")["$==="](Z)||this.$raise(u(y,"TypeError"),""+Z.$inspect()+" is not a Symbol"),R=Z,ha=void 0),this.$each.$$p=function(){var la=u(y,"Opal").$destructure(arguments);ha=void 0===ha?la:ha.$__send__(R,la)});this.$each();return void 0==
ha?p:ha},K.$$arity=-1);a.def(d,"$lazy",Y=function(){var Z;return c(n(u(y,"Enumerator"),"Lazy"),"new",[this,this.$enumerator_size()],(Z=function(R,aa){null==R&&(R=p);var U=a.slice.call(arguments,1,arguments.length);return c(R,"yield",a.to_a(U))},Z.$$s=this,Z.$$arity=-2,Z))},Y.$$arity=0);a.def(d,"$enumerator_size",qa=function(){return e(this["$respond_to?"]("size"))?this.$size():p},qa.$$arity=0);a.alias(d,"map","collect");a.def(d,"$max",fa=function(Z){var R=fa.$$p,aa=R||p,U=this;R&&(fa.$$p=null);R&&
(fa.$$p=null);if(void 0===Z||Z===p){var ha,la;U.$each.$$p=function(){var g=u(y,"Opal").$destructure(arguments);void 0===ha?ha=g:(la=aa!==p?a.yieldX(aa,[g,ha]):g["$<=>"](ha),la===p&&U.$raise(u(y,"ArgumentError"),"comparison failed"),0<la&&(ha=g))};U.$each();return void 0===ha?p:ha}Z=m(Z,u(y,"Integer"),"to_int");return c(U,"sort",[],aa.$to_proc()).$reverse().$first(Z)},fa.$$arity=-1);a.def(d,"$max_by",ta=function(Z){var R=ta.$$p,aa=R||p,U;R&&(ta.$$p=null);R&&(ta.$$p=null);null==Z&&(Z=p);if(!e(aa))return c(this,
"enum_for",["max_by",Z],(U=function(){return(null==U.$$s?this:U.$$s).$enumerator_size()},U.$$s=this,U.$$arity=0,U));if(!e(Z["$nil?"]()))return c(this,"sort_by",[],aa.$to_proc()).$reverse().$take(Z);var ha,la;this.$each.$$p=function(){var g=u(y,"Opal").$destructure(arguments),C=a.yield1(aa,g);void 0===ha?(ha=g,la=C):0<C["$<=>"](la)&&(ha=g,la=C)};this.$each();return void 0===ha?p:ha},ta.$$arity=-1);a.alias(d,"member?","include?");a.def(d,"$min",Ea=function(Z){var R=Ea.$$p,aa=R||p,U,ha=this;R&&(Ea.$$p=
null);R&&(Ea.$$p=null);null==Z&&(Z=p);if(!e(Z["$nil?"]()))return aa!==p?c(ha,"sort",[],(U=function(g,C){null==g&&(g=p);null==C&&(C=p);return a.yieldX(aa,[g,C])},U.$$s=ha,U.$$arity=2,U)).$take(Z):ha.$sort().$take(Z);var la;ha.$each.$$p=aa!==p?function(){var g=u(y,"Opal").$destructure(arguments);if(void 0===la)la=g;else{var C=aa(g,la);C===p&&ha.$raise(u(y,"ArgumentError"),"comparison failed");0>C&&(la=g)}}:function(){var g=u(y,"Opal").$destructure(arguments);void 0===la?la=g:0>u(y,"Opal").$compare(g,
la)&&(la=g)};ha.$each();return void 0===la?p:la},Ea.$$arity=-1);a.def(d,"$min_by",Ha=function(Z){var R=Ha.$$p,aa=R||p,U;R&&(Ha.$$p=null);R&&(Ha.$$p=null);null==Z&&(Z=p);if(!e(aa))return c(this,"enum_for",["min_by",Z],(U=function(){return(null==U.$$s?this:U.$$s).$enumerator_size()},U.$$s=this,U.$$arity=0,U));if(!e(Z["$nil?"]()))return c(this,"sort_by",[],aa.$to_proc()).$take(Z);var ha,la;this.$each.$$p=function(){var g=u(y,"Opal").$destructure(arguments),C=a.yield1(aa,g);void 0===ha?(ha=g,la=C):0>
C["$<=>"](la)&&(ha=g,la=C)};this.$each();return void 0===ha?p:ha},Ha.$$arity=-1);a.def(d,"$minmax",Ra=function(){var Z=Ra.$$p,R=Z||p,aa,U=this,ha=p;Z&&(Ra.$$p=null);Z&&(Ra.$$p=null);R=function(){return e(ha=R)?ha:c(U,"proc",[],(aa=function(O,ba){null==O&&(O=p);null==ba&&(ba=p);return O["$<=>"](ba)},aa.$$s=U,aa.$$arity=2,aa))}();var la=p,g=p,C=!0;U.$each.$$p=function(){var O=u(y,"Opal").$destructure(arguments);if(C)la=g=O,C=!1;else{var ba=R.$call(la,O);ba===p?U.$raise(u(y,"ArgumentError"),"comparison failed"):
0<ba&&(la=O);ba=R.$call(g,O);ba===p?U.$raise(u(y,"ArgumentError"),"comparison failed"):0>ba&&(g=O)}};U.$each();return[la,g]},Ra.$$arity=0);a.def(d,"$minmax_by",Sa=function(){var Z=Sa.$$p,R=Z||p,aa;Z&&(Sa.$$p=null);Z&&(Sa.$$p=null);if(!e(R))return c(this,"enum_for",["minmax_by"],(aa=function(){return(null==aa.$$s?this:aa.$$s).$enumerator_size()},aa.$$s=this,aa.$$arity=0,aa));var U=p,ha=p,la,g;this.$each.$$p=function(){var C=u(y,"Opal").$destructure(arguments),O=a.yield1(R,C);if(void 0===la||0>O["$<=>"](la))U=
C,la=O;if(void 0===g||0<O["$<=>"](g))ha=C,g=O};this.$each();return[U,ha]},Sa.$$arity=0);a.def(d,"$none?",Ma=function(Z){try{var R=Ma.$$p,aa=R||p,U,ha,la;R&&(Ma.$$p=null);R&&(Ma.$$p=null);e(void 0!==Z)?c(this,"each",[],(U=function(g){var C=a.slice.call(arguments,0,arguments.length);C=N(C);if(e(c(Z,"public_send",["==="].concat(a.to_a(C)))))a.ret(!1);else return p},U.$$s=this,U.$$arity=-1,U)):aa!==p?c(this,"each",[],(ha=function(g){var C=a.slice.call(arguments,0,arguments.length);if(e(a.yieldX(aa,a.to_a(C))))a.ret(!1);
else return p},ha.$$s=this,ha.$$arity=-1,ha)):c(this,"each",[],(la=function(g){var C=a.slice.call(arguments,0,arguments.length);C=u(y,"Opal").$destructure(C);if(e(C))a.ret(!1);else return p},la.$$s=this,la.$$arity=-1,la));return!0}catch(g){if(g===a.returner)return g.$v;throw g;}},Ma.$$arity=-1);a.def(d,"$one?",gb=function(Z){try{var R=gb.$$p,aa=R||p,U,ha,la,g=p;R&&(gb.$$p=null);R&&(gb.$$p=null);g=0;e(void 0!==Z)?c(this,"each",[],(U=function(C){var O=a.slice.call(arguments,0,arguments.length);O=N(O);
if(e(c(Z,"public_send",["==="].concat(a.to_a(O)))))if(g=H(g,1),e(x(g,1)))a.ret(!1);else return p;else return p},U.$$s=this,U.$$arity=-1,U)):aa!==p?c(this,"each",[],(ha=function(C){var O=a.slice.call(arguments,0,arguments.length);if(!e(a.yieldX(aa,a.to_a(O))))return p;g=H(g,1);if(e(x(g,1)))a.ret(!1);else return p},ha.$$s=this,ha.$$arity=-1,ha)):c(this,"each",[],(la=function(C){var O=a.slice.call(arguments,0,arguments.length);if(!e(u(y,"Opal").$destructure(O)))return p;g=H(g,1);if(e(x(g,1)))a.ret(!1);
else return p},la.$$s=this,la.$$arity=-1,la));return g["$=="](1)}catch(C){if(C===a.returner)return C.$v;throw C;}},gb.$$arity=-1);a.def(d,"$partition",kb=function(){var Z=kb.$$p,R=Z||p,aa;Z&&(kb.$$p=null);Z&&(kb.$$p=null);if(R===p)return c(this,"enum_for",["partition"],(aa=function(){return(null==aa.$$s?this:aa.$$s).$enumerator_size()},aa.$$s=this,aa.$$arity=0,aa));var U=[],ha=[];this.$each.$$p=function(){var la=u(y,"Opal").$destructure(arguments),g=a.yield1(R,la);e(g)?U.push(la):ha.push(la)};this.$each();
return[U,ha]},kb.$$arity=0);a.alias(d,"reduce","inject");a.def(d,"$reject",W=function(){var Z=W.$$p,R=Z||p,aa;Z&&(W.$$p=null);Z&&(W.$$p=null);if(R===p)return c(this,"enum_for",["reject"],(aa=function(){return(null==aa.$$s?this:aa.$$s).$enumerator_size()},aa.$$s=this,aa.$$arity=0,aa));var U=[];this.$each.$$p=function(){var ha=u(y,"Opal").$destructure(arguments),la=a.yield1(R,ha);D(la)&&U.push(ha)};this.$each();return U},W.$$arity=0);a.def(d,"$reverse_each",ya=function(){var Z=ya.$$p,R=Z||p,aa;Z&&(ya.$$p=
null);Z&&(ya.$$p=null);if(R===p)return c(this,"enum_for",["reverse_each"],(aa=function(){return(null==aa.$$s?this:aa.$$s).$enumerator_size()},aa.$$s=this,aa.$$arity=0,aa));var U=[];this.$each.$$p=function(){U.push(arguments)};this.$each();for(Z=U.length-1;0<=Z;Z--)a.yieldX(R,U[Z]);return U},ya.$$arity=0);a.alias(d,"select","find_all");a.def(d,"$slice_before",Ba=function(Z){var R=Ba.$$p,aa=R||p,U;R&&(Ba.$$p=null);R&&(Ba.$$p=null);e(void 0===Z&&aa===p)&&this.$raise(u(y,"ArgumentError"),"both pattern and block are given");
e(void 0!==Z&&aa!==p||1<arguments.length)&&this.$raise(u(y,"ArgumentError"),"wrong number of arguments ("+arguments.length+" expected 1)");return c(u(y,"Enumerator"),"new",[],(U=function(ha){var la=null==U.$$s?this:U.$$s;null==ha&&(ha=p);var g=[];la.$each.$$p=aa!==p?void 0===Z?function(){var C=u(y,"Opal").$destructure(arguments),O=a.yield1(aa,C);e(O)&&0<g.length&&(ha["$<<"](g),g=[]);g.push(C)}:function(){var C=u(y,"Opal").$destructure(arguments),O=aa(C,Z.$dup());e(O)&&0<g.length&&(ha["$<<"](g),g=
[]);g.push(C)}:function(){var C=u(y,"Opal").$destructure(arguments),O=Z["$==="](C);e(O)&&0<g.length&&(ha["$<<"](g),g=[]);g.push(C)};la.$each();if(0<g.length)ha["$<<"](g)},U.$$s=this,U.$$arity=1,U))},Ba.$$arity=-1);a.def(d,"$slice_after",Va=function(Z){var R=Va.$$p,aa=R||p,U,ha;R&&(Va.$$p=null);R&&(Va.$$p=null);e(void 0===Z&&aa===p)&&this.$raise(u(y,"ArgumentError"),"both pattern and block are given");e(void 0!==Z&&aa!==p||1<arguments.length)&&this.$raise(u(y,"ArgumentError"),"wrong number of arguments ("+
arguments.length+" expected 1)");e(void 0!==Z)&&(aa=c(this,"proc",[],(U=function(la){null==la&&(la=p);return Z["$==="](la)},U.$$s=this,U.$$arity=1,U)));return c(u(y,"Enumerator"),"new",[],(ha=function(la){var g=null==ha.$$s?this:ha.$$s;null==la&&(la=p);var C;g.$each.$$p=function(){var O=u(y,"Opal").$destructure(arguments),ba=a.yield1(aa,O);null==C&&(C=[]);e(ba)?(C.push(O),la.$yield(C),C=null):C.push(O)};g.$each();null!=C&&la.$yield(C)},ha.$$s=this,ha.$$arity=1,ha))},Va.$$arity=-1);a.def(d,"$slice_when",
bb=function(){var Z=bb.$$p,R=Z||p,aa;Z&&(bb.$$p=null);Z&&(bb.$$p=null);R===p&&this.$raise(u(y,"ArgumentError"),"wrong number of arguments (0 for 1)");return c(u(y,"Enumerator"),"new",[],(aa=function(U){var ha=null==aa.$$s?this:aa.$$s;null==U&&(U=p);var la=p,g=p;ha.$each_cons.$$p=function(){var C=u(y,"Opal").$destructure(arguments),O=C[0];C=C[1];var ba=a.yieldX(R,[O,C]);g=C;la===p&&(la=[]);e(ba)?(la.push(O),U.$yield(la),la=[]):la.push(O)};ha.$each_cons(2);la!==p&&(la.push(g),U.$yield(la))},aa.$$s=
this,aa.$$arity=1,aa))},bb.$$arity=0);a.def(d,"$sort",db=function(){var Z=db.$$p,R=Z||p,aa,U=p;Z&&(db.$$p=null);Z&&(db.$$p=null);U=this.$to_a();R===p&&(R=L((aa=function(ha,la){null==ha&&(ha=p);null==la&&(la=p);return ha["$<=>"](la)},aa.$$s=this,aa.$$arity=2,aa)));return c(U,"sort",[],R.$to_proc())},db.$$arity=0);a.def(d,"$sort_by",Ca=function(){var Z=Ca.$$p,R=Z||p,aa,U,ha,la,g=p;Z&&(Ca.$$p=null);Z&&(Ca.$$p=null);if(R===p)return c(this,"enum_for",["sort_by"],(aa=function(){return(null==aa.$$s?this:
aa.$$s).$enumerator_size()},aa.$$s=this,aa.$$arity=0,aa));g=c(this,"map",[],(U=function(){var C=u(y,"Opal").$destructure(arguments);return[a.yield1(R,C),C]},U.$$s=this,U.$$arity=0,U));c(g,"sort!",[],(ha=function(C,O){null==C&&(C=p);null==O&&(O=p);return C[0]["$<=>"](O[0])},ha.$$s=this,ha.$$arity=2,ha));return c(g,"map!",[],(la=function(C){null==C&&(C=p);return C[1]},la.$$s=this,la.$$arity=1,la))},Ca.$$arity=0);a.def(d,"$sum",Wa=function(Z){var R,aa=Wa.$$p,U=aa||p,ha=p;aa&&(Wa.$$p=null);null==Z&&(Z=
0);ha=Z;c(this,"each",[],(R=function(la){var g=a.slice.call(arguments,0,arguments.length);g=U!==p?a.yieldX(U,a.to_a(g)):u(y,"Opal").$destructure(g);return ha=H(ha,g)},R.$$s=this,R.$$arity=-1,R));return ha},Wa.$$arity=-1);a.def(d,"$take",za=function(Z){return this.$first(Z)},za.$$arity=1);a.def(d,"$take_while",ua=function(){try{var Z=ua.$$p,R=Z||p,aa,U=p;Z&&(ua.$$p=null);Z&&(ua.$$p=null);if(!e(R))return this.$enum_for("take_while");U=[];return c(this,"each",[],(aa=function(ha){var la=a.slice.call(arguments,
0,arguments.length);la=u(y,"Opal").$destructure(la);e(a.yield1(R,la))||a.ret(U);return U.push(la)},aa.$$s=this,aa.$$arity=-1,aa))}catch(ha){if(ha===a.returner)return ha.$v;throw ha;}},ua.$$arity=0);a.def(d,"$uniq",Na=function(){var Z=Na.$$p,R=Z||p,aa,U=p;Z&&(Na.$$p=null);Z&&(Na.$$p=null);U=k([],{});c(this,"each",[],(aa=function(ha){var la=a.slice.call(arguments,0,arguments.length);la=u(y,"Opal").$destructure(la);var g=R!==p?a.yield1(R,la):la;if(e(U["$key?"](g)))return p;la=[g,la];c(U,"[]=",a.to_a(la));
return la[t(la.length,1)]},aa.$$s=this,aa.$$arity=-1,aa));return U.$values()},Na.$$arity=0);a.def(d,"$tally",Ta=function(){return c(c(this,"group_by",[],"itself".$to_proc()),"transform_values",[],"count".$to_proc())},Ta.$$arity=0);a.alias(d,"to_a","entries");a.def(d,"$to_h",Za=function(Z){var R=Za.$$p,aa=R||p,U=this;R&&(Za.$$p=null);R&&(Za.$$p=null);R=a.slice.call(arguments,0,arguments.length);if(aa!==p)return c(c(U,"map",[],aa.$to_proc()),"to_h",a.to_a(R));var ha=k([],{});U.$each.$$p=function(){var la=
u(y,"Opal").$destructure(arguments);la=u(y,"Opal")["$coerce_to?"](la,u(y,"Array"),"to_ary");la.$$is_array||U.$raise(u(y,"TypeError"),"wrong element type "+la.$class()+" (expected array)");2!==la.length&&U.$raise(u(y,"ArgumentError"),"wrong array length (expected 2, was "+la.$length()+")");a.hash_put(ha,la[0],la[1])};U.$each.apply(U,R);return ha},Za.$$arity=-1);a.def(d,"$zip",Fa=function(Z){var R=Fa.$$p;R&&(Fa.$$p=null);R&&(Fa.$$p=null);R=a.slice.call(arguments,0,arguments.length);return c(this.$to_a(),
"zip",a.to_a(R))},Fa.$$arity=-1)}(z[0],z)};
Opal.modules["corelib/enumerator"]=function(a){function x(L,d){return"number"===typeof L&&"number"===typeof d?L+d:L["$+"](d)}function H(L,d){return"number"===typeof L&&"number"===typeof d?L<d:L["$<"](d)}var t=a.top,w=[],z=a.nil,p=a.$$,n=a.breaker,u=a.slice,D=a.falsy,e=a.truthy,m=a.coerce_to,E=a.klass,c=a.send,k=a.send2;a.add_stubs("$require $include $allocate $new $to_proc $! $respond_to? $nil? $empty? $+ $class $__send__ $call $enum_for $size $destructure $inspect $any? $[] $raise $yield $each $enumerator_size $try_convert $< $=== $for".split(" "));t.$require("corelib/enumerable");
return function(L,$super,l){L=E(L,$super,"Enumerator");var N=[L].concat(l),y,S,ja,ea,ma,b,h;L.$$prototype.size=L.$$prototype.args=L.$$prototype.object=L.$$prototype.method=z;L.$include(p(N,"Enumerable"));L.$$prototype.$$is_enumerator=!0;a.defs(L,"$for",y=function(f,q,A){var F=y.$$p,G=F||z;F&&(y.$$p=null);F&&(y.$$p=null);F=a.slice.call(arguments,1,arguments.length);if(0<F.length){var J=F[0];F.splice(0,1)}null==J&&(J="each");var ca=this.$allocate();ca.object=f;ca.size=G;ca.method=J;ca.args=F;return ca},
y.$$arity=-2);a.def(L,"$initialize",S=function(f){var q=S.$$p,A=q||z,F=z;q&&(S.$$p=null);q&&(S.$$p=null);a.slice.call(arguments,0,arguments.length);if(e(A))return this.object=c(p(N,"Generator"),"new",[],A.$to_proc()),this.method="each",this.args=[],this.size=arguments[0]||z,e(e(F=this.size)?this.size["$respond_to?"]("call")["$!"]():F)?this.size=m(this.size,p(N,"Integer"),"to_int"):z;this.object=arguments[0];this.method=arguments[1]||"each";this.args=u.call(arguments,2);return this.size=z},S.$$arity=
-1);a.def(L,"$each",ja=function(f){var q=ja.$$p,A=q||z,F=z;q&&(ja.$$p=null);q&&(ja.$$p=null);q=a.slice.call(arguments,0,arguments.length);if(e(e(F=A["$nil?"]())?q["$empty?"]():F))return this;q=x(this.args,q);return e(A["$nil?"]())?c(this.$class(),"new",[this.object,this.method].concat(a.to_a(q))):c(this.object,"__send__",[this.method].concat(a.to_a(q)),A.$to_proc())},ja.$$arity=-1);a.def(L,"$size",ea=function(){return e(this.size["$respond_to?"]("call"))?c(this.size,"call",a.to_a(this.args)):this.size},
ea.$$arity=0);a.def(L,"$with_index",ma=function(f){var q=ma.$$p,A=q||z,F;q&&(ma.$$p=null);q&&(ma.$$p=null);null==f&&(f=0);f=e(f)?m(f,p(N,"Integer"),"to_int"):0;if(!e(A))return c(this,"enum_for",["with_index",f],(F=function(){return(null==F.$$s?this:F.$$s).$size()},F.$$s=this,F.$$arity=0,F));var G=f;this.$each.$$p=function(){var J=p(N,"Opal").$destructure(arguments);J=A(J,G);G++;return J};return this.$each()},ma.$$arity=-1);a.alias(L,"with_object","each_with_object");a.def(L,"$each_with_index",b=function(){var f=
b.$$p,q=f||z,A,F=z,G=z,J=z;f&&(b.$$p=null);G=0;J=arguments.length;for(F=Array(J);G<J;G++)F[G]=arguments[G];f&&(b.$$p=null);if(q===z)return c(this,"enum_for",["each_with_index"],(A=function(){return(null==A.$$s?this:A.$$s).$size()},A.$$s=this,A.$$arity=0,A));k(this,a.find_super_dispatcher(this,"each_with_index",b,!1,!0),"each_with_index",F,f);return this.object},b.$$arity=0);a.def(L,"$inspect",h=function(){var f="#<"+this.$class()+": "+this.object.$inspect()+":"+this.method;e(this.args["$any?"]())&&
(f=x(f,"("+this.args.$inspect()["$[]"](p(N,"Range").$new(1,-2))+")"));return x(f,">")},h.$$arity=0);(function(f,$super,A){f=E(f,$super,"Generator");var F=[f].concat(A),G,J;f.$$prototype.block=z;f.$include(p(F,"Enumerable"));a.def(f,"$initialize",G=function(){var ca=G.$$p,va=ca||z;ca&&(G.$$p=null);ca&&(G.$$p=null);e(va)||this.$raise(p(F,"LocalJumpError"),"no block given");return this.block=va},G.$$arity=0);return(a.def(f,"$each",J=function(ca){var va=J.$$p,Pa=va||z;va&&(J.$$p=null);va&&(J.$$p=null);
va=a.slice.call(arguments,0,arguments.length);Pa=c(p(F,"Yielder"),"new",[],Pa.$to_proc());try{va.unshift(Pa),a.yieldX(this.block,va)}catch(wa){if(wa===n)return n.$v;throw wa;}return this},J.$$arity=-1),z)&&"each"})(N[0],null,N);(function(f,$super,A){f=E(f,$super,"Yielder");[f].concat(A);var F,G,J;f.$$prototype.block=z;a.def(f,"$initialize",F=function(){var ca=F.$$p,va=ca||z;ca&&(F.$$p=null);ca&&(F.$$p=null);return this.block=va},F.$$arity=0);a.def(f,"$yield",G=function(ca){var va=a.slice.call(arguments,
0,arguments.length);va=a.yieldX(this.block,va);if(va===n)throw n;return va},G.$$arity=-1);return(a.def(f,"$<<",J=function(ca){var va=a.slice.call(arguments,0,arguments.length);c(this,"yield",a.to_a(va));return this},J.$$arity=-1),z)&&"<<"})(N[0],null,N);(function(f,$super,A){f=E(f,$super,"Lazy");var F=[f].concat(A),G,J,ca,va,Pa,wa,Aa,La,na,T,sa,xa,Ja;f.$$prototype.enumerator=z;(function(ka,$super,K){[E(ka,$super,"StopLazyError")].concat(K);return z})(F[0],p(F,"Exception"),F);a.def(f,"$initialize",
G=function(ka,M){var K=G.$$p,Y=K||z,qa;K&&(G.$$p=null);K&&(G.$$p=null);null==M&&(M=z);Y===z&&this.$raise(p(F,"ArgumentError"),"tried to call lazy new without a block");this.enumerator=ka;return k(this,a.find_super_dispatcher(this,"initialize",G,!1,!0),"initialize",[M],(qa=function(fa,ta){var Ea=null==qa.$$s?this:qa.$$s,Ha;null==fa&&(fa=z);var Ra=a.slice.call(arguments,1,arguments.length);try{return c(ka,"each",a.to_a(Ra),(Ha=function(Sa){var Ma=a.slice.call(arguments,0,arguments.length);Ma.unshift(fa);
a.yieldX(Y,Ma)},Ha.$$s=Ea,Ha.$$arity=-1,Ha))}catch(Sa){if(a.rescue(Sa,[p(F,"Exception")]))try{return z}finally{a.pop_exception()}else throw Sa;}},qa.$$s=this,qa.$$arity=-2,qa))},G.$$arity=-2);a.alias(f,"force","to_a");a.def(f,"$lazy",J=function(){return this},J.$$arity=0);a.def(f,"$collect",ca=function(){var ka=ca.$$p,M=ka||z,K;ka&&(ca.$$p=null);ka&&(ca.$$p=null);e(M)||this.$raise(p(F,"ArgumentError"),"tried to call lazy map without a block");return c(p(F,"Lazy"),"new",[this,this.$enumerator_size()],
(K=function(Y,qa){null==Y&&(Y=z);var fa=a.slice.call(arguments,1,arguments.length);fa=a.yieldX(M,fa);Y.$yield(fa)},K.$$s=this,K.$$arity=-2,K))},ca.$$arity=0);a.def(f,"$collect_concat",va=function(){var ka=va.$$p,M=ka||z,K;ka&&(va.$$p=null);ka&&(va.$$p=null);e(M)||this.$raise(p(F,"ArgumentError"),"tried to call lazy map without a block");return c(p(F,"Lazy"),"new",[this,z],(K=function(Y,qa){var fa=null==K.$$s?this:K.$$s,ta,Ea;null==Y&&(Y=z);var Ha=a.slice.call(arguments,1,arguments.length);Ha=a.yieldX(M,
Ha);Ha["$respond_to?"]("force")&&Ha["$respond_to?"]("each")?c(Ha,"each",[],(ta=function(Ra){null==Ra&&(Ra=z);return Y.$yield(Ra)},ta.$$s=fa,ta.$$arity=1,ta)):p(F,"Opal").$try_convert(Ha,p(F,"Array"),"to_ary")===z?Y.$yield(Ha):c(Ha,"each",[],(Ea=function(Ra){null==Ra&&(Ra=z);return Y.$yield(Ra)},Ea.$$s=fa,Ea.$$arity=1,Ea))},K.$$s=this,K.$$arity=-2,K))},va.$$arity=0);a.def(f,"$drop",Pa=function(ka){var M,K=z,Y=K=z;ka=m(ka,p(F,"Integer"),"to_int");e(H(ka,0))&&this.$raise(p(F,"ArgumentError"),"attempt to drop negative size");
K=this.$enumerator_size();K=e(p(F,"Integer")["$==="](K))?e(H(ka,K))?ka:K:K;Y=0;return c(p(F,"Lazy"),"new",[this,K],(M=function(qa,fa){null==qa&&(qa=z);var ta=a.slice.call(arguments,1,arguments.length);return e(H(Y,ka))?Y=x(Y,1):c(qa,"yield",a.to_a(ta))},M.$$s=this,M.$$arity=-2,M))},Pa.$$arity=1);a.def(f,"$drop_while",wa=function(){var ka=wa.$$p,M=ka||z,K,Y=z;ka&&(wa.$$p=null);ka&&(wa.$$p=null);e(M)||this.$raise(p(F,"ArgumentError"),"tried to call lazy drop_while without a block");Y=!0;return c(p(F,
"Lazy"),"new",[this,z],(K=function(qa,fa){null==qa&&(qa=z);var ta=a.slice.call(arguments,1,arguments.length);if(e(Y)){var Ea=a.yieldX(M,ta);D(Ea)&&(Y=!1,c(qa,"yield",a.to_a(ta)))}else return c(qa,"yield",a.to_a(ta))},K.$$s=this,K.$$arity=-2,K))},wa.$$arity=0);a.def(f,"$enum_for",Aa=function(ka,M){var K=Aa.$$p,Y=K||z;K&&(Aa.$$p=null);K&&(Aa.$$p=null);K=a.slice.call(arguments,0,arguments.length);if(0<K.length){var qa=K[0];K.splice(0,1)}null==qa&&(qa="each");return c(this.$class(),"for",[this,qa].concat(a.to_a(K)),
Y.$to_proc())},Aa.$$arity=-1);a.alias(f,"filter","find_all");a.def(f,"$find_all",La=function(){var ka=La.$$p,M=ka||z,K;ka&&(La.$$p=null);ka&&(La.$$p=null);e(M)||this.$raise(p(F,"ArgumentError"),"tried to call lazy select without a block");return c(p(F,"Lazy"),"new",[this,z],(K=function(Y,qa){null==Y&&(Y=z);var fa=a.slice.call(arguments,1,arguments.length);var ta=a.yieldX(M,fa);e(ta)&&c(Y,"yield",a.to_a(fa))},K.$$s=this,K.$$arity=-2,K))},La.$$arity=0);a.alias(f,"flat_map","collect_concat");a.def(f,
"$grep",na=function(ka){var M=na.$$p,K=M||z,Y,qa;M&&(na.$$p=null);M&&(na.$$p=null);return e(K)?c(p(F,"Lazy"),"new",[this,z],(Y=function(fa,ta){null==fa&&(fa=z);var Ea=a.slice.call(arguments,1,arguments.length);Ea=p(F,"Opal").$destructure(Ea);var Ha=ka["$==="](Ea);e(Ha)&&(a.yield1(K,Ea),fa.$yield(a.yield1(K,Ea)))},Y.$$s=this,Y.$$arity=-2,Y)):c(p(F,"Lazy"),"new",[this,z],(qa=function(fa,ta){null==fa&&(fa=z);var Ea=a.slice.call(arguments,1,arguments.length);Ea=p(F,"Opal").$destructure(Ea);var Ha=ka["$==="](Ea);
e(Ha)&&fa.$yield(Ea)},qa.$$s=this,qa.$$arity=-2,qa))},na.$$arity=1);a.alias(f,"map","collect");a.alias(f,"select","find_all");a.def(f,"$reject",T=function(){var ka=T.$$p,M=ka||z,K;ka&&(T.$$p=null);ka&&(T.$$p=null);e(M)||this.$raise(p(F,"ArgumentError"),"tried to call lazy reject without a block");return c(p(F,"Lazy"),"new",[this,z],(K=function(Y,qa){null==Y&&(Y=z);var fa=a.slice.call(arguments,1,arguments.length);var ta=a.yieldX(M,fa);D(ta)&&c(Y,"yield",a.to_a(fa))},K.$$s=this,K.$$arity=-2,K))},T.$$arity=
0);a.def(f,"$take",sa=function(ka){var M,K=z,Y=K=z;ka=m(ka,p(F,"Integer"),"to_int");e(H(ka,0))&&this.$raise(p(F,"ArgumentError"),"attempt to take negative size");K=this.$enumerator_size();K=e(p(F,"Integer")["$==="](K))?e(H(ka,K))?ka:K:K;Y=0;return c(p(F,"Lazy"),"new",[this,K],(M=function(qa,fa){var ta=null==M.$$s?this:M.$$s;null==qa&&(qa=z);var Ea=a.slice.call(arguments,1,arguments.length);return e(H(Y,ka))?(c(qa,"yield",a.to_a(Ea)),Y=x(Y,1)):ta.$raise(p(F,"StopLazyError"))},M.$$s=this,M.$$arity=
-2,M))},sa.$$arity=1);a.def(f,"$take_while",xa=function(){var ka=xa.$$p,M=ka||z,K;ka&&(xa.$$p=null);ka&&(xa.$$p=null);e(M)||this.$raise(p(F,"ArgumentError"),"tried to call lazy take_while without a block");return c(p(F,"Lazy"),"new",[this,z],(K=function(Y,qa){var fa=null==K.$$s?this:K.$$s;null==Y&&(Y=z);var ta=a.slice.call(arguments,1,arguments.length);var Ea=a.yieldX(M,ta);e(Ea)?c(Y,"yield",a.to_a(ta)):fa.$raise(p(F,"StopLazyError"))},K.$$s=this,K.$$arity=-2,K))},xa.$$arity=0);a.alias(f,"to_enum",
"enum_for");return(a.def(f,"$inspect",Ja=function(){return"#<"+this.$class()+": "+this.enumerator.$inspect()+">"},Ja.$$arity=0),z)&&"inspect"})(N[0],L,N);return function(f,$super,A){[E(f,$super,"ArithmeticSequence")].concat(A);return z}(N[0],L,N)}(w[0],null,w)};
Opal.modules["corelib/numeric"]=function(a){function x(c,k){return"number"===typeof c&&"number"===typeof k?c-k:c["$-"](k)}function H(c,k){return"number"===typeof c&&"number"===typeof k?c*k:c["$*"](k)}function t(c,k){return"number"===typeof c&&"number"===typeof k?c<k:c["$<"](k)}function w(c,k){return"number"===typeof c&&"number"===typeof k?c/k:c["$/"](k)}var z=a.top,p=[],n=a.nil,u=a.$$$,D=a.$$,e=a.klass,m=a.truthy,E=a.hash2;a.add_stubs("$require $include $instance_of? $class $Float $respond_to? $coerce $__send__ $=== $raise $equal? $- $* $div $< $-@ $ceil $to_f $denominator $to_r $== $floor $/ $% $Complex $zero? $numerator $abs $arg $coerce_to! $round $to_i $truncate $>".split(" "));
z.$require("corelib/comparable");return function(c,$super,L){c=e(c,$super,"Numeric");var d=[c].concat(L),l,N,y,S,ja,ea,ma,b,h,f,q,A,F,G,J,ca,va,Pa,wa,Aa,La,na,T,sa,xa,Ja,ka,M,K,Y,qa,fa,ta,Ea,Ha,Ra,Sa;c.$include(D(d,"Comparable"));a.def(c,"$coerce",l=function(Ma){return m(Ma["$instance_of?"](this.$class()))?[Ma,this]:[this.$Float(Ma),this.$Float(this)]},l.$$arity=1);a.def(c,"$__coerced__",N=function(Ma,gb){if(m(gb["$respond_to?"]("coerce"))){gb=gb.$coerce(this);var kb=a.to_ary(gb);var W=null==kb[0]?
n:kb[0];kb=null==kb[1]?n:kb[1];gb;return W.$__send__(Ma,kb)}return"+"["$==="](Ma)||"-"["$==="](Ma)||"*"["$==="](Ma)||"/"["$==="](Ma)||"%"["$==="](Ma)||"&"["$==="](Ma)||"|"["$==="](Ma)||"^"["$==="](Ma)||"**"["$==="](Ma)?this.$raise(D(d,"TypeError"),""+gb.$class()+" can't be coerced into Numeric"):">"["$==="](Ma)||">="["$==="](Ma)||"<"["$==="](Ma)||"<="["$==="](Ma)||"<=>"["$==="](Ma)?this.$raise(D(d,"ArgumentError"),"comparison of "+this.$class()+" with "+gb.$class()+" failed"):n},N.$$arity=2);a.def(c,
"$<=>",y=function(Ma){return m(this["$equal?"](Ma))?0:n},y.$$arity=1);a.def(c,"$+@",S=function(){return this},S.$$arity=0);a.def(c,"$-@",ja=function(){return x(0,this)},ja.$$arity=0);a.def(c,"$%",ea=function(Ma){return x(this,H(Ma,this.$div(Ma)))},ea.$$arity=1);a.def(c,"$abs",ma=function(){return t(this,0)?this["$-@"]():this},ma.$$arity=0);a.def(c,"$abs2",b=function(){return H(this,this)},b.$$arity=0);a.def(c,"$angle",h=function(){return t(this,0)?u(D(d,"Math"),"PI"):0},h.$$arity=0);a.alias(c,"arg",
"angle");a.def(c,"$ceil",f=function(Ma){null==Ma&&(Ma=0);return this.$to_f().$ceil(Ma)},f.$$arity=-1);a.def(c,"$conj",q=function(){return this},q.$$arity=0);a.alias(c,"conjugate","conj");a.def(c,"$denominator",A=function(){return this.$to_r().$denominator()},A.$$arity=0);a.def(c,"$div",F=function(Ma){Ma["$=="](0)&&this.$raise(D(d,"ZeroDivisionError"),"divided by o");return w(this,Ma).$floor()},F.$$arity=1);a.def(c,"$divmod",G=function(Ma){return[this.$div(Ma),this["$%"](Ma)]},G.$$arity=1);a.def(c,
"$fdiv",J=function(Ma){return w(this.$to_f(),Ma)},J.$$arity=1);a.def(c,"$floor",ca=function(Ma){null==Ma&&(Ma=0);return this.$to_f().$floor(Ma)},ca.$$arity=-1);a.def(c,"$i",va=function(){return this.$Complex(0,this)},va.$$arity=0);a.def(c,"$imag",Pa=function(){return 0},Pa.$$arity=0);a.alias(c,"imaginary","imag");a.def(c,"$integer?",wa=function(){return!1},wa.$$arity=0);a.alias(c,"magnitude","abs");a.alias(c,"modulo","%");a.def(c,"$nonzero?",Aa=function(){return m(this["$zero?"]())?n:this},Aa.$$arity=
0);a.def(c,"$numerator",La=function(){return this.$to_r().$numerator()},La.$$arity=0);a.alias(c,"phase","arg");a.def(c,"$polar",na=function(){return[this.$abs(),this.$arg()]},na.$$arity=0);a.def(c,"$quo",T=function(Ma){return w(D(d,"Opal")["$coerce_to!"](this,D(d,"Rational"),"to_r"),Ma)},T.$$arity=1);a.def(c,"$real",sa=function(){return this},sa.$$arity=0);a.def(c,"$real?",xa=function(){return!0},xa.$$arity=0);a.def(c,"$rect",Ja=function(){return[this,0]},Ja.$$arity=0);a.alias(c,"rectangular","rect");
a.def(c,"$round",ka=function(Ma){return this.$to_f().$round(Ma)},ka.$$arity=-1);a.def(c,"$to_c",M=function(){return this.$Complex(this,0)},M.$$arity=0);a.def(c,"$to_int",K=function(){return this.$to_i()},K.$$arity=0);a.def(c,"$truncate",Y=function(Ma){null==Ma&&(Ma=0);return this.$to_f().$truncate(Ma)},Y.$$arity=-1);a.def(c,"$zero?",qa=function(){return this["$=="](0)},qa.$$arity=0);a.def(c,"$positive?",fa=function(){return"number"===typeof this?0<this:this["$>"](0)},fa.$$arity=0);a.def(c,"$negative?",
ta=function(){return t(this,0)},ta.$$arity=0);a.def(c,"$dup",Ea=function(){return this},Ea.$$arity=0);a.def(c,"$clone",Ha=function(Ma){if(null==Ma)E([],{});else if(!Ma.$$is_hash)throw a.ArgumentError.$new("expected kwargs");return this},Ha.$$arity=-1);a.def(c,"$finite?",Ra=function(){return!0},Ra.$$arity=0);return(a.def(c,"$infinite?",Sa=function(){return n},Sa.$$arity=0),n)&&"infinite?"}(p[0],null,p)};
Opal.modules["corelib/array"]=function(a){function x(ja,ea){return"number"===typeof ja&&"number"===typeof ea?ja>ea:ja["$>"](ea)}var H=a.top,t=[],w=a.nil,z=a.$$$,p=a.$$,n=a.truthy,u=a.falsy,D=a.hash_ids,e=a.yield1,m=a.hash_get,E=a.hash_put,c=a.hash_delete,k=a.coerce_to,L=a.respond_to,d=a.klass,l=a.hash2,N=a.send2,y=a.send,S=a.gvars;a.add_stubs("$require $include $to_a $warn $raise $replace $respond_to? $to_ary $coerce_to? $=== $join $to_str $class $hash $<=> $== $object_id $inspect $enum_for $bsearch_index $to_proc $nil? $coerce_to! $> $* $enumerator_size $empty? $size $map $equal? $dup $each $[] $dig $eql? $length $exclude_end? $flatten $__id__ $to_s $new $max $min $! $>= $** $delete_if $reverse $rotate $rand $at $keep_if $shuffle! $< $sort $sort_by $!= $times $[]= $- $<< $values $is_a? $last $first $upto $reject $pristine $singleton_class".split(" "));
H.$require("corelib/enumerable");H.$require("corelib/numeric");return function(ja,$super,ma){function b(r,I){return I.$$name===a.Array?r:I.$allocate().$replace(r.$to_a())}function h(r,I,Q){for(var da,ia=null,pa=Array(r.length),Qa=0,fb=0,$a=r.length;Qa<$a;Qa++){if(!ia)try{da=e(Q,r[Qa])}catch(lb){ia=lb}if(ia||I(da))pa[fb]=r[Qa],fb+=1}fb!==Qa&&(r.splice.apply(r,[0,pa.length].concat(pa)),r.splice(fb,pa.length));if(ia)throw ia;}function f(r,I){var Q=r.length;var da=I.excl;var ia=k(I.begin,a.Integer,"to_int");
I=k(I.end,a.Integer,"to_int");if(0>ia&&(ia+=Q,0>ia)||ia>Q)return w;if(0>I&&(I+=Q,0>I))return[];da||(I+=1);Q=r.slice(ia,I);return b(Q,r.$class())}function q(r,I,Q){var da=r.length;I=k(I,a.Integer,"to_int");if(0>I&&(I+=da,0>I))return w;if(void 0===Q)return I>=da||0>I?w:r[I];Q=k(Q,a.Integer,"to_int");if(0>Q||I>da||0>I)return w;I=r.slice(I,I+Q);return b(I,r.$class())}function A(r,I){return r===I||0===I?1:0<I&&r>I?A(r-1,I-1)+A(r-1,I):0}var F=d(ja,$super,"Array"),G=[F].concat(ma),J,ca,va,Pa,wa,Aa,La,na,
T,sa,xa,Ja,ka,M,K,Y,qa,fa,ta,Ea,Ha,Ra,Sa,Ma,gb,kb,W,ya,Ba,Va,bb,db,Ca,Wa,za,ua,Na,Ta,Za,Fa,Z,R,aa,U,ha,la,g,C,O,ba,v,V,oa,Ka,jb,ob,mb,sb,tb,wb,xb,ub,X,Oa,cb,B,P,ra,Ga,Da,Ia,Xa,ib,eb,Ua,Ya,hb,qb,nb,pb,Gb,Ab,Jb,Bb,Kb,Cb,Db,Lb,Mb,Eb,Nb,Fb,Ob;F.$include(p(G,"Enumerable"));a.defineProperty(F.$$prototype,"$$is_array",!0);a.defs(F,"$[]",J=function(r){var I=a.slice.call(arguments,0,arguments.length);return b(I,this)},J.$$arity=-1);a.def(F,"$initialize",ca=function(r,I){var Q=ca.$$p,da=Q||w;Q&&(ca.$$p=null);
Q&&(ca.$$p=null);null==r&&(r=w);null==I&&(I=w);I!==w&&da!==w&&this.$warn("warning: block supersedes default value argument");r>z(p(G,"Integer"),"MAX")&&this.$raise(p(G,"ArgumentError"),"array size too big");2<arguments.length&&this.$raise(p(G,"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..2)");if(0===arguments.length)return this.splice(0,this.length),this;if(1===arguments.length){if(r.$$is_array)return this.$replace(r.$to_a()),this;if(r["$respond_to?"]("to_ary"))return this.$replace(r.$to_ary()),
this}r=k(r,p(G,"Integer"),"to_int");0>r&&this.$raise(p(G,"ArgumentError"),"negative array size");this.splice(0,this.length);if(da===w)for(Q=0;Q<r;Q++)this.push(I);else for(Q=0,ia;Q<r;Q++){var ia=da(Q);this[Q]=ia}return this},ca.$$arity=-1);a.defs(F,"$try_convert",va=function(r){return p(G,"Opal")["$coerce_to?"](r,p(G,"Array"),"to_ary")},va.$$arity=1);a.def(F,"$&",Pa=function(r){r=n(p(G,"Array")["$==="](r))?r.$to_a():k(r,p(G,"Array"),"to_ary").$to_a();var I=[],Q=l([],{}),da;var ia=0;for(da=r.length;ia<
da;ia++)E(Q,r[ia],!0);ia=0;for(da=this.length;ia<da;ia++)r=this[ia],void 0!==c(Q,r)&&I.push(r);return I},Pa.$$arity=1);a.def(F,"$|",wa=function(r){r=n(p(G,"Array")["$==="](r))?r.$to_a():k(r,p(G,"Array"),"to_ary").$to_a();var I=l([],{}),Q;var da=0;for(Q=this.length;da<Q;da++)E(I,this[da],!0);da=0;for(Q=r.length;da<Q;da++)E(I,r[da],!0);return I.$keys()},wa.$$arity=1);a.def(F,"$*",Aa=function(r){if(n(r["$respond_to?"]("to_str")))return this.$join(r.$to_str());r=k(r,p(G,"Integer"),"to_int");n(0>r)&&this.$raise(p(G,
"ArgumentError"),"negative argument");for(var I=[],Q=this.$to_a(),da=0;da<r;da++)I=I.concat(Q);return b(I,this.$class())},Aa.$$arity=1);a.def(F,"$+",La=function(r){r=n(p(G,"Array")["$==="](r))?r.$to_a():k(r,p(G,"Array"),"to_ary").$to_a();return this.concat(r)},La.$$arity=1);a.def(F,"$-",na=function(r){r=n(p(G,"Array")["$==="](r))?r.$to_a():k(r,p(G,"Array"),"to_ary").$to_a();if(n(0===this.length))return[];if(n(0===r.length))return this.slice();var I=[],Q=l([],{}),da;var ia=0;for(da=r.length;ia<da;ia++)E(Q,
r[ia],!0);ia=0;for(da=this.length;ia<da;ia++)r=this[ia],void 0===m(Q,r)&&I.push(r);return I},na.$$arity=1);a.def(F,"$<<",T=function(r){this.push(r);return this},T.$$arity=1);a.def(F,"$<=>",sa=function(r){if(n(p(G,"Array")["$==="](r)))r=r.$to_a();else if(n(r["$respond_to?"]("to_ary")))r=r.$to_ary().$to_a();else return w;if(this.$hash()===r.$hash())return 0;for(var I=Math.min(this.length,r.length),Q=0;Q<I;Q++){var da=this[Q]["$<=>"](r[Q]);if(0!==da)return da}return this.length["$<=>"](r.length)},sa.$$arity=
1);a.def(F,"$==",xa=function(r){function I(da,ia){var pa;if(da===ia)return!0;if(!ia.$$is_array)return L(ia,"$to_ary")?ia["$=="](da):!1;da.$$constructor!==Array&&(da=da.$to_a());ia.$$constructor!==Array&&(ia=ia.$to_a());if(da.length!==ia.length)return!1;Q[da.$object_id()]=!0;var Qa=0;for(pa=da.length;Qa<pa;Qa++){var fb=da[Qa];var $a=ia[Qa];if(fb.$$is_array){if($a.$$is_array&&$a.length!==fb.length||!Q.hasOwnProperty(fb.$object_id())&&!I(fb,$a))return!1}else if(!fb["$=="]($a))return!1}return!0}var Q=
{};return I(this,r)},xa.$$arity=1);a.def(F,"$[]",Ja=function(r,I){return r.$$is_range?f(this,r):q(this,r,I)},Ja.$$arity=-2);a.def(F,"$[]=",ka=function(r,I,Q){var da=w;var ia=this.length;if(n(p(G,"Range")["$==="](r))){da=n(p(G,"Array")["$==="](I))?I.$to_a():n(I["$respond_to?"]("to_ary"))?I.$to_ary().$to_a():[I];var pa=r.excl;Q=k(r.begin,p(G,"Integer"),"to_int");var Qa=k(r.end,p(G,"Integer"),"to_int");0>Q&&(Q+=ia,0>Q&&this.$raise(p(G,"RangeError"),""+r.$inspect()+" out of range"));0>Qa&&(Qa+=ia);pa||
(Qa+=1);if(Q>ia)for(;ia<Q;ia++)this[ia]=w;0>Qa?this.splice.apply(this,[Q,0].concat(da)):this.splice.apply(this,[Q,Qa-Q].concat(da))}else{n(void 0===Q)?Qa=1:(Qa=I,I=Q,da=n(p(G,"Array")["$==="](I))?I.$to_a():n(I["$respond_to?"]("to_ary"))?I.$to_ary().$to_a():[I]);r=k(r,p(G,"Integer"),"to_int");Qa=k(Qa,p(G,"Integer"),"to_int");0>r&&(pa=r,r+=ia,0>r&&this.$raise(p(G,"IndexError"),"index "+pa+" too small for array; minimum "+-this.length));0>Qa&&this.$raise(p(G,"IndexError"),"negative length ("+Qa+")");
if(r>ia)for(;ia<r;ia++)this[ia]=w;void 0===Q?this[r]=I:this.splice.apply(this,[r,Qa].concat(da))}return I},ka.$$arity=-3);a.def(F,"$any?",M=function(r){var I=M.$$p,Q;I&&(M.$$p=null);var da=0;var ia=arguments.length;for(Q=Array(ia);da<ia;da++)Q[da]=arguments[da];I&&(M.$$p=null);return 0===this.length?!1:N(this,a.find_super_dispatcher(this,"any?",M,!1,!0),"any?",Q,I)},M.$$arity=-1);a.def(F,"$assoc",K=function(r){for(var I=0,Q=this.length,da;I<Q;I++)if(da=this[I],da.length&&da[0]["$=="](r))return da;
return w},K.$$arity=1);a.def(F,"$at",Y=function(r){r=k(r,p(G,"Integer"),"to_int");0>r&&(r+=this.length);return 0>r||r>=this.length?w:this[r]},Y.$$arity=1);a.def(F,"$bsearch_index",qa=function(){var r=qa.$$p,I=r||w;r&&(qa.$$p=null);r&&(qa.$$p=null);if(I===w)return this.$enum_for("bsearch_index");r=0;for(var Q=this.length,da,ia,pa=!1,Qa=w;r<Q;){da=r+Math.floor((Q-r)/2);ia=this[da];ia=e(I,ia);if(!0===ia)Qa=da,pa=!0;else if(!1===ia||ia===w)pa=!1;else if(ia.$$is_number){if(0===ia)return da;pa=0>ia}else this.$raise(p(G,
"TypeError"),"wrong argument type "+ia.$class()+" (must be numeric, true, false or nil)");pa?Q=da:r=da+1}return Qa},qa.$$arity=0);a.def(F,"$bsearch",fa=function(){var r=fa.$$p,I=r||w;r&&(fa.$$p=null);r&&(fa.$$p=null);if(I===w)return this.$enum_for("bsearch");r=y(this,"bsearch_index",[],I.$to_proc());return null!=r&&r.$$is_number?this[r]:r},fa.$$arity=0);a.def(F,"$cycle",ta=function(r){var I=ta.$$p,Q=I||w,da,ia=w;I&&(ta.$$p=null);I&&(ta.$$p=null);null==r&&(r=w);if(Q===w)return y(this,"enum_for",["cycle",
r],(da=function(){var pa=null==da.$$s?this:da.$$s;if(n(r["$nil?"]()))return z(p(G,"Float"),"INFINITY");r=p(G,"Opal")["$coerce_to!"](r,p(G,"Integer"),"to_int");return n(x(r,0))?(pa=pa.$enumerator_size(),"number"===typeof pa&&"number"===typeof r?pa*r:pa["$*"](r)):0},da.$$s=this,da.$$arity=0,da));if(n(n(ia=this["$empty?"]())?ia:r["$=="](0)))return w;if(r===w)for(;;)for(I=0,ia=this.length;I<ia;I++)e(Q,this[I]);else{r=p(G,"Opal")["$coerce_to!"](r,p(G,"Integer"),"to_int");if(0>=r)return this;for(;0<r;){I=
0;for(ia=this.length;I<ia;I++)e(Q,this[I]);r--}}return this},ta.$$arity=-1);a.def(F,"$clear",Ea=function(){this.splice(0,this.length);return this},Ea.$$arity=0);a.def(F,"$count",Ha=function(r){var I=Ha.$$p,Q=I||w,da=w,ia;I&&(Ha.$$p=null);var pa=0;var Qa=arguments.length;for(ia=Array(Qa);pa<Qa;pa++)ia[pa]=arguments[pa];I&&(Ha.$$p=null);null==r&&(r=w);return n(n(da=r)?da:Q)?N(this,a.find_super_dispatcher(this,"count",Ha,!1,!0),"count",ia,I):this.$size()},Ha.$$arity=-1);a.def(F,"$initialize_copy",Ra=
function(r){return this.$replace(r)},Ra.$$arity=1);a.def(F,"$collect",Sa=function(){var r=Sa.$$p,I=r||w,Q;r&&(Sa.$$p=null);r&&(Sa.$$p=null);if(I===w)return y(this,"enum_for",["collect"],(Q=function(){return(null==Q.$$s?this:Q.$$s).$size()},Q.$$s=this,Q.$$arity=0,Q));r=[];for(var da=0,ia=this.length;da<ia;da++){var pa=e(I,this[da]);r.push(pa)}return r},Sa.$$arity=0);a.def(F,"$collect!",Ma=function(){var r=Ma.$$p,I=r||w,Q;r&&(Ma.$$p=null);r&&(Ma.$$p=null);if(I===w)return y(this,"enum_for",["collect!"],
(Q=function(){return(null==Q.$$s?this:Q.$$s).$size()},Q.$$s=this,Q.$$arity=0,Q));r=0;for(var da=this.length;r<da;r++){var ia=e(I,this[r]);this[r]=ia}return this},Ma.$$arity=0);a.def(F,"$combination",gb=function(r){var I,Q=gb.$$p,da=Q||w,ia=w;Q&&(gb.$$p=null);ia=p(G,"Opal")["$coerce_to!"](r,p(G,"Integer"),"to_int");if(da===w)return y(this,"enum_for",["combination",ia],(I=function(){return A((null==I.$$s?this:I.$$s).length,ia)},I.$$s=this,I.$$arity=0,I));if(0===ia)a.yield1(da,[]);else if(1===ia)for(Q=
0,r=this.length;Q<r;Q++)a.yield1(da,[this[Q]]);else if(ia===this.length)a.yield1(da,this.slice());else if(0<=ia&&ia<this.length){r=[];for(Q=0;Q<=ia+1;Q++)r.push(0);Q=[];var pa=0;var Qa=!1;for(r[0]=-1;!Qa;){for(Q[pa]=this[r[pa+1]];pa<ia-1;)pa++,Qa=r[pa+1]=r[pa]+1,Q[pa]=this[Qa];a.yield1(da,Q.slice());pa++;do Qa=0===pa,r[pa]++,pa--;while(r[pa+1]+ia===this.length+pa+1)}}return this},gb.$$arity=1);a.def(F,"$repeated_combination",kb=function(r){function I(Qa,fb,$a,lb){if($a.length==Qa)Qa=$a.slice(),a.yield1(ia,
Qa);else for(;fb<lb.length;fb++)$a.push(lb[fb]),I(Qa,fb,$a,lb),$a.pop()}var Q,da=kb.$$p,ia=da||w,pa=w;da&&(kb.$$p=null);pa=p(G,"Opal")["$coerce_to!"](r,p(G,"Integer"),"to_int");if(ia===w)return y(this,"enum_for",["repeated_combination",pa],(Q=function(){return A((null==Q.$$s?this:Q.$$s).length+pa-1,pa)},Q.$$s=this,Q.$$arity=0,Q));0<=pa&&I(pa,0,[],this);return this},kb.$$arity=1);a.def(F,"$compact",W=function(){for(var r=[],I=0,Q=this.length,da;I<Q;I++)(da=this[I])!==w&&r.push(da);return r},W.$$arity=
0);a.def(F,"$compact!",ya=function(){for(var r=this.length,I=0,Q=this.length;I<Q;I++)this[I]===w&&(this.splice(I,1),Q--,I--);return this.length===r?w:this},ya.$$arity=0);a.def(F,"$concat",Ba=function(r){var I,Q;var da=a.slice.call(arguments,0,arguments.length);da=y(da,"map",[],(I=function(ia){var pa=null==I.$$s?this:I.$$s;null==ia&&(ia=w);ia=n(p(G,"Array")["$==="](ia))?ia.$to_a():k(ia,p(G,"Array"),"to_ary").$to_a();n(ia["$equal?"](pa))&&(ia=ia.$dup());return ia},I.$$s=this,I.$$arity=1,I));y(da,"each",
[],(Q=function(ia){var pa=null==Q.$$s?this:Q.$$s;null==ia&&(ia=w);for(var Qa=0,fb=ia.length;Qa<fb;Qa++)pa.push(ia[Qa])},Q.$$s=this,Q.$$arity=1,Q));return this},Ba.$$arity=-1);a.def(F,"$delete",Va=function(r){var I=Va.$$p,Q=I||w;I&&(Va.$$p=null);I=this.length;for(var da=0,ia=I;da<ia;da++)this[da]["$=="](r)&&(this.splice(da,1),ia--,da--);return this.length===I?Q!==w?a.yieldX(Q,[]):w:r},Va.$$arity=1);a.def(F,"$delete_at",bb=function(r){r=k(r,p(G,"Integer"),"to_int");0>r&&(r+=this.length);if(0>r||r>=
this.length)return w;var I=this[r];this.splice(r,1);return I},bb.$$arity=1);a.def(F,"$delete_if",db=function(){var r=db.$$p,I=r||w,Q;r&&(db.$$p=null);r&&(db.$$p=null);if(I===w)return y(this,"enum_for",["delete_if"],(Q=function(){return(null==Q.$$s?this:Q.$$s).$size()},Q.$$s=this,Q.$$arity=0,Q));h(this,u,I);return this},db.$$arity=0);a.alias(F,"difference","-");a.def(F,"$dig",Ca=function(r,I){var Q=a.slice.call(arguments,1,arguments.length);var da=this["$[]"](r);if(da===w||0===Q.length)return da;n(da["$respond_to?"]("dig"))||
this.$raise(p(G,"TypeError"),""+da.$class()+" does not have #dig method");return y(da,"dig",a.to_a(Q))},Ca.$$arity=-2);a.def(F,"$drop",Wa=function(r){0>r&&this.$raise(p(G,"ArgumentError"));return this.slice(r)},Wa.$$arity=1);a.def(F,"$dup",za=function(){var r=za.$$p,I;r&&(za.$$p=null);var Q=0;var da=arguments.length;for(I=Array(da);Q<da;Q++)I[Q]=arguments[Q];return this.$$class===a.Array&&this.$$class.$allocate.$$pristine&&this.$copy_instance_variables.$$pristine&&this.$initialize_dup.$$pristine?
this.slice(0):N(this,a.find_super_dispatcher(this,"dup",za,!1,!0),"dup",I,r)},za.$$arity=0);a.def(F,"$each",ua=function(){var r=ua.$$p,I=r||w,Q;r&&(ua.$$p=null);r&&(ua.$$p=null);if(I===w)return y(this,"enum_for",["each"],(Q=function(){return(null==Q.$$s?this:Q.$$s).$size()},Q.$$s=this,Q.$$arity=0,Q));r=0;for(var da=this.length;r<da;r++)e(I,this[r]);return this},ua.$$arity=0);a.def(F,"$each_index",Na=function(){var r=Na.$$p,I=r||w,Q;r&&(Na.$$p=null);r&&(Na.$$p=null);if(I===w)return y(this,"enum_for",
["each_index"],(Q=function(){return(null==Q.$$s?this:Q.$$s).$size()},Q.$$s=this,Q.$$arity=0,Q));r=0;for(var da=this.length;r<da;r++)e(I,r);return this},Na.$$arity=0);a.def(F,"$empty?",Ta=function(){return 0===this.length},Ta.$$arity=0);a.def(F,"$eql?",Za=function(r){function I(da,ia){var pa;if(!ia.$$is_array)return!1;ia=ia.$to_a();if(da.length!==ia.length)return!1;Q[da.$object_id()]=!0;var Qa=0;for(pa=da.length;Qa<pa;Qa++){var fb=da[Qa];var $a=ia[Qa];if(fb.$$is_array){if($a.$$is_array&&$a.length!==
fb.length||!Q.hasOwnProperty(fb.$object_id())&&!I(fb,$a))return!1}else if(!fb["$eql?"]($a))return!1}return!0}var Q={};return I(this,r)},Za.$$arity=1);a.def(F,"$fetch",Fa=function(r,I){var Q=Fa.$$p,da=Q||w;Q&&(Fa.$$p=null);Q&&(Fa.$$p=null);Q=r;r=k(r,p(G,"Integer"),"to_int");0>r&&(r+=this.length);if(0<=r&&r<this.length)return this[r];da!==w&&null!=I&&this.$warn("warning: block supersedes default value argument");if(da!==w)return da(Q);if(null!=I)return I;0===this.length?this.$raise(p(G,"IndexError"),
"index "+Q+" outside of array bounds: 0...0"):this.$raise(p(G,"IndexError"),"index "+Q+" outside of array bounds: -"+this.length+"..."+this.length)},Fa.$$arity=-2);a.def(F,"$fill",Z=function(r){var I=Z.$$p,Q=I||w,da=w;I&&(Z.$$p=null);I&&(Z.$$p=null);I=a.slice.call(arguments,0,arguments.length);if(n(Q)){n(2<I.length)&&this.$raise(p(G,"ArgumentError"),"wrong number of arguments ("+I.$length()+" for 0..2)");var ia=I;var pa=a.to_ary(ia);I=null==pa[0]?w:pa[0];pa=null==pa[1]?w:pa[1]}else n(0==I.length)?
this.$raise(p(G,"ArgumentError"),"wrong number of arguments (0 for 1..3)"):n(3<I.length)&&this.$raise(p(G,"ArgumentError"),"wrong number of arguments ("+I.$length()+" for 1..3)"),ia=I,pa=a.to_ary(ia),da=null==pa[0]?w:pa[0],I=null==pa[1]?w:pa[1],pa=null==pa[2]?w:pa[2];ia;if(n(p(G,"Range")["$==="](I))){if(n(pa)&&this.$raise(p(G,"TypeError"),"length invalid with range"),ia=k(I.begin,p(G,"Integer"),"to_int"),n(0>ia)&&(ia+=this.length),n(0>ia)&&this.$raise(p(G,"RangeError"),""+I.$inspect()+" out of range"),
pa=k(I.end,p(G,"Integer"),"to_int"),n(0>pa)&&(pa+=this.length),n(I["$exclude_end?"]())||(pa+=1),n(pa<=ia))return this}else if(n(I))if(ia=k(I,p(G,"Integer"),"to_int"),n(0>ia)&&(ia+=this.length),n(0>ia)&&(ia=0),n(pa)){pa=k(pa,p(G,"Integer"),"to_int");if(n(0==pa))return this;pa+=ia}else pa=this.length;else ia=0,pa=this.length;if(n(ia>this.length))for(I=this.length;I<pa;I++)this[I]=w;n(pa>this.length)&&(this.length=pa);if(n(Q))for(;ia<pa;ia++)da=Q(ia),this[ia]=da;else for(;ia<pa;ia++)this[ia]=da;return this},
Z.$$arity=-1);a.def(F,"$first",R=function(r){if(null==r)return 0===this.length?w:this[0];r=k(r,p(G,"Integer"),"to_int");0>r&&this.$raise(p(G,"ArgumentError"),"negative array size");return this.slice(0,r)},R.$$arity=-1);a.def(F,"$flatten",aa=function(r){function I(da,ia){var pa=[],Qa;da=da.$to_a();var fb=0;for(Qa=da.length;fb<Qa;fb++){var $a=da[fb];if(L($a,"$to_ary",!0)){var lb=$a.$to_ary();if(lb===w)pa.push($a);else switch(lb.$$is_array||Q.$raise(p(G,"TypeError")),lb===Q&&Q.$raise(p(G,"ArgumentError")),
ia){case void 0:pa=pa.concat(I(lb));break;case 0:pa.push(lb);break;default:pa.push.apply(pa,I(lb,ia-1))}}else pa.push($a)}return pa}var Q=this;void 0!==r&&(r=k(r,p(G,"Integer"),"to_int"));return b(I(Q,r),Q.$class())},aa.$$arity=-1);a.def(F,"$flatten!",U=function(r){r=this.$flatten(r);if(this.length==r.length){for(var I=0,Q=this.length;I<Q&&this[I]===r[I];I++);if(I==Q)return w}this.$replace(r);return this},U.$$arity=-1);a.def(F,"$hash",ha=function(){var r=void 0===D,I=["A"],Q=this.$object_id(),da,
ia;try{r&&(D=Object.create(null));if(D[Q])return"self";for(ia in D){var pa=D[ia];if(this["$eql?"](pa))return"self"}D[Q]=this;for(da=0;da<this.length;da++)pa=this[da],I.push(pa.$hash());return I.join(",")}finally{r&&(D=void 0)}},ha.$$arity=0);a.def(F,"$include?",la=function(r){for(var I=0,Q=this.length;I<Q;I++)if(this[I]["$=="](r))return!0;return!1},la.$$arity=1);a.def(F,"$index",g=function(r){var I=g.$$p,Q=I||w;I&&(g.$$p=null);I&&(g.$$p=null);var da;null!=r&&Q!==w&&this.$warn("warning: given block not used");
if(null!=r)for(I=0,da=this.length;I<da;I++){if(this[I]["$=="](r))return I}else if(Q!==w)for(I=0,da=this.length;I<da;I++){if(r=Q(this[I]),!1!==r&&r!==w)return I}else return this.$enum_for("index");return w},g.$$arity=-1);a.def(F,"$insert",C=function(r,I){var Q=a.slice.call(arguments,1,arguments.length);r=k(r,p(G,"Integer"),"to_int");if(0<Q.length){0>r&&(r+=this.length+1,0>r&&this.$raise(p(G,"IndexError"),""+r+" is out of bounds"));if(r>this.length)for(var da=this.length;da<r;da++)this.push(w);this.splice.apply(this,
[r,0].concat(Q))}return this},C.$$arity=-2);a.def(F,"$inspect",O=function(){for(var r=[],I=this.$__id__(),Q=0,da=this.length;Q<da;Q++){var ia=this["$[]"](Q);ia.$__id__()===I?r.push("[...]"):r.push(ia.$inspect())}return"["+r.join(", ")+"]"},O.$$arity=0);a.alias(F,"intersection","&");a.def(F,"$join",ba=function(r){null==S[","]&&(S[","]=w);null==r&&(r=w);if(n(0===this.length))return"";n(r===w)&&(r=S[","]);var I=[],Q;var da=0;for(Q=this.length;da<Q;da++){var ia=this[da];if(L(ia,"$to_str")){var pa=ia.$to_str();
if(pa!==w){I.push(pa.$to_s());continue}}if(L(ia,"$to_ary")&&(pa=ia.$to_ary(),pa===this&&this.$raise(p(G,"ArgumentError")),pa!==w)){I.push(pa.$join(r));continue}if(L(ia,"$to_s")&&(pa=ia.$to_s(),pa!==w)){I.push(pa);continue}this.$raise(p(G,"NoMethodError").$new(""+a.inspect(ia)+" doesn't respond to #to_str, #to_ary or #to_s","to_str"))}return r===w?I.join(""):I.join(p(G,"Opal")["$coerce_to!"](r,p(G,"String"),"to_str").$to_s())},ba.$$arity=-1);a.def(F,"$keep_if",v=function(){var r=v.$$p,I=r||w,Q;r&&
(v.$$p=null);r&&(v.$$p=null);if(I===w)return y(this,"enum_for",["keep_if"],(Q=function(){return(null==Q.$$s?this:Q.$$s).$size()},Q.$$s=this,Q.$$arity=0,Q));h(this,n,I);return this},v.$$arity=0);a.def(F,"$last",V=function(r){if(null==r)return 0===this.length?w:this[this.length-1];r=k(r,p(G,"Integer"),"to_int");0>r&&this.$raise(p(G,"ArgumentError"),"negative array size");r>this.length&&(r=this.length);return this.slice(this.length-r,this.length)},V.$$arity=-1);a.def(F,"$length",oa=function(){return this.length},
oa.$$arity=0);a.alias(F,"map","collect");a.alias(F,"map!","collect!");a.def(F,"$max",Ka=function(r){var I=Ka.$$p,Q=I||w;I&&(Ka.$$p=null);I&&(Ka.$$p=null);return y(this.$each(),"max",[r],Q.$to_proc())},Ka.$$arity=-1);a.def(F,"$min",jb=function(){var r=jb.$$p,I=r||w;r&&(jb.$$p=null);r&&(jb.$$p=null);return y(this.$each(),"min",[],I.$to_proc())},jb.$$arity=0);a.def(F,"$permutation",ob=function(r){var I=ob.$$p,Q=I||w,da,ia=this,pa=w,Qa=w;I&&(ob.$$p=null);I&&(ob.$$p=null);if(Q===w)return y(ia,"enum_for",
["permutation",r],(da=function(){var lb=null==da.$$s?this:da.$$s,vb=lb.length;lb=void 0===r?lb.length:r;for(var yb=0<=lb?1:0;lb;)yb*=vb,vb--,lb--;return yb},da.$$s=ia,da.$$arity=0,da));var fb;r=void 0===r?ia.length:k(r,p(G,"Integer"),"to_int");if(!(0>r||ia.length<r))if(0===r)a.yield1(Q,[]);else if(1===r)for(pa=0;pa<ia.length;pa++)a.yield1(Q,[ia[pa]]);else{pa=p(G,"Array").$new(r);Qa=p(G,"Array").$new(ia.length,!1);var $a=function(lb,vb,yb,Hb,Pb){ia=this;for(var zb=0;zb<ia.length;zb++)if(Hb["$[]"](zb)["$!"]())if(vb[yb]=
zb,yb<lb-1)Hb[zb]=!0,$a.call(ia,lb,vb,yb+1,Hb,Pb),Hb[zb]=!1;else{fb=[];for(var Ib=0;Ib<vb.length;Ib++)fb.push(ia[vb[Ib]]);e(Pb,fb)}};Q!==w?(I=ia.slice(),$a.call(I,r,pa,0,Qa,Q)):$a.call(ia,r,pa,0,Qa,Q)}return ia},ob.$$arity=-1);a.def(F,"$repeated_permutation",mb=function(r){function I(Qa,fb,$a){if(fb.length==Qa)Qa=fb.slice(),a.yield1(ia,Qa);else for(var lb=0;lb<$a.length;lb++)fb.push($a[lb]),I(Qa,fb,$a),fb.pop()}var Q,da=mb.$$p,ia=da||w,pa=w;da&&(mb.$$p=null);pa=p(G,"Opal")["$coerce_to!"](r,p(G,"Integer"),
"to_int");if(ia===w)return y(this,"enum_for",["repeated_permutation",pa],(Q=function(){var Qa=null==Q.$$s?this:Q.$$s;return n("number"===typeof pa?0<=pa:pa["$>="](0))?Qa.$size()["$**"](pa):0},Q.$$s=this,Q.$$arity=0,Q));I(pa,[],this.slice());return this},mb.$$arity=1);a.def(F,"$pop",sb=function(r){if(n(void 0===r))return n(0===this.length)?w:this.pop();r=k(r,p(G,"Integer"),"to_int");n(0>r)&&this.$raise(p(G,"ArgumentError"),"negative array size");return n(0===this.length)?[]:n(1===r)?[this.pop()]:n(r>
this.length)?this.splice(0,this.length):this.splice(this.length-r,this.length)},sb.$$arity=-1);a.def(F,"$product",tb=function(r){var I=tb.$$p,Q=I||w;I&&(tb.$$p=null);I&&(tb.$$p=null);var da=a.slice.call(arguments,0,arguments.length);I=Q!==w?null:[];var ia=da.length+1,pa=Array(ia),Qa=Array(ia),fb=Array(ia),$a;var lb=1;fb[0]=this;for($a=1;$a<ia;$a++)fb[$a]=k(da[$a-1],p(G,"Array"),"to_ary");for($a=0;$a<ia;$a++){da=fb[$a].length;if(0===da)return I||this;lb*=da;2147483647<lb&&this.$raise(p(G,"RangeError"),
"too big to product");Qa[$a]=da;pa[$a]=0}a:for(;;){lb=[];for($a=0;$a<ia;$a++)lb.push(fb[$a][pa[$a]]);I?I.push(lb):a.yield1(Q,lb);$a=ia-1;for(pa[$a]++;pa[$a]===Qa[$a];){pa[$a]=0;if(0>--$a)break a;pa[$a]++}}return I||this},tb.$$arity=-1);a.def(F,"$push",wb=function(r){var I=a.slice.call(arguments,0,arguments.length);for(var Q=0,da=I.length;Q<da;Q++)this.push(I[Q]);return this},wb.$$arity=-1);a.alias(F,"append","push");a.def(F,"$rassoc",xb=function(r){for(var I=0,Q=this.length,da;I<Q;I++)if(da=this[I],
da.length&&void 0!==da[1]&&da[1]["$=="](r))return da;return w},xb.$$arity=1);a.def(F,"$reject",ub=function(){var r=ub.$$p,I=r||w,Q;r&&(ub.$$p=null);r&&(ub.$$p=null);if(I===w)return y(this,"enum_for",["reject"],(Q=function(){return(null==Q.$$s?this:Q.$$s).$size()},Q.$$s=this,Q.$$arity=0,Q));r=[];for(var da=0,ia=this.length,pa;da<ia;da++)pa=I(this[da]),!1!==pa&&pa!==w||r.push(this[da]);return r},ub.$$arity=0);a.def(F,"$reject!",X=function(){var r=X.$$p,I=r||w,Q,da=w;r&&(X.$$p=null);r&&(X.$$p=null);
if(I===w)return y(this,"enum_for",["reject!"],(Q=function(){return(null==Q.$$s?this:Q.$$s).$size()},Q.$$s=this,Q.$$arity=0,Q));da=this.$length();y(this,"delete_if",[],I.$to_proc());return this.$length()["$=="](da)?w:this},X.$$arity=0);a.def(F,"$replace",Oa=function(r){r=n(p(G,"Array")["$==="](r))?r.$to_a():k(r,p(G,"Array"),"to_ary").$to_a();this.splice(0,this.length);this.push.apply(this,r);return this},Oa.$$arity=1);a.def(F,"$reverse",cb=function(){return this.slice(0).reverse()},cb.$$arity=0);a.def(F,
"$reverse!",B=function(){return this.reverse()},B.$$arity=0);a.def(F,"$reverse_each",P=function(){var r=P.$$p,I=r||w,Q;r&&(P.$$p=null);r&&(P.$$p=null);if(I===w)return y(this,"enum_for",["reverse_each"],(Q=function(){return(null==Q.$$s?this:Q.$$s).$size()},Q.$$s=this,Q.$$arity=0,Q));y(this.$reverse(),"each",[],I.$to_proc());return this},P.$$arity=0);a.def(F,"$rindex",ra=function(r){var I=ra.$$p,Q=I||w;I&&(ra.$$p=null);I&&(ra.$$p=null);null!=r&&Q!==w&&this.$warn("warning: given block not used");if(null!=
r)for(I=this.length-1;0<=I&&!(I>=this.length);I--){if(this[I]["$=="](r))return I}else if(Q!==w)for(I=this.length-1;0<=I&&!(I>=this.length);I--){if(r=Q(this[I]),!1!==r&&r!==w)return I}else if(null==r)return this.$enum_for("rindex");return w},ra.$$arity=-1);a.def(F,"$rotate",Ga=function(r){null==r&&(r=1);r=k(r,p(G,"Integer"),"to_int");if(1===this.length)return this.slice();if(0===this.length)return[];var I=this.slice();var Q=r%I.length;r=I.slice(Q);I=I.slice(0,Q);return r.concat(I)},Ga.$$arity=-1);
a.def(F,"$rotate!",Da=function(r){null==r&&(r=1);if(0===this.length||1===this.length)return this;r=k(r,p(G,"Integer"),"to_int");r=this.$rotate(r);return this.$replace(r)},Da.$$arity=-1);(function(r,$super,Q){r=d(r,$super,"SampleRandom");var da=[r].concat(Q),ia,pa;r.$$prototype.rng=w;a.def(r,"$initialize",ia=function(Qa){return this.rng=Qa},ia.$$arity=1);return(a.def(r,"$rand",pa=function(Qa){var fb=k(this.rng.$rand(Qa),p(da,"Integer"),"to_int");n(0>fb)&&this.$raise(p(da,"RangeError"),"random value must be >= 0");
n(fb<Qa)||this.$raise(p(da,"RangeError"),"random value must be less than Array size");return fb},pa.$$arity=1),w)&&"rand"})(G[0],null,G);a.def(F,"$sample",Ia=function(r,I){var Q=w,da=w,ia=w;if(n(void 0===r))return this.$at(p(G,"Kernel").$rand(this.length));n(void 0===I)?n(I=p(G,"Opal")["$coerce_to?"](r,p(G,"Hash"),"to_hash"))?r=w:(I=w,r=k(r,p(G,"Integer"),"to_int")):(r=k(r,p(G,"Integer"),"to_int"),I=k(I,p(G,"Hash"),"to_hash"));n(n(Q=r)?0>r:Q)&&this.$raise(p(G,"ArgumentError"),"count must be greater than 0");
n(I)&&(da=I["$[]"]("random"));da=n(n(ia=da)?da["$respond_to?"]("rand"):ia)?p(G,"SampleRandom").$new(da):p(G,"Kernel");if(!n(r))return this[da.$rand(this.length)];r>this.length&&(r=this.length);switch(r){case 0:return[];case 1:return[this[da.$rand(this.length)]];case 2:var pa=da.$rand(this.length);var Qa=da.$rand(this.length);pa===Qa&&(Qa=0===pa?pa+1:pa-1);return[this[pa],this[Qa]];default:if(3<this.length/r){ia=!1;I=0;Q=p(G,"Array").$new(r);pa=1;for(Q[0]=da.$rand(this.length);pa<r;){var fb=da.$rand(this.length);
for(Qa=0;Qa<pa;){for(;fb===Q[Qa];){I++;if(100<I){ia=!0;break}fb=da.$rand(this.length)}if(ia)break;Qa++}if(ia)break;Q[pa]=fb;pa++}if(!ia){for(pa=0;pa<r;)Q[pa]=this[Q[pa]],pa++;return Q}}Q=this.slice();for(pa=0;pa<r;pa++)ia=da.$rand(this.length),I=Q[pa],Q[pa]=Q[ia],Q[ia]=I;return r===this.length?Q:Q["$[]"](0,r)}},Ia.$$arity=-1);a.def(F,"$select",Xa=function(){var r=Xa.$$p,I=r||w,Q;r&&(Xa.$$p=null);r&&(Xa.$$p=null);if(I===w)return y(this,"enum_for",["select"],(Q=function(){return(null==Q.$$s?this:Q.$$s).$size()},
Q.$$s=this,Q.$$arity=0,Q));r=[];for(var da=0,ia=this.length,pa,Qa;da<ia;da++)pa=this[da],Qa=e(I,pa),n(Qa)&&r.push(pa);return r},Xa.$$arity=0);a.def(F,"$select!",ib=function(){var r=ib.$$p,I=r||w,Q;r&&(ib.$$p=null);r&&(ib.$$p=null);if(I===w)return y(this,"enum_for",["select!"],(Q=function(){return(null==Q.$$s?this:Q.$$s).$size()},Q.$$s=this,Q.$$arity=0,Q));r=this.length;y(this,"keep_if",[],I.$to_proc());return this.length===r?w:this},ib.$$arity=0);a.alias(F,"filter","select");a.alias(F,"filter!","select!");
a.def(F,"$shift",eb=function(r){if(n(void 0===r)){if(n(0===this.length))return w;r=this[0];for(var I=1,Q=this.length;I<Q;I++)this[I-1]=this[I];this.pop();return r}r=k(r,p(G,"Integer"),"to_int");n(0>r)&&this.$raise(p(G,"ArgumentError"),"negative array size");return n(0===this.length)?[]:this.splice(0,r)},eb.$$arity=-1);a.alias(F,"size","length");a.def(F,"$shuffle",Ua=function(r){return this.$dup().$to_a()["$shuffle!"](r)},Ua.$$arity=-1);a.def(F,"$shuffle!",Ya=function(r){var I,Q=this.length;void 0!==
r&&(r=p(G,"Opal")["$coerce_to?"](r,p(G,"Hash"),"to_hash"),r!==w&&(r=r["$[]"]("random"),r!==w&&r["$respond_to?"]("rand")&&(I=r)));for(;Q;){I?(r=I.$rand(Q).$to_int(),0>r&&this.$raise(p(G,"RangeError"),"random number too small "+r),r>=Q&&this.$raise(p(G,"RangeError"),"random number too big "+r)):r=this.$rand(Q);var da=this[--Q];this[Q]=this[r];this[r]=da}return this},Ya.$$arity=-1);a.alias(F,"slice","[]");a.def(F,"$slice!",hb=function(r,I){if(n(void 0===I))if(n(p(G,"Range")["$==="](r))){var Q=this["$[]"](r);
I=k(r.begin,p(G,"Integer"),"to_int");var da=k(r.end,p(G,"Integer"),"to_int");0>I&&(I+=this.length);0>da?da+=this.length:da>=this.length&&(da=this.length-1,r.excl&&(da+=1));var ia=da-I;r.excl?--da:ia+=1;I<this.length&&0<=I&&da<this.length&&0<=da&&0<ia&&this.splice(I,ia)}else{r=k(r,p(G,"Integer"),"to_int");0>r&&(r+=this.length);if(0>r||r>=this.length)return w;Q=this[r];0===r?this.shift():this.splice(r,1)}else{r=k(r,p(G,"Integer"),"to_int");I=k(I,p(G,"Integer"),"to_int");if(0>I)return w;Q=this["$[]"](r,
I);0>r&&(r+=this.length);r+I>this.length&&(I=this.length-r);r<this.length&&0<=r&&this.splice(r,I)}return Q},hb.$$arity=-2);a.def(F,"$sort",qb=function(){var r=qb.$$p,I=r||w,Q=this;r&&(qb.$$p=null);r&&(qb.$$p=null);if(!n(1<Q.length))return Q;I===w&&(I=function(da,ia){return da["$<=>"](ia)});return Q.slice().sort(function(da,ia){var pa=I(da,ia);pa===w&&Q.$raise(p(G,"ArgumentError"),"comparison of "+da.$inspect()+" with "+ia.$inspect()+" failed");return x(pa,0)?1:("number"===typeof pa?0>pa:pa["$<"](0))?
-1:0})},qb.$$arity=0);a.def(F,"$sort!",nb=function(){var r=nb.$$p,I=r||w;r&&(nb.$$p=null);r&&(nb.$$p=null);r=I!==w?y(this.slice(),"sort",[],I.$to_proc()):this.slice().$sort();I=this.length=0;for(var Q=r.length;I<Q;I++)this.push(r[I]);return this},nb.$$arity=0);a.def(F,"$sort_by!",pb=function(){var r=pb.$$p,I=r||w,Q;r&&(pb.$$p=null);r&&(pb.$$p=null);return I===w?y(this,"enum_for",["sort_by!"],(Q=function(){return(null==Q.$$s?this:Q.$$s).$size()},Q.$$s=this,Q.$$arity=0,Q)):this.$replace(y(this,"sort_by",
[],I.$to_proc()))},pb.$$arity=0);a.def(F,"$take",Gb=function(r){0>r&&this.$raise(p(G,"ArgumentError"));return this.slice(0,r)},Gb.$$arity=1);a.def(F,"$take_while",Ab=function(){var r=Ab.$$p,I=r||w;r&&(Ab.$$p=null);r&&(Ab.$$p=null);r=[];for(var Q=0,da=this.length,ia,pa;Q<da;Q++){ia=this[Q];pa=I(ia);if(!1===pa||pa===w)break;r.push(ia)}return r},Ab.$$arity=0);a.def(F,"$to_a",Jb=function(){return this},Jb.$$arity=0);a.alias(F,"to_ary","to_a");a.def(F,"$to_h",Bb=function(){var r=Bb.$$p,I=r||w;r&&(Bb.$$p=
null);r&&(Bb.$$p=null);r=this;I!==w&&(r=y(r,"map",[],I.$to_proc()));var Q=r.length,da=l([],{});for(I=0;I<Q;I++){var ia=p(G,"Opal")["$coerce_to?"](r[I],p(G,"Array"),"to_ary");ia.$$is_array||this.$raise(p(G,"TypeError"),"wrong element type "+ia.$class()+" at "+I+" (expected array)");2!==ia.length&&this.$raise(p(G,"ArgumentError"),"wrong array length at "+I+" (expected 2, was "+ia.$length()+")");var pa=ia[0];ia=ia[1];E(da,pa,ia)}return da},Bb.$$arity=0);a.alias(F,"to_s","inspect");a.def(F,"$transpose",
Kb=function(){var r,I=w,Q=w;if(n(this["$empty?"]()))return[];I=[];Q=w;y(this,"each",[],(r=function(da){var ia=null==r.$$s?this:r.$$s,pa,Qa=w;null==da&&(da=w);da=n(p(G,"Array")["$==="](da))?da.$to_a():k(da,p(G,"Array"),"to_ary").$to_a();Q=n(Qa=Q)?Qa:da.length;n(da.length["$!="](Q))&&ia.$raise(p(G,"IndexError"),"element size differs ("+da.length+" should be "+Q+")");return y(da.length,"times",[],(pa=function(fb){var $a;null==fb&&(fb=w);if(!n($a=I["$[]"](fb))){$a=[fb,[]];y(I,"[]=",a.to_a($a));var lb=
$a.length;lb="number"===typeof lb?lb-1:lb["$-"](1);$a=$a[lb]}return $a["$<<"](da.$at(fb))},pa.$$s=ia,pa.$$arity=1,pa))},r.$$s=this,r.$$arity=1,r));return I},Kb.$$arity=0);a.alias(F,"union","|");a.def(F,"$uniq",Cb=function(){var r=Cb.$$p,I=r||w;r&&(Cb.$$p=null);r&&(Cb.$$p=null);r=l([],{});var Q;if(I===w){var da=0;for(Q=this.length;da<Q;da++){var ia=this[da];void 0===m(r,ia)&&E(r,ia,ia)}}else for(da=0,Q=this.length;da<Q;da++){ia=this[da];var pa=e(I,ia);void 0===m(r,pa)&&E(r,pa,ia)}return b(r.$values(),
this.$class())},Cb.$$arity=0);a.def(F,"$uniq!",Db=function(){var r=Db.$$p,I=r||w;r&&(Db.$$p=null);r&&(Db.$$p=null);r=this.length;var Q=l([],{}),da;var ia=0;for(da=r;ia<da;ia++){var pa=this[ia];var Qa=I===w?pa:e(I,pa);void 0===m(Q,Qa)?E(Q,Qa,pa):(this.splice(ia,1),da--,ia--)}return this.length===r?w:this},Db.$$arity=0);a.def(F,"$unshift",Lb=function(r){var I=a.slice.call(arguments,0,arguments.length);for(var Q=I.length-1;0<=Q;Q--)this.unshift(I[Q]);return this},Lb.$$arity=-1);a.alias(F,"prepend","unshift");
a.def(F,"$values_at",Mb=function(r){var I,Q=w;var da=a.slice.call(arguments,0,arguments.length);Q=[];y(da,"each",[],(I=function(ia){var pa=null==I.$$s?this:I.$$s,Qa,fb=w,$a=w;fb=w;null==ia&&(ia=w);if(n(ia["$is_a?"](p(G,"Range")))){fb=k(ia.$last(),p(G,"Integer"),"to_int");$a=k(ia.$first(),p(G,"Integer"),"to_int");if(0>$a)return $a+=pa.length,w;0>fb&&(fb+=pa.length);ia["$exclude_end?"]()&&fb--;return fb<$a?w:y($a,"upto",[fb],(Qa=function(lb){var vb=null==Qa.$$s?this:Qa.$$s;null==lb&&(lb=w);return Q["$<<"](vb.$at(lb))},
Qa.$$s=pa,Qa.$$arity=1,Qa))}fb=k(ia,p(G,"Integer"),"to_int");return Q["$<<"](pa.$at(fb))},I.$$s=this,I.$$arity=1,I));return Q},Mb.$$arity=-1);a.def(F,"$zip",Eb=function(r){var I=Eb.$$p,Q=I||w,da=w;I&&(Eb.$$p=null);I&&(Eb.$$p=null);I=a.slice.call(arguments,0,arguments.length);var ia=[],pa=this.length,Qa,fb;var $a=0;for(fb=I.length;$a<fb;$a++){var lb=I[$a];lb.$$is_array||(lb.$$is_enumerator?Infinity===lb.$size()?I[$a]=lb.$take(pa):I[$a]=lb.$to_a():I[$a]=(n(da=p(G,"Opal")["$coerce_to?"](lb,p(G,"Array"),
"to_ary"))?da:p(G,"Opal")["$coerce_to!"](lb,p(G,"Enumerator"),"to_enum","each")).$to_a())}for(Qa=0;Qa<pa;Qa++){da=[this[Qa]];$a=0;for(fb=I.length;$a<fb;$a++)lb=I[$a][Qa],null==lb&&(lb=w),da[$a+1]=lb;ia[Qa]=da}if(Q!==w){for(Qa=0;Qa<pa;Qa++)Q(ia[Qa]);return w}return ia},Eb.$$arity=-1);a.defs(F,"$inherited",Nb=function(r){r.$$prototype.$to_a=function(){return this.slice(0,this.length)}},Nb.$$arity=1);a.def(F,"$instance_variables",Fb=function(){var r,I=Fb.$$p,Q=w,da=w,ia=w;I&&(Fb.$$p=null);da=0;ia=arguments.length;
for(Q=Array(ia);da<ia;da++)Q[da]=arguments[da];return y(N(this,a.find_super_dispatcher(this,"instance_variables",Fb,!1,!0),"instance_variables",Q,I),"reject",[],(r=function(pa){var Qa;null==pa&&(pa=w);return n(Qa=/^@\d+$/.test(pa))?Qa:pa["$=="]("@length")},r.$$s=this,r.$$arity=1,r))},Fb.$$arity=0);p(G,"Opal").$pristine(F.$singleton_class(),"allocate");p(G,"Opal").$pristine(F,"copy_instance_variables","initialize_dup");return(a.def(F,"$pack",Ob=function(r){a.slice.call(arguments,0,arguments.length);
return this.$raise("To use Array#pack, you must first require 'corelib/array/pack'.")},Ob.$$arity=-1),w)&&"pack"}(t[0],Array,t)};
Opal.modules["corelib/hash"]=function(a){function x(e,m){return"number"===typeof e&&"number"===typeof m?e>=m:e["$>="](m)}var H=a.top,t=[],w=a.nil,z=a.$$,p=a.klass,n=a.send,u=a.hash2,D=a.truthy;a.add_stubs("$require $include $coerce_to? $[] $merge! $allocate $raise $coerce_to! $each $fetch $>= $> $== $compare_by_identity $lambda? $abs $arity $enum_for $size $respond_to? $class $dig $new $inspect $map $to_proc $flatten $eql? $default $dup $default_proc $default_proc= $- $default= $to_h $proc".split(" "));H.$require("corelib/enumerable");
return function(e,$super,E){e=p(e,$super,"Hash");var c=[e].concat(E),k,L,d,l,N,y,S,ja,ea,ma,b,h,f,q,A,F,G,J,ca,va,Pa,wa,Aa,La,na,T,sa,xa,Ja,ka,M,K,Y,qa,fa,ta,Ea,Ha,Ra,Sa,Ma,gb,kb,W,ya,Ba,Va,bb,db,Ca,Wa,za,ua,Na,Ta,Za,Fa,Z,R,aa,U,ha;e.$include(z(c,"Enumerable"));e.$$prototype.$$is_hash=!0;a.defs(e,"$[]",k=function(g){var C=a.slice.call(arguments,0,arguments.length);var O=C.length,ba;if(1===O){var v=z(c,"Opal")["$coerce_to?"](C["$[]"](0),z(c,"Hash"),"to_hash");if(v!==w)return this.$allocate()["$merge!"](v);
C=z(c,"Opal")["$coerce_to?"](C["$[]"](0),z(c,"Array"),"to_ary");C===w&&this.$raise(z(c,"ArgumentError"),"odd number of arguments for Hash");O=C.length;v=this.$allocate();for(ba=0;ba<O;ba++)if(C[ba].$$is_array)switch(C[ba].length){case 1:v.$store(C[ba][0],w);break;case 2:v.$store(C[ba][0],C[ba][1]);break;default:this.$raise(z(c,"ArgumentError"),"invalid number of elements ("+C[ba].length+" for 1..2)")}return v}0!==O%2&&this.$raise(z(c,"ArgumentError"),"odd number of arguments for Hash");v=this.$allocate();
for(ba=0;ba<O;ba+=2)v.$store(C[ba],C[ba+1]);return v},k.$$arity=-1);a.defs(e,"$allocate",L=function(){var g=new this.$$constructor;a.hash_init(g);g.$$none=w;g.$$proc=w;return g},L.$$arity=0);a.defs(e,"$try_convert",d=function(g){return z(c,"Opal")["$coerce_to?"](g,z(c,"Hash"),"to_hash")},d.$$arity=1);a.def(e,"$initialize",l=function(g){var C=l.$$p,O=C||w;C&&(l.$$p=null);C&&(l.$$p=null);void 0!==g&&O!==w&&this.$raise(z(c,"ArgumentError"),"wrong number of arguments (1 for 0)");this.$$none=void 0===
g?w:g;this.$$proc=O;return this},l.$$arity=-1);a.def(e,"$==",N=function(g){if(this===g)return!0;if(!g.$$is_hash||this.$$keys.length!==g.$$keys.length)return!1;for(var C=0,O=this.$$keys,ba=O.length,v,V;C<ba;C++)if(v=O[C],v.$$is_string?(V=this.$$smap[v],v=g.$$smap[v]):(V=v.value,v=a.hash_get(g,v.key)),void 0===v||!V["$eql?"](v))return!1;return!0},N.$$arity=1);a.def(e,"$>=",y=function(g){var C,O=w;g=z(c,"Opal")["$coerce_to!"](g,z(c,"Hash"),"to_hash");if(this.$$keys.length<g.$$keys.length)return!1;O=
!0;n(g,"each",[],(C=function(ba,v){var V=null==C.$$s?this:C.$$s;null==ba&&(ba=w);null==v&&(v=w);ba=V.$fetch(ba,null);if(null==ba||ba!==v)O=!1},C.$$s=this,C.$$arity=2,C));return O},y.$$arity=1);a.def(e,"$>",S=function(g){g=z(c,"Opal")["$coerce_to!"](g,z(c,"Hash"),"to_hash");return this.$$keys.length<=g.$$keys.length?!1:x(this,g)},S.$$arity=1);a.def(e,"$<",ja=function(g){g=z(c,"Opal")["$coerce_to!"](g,z(c,"Hash"),"to_hash");return"number"===typeof g&&"number"===typeof this?g>this:g["$>"](this)},ja.$$arity=
1);a.def(e,"$<=",ea=function(g){g=z(c,"Opal")["$coerce_to!"](g,z(c,"Hash"),"to_hash");return x(g,this)},ea.$$arity=1);a.def(e,"$[]",ma=function(g){var C=a.hash_get(this,g);return void 0!==C?C:this.$default(g)},ma.$$arity=1);a.def(e,"$[]=",b=function(g,C){a.hash_put(this,g,C);return C},b.$$arity=2);a.def(e,"$assoc",h=function(g){for(var C=0,O=this.$$keys,ba=O.length,v;C<ba;C++)if(v=O[C],v.$$is_string){if(v["$=="](g))return[v,this.$$smap[v]]}else if(v.key["$=="](g))return[v.key,v.value];return w},h.$$arity=
1);a.def(e,"$clear",f=function(){a.hash_init(this);return this},f.$$arity=0);a.def(e,"$clone",q=function(){var g=new this.$$class;a.hash_init(g);a.hash_clone(this,g);return g},q.$$arity=0);a.def(e,"$compact",A=function(){for(var g=a.hash(),C=0,O=this.$$keys,ba=O.length,v,V;C<ba;C++)v=O[C],v.$$is_string?V=this.$$smap[v]:(V=v.value,v=v.key),V!==w&&a.hash_put(g,v,V);return g},A.$$arity=0);a.def(e,"$compact!",F=function(){for(var g=!1,C=0,O=this.$$keys,ba=O.length,v,V;C<ba;C++)v=O[C],v.$$is_string?V=
this.$$smap[v]:(V=v.value,v=v.key),V===w&&void 0!==a.hash_delete(this,v)&&(g=!0,ba--,C--);return g?this:w},F.$$arity=0);a.def(e,"$compare_by_identity",G=function(){var g,C=this.$$keys;if(this.$$by_identity)return this;if(0===this.$$keys.length)return this.$$by_identity=!0,this;var O=u([],{}).$compare_by_identity();var ba=0;for(g=C.length;ba<g;ba++){var v=C[ba];v.$$is_string||(v=v.key);a.hash_put(O,v,a.hash_get(this,v))}this.$$by_identity=!0;this.$$map=O.$$map;this.$$smap=O.$$smap;return this},G.$$arity=
0);a.def(e,"$compare_by_identity?",J=function(){return!0===this.$$by_identity},J.$$arity=0);a.def(e,"$default",ca=function(g){return void 0!==g&&this.$$proc!==w&&void 0!==this.$$proc?this.$$proc.$call(this,g):void 0===this.$$none?w:this.$$none},ca.$$arity=-1);a.def(e,"$default=",va=function(g){this.$$proc=w;return this.$$none=g},va.$$arity=1);a.def(e,"$default_proc",Pa=function(){return void 0!==this.$$proc?this.$$proc:w},Pa.$$arity=0);a.def(e,"$default_proc=",wa=function(g){var C=g;C!==w&&(C=z(c,
"Opal")["$coerce_to!"](C,z(c,"Proc"),"to_proc"),C["$lambda?"]()&&2!==C.$arity().$abs()&&this.$raise(z(c,"TypeError"),"default_proc takes two arguments"));this.$$none=w;this.$$proc=C;return g},wa.$$arity=1);a.def(e,"$delete",Aa=function(g){var C=Aa.$$p,O=C||w;C&&(Aa.$$p=null);C&&(Aa.$$p=null);C=a.hash_delete(this,g);return void 0!==C?C:O!==w?a.yield1(O,g):w},Aa.$$arity=1);a.def(e,"$delete_if",La=function(){var g=La.$$p,C=g||w,O;g&&(La.$$p=null);g&&(La.$$p=null);if(!D(C))return n(this,"enum_for",["delete_if"],
(O=function(){return(null==O.$$s?this:O.$$s).$size()},O.$$s=this,O.$$arity=0,O));g=0;for(var ba=this.$$keys,v=ba.length,V,oa;g<v;g++)V=ba[g],V.$$is_string?oa=this.$$smap[V]:(oa=V.value,V=V.key),oa=C(V,oa),!1!==oa&&oa!==w&&void 0!==a.hash_delete(this,V)&&(v--,g--);return this},La.$$arity=0);a.alias(e,"dup","clone");a.def(e,"$dig",na=function(g,C){var O=a.slice.call(arguments,1,arguments.length);var ba=this["$[]"](g);if(ba===w||0===O.length)return ba;D(ba["$respond_to?"]("dig"))||this.$raise(z(c,"TypeError"),
""+ba.$class()+" does not have #dig method");return n(ba,"dig",a.to_a(O))},na.$$arity=-2);a.def(e,"$each",T=function(){var g=T.$$p,C=g||w,O;g&&(T.$$p=null);g&&(T.$$p=null);if(!D(C))return n(this,"enum_for",["each"],(O=function(){return(null==O.$$s?this:O.$$s).$size()},O.$$s=this,O.$$arity=0,O));g=0;for(var ba=this.$$keys,v=ba.length,V,oa;g<v;g++)V=ba[g],V.$$is_string?oa=this.$$smap[V]:(oa=V.value,V=V.key),a.yield1(C,[V,oa]);return this},T.$$arity=0);a.def(e,"$each_key",sa=function(){var g=sa.$$p,
C=g||w,O;g&&(sa.$$p=null);g&&(sa.$$p=null);if(!D(C))return n(this,"enum_for",["each_key"],(O=function(){return(null==O.$$s?this:O.$$s).$size()},O.$$s=this,O.$$arity=0,O));g=0;for(var ba=this.$$keys,v=ba.length,V;g<v;g++)V=ba[g],C(V.$$is_string?V:V.key);return this},sa.$$arity=0);a.alias(e,"each_pair","each");a.def(e,"$each_value",xa=function(){var g=xa.$$p,C=g||w,O;g&&(xa.$$p=null);g&&(xa.$$p=null);if(!D(C))return n(this,"enum_for",["each_value"],(O=function(){return(null==O.$$s?this:O.$$s).$size()},
O.$$s=this,O.$$arity=0,O));g=0;for(var ba=this.$$keys,v=ba.length,V;g<v;g++)V=ba[g],C(V.$$is_string?this.$$smap[V]:V.value);return this},xa.$$arity=0);a.def(e,"$empty?",Ja=function(){return 0===this.$$keys.length},Ja.$$arity=0);a.alias(e,"eql?","==");a.def(e,"$fetch",ka=function(g,C){var O=ka.$$p,ba=O||w;O&&(ka.$$p=null);O&&(ka.$$p=null);O=a.hash_get(this,g);return void 0!==O?O:ba!==w?ba(g):void 0!==C?C:this.$raise(z(c,"KeyError").$new("key not found: "+g.$inspect(),u(["key","receiver"],{key:g,receiver:this})))},
ka.$$arity=-2);a.def(e,"$fetch_values",M=function(g){var C=M.$$p,O=C||w,ba;C&&(M.$$p=null);C&&(M.$$p=null);C=a.slice.call(arguments,0,arguments.length);return n(C,"map",[],(ba=function(v){var V=null==ba.$$s?this:ba.$$s;null==v&&(v=w);return n(V,"fetch",[v],O.$to_proc())},ba.$$s=this,ba.$$arity=1,ba))},M.$$arity=-1);a.def(e,"$flatten",K=function(g){null==g&&(g=1);g=z(c,"Opal")["$coerce_to!"](g,z(c,"Integer"),"to_int");for(var C=[],O=0,ba=this.$$keys,v=ba.length,V,oa;O<v;O++)V=ba[O],V.$$is_string?oa=
this.$$smap[V]:(oa=V.value,V=V.key),C.push(V),oa.$$is_array?1===g?C.push(oa):C=C.concat(oa.$flatten(g-2)):C.push(oa);return C},K.$$arity=-1);a.def(e,"$has_key?",Y=function(g){return void 0!==a.hash_get(this,g)},Y.$$arity=1);a.def(e,"$has_value?",qa=function(g){for(var C=0,O=this.$$keys,ba=O.length,v;C<ba;C++)if(v=O[C],(v.$$is_string?this.$$smap[v]:v.value)["$=="](g))return!0;return!1},qa.$$arity=1);a.def(e,"$hash",fa=function(){var g=void 0===a.hash_ids,C=this.$object_id(),O=["Hash"];try{g&&(a.hash_ids=
Object.create(null));if(a[C])return"self";for(oa in a.hash_ids){var ba=a.hash_ids[oa];if(this["$eql?"](ba))return"self"}a.hash_ids[C]=this;C=0;for(var v=this.$$keys,V=v.length;C<V;C++){var oa=v[C];oa.$$is_string?O.push([oa,this.$$smap[oa].$hash()]):O.push([oa.key_hash,oa.value.$hash()])}return O.sort().join()}finally{g&&(a.hash_ids=void 0)}},fa.$$arity=0);a.alias(e,"include?","has_key?");a.def(e,"$index",ta=function(g){for(var C=0,O=this.$$keys,ba=O.length,v,V;C<ba;C++)if(v=O[C],v.$$is_string?V=this.$$smap[v]:
(V=v.value,v=v.key),V["$=="](g))return v;return w},ta.$$arity=1);a.def(e,"$indexes",Ea=function(g){var C=a.slice.call(arguments,0,arguments.length);for(var O=[],ba=0,v=C.length,V;ba<v;ba++)V=C[ba],V=a.hash_get(this,V),void 0===V?O.push(this.$default()):O.push(V);return O},Ea.$$arity=-1);a.alias(e,"indices","indexes");var la;a.def(e,"$inspect",Ha=function(){var g=void 0===la,C=this.$object_id(),O=[];try{g&&(la={});if(la.hasOwnProperty(C))return"{...}";la[C]=!0;C=0;for(var ba=this.$$keys,v=ba.length,
V,oa;C<v;C++)V=ba[C],V.$$is_string?oa=this.$$smap[V]:(oa=V.value,V=V.key),O.push(V.$inspect()+"=>"+oa.$inspect());return"{"+O.join(", ")+"}"}finally{g&&(la=void 0)}},Ha.$$arity=0);a.def(e,"$invert",Ra=function(){for(var g=a.hash(),C=0,O=this.$$keys,ba=O.length,v,V;C<ba;C++)v=O[C],v.$$is_string?V=this.$$smap[v]:(V=v.value,v=v.key),a.hash_put(g,V,v);return g},Ra.$$arity=0);a.def(e,"$keep_if",Sa=function(){var g=Sa.$$p,C=g||w,O;g&&(Sa.$$p=null);g&&(Sa.$$p=null);if(!D(C))return n(this,"enum_for",["keep_if"],
(O=function(){return(null==O.$$s?this:O.$$s).$size()},O.$$s=this,O.$$arity=0,O));g=0;for(var ba=this.$$keys,v=ba.length,V,oa;g<v;g++)V=ba[g],V.$$is_string?oa=this.$$smap[V]:(oa=V.value,V=V.key),oa=C(V,oa),!1!==oa&&oa!==w||void 0===a.hash_delete(this,V)||(v--,g--);return this},Sa.$$arity=0);a.alias(e,"key","index");a.alias(e,"key?","has_key?");a.def(e,"$keys",Ma=function(){for(var g=[],C=0,O=this.$$keys,ba=O.length,v;C<ba;C++)v=O[C],v.$$is_string?g.push(v):g.push(v.key);return g},Ma.$$arity=0);a.def(e,
"$length",gb=function(){return this.$$keys.length},gb.$$arity=0);a.alias(e,"member?","has_key?");a.def(e,"$merge",kb=function(g){var C=kb.$$p,O=C||w;C&&(kb.$$p=null);C&&(kb.$$p=null);return n(this.$dup(),"merge!",[g],O.$to_proc())},kb.$$arity=1);a.def(e,"$merge!",W=function(g){var C=W.$$p,O=C||w;C&&(W.$$p=null);C&&(W.$$p=null);g.$$is_hash||(g=z(c,"Opal")["$coerce_to!"](g,z(c,"Hash"),"to_hash"));var ba=g.$$keys,v=ba.length;if(O===w){for(C=0;C<v;C++){var V=ba[C];if(V.$$is_string)var oa=g.$$smap[V];
else oa=V.value,V=V.key;a.hash_put(this,V,oa)}return this}for(C=0;C<v;C++){V=ba[C];V.$$is_string?oa=g.$$smap[V]:(oa=V.value,V=V.key);var Ka=a.hash_get(this,V);void 0===Ka?a.hash_put(this,V,oa):a.hash_put(this,V,O(V,Ka,oa))}return this},W.$$arity=1);a.def(e,"$rassoc",ya=function(g){for(var C=0,O=this.$$keys,ba=O.length,v,V;C<ba;C++)if(v=O[C],v.$$is_string?V=this.$$smap[v]:(V=v.value,v=v.key),V["$=="](g))return[v,V];return w},ya.$$arity=1);a.def(e,"$rehash",Ba=function(){a.hash_rehash(this);return this},
Ba.$$arity=0);a.def(e,"$reject",Va=function(){var g=Va.$$p,C=g||w,O;g&&(Va.$$p=null);g&&(Va.$$p=null);if(!D(C))return n(this,"enum_for",["reject"],(O=function(){return(null==O.$$s?this:O.$$s).$size()},O.$$s=this,O.$$arity=0,O));g=a.hash();for(var ba=0,v=this.$$keys,V=v.length,oa,Ka,jb;ba<V;ba++)oa=v[ba],oa.$$is_string?Ka=this.$$smap[oa]:(Ka=oa.value,oa=oa.key),jb=C(oa,Ka),!1!==jb&&jb!==w||a.hash_put(g,oa,Ka);return g},Va.$$arity=0);a.def(e,"$reject!",bb=function(){var g=bb.$$p,C=g||w,O;g&&(bb.$$p=
null);g&&(bb.$$p=null);if(!D(C))return n(this,"enum_for",["reject!"],(O=function(){return(null==O.$$s?this:O.$$s).$size()},O.$$s=this,O.$$arity=0,O));g=!1;for(var ba=0,v=this.$$keys,V=v.length,oa,Ka;ba<V;ba++)oa=v[ba],oa.$$is_string?Ka=this.$$smap[oa]:(Ka=oa.value,oa=oa.key),Ka=C(oa,Ka),!1!==Ka&&Ka!==w&&void 0!==a.hash_delete(this,oa)&&(g=!0,V--,ba--);return g?this:w},bb.$$arity=0);a.def(e,"$replace",db=function(g){g=z(c,"Opal")["$coerce_to!"](g,z(c,"Hash"),"to_hash");a.hash_init(this);var C=0;for(var O=
g.$$keys,ba=O.length,v,V;C<ba;C++)v=O[C],v.$$is_string?V=g.$$smap[v]:(V=v.value,v=v.key),a.hash_put(this,v,V);D(g.$default_proc())?(C=[g.$default_proc()],n(this,"default_proc=",a.to_a(C))):(C=[g.$default()],n(this,"default=",a.to_a(C)));g=C;C=C.length;C="number"===typeof C?C-1:C["$-"](1);g[C];return this},db.$$arity=1);a.def(e,"$select",Ca=function(){var g=Ca.$$p,C=g||w,O;g&&(Ca.$$p=null);g&&(Ca.$$p=null);if(!D(C))return n(this,"enum_for",["select"],(O=function(){return(null==O.$$s?this:O.$$s).$size()},
O.$$s=this,O.$$arity=0,O));g=a.hash();for(var ba=0,v=this.$$keys,V=v.length,oa,Ka,jb;ba<V;ba++)oa=v[ba],oa.$$is_string?Ka=this.$$smap[oa]:(Ka=oa.value,oa=oa.key),jb=C(oa,Ka),!1!==jb&&jb!==w&&a.hash_put(g,oa,Ka);return g},Ca.$$arity=0);a.def(e,"$select!",Wa=function(){var g=Wa.$$p,C=g||w,O;g&&(Wa.$$p=null);g&&(Wa.$$p=null);if(!D(C))return n(this,"enum_for",["select!"],(O=function(){return(null==O.$$s?this:O.$$s).$size()},O.$$s=this,O.$$arity=0,O));g=w;for(var ba=0,v=this.$$keys,V=v.length,oa,Ka;ba<
V;ba++)if(oa=v[ba],oa.$$is_string?Ka=this.$$smap[oa]:(Ka=oa.value,oa=oa.key),Ka=C(oa,Ka),!1===Ka||Ka===w)void 0!==a.hash_delete(this,oa)&&(V--,ba--),g=this;return g},Wa.$$arity=0);a.alias(e,"filter","select");a.alias(e,"filter!","select!");a.def(e,"$shift",za=function(){var g=this.$$keys;return 0<g.length?(g=g[0],g=g.$$is_string?g:g.key,[g,a.hash_delete(this,g)]):this.$default(w)},za.$$arity=0);a.alias(e,"size","length");a.def(e,"$slice",ua=function(g){var C=a.slice.call(arguments,0,arguments.length);
for(var O=a.hash(),ba=0,v=C.length;ba<v;ba++){var V=C[ba],oa=a.hash_get(this,V);void 0!==oa&&a.hash_put(O,V,oa)}return O},ua.$$arity=-1);a.alias(e,"store","[]=");a.def(e,"$to_a",Na=function(){for(var g=[],C=0,O=this.$$keys,ba=O.length,v,V;C<ba;C++)v=O[C],v.$$is_string?V=this.$$smap[v]:(V=v.value,v=v.key),g.push([v,V]);return g},Na.$$arity=0);a.def(e,"$to_h",Ta=function(){var g=Ta.$$p,C=g||w;g&&(Ta.$$p=null);g&&(Ta.$$p=null);if(C!==w)return n(this,"map",[],C.$to_proc()).$to_h();if(this.$$class===a.Hash)return this;
g=new a.Hash;a.hash_init(g);a.hash_clone(this,g);return g},Ta.$$arity=0);a.def(e,"$to_hash",Za=function(){return this},Za.$$arity=0);a.def(e,"$to_proc",Fa=function(){var g;return n(this,"proc",[],(g=function(C){var O=null==g.$$s?this:g.$$s;null==C&&O.$raise(z(c,"ArgumentError"),"no key given");return O["$[]"](C)},g.$$s=this,g.$$arity=-1,g))},Fa.$$arity=0);a.alias(e,"to_s","inspect");a.def(e,"$transform_keys",Z=function(){var g=Z.$$p,C=g||w,O;g&&(Z.$$p=null);g&&(Z.$$p=null);if(!D(C))return n(this,
"enum_for",["transform_keys"],(O=function(){return(null==O.$$s?this:O.$$s).$size()},O.$$s=this,O.$$arity=0,O));g=a.hash();for(var ba=0,v=this.$$keys,V=v.length,oa,Ka;ba<V;ba++)oa=v[ba],oa.$$is_string?Ka=this.$$smap[oa]:(Ka=oa.value,oa=oa.key),oa=a.yield1(C,oa),a.hash_put(g,oa,Ka);return g},Z.$$arity=0);a.def(e,"$transform_keys!",R=function(){var g=R.$$p,C=g||w,O;g&&(R.$$p=null);g&&(R.$$p=null);if(!D(C))return n(this,"enum_for",["transform_keys!"],(O=function(){return(null==O.$$s?this:O.$$s).$size()},
O.$$s=this,O.$$arity=0,O));g=a.slice.call(this.$$keys);var ba,v=g.length;for(ba=0;ba<v;ba++){var V=g[ba];if(V.$$is_string)var oa=this.$$smap[V];else oa=V.value,V=V.key;var Ka=a.yield1(C,V);a.hash_delete(this,V);a.hash_put(this,Ka,oa)}return this},R.$$arity=0);a.def(e,"$transform_values",aa=function(){var g=aa.$$p,C=g||w,O;g&&(aa.$$p=null);g&&(aa.$$p=null);if(!D(C))return n(this,"enum_for",["transform_values"],(O=function(){return(null==O.$$s?this:O.$$s).$size()},O.$$s=this,O.$$arity=0,O));g=a.hash();
for(var ba=0,v=this.$$keys,V=v.length,oa,Ka;ba<V;ba++)oa=v[ba],oa.$$is_string?Ka=this.$$smap[oa]:(Ka=oa.value,oa=oa.key),Ka=a.yield1(C,Ka),a.hash_put(g,oa,Ka);return g},aa.$$arity=0);a.def(e,"$transform_values!",U=function(){var g=U.$$p,C=g||w,O;g&&(U.$$p=null);g&&(U.$$p=null);if(!D(C))return n(this,"enum_for",["transform_values!"],(O=function(){return(null==O.$$s?this:O.$$s).$size()},O.$$s=this,O.$$arity=0,O));g=0;for(var ba=this.$$keys,v=ba.length,V,oa;g<v;g++)V=ba[g],V.$$is_string?oa=this.$$smap[V]:
(oa=V.value,V=V.key),oa=a.yield1(C,oa),a.hash_put(this,V,oa);return this},U.$$arity=0);a.alias(e,"update","merge!");a.alias(e,"value?","has_value?");a.alias(e,"values_at","indexes");return(a.def(e,"$values",ha=function(){for(var g=[],C=0,O=this.$$keys,ba=O.length,v;C<ba;C++)v=O[C],v.$$is_string?g.push(this.$$smap[v]):g.push(v.value);return g},ha.$$arity=0),w)&&"values"}(t[0],null,t)};
Opal.modules["corelib/number"]=function(a){function x(l,N){return"number"===typeof l&&"number"===typeof N?l>N:l["$>"](N)}function H(l,N){return"number"===typeof l&&"number"===typeof N?l<N:l["$<"](N)}function t(l,N){return"number"===typeof l&&"number"===typeof N?l+N:l["$+"](N)}function w(l,N){return"number"===typeof l&&"number"===typeof N?l-N:l["$-"](N)}function z(l,N){return"number"===typeof l&&"number"===typeof N?l/N:l["$/"](N)}function p(l,N){return"number"===typeof l&&"number"===typeof N?l*N:l["$*"](N)}
var n=a.top,u=[],D=a.nil,e=a.$$$,m=a.$$,E=a.klass,c=a.truthy,k=a.send2,L=a.send,d=a.hash2;a.add_stubs("$require $bridge $raise $name $class $Float $respond_to? $coerce_to! $__coerced__ $=== $! $> $** $new $< $to_f $== $nan? $infinite? $enum_for $+ $- $gcd $lcm $% $/ $frexp $to_i $ldexp $rationalize $* $<< $to_r $truncate $-@ $size $<= $>= $<=> $compare $any?".split(" "));n.$require("corelib/numeric");(function(l,$super,y){l=E(l,$super,"Number");var S=[l].concat(y),ja,ea,ma,b,h,f,q,A,F,G,J,ca,va,Pa,
wa,Aa,La,na,T,sa,xa,Ja,ka,M,K,Y,qa,fa,ta,Ea,Ha,Ra,Sa,Ma,gb,kb,W,ya,Ba,Va,bb,db,Ca,Wa,za,ua,Na,Ta,Za,Fa,Z,R,aa,U,ha,la,g,C,O,ba,v,V,oa,Ka,jb,ob,mb,sb,tb,wb,xb,ub;m(S,"Opal").$bridge(Number,l);a.defineProperty(l.$$prototype,"$$is_number",!0);l.$$is_number_class=!0;(function(X,Oa){var cb=[X].concat(Oa),B;a.def(X,"$allocate",B=function(){return this.$raise(m(cb,"TypeError"),"allocator undefined for "+this.$name())},B.$$arity=0);a.udef(X,"$new");return D})(a.get_singleton_class(l),S);a.def(l,"$coerce",
ja=function(X){if(X!==D){if(X.$$is_string)return[this.$Float(X),this];if(X["$respond_to?"]("to_f"))return[m(S,"Opal")["$coerce_to!"](X,m(S,"Float"),"to_f"),this];if(X.$$is_number)return[X,this]}this.$raise(m(S,"TypeError"),"can't convert "+X.$class()+" into Float")},ja.$$arity=1);a.def(l,"$__id__",ea=function(){return 2*this+1},ea.$$arity=0);a.alias(l,"object_id","__id__");a.def(l,"$+",ma=function(X){return X.$$is_number?this+X:this.$__coerced__("+",X)},ma.$$arity=1);a.def(l,"$-",b=function(X){return X.$$is_number?
this-X:this.$__coerced__("-",X)},b.$$arity=1);a.def(l,"$*",h=function(X){return X.$$is_number?this*X:this.$__coerced__("*",X)},h.$$arity=1);a.def(l,"$/",f=function(X){return X.$$is_number?this/X:this.$__coerced__("/",X)},f.$$arity=1);a.alias(l,"fdiv","/");a.def(l,"$%",q=function(X){if(X.$$is_number){if(-Infinity==X)return X;if(0==X)this.$raise(m(S,"ZeroDivisionError"),"divided by 0");else return 0>X||0>this?(this%X+X)%X:this%X}else return this.$__coerced__("%",X)},q.$$arity=1);a.def(l,"$&",A=function(X){return X.$$is_number?
this&X:this.$__coerced__("&",X)},A.$$arity=1);a.def(l,"$|",F=function(X){return X.$$is_number?this|X:this.$__coerced__("|",X)},F.$$arity=1);a.def(l,"$^",G=function(X){return X.$$is_number?this^X:this.$__coerced__("^",X)},G.$$arity=1);a.def(l,"$<",J=function(X){return X.$$is_number?this<X:this.$__coerced__("<",X)},J.$$arity=1);a.def(l,"$<=",ca=function(X){return X.$$is_number?this<=X:this.$__coerced__("<=",X)},ca.$$arity=1);a.def(l,"$>",va=function(X){return X.$$is_number?this>X:this.$__coerced__(">",
X)},va.$$arity=1);a.def(l,"$>=",Pa=function(X){return X.$$is_number?this>=X:this.$__coerced__(">=",X)},Pa.$$arity=1);a.def(l,"$<=>",wa=function(X){try{return X.$$is_number?isNaN(this)||isNaN(X)?D:this>X?1:this<X?-1:0:this.$__coerced__("<=>",X)}catch(Oa){if(a.rescue(Oa,[m(S,"ArgumentError")]))try{return D}finally{a.pop_exception()}else throw Oa;}},wa.$$arity=1);a.def(l,"$<<",Aa=function(X){X=m(S,"Opal")["$coerce_to!"](X,m(S,"Integer"),"to_int");return 0<X?this<<X:this>>-X},Aa.$$arity=1);a.def(l,"$>>",
La=function(X){X=m(S,"Opal")["$coerce_to!"](X,m(S,"Integer"),"to_int");return 0<X?this>>X:this<<-X},La.$$arity=1);a.def(l,"$[]",na=function(X){X=m(S,"Opal")["$coerce_to!"](X,m(S,"Integer"),"to_int");return 0>X?0:32<=X?0>this?1:0:this>>X&1},na.$$arity=1);a.def(l,"$+@",T=function(){return+this},T.$$arity=0);a.def(l,"$-@",sa=function(){return-this},sa.$$arity=0);a.def(l,"$~",xa=function(){return~this},xa.$$arity=0);a.def(l,"$**",Ja=function(X){var Oa=D,cb=D,B=D;return c(m(S,"Integer")["$==="](X))?c(c(Oa=
m(S,"Integer")["$==="](this)["$!"]())?Oa:x(X,0))?Math.pow(this,X):m(S,"Rational").$new(this,1)["$**"](X):c(c(cb=H(this,0))?c(B=m(S,"Float")["$==="](X))?B:m(S,"Rational")["$==="](X):cb)?m(S,"Complex").$new(this,0)["$**"](X.$to_f()):c(null!=X.$$is_number)?Math.pow(this,X):this.$__coerced__("**",X)},Ja.$$arity=1);a.def(l,"$===",ka=function(X){return X.$$is_number?this.valueOf()===X.valueOf():X["$respond_to?"]("==")?X["$=="](this):!1},ka.$$arity=1);a.def(l,"$==",M=function(X){return X.$$is_number?this.valueOf()===
X.valueOf():X["$respond_to?"]("==")?X["$=="](this):!1},M.$$arity=1);a.def(l,"$abs",K=function(){return Math.abs(this)},K.$$arity=0);a.def(l,"$abs2",Y=function(){return Math.abs(this*this)},Y.$$arity=0);a.def(l,"$allbits?",qa=function(X){X=m(S,"Opal")["$coerce_to!"](X,m(S,"Integer"),"to_int");return(this&X)==X},qa.$$arity=1);a.def(l,"$anybits?",fa=function(X){X=m(S,"Opal")["$coerce_to!"](X,m(S,"Integer"),"to_int");return 0!==(this&X)},fa.$$arity=1);a.def(l,"$angle",ta=function(){return c(this["$nan?"]())?
this:0==this?0<1/this?0:Math.PI:0>this?Math.PI:0},ta.$$arity=0);a.alias(l,"arg","angle");a.alias(l,"phase","angle");a.def(l,"$bit_length",Ea=function(){c(m(S,"Integer")["$==="](this))||this.$raise(m(S,"NoMethodError").$new("undefined method `bit_length` for "+this+":Float","bit_length"));if(0===this||-1===this)return 0;for(var X=0,Oa=0>this?~this:this;0!=Oa;)X+=1,Oa>>>=1;return X},Ea.$$arity=0);a.def(l,"$ceil",Ha=function(X){null==X&&(X=0);var Oa=this.$to_f();if(0===Oa%1&&0<=X)return Oa;X=Math.pow(10,
X);X=Math.ceil(Oa*X)/X;0===Oa%1&&(X=Math.round(X));return X},Ha.$$arity=-1);a.def(l,"$chr",Ra=function(){return String.fromCharCode(this)},Ra.$$arity=-1);a.def(l,"$denominator",Sa=function(){var X=Sa.$$p,Oa=D,cb;X&&(Sa.$$p=null);var B=0;var P=arguments.length;for(cb=Array(P);B<P;B++)cb[B]=arguments[B];return c(c(Oa=this["$nan?"]())?Oa:this["$infinite?"]())?1:k(this,a.find_super_dispatcher(this,"denominator",Sa,!1,!0),"denominator",cb,X)},Sa.$$arity=0);a.def(l,"$downto",Ma=function(X){var Oa=Ma.$$p,
cb=Oa||D,B;Oa&&(Ma.$$p=null);Oa&&(Ma.$$p=null);if(cb===D)return L(this,"enum_for",["downto",X],(B=function(){var P=null==B.$$s?this:B.$$s;c(m(S,"Numeric")["$==="](X))||P.$raise(m(S,"ArgumentError"),"comparison of "+P.$class()+" with "+X.$class()+" failed");return c(x(X,P))?0:t(w(P,X),1)},B.$$s=this,B.$$arity=0,B));X.$$is_number||this.$raise(m(S,"ArgumentError"),"comparison of "+this.$class()+" with "+X.$class()+" failed");for(Oa=this;Oa>=X;Oa--)cb(Oa);return this},Ma.$$arity=1);a.alias(l,"eql?","==");
a.def(l,"$equal?",gb=function(X){var Oa;return c(Oa=this["$=="](X))?Oa:isNaN(this)&&isNaN(X)},gb.$$arity=1);a.def(l,"$even?",kb=function(){return 0===this%2},kb.$$arity=0);a.def(l,"$floor",W=function(X){null==X&&(X=0);var Oa=this.$to_f();if(0===Oa%1&&0<=X)return Oa;X=Math.pow(10,X);X=Math.floor(Oa*X)/X;0===Oa%1&&(X=Math.round(X));return X},W.$$arity=-1);a.def(l,"$gcd",ya=function(X){c(m(S,"Integer")["$==="](X))||this.$raise(m(S,"TypeError"),"not an integer");var Oa=Math.abs(this);for(X=Math.abs(X);0<
Oa;){var cb=Oa;Oa=X%Oa;X=cb}return X},ya.$$arity=1);a.def(l,"$gcdlcm",Ba=function(X){return[this.$gcd(X),this.$lcm(X)]},Ba.$$arity=1);a.def(l,"$integer?",Va=function(){return 0===this%1},Va.$$arity=0);a.def(l,"$is_a?",bb=function(X){var Oa=bb.$$p,cb=D,B=D,P=D,ra;Oa&&(bb.$$p=null);var Ga=0;var Da=arguments.length;for(ra=Array(Da);Ga<Da;Ga++)ra[Ga]=arguments[Ga];return c(c(cb=X["$=="](m(S,"Integer")))?m(S,"Integer")["$==="](this):cb)||c(c(B=X["$=="](m(S,"Integer")))?m(S,"Integer")["$==="](this):B)||
c(c(P=X["$=="](m(S,"Float")))?m(S,"Float")["$==="](this):P)?!0:k(this,a.find_super_dispatcher(this,"is_a?",bb,!1,!0),"is_a?",ra,Oa)},bb.$$arity=1);a.alias(l,"kind_of?","is_a?");a.def(l,"$instance_of?",db=function(X){var Oa=db.$$p,cb=D,B=D,P=D,ra;Oa&&(db.$$p=null);var Ga=0;var Da=arguments.length;for(ra=Array(Da);Ga<Da;Ga++)ra[Ga]=arguments[Ga];return c(c(cb=X["$=="](m(S,"Integer")))?m(S,"Integer")["$==="](this):cb)||c(c(B=X["$=="](m(S,"Integer")))?m(S,"Integer")["$==="](this):B)||c(c(P=X["$=="](m(S,
"Float")))?m(S,"Float")["$==="](this):P)?!0:k(this,a.find_super_dispatcher(this,"instance_of?",db,!1,!0),"instance_of?",ra,Oa)},db.$$arity=1);a.def(l,"$lcm",Ca=function(X){c(m(S,"Integer")["$==="](X))||this.$raise(m(S,"TypeError"),"not an integer");return 0==this||0==X?0:Math.abs(this*X/this.$gcd(X))},Ca.$$arity=1);a.alias(l,"magnitude","abs");a.alias(l,"modulo","%");a.def(l,"$next",Wa=function(){return this+1},Wa.$$arity=0);a.def(l,"$nobits?",za=function(X){X=m(S,"Opal")["$coerce_to!"](X,m(S,"Integer"),
"to_int");return 0==(this&X)},za.$$arity=1);a.def(l,"$nonzero?",ua=function(){return 0==this?D:this},ua.$$arity=0);a.def(l,"$numerator",Na=function(){var X=Na.$$p,Oa=D,cb;X&&(Na.$$p=null);var B=0;var P=arguments.length;for(cb=Array(P);B<P;B++)cb[B]=arguments[B];return c(c(Oa=this["$nan?"]())?Oa:this["$infinite?"]())?this:k(this,a.find_super_dispatcher(this,"numerator",Na,!1,!0),"numerator",cb,X)},Na.$$arity=0);a.def(l,"$odd?",Ta=function(){return 0!==this%2},Ta.$$arity=0);a.def(l,"$ord",Za=function(){return this},
Za.$$arity=0);a.def(l,"$pow",Fa=function(X,Oa){0==this&&this.$raise(m(S,"ZeroDivisionError"),"divided by 0");if(void 0===Oa)return this["$**"](X);m(S,"Integer")["$==="](X)||this.$raise(m(S,"TypeError"),"Integer#pow() 2nd argument not allowed unless a 1st argument is integer");0>X&&this.$raise(m(S,"TypeError"),"Integer#pow() 1st argument cannot be negative when 2nd argument specified");m(S,"Integer")["$==="](Oa)||this.$raise(m(S,"TypeError"),"Integer#pow() 2nd argument not allowed unless all arguments are integers");
0===Oa&&this.$raise(m(S,"ZeroDivisionError"),"divided by 0");return this["$**"](X)["$%"](Oa)},Fa.$$arity=-2);a.def(l,"$pred",Z=function(){return this-1},Z.$$arity=0);a.def(l,"$quo",R=function(X){var Oa=R.$$p,cb;Oa&&(R.$$p=null);var B=0;var P=arguments.length;for(cb=Array(P);B<P;B++)cb[B]=arguments[B];return c(m(S,"Integer")["$==="](this))?k(this,a.find_super_dispatcher(this,"quo",R,!1,!0),"quo",cb,Oa):z(this,X)},R.$$arity=1);a.def(l,"$rationalize",aa=function(X){1<arguments.length&&this.$raise(m(S,
"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)");if(c(m(S,"Integer")["$==="](this)))return m(S,"Rational").$new(this,1);if(c(this["$infinite?"]()))return this.$raise(m(S,"FloatDomainError"),"Infinity");if(c(this["$nan?"]()))return this.$raise(m(S,"FloatDomainError"),"NaN");if(c(null==X)){var Oa=m(S,"Math").$frexp(this);var cb=a.to_ary(Oa);var B=null==cb[0]?D:cb[0];cb=null==cb[1]?D:cb[1];Oa;B=m(S,"Math").$ldexp(B,e(m(S,"Float"),"MANT_DIG")).$to_i();cb=w(cb,e(m(S,"Float"),
"MANT_DIG"));return m(S,"Rational").$new(p(2,B),1["$<<"](w(1,cb))).$rationalize(m(S,"Rational").$new(1,1["$<<"](w(1,cb))))}return this.$to_r().$rationalize(X)},aa.$$arity=-1);a.def(l,"$remainder",U=function(X){return w(this,p(X,z(this,X).$truncate()))},U.$$arity=1);a.def(l,"$round",ha=function(X){var Oa,cb,B=cb=Oa=D;if(c(m(S,"Integer")["$==="](this))){if(c(null==X))return this;c(c(Oa=m(S,"Float")["$==="](X))?X["$infinite?"]():Oa)&&this.$raise(m(S,"RangeError"),"Infinity");X=m(S,"Opal")["$coerce_to!"](X,
m(S,"Integer"),"to_int");c(H(X,e(m(S,"Integer"),"MIN")))&&this.$raise(m(S,"RangeError"),"out of bounds");if(c(0<=X))return this;X=X["$-@"]();if(.415241*X-.125>this.$size())return 0;X=Math.pow(10,X);X*=Math.floor((Math.abs(this)+X/2)/X);return 0>this?-X:X}c(c(cb=this["$nan?"]())?null==X:cb)&&this.$raise(m(S,"FloatDomainError"),"NaN");X=m(S,"Opal")["$coerce_to!"](X||0,m(S,"Integer"),"to_int");if(c("number"===typeof X?0>=X:X["$<="](0)))c(this["$nan?"]())?this.$raise(m(S,"RangeError"),"NaN"):c(this["$infinite?"]())&&
this.$raise(m(S,"FloatDomainError"),"Infinity");else{if(X["$=="](0))return Math.round(this);if(c(c(B=this["$nan?"]())?B:this["$infinite?"]()))return this}cb=m(S,"Math").$frexp(this);Oa=a.to_ary(cb);Oa=null==Oa[1]?D:Oa[1];cb;cb=w(t(e(m(S,"Float"),"DIG"),2),c(x(Oa,0))?z(Oa,4):w(z(Oa,3),1));cb="number"===typeof X&&"number"===typeof cb?X>=cb:X["$>="](cb);return c(cb)?this:c(H(X,(c(x(Oa,0))?t(z(Oa,3),1):z(Oa,4))["$-@"]()))?0:Math.round(this*Math.pow(10,X))/Math.pow(10,X)},ha.$$arity=-1);a.def(l,"$step",
la=function(X,Oa,cb){function B(){void 0!==hb&&(Ua=hb);void 0===Ua&&(Ua=D);Ya===D&&ib.$raise(m(S,"TypeError"),"step must be numeric");0===Ya&&ib.$raise(m(S,"ArgumentError"),"step can't be 0");void 0!==qb&&(Ya=qb);if(Ya===D||null==Ya)Ya=1;var nb=Ya["$<=>"](0);nb===D&&ib.$raise(m(S,"ArgumentError"),"0 can't be coerced into "+Ya.$class());if(Ua===D||null==Ua)Ua=0<nb?e(m(S,"Float"),"INFINITY"):e(m(S,"Float"),"INFINITY")["$-@"]();m(S,"Opal").$compare(ib,Ua)}function P(){if(0<Ya&&ib>Ua||0>Ya&&ib<Ua)return 0;
if(Infinity===Ya||-Infinity===Ya)return 1;var nb=Math.abs,pb=Math.floor;nb=(nb(ib)+nb(Ua)+nb(Ua-ib))/nb(Ya)*e(m(S,"Float"),"EPSILON");if(Infinity===nb||-Infinity===nb)return 0;.5<nb&&(nb=.5);return pb((Ua-ib)/Ya+nb)+1}function ra(){B();if(0===Ya)return Infinity;if(0!==Ya%1)return P();if(0<Ya&&ib>Ua||0>Ya&&ib<Ua)return 0;var nb=Math.ceil,pb=Math.abs,Gb=pb(ib-Ua)+1;pb=pb(Ya);return nb(Gb/pb)}var Ga=la.$$p,Da=Ga||D,Ia,Xa,ib=this,eb=Ia=D;Ga&&(la.$$p=null);Ga&&(la.$$p=null);Ga=a.slice.call(arguments,0,
arguments.length);Ia=a.extract_kwargs(Ga);if(null==Ia)Ia=d([],{});else if(!Ia.$$is_hash)throw a.ArgumentError.$new("expected kwargs");if(0<Ga.length){var Ua=Ga[0];Ga.splice(0,1)}if(0<Ga.length){var Ya=Ga[0];Ga.splice(0,1)}var hb=Ia.$$smap.to;var qb=Ia.$$smap.by;void 0!==Ua&&void 0!==hb&&ib.$raise(m(S,"ArgumentError"),"to is given twice");void 0!==Ya&&void 0!==qb&&ib.$raise(m(S,"ArgumentError"),"step is given twice");if(Da===D)return Ia=[],eb=d([],{}),void 0!==Ua&&Ia.push(Ua),void 0!==Ya&&Ia.push(Ya),
void 0!==hb&&a.hash_put(eb,"to",hb),void 0!==qb&&a.hash_put(eb,"by",qb),eb["$any?"]()&&Ia.push(eb),L(ib,"enum_for",["step"].concat(a.to_a(Ia)),(Xa=function(){return ra()},Xa.$$s=ib,Xa.$$arity=0,Xa));B();if(0===Ya)for(;;)Da(ib);if(0!==ib%1||0!==Ua%1||0!==Ya%1){if(Xa=P(),0<Xa)if(Infinity===Ya||-Infinity===Ya)Da(ib);else if(Ga=0,0<Ya)for(;Ga<Xa;)Ia=Ga*Ya+ib,Ua<Ia&&(Ia=Ua),Da(Ia),Ga+=1;else for(;Ga<Xa;)Ia=Ga*Ya+ib,Ua>Ia&&(Ia=Ua),Da(Ia),Ga+=1}else if(Xa=ib,0<Ya)for(;Xa<=Ua;)Da(Xa),Xa+=Ya;else for(;Xa>=
Ua;)Da(Xa),Xa+=Ya;return ib},la.$$arity=-1);a.alias(l,"succ","next");a.def(l,"$times",g=function(){var X=g.$$p,Oa=X||D,cb;X&&(g.$$p=null);X&&(g.$$p=null);if(!c(Oa))return L(this,"enum_for",["times"],(cb=function(){return null==cb.$$s?this:cb.$$s},cb.$$s=this,cb.$$arity=0,cb));for(X=0;X<this;X++)Oa(X);return this},g.$$arity=0);a.def(l,"$to_f",C=function(){return this},C.$$arity=0);a.def(l,"$to_i",O=function(){return parseInt(this,10)},O.$$arity=0);a.alias(l,"to_int","to_i");a.def(l,"$to_r",ba=function(){if(c(m(S,
"Integer")["$==="](this)))return m(S,"Rational").$new(this,1);var X=m(S,"Math").$frexp(this);var Oa=a.to_ary(X);var cb=null==Oa[0]?D:Oa[0];Oa=null==Oa[1]?D:Oa[1];X;cb=m(S,"Math").$ldexp(cb,e(m(S,"Float"),"MANT_DIG")).$to_i();Oa=w(Oa,e(m(S,"Float"),"MANT_DIG"));return p(cb,e(m(S,"Float"),"RADIX")["$**"](Oa)).$to_r()},ba.$$arity=0);a.def(l,"$to_s",v=function(X){var Oa=D;null==X&&(X=10);X=m(S,"Opal")["$coerce_to!"](X,m(S,"Integer"),"to_int");c(c(Oa=H(X,2))?Oa:x(X,36))&&this.$raise(m(S,"ArgumentError"),
"invalid radix "+X);return this.toString(X)},v.$$arity=-1);a.def(l,"$truncate",V=function(X){null==X&&(X=0);var Oa=this.$to_f();if(0===Oa%1&&0<=X)return Oa;X=Math.pow(10,X);X=parseInt(Oa*X,10)/X;0===Oa%1&&(X=Math.round(X));return X},V.$$arity=-1);a.alias(l,"inspect","to_s");a.def(l,"$digits",oa=function(X){null==X&&(X=10);H(this,0)&&this.$raise(e(m(S,"Math"),"DomainError"),"out of domain");X=m(S,"Opal")["$coerce_to!"](X,m(S,"Integer"),"to_int");c(H(X,2))&&this.$raise(m(S,"ArgumentError"),"invalid radix "+
X);for(var Oa=this,cb=[];0!==Oa;)cb.push(Oa%X),Oa=parseInt(Oa/X,10);return cb},oa.$$arity=-1);a.def(l,"$divmod",Ka=function(X){var Oa=Ka.$$p,cb=D,B;Oa&&(Ka.$$p=null);var P=0;var ra=arguments.length;for(B=Array(ra);P<ra;P++)B[P]=arguments[P];return c(c(cb=this["$nan?"]())?cb:X["$nan?"]())?this.$raise(m(S,"FloatDomainError"),"NaN"):c(this["$infinite?"]())?this.$raise(m(S,"FloatDomainError"),"Infinity"):k(this,a.find_super_dispatcher(this,"divmod",Ka,!1,!0),"divmod",B,Oa)},Ka.$$arity=1);a.def(l,"$upto",
jb=function(X){var Oa=jb.$$p,cb=Oa||D,B;Oa&&(jb.$$p=null);Oa&&(jb.$$p=null);if(cb===D)return L(this,"enum_for",["upto",X],(B=function(){var P=null==B.$$s?this:B.$$s;c(m(S,"Numeric")["$==="](X))||P.$raise(m(S,"ArgumentError"),"comparison of "+P.$class()+" with "+X.$class()+" failed");return c(H(X,P))?0:t(w(X,P),1)},B.$$s=this,B.$$arity=0,B));X.$$is_number||this.$raise(m(S,"ArgumentError"),"comparison of "+this.$class()+" with "+X.$class()+" failed");for(Oa=this;Oa<=X;Oa++)cb(Oa);return this},jb.$$arity=
1);a.def(l,"$zero?",ob=function(){return 0==this},ob.$$arity=0);a.def(l,"$size",mb=function(){return 4},mb.$$arity=0);a.def(l,"$nan?",sb=function(){return isNaN(this)},sb.$$arity=0);a.def(l,"$finite?",tb=function(){return Infinity!=this&&-Infinity!=this&&!isNaN(this)},tb.$$arity=0);a.def(l,"$infinite?",wb=function(){return Infinity==this?1:-Infinity==this?-1:D},wb.$$arity=0);a.def(l,"$positive?",xb=function(){return 0!=this&&(Infinity==this||0<1/this)},xb.$$arity=0);return(a.def(l,"$negative?",ub=
function(){return-Infinity==this||0>1/this},ub.$$arity=0),D)&&"negative?"})(u[0],m(u,"Numeric"),u);a.const_set(u[0],"Fixnum",m(u,"Number"));(function(l,$super,y){l=E(l,$super,"Integer");y=[l].concat(y);l.$$is_number_class=!0;l.$$is_integer_class=!0;(function(S,ja){var ea=[S].concat(ja),ma,b;a.def(S,"$allocate",ma=function(){return this.$raise(m(ea,"TypeError"),"allocator undefined for "+this.$name())},ma.$$arity=0);a.udef(S,"$new");return(a.def(S,"$sqrt",b=function(h){h=m(ea,"Opal")["$coerce_to!"](h,
m(ea,"Integer"),"to_int");0>h&&this.$raise(e(m(ea,"Math"),"DomainError"),'Numerical argument is out of domain - "isqrt"');return parseInt(Math.sqrt(h),10)},b.$$arity=1),D)&&"sqrt"})(a.get_singleton_class(l),y);a.const_set(y[0],"MAX",Math.pow(2,30)-1);return a.const_set(y[0],"MIN",-Math.pow(2,30))})(u[0],m(u,"Numeric"),u);return function(l,$super,y){l=E(l,$super,"Float");y=[l].concat(y);l.$$is_number_class=!0;(function(S,ja){var ea=[S].concat(ja),ma,b;a.def(S,"$allocate",ma=function(){return this.$raise(m(ea,
"TypeError"),"allocator undefined for "+this.$name())},ma.$$arity=0);a.udef(S,"$new");return(a.def(S,"$===",b=function(h){return!!h.$$is_number},b.$$arity=1),D)&&"==="})(a.get_singleton_class(l),y);a.const_set(y[0],"INFINITY",Infinity);a.const_set(y[0],"MAX",Number.MAX_VALUE);a.const_set(y[0],"MIN",Number.MIN_VALUE);a.const_set(y[0],"NAN",NaN);a.const_set(y[0],"DIG",15);a.const_set(y[0],"MANT_DIG",53);a.const_set(y[0],"RADIX",2);return a.const_set(y[0],"EPSILON",Number.EPSILON||2.220446049250313E-16)}(u[0],
m(u,"Numeric"),u)};
Opal.modules["corelib/range"]=function(a){function x(k,L){return"number"===typeof k&&"number"===typeof L?k<=L:k["$<="](L)}function H(k,L){return"number"===typeof k&&"number"===typeof L?k<L:k["$<"](L)}function t(k,L){return"number"===typeof k&&"number"===typeof L?k>L:k["$>"](L)}function w(k,L){return"number"===typeof k&&"number"===typeof L?k+L:k["$+"](L)}var z=a.top,p=[],n=a.nil,u=a.$$$,D=a.$$,e=a.klass,m=a.truthy,E=a.send,c=a.send2;a.add_stubs("$require $include $attr_reader $raise $<=> $include? $<= $< $enum_for $size $upto $to_proc $respond_to? $class $succ $! $== $=== $exclude_end? $eql? $begin $end $last $to_a $> $- $abs $to_i $coerce_to! $ceil $/ $loop $+ $* $>= $each_with_index $% $bsearch $inspect $[] $hash".split(" "));z.$require("corelib/enumerable");
return function(k,$super,d){k=e(k,$super,"Range");var l=[k].concat(d),N,y,S,ja,ea,ma,b,h,f,q,A,F,G,J,ca,va,Pa;k.$$prototype.begin=k.$$prototype.end=k.$$prototype.excl=n;k.$include(D(l,"Enumerable"));k.$$prototype.$$is_range=!0;k.$attr_reader("begin","end");a.def(k,"$initialize",N=function(wa,Aa,La){null==La&&(La=!1);m(this.begin)&&this.$raise(D(l,"NameError"),"'initialize' called twice");m(wa["$<=>"](Aa))||this.$raise(D(l,"ArgumentError"),"bad value for range");this.begin=wa;this.end=Aa;return this.excl=
La},N.$$arity=-3);a.def(k,"$===",y=function(wa){return this["$include?"](wa)},y.$$arity=1);a.def(k,"$cover?",S=function(wa){var Aa=n,La=n,na=n;var T=this.begin["$<=>"](wa);if(!m(m(Aa=T)?x(T,0):Aa))return!1;wa=wa["$<=>"](this.end);return m(this.excl)?m(La=wa)?H(wa,0):La:m(na=wa)?x(wa,0):na},S.$$arity=1);a.def(k,"$each",ja=function(){var wa=ja.$$p,Aa=wa||n,La,na=n,T=n,sa=n;wa&&(ja.$$p=null);wa&&(ja.$$p=null);if(Aa===n)return E(this,"enum_for",["each"],(La=function(){return(null==La.$$s?this:La.$$s).$size()},
La.$$s=this,La.$$arity=0,La));if(this.begin.$$is_number&&this.end.$$is_number){0===this.begin%1&&0===this.end%1||this.$raise(D(l,"TypeError"),"can't iterate from Float");wa=this.begin;for(na=this.end+(m(this.excl)?0:1);wa<na;wa++)Aa(wa);return this}if(this.begin.$$is_string&&this.end.$$is_string)return E(this.begin,"upto",[this.end,this.excl],Aa.$to_proc()),this;na=this.begin;T=this.end;for(m(na["$respond_to?"]("succ"))||this.$raise(D(l,"TypeError"),"can't iterate from "+na.$class());m(H(na["$<=>"](T),
0));)a.yield1(Aa,na),na=na.$succ();m(m(sa=this.excl["$!"]())?na["$=="](T):sa)&&a.yield1(Aa,na);return this},ja.$$arity=0);a.def(k,"$eql?",ea=function(wa){var Aa=n,La=n;return m(D(l,"Range")["$==="](wa))?m(Aa=m(La=this.excl["$==="](wa["$exclude_end?"]()))?this.begin["$eql?"](wa.$begin()):La)?this.end["$eql?"](wa.$end()):Aa:!1},ea.$$arity=1);a.alias(k,"==","eql?");a.def(k,"$exclude_end?",ma=function(){return this.excl},ma.$$arity=0);a.def(k,"$first",b=function(wa){var Aa=b.$$p,La;Aa&&(b.$$p=null);var na=
0;var T=arguments.length;for(La=Array(T);na<T;na++)La[na]=arguments[na];return m(null==wa)?this.begin:c(this,a.find_super_dispatcher(this,"first",b,!1,!0),"first",La,Aa)},b.$$arity=-1);a.alias(k,"include?","cover?");a.def(k,"$last",h=function(wa){return m(null==wa)?this.end:this.$to_a().$last(wa)},h.$$arity=-1);a.def(k,"$max",f=function(){var wa=f.$$p,Aa=wa||n,La=n,na;wa&&(f.$$p=null);var T=0;var sa=arguments.length;for(na=Array(sa);T<sa;T++)na[T]=arguments[T];return Aa!==n?c(this,a.find_super_dispatcher(this,
"max",f,!1,!0),"max",na,wa):m(t(this.begin,this.end))?n:m(m(La=this.excl)?this.begin["$=="](this.end):La)?n:this.excl?this.end-1:this.end},f.$$arity=0);a.alias(k,"member?","cover?");a.def(k,"$min",q=function(){var wa=q.$$p,Aa=wa||n,La=n,na;wa&&(q.$$p=null);var T=0;var sa=arguments.length;for(na=Array(sa);T<sa;T++)na[T]=arguments[T];return Aa!==n?c(this,a.find_super_dispatcher(this,"min",q,!1,!0),"min",na,wa):m(t(this.begin,this.end))?n:m(m(La=this.excl)?this.begin["$=="](this.end):La)?n:this.begin},
q.$$arity=0);a.def(k,"$size",A=function(){var wa=n;var Aa=this.begin;var La=this.end;m(this.excl)&&(La="number"===typeof La?La-1:La["$-"](1));if(!m(m(wa=D(l,"Numeric")["$==="](Aa))?D(l,"Numeric")["$==="](La):wa))return n;if(m(H(La,Aa)))return 0;wa=u(D(l,"Float"),"INFINITY");return m([Aa.$abs(),La.$abs()]["$include?"](wa))?wa:(Math.abs(La-Aa)+1).$to_i()},A.$$arity=0);a.def(k,"$step",F=function(wa){function Aa(){wa.$$is_number||(wa=D(l,"Opal")["$coerce_to!"](wa,D(l,"Integer"),"to_int"));0>wa?ka.$raise(D(l,
"ArgumentError"),"step can't be negative"):0===wa&&ka.$raise(D(l,"ArgumentError"),"step can't be 0")}function La(){if(!ka.begin["$respond_to?"]("succ")||ka.begin.$$is_string&&ka.end.$$is_string)return n;if(0===wa%1){var K=ka.$size();return("number"===typeof K&&"number"===typeof wa?K/wa:K["$/"](wa)).$ceil()}K=ka.begin;var Y=ka.end,qa=Math.abs,fa=Math.floor;qa=(qa(K)+qa(Y)+qa(Y-K))/qa(wa)*u(D(l,"Float"),"EPSILON");.5<qa&&(qa=.5);ka.excl?(fa=fa((Y-K)/wa-qa),fa*wa+K<Y&&fa++):fa=fa((Y-K)/wa+qa)+1;return fa}
var na,T,sa,xa=F.$$p,Ja=xa||n,ka=this,M=n;xa&&(F.$$p=null);null==wa&&(wa=1);if(Ja===n)return E(ka,"enum_for",["step",wa],(na=function(){Aa();return La()},na.$$s=ka,na.$$arity=0,na));Aa();m(ka.begin.$$is_number&&ka.end.$$is_number)?(M=0,function(){var K=a.new_brk();try{return E(ka,"loop",[],(T=function(){var Y=null==T.$$s?this:T.$$s;null==Y.begin&&(Y.begin=n);null==Y.excl&&(Y.excl=n);null==Y.end&&(Y.end=n);var qa=w(Y.begin,"number"===typeof M&&"number"===typeof wa?M*wa:M["$*"](wa));m(Y.excl)?(Y=Y.end,
Y="number"===typeof qa&&"number"===typeof Y?qa>=Y:qa["$>="](Y),m(Y)&&a.brk(n,K)):m(t(qa,Y.end))&&a.brk(n,K);a.yield1(Ja,qa);return M=w(M,1)},T.$$s=ka,T.$$brk=K,T.$$arity=0,T))}catch(Y){if(Y===K)return Y.$v;throw Y;}}()):(ka.begin.$$is_string&&ka.end.$$is_string&&0!==wa%1&&ka.$raise(D(l,"TypeError"),"no implicit conversion to float from string"),E(ka,"each_with_index",[],(sa=function(K,Y){null==K&&(K=n);null==Y&&(Y=n);return Y["$%"](wa)["$=="](0)?a.yield1(Ja,K):n},sa.$$s=ka,sa.$$arity=2,sa)));return ka},
F.$$arity=-1);a.def(k,"$bsearch",G=function(){var wa=G.$$p,Aa=wa||n;wa&&(G.$$p=null);wa&&(G.$$p=null);if(Aa===n)return this.$enum_for("bsearch");m(this.begin.$$is_number&&this.end.$$is_number)||this.$raise(D(l,"TypeError"),"can't do binary search for "+this.begin.$class());return E(this.$to_a(),"bsearch",[],Aa.$to_proc())},G.$$arity=0);a.def(k,"$to_s",J=function(){return""+this.begin+(m(this.excl)?"...":"..")+this.end},J.$$arity=0);a.def(k,"$inspect",ca=function(){return""+this.begin.$inspect()+(m(this.excl)?
"...":"..")+this.end.$inspect()},ca.$$arity=0);a.def(k,"$marshal_load",va=function(wa){this.begin=wa["$[]"]("begin");this.end=wa["$[]"]("end");return this.excl=wa["$[]"]("excl")},va.$$arity=1);return(a.def(k,"$hash",Pa=function(){return[this.begin,this.end,this.excl].$hash()},Pa.$$arity=0),n)&&"hash"}(p[0],null,p)};
Opal.modules["corelib/proc"]=function(a){var x=[],H=a.nil,t=a.$$,w=a.slice,z=a.klass,p=a.truthy,n=a.send;a.add_stubs(["$raise","$proc","$call","$to_proc","$coerce_to!"]);return function(u,$super,e){u=z(u,$super,"Proc");var m=[u].concat(e),E,c,k,L,d,l,N,y,S,ja,ea,ma;a.defineProperty(u.$$prototype,"$$is_proc",!0);a.defineProperty(u.$$prototype,"$$is_lambda",!1);a.defs(u,"$new",E=function(){var b=E.$$p,h=b||H;b&&(E.$$p=null);b&&(E.$$p=null);p(h)||this.$raise(t(m,"ArgumentError"),"tried to create a Proc object without a block");
return h},E.$$arity=0);a.def(u,"$call",c=function(b){var h=c.$$p,f=h||H;h&&(c.$$p=null);h&&(c.$$p=null);h=a.slice.call(arguments,0,arguments.length);f!==H&&(this.$$p=f);if(f=this.$$brk)try{var q=this.$$is_lambda?this.apply(null,h):a.yieldX(this,h)}catch(A){if(A===f)return f.$v;throw A;}else q=this.$$is_lambda?this.apply(null,h):a.yieldX(this,h);return q},c.$$arity=-1);a.alias(u,"[]","call");a.alias(u,"===","call");a.alias(u,"yield","call");a.def(u,"$>>",k=function(b){var h;k.$$p&&(k.$$p=null);return n(this,
"proc",[],(h=function(f){var q=null==h.$$s?this:h.$$s,A=h.$$p,F=A||H;A&&(h.$$p=null);A=a.slice.call(arguments,0,arguments.length);q=n(q,"call",a.to_a(A),F.$to_proc());return b.$call(q)},h.$$s=this,h.$$arity=-1,h))},k.$$arity=1);a.def(u,"$<<",L=function(b){var h;L.$$p&&(L.$$p=null);return n(this,"proc",[],(h=function(f){var q=null==h.$$s?this:h.$$s,A=h.$$p,F=A||H;A&&(h.$$p=null);A=a.slice.call(arguments,0,arguments.length);F=n(b,"call",a.to_a(A),F.$to_proc());return q.$call(F)},h.$$s=this,h.$$arity=
-1,h))},L.$$arity=1);a.def(u,"$to_proc",d=function(){return this},d.$$arity=0);a.def(u,"$lambda?",l=function(){return!!this.$$is_lambda},l.$$arity=0);a.def(u,"$arity",N=function(){return this.$$is_curried?-1:this.$$arity},N.$$arity=0);a.def(u,"$source_location",y=function(){return H},y.$$arity=0);a.def(u,"$binding",S=function(){this.$$is_curried&&this.$raise(t(m,"ArgumentError"),"Can't create Binding");return H},S.$$arity=0);a.def(u,"$parameters",ja=function(){if(this.$$is_curried)return[["rest"]];
if(this.$$parameters){if(this.$$is_lambda)return this.$$parameters;var b=[],h;var f=0;for(h=this.$$parameters.length;f<h;f++){var q=this.$$parameters[f];"req"===q[0]&&(q=["opt",q[1]]);b.push(q)}return b}return[]},ja.$$arity=0);a.def(u,"$curry",ea=function(b){function h(){var q=w.call(arguments),A=q.length;A>b&&f.$$is_lambda&&!f.$$is_curried&&f.$raise(t(m,"ArgumentError"),"wrong number of arguments ("+A+" for "+b+")");if(A>=b)return f.$call.apply(f,q);A=function(){return h.apply(null,q.concat(w.call(arguments)))};
A.$$is_lambda=f.$$is_lambda;A.$$is_curried=!0;return A}var f=this;void 0===b?b=f.length:(b=t(m,"Opal")["$coerce_to!"](b,t(m,"Integer"),"to_int"),f.$$is_lambda&&b!==f.length&&f.$raise(t(m,"ArgumentError"),"wrong number of arguments ("+b+" for "+f.length+")"));h.$$is_lambda=f.$$is_lambda;h.$$is_curried=!0;return h},ea.$$arity=-1);a.def(u,"$dup",ma=function(){function b(){return h.apply(this,arguments)}var h=this.$$original_proc||this,f;for(f in this)this.hasOwnProperty(f)&&(b[f]=this[f]);return b},
ma.$$arity=0);return a.alias(u,"clone","dup")}(x[0],Function,x)};
Opal.modules["corelib/method"]=function(a){var x=[],H=a.nil,t=a.$$,w=a.klass,z=a.truthy;a.add_stubs("$attr_reader $arity $>> $<< $new $class $join $source_location $raise".split(" "));(function(p,$super,u){p=w(p,$super,"Method");var D=[p].concat(u),e,m,E,c,k,L,d,l,N,y,S;p.$$prototype.method=p.$$prototype.receiver=p.$$prototype.owner=p.$$prototype.name=H;p.$attr_reader("owner","receiver","name");a.def(p,"$initialize",e=function(ja,ea,ma,b){this.receiver=ja;this.owner=ea;this.name=b;return this.method=
ma},e.$$arity=4);a.def(p,"$arity",m=function(){return this.method.$arity()},m.$$arity=0);a.def(p,"$parameters",E=function(){return this.method.$$parameters},E.$$arity=0);a.def(p,"$source_location",c=function(){var ja;return z(ja=this.method.$$source_location)?ja:["(eval)",0]},c.$$arity=0);a.def(p,"$comments",k=function(){var ja;return z(ja=this.method.$$comments)?ja:[]},k.$$arity=0);a.def(p,"$call",L=function(ja){var ea=L.$$p,ma=ea||H;ea&&(L.$$p=null);ea&&(L.$$p=null);ea=a.slice.call(arguments,0,
arguments.length);this.method.$$p=ma;return this.method.apply(this.receiver,ea)},L.$$arity=-1);a.alias(p,"[]","call");a.def(p,"$>>",d=function(ja){return this.method["$>>"](ja)},d.$$arity=1);a.def(p,"$<<",l=function(ja){return this.method["$<<"](ja)},l.$$arity=1);a.def(p,"$unbind",N=function(){return t(D,"UnboundMethod").$new(this.receiver.$class(),this.owner,this.method,this.name)},N.$$arity=0);a.def(p,"$to_proc",y=function(){var ja=this.$call.bind(this);ja.$$unbound=this.method;ja.$$is_lambda=!0;
ja.$$arity=this.method.$$arity;ja.$$parameters=this.method.$$parameters;return ja},y.$$arity=0);return(a.def(p,"$inspect",S=function(){return"#<"+this.$class()+": "+this.receiver.$class()+"#"+this.name+" (defined in "+this.owner+" in "+this.$source_location().$join(":")+")>"},S.$$arity=0),H)&&"inspect"})(x[0],null,x);return function(p,$super,u){p=w(p,$super,"UnboundMethod");var D=[p].concat(u),e,m,E,c,k,L,d;p.$$prototype.method=p.$$prototype.owner=p.$$prototype.name=p.$$prototype.source=H;p.$attr_reader("source",
"owner","name");a.def(p,"$initialize",e=function(l,N,y,S){this.source=l;this.owner=N;this.method=y;return this.name=S},e.$$arity=4);a.def(p,"$arity",m=function(){return this.method.$arity()},m.$$arity=0);a.def(p,"$parameters",E=function(){return this.method.$$parameters},E.$$arity=0);a.def(p,"$source_location",c=function(){var l;return z(l=this.method.$$source_location)?l:["(eval)",0]},c.$$arity=0);a.def(p,"$comments",k=function(){var l;return z(l=this.method.$$comments)?l:[]},k.$$arity=0);a.def(p,
"$bind",L=function(l){if(this.owner.$$is_module||a.is_a(l,this.owner))return t(D,"Method").$new(l,this.owner,this.method,this.name);this.$raise(t(D,"TypeError"),"can't bind singleton method to a different class (expected "+l+".kind_of?("+this.owner+" to be true)")},L.$$arity=1);return(a.def(p,"$inspect",d=function(){return"#<"+this.$class()+": "+this.source+"#"+this.name+" (defined in "+this.owner+" in "+this.$source_location().$join(":")+")>"},d.$$arity=0),H)&&"inspect"}(x[0],null,x)};
Opal.modules["corelib/variables"]=function(a){var x=[],H=a.nil,t=a.$$,w=a.gvars,z=a.hash2;a.add_stubs(["$new"]);w["&"]=w["~"]=w["`"]=w["'"]=H;w.LOADED_FEATURES=w['"']=a.loaded_features;w.LOAD_PATH=w[":"]=[];w["/"]="\n";w[","]=H;a.const_set(x[0],"ARGV",[]);a.const_set(x[0],"ARGF",t(x,"Object").$new());a.const_set(x[0],"ENV",z([],{}));w.VERBOSE=!1;w.DEBUG=!1;return w.SAFE=0};
Opal.modules["corelib/io"]=function(a){function x(E,c){return"number"===typeof E&&"number"===typeof c?E-c:E["$-"](c)}var H=[],t=a.nil,w=a.$$$,z=a.$$,p=a.klass,n=a.module,u=a.gvars,D=a.send,e=t;a.add_stubs("$attr_accessor $size $write $String $chomp $getbyte $getc $raise $new $write_proc= $- $extend".split(" "));(function(E,$super,k){E=p(E,$super,"IO");k=[E].concat(k);var L,d,l,N;E.$$prototype.tty=E.$$prototype.closed=t;a.const_set(k[0],"SEEK_SET",0);a.const_set(k[0],"SEEK_CUR",1);a.const_set(k[0],
"SEEK_END",2);a.def(E,"$tty?",L=function(){return this.tty},L.$$arity=0);a.def(E,"$closed?",d=function(){return this.closed},d.$$arity=0);E.$attr_accessor("write_proc");a.def(E,"$write",l=function(y){this.write_proc(y);return y.$size()},l.$$arity=1);E.$attr_accessor("sync","tty");a.def(E,"$flush",N=function(){return t},N.$$arity=0);(function(y,S){y=n(y,"Writable");[y].concat(S);var ja,ea,ma;a.def(y,"$<<",ja=function(b){this.$write(b);return this},ja.$$arity=1);a.def(y,"$print",ea=function(b){null==
u[","]&&(u[","]=t);var h=a.slice.call(arguments,0,arguments.length);for(var f=0,q=h.length;f<q;f++)h[f]=this.$String(h[f]);this.$write(h.join(u[","]));return t},ea.$$arity=-1);a.def(y,"$puts",ma=function(b){null==u["/"]&&(u["/"]=t);var h=a.slice.call(arguments,0,arguments.length);for(var f=0,q=h.length;f<q;f++)h[f]=this.$String(h[f]).$chomp();this.$write(h.concat([t]).join(u["/"]));return t},ma.$$arity=-1)})(k[0],k);return function(y,S){y=n(y,"Readable");var ja=[y].concat(S),ea,ma,b,h;a.def(y,"$readbyte",
ea=function(){return this.$getbyte()},ea.$$arity=0);a.def(y,"$readchar",ma=function(){return this.$getc()},ma.$$arity=0);a.def(y,"$readline",b=function(){null==u["/"]&&(u["/"]=t);return this.$raise(z(ja,"NotImplementedError"))},b.$$arity=-1);a.def(y,"$readpartial",h=function(){return this.$raise(z(ja,"NotImplementedError"))},h.$$arity=-2)}(k[0],k)})(H[0],null,H);a.const_set(H[0],"STDERR",u.stderr=z(H,"IO").$new());a.const_set(H[0],"STDIN",u.stdin=z(H,"IO").$new());a.const_set(H[0],"STDOUT",u.stdout=
z(H,"IO").$new());var m=a.global.console;e=["object"===typeof process&&"object"===typeof process.stdout?function(E){process.stdout.write(E)}:function(E){m.log(E)}];D(z(H,"STDOUT"),"write_proc=",a.to_a(e));e[x(e.length,1)];e=["object"===typeof process&&"object"===typeof process.stderr?function(E){process.stderr.write(E)}:function(E){m.warn(E)}];D(z(H,"STDERR"),"write_proc=",a.to_a(e));e[x(e.length,1)];z(H,"STDOUT").$extend(w(z(H,"IO"),"Writable"));return z(H,"STDERR").$extend(w(z(H,"IO"),"Writable"))};
Opal.modules["opal/regexp_anchors"]=function(a){var x=[],H=a.nil,t=a.$$,w=a.module;a.add_stubs(["$==","$new"]);x=[w(x[0],"Opal")].concat(x);a.const_set(x[0],"REGEXP_START",t(x,"RUBY_ENGINE")["$=="]("opal")?"^":H);a.const_set(x[0],"REGEXP_END",t(x,"RUBY_ENGINE")["$=="]("opal")?"$":H);a.const_set(x[0],"FORBIDDEN_STARTING_IDENTIFIER_CHARS","\\u0001-\\u002F\\u003A-\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F");a.const_set(x[0],"FORBIDDEN_ENDING_IDENTIFIER_CHARS","\\u0001-\\u0020\\u0022-\\u002F\\u003A-\\u003E\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F");
a.const_set(x[0],"INLINE_IDENTIFIER_REGEXP",t(x,"Regexp").$new("[^"+t(x,"FORBIDDEN_STARTING_IDENTIFIER_CHARS")+"]*[^"+t(x,"FORBIDDEN_ENDING_IDENTIFIER_CHARS")+"]"));a.const_set(x[0],"FORBIDDEN_CONST_NAME_CHARS","\\u0001-\\u0020\\u0021-\\u002F\\u003B-\\u003F\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F");a.const_set(x[0],"CONST_NAME_REGEXP",t(x,"Regexp").$new(""+t(x,"REGEXP_START")+"(::)?[A-Z][^"+t(x,"FORBIDDEN_CONST_NAME_CHARS")+"]*"+t(x,"REGEXP_END")))};
Opal.modules["opal/mini"]=function(a){var x=a.top;a.add_stubs(["$require"]);x.$require("opal/base");x.$require("corelib/nil");x.$require("corelib/boolean");x.$require("corelib/string");x.$require("corelib/comparable");x.$require("corelib/enumerable");x.$require("corelib/enumerator");x.$require("corelib/array");x.$require("corelib/hash");x.$require("corelib/number");x.$require("corelib/range");x.$require("corelib/proc");x.$require("corelib/method");x.$require("corelib/regexp");x.$require("corelib/variables");
x.$require("corelib/io");return x.$require("opal/regexp_anchors")};
Opal.modules["corelib/kernel/format"]=function(a){var x=[],H=a.nil,t=a.$$,w=a.coerce_to,z=a.module,p=a.truthy,n=a.gvars;a.add_stubs("$== $length $respond_to? $[] $coerce_to? $nil? $to_a $raise $to_int $fetch $Integer $Float $to_ary $to_str $inspect $to_s".split(" "));return function(u,D){u=z(u,"Kernel");var e=[u].concat(D),m;a.def(u,"$format",m=function(E,c){function k(){ca&32&&ea.$raise(t(e,"ArgumentError"),"flag after width");ca&128&&ea.$raise(t(e,"ArgumentError"),"flag after precision")}function L(){ca&
32&&ea.$raise(t(e,"ArgumentError"),"width given twice");ca&128&&ea.$raise(t(e,"ArgumentError"),"width after precision")}function d(Ja){Ja>=h.length&&ea.$raise(t(e,"ArgumentError"),"too few arguments");return h[Ja]}function l(){switch(G){case -1:ea.$raise(t(e,"ArgumentError"),"unnumbered("+F+") mixed with numbered");case -2:ea.$raise(t(e,"ArgumentError"),"unnumbered("+F+") mixed with named")}G=F++;return d(G-1)}function N(Ja){0<G&&ea.$raise(t(e,"ArgumentError"),"numbered("+Ja+") after unnumbered("+
G+")");-2===G&&ea.$raise(t(e,"ArgumentError"),"numbered("+Ja+") after named");1>Ja&&ea.$raise(t(e,"ArgumentError"),"invalid index - "+Ja+"$");G=-1;return d(Ja-1)}function y(){return void 0===Pa?l():Pa}function S(Ja){var ka;for(ka="";;f++){f===q&&ea.$raise(t(e,"ArgumentError"),"malformed format string - %*[0-9]");if(48>E.charCodeAt(f)||57<E.charCodeAt(f))return f--,ka=parseInt(ka,10)||0,2147483647<ka&&ea.$raise(t(e,"ArgumentError"),""+Ja+" too big"),ka;ka+=E.charAt(f)}}function ja(Ja){Ja=S(Ja);"$"===
E.charAt(f+1)?(f++,Ja=N(Ja)):Ja=l();return Ja.$to_int()}var ea=this,ma=H,b=H;null==n.DEBUG&&(n.DEBUG=H);var h=a.slice.call(arguments,1,arguments.length);p(p(ma=h.$length()["$=="](1))?h["$[]"](0)["$respond_to?"]("to_ary"):ma)&&(b=t(e,"Opal")["$coerce_to?"](h["$[]"](0),t(e,"Array"),"to_ary"),p(b["$nil?"]())||(h=b.$to_a()));ma="";b=0;var f,q=E.length,A,F=1,G=0;for(f=E.indexOf("%");-1!==f;f=E.indexOf("%",f)){var J=void 0;var ca=0;var va=A=-1;var Pa=void 0;var wa=f;f++;switch(E.charAt(f)){case "%":b=f;
case "":case "\n":case "\x00":f++;continue}a:for(;f<q;f++)switch(E.charAt(f)){case " ":k();ca|=16;continue a;case "#":k();ca|=1;continue a;case "+":k();ca|=4;continue a;case "-":k();ca|=2;continue a;case "0":k();ca|=8;continue a;case "1":case "2":case "3":case "4":case "5":case "6":case "7":case "8":case "9":var Aa=S("width");if("$"===E.charAt(f+1)){if(f+2===q){J="%";f++;break a}void 0!==Pa&&ea.$raise(t(e,"ArgumentError"),"value given twice - %"+Aa+"$");Pa=N(Aa);f++}else L(),ca|=32,A=Aa;continue a;
case "<":case "{":var La="<"===E.charAt(f)?">":"}";Aa="";for(f++;;f++){f===q&&ea.$raise(t(e,"ArgumentError"),"malformed name - unmatched parenthesis");if(E.charAt(f)===La)if(0<G&&ea.$raise(t(e,"ArgumentError"),"named "+Aa+" after unnumbered("+G+")"),-1===G&&ea.$raise(t(e,"ArgumentError"),"named "+Aa+" after numbered"),G=-2,void 0!==h[0]&&h[0].$$is_hash||ea.$raise(t(e,"ArgumentError"),"one hash required"),Pa=h[0].$fetch(Aa),">"===La)continue a;else{J=Pa.toString();-1!==va&&(J=J.slice(0,va));if(ca&
2)for(;J.length<A;)J+=" ";else for(;J.length<A;)J=" "+J;break a}Aa+=E.charAt(f)}case "*":f++;L();ca|=32;A=ja("width");0>A&&(ca|=2,A=-A);continue a;case ".":ca&128&&ea.$raise(t(e,"ArgumentError"),"precision given twice");ca|=192;va=0;f++;if("*"===E.charAt(f)){f++;va=ja("precision");0>va&&(ca&=-65);continue a}va=S("precision");continue a;case "d":case "i":case "u":Aa=ea.$Integer(y());if(0<=Aa){for(J=Aa.toString();J.length<va;)J="0"+J;if(ca&2){if(ca&4||ca&16)J=(ca&4?"+":" ")+J;for(;J.length<A;)J+=" "}else if(ca&
8&&-1===va){for(;J.length<A-(ca&4||ca&16?1:0);)J="0"+J;if(ca&4||ca&16)J=(ca&4?"+":" ")+J}else{if(ca&4||ca&16)J=(ca&4?"+":" ")+J;for(;J.length<A;)J=" "+J}}else{for(J=(-Aa).toString();J.length<va;)J="0"+J;if(ca&2)for(J="-"+J;J.length<A;)J+=" ";else if(ca&8&&-1===va){for(;J.length<A-1;)J="0"+J;J="-"+J}else for(J="-"+J;J.length<A;)J=" "+J}break a;case "b":case "B":case "o":case "x":case "X":switch(E.charAt(f)){case "b":case "B":var na=2;var T="0b";var sa=/^1+/;var xa="1";break;case "o":na=8;T="0";sa=
/^3?7+/;xa="7";break;case "x":case "X":na=16,T="0x",sa=/^f+/,xa="f"}Aa=ea.$Integer(y());if(0<=Aa){for(J=Aa.toString(na);J.length<va;)J="0"+J;if(ca&2){if(ca&4||ca&16)J=(ca&4?"+":" ")+J;for(ca&1&&0!==Aa&&(J=T+J);J.length<A;)J+=" "}else if(ca&8&&-1===va){for(;J.length<A-(ca&4||ca&16?1:0)-(ca&1&&0!==Aa?T.length:0);)J="0"+J;ca&1&&0!==Aa&&(J=T+J);if(ca&4||ca&16)J=(ca&4?"+":" ")+J}else{ca&1&&0!==Aa&&(J=T+J);if(ca&4||ca&16)J=(ca&4?"+":" ")+J;for(;J.length<A;)J=" "+J}}else if(ca&4||ca&16){for(J=(-Aa).toString(na);J.length<
va;)J="0"+J;if(ca&2)for(ca&1&&(J=T+J),J="-"+J;J.length<A;)J+=" ";else if(ca&8&&-1===va){for(;J.length<A-1-(ca&1?2:0);)J="0"+J;ca&1&&(J=T+J);J="-"+J}else for(ca&1&&(J=T+J),J="-"+J;J.length<A;)J=" "+J}else{for(J=(Aa>>>0).toString(na).replace(sa,xa);J.length<va-2;)J=xa+J;if(ca&2)for(J=".."+J,ca&1&&(J=T+J);J.length<A;)J+=" ";else if(ca&8&&-1===va){for(;J.length<A-2-(ca&1?T.length:0);)J=xa+J;J=".."+J;ca&1&&(J=T+J)}else for(J=".."+J,ca&1&&(J=T+J);J.length<A;)J=" "+J}E.charAt(f)===E.charAt(f).toUpperCase()&&
(J=J.toUpperCase());break a;case "f":case "e":case "E":case "g":case "G":Aa=ea.$Float(y());if(0<=Aa||isNaN(Aa)){if(Infinity===Aa)J="Inf";else switch(E.charAt(f)){case "f":J=Aa.toFixed(-1===va?6:va);break;case "e":case "E":J=Aa.toExponential(-1===va?6:va);break;case "g":case "G":J=Aa.toExponential(),La=parseInt(J.split("e")[1],10),-4>La||La>=(-1===va?6:va)||(J=Aa.toPrecision(-1===va?ca&1?6:void 0:va))}if(ca&2){if(ca&4||ca&16)J=(ca&4?"+":" ")+J;for(;J.length<A;)J+=" "}else if(ca&8&&Infinity!==Aa&&!isNaN(Aa)){for(;J.length<
A-(ca&4||ca&16?1:0);)J="0"+J;if(ca&4||ca&16)J=(ca&4?"+":" ")+J}else{if(ca&4||ca&16)J=(ca&4?"+":" ")+J;for(;J.length<A;)J=" "+J}}else{if(-Infinity===Aa)J="Inf";else switch(E.charAt(f)){case "f":J=(-Aa).toFixed(-1===va?6:va);break;case "e":case "E":J=(-Aa).toExponential(-1===va?6:va);break;case "g":case "G":J=(-Aa).toExponential(),La=parseInt(J.split("e")[1],10),-4>La||La>=(-1===va?6:va)||(J=(-Aa).toPrecision(-1===va?ca&1?6:void 0:va))}if(ca&2)for(J="-"+J;J.length<A;)J+=" ";else if(ca&8&&-Infinity!==
Aa){for(;J.length<A-1;)J="0"+J;J="-"+J}else for(J="-"+J;J.length<A;)J=" "+J}E.charAt(f)!==E.charAt(f).toUpperCase()||Infinity===Aa||-Infinity===Aa||isNaN(Aa)||(J=J.toUpperCase());J=J.replace(/([eE][-+]?)([0-9])$/,"$10$2");break a;case "a":case "A":ea.$raise(t(e,"NotImplementedError"),"`A` and `a` format field types are not implemented in Opal yet");case "c":Aa=y();Aa["$respond_to?"]("to_ary")&&(Aa=Aa.$to_ary()[0]);J=Aa["$respond_to?"]("to_str")?Aa.$to_str():String.fromCharCode(w(Aa,t(e,"Integer"),
"to_int"));1!==J.length&&ea.$raise(t(e,"ArgumentError"),"%c requires a character");if(ca&2)for(;J.length<A;)J+=" ";else for(;J.length<A;)J=" "+J;break a;case "p":J=y().$inspect();-1!==va&&(J=J.slice(0,va));if(ca&2)for(;J.length<A;)J+=" ";else for(;J.length<A;)J=" "+J;break a;case "s":J=y().$to_s();-1!==va&&(J=J.slice(0,va));if(ca&2)for(;J.length<A;)J+=" ";else for(;J.length<A;)J=" "+J;break a;default:ea.$raise(t(e,"ArgumentError"),"malformed format string - %"+E.charAt(f))}void 0===J&&ea.$raise(t(e,
"ArgumentError"),"malformed format string - %");ma+=E.slice(b,wa)+J;b=f+1}n.DEBUG&&0<=G&&F<h.length&&ea.$raise(t(e,"ArgumentError"),"too many arguments for format string");return ma+E.slice(b)},m.$$arity=-2);a.alias(u,"sprintf","format")}(x[0],x)};
Opal.modules["corelib/string/encoding"]=function(a){function x(l,N){return"number"===typeof l&&"number"===typeof N?l+N:l["$+"](N)}var H,t,w,z,p,n=a.top,u=[],D=a.nil,e=a.$$$,m=a.$$,E=a.klass,c=a.hash2,k=a.truthy,L=a.send,d=D;a.add_stubs("$require $+ $[] $new $instance_eval $to_proc $each $const_set $sub $== $default_external $upcase $raise $attr_accessor $singleton_class $attr_reader $register $length $bytes $to_a $each_byte $dup $bytesize $enum_for $each_codepoint $coerce_to! $find $< $default_external= $-".split(" "));n.$require("corelib/string");
(function(l,$super,y){l=E(l,$super,"Encoding");var S=[l].concat(y),ja,ea,ma,b,h,f,q,A,F;l.$$prototype.ascii=l.$$prototype.dummy=l.$$prototype.name=D;a.defs(l,"$register",ja=function(G,J){var ca=ja.$$p,va=ca||D,Pa,wa=D,Aa=D,La=D,na=D,T=D,sa=D,xa=D,Ja=D;ca&&(ja.$$p=null);ca&&(ja.$$p=null);null==J&&(J=c([],{}));wa=x([G],k(Aa=J["$[]"]("aliases"))?Aa:[]);La=k(na=J["$[]"]("ascii"))?na:!1;T=k(sa=J["$[]"]("dummy"))?sa:!1;xa=this.$new(G,wa,La,T);L(xa,"instance_eval",[],va.$to_proc());Ja=a.encodings;return L(wa,
"each",[],(Pa=function(ka){var M=null==Pa.$$s?this:Pa.$$s;null==ka&&(ka=D);M.$const_set(ka.$sub("-","_"),xa);return Ja[ka]=xa},Pa.$$s=this,Pa.$$arity=1,Pa))},ja.$$arity=-2);a.defs(l,"$find",ea=function(G){var J=D;if(G["$=="]("default_external"))return this.$default_external();var ca=a.encodings;ca=k(J=ca[G])?J:ca[G.$upcase()];k(ca)||this.$raise(m(S,"ArgumentError"),"unknown encoding name - "+G);return ca},ea.$$arity=1);l.$singleton_class().$attr_accessor("default_external");l.$attr_reader("name",
"names");a.def(l,"$initialize",ma=function(G,J,ca,va){this.name=G;this.names=J;this.ascii=ca;return this.dummy=va},ma.$$arity=4);a.def(l,"$ascii_compatible?",b=function(){return this.ascii},b.$$arity=0);a.def(l,"$dummy?",h=function(){return this.dummy},h.$$arity=0);a.def(l,"$to_s",f=function(){return this.name},f.$$arity=0);a.def(l,"$inspect",q=function(){return"#<Encoding:"+this.name+(k(this.dummy)?" (dummy)":D)+">"},q.$$arity=0);a.def(l,"$each_byte",A=function(G){a.slice.call(arguments,0,arguments.length);
return this.$raise(m(S,"NotImplementedError"))},A.$$arity=-1);a.def(l,"$bytesize",F=function(G){a.slice.call(arguments,0,arguments.length);return this.$raise(m(S,"NotImplementedError"))},F.$$arity=-1);(function(G,$super,ca){[E(G,$super,"EncodingError")].concat(ca);return D})(S[0],m(S,"StandardError"),S);return function(G,$super,ca){[E(G,$super,"CompatibilityError")].concat(ca);return D}(S[0],m(S,"EncodingError"),S)})(u[0],null,u);L(m(u,"Encoding"),"register",["UTF-8",c(["aliases","ascii"],{aliases:["CP65001"],
ascii:!0})],(H=function(){var l=null==H.$$s?this:H.$$s,N,y;a.def(l,"$each_byte",N=function(S){var ja=N.$$p,ea=ja||D;ja&&(N.$$p=null);ja&&(N.$$p=null);ja=Infinity;for(var ma,b=S.length,h=null,f=0;f<b;++f){ma=S.charCodeAt(f);if(55295<ma&&57344>ma){if(!h){if(56319<ma){-1<(ja-=3)&&(a.yield1(ea,239),a.yield1(ea,191),a.yield1(ea,189));continue}else if(f+1===b){-1<(ja-=3)&&(a.yield1(ea,239),a.yield1(ea,191),a.yield1(ea,189));continue}h=ma;continue}if(56320>ma){-1<(ja-=3)&&(a.yield1(ea,239),a.yield1(ea,191),
a.yield1(ea,189));h=ma;continue}ma=(h-55296<<10|ma-56320)+65536}else h&&-1<(ja-=3)&&(a.yield1(ea,239),a.yield1(ea,191),a.yield1(ea,189));h=null;if(128>ma){if(0>--ja)break;a.yield1(ea,ma)}else if(2048>ma){if(0>(ja-=2))break;a.yield1(ea,ma>>6|192);a.yield1(ea,ma&63|128)}else if(65536>ma){if(0>(ja-=3))break;a.yield1(ea,ma>>12|224);a.yield1(ea,ma>>6&63|128);a.yield1(ea,ma&63|128)}else if(1114112>ma){if(0>(ja-=4))break;a.yield1(ea,ma>>18|240);a.yield1(ea,ma>>12&63|128);a.yield1(ea,ma>>6&63|128);a.yield1(ea,
ma&63|128)}}},N.$$arity=1);return(a.def(l,"$bytesize",y=function(S){return S.$bytes().$length()},y.$$arity=1),D)&&"bytesize"},H.$$s=n,H.$$arity=0,H));L(m(u,"Encoding"),"register",["UTF-16LE"],(t=function(){var l=null==t.$$s?this:t.$$s,N,y;a.def(l,"$each_byte",N=function(S){var ja=N.$$p,ea=ja||D;ja&&(N.$$p=null);ja&&(N.$$p=null);ja=0;for(var ma=S.length;ja<ma;ja++){var b=S.charCodeAt(ja);a.yield1(ea,b&255);a.yield1(ea,b>>8)}},N.$$arity=1);return(a.def(l,"$bytesize",y=function(S){return S.$bytes().$length()},
y.$$arity=1),D)&&"bytesize"},t.$$s=n,t.$$arity=0,t));L(m(u,"Encoding"),"register",["UTF-16BE"],(w=function(){var l=null==w.$$s?this:w.$$s,N,y;a.def(l,"$each_byte",N=function(S){var ja=N.$$p,ea=ja||D;ja&&(N.$$p=null);ja&&(N.$$p=null);ja=0;for(var ma=S.length;ja<ma;ja++){var b=S.charCodeAt(ja);a.yield1(ea,b>>8);a.yield1(ea,b&255)}},N.$$arity=1);return(a.def(l,"$bytesize",y=function(S){return S.$bytes().$length()},y.$$arity=1),D)&&"bytesize"},w.$$s=n,w.$$arity=0,w));L(m(u,"Encoding"),"register",["UTF-32LE"],
(z=function(){var l=null==z.$$s?this:z.$$s,N,y;a.def(l,"$each_byte",N=function(S){var ja=N.$$p,ea=ja||D;ja&&(N.$$p=null);ja&&(N.$$p=null);ja=0;for(var ma=S.length;ja<ma;ja++){var b=S.charCodeAt(ja);a.yield1(ea,b&255);a.yield1(ea,b>>8)}},N.$$arity=1);return(a.def(l,"$bytesize",y=function(S){return S.$bytes().$length()},y.$$arity=1),D)&&"bytesize"},z.$$s=n,z.$$arity=0,z));L(m(u,"Encoding"),"register",["ASCII-8BIT",c(["aliases","ascii","dummy"],{aliases:["BINARY","US-ASCII","ASCII"],ascii:!0,dummy:!0})],
(p=function(){var l=null==p.$$s?this:p.$$s,N,y;a.def(l,"$each_byte",N=function(S){var ja=N.$$p,ea=ja||D;ja&&(N.$$p=null);ja&&(N.$$p=null);ja=0;for(var ma=S.length;ja<ma;ja++){var b=S.charCodeAt(ja);a.yield1(ea,b&255);a.yield1(ea,b>>8)}},N.$$arity=1);return(a.def(l,"$bytesize",y=function(S){return S.$bytes().$length()},y.$$arity=1),D)&&"bytesize"},p.$$s=n,p.$$arity=0,p));(function(l,$super,y){l=E(l,$super,"String");var S=[l].concat(y),ja,ea,ma,b,h,f,q,A,F;l.$$prototype.bytes=l.$$prototype.internal_encoding=
D;l.$attr_reader("encoding");l.$attr_reader("internal_encoding");a.defineProperty(String.prototype,"bytes",D);a.defineProperty(String.prototype,"encoding",e(m(S,"Encoding"),"UTF_8"));a.defineProperty(String.prototype,"internal_encoding",e(m(S,"Encoding"),"UTF_8"));a.def(l,"$bytes",ja=function(){var G=D;this.bytes=k(G=this.bytes)?G:this.$each_byte().$to_a();return this.bytes.$dup()},ja.$$arity=0);a.def(l,"$bytesize",ea=function(){return this.internal_encoding.$bytesize(this)},ea.$$arity=0);a.def(l,
"$each_byte",ma=function(){var G=ma.$$p,J=G||D;G&&(ma.$$p=null);G&&(ma.$$p=null);if(J===D)return this.$enum_for("each_byte");L(this.internal_encoding,"each_byte",[this],J.$to_proc());return this},ma.$$arity=0);a.def(l,"$each_codepoint",b=function(){var G=b.$$p,J=G||D;G&&(b.$$p=null);G&&(b.$$p=null);if(J===D)return this.$enum_for("each_codepoint");G=0;for(var ca=this.length;G<ca;G++)a.yield1(J,this.codePointAt(G));return this},b.$$arity=0);a.def(l,"$codepoints",h=function(){var G=h.$$p,J=G||D;G&&(h.$$p=
null);G&&(h.$$p=null);return J!==D?L(this,"each_codepoint",[],J.$to_proc()):this.$each_codepoint().$to_a()},h.$$arity=0);a.def(l,"$encode",f=function(G){return a.enc(this,G)},f.$$arity=1);a.def(l,"$force_encoding",q=function(G){if(G===this.encoding)return this;G=m(S,"Opal")["$coerce_to!"](G,m(S,"String"),"to_s");G=m(S,"Encoding").$find(G);if(G===this.encoding)return this;a.set_encoding(this,G);return this},q.$$arity=1);a.def(l,"$getbyte",A=function(G){var J=this.$bytes();G=m(S,"Opal")["$coerce_to!"](G,
m(S,"Integer"),"to_int");var ca=J.$length();ca="number"===typeof ca&&"number"===typeof G?ca<G:ca["$<"](G);return k(ca)?D:J["$[]"](G)},A.$$arity=1);return(a.def(l,"$valid_encoding?",F=function(){return!0},F.$$arity=0),D)&&"valid_encoding?"})(u[0],null,u);d=[e(m(u,"Encoding"),"UTF_8")];L(m(u,"Encoding"),"default_external=",a.to_a(d));return d[function(l,N){return"number"===typeof l&&"number"===typeof N?l-N:l["$-"](N)}(d.length,1)]};
Opal.modules["corelib/math"]=function(a){var x=[],H=a.$$$,t=a.$$,w=a.type_error,z=a.module,p=a.truthy;a.add_stubs("$new $raise $Float $Integer $module_function $checked $float! $=== $gamma $- $integer! $/ $infinite?".split(" "));return function(n,u){n=z(n,"Math");var D=[n].concat(u),e,m,E,c,k,L,d,l,N,y,S,ja,ea,ma,b,h,f,q,A,F,G,J,ca,va,Pa,wa,Aa,La,na;a.const_set(D[0],"E",Math.E);a.const_set(D[0],"PI",Math.PI);a.const_set(D[0],"DomainError",t(D,"Class").$new(t(D,"StandardError")));a.defs(n,"$checked",
e=function(T,sa){var xa=a.slice.call(arguments,1,arguments.length);if(isNaN(xa[0])||2==xa.length&&isNaN(xa[1]))return NaN;xa=Math[T].apply(null,xa);isNaN(xa)&&this.$raise(t(D,"DomainError"),'Numerical argument is out of domain - "'+T+'"');return xa},e.$$arity=-2);a.defs(n,"$float!",m=function(T){try{return this.$Float(T)}catch(sa){if(a.rescue(sa,[t(D,"ArgumentError")]))try{return this.$raise(w(T,t(D,"Float")))}finally{a.pop_exception()}else throw sa;}},m.$$arity=1);a.defs(n,"$integer!",E=function(T){try{return this.$Integer(T)}catch(sa){if(a.rescue(sa,
[t(D,"ArgumentError")]))try{return this.$raise(w(T,t(D,"Integer")))}finally{a.pop_exception()}else throw sa;}},E.$$arity=1);n.$module_function();a.def(n,"$acos",c=function(T){return t(D,"Math").$checked("acos",t(D,"Math")["$float!"](T))},c.$$arity=1);p("undefined"!==typeof Math.acosh)||(Math.acosh=function(T){return Math.log(T+Math.sqrt(T*T-1))});a.def(n,"$acosh",k=function(T){return t(D,"Math").$checked("acosh",t(D,"Math")["$float!"](T))},k.$$arity=1);a.def(n,"$asin",L=function(T){return t(D,"Math").$checked("asin",
t(D,"Math")["$float!"](T))},L.$$arity=1);p("undefined"!==typeof Math.asinh)||(Math.asinh=function(T){return Math.log(T+Math.sqrt(T*T+1))});a.def(n,"$asinh",d=function(T){return t(D,"Math").$checked("asinh",t(D,"Math")["$float!"](T))},d.$$arity=1);a.def(n,"$atan",l=function(T){return t(D,"Math").$checked("atan",t(D,"Math")["$float!"](T))},l.$$arity=1);a.def(n,"$atan2",N=function(T,sa){return t(D,"Math").$checked("atan2",t(D,"Math")["$float!"](T),t(D,"Math")["$float!"](sa))},N.$$arity=2);p("undefined"!==
typeof Math.atanh)||(Math.atanh=function(T){return.5*Math.log((1+T)/(1-T))});a.def(n,"$atanh",y=function(T){return t(D,"Math").$checked("atanh",t(D,"Math")["$float!"](T))},y.$$arity=1);p("undefined"!==typeof Math.cbrt)||(Math.cbrt=function(T){if(0==T)return 0;if(0>T)return-Math.cbrt(-T);for(var sa=T,xa=0;.125>sa;)sa*=8,xa--;for(;1<sa;)sa*=.125,xa++;for(sa=(-.46946116*sa+1.072302)*sa+.3812513;0>xa;)sa*=.5,xa++;for(;0<xa;)sa*=2,xa--;sa=2/3*sa+1/3*T/(sa*sa);sa=2/3*sa+1/3*T/(sa*sa);sa=2/3*sa+1/3*T/(sa*
sa);return 2/3*sa+1/3*T/(sa*sa)});a.def(n,"$cbrt",S=function(T){return t(D,"Math").$checked("cbrt",t(D,"Math")["$float!"](T))},S.$$arity=1);a.def(n,"$cos",ja=function(T){return t(D,"Math").$checked("cos",t(D,"Math")["$float!"](T))},ja.$$arity=1);p("undefined"!==typeof Math.cosh)||(Math.cosh=function(T){return(Math.exp(T)+Math.exp(-T))/2});a.def(n,"$cosh",ea=function(T){return t(D,"Math").$checked("cosh",t(D,"Math")["$float!"](T))},ea.$$arity=1);p("undefined"!==typeof Math.erf)||a.defineProperty(Math,
"erf",function(T){var sa=1;0>T&&(sa=-1);T=Math.abs(T);var xa=1/(1+.3275911*T);return sa*(1-((((1.061405429*xa+-1.453152027)*xa+1.421413741)*xa+-.284496736)*xa+.254829592)*xa*Math.exp(-T*T))});a.def(n,"$erf",ma=function(T){return t(D,"Math").$checked("erf",t(D,"Math")["$float!"](T))},ma.$$arity=1);p("undefined"!==typeof Math.erfc)||a.defineProperty(Math,"erfc",function(T){var sa=Math.abs(T),xa=1/(.5*sa+1);sa=xa*Math.exp(-sa*sa-1.26551223+xa*(xa*(xa*(xa*(xa*(xa*(xa*(xa*(.17087277*xa+-.82215223)+1.48851587)+
-1.13520398)+.27886807)+-.18628806)+.09678418)+.37409196)+1.00002368));return 0>T?2-sa:sa});a.def(n,"$erfc",b=function(T){return t(D,"Math").$checked("erfc",t(D,"Math")["$float!"](T))},b.$$arity=1);a.def(n,"$exp",h=function(T){return t(D,"Math").$checked("exp",t(D,"Math")["$float!"](T))},h.$$arity=1);a.def(n,"$frexp",f=function(T){T=t(D,"Math")["$float!"](T);if(isNaN(T))return[NaN,0];var sa=Math.floor(Math.log(Math.abs(T))/Math.log(2))+1;return[T/Math.pow(2,sa),sa]},f.$$arity=1);a.def(n,"$gamma",
q=function(T){T=t(D,"Math")["$float!"](T);var sa=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3.399464998481189E-5,4.652362892704858E-5,-9.837447530487956E-5,1.580887032249125E-4,-2.1026444172410488E-4,2.1743961811521265E-4,-1.643181065367639E-4,8.441822398385275E-5,-2.6190838401581408E-5,3.6899182659531625E-6];if(isNaN(T))return NaN;if(0===T&&0>1/T)return-Infinity;-1!==T&&-Infinity!==T||this.$raise(t(D,"DomainError"),'Numerical argument is out of domain - "gamma"');
if(t(D,"Integer")["$==="](T)){if(0>=T)return isFinite(T)?Infinity:NaN;if(171<T)return Infinity;var xa=T-2;for(--T;1<xa;)T*=xa,xa--;0==T&&(T=1);return T}if(.5>T)return Math.PI/(Math.sin(Math.PI*T)*t(D,"Math").$gamma("number"===typeof T?1-T:1["$-"](T)));if(171.35<=T)return Infinity;if(85<T){xa=T*T;var Ja=xa*T;sa=Ja*T;var ka=sa*T;return Math.sqrt(2*Math.PI/T)*Math.pow(T/Math.E,T)*(1+1/(12*T)+1/(288*xa)-139/(51840*Ja)-571/(2488320*sa)+163879/(209018880*ka)+5246819/(75246796800*ka*T))}--T;xa=sa[0];for(Ja=
1;Ja<sa.length;++Ja)xa+=sa[Ja]/(T+Ja);Ja=T+4.7421875+.5;return Math.sqrt(2*Math.PI)*Math.pow(Ja,T+.5)*Math.exp(-Ja)*xa},q.$$arity=1);p("undefined"!==typeof Math.hypot)||(Math.hypot=function(T,sa){return Math.sqrt(T*T+sa*sa)});a.def(n,"$hypot",A=function(T,sa){return t(D,"Math").$checked("hypot",t(D,"Math")["$float!"](T),t(D,"Math")["$float!"](sa))},A.$$arity=2);a.def(n,"$ldexp",F=function(T,sa){T=t(D,"Math")["$float!"](T);sa=t(D,"Math")["$integer!"](sa);isNaN(sa)&&this.$raise(t(D,"RangeError"),"float NaN out of range of integer");
return T*Math.pow(2,sa)},F.$$arity=2);a.def(n,"$lgamma",G=function(T){return-1==T?[Infinity,1]:[Math.log(Math.abs(t(D,"Math").$gamma(T))),0>t(D,"Math").$gamma(T)?-1:1]},G.$$arity=1);a.def(n,"$log",J=function(T,sa){p(t(D,"String")["$==="](T))&&this.$raise(w(T,t(D,"Float")));if(p(null==sa))return t(D,"Math").$checked("log",t(D,"Math")["$float!"](T));p(t(D,"String")["$==="](sa))&&this.$raise(w(sa,t(D,"Float")));T=t(D,"Math").$checked("log",t(D,"Math")["$float!"](T));sa=t(D,"Math").$checked("log",t(D,
"Math")["$float!"](sa));return"number"===typeof T&&"number"===typeof sa?T/sa:T["$/"](sa)},J.$$arity=-2);p("undefined"!==typeof Math.log10)||(Math.log10=function(T){return Math.log(T)/Math.LN10});a.def(n,"$log10",ca=function(T){p(t(D,"String")["$==="](T))&&this.$raise(w(T,t(D,"Float")));return t(D,"Math").$checked("log10",t(D,"Math")["$float!"](T))},ca.$$arity=1);p("undefined"!==typeof Math.log2)||(Math.log2=function(T){return Math.log(T)/Math.LN2});a.def(n,"$log2",va=function(T){p(t(D,"String")["$==="](T))&&
this.$raise(w(T,t(D,"Float")));return t(D,"Math").$checked("log2",t(D,"Math")["$float!"](T))},va.$$arity=1);a.def(n,"$sin",Pa=function(T){return t(D,"Math").$checked("sin",t(D,"Math")["$float!"](T))},Pa.$$arity=1);p("undefined"!==typeof Math.sinh)||(Math.sinh=function(T){return(Math.exp(T)-Math.exp(-T))/2});a.def(n,"$sinh",wa=function(T){return t(D,"Math").$checked("sinh",t(D,"Math")["$float!"](T))},wa.$$arity=1);a.def(n,"$sqrt",Aa=function(T){return t(D,"Math").$checked("sqrt",t(D,"Math")["$float!"](T))},
Aa.$$arity=1);a.def(n,"$tan",La=function(T){T=t(D,"Math")["$float!"](T);return p(T["$infinite?"]())?H(t(D,"Float"),"NAN"):t(D,"Math").$checked("tan",t(D,"Math")["$float!"](T))},La.$$arity=1);p("undefined"!==typeof Math.tanh)||(Math.tanh=function(T){return Infinity==T?1:-Infinity==T?-1:(Math.exp(T)-Math.exp(-T))/(Math.exp(T)+Math.exp(-T))});a.def(n,"$tanh",na=function(T){return t(D,"Math").$checked("tanh",t(D,"Math")["$float!"](T))},na.$$arity=1)}(x[0],x)};
Opal.modules["corelib/complex"]=function(a){function x(c,k){return"number"===typeof c&&"number"===typeof k?c*k:c["$*"](k)}function H(c,k){return"number"===typeof c&&"number"===typeof k?c+k:c["$+"](k)}function t(c,k){return"number"===typeof c&&"number"===typeof k?c-k:c["$-"](k)}function w(c,k){return"number"===typeof c&&"number"===typeof k?c/k:c["$/"](k)}var z=a.top,p=[],n=a.nil,u=a.$$$,D=a.$$,e=a.klass,m=a.truthy,E=a.module;a.add_stubs("$require $=== $real? $raise $new $* $cos $sin $attr_reader $class $== $real $imag $Complex $-@ $+ $__coerced__ $- $nan? $/ $conj $abs2 $quo $polar $exp $log $> $!= $divmod $** $hypot $atan2 $lcm $denominator $finite? $infinite? $numerator $abs $arg $rationalize $to_f $to_i $to_r $inspect $positive? $zero? $Rational".split(" "));
z.$require("corelib/numeric");(function(c,$super,L){c=e(c,$super,"Complex");var d=[c].concat(L),l,N,y,S,ja,ea,ma,b,h,f,q,A,F,G,J,ca,va,Pa,wa,Aa,La,na,T,sa,xa,Ja,ka,M,K,Y,qa;c.$$prototype.real=c.$$prototype.imag=n;a.defs(c,"$rect",l=function(fa,ta){var Ea=n,Ha=n,Ra=n;null==ta&&(ta=0);m(m(Ea=m(Ha=m(Ra=D(d,"Numeric")["$==="](fa))?fa["$real?"]():Ra)?D(d,"Numeric")["$==="](ta):Ha)?ta["$real?"]():Ea)||this.$raise(D(d,"TypeError"),"not a real");return this.$new(fa,ta)},l.$$arity=-2);(function(fa,ta){[fa].concat(ta);
return a.alias(fa,"rectangular","rect")})(a.get_singleton_class(c),d);a.defs(c,"$polar",N=function(fa,ta){var Ea=n,Ha=n,Ra=n;null==ta&&(ta=0);m(m(Ea=m(Ha=m(Ra=D(d,"Numeric")["$==="](fa))?fa["$real?"]():Ra)?D(d,"Numeric")["$==="](ta):Ha)?ta["$real?"]():Ea)||this.$raise(D(d,"TypeError"),"not a real");return this.$new(x(fa,D(d,"Math").$cos(ta)),x(fa,D(d,"Math").$sin(ta)))},N.$$arity=-2);c.$attr_reader("real","imag");a.def(c,"$initialize",y=function(fa,ta){null==ta&&(ta=0);this.real=fa;return this.imag=
ta},y.$$arity=-2);a.def(c,"$coerce",S=function(fa){var ta=n;return m(D(d,"Complex")["$==="](fa))?[fa,this]:m(m(ta=D(d,"Numeric")["$==="](fa))?fa["$real?"]():ta)?[D(d,"Complex").$new(fa,0),this]:this.$raise(D(d,"TypeError"),""+fa.$class()+" can't be coerced into Complex")},S.$$arity=1);a.def(c,"$==",ja=function(fa){var ta=n,Ea=n,Ha=n;return m(D(d,"Complex")["$==="](fa))?m(ta=this.real["$=="](fa.$real()))?this.imag["$=="](fa.$imag()):ta:m(m(Ea=D(d,"Numeric")["$==="](fa))?fa["$real?"]():Ea)?m(Ha=this.real["$=="](fa))?
this.imag["$=="](0):Ha:fa["$=="](this)},ja.$$arity=1);a.def(c,"$-@",ea=function(){return this.$Complex(this.real["$-@"](),this.imag["$-@"]())},ea.$$arity=0);a.def(c,"$+",ma=function(fa){var ta=n;return m(D(d,"Complex")["$==="](fa))?this.$Complex(H(this.real,fa.$real()),H(this.imag,fa.$imag())):m(m(ta=D(d,"Numeric")["$==="](fa))?fa["$real?"]():ta)?this.$Complex(H(this.real,fa),this.imag):this.$__coerced__("+",fa)},ma.$$arity=1);a.def(c,"$-",b=function(fa){var ta=n;return m(D(d,"Complex")["$==="](fa))?
this.$Complex(t(this.real,fa.$real()),t(this.imag,fa.$imag())):m(m(ta=D(d,"Numeric")["$==="](fa))?fa["$real?"]():ta)?this.$Complex(t(this.real,fa),this.imag):this.$__coerced__("-",fa)},b.$$arity=1);a.def(c,"$*",h=function(fa){var ta=n;return m(D(d,"Complex")["$==="](fa))?this.$Complex(t(x(this.real,fa.$real()),x(this.imag,fa.$imag())),H(x(this.real,fa.$imag()),x(this.imag,fa.$real()))):m(m(ta=D(d,"Numeric")["$==="](fa))?fa["$real?"]():ta)?this.$Complex(x(this.real,fa),x(this.imag,fa)):this.$__coerced__("*",
fa)},h.$$arity=1);a.def(c,"$/",f=function(fa){var ta=n,Ea=n,Ha=n,Ra=n,Sa=n,Ma=n,gb=n,kb=n;return m(D(d,"Complex")["$==="](fa))?m(m(ta=m(Ea=m(Ha=m(Ra=D(d,"Number")["$==="](this.real))?this.real["$nan?"]():Ra)?Ha:m(Sa=D(d,"Number")["$==="](this.imag))?this.imag["$nan?"]():Sa)?Ea:m(Ma=D(d,"Number")["$==="](fa.$real()))?fa.$real()["$nan?"]():Ma)?ta:m(gb=D(d,"Number")["$==="](fa.$imag()))?fa.$imag()["$nan?"]():gb)?D(d,"Complex").$new(u(D(d,"Float"),"NAN"),u(D(d,"Float"),"NAN")):w(x(this,fa.$conj()),fa.$abs2()):
m(m(kb=D(d,"Numeric")["$==="](fa))?fa["$real?"]():kb)?this.$Complex(this.real.$quo(fa),this.imag.$quo(fa)):this.$__coerced__("/",fa)},f.$$arity=1);a.def(c,"$**",q=function(fa){var ta=n;if(fa["$=="](0))return D(d,"Complex").$new(1,0);if(m(D(d,"Complex")["$==="](fa))){ta=this.$polar();var Ea=a.to_ary(ta);var Ha=null==Ea[0]?n:Ea[0];Ea=null==Ea[1]?n:Ea[1];ta;ta=fa.$real();var Ra=fa.$imag();fa=D(d,"Math").$exp(t(x(ta,D(d,"Math").$log(Ha)),x(Ra,Ea)));ta=H(x(Ea,ta),x(Ra,D(d,"Math").$log(Ha)));return D(d,
"Complex").$polar(fa,ta)}if(m(D(d,"Integer")["$==="](fa))){if(m("number"===typeof fa?0<fa:fa["$>"](0))){Ea=Ha=this;for(Ra=t(fa,1);m(Ra["$!="](0));){fa=Ra.$divmod(2);ta=a.to_ary(fa);var Sa=null==ta[0]?n:ta[0];var Ma=null==ta[1]?n:ta[1];for(fa;Ma["$=="](0);)Ha=this.$Complex(t(x(Ha.$real(),Ha.$real()),x(Ha.$imag(),Ha.$imag())),x(x(2,Ha.$real()),Ha.$imag())),Ra=Sa,ta=Ra.$divmod(2),fa=a.to_ary(ta),Sa=null==fa[0]?n:fa[0],Ma=null==fa[1]?n:fa[1],ta;Ea=x(Ea,Ha);Ra=t(Ra,1)}return Ea}return w(D(d,"Rational").$new(1,
1),this)["$**"](fa["$-@"]())}return m(m(ta=D(d,"Float")["$==="](fa))?ta:D(d,"Rational")["$==="](fa))?(ta=this.$polar(),Ea=a.to_ary(ta),Ha=null==Ea[0]?n:Ea[0],Ea=null==Ea[1]?n:Ea[1],ta,D(d,"Complex").$polar(Ha["$**"](fa),x(Ea,fa))):this.$__coerced__("**",fa)},q.$$arity=1);a.def(c,"$abs",A=function(){return D(d,"Math").$hypot(this.real,this.imag)},A.$$arity=0);a.def(c,"$abs2",F=function(){return H(x(this.real,this.real),x(this.imag,this.imag))},F.$$arity=0);a.def(c,"$angle",G=function(){return D(d,
"Math").$atan2(this.imag,this.real)},G.$$arity=0);a.alias(c,"arg","angle");a.def(c,"$conj",J=function(){return this.$Complex(this.real,this.imag["$-@"]())},J.$$arity=0);a.alias(c,"conjugate","conj");a.def(c,"$denominator",ca=function(){return this.real.$denominator().$lcm(this.imag.$denominator())},ca.$$arity=0);a.alias(c,"divide","/");a.def(c,"$eql?",va=function(fa){var ta=n,Ea=n;return m(ta=m(Ea=D(d,"Complex")["$==="](fa))?this.real.$class()["$=="](this.imag.$class()):Ea)?this["$=="](fa):ta},va.$$arity=
1);a.def(c,"$fdiv",Pa=function(fa){m(D(d,"Numeric")["$==="](fa))||this.$raise(D(d,"TypeError"),""+fa.$class()+" can't be coerced into Complex");return w(this,fa)},Pa.$$arity=1);a.def(c,"$finite?",wa=function(){var fa;return m(fa=this.real["$finite?"]())?this.imag["$finite?"]():fa},wa.$$arity=0);a.def(c,"$hash",Aa=function(){return"Complex:"+this.real+":"+this.imag},Aa.$$arity=0);a.alias(c,"imaginary","imag");a.def(c,"$infinite?",La=function(){var fa;return m(fa=this.real["$infinite?"]())?fa:this.imag["$infinite?"]()},
La.$$arity=0);a.def(c,"$inspect",na=function(){return"("+this+")"},na.$$arity=0);a.alias(c,"magnitude","abs");a.udef(c,"$negative?");a.def(c,"$numerator",T=function(){var fa=this.$denominator();return this.$Complex(x(this.real.$numerator(),w(fa,this.real.$denominator())),x(this.imag.$numerator(),w(fa,this.imag.$denominator())))},T.$$arity=0);a.alias(c,"phase","arg");a.def(c,"$polar",sa=function(){return[this.$abs(),this.$arg()]},sa.$$arity=0);a.udef(c,"$positive?");a.alias(c,"quo","/");a.def(c,"$rationalize",
xa=function(fa){1<arguments.length&&this.$raise(D(d,"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)");m(this.imag["$!="](0))&&this.$raise(D(d,"RangeError"),"can't' convert "+this+" into Rational");return this.$real().$rationalize(fa)},xa.$$arity=-1);a.def(c,"$real?",Ja=function(){return!1},Ja.$$arity=0);a.def(c,"$rect",ka=function(){return[this.real,this.imag]},ka.$$arity=0);a.alias(c,"rectangular","rect");a.def(c,"$to_f",M=function(){this.imag["$=="](0)||this.$raise(D(d,
"RangeError"),"can't convert "+this+" into Float");return this.real.$to_f()},M.$$arity=0);a.def(c,"$to_i",K=function(){this.imag["$=="](0)||this.$raise(D(d,"RangeError"),"can't convert "+this+" into Integer");return this.real.$to_i()},K.$$arity=0);a.def(c,"$to_r",Y=function(){this.imag["$=="](0)||this.$raise(D(d,"RangeError"),"can't convert "+this+" into Rational");return this.real.$to_r()},Y.$$arity=0);a.def(c,"$to_s",qa=function(){var fa=n,ta=n,Ea=n,Ha=n,Ra=n;var Sa=this.real.$inspect();Sa=H(Sa,
m(m(fa=m(ta=m(Ea=D(d,"Number")["$==="](this.imag))?this.imag["$nan?"]():Ea)?ta:this.imag["$positive?"]())?fa:this.imag["$zero?"]())?"+":"-");Sa=H(Sa,this.imag.$abs().$inspect());m(m(Ha=D(d,"Number")["$==="](this.imag))?m(Ra=this.imag["$nan?"]())?Ra:this.imag["$infinite?"]():Ha)&&(Sa=H(Sa,"*"));return H(Sa,"i")},qa.$$arity=0);return a.const_set(d[0],"I",c.$new(0,1))})(p[0],D(p,"Numeric"),p);(function(c,k){c=E(c,"Kernel");var L=[c].concat(k),d;a.def(c,"$Complex",d=function(l,N){null==N&&(N=n);return m(N)?
D(L,"Complex").$new(l,N):D(L,"Complex").$new(l,0)},d.$$arity=-2)})(p[0],p);return function(c,$super,L){c=e(c,$super,"String");[c].concat(L);var d;return(a.def(c,"$to_c",d=function(){function l(){var b=S.match(ja)[0];S=S.slice(b.length);return b.replace(/_/g,"")}function N(){if(ja.test(S)){var b=parseFloat(l());if("/"===S[0]){S=S.slice(1);if(ja.test(S)){var h=parseFloat(l());return y.$Rational(b,h)}S="/"+S}return b}return null}var y=this,S=y,ja=/[+-]?[\d_]+(\.[\d_]+)?(e\d+)?/;S.match(ja);var ea;var ma=
N();return ma?(ea=N())?y.$Complex(ma,ea):"i"===S[0]?y.$Complex(0,ma):y.$Complex(ma,0):"i"===S[0]?y.$Complex(0,1):"-"===S[0]&&"i"===S[1]?y.$Complex(0,-1):"+"===S[0]&&"i"===S[1]?y.$Complex(0,1):y.$Complex(0,0)},d.$$arity=0),n)&&"to_c"}(p[0],null,p)};
Opal.modules["corelib/rational"]=function(a){function x(k,L){return"number"===typeof k&&"number"===typeof L?k<L:k["$<"](L)}function H(k,L){return"number"===typeof k&&"number"===typeof L?k/L:k["$/"](L)}function t(k,L){return"number"===typeof k&&"number"===typeof L?k-L:k["$-"](L)}function w(k,L){return"number"===typeof k&&"number"===typeof L?k*L:k["$*"](L)}function z(k,L){return"number"===typeof k&&"number"===typeof L?k+L:k["$+"](L)}var p=a.top,n=[],u=a.nil,D=a.$$$,e=a.$$,m=a.klass,E=a.truthy,c=a.module;
a.add_stubs("$require $to_i $== $raise $< $-@ $new $gcd $/ $nil? $=== $reduce $to_r $equal? $! $coerce_to! $to_f $numerator $denominator $<=> $- $* $__coerced__ $+ $Rational $> $** $abs $ceil $with_precision $floor $<= $truncate $send $convert".split(" "));p.$require("corelib/numeric");(function(k,$super,d){k=m(k,$super,"Rational");var l=[k].concat(d),N,y,S,ja,ea,ma,b,h,f,q,A,F,G,J,ca,va,Pa,wa,Aa,La,na,T,sa,xa,Ja,ka;k.$$prototype.num=k.$$prototype.den=u;a.defs(k,"$reduce",N=function(M,K){M=M.$to_i();
K=K.$to_i();if(K["$=="](0))this.$raise(e(l,"ZeroDivisionError"),"divided by 0");else if(E(x(K,0)))M=M["$-@"](),K=K["$-@"]();else if(K["$=="](1))return this.$new(M,K);var Y=M.$gcd(K);return this.$new(H(M,Y),H(K,Y))},N.$$arity=2);a.defs(k,"$convert",y=function(M,K){var Y=u,qa=u,fa=u,ta=u,Ea=u,Ha=u,Ra=u,Sa=u;E(E(Y=M["$nil?"]())?Y:K["$nil?"]())&&this.$raise(e(l,"TypeError"),"cannot convert nil into Rational");if(E(E(qa=e(l,"Integer")["$==="](M))?e(l,"Integer")["$==="](K):qa))return this.$reduce(M,K);
E(E(fa=E(ta=e(l,"Float")["$==="](M))?ta:e(l,"String")["$==="](M))?fa:e(l,"Complex")["$==="](M))&&(M=M.$to_r());E(E(Ea=E(Ha=e(l,"Float")["$==="](K))?Ha:e(l,"String")["$==="](K))?Ea:e(l,"Complex")["$==="](K))&&(K=K.$to_r());return E(E(Ra=K["$equal?"](1))?e(l,"Integer")["$==="](M)["$!"]():Ra)?e(l,"Opal")["$coerce_to!"](M,e(l,"Rational"),"to_r"):E(E(Sa=e(l,"Numeric")["$==="](M))?e(l,"Numeric")["$==="](K):Sa)?H(M,K):this.$reduce(M,K)},y.$$arity=2);a.def(k,"$initialize",S=function(M,K){this.num=M;return this.den=
K},S.$$arity=2);a.def(k,"$numerator",ja=function(){return this.num},ja.$$arity=0);a.def(k,"$denominator",ea=function(){return this.den},ea.$$arity=0);a.def(k,"$coerce",ma=function(M){return e(l,"Rational")["$==="](M)?[M,this]:e(l,"Integer")["$==="](M)?[M.$to_r(),this]:e(l,"Float")["$==="](M)?[M,this.$to_f()]:u},ma.$$arity=1);a.def(k,"$==",b=function(M){var K=u,Y=u;return e(l,"Rational")["$==="](M)?E(K=this.num["$=="](M.$numerator()))?this.den["$=="](M.$denominator()):K:e(l,"Integer")["$==="](M)?E(Y=
this.num["$=="](M))?this.den["$=="](1):Y:e(l,"Float")["$==="](M)?this.$to_f()["$=="](M):M["$=="](this)},b.$$arity=1);a.def(k,"$<=>",h=function(M){return e(l,"Rational")["$==="](M)?t(w(this.num,M.$denominator()),w(this.den,M.$numerator()))["$<=>"](0):e(l,"Integer")["$==="](M)?t(this.num,w(this.den,M))["$<=>"](0):e(l,"Float")["$==="](M)?this.$to_f()["$<=>"](M):this.$__coerced__("<=>",M)},h.$$arity=1);a.def(k,"$+",f=function(M){if(e(l,"Rational")["$==="](M)){var K=z(w(this.num,M.$denominator()),w(this.den,
M.$numerator()));M=w(this.den,M.$denominator());K=this.$Rational(K,M)}else K=e(l,"Integer")["$==="](M)?this.$Rational(z(this.num,w(M,this.den)),this.den):e(l,"Float")["$==="](M)?z(this.$to_f(),M):this.$__coerced__("+",M);return K},f.$$arity=1);a.def(k,"$-",q=function(M){if(e(l,"Rational")["$==="](M)){var K=t(w(this.num,M.$denominator()),w(this.den,M.$numerator()));M=w(this.den,M.$denominator());K=this.$Rational(K,M)}else K=e(l,"Integer")["$==="](M)?this.$Rational(t(this.num,w(M,this.den)),this.den):
e(l,"Float")["$==="](M)?t(this.$to_f(),M):this.$__coerced__("-",M);return K},q.$$arity=1);a.def(k,"$*",A=function(M){if(e(l,"Rational")["$==="](M)){var K=w(this.num,M.$numerator());M=w(this.den,M.$denominator());K=this.$Rational(K,M)}else K=e(l,"Integer")["$==="](M)?this.$Rational(w(this.num,M),this.den):e(l,"Float")["$==="](M)?w(this.$to_f(),M):this.$__coerced__("*",M);return K},A.$$arity=1);a.def(k,"$/",F=function(M){if(e(l,"Rational")["$==="](M)){var K=w(this.num,M.$denominator());M=w(this.den,
M.$numerator());K=this.$Rational(K,M)}else K=e(l,"Integer")["$==="](M)?M["$=="](0)?H(this.$to_f(),0):this.$Rational(this.num,w(this.den,M)):e(l,"Float")["$==="](M)?H(this.$to_f(),M):this.$__coerced__("/",M);return K},F.$$arity=1);a.def(k,"$**",G=function(M){var K=u,Y=u;return e(l,"Integer")["$==="](M)?E(E(K=this["$=="](0))?x(M,0):K)?D(e(l,"Float"),"INFINITY"):E("number"===typeof M?0<M:M["$>"](0))?this.$Rational(this.num["$**"](M),this.den["$**"](M)):E(x(M,0))?this.$Rational(this.den["$**"](M["$-@"]()),
this.num["$**"](M["$-@"]())):this.$Rational(1,1):e(l,"Float")["$==="](M)?this.$to_f()["$**"](M):e(l,"Rational")["$==="](M)?M["$=="](0)?this.$Rational(1,1):M.$denominator()["$=="](1)?E(x(M,0))?this.$Rational(this.den["$**"](M.$numerator().$abs()),this.num["$**"](M.$numerator().$abs())):this.$Rational(this.num["$**"](M.$numerator()),this.den["$**"](M.$numerator())):E(E(Y=this["$=="](0))?x(M,0):Y)?this.$raise(e(l,"ZeroDivisionError"),"divided by 0"):this.$to_f()["$**"](M):this.$__coerced__("**",M)},
G.$$arity=1);a.def(k,"$abs",J=function(){return this.$Rational(this.num.$abs(),this.den.$abs())},J.$$arity=0);a.def(k,"$ceil",ca=function(M){null==M&&(M=0);return M["$=="](0)?H(this.num["$-@"](),this.den)["$-@"]().$ceil():this.$with_precision("ceil",M)},ca.$$arity=-1);a.alias(k,"divide","/");a.def(k,"$floor",va=function(M){null==M&&(M=0);return M["$=="](0)?H(this.num["$-@"](),this.den)["$-@"]().$floor():this.$with_precision("floor",M)},va.$$arity=-1);a.def(k,"$hash",Pa=function(){return"Rational:"+
this.num+":"+this.den},Pa.$$arity=0);a.def(k,"$inspect",wa=function(){return"("+this+")"},wa.$$arity=0);a.alias(k,"quo","/");a.def(k,"$rationalize",Aa=function(M){1<arguments.length&&this.$raise(e(l,"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)");if(null==M)return this;var K=M.$abs(),Y=t(this,K);K=z(this,K);for(var qa=0,fa=1,ta=1,Ea=0,Ha,Ra,Sa;;){Ha=Y.$ceil();if("number"===typeof Ha&&"number"===typeof K?Ha<=K:Ha["$<="](K))break;Sa=Ha-1;Ha=Sa*fa+qa;Ra=Sa*Ea+ta;qa=H(1,
t(K,Sa));K=H(1,t(Y,Sa));Y=qa;qa=fa;ta=Ea;fa=Ha;Ea=Ra}return this.$Rational(Ha*fa+qa,Ha*Ea+ta)},Aa.$$arity=-1);a.def(k,"$round",La=function(M){null==M&&(M=0);if(!M["$=="](0))return this.$with_precision("round",M);if(this.num["$=="](0))return 0;if(this.den["$=="](1))return this.num;M=z(w(this.num.$abs(),2),this.den);var K=w(this.den,2);M=H(M,K).$truncate();return E(x(this.num,0))?M["$-@"]():M},La.$$arity=-1);a.def(k,"$to_f",na=function(){return H(this.num,this.den)},na.$$arity=0);a.def(k,"$to_i",T=
function(){return this.$truncate()},T.$$arity=0);a.def(k,"$to_r",sa=function(){return this},sa.$$arity=0);a.def(k,"$to_s",xa=function(){return""+this.num+"/"+this.den},xa.$$arity=0);a.def(k,"$truncate",Ja=function(M){null==M&&(M=0);return M["$=="](0)?E(x(this.num,0))?this.$ceil():this.$floor():this.$with_precision("truncate",M)},Ja.$$arity=-1);return(a.def(k,"$with_precision",ka=function(M,K){E(e(l,"Integer")["$==="](K))||this.$raise(e(l,"TypeError"),"not an Integer");var Y=10["$**"](K);var qa=w(this,
Y);return E(x(K,1))?H(qa.$send(M),Y).$to_i():this.$Rational(qa.$send(M),Y)},ka.$$arity=2),u)&&"with_precision"})(n[0],e(n,"Numeric"),n);(function(k,L){k=c(k,"Kernel");var d=[k].concat(L),l;a.def(k,"$Rational",l=function(N,y){null==y&&(y=1);return e(d,"Rational").$convert(N,y)},l.$$arity=-2)})(n[0],n);return function(k,$super,d){k=m(k,$super,"String");[k].concat(d);var l;return(a.def(k,"$to_r",l=function(){function N(){var ma=y.match(S)[0];y=y.slice(ma.length);return ma.replace(/_/g,"")}var y=this.trimLeft(),
S=/^[+-]?[\d_]+(\.[\d_]+)?/;y.match(S);if(S.test(y)){var ja=parseFloat(N());if("/"===y[0]&&(y=y.slice(1),S.test(y))){var ea=parseFloat(N());return this.$Rational(ja,ea)}return this.$Rational(ja,1)}return this.$Rational(0,1)},l.$$arity=0),u)&&"to_r"}(n[0],null,n)};
Opal.modules["corelib/time"]=function(a){function x(c,k){return"number"===typeof c&&"number"===typeof k?c+k:c["$+"](k)}function H(c,k){return"number"===typeof c&&"number"===typeof k?c/k:c["$/"](k)}function t(c,k){return"number"===typeof c&&"number"===typeof k?c-k:c["$-"](k)}function w(c,k){return"number"===typeof c&&"number"===typeof k?c<=k:c["$<="](k)}var z=a.top,p=[],n=a.nil,u=a.$$,D=a.slice,e=a.klass,m=a.truthy,E=a.range;a.add_stubs("$require $include $=== $raise $coerce_to! $respond_to? $to_str $to_i $new $<=> $to_f $nil? $> $< $strftime $year $month $day $+ $round $/ $- $copy_instance_variables $initialize_dup $is_a? $zero? $wday $utc? $mon $yday $hour $min $sec $rjust $ljust $zone $to_s $[] $cweek_cyear $isdst $<= $!= $== $ceil".split(" "));
z.$require("corelib/comparable");return function(c,$super,L){function d(za,ua,Na,Ta,Za,Fa){za=za.$$is_string?parseInt(za,10):u(N,"Opal")["$coerce_to!"](za,u(N,"Integer"),"to_int");if(ua===n)ua=1;else if(!ua.$$is_number)if(ua["$respond_to?"]("to_str"))switch(ua=ua.$to_str(),ua.toLowerCase()){case "jan":ua=1;break;case "feb":ua=2;break;case "mar":ua=3;break;case "apr":ua=4;break;case "may":ua=5;break;case "jun":ua=6;break;case "jul":ua=7;break;case "aug":ua=8;break;case "sep":ua=9;break;case "oct":ua=
10;break;case "nov":ua=11;break;case "dec":ua=12;break;default:ua=ua.$to_i()}else ua=u(N,"Opal")["$coerce_to!"](ua,u(N,"Integer"),"to_int");(1>ua||12<ua)&&l.$raise(u(N,"ArgumentError"),"month out of range: "+ua);--ua;Na=Na===n?1:Na.$$is_string?parseInt(Na,10):u(N,"Opal")["$coerce_to!"](Na,u(N,"Integer"),"to_int");(1>Na||31<Na)&&l.$raise(u(N,"ArgumentError"),"day out of range: "+Na);Ta=Ta===n?0:Ta.$$is_string?parseInt(Ta,10):u(N,"Opal")["$coerce_to!"](Ta,u(N,"Integer"),"to_int");(0>Ta||24<Ta)&&l.$raise(u(N,
"ArgumentError"),"hour out of range: "+Ta);Za=Za===n?0:Za.$$is_string?parseInt(Za,10):u(N,"Opal")["$coerce_to!"](Za,u(N,"Integer"),"to_int");(0>Za||59<Za)&&l.$raise(u(N,"ArgumentError"),"min out of range: "+Za);Fa===n?Fa=0:Fa.$$is_number||(Fa=Fa.$$is_string?parseInt(Fa,10):u(N,"Opal")["$coerce_to!"](Fa,u(N,"Integer"),"to_int"));(0>Fa||60<Fa)&&l.$raise(u(N,"ArgumentError"),"sec out of range: "+Fa);return[za,ua,Na,Ta,Za,Fa]}var l=e(c,$super,"Time"),N=[l].concat(L),y,S,ja,ea,ma,b,h,f,q,A,F,G,J,ca,va,
Pa,wa,Aa,La,na,T,sa,xa,Ja,ka,M,K,Y,qa,fa,ta,Ea,Ha,Ra,Sa,Ma,gb,kb,W,ya,Ba,Va;l.$include(u(N,"Comparable"));var bb="Sunday Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "),db="Sun Mon Tue Wed Thu Fri Sat".split(" "),Ca="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),Wa="January February March April May June July August September October November December".split(" ");a.defs(l,"$at",y=function(za,ua){if(u(N,"Time")["$==="](za))return void 0!==ua&&this.$raise(u(N,"TypeError"),
"can't convert Time into an exact number"),ua=new Date(za.getTime()),ua.is_utc=za.is_utc,ua;za.$$is_number||(za=u(N,"Opal")["$coerce_to!"](za,u(N,"Integer"),"to_int"));if(void 0===ua)return new Date(1E3*za);ua.$$is_number||(ua=u(N,"Opal")["$coerce_to!"](ua,u(N,"Integer"),"to_int"));return new Date(1E3*za+ua/1E3)},y.$$arity=-2);a.defs(l,"$new",S=function(za,ua,Na,Ta,Za,Fa,Z){null==ua&&(ua=n);null==Na&&(Na=n);null==Ta&&(Ta=n);null==Za&&(Za=n);null==Fa&&(Fa=n);null==Z&&(Z=n);if(void 0===za)return new Date;
Z!==n&&this.$raise(u(N,"ArgumentError"),"Opal does not support explicitly specifying UTC offset for Time");Fa=d(za,ua,Na,Ta,Za,Fa);za=Fa[0];ua=Fa[1];Na=Fa[2];Ta=Fa[3];Za=Fa[4];Fa=Fa[5];ua=new Date(za,ua,Na,Ta,Za,0,1E3*Fa);100>za&&ua.setFullYear(za);return ua},S.$$arity=-1);a.defs(l,"$local",ja=function(za,ua,Na,Ta,Za,Fa,Z,R,aa,U){null==ua&&(ua=n);null==Na&&(Na=n);null==Ta&&(Ta=n);null==Za&&(Za=n);null==Fa&&(Fa=n);null==Z&&(Z=n);null==R&&(R=n);null==aa&&(aa=n);null==U&&(U=n);if(10===arguments.length){var ha=
D.call(arguments);za=ha[5];ua=ha[4];Na=ha[3];Ta=ha[2];Za=ha[1];Fa=ha[0]}ha=d(za,ua,Na,Ta,Za,Fa);za=ha[0];ua=ha[1];Na=ha[2];Ta=ha[3];Za=ha[4];Fa=ha[5];ha=new Date(za,ua,Na,Ta,Za,0,1E3*Fa);100>za&&ha.setFullYear(za);return ha},ja.$$arity=-2);a.defs(l,"$gm",ea=function(za,ua,Na,Ta,Za,Fa,Z,R,aa,U){null==ua&&(ua=n);null==Na&&(Na=n);null==Ta&&(Ta=n);null==Za&&(Za=n);null==Fa&&(Fa=n);null==Z&&(Z=n);null==R&&(R=n);null==aa&&(aa=n);null==U&&(U=n);if(10===arguments.length){var ha=D.call(arguments);za=ha[5];
ua=ha[4];Na=ha[3];Ta=ha[2];Za=ha[1];Fa=ha[0]}ha=d(za,ua,Na,Ta,Za,Fa);za=ha[0];ua=ha[1];Na=ha[2];Ta=ha[3];Za=ha[4];Fa=ha[5];ha=new Date(Date.UTC(za,ua,Na,Ta,Za,0,1E3*Fa));100>za&&ha.setUTCFullYear(za);ha.is_utc=!0;return ha},ea.$$arity=-2);(function(za,ua){[za].concat(ua);a.alias(za,"mktime","local");return a.alias(za,"utc","gm")})(a.get_singleton_class(l),N);a.defs(l,"$now",ma=function(){return this.$new()},ma.$$arity=0);a.def(l,"$+",b=function(za){m(u(N,"Time")["$==="](za))&&this.$raise(u(N,"TypeError"),
"time + time?");za.$$is_number||(za=u(N,"Opal")["$coerce_to!"](za,u(N,"Integer"),"to_int"));za=new Date(this.getTime()+1E3*za);za.is_utc=this.is_utc;return za},b.$$arity=1);a.def(l,"$-",h=function(za){if(m(u(N,"Time")["$==="](za)))return(this.getTime()-za.getTime())/1E3;za.$$is_number||(za=u(N,"Opal")["$coerce_to!"](za,u(N,"Integer"),"to_int"));za=new Date(this.getTime()-1E3*za);za.is_utc=this.is_utc;return za},h.$$arity=1);a.def(l,"$<=>",f=function(za){if(m(u(N,"Time")["$==="](za)))return this.$to_f()["$<=>"](za.$to_f());
za=za["$<=>"](this);return m(za["$nil?"]())?n:m("number"===typeof za?0<za:za["$>"](0))?-1:m("number"===typeof za?0>za:za["$<"](0))?1:0},f.$$arity=1);a.def(l,"$==",q=function(za){var ua;return m(ua=u(N,"Time")["$==="](za))?this.$to_f()===za.$to_f():ua},q.$$arity=1);a.def(l,"$asctime",A=function(){return this.$strftime("%a %b %e %H:%M:%S %Y")},A.$$arity=0);a.alias(l,"ctime","asctime");a.def(l,"$day",F=function(){return this.is_utc?this.getUTCDate():this.getDate()},F.$$arity=0);a.def(l,"$yday",G=function(){var za=
u(N,"Time").$new(this.$year()).$to_i();var ua=u(N,"Time").$new(this.$year(),this.$month(),this.$day()).$to_i();return x(H(t(ua,za),86400).$round(),1)},G.$$arity=0);a.def(l,"$isdst",J=function(){var za=new Date(this.getFullYear(),0,1),ua=new Date(this.getFullYear(),6,1);return this.getTimezoneOffset()<Math.max(za.getTimezoneOffset(),ua.getTimezoneOffset())},J.$$arity=0);a.alias(l,"dst?","isdst");a.def(l,"$dup",ca=function(){var za=new Date(this.getTime());za.$copy_instance_variables(this);za.$initialize_dup(this);
return za},ca.$$arity=0);a.def(l,"$eql?",va=function(za){var ua;return m(ua=za["$is_a?"](u(N,"Time")))?this["$<=>"](za)["$zero?"]():ua},va.$$arity=1);a.def(l,"$friday?",Pa=function(){return 5==this.$wday()},Pa.$$arity=0);a.def(l,"$hash",wa=function(){return"Time:"+this.getTime()},wa.$$arity=0);a.def(l,"$hour",Aa=function(){return this.is_utc?this.getUTCHours():this.getHours()},Aa.$$arity=0);a.def(l,"$inspect",La=function(){return m(this["$utc?"]())?this.$strftime("%Y-%m-%d %H:%M:%S UTC"):this.$strftime("%Y-%m-%d %H:%M:%S %z")},
La.$$arity=0);a.alias(l,"mday","day");a.def(l,"$min",na=function(){return this.is_utc?this.getUTCMinutes():this.getMinutes()},na.$$arity=0);a.def(l,"$mon",T=function(){return(this.is_utc?this.getUTCMonth():this.getMonth())+1},T.$$arity=0);a.def(l,"$monday?",sa=function(){return 1==this.$wday()},sa.$$arity=0);a.alias(l,"month","mon");a.def(l,"$saturday?",xa=function(){return 6==this.$wday()},xa.$$arity=0);a.def(l,"$sec",Ja=function(){return this.is_utc?this.getUTCSeconds():this.getSeconds()},Ja.$$arity=
0);a.def(l,"$succ",ka=function(){var za=new Date(this.getTime()+1E3);za.is_utc=this.is_utc;return za},ka.$$arity=0);a.def(l,"$usec",M=function(){return 1E3*this.getMilliseconds()},M.$$arity=0);a.def(l,"$zone",K=function(){var za=this.toString();var ua=-1==za.indexOf("(")?za.match(/[A-Z]{3,4}/)[0]:za.match(/\((.+)\)(?:\s|$)/)[1];return"GMT"==ua&&/(GMT\W*\d{4})/.test(za)?RegExp.$1:ua},K.$$arity=0);a.def(l,"$getgm",Y=function(){var za=new Date(this.getTime());za.is_utc=!0;return za},Y.$$arity=0);a.alias(l,
"getutc","getgm");a.def(l,"$gmtime",qa=function(){this.is_utc=!0;return this},qa.$$arity=0);a.alias(l,"utc","gmtime");a.def(l,"$gmt?",fa=function(){return!0===this.is_utc},fa.$$arity=0);a.def(l,"$gmt_offset",ta=function(){return this.is_utc?0:60*-this.getTimezoneOffset()},ta.$$arity=0);a.def(l,"$strftime",Ea=function(za){var ua=this;return za.replace(/%([\-_#^0]*:{0,2})(\d+)?([EO]*)(.)/g,function(Na,Ta,Za,Fa,Z){Fa="";var R=-1!==Ta.indexOf("0"),aa=-1===Ta.indexOf("-"),U=-1!==Ta.indexOf("_"),ha=-1!==
Ta.indexOf("^"),la=-1!==Ta.indexOf("#"),g=(Ta.match(":")||[]).length;Za=parseInt(Za,10);R&&U&&(Ta.indexOf("0")<Ta.indexOf("_")?R=!1:U=!1);switch(Z){case "Y":Fa+=ua.$year();break;case "C":R=!U;Fa+=Math.round(ua.$year()/100);break;case "y":R=!U;Fa+=ua.$year()%100;break;case "m":R=!U;Fa+=ua.$mon();break;case "B":Fa+=Wa[ua.$mon()-1];break;case "b":case "h":U=!R;Fa+=Ca[ua.$mon()-1];break;case "d":R=!U;Fa+=ua.$day();break;case "e":U=!R;Fa+=ua.$day();break;case "j":R=!U;Za=isNaN(Za)?3:Za;Fa+=ua.$yday();
break;case "H":R=!U;Fa+=ua.$hour();break;case "k":U=!R;Fa+=ua.$hour();break;case "I":R=!U;Fa+=ua.$hour()%12||12;break;case "l":U=!R;Fa+=ua.$hour()%12||12;break;case "P":Fa+=12<=ua.$hour()?"pm":"am";break;case "p":Fa+=12<=ua.$hour()?"PM":"AM";break;case "M":R=!U;Fa+=ua.$min();break;case "S":R=!U;Fa+=ua.$sec();break;case "L":R=!U;Za=isNaN(Za)?3:Za;Fa+=ua.getMilliseconds();break;case "N":Za=isNaN(Za)?9:Za;Fa+=ua.getMilliseconds().toString().$rjust(3,"0");Fa=Fa.$ljust(Za,"0");break;case "z":Na=ua.getTimezoneOffset();
Ta=Math.floor(Math.abs(Na)/60);Z=Math.abs(Na)%60;Fa=Fa+(0>Na?"+":"-")+(10>Ta?"0":"")+Ta;0<g&&(Fa+=":");Fa+=10>Z?"0":"";Fa+=Z;1<g&&(Fa+=":00");break;case "Z":Fa+=ua.$zone();break;case "A":Fa+=bb[ua.$wday()];break;case "a":Fa+=db[ua.$wday()];break;case "u":Fa+=ua.$wday()+1;break;case "w":Fa+=ua.$wday();break;case "V":Fa+=ua.$cweek_cyear()["$[]"](0).$to_s().$rjust(2,"0");break;case "G":Fa+=ua.$cweek_cyear()["$[]"](1);break;case "g":Fa+=ua.$cweek_cyear()["$[]"](1)["$[]"](E(-2,-1,!1));break;case "s":Fa+=
ua.$to_i();break;case "n":Fa+="\n";break;case "t":Fa+="\t";break;case "%":Fa+="%";break;case "c":Fa+=ua.$strftime("%a %b %e %T %Y");break;case "D":case "x":Fa+=ua.$strftime("%m/%d/%y");break;case "F":Fa+=ua.$strftime("%Y-%m-%d");break;case "v":Fa+=ua.$strftime("%e-%^b-%4Y");break;case "r":Fa+=ua.$strftime("%I:%M:%S %p");break;case "R":Fa+=ua.$strftime("%H:%M");break;case "T":case "X":Fa+=ua.$strftime("%H:%M:%S");break;default:return Na}ha&&(Fa=Fa.toUpperCase());la&&(Fa=Fa.replace(/[A-Z]/,function(C){C.toLowerCase()}).replace(/[a-z]/,
function(C){C.toUpperCase()}));aa&&(R||U)&&(Fa=Fa.$rjust(isNaN(Za)?2:Za,U?" ":"0"));return Fa})},Ea.$$arity=1);a.def(l,"$sunday?",Ha=function(){return 0==this.$wday()},Ha.$$arity=0);a.def(l,"$thursday?",Ra=function(){return 4==this.$wday()},Ra.$$arity=0);a.def(l,"$to_a",Sa=function(){return[this.$sec(),this.$min(),this.$hour(),this.$day(),this.$month(),this.$year(),this.$wday(),this.$yday(),this.$isdst(),this.$zone()]},Sa.$$arity=0);a.def(l,"$to_f",Ma=function(){return this.getTime()/1E3},Ma.$$arity=
0);a.def(l,"$to_i",gb=function(){return parseInt(this.getTime()/1E3,10)},gb.$$arity=0);a.alias(l,"to_s","inspect");a.def(l,"$tuesday?",kb=function(){return 2==this.$wday()},kb.$$arity=0);a.alias(l,"tv_sec","to_i");a.alias(l,"tv_usec","usec");a.alias(l,"utc?","gmt?");a.alias(l,"gmtoff","gmt_offset");a.alias(l,"utc_offset","gmt_offset");a.def(l,"$wday",W=function(){return this.is_utc?this.getUTCDay():this.getDay()},W.$$arity=0);a.def(l,"$wednesday?",ya=function(){return 3==this.$wday()},ya.$$arity=
0);a.def(l,"$year",Ba=function(){return this.is_utc?this.getUTCFullYear():this.getFullYear()},Ba.$$arity=0);return(a.def(l,"$cweek_cyear",Va=function(){var za=n,ua=n;var Na=u(N,"Time").$new(this.$year(),1,1).$wday();var Ta=this.$year();m(m(za=w(Na,4))?Na["$!="](0):za)?Na=t(Na,1):(Na=t(t(Na,7),1),Na["$=="](-8)&&(Na=-1));Na=H(x(this.$yday(),Na),7).$ceil();if(m(w(Na,0)))return u(N,"Time").$new(t(this.$year(),1),12,31).$cweek_cyear();Na["$=="](53)&&(za=u(N,"Time").$new(this.$year(),12,31),za=za.$wday(),
m(m(ua=w(za,3))?za["$!="](0):ua)&&(Na=1,Ta=x(Ta,1)));return[Na,Ta]},Va.$$arity=0),n)&&"cweek_cyear"}(p[0],Date,p)};
Opal.modules["corelib/struct"]=function(a){function x(k,L){return"number"===typeof k&&"number"===typeof L?k>L:k["$>"](L)}function H(k,L){return"number"===typeof k&&"number"===typeof L?k-L:k["$-"](L)}function t(k,L){return"number"===typeof k&&"number"===typeof L?k<L:k["$<"](L)}function w(k,L){return"number"===typeof k&&"number"===typeof L?k>=L:k["$>="](L)}function z(k,L){return"number"===typeof k&&"number"===typeof L?k+L:k["$+"](L)}var p=a.top,n=[],u=a.nil,D=a.$$,e=a.klass,m=a.hash2,E=a.truthy,c=a.send;
a.add_stubs("$require $include $const_name! $unshift $map $coerce_to! $new $each $define_struct_attribute $allocate $initialize $alias_method $module_eval $to_proc $const_set $== $raise $<< $members $define_method $instance_eval $class $last $> $length $- $keys $any? $join $[] $[]= $each_with_index $hash $=== $< $-@ $size $>= $include? $to_sym $instance_of? $__id__ $eql? $enum_for $name $+ $each_pair $inspect $to_h $args $each_with_object $flatten $to_a $respond_to? $dig".split(" "));p.$require("corelib/enumerable");
return function(k,$super,d){k=e(k,$super,"Struct");var l=[k].concat(d),N,y,S,ja,ea,ma,b,h,f,q,A,F,G,J,ca,va,Pa,wa,Aa,La;k.$include(D(l,"Enumerable"));a.defs(k,"$new",N=function(na,T,sa){var xa=N.$$p,Ja=xa||u,ka,M;var K=u;xa&&(N.$$p=null);xa&&(N.$$p=null);var Y=a.slice.call(arguments,1,arguments.length);K=a.extract_kwargs(Y);if(null==K)K=m([],{});else if(!K.$$is_hash)throw a.ArgumentError.$new("expected kwargs");xa=K.$$smap.keyword_init;null==xa&&(xa=!1);if(E(na))try{na=D(l,"Opal")["$const_name!"](na)}catch(qa){if(a.rescue(qa,
[D(l,"TypeError"),D(l,"NameError")]))try{Y.$unshift(na),na=u}finally{a.pop_exception()}else throw qa;}c(Y,"map",[],(ka=function(qa){null==qa&&(qa=u);return D(l,"Opal")["$coerce_to!"](qa,D(l,"String"),"to_str")},ka.$$s=this,ka.$$arity=1,ka));K=c(D(l,"Class"),"new",[this],(M=function(){var qa=null==M.$$s?this:M.$$s,fa;c(Y,"each",[],(fa=function(ta){var Ea=null==fa.$$s?this:fa.$$s;null==ta&&(ta=u);return Ea.$define_struct_attribute(ta)},fa.$$s=qa,fa.$$arity=1,fa));return function(ta,Ea){[ta].concat(Ea);
var Ha;a.def(ta,"$new",Ha=function(Ra){var Sa=a.slice.call(arguments,0,arguments.length);var Ma=this.$allocate();Ma.$$data={};c(Ma,"initialize",a.to_a(Sa));return Ma},Ha.$$arity=-1);return ta.$alias_method("[]","new")}(a.get_singleton_class(qa),l)},M.$$s=this,M.$$arity=0,M));E(Ja)&&c(K,"module_eval",[],Ja.$to_proc());K.$$keyword_init=xa;E(na)&&D(l,"Struct").$const_set(na,K);return K},N.$$arity=-2);a.defs(k,"$define_struct_attribute",y=function(na){var T,sa;this["$=="](D(l,"Struct"))&&this.$raise(D(l,
"ArgumentError"),"you cannot define attributes to the Struct class");this.$members()["$<<"](na);c(this,"define_method",[na],(T=function(){return(null==T.$$s?this:T.$$s).$$data[na]},T.$$s=this,T.$$arity=0,T));return c(this,"define_method",[""+na+"="],(sa=function(xa){var Ja=null==sa.$$s?this:sa.$$s;null==xa&&(xa=u);return Ja.$$data[na]=xa},sa.$$s=this,sa.$$arity=1,sa))},y.$$arity=1);a.defs(k,"$members",S=function(){var na=u;null==this.members&&(this.members=u);this["$=="](D(l,"Struct"))&&this.$raise(D(l,
"ArgumentError"),"the Struct class has no members");return this.members=E(na=this.members)?na:[]},S.$$arity=0);a.defs(k,"$inherited",ja=function(na){var T,sa=u;null==this.members&&(this.members=u);sa=this.members;return c(na,"instance_eval",[],(T=function(){return(null==T.$$s?this:T.$$s).members=sa},T.$$s=this,T.$$arity=0,T))},ja.$$arity=1);a.def(k,"$initialize",ea=function(na){var T,sa,xa=u,Ja=u,ka=u,M=u;var K=a.slice.call(arguments,0,arguments.length);if(E(this.$class().$$keyword_init))return xa=
E(Ja=K.$last())?Ja:m([],{}),E(E(ka=x(K.$length(),1))?ka:1===K.length&&!xa.$$is_hash)&&this.$raise(D(l,"ArgumentError"),"wrong number of arguments (given "+K.$length()+", expected 0)"),M=H(xa.$keys(),this.$class().$members()),E(M["$any?"]())&&this.$raise(D(l,"ArgumentError"),"unknown keywords: "+M.$join(", ")),c(this.$class().$members(),"each",[],(T=function(Y){var qa=null==T.$$s?this:T.$$s;null==Y&&(Y=u);Y=[Y,xa["$[]"](Y)];c(qa,"[]=",a.to_a(Y));return Y[H(Y.length,1)]},T.$$s=this,T.$$arity=1,T));
E(x(K.$length(),this.$class().$members().$length()))&&this.$raise(D(l,"ArgumentError"),"struct size differs");return c(this.$class().$members(),"each_with_index",[],(sa=function(Y,qa){var fa=null==sa.$$s?this:sa.$$s;null==Y&&(Y=u);null==qa&&(qa=u);Y=[Y,K["$[]"](qa)];c(fa,"[]=",a.to_a(Y));return Y[H(Y.length,1)]},sa.$$s=this,sa.$$arity=2,sa))},ea.$$arity=-1);a.def(k,"$initialize_copy",ma=function(na){this.$$data={};var T=Object.keys(na.$$data),sa;var xa=0;for(sa=T.length;xa<sa;xa++){var Ja=T[xa];this.$$data[Ja]=
na.$$data[Ja]}},ma.$$arity=1);a.def(k,"$members",b=function(){return this.$class().$members()},b.$$arity=0);a.def(k,"$hash",h=function(){return D(l,"Hash").$new(this.$$data).$hash()},h.$$arity=0);a.def(k,"$[]",f=function(na){E(D(l,"Integer")["$==="](na))?(E(t(na,this.$class().$members().$size()["$-@"]()))&&this.$raise(D(l,"IndexError"),"offset "+na+" too small for struct(size:"+this.$class().$members().$size()+")"),E(w(na,this.$class().$members().$size()))&&this.$raise(D(l,"IndexError"),"offset "+
na+" too large for struct(size:"+this.$class().$members().$size()+")"),na=this.$class().$members()["$[]"](na)):E(D(l,"String")["$==="](na))?this.$$data.hasOwnProperty(na)||this.$raise(D(l,"NameError").$new("no member '"+na+"' in struct",na)):this.$raise(D(l,"TypeError"),"no implicit conversion of "+na.$class()+" into Integer");na=D(l,"Opal")["$coerce_to!"](na,D(l,"String"),"to_str");return this.$$data[na]},f.$$arity=1);a.def(k,"$[]=",q=function(na,T){E(D(l,"Integer")["$==="](na))?(E(t(na,this.$class().$members().$size()["$-@"]()))&&
this.$raise(D(l,"IndexError"),"offset "+na+" too small for struct(size:"+this.$class().$members().$size()+")"),E(w(na,this.$class().$members().$size()))&&this.$raise(D(l,"IndexError"),"offset "+na+" too large for struct(size:"+this.$class().$members().$size()+")"),na=this.$class().$members()["$[]"](na)):E(D(l,"String")["$==="](na))?E(this.$class().$members()["$include?"](na.$to_sym()))||this.$raise(D(l,"NameError").$new("no member '"+na+"' in struct",na)):this.$raise(D(l,"TypeError"),"no implicit conversion of "+
na.$class()+" into Integer");na=D(l,"Opal")["$coerce_to!"](na,D(l,"String"),"to_str");return this.$$data[na]=T},q.$$arity=2);a.def(k,"$==",A=function(na){function T(Ja,ka){var M;sa[Ja.$__id__()]=!0;xa[ka.$__id__()]=!0;for(M in Ja.$$data){var K=Ja.$$data[M];var Y=ka.$$data[M];if(D(l,"Struct")["$==="](K)){if(!(sa.hasOwnProperty(K.$__id__())&&xa.hasOwnProperty(Y.$__id__())||T(K,Y)))return!1}else if(!K["$=="](Y))return!1}return!0}if(!E(na["$instance_of?"](this.$class())))return!1;var sa={},xa={};return T(this,
na)},A.$$arity=1);a.def(k,"$eql?",F=function(na){function T(Ja,ka){var M;sa[Ja.$__id__()]=!0;xa[ka.$__id__()]=!0;for(M in Ja.$$data){var K=Ja.$$data[M];var Y=ka.$$data[M];if(D(l,"Struct")["$==="](K)){if(!(sa.hasOwnProperty(K.$__id__())&&xa.hasOwnProperty(Y.$__id__())||T(K,Y)))return!1}else if(!K["$eql?"](Y))return!1}return!0}if(!E(na["$instance_of?"](this.$class())))return!1;var sa={},xa={};return T(this,na)},F.$$arity=1);a.def(k,"$each",G=function(){var na,T,sa=G.$$p,xa=sa||u;sa&&(G.$$p=null);if(xa===
u)return c(this,"enum_for",["each"],(na=function(){return(null==na.$$s?this:na.$$s).$size()},na.$$s=this,na.$$arity=0,na));c(this.$class().$members(),"each",[],(T=function(Ja){var ka=null==T.$$s?this:T.$$s;null==Ja&&(Ja=u);return a.yield1(xa,ka["$[]"](Ja))},T.$$s=this,T.$$arity=1,T));return this},G.$$arity=0);a.def(k,"$each_pair",J=function(){var na,T,sa=J.$$p,xa=sa||u;sa&&(J.$$p=null);if(xa===u)return c(this,"enum_for",["each_pair"],(na=function(){return(null==na.$$s?this:na.$$s).$size()},na.$$s=
this,na.$$arity=0,na));c(this.$class().$members(),"each",[],(T=function(Ja){var ka=null==T.$$s?this:T.$$s;null==Ja&&(Ja=u);return a.yield1(xa,[Ja,ka["$[]"](Ja)])},T.$$s=this,T.$$arity=1,T));return this},J.$$arity=0);a.def(k,"$length",ca=function(){return this.$class().$members().$length()},ca.$$arity=0);a.alias(k,"size","length");a.def(k,"$to_a",va=function(){var na;return c(this.$class().$members(),"map",[],(na=function(T){var sa=null==na.$$s?this:na.$$s;null==T&&(T=u);return sa["$[]"](T)},na.$$s=
this,na.$$arity=1,na))},va.$$arity=0);a.alias(k,"values","to_a");a.def(k,"$inspect",Pa=function(){var na,T=u,sa=u;T="#<struct ";E(E(sa=D(l,"Struct")["$==="](this))?this.$class().$name():sa)&&(T=z(T,""+this.$class()+" "));T=z(T,c(this.$each_pair(),"map",[],(na=function(xa,Ja){null==xa&&(xa=u);null==Ja&&(Ja=u);return""+xa+"="+Ja.$inspect()},na.$$s=this,na.$$arity=2,na)).$join(", "));return T=z(T,">")},Pa.$$arity=0);a.alias(k,"to_s","inspect");a.def(k,"$to_h",wa=function(){var na=wa.$$p,T=na||u,sa;na&&
(wa.$$p=null);na&&(wa.$$p=null);return T!==u?c(c(this,"map",[],T.$to_proc()),"to_h",a.to_a(this.$args())):c(this.$class().$members(),"each_with_object",[m([],{})],(sa=function(xa,Ja){var ka=null==sa.$$s?this:sa.$$s;null==xa&&(xa=u);null==Ja&&(Ja=u);xa=[xa,ka["$[]"](xa)];c(Ja,"[]=",a.to_a(xa));return xa[H(xa.length,1)]},sa.$$s=this,sa.$$arity=2,sa))},wa.$$arity=0);a.def(k,"$values_at",Aa=function(na){var T;var sa=a.slice.call(arguments,0,arguments.length);sa=c(sa,"map",[],(T=function(ka){null==ka&&
(ka=u);return ka.$$is_range?ka.$to_a():ka},T.$$s=this,T.$$arity=1,T)).$flatten();T=[];for(var xa=0,Ja=sa.length;xa<Ja;xa++)sa[xa].$$is_number||this.$raise(D(l,"TypeError"),"no implicit conversion of "+sa[xa].$class()+" into Integer"),T.push(this["$[]"](sa[xa]));return T},Aa.$$arity=-1);return(a.def(k,"$dig",La=function(na,T){var sa=a.slice.call(arguments,1,arguments.length);var xa=E(na.$$is_string&&this.$$data.hasOwnProperty(na))?this.$$data[na]||u:u;if(xa===u||0===sa.length)return xa;E(xa["$respond_to?"]("dig"))||
this.$raise(D(l,"TypeError"),""+xa.$class()+" does not have #dig method");return c(xa,"dig",a.to_a(sa))},La.$$arity=-2),u)&&"dig"}(n[0],null,n)};Opal.modules["corelib/main"]=function(a){var x,H,t=a.top,w=[],z=a.nil,p=a.$$;a.add_stubs(["$include"]);a.defs(t,"$to_s",x=function(){return"main"},x.$$arity=0);return(a.defs(t,"$include",H=function(n){return p(w,"Object").$include(n)},H.$$arity=1),z)&&"include"};
Opal.modules["corelib/dir"]=function(a){var x=[],H=a.nil,t=a.$$,w=a.klass,z=a.truthy;a.add_stubs(["$[]"]);return function(p,$super,u){p=w(p,$super,"Dir");u=[p].concat(u);return function(D,e){var m=[D].concat(e),E,c,k;a.def(D,"$chdir",E=function(L){var d=E.$$p,l=d||H,N=H;d&&(E.$$p=null);a:{try{N=a.current_dir;a.current_dir=L;var y=a.yieldX(l,[]);break a}finally{a.current_dir=N}y=void 0}return y},E.$$arity=1);a.def(D,"$pwd",c=function(){return a.current_dir||"."},c.$$arity=0);a.alias(D,"getwd","pwd");
return(a.def(D,"$home",k=function(){var L;return z(L=t(m,"ENV")["$[]"]("HOME"))?L:"."},k.$$arity=0),H)&&"home"}(a.get_singleton_class(p),u)}(x[0],null,x)};
Opal.modules["corelib/file"]=function(a){function x(D,e){return"number"===typeof D&&"number"===typeof e?D+e:D["$+"](e)}var H=[],t=a.nil,w=a.$$,z=a.truthy,p=a.klass,n=a.range,u=a.send;a.add_stubs("$respond_to? $to_path $pwd $split $sub $+ $unshift $join $home $raise $start_with? $absolute_path $coerce_to! $basename $empty? $rindex $[] $nil? $== $- $length $gsub $find $=~ $map $each_with_index $flatten $reject $to_proc $end_with?".split(" "));return function(D,$super,m){D=p(D,$super,"File");m=[D].concat(m);
var E=t;a.const_set(m[0],"Separator",a.const_set(m[0],"SEPARATOR","/"));a.const_set(m[0],"ALT_SEPARATOR",t);a.const_set(m[0],"PATH_SEPARATOR",":");a.const_set(m[0],"FNM_SYSCASE",0);E=/^[a-zA-Z]:(?:\\|\/)/;return function(c,k){function L(q){z(q["$respond_to?"]("to_path"))&&(q=q.$to_path());return q=w(l,"Opal")["$coerce_to!"](q,w(l,"String"),"to_str")}function d(){return w(l,"ALT_SEPARATOR")===t?a.escape_regexp(w(l,"SEPARATOR")):a.escape_regexp(x(w(l,"SEPARATOR"),w(l,"ALT_SEPARATOR")))}var l=[c].concat(k),
N,y,S,ja,ea,ma,b,h,f;a.def(c,"$absolute_path",N=function(q,A){var F=t;null==A&&(A=t);var G=w(l,"SEPARATOR");var J=d();var ca=[];q=z(q["$respond_to?"]("to_path"))?q.$to_path():q;A=z(F=A)?F:w(l,"Dir").$pwd();F=q.substr(0,G.length)===G||E.test(q);var va=A.substr(0,G.length)===G||E.test(A);z(F)?(F=q.$split(a.regexp(["[",J,"]"])),q=E.test(q)?"":q.$sub(a.regexp(["^([",J,"]+).*$"]),"\\1"),A=!0):(F=x(A.$split(a.regexp(["[",J,"]"])),q.$split(a.regexp(["[",J,"]"]))),q=E.test(A)?"":A.$sub(a.regexp(["^([",J,
"]+).*$"]),"\\1"),A=va);va=0;for(var Pa=F.length;va<Pa;va++)J=F[va],J===t||""===J&&(0===ca.length||A)||"."===J&&(0===ca.length||A)||(".."===J?ca.pop():ca.push(J));A||"."===F[0]||ca.$unshift(".");G=ca.$join(G);z(A)&&(G=x(q,G));return G},N.$$arity=-2);a.def(c,"$expand_path",y=function(q,A){null==A&&(A=t);var F=w(l,"SEPARATOR");var G=d();if(z("~"===q[0]||A&&"~"===A[0])){var J=w(l,"Dir").$home();z(J)||this.$raise(w(l,"ArgumentError"),"couldn't find HOME environment -- expanding `~'");G=E.test(J)?"":J.$sub(a.regexp(["^([",
G,"]+).*$"]),"\\1");z(J["$start_with?"](G))||this.$raise(w(l,"ArgumentError"),"non-absolute home");J=x(J,F);F=a.regexp(["^\\~(?:",F,"|$)"]);q=q.$sub(F,J);z(A)&&(A=A.$sub(F,J))}return this.$absolute_path(q,A)},y.$$arity=-2);a.alias(c,"realpath","expand_path");a.def(c,"$dirname",S=function(q){var A=d();q=L(q);var F=q.match(new RegExp("^["+A+"]"));q=q.replace(new RegExp("["+A+"]+$"),"");q=q.replace(new RegExp("[^"+A+"]+$"),"");q=q.replace(new RegExp("["+A+"]+$"),"");return""===q?F?"/":".":q},S.$$arity=
1);a.def(c,"$basename",ja=function(q,A){null==A&&(A=t);var F=d();q=L(q);if(0==q.length)return q;A=A!==t?w(l,"Opal")["$coerce_to!"](A,w(l,"String"),"to_str"):null;q=q.replace(new RegExp("(.)["+F+"]*$"),"$1");q=q.replace(new RegExp("^(?:.*["+F+"])?([^"+F+"]+)$"),"$1");".*"===A?q=q.replace(/\.[^\.]+$/,""):null!==A&&(A=a.escape_regexp(A),q=q.replace(new RegExp(""+A+"$"),""));return q},ja.$$arity=-2);a.def(c,"$extname",ea=function(q){var A;q=L(q);q=this.$basename(q);if(z(q["$empty?"]()))return"";var F=
q["$[]"](n(1,-1,!1)).$rindex(".");if(!z(A=F["$nil?"]())){A=x(F,1);var G=A["$=="];var J=q.$length();J="number"===typeof J?J-1:J["$-"](1);A=G.call(A,J)}return z(A)?"":q["$[]"](a.Range.$new(x(F,1),-1,!1))},ea.$$arity=1);a.def(c,"$exist?",ma=function(q){return null!=a.modules[q]},ma.$$arity=1);a.alias(c,"exists?","exist?");a.def(c,"$directory?",b=function(q){var A,F=t;F=t;F=[];for(var G in a.modules)F.push(G);q=q.$gsub(a.regexp(["(^.",w(l,"SEPARATOR"),"+|",w(l,"SEPARATOR"),"+$)"]));return F=u(F,"find",
[],(A=function(J){null==J&&(J=t);return J["$=~"](a.regexp(["^",q]))},A.$$s=this,A.$$arity=1,A))},b.$$arity=1);a.def(c,"$join",h=function(q){var A,F,G=t;var J=a.slice.call(arguments,0,arguments.length);if(z(J["$empty?"]()))return"";G="";J=u(J.$flatten().$each_with_index(),"map",[],(A=function(ca,va){var Pa=t,wa=t;null==ca&&(ca=t);null==va&&(va=t);return z(z(Pa=va["$=="](0))?ca["$empty?"]():Pa)?w(l,"SEPARATOR"):z(z(wa=J.$length()["$=="](x(va,1)))?ca["$empty?"]():wa)?w(l,"SEPARATOR"):ca},A.$$s=this,
A.$$arity=2,A));J=u(J,"reject",[],"empty?".$to_proc());u(J,"each_with_index",[],(F=function(ca,va){var Pa=t,wa=t;null==ca&&(ca=t);null==va&&(va=t);va=J["$[]"](x(va,1));if(z(va["$nil?"]()))return G=""+G+ca;z(z(Pa=ca["$end_with?"](w(l,"SEPARATOR")))?va["$start_with?"](w(l,"SEPARATOR")):Pa)&&(ca=ca.$sub(a.regexp([w(l,"SEPARATOR"),"+$"]),""));return G=z(z(wa=ca["$end_with?"](w(l,"SEPARATOR")))?wa:va["$start_with?"](w(l,"SEPARATOR")))?""+G+ca:""+G+ca+w(l,"SEPARATOR")},F.$$s=this,F.$$arity=2,F));return G},
h.$$arity=-1);return(a.def(c,"$split",f=function(q){return q.$split(w(l,"SEPARATOR"))},f.$$arity=1),t)&&"split"}(a.get_singleton_class(D),m)}(H[0],w(H,"IO"),H)};
Opal.modules["corelib/process"]=function(a){var x=[],H=a.nil,t=a.$$$,w=a.$$,z=a.klass,p=a.truthy;a.add_stubs("$const_set $size $<< $__register_clock__ $to_f $now $new $[] $raise".split(" "));(function(n,$super,D){n=z(n,$super,"Process");var e=[n].concat(D),m,E,c,k;D=H;n.__clocks__=[];a.defs(n,"$__register_clock__",m=function(d,l){null==this.__clocks__&&(this.__clocks__=H);this.$const_set(d,this.__clocks__.$size());return this.__clocks__["$<<"](l)},m.$$arity=2);n.$__register_clock__("CLOCK_REALTIME",
function(){return Date.now()});D=!1;if(a.global.performance)D=function(){return performance.now()};else if(a.global.process&&process.hrtime){var L=process.hrtime();D=function(){var d=process.hrtime(L);return 1E3*d[0]+(d[1]/1E3|0)/1E3}}p(D)&&n.$__register_clock__("CLOCK_MONOTONIC",D);a.defs(n,"$pid",E=function(){return 0},E.$$arity=0);a.defs(n,"$times",c=function(){var d=w(e,"Time").$now().$to_f();return t(w(e,"Benchmark"),"Tms").$new(d,d,d,d,d)},c.$$arity=0);return(a.defs(n,"$clock_gettime",k=function(d,
l){var N,y;null==this.__clocks__&&(this.__clocks__=H);null==l&&(l="float_second");p(N=y=this.__clocks__["$[]"](d))?N:this.$raise(t(w(e,"Errno"),"EINVAL"),"clock_gettime("+d+") "+this.__clocks__["$[]"](d));d=y();switch(l){case "float_second":return d/1E3;case "float_millisecond":return d/1;case "float_microsecond":return 1E3*d;case "second":return d/1E3|0;case "millisecond":return d/1|0;case "microsecond":return 1E3*d|0;case "nanosecond":return 1E6*d|0;default:this.$raise(w(e,"ArgumentError"),"unexpected unit: "+
l)}},k.$$arity=-2),H)&&"clock_gettime"})(x[0],null,x);(function(n,$super,D){n=z(n,$super,"Signal");[n].concat(D);var e;return(a.defs(n,"$trap",e=function(m){a.slice.call(arguments,0,arguments.length);return H},e.$$arity=-1),H)&&"trap"})(x[0],null,x);return function(n,$super,D){n=z(n,$super,"GC");[n].concat(D);var e;return(a.defs(n,"$start",e=function(){return H},e.$$arity=0),H)&&"start"}(x[0],null,x)};
Opal.modules["corelib/random"]=function(a){var x=[],H=a.nil,t=a.$$,w=a.klass,z=a.truthy,p=a.send;a.add_stubs("$attr_reader $new_seed $coerce_to! $reseed $rand $seed $< $raise $encode $join $new $chr $=== $== $state $const_defined? $const_set".split(" "));return function(n,$super,D){n=w(n,$super,"Random");var e=[n].concat(D),m,E,c,k,L,d,l,N,y,S;n.$attr_reader("seed","state");a.def(n,"$initialize",m=function(ja){null==ja&&(ja=t(e,"Random").$new_seed());this.state=ja=t(e,"Opal")["$coerce_to!"](ja,t(e,
"Integer"),"to_int");return this.$reseed(ja)},m.$$arity=-1);a.def(n,"$reseed",E=function(ja){this.seed=ja;return this.$rng=a.$$rand.reseed(ja)},E.$$arity=1);a.defs(n,"$new_seed",c=function(){return a.$$rand.new_seed()},c.$$arity=0);a.defs(n,"$rand",k=function(ja){return t(e,"DEFAULT").$rand(ja)},k.$$arity=-1);a.defs(n,"$srand",L=function(ja){null==ja&&(ja=t(e,"Random").$new_seed());ja=t(e,"Opal")["$coerce_to!"](ja,t(e,"Integer"),"to_int");var ea=t(e,"DEFAULT").$seed();t(e,"DEFAULT").$reseed(ja);return ea},
L.$$arity=-1);a.defs(n,"$urandom",d=function(ja){var ea;ja=t(e,"Opal")["$coerce_to!"](ja,t(e,"Integer"),"to_int");z("number"===typeof ja?0>ja:ja["$<"](0))&&this.$raise(t(e,"ArgumentError"),"negative string size (or size too big)");return p(t(e,"Array"),"new",[ja],(ea=function(){return(null==ea.$$s?this:ea.$$s).$rand(255).$chr()},ea.$$s=this,ea.$$arity=0,ea)).$join().$encode("ASCII-8BIT")},d.$$arity=1);a.def(n,"$==",l=function(ja){var ea;return z(t(e,"Random")["$==="](ja))?z(ea=this.$seed()["$=="](ja.$seed()))?
this.$state()["$=="](ja.$state()):ea:!1},l.$$arity=1);a.def(n,"$bytes",N=function(ja){var ea;ja=t(e,"Opal")["$coerce_to!"](ja,t(e,"Integer"),"to_int");return p(t(e,"Array"),"new",[ja],(ea=function(){return(null==ea.$$s?this:ea.$$s).$rand(255).$chr()},ea.$$s=this,ea.$$arity=0,ea)).$join().$encode("ASCII-8BIT")},N.$$arity=1);a.def(n,"$rand",y=function(ja){function ea(){b.state++;return a.$$rand.rand(b.$rng)}function ma(){var h=ja.begin,f=ja.end;if(h===H||f===H)return H;var q=f-h;if(0>q)return H;if(0===
q)return h;0!==f%1||0!==h%1||ja.excl||q++;return b.$rand(q)+h}var b=this;if(null==ja)return ea();if(ja.$$is_range)return ma();if(ja.$$is_number)return 0>=ja&&b.$raise(t(e,"ArgumentError"),"invalid argument - "+ja),0===ja%1?Math.floor(ea()*ja):ea()*ja;ja=t(e,"Opal")["$coerce_to!"](ja,t(e,"Integer"),"to_int");0>=ja&&b.$raise(t(e,"ArgumentError"),"invalid argument - "+ja);return Math.floor(ea()*ja)},y.$$arity=-1);return(a.defs(n,"$generator=",S=function(ja){a.$$rand=ja;return z(this["$const_defined?"]("DEFAULT"))?
t(e,"DEFAULT").$reseed():this.$const_set("DEFAULT",this.$new(this.$new_seed()))},S.$$arity=1),H)&&"generator="}(x[0],null,x)};
Opal.modules["corelib/random/mersenne_twister"]=function(a){function x(u,D){return"number"===typeof u&&"number"===typeof D?u-D:u["$-"](D)}var H=[],t=a.nil,w=a.$$,z=a.klass,p=a.send,n=t;a.add_stubs(["$generator=","$-"]);n=function(){function u(e,m){return(e&2147483648|m&2147483647)>>>1^(m&1?2567483615:0)}function D(e){if(0>=--e.left){var m=0,E=e.state,c;e.left=624;e.next=0;for(c=228;--c;m++)E[m]=E[m+397]^u(E[m+0],E[m+1]);for(c=397;--c;m++)E[m]=E[m+-227]^u(E[m+0],E[m+1]);E[m]=E[m+-227]^u(E[m+0],E[0])}e=
e.state[e.next++];e^=e>>>11;e^=e<<7&2636928640;e^=e<<15&4022730752;return(e^e>>>18)>>>0}return{genrand_real:function(e){var m=D(e);e=D(e);return 1.1102230246251565E-16*(67108864*(m>>>5)+(e>>>6))},init:function(e){var m={left:0,next:624,state:Array(624)};m.state[0]=e>>>0;for(e=1;624>e;e++)m.state[e]=1812433253*(m.state[e-1]^m.state[e-1]>>30>>>0)+e,m.state[e]&=4294967295;m.left=1;m.next=624;return m}}}();return function(u,$super,e){u=z(u,$super,"Random");e=[u].concat(e);var m=t,E=Number.MAX_SAFE_INTEGER||
Math.pow(2,53)-1;a.const_set(e[0],"MERSENNE_TWISTER_GENERATOR",{new_seed:function(){return Math.round(Math.random()*E)},reseed:function(c){return n.init(c)},rand:function(c){return n.genrand_real(c)}});m=[w(e,"MERSENNE_TWISTER_GENERATOR")];p(u,"generator=",a.to_a(m));return m[x(m.length,1)]}(H[0],null,H)};
Opal.modules["corelib/unsupported"]=function(a){function x(m){switch(a.config.unsupported_features_severity){case "error":n(z,"Kernel").$raise(n(z,"NotImplementedError"),m);break;case "warning":e[m]||(e[m]=!0,w.$warn(m))}}var H,t,w=a.top,z=[],p=a.nil,n=a.$$,u=a.klass,D=a.module;a.add_stubs(["$raise","$warn","$%"]);var e={};(function(m,$super,c){m=u(m,$super,"String");var k=[m].concat(c),L,d,l,N,y,S,ja,ea,ma,b,h,f,q,A,F,G,J,ca,va,Pa,wa,Aa,La;a.def(m,"$<<",L=function(na){a.slice.call(arguments,0,arguments.length);
return this.$raise(n(k,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("<<"))},L.$$arity=-1);a.def(m,"$capitalize!",d=function(na){a.slice.call(arguments,0,arguments.length);return this.$raise(n(k,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("capitalize!"))},d.$$arity=-1);a.def(m,"$chomp!",l=function(na){a.slice.call(arguments,0,arguments.length);return this.$raise(n(k,"NotImplementedError"),
"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("chomp!"))},l.$$arity=-1);a.def(m,"$chop!",N=function(na){a.slice.call(arguments,0,arguments.length);return this.$raise(n(k,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("chop!"))},N.$$arity=-1);a.def(m,"$downcase!",y=function(na){a.slice.call(arguments,0,arguments.length);return this.$raise(n(k,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("downcase!"))},
y.$$arity=-1);a.def(m,"$gsub!",S=function(na){a.slice.call(arguments,0,arguments.length);return this.$raise(n(k,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("gsub!"))},S.$$arity=-1);a.def(m,"$lstrip!",ja=function(na){a.slice.call(arguments,0,arguments.length);return this.$raise(n(k,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("lstrip!"))},ja.$$arity=-1);a.def(m,"$next!",ea=function(na){a.slice.call(arguments,
0,arguments.length);return this.$raise(n(k,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("next!"))},ea.$$arity=-1);a.def(m,"$reverse!",ma=function(na){a.slice.call(arguments,0,arguments.length);return this.$raise(n(k,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("reverse!"))},ma.$$arity=-1);a.def(m,"$slice!",b=function(na){a.slice.call(arguments,0,arguments.length);return this.$raise(n(k,
"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("slice!"))},b.$$arity=-1);a.def(m,"$squeeze!",h=function(na){a.slice.call(arguments,0,arguments.length);return this.$raise(n(k,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("squeeze!"))},h.$$arity=-1);a.def(m,"$strip!",f=function(na){a.slice.call(arguments,0,arguments.length);return this.$raise(n(k,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("strip!"))},
f.$$arity=-1);a.def(m,"$sub!",q=function(na){a.slice.call(arguments,0,arguments.length);return this.$raise(n(k,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("sub!"))},q.$$arity=-1);a.def(m,"$succ!",A=function(na){a.slice.call(arguments,0,arguments.length);return this.$raise(n(k,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("succ!"))},A.$$arity=-1);a.def(m,"$swapcase!",F=function(na){a.slice.call(arguments,
0,arguments.length);return this.$raise(n(k,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("swapcase!"))},F.$$arity=-1);a.def(m,"$tr!",G=function(na){a.slice.call(arguments,0,arguments.length);return this.$raise(n(k,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("tr!"))},G.$$arity=-1);a.def(m,"$tr_s!",J=function(na){a.slice.call(arguments,0,arguments.length);return this.$raise(n(k,
"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("tr_s!"))},J.$$arity=-1);a.def(m,"$upcase!",ca=function(na){a.slice.call(arguments,0,arguments.length);return this.$raise(n(k,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("upcase!"))},ca.$$arity=-1);a.def(m,"$prepend",va=function(na){a.slice.call(arguments,0,arguments.length);return this.$raise(n(k,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("prepend"))},
va.$$arity=-1);a.def(m,"$[]=",Pa=function(na){a.slice.call(arguments,0,arguments.length);return this.$raise(n(k,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("[]="))},Pa.$$arity=-1);a.def(m,"$clear",wa=function(na){a.slice.call(arguments,0,arguments.length);return this.$raise(n(k,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("clear"))},wa.$$arity=-1);a.def(m,"$encode!",Aa=function(na){a.slice.call(arguments,
0,arguments.length);return this.$raise(n(k,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("encode!"))},Aa.$$arity=-1);return(a.def(m,"$unicode_normalize!",La=function(na){a.slice.call(arguments,0,arguments.length);return this.$raise(n(k,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("unicode_normalize!"))},La.$$arity=-1),p)&&"unicode_normalize!"})(z[0],null,z);(function(m,E){m=D(m,
"Kernel");[m].concat(E);var c,k;a.def(m,"$freeze",c=function(){x("Object freezing is not supported by Opal");return this},c.$$arity=0);a.def(m,"$frozen?",k=function(){x("Object freezing is not supported by Opal");return!1},k.$$arity=0)})(z[0],z);(function(m,E){m=D(m,"Kernel");[m].concat(E);var c,k,L;a.def(m,"$taint",c=function(){x("Object tainting is not supported by Opal");return this},c.$$arity=0);a.def(m,"$untaint",k=function(){x("Object tainting is not supported by Opal");return this},k.$$arity=
0);a.def(m,"$tainted?",L=function(){x("Object tainting is not supported by Opal");return!1},L.$$arity=0)})(z[0],z);(function(m,$super,c){m=u(m,$super,"Module");[m].concat(c);var k,L,d,l;a.def(m,"$public",k=function(N){0===a.slice.call(arguments,0,arguments.length).length&&(this.$$module_function=!1);return p},k.$$arity=-1);a.alias(m,"private","public");a.alias(m,"protected","public");a.alias(m,"nesting","public");a.def(m,"$private_class_method",L=function(N){a.slice.call(arguments,0,arguments.length);
return this},L.$$arity=-1);a.alias(m,"public_class_method","private_class_method");a.def(m,"$private_method_defined?",d=function(){return!1},d.$$arity=1);a.def(m,"$private_constant",l=function(N){a.slice.call(arguments,0,arguments.length);return p},l.$$arity=-1);a.alias(m,"protected_method_defined?","private_method_defined?");a.alias(m,"public_instance_methods","instance_methods");a.alias(m,"public_instance_method","instance_method");return a.alias(m,"public_method_defined?","method_defined?")})(z[0],
null,z);(function(m,E){m=D(m,"Kernel");[m].concat(E);var c;a.def(m,"$private_methods",c=function(k){a.slice.call(arguments,0,arguments.length);return[]},c.$$arity=-1);a.alias(m,"private_instance_methods","private_methods")})(z[0],z);(function(m,E){m=D(m,"Kernel");var c=[m].concat(E),k;a.def(m,"$eval",k=function(L){a.slice.call(arguments,0,arguments.length);return this.$raise(n(c,"NotImplementedError"),"To use Kernel#eval, you must first require 'opal-parser'. See https://github.com/opal/opal/blob/"+
(n(c,"RUBY_ENGINE_VERSION")+"/docs/opal_parser.md for details."))},k.$$arity=-1)})(z[0],z);a.defs(w,"$public",H=function(m){a.slice.call(arguments,0,arguments.length);return p},H.$$arity=-1);return(a.defs(w,"$private",t=function(m){a.slice.call(arguments,0,arguments.length);return p},t.$$arity=-1),p)&&"private"};var rb=Opal.top;Opal.add_stubs(["$require"]);rb.$require("opal/base");rb.$require("opal/mini");rb.$require("corelib/kernel/format");rb.$require("corelib/string/encoding");rb.$require("corelib/math");
rb.$require("corelib/complex");rb.$require("corelib/rational");rb.$require("corelib/time");rb.$require("corelib/struct");rb.$require("corelib/io");rb.$require("corelib/main");rb.$require("corelib/dir");rb.$require("corelib/file");rb.$require("corelib/process");rb.$require("corelib/random");rb.$require("corelib/random/mersenne_twister");rb.$require("corelib/unsupported");
(function(a){function x(E,c){return"number"===typeof E&&"number"===typeof c?E+c:E["$+"](c)}function H(E,c){return"number"===typeof E&&"number"===typeof c?E-c:E["$-"](c)}function t(E,c){return"number"===typeof E&&"number"===typeof c?E<c:E["$<"](c)}var w=[],z=a.nil,p=a.$$$,n=a.$$,u=a.klass,D=a.send2,e=a.truthy,m=a.send;a.add_stubs("$include $<=> $attr_reader $nonzero? $d $zero? $new $class $-@ $+@ $=== $coerce $== $> $+ $allocate $join $compact $map $to_proc $downcase $wrap $raise $clone $jd $>> $wday $year $month $day $- $to_s $to_i $< $* $reverse $step $abs $each".split(" "));
return function(E,$super,k){function L(W,ya){return[31,0===W%4&&0!==W%100||0===W%400?29:28,31,30,31,30,31,31,30,31,30,31][ya]}E=u(E,$super,"Date");var d=[E].concat(k),l,N,y,S,ja,ea,ma,b,h,f,q,A,F,G,J,ca,va,Pa,wa,Aa,La,na,T,sa,xa,Ja,ka,M,K,Y,qa,fa,ta,Ea,Ha,Ra,Sa,Ma,gb,kb;E.$$prototype.date=z;E.$include(n(d,"Comparable"));(function(W,$super,Ba){W=u(W,$super,"Infinity");var Va=[W].concat(Ba),bb,db,Ca,Wa,za,ua,Na,Ta,Za,Fa,Z;W.$$prototype.d=z;W.$include(n(Va,"Comparable"));a.def(W,"$initialize",bb=function(R){null==
R&&(R=1);return this.d=R["$<=>"](0)},bb.$$arity=-1);W.$attr_reader("d");a.def(W,"$zero?",db=function(){return!1},db.$$arity=0);a.def(W,"$finite?",Ca=function(){return!1},Ca.$$arity=0);a.def(W,"$infinite?",Wa=function(){return this.$d()["$nonzero?"]()},Wa.$$arity=0);a.def(W,"$nan?",za=function(){return this.$d()["$zero?"]()},za.$$arity=0);a.def(W,"$abs",ua=function(){return this.$class().$new()},ua.$$arity=0);a.def(W,"$-@",Na=function(){return this.$class().$new(this.$d()["$-@"]())},Na.$$arity=0);
a.def(W,"$+@",Ta=function(){return this.$class().$new(this.$d()["$+@"]())},Ta.$$arity=0);a.def(W,"$<=>",Za=function(R){var aa,U,ha=this,la=z,g=z,C=z;return function(){la=R;if(n(Va,"Infinity")["$==="](la))return ha.$d()["$<=>"](R.$d());if(n(Va,"Numeric")["$==="](la))return ha.$d();try{return U=R.$coerce(ha),aa=a.to_ary(U),g=null==aa[0]?z:aa[0],C=null==aa[1]?z:aa[1],U,g["$<=>"](C)}catch(O){if(a.rescue(O,[n(Va,"NoMethodError")]))try{return z}finally{a.pop_exception()}else throw O;}}()},Za.$$arity=1);
a.def(W,"$coerce",Fa=function(R){var aa=Fa.$$p,U;aa&&(Fa.$$p=null);var ha=0;var la=arguments.length;for(U=Array(la);ha<la;ha++)U[ha]=arguments[ha];aa=n(Va,"Numeric")["$==="](R)?[this.$d()["$-@"](),this.$d()]:D(this,a.find_super_dispatcher(this,"coerce",Fa,!1,!0),"coerce",U,aa);return aa},Fa.$$arity=1);return(a.def(W,"$to_f",Z=function(){if(this.d["$=="](0))return 0;var R=this.d;R="number"===typeof R?0<R:R["$>"](0);return e(R)?p(n(Va,"Float"),"INFINITY"):p(n(Va,"Float"),"INFINITY")["$-@"]()},Z.$$arity=
0),z)&&"to_f"})(d[0],n(d,"Numeric"),d);a.const_set(d[0],"JULIAN",n(d,"Infinity").$new());a.const_set(d[0],"GREGORIAN",n(d,"Infinity").$new()["$-@"]());a.const_set(d[0],"ITALY",2299161);a.const_set(d[0],"ENGLAND",2361222);a.const_set(d[0],"MONTHNAMES",x([z],"January February March April May June July August September October November December".split(" ")));a.const_set(d[0],"ABBR_MONTHNAMES","jan feb mar apr may jun jul aug sep oct nov dec".split(" "));a.const_set(d[0],"DAYNAMES","Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "));
a.const_set(d[0],"ABBR_DAYNAMES","Sun Mon Tue Wed Thu Fri Sat".split(" "));(function(W,ya){var Ba=[W].concat(ya),Va,bb,db,Ca;a.alias(W,"civil","new");a.def(W,"$wrap",Va=function(Wa){var za=this.$allocate();za.date=Wa;return za},Va.$$arity=1);a.def(W,"$parse",bb=function(Wa,za){function ua(ba){return ba[1]}function Na(ba){return ba[2]}function Ta(ba){return ba[3]}function Za(ba){return ba[4]}function Fa(ba){return function(v){v=ba(v);return 69<=v?v+1900:v+2E3}}function Z(ba){return function(v){v=ba(v).toLowerCase();
return n(Ba,"ABBR_MONTHNAMES").indexOf(v)+1}}function R(ba){return function(v){v=ba(v);return parseInt(v,10)}}function aa(ba){return function(v){v=ba(v);return m(n(Ba,"MONTHNAMES").$compact(),"map",[],"downcase".$to_proc()).indexOf(v.$downcase())+1}}null==za&&(za=!0);var U=new Date,ha=U.getDate(),la=U.getMonth(),g=U.getFullYear(),C=U.getDay();U=n(Ba,"MONTHNAMES").$compact().$join("|");U=[{regexp:/^(\d{2})$/,year:g,month:la,day:R(ua)},{regexp:/^(\d{3})$/,year:g,month:0,day:R(ua)},{regexp:/^(\d{2})(\d{2})$/,
year:g,month:R(ua),day:R(Na)},{regexp:/^(\d{2})(\d{3})$/,year:Fa(R(ua)),month:0,day:R(Na)},{regexp:/^(\d{2})(\d{2})(\d{2})$/,year:Fa(R(ua)),month:R(Na),day:R(Ta)},{regexp:/^(\d{4})(\d{3})$/,year:R(ua),month:0,day:R(Na)},{regexp:/^(\d{4})(\d{2})(\d{2})$/,year:R(ua),month:R(Na),day:R(Ta)},{regexp:/^([a-z]{3})[\s\.\/\-](\d{3,4})$/,year:R(Na),month:Z(ua),day:1},{regexp:/^(\d{1,2})[\s\.\/\-]([a-z]{3})[\s\.\/\-](\d{3,4})$/i,year:R(Ta),month:Z(Na),day:R(ua)},{regexp:/^([a-z]{3})[\s\.\/\-](\d{1,2})[\s\.\/\-](\d{3,4})$/i,
year:R(Ta),month:Z(ua),day:R(Na)},{regexp:/^(\d{3,4})[\s\.\/\-]([a-z]{3})[\s\.\/\-](\d{1,2})$/i,year:R(ua),month:Z(Na),day:R(Ta)},{regexp:/^(\-?\d{3,4})[\s\.\/\-](\d{1,2})[\s\.\/\-](\d{1,2})$/,year:R(ua),month:R(Na),day:R(Ta)},{regexp:/^(\d{2})[\s\.\/\-](\d{1,2})[\s\.\/\-](\d{1,2})$/,year:function(ba){return function(v){v=ba(v);return za?v+2E3:v}}(R(ua)),month:R(Na),day:R(Ta)},{regexp:/^(\d{1,2})[\s\.\/\-](\d{1,2})[\s\.\/\-](\-?\d{3,4})$/,year:R(Ta),month:R(Na),day:R(ua)},{regexp:new RegExp("^("+
n(Ba,"DAYNAMES").$join("|")+")$","i"),year:g,month:la,day:function(ba){return function(v){v=ba(v);v=m(n(Ba,"DAYNAMES"),"map",[],"downcase".$to_proc()).indexOf(v.$downcase());return ha-C+v}}(ua)},{regexp:new RegExp("^("+U+")[\\s\\.\\/\\-](\\d{1,2})(th|nd|rd)[\\s\\.\\/\\-](\\-?\\d{3,4})$","i"),year:R(Za),month:aa(ua),day:R(Na)},{regexp:new RegExp("^("+U+")[\\s\\.\\/\\-](\\d{1,2})(th|nd|rd)","i"),year:g,month:aa(ua),day:R(Na)},{regexp:new RegExp("^(\\d{1,2})(th|nd|rd)[\\s\\.\\/\\-]("+U+")[\\s\\.\\/\\-](\\-?\\d{3,4})$",
"i"),year:R(Za),month:aa(Ta),day:R(ua)},{regexp:new RegExp("^(\\-?\\d{3,4})[\\s\\.\\/\\-]("+U+")[\\s\\.\\/\\-](\\d{1,2})(th|nd|rd)$","i"),year:R(ua),month:aa(Na),day:R(Ta)}];var O;for(O=0;O<U.length;O++)if(g=U[O],la=g.regexp.exec(Wa))return Wa=g.year,"function"===typeof Wa&&(Wa=Wa(la)),U=g.month,"function"===typeof U&&(U=U(la)-1),g=g.day,"function"===typeof g&&(g=g(la)),la=new Date(Wa,U,g),0<=Wa&&1970>=Wa&&la.setFullYear(Wa),this.$wrap(la);return this.$raise(n(Ba,"ArgumentError"),"invalid date")},
bb.$$arity=-2);a.def(W,"$today",db=function(){return this.$wrap(new Date)},db.$$arity=0);return(a.def(W,"$gregorian_leap?",Ca=function(Wa){return 0===(new Date(Wa,1,29)).getMonth()-1},Ca.$$arity=1),z)&&"gregorian_leap?"})(a.get_singleton_class(E),d);a.def(E,"$initialize",l=function(W,ya,Ba,Va){null==W&&(W=-4712);null==ya&&(ya=1);null==Ba&&(Ba=1);null==Va&&n(d,"ITALY");1582===W&&10===ya&&4<Ba&&15>Ba&&(Ba=4);return this.date=new Date(W,ya-1,Ba)},l.$$arity=-1);a.def(E,"$-",N=function(W){if(W.$$is_number){var ya=
this.$clone();ya.date.setDate(this.date.getDate()-W);return ya}if(W.date)return Math.round((this.date-W.date)/864E5);this.$raise(n(d,"TypeError"))},N.$$arity=1);a.def(E,"$+",y=function(W){if(W.$$is_number){var ya=this.$clone();ya.date.setDate(this.date.getDate()+W);return ya}this.$raise(n(d,"TypeError"))},y.$$arity=1);a.def(E,"$<",S=function(W){var ya=this.date;W=W.date;ya.setHours(0,0,0,0);W.setHours(0,0,0,0);return ya<W},S.$$arity=1);a.def(E,"$<=",ja=function(W){var ya=this.date;W=W.date;ya.setHours(0,
0,0,0);W.setHours(0,0,0,0);return ya<=W},ja.$$arity=1);a.def(E,"$>",ea=function(W){var ya=this.date;W=W.date;ya.setHours(0,0,0,0);W.setHours(0,0,0,0);return ya>W},ea.$$arity=1);a.def(E,"$>=",ma=function(W){var ya=this.date;W=W.date;ya.setHours(0,0,0,0);W.setHours(0,0,0,0);return ya>=W},ma.$$arity=1);a.def(E,"$<=>",b=function(W){if(W.$$is_number)return this.$jd()["$<=>"](W);if(n(d,"Date")["$==="](W)){var ya=this.date;W=W.date;ya.setHours(0,0,0,0);W.setHours(0,0,0,0);return ya<W?-1:ya>W?1:0}return z},
b.$$arity=1);a.def(E,"$>>",h=function(W){W.$$is_number||this.$raise(n(d,"TypeError"));var ya=this.$clone(),Ba=ya.date,Va=Ba.getDate();Ba.setDate(1);Ba.setMonth(Ba.getMonth()+W);Ba.setDate(Math.min(Va,L(Ba.getFullYear(),Ba.getMonth())));return ya},h.$$arity=1);a.def(E,"$<<",f=function(W){W.$$is_number||this.$raise(n(d,"TypeError"));return this["$>>"](-W)},f.$$arity=1);a.alias(E,"eql?","==");a.def(E,"$clone",q=function(){return n(d,"Date").$wrap(new Date(this.date.getTime()))},q.$$arity=0);a.def(E,
"$day",A=function(){return this.date.getDate()},A.$$arity=0);a.def(E,"$friday?",F=function(){return this.$wday()["$=="](5)},F.$$arity=0);a.def(E,"$jd",G=function(){var W=this.date.getMonth()+1,ya=this.date.getDate(),Ba=this.date.getFullYear();var Va=1;1585>=Ba&&(Va=0);var bb=-1*Math.floor(7*(Math.floor((W+9)/12)+Ba)/4);var db=1;0>W-9&&(db=-1);db=Math.floor(Ba+db*Math.floor(Math.abs(W-9)/7));db=-1*Math.floor(3*(Math.floor(db/100)+1)/4);bb=bb+Math.floor(275*W/9)+ya+Va*db;return bb+1721027+2*Va+367*
Ba-.5+.5},G.$$arity=0);a.def(E,"$julian?",J=function(){return this.date<new Date(1582,9,15,12)},J.$$arity=0);a.def(E,"$monday?",ca=function(){return this.$wday()["$=="](1)},ca.$$arity=0);a.def(E,"$month",va=function(){return this.date.getMonth()+1},va.$$arity=0);a.def(E,"$next",Pa=function(){return x(this,1)},Pa.$$arity=0);a.def(E,"$next_day",wa=function(W){null==W&&(W=1);return x(this,W)},wa.$$arity=-1);a.def(E,"$next_month",Aa=function(W){null==W&&(W=1);var ya=this.$clone(),Ba=ya.date,Va=Ba.getDate();
Ba.setDate(1);Ba.setMonth(Ba.getMonth()+W);Ba.setDate(Math.min(Va,L(Ba.getFullYear(),Ba.getMonth())));return ya},Aa.$$arity=-1);a.def(E,"$next_year",La=function(W){null==W&&(W=1);return this.$class().$new(x(this.$year(),W),this.$month(),this.$day())},La.$$arity=-1);a.def(E,"$prev_day",na=function(W){null==W&&(W=1);return H(this,W)},na.$$arity=-1);a.def(E,"$prev_month",T=function(W){null==W&&(W=1);var ya=this.$clone(),Ba=ya.date,Va=Ba.getDate();Ba.setDate(1);Ba.setMonth(Ba.getMonth()-W);Ba.setDate(Math.min(Va,
L(Ba.getFullYear(),Ba.getMonth())));return ya},T.$$arity=-1);a.def(E,"$prev_year",sa=function(W){null==W&&(W=1);return this.$class().$new(H(this.$year(),W),this.$month(),this.$day())},sa.$$arity=-1);a.def(E,"$saturday?",xa=function(){return this.$wday()["$=="](6)},xa.$$arity=0);a.def(E,"$strftime",Ja=function(W){null==W&&(W="");return""==W?this.$to_s():this.date.$strftime(W)},Ja.$$arity=-1);a.alias(E,"succ","next");a.def(E,"$sunday?",ka=function(){return this.$wday()["$=="](0)},ka.$$arity=0);a.def(E,
"$thursday?",M=function(){return this.$wday()["$=="](4)},M.$$arity=0);a.def(E,"$to_s",K=function(){var W=this.date,ya=W.getFullYear(),Ba=W.getMonth()+1;W=W.getDate();10>Ba&&(Ba="0"+Ba);10>W&&(W="0"+W);return ya+"-"+Ba+"-"+W},K.$$arity=0);a.def(E,"$to_time",Y=function(){return n(d,"Time").$new(this.$year(),this.$month(),this.$day())},Y.$$arity=0);a.def(E,"$to_n",qa=function(){return this.date},qa.$$arity=0);a.def(E,"$tuesday?",fa=function(){return this.$wday()["$=="](2)},fa.$$arity=0);a.def(E,"$step",
ta=function(W,ya){var Ba=ta.$$p,Va=Ba||z,bb,db,Ca=z;Ca=Ca=z;Ba&&(ta.$$p=null);Ba&&(ta.$$p=null);null==ya&&(ya=1);Ca=H(W,this).$to_i();Ca=e(t("number"===typeof Ca&&"number"===typeof ya?Ca*ya:Ca["$*"](ya),0))?[]:e(t(Ca,0))?m(a.Range.$new(0,Ca["$-@"](),!1).$step(ya.$abs()),"map",[],"-@".$to_proc()).$reverse():a.Range.$new(0,Ca,!1).$step(ya.$abs());Ca=m(Ca,"map",[],(bb=function(Wa){var za=null==bb.$$s?this:bb.$$s;null==Wa&&(Wa=z);return x(za,Wa)},bb.$$s=this,bb.$$arity=1,bb));return Va!==z?(m(Ca,"each",
[],(db=function(Wa){null==Wa&&(Wa=z);return a.yield1(Va,Wa)},db.$$s=this,db.$$arity=1,db)),this):Ca},ta.$$arity=-2);a.def(E,"$upto",Ea=function(W){var ya=Ea.$$p,Ba=ya||z;ya&&(Ea.$$p=null);ya&&(Ea.$$p=null);return m(this,"step",[W,1],Ba.$to_proc())},Ea.$$arity=1);a.def(E,"$downto",Ha=function(W){var ya=Ha.$$p,Ba=ya||z;ya&&(Ha.$$p=null);ya&&(Ha.$$p=null);return m(this,"step",[W,-1],Ba.$to_proc())},Ha.$$arity=1);a.def(E,"$wday",Ra=function(){return this.date.getDay()},Ra.$$arity=0);a.def(E,"$wednesday?",
Sa=function(){return this.$wday()["$=="](3)},Sa.$$arity=0);a.def(E,"$year",Ma=function(){return this.date.getFullYear()},Ma.$$arity=0);a.def(E,"$cwday",gb=function(){return this.date.getDay()||7},gb.$$arity=0);a.def(E,"$cweek",kb=function(){var W=new Date(this.date);W.setHours(0,0,0);W.setDate(W.getDate()+4-(W.getDay()||7));return Math.ceil(((W-new Date(W.getFullYear(),0,1))/864E5+1)/7)},kb.$$arity=0)}(w[0],null,w)})(Opal);
(function(a){function x(m,E){return"number"===typeof m&&"number"===typeof E?m-E:m["$-"](E)}var H=[],t=a.nil,w=a.$$$,z=a.$$,p=a.module,n=a.klass,u=a.send,D=a.hash2,e=a.truthy;a.add_stubs("$raise $new $push $[]= $- $[] $create_id $json_create $const_get $attr_accessor $create_id= $=== $parse $generate $from_object $merge $to_json $responds_to? $to_io $write $to_s $to_a $strftime".split(" "));(function(m,E){function c(f){try{return JSON.parse(f)}catch(q){L.$raise(w(z(d,"JSON"),"ParserError"),q.message)}}
function k(f,q){var A;switch(typeof f){case "string":return f;case "number":return f;case "boolean":return!!f;case "null":return t;case "object":if(!f)return t;if(f.$$is_array){var F=q.array_class.$new();var G=0;for(A=f.length;G<A;G++)F.$push(k(f[G],q));return F}G=q.object_class.$new();for(A in f)h.call(f,A)&&(b=[A,k(f[A],q)],u(G,"[]=",a.to_a(b)),b[x(b.length,1)]);return q.parse||(F=G["$[]"](z(d,"JSON").$create_id()))==t?G:w("::","Object").$const_get(F).$json_create(G)}}var L=p(m,"JSON"),d=[L].concat(E),
l,N,y,S,ja,ea,ma,b=t;(function(f,$super,A){[n(f,$super,"JSONError")].concat(A);return t})(d[0],z(d,"StandardError"),d);(function(f,$super,A){[n(f,$super,"ParserError")].concat(A);return t})(d[0],z(d,"JSONError"),d);var h=a.hasOwnProperty;(function(f,q){[f].concat(q);return f.$attr_accessor("create_id")})(a.get_singleton_class(L),d);b=["json_class"];u(L,"create_id=",a.to_a(b));b[x(b.length,1)];a.defs(L,"$[]",l=function(f,q){null==q&&(q=D([],{}));return e(z(d,"String")["$==="](f))?this.$parse(f,q):
this.$generate(f,q)},l.$$arity=-2);a.defs(L,"$parse",N=function(f,q){null==q&&(q=D([],{}));return this.$from_object(c(f),q.$merge(D(["parse"],{parse:!0})))},N.$$arity=-2);a.defs(L,"$parse!",y=function(f,q){null==q&&(q=D([],{}));return this.$parse(f,q)},y.$$arity=-2);a.defs(L,"$load",S=function(f,q){null==q&&(q=D([],{}));return this.$from_object(c(f),q)},S.$$arity=-2);a.defs(L,"$from_object",ja=function(f,q){var A;null==q&&(q=D([],{}));e(A=q["$[]"]("object_class"))?A:(A=["object_class",z(d,"Hash")],
u(q,"[]=",a.to_a(A)),A[x(A.length,1)]);e(A=q["$[]"]("array_class"))?A:(A=["array_class",z(d,"Array")],u(q,"[]=",a.to_a(A)),A[x(A.length,1)]);return k(f,q.$$smap)},ja.$$arity=-2);a.defs(L,"$generate",ea=function(f,q){null==q&&(q=D([],{}));return f.$to_json(q)},ea.$$arity=-2);a.defs(L,"$dump",ma=function(f,q){null==q&&(q=t);f=this.$generate(f);return e(q)?(e(q["$responds_to?"]("to_io"))&&(q=q.$to_io()),q.$write(f),q):f},ma.$$arity=-2)})(H[0],H);(function(m,$super,c){m=n(m,$super,"Object");[m].concat(c);
var k;return(a.def(m,"$to_json",k=function(){return this.$to_s().$to_json()},k.$$arity=0),t)&&"to_json"})(H[0],null,H);(function(m,E){m=p(m,"Enumerable");[m].concat(E);var c;a.def(m,"$to_json",c=function(){return this.$to_a().$to_json()},c.$$arity=0)})(H[0],H);(function(m,$super,c){m=n(m,$super,"Array");[m].concat(c);var k;return(a.def(m,"$to_json",k=function(){for(var L=[],d=0,l=this.length;d<l;d++)L.push(this[d].$to_json());return"["+L.join(", ")+"]"},k.$$arity=0),t)&&"to_json"})(H[0],null,H);(function(m,
$super,c){m=n(m,$super,"Boolean");[m].concat(c);var k;return(a.def(m,"$to_json",k=function(){return 1==this?"true":"false"},k.$$arity=0),t)&&"to_json"})(H[0],null,H);(function(m,$super,c){m=n(m,$super,"Hash");[m].concat(c);var k;return(a.def(m,"$to_json",k=function(){for(var L=[],d=0,l=this.$$keys,N=l.length,y,S;d<N;d++)y=l[d],y.$$is_string?S=this.$$smap[y]:(S=y.value,y=y.key),L.push(y.$to_s().$to_json()+":"+S.$to_json());return"{"+L.join(", ")+"}"},k.$$arity=0),t)&&"to_json"})(H[0],null,H);(function(m,
$super,c){m=n(m,$super,"NilClass");[m].concat(c);var k;return(a.def(m,"$to_json",k=function(){return"null"},k.$$arity=0),t)&&"to_json"})(H[0],null,H);(function(m,$super,c){m=n(m,$super,"Numeric");[m].concat(c);var k;return(a.def(m,"$to_json",k=function(){return this.toString()},k.$$arity=0),t)&&"to_json"})(H[0],null,H);(function(m,$super,c){m=n(m,$super,"String");[m].concat(c);return a.alias(m,"to_json","inspect")})(H[0],null,H);(function(m,$super,c){m=n(m,$super,"Time");[m].concat(c);var k;return(a.def(m,
"$to_json",k=function(){return this.$strftime("%FT%T%z").$to_json()},k.$$arity=0),t)&&"to_json"})(H[0],null,H);return function(m,$super,c){m=n(m,$super,"Date");[m].concat(c);var k,L;a.def(m,"$to_json",k=function(){return this.$to_s().$to_json()},k.$$arity=0);return(a.def(m,"$as_json",L=function(){return this.$to_s()},L.$$arity=0),t)&&"as_json"}(H[0],null,H)})(Opal);
Opal.modules.json=function(a){function x(m,E){return"number"===typeof m&&"number"===typeof E?m-E:m["$-"](E)}var H=[],t=a.nil,w=a.$$$,z=a.$$,p=a.module,n=a.klass,u=a.send,D=a.hash2,e=a.truthy;a.add_stubs("$raise $new $push $[]= $- $[] $create_id $json_create $const_get $attr_accessor $create_id= $=== $parse $generate $from_object $merge $to_json $responds_to? $to_io $write $to_s $to_a $strftime".split(" "));(function(m,E){function c(f){try{return JSON.parse(f)}catch(q){L.$raise(w(z(d,"JSON"),"ParserError"),
q.message)}}function k(f,q){var A;switch(typeof f){case "string":return f;case "number":return f;case "boolean":return!!f;case "null":return t;case "object":if(!f)return t;if(f.$$is_array){var F=q.array_class.$new();var G=0;for(A=f.length;G<A;G++)F.$push(k(f[G],q));return F}G=q.object_class.$new();for(A in f)h.call(f,A)&&(b=[A,k(f[A],q)],u(G,"[]=",a.to_a(b)),b[x(b.length,1)]);return q.parse||(F=G["$[]"](z(d,"JSON").$create_id()))==t?G:w("::","Object").$const_get(F).$json_create(G)}}var L=p(m,"JSON"),
d=[L].concat(E),l,N,y,S,ja,ea,ma,b=t;(function(f,$super,A){[n(f,$super,"JSONError")].concat(A);return t})(d[0],z(d,"StandardError"),d);(function(f,$super,A){[n(f,$super,"ParserError")].concat(A);return t})(d[0],z(d,"JSONError"),d);var h=a.hasOwnProperty;(function(f,q){[f].concat(q);return f.$attr_accessor("create_id")})(a.get_singleton_class(L),d);b=["json_class"];u(L,"create_id=",a.to_a(b));b[x(b.length,1)];a.defs(L,"$[]",l=function(f,q){null==q&&(q=D([],{}));return e(z(d,"String")["$==="](f))?this.$parse(f,
q):this.$generate(f,q)},l.$$arity=-2);a.defs(L,"$parse",N=function(f,q){null==q&&(q=D([],{}));return this.$from_object(c(f),q.$merge(D(["parse"],{parse:!0})))},N.$$arity=-2);a.defs(L,"$parse!",y=function(f,q){null==q&&(q=D([],{}));return this.$parse(f,q)},y.$$arity=-2);a.defs(L,"$load",S=function(f,q){null==q&&(q=D([],{}));return this.$from_object(c(f),q)},S.$$arity=-2);a.defs(L,"$from_object",ja=function(f,q){var A;null==q&&(q=D([],{}));e(A=q["$[]"]("object_class"))?A:(A=["object_class",z(d,"Hash")],
u(q,"[]=",a.to_a(A)),A[x(A.length,1)]);e(A=q["$[]"]("array_class"))?A:(A=["array_class",z(d,"Array")],u(q,"[]=",a.to_a(A)),A[x(A.length,1)]);return k(f,q.$$smap)},ja.$$arity=-2);a.defs(L,"$generate",ea=function(f,q){null==q&&(q=D([],{}));return f.$to_json(q)},ea.$$arity=-2);a.defs(L,"$dump",ma=function(f,q){null==q&&(q=t);f=this.$generate(f);return e(q)?(e(q["$responds_to?"]("to_io"))&&(q=q.$to_io()),q.$write(f),q):f},ma.$$arity=-2)})(H[0],H);(function(m,$super,c){m=n(m,$super,"Object");[m].concat(c);
var k;return(a.def(m,"$to_json",k=function(){return this.$to_s().$to_json()},k.$$arity=0),t)&&"to_json"})(H[0],null,H);(function(m,E){m=p(m,"Enumerable");[m].concat(E);var c;a.def(m,"$to_json",c=function(){return this.$to_a().$to_json()},c.$$arity=0)})(H[0],H);(function(m,$super,c){m=n(m,$super,"Array");[m].concat(c);var k;return(a.def(m,"$to_json",k=function(){for(var L=[],d=0,l=this.length;d<l;d++)L.push(this[d].$to_json());return"["+L.join(", ")+"]"},k.$$arity=0),t)&&"to_json"})(H[0],null,H);(function(m,
$super,c){m=n(m,$super,"Boolean");[m].concat(c);var k;return(a.def(m,"$to_json",k=function(){return 1==this?"true":"false"},k.$$arity=0),t)&&"to_json"})(H[0],null,H);(function(m,$super,c){m=n(m,$super,"Hash");[m].concat(c);var k;return(a.def(m,"$to_json",k=function(){for(var L=[],d=0,l=this.$$keys,N=l.length,y,S;d<N;d++)y=l[d],y.$$is_string?S=this.$$smap[y]:(S=y.value,y=y.key),L.push(y.$to_s().$to_json()+":"+S.$to_json());return"{"+L.join(", ")+"}"},k.$$arity=0),t)&&"to_json"})(H[0],null,H);(function(m,
$super,c){m=n(m,$super,"NilClass");[m].concat(c);var k;return(a.def(m,"$to_json",k=function(){return"null"},k.$$arity=0),t)&&"to_json"})(H[0],null,H);(function(m,$super,c){m=n(m,$super,"Numeric");[m].concat(c);var k;return(a.def(m,"$to_json",k=function(){return this.toString()},k.$$arity=0),t)&&"to_json"})(H[0],null,H);(function(m,$super,c){m=n(m,$super,"String");[m].concat(c);return a.alias(m,"to_json","inspect")})(H[0],null,H);(function(m,$super,c){m=n(m,$super,"Time");[m].concat(c);var k;return(a.def(m,
"$to_json",k=function(){return this.$strftime("%FT%T%z").$to_json()},k.$$arity=0),t)&&"to_json"})(H[0],null,H);return function(m,$super,c){m=n(m,$super,"Date");[m].concat(c);var k,L;a.def(m,"$to_json",k=function(){return this.$to_s().$to_json()},k.$$arity=0);return(a.def(m,"$as_json",L=function(){return this.$to_s()},L.$$arity=0),t)&&"as_json"}(H[0],null,H)};
Opal.modules.date=function(a){function x(E,c){return"number"===typeof E&&"number"===typeof c?E+c:E["$+"](c)}function H(E,c){return"number"===typeof E&&"number"===typeof c?E-c:E["$-"](c)}function t(E,c){return"number"===typeof E&&"number"===typeof c?E<c:E["$<"](c)}var w=[],z=a.nil,p=a.$$$,n=a.$$,u=a.klass,D=a.send2,e=a.truthy,m=a.send;a.add_stubs("$include $<=> $attr_reader $nonzero? $d $zero? $new $class $-@ $+@ $=== $coerce $== $> $+ $allocate $join $compact $map $to_proc $downcase $wrap $raise $clone $jd $>> $wday $year $month $day $- $to_s $to_i $< $* $reverse $step $abs $each".split(" "));
return function(E,$super,k){function L(W,ya){return[31,0===W%4&&0!==W%100||0===W%400?29:28,31,30,31,30,31,31,30,31,30,31][ya]}E=u(E,$super,"Date");var d=[E].concat(k),l,N,y,S,ja,ea,ma,b,h,f,q,A,F,G,J,ca,va,Pa,wa,Aa,La,na,T,sa,xa,Ja,ka,M,K,Y,qa,fa,ta,Ea,Ha,Ra,Sa,Ma,gb,kb;E.$$prototype.date=z;E.$include(n(d,"Comparable"));(function(W,$super,Ba){W=u(W,$super,"Infinity");var Va=[W].concat(Ba),bb,db,Ca,Wa,za,ua,Na,Ta,Za,Fa,Z;W.$$prototype.d=z;W.$include(n(Va,"Comparable"));a.def(W,"$initialize",bb=function(R){null==
R&&(R=1);return this.d=R["$<=>"](0)},bb.$$arity=-1);W.$attr_reader("d");a.def(W,"$zero?",db=function(){return!1},db.$$arity=0);a.def(W,"$finite?",Ca=function(){return!1},Ca.$$arity=0);a.def(W,"$infinite?",Wa=function(){return this.$d()["$nonzero?"]()},Wa.$$arity=0);a.def(W,"$nan?",za=function(){return this.$d()["$zero?"]()},za.$$arity=0);a.def(W,"$abs",ua=function(){return this.$class().$new()},ua.$$arity=0);a.def(W,"$-@",Na=function(){return this.$class().$new(this.$d()["$-@"]())},Na.$$arity=0);
a.def(W,"$+@",Ta=function(){return this.$class().$new(this.$d()["$+@"]())},Ta.$$arity=0);a.def(W,"$<=>",Za=function(R){var aa,U,ha=this,la=z,g=z,C=z;return function(){la=R;if(n(Va,"Infinity")["$==="](la))return ha.$d()["$<=>"](R.$d());if(n(Va,"Numeric")["$==="](la))return ha.$d();try{return U=R.$coerce(ha),aa=a.to_ary(U),g=null==aa[0]?z:aa[0],C=null==aa[1]?z:aa[1],U,g["$<=>"](C)}catch(O){if(a.rescue(O,[n(Va,"NoMethodError")]))try{return z}finally{a.pop_exception()}else throw O;}}()},Za.$$arity=1);
a.def(W,"$coerce",Fa=function(R){var aa=Fa.$$p,U;aa&&(Fa.$$p=null);var ha=0;var la=arguments.length;for(U=Array(la);ha<la;ha++)U[ha]=arguments[ha];aa=n(Va,"Numeric")["$==="](R)?[this.$d()["$-@"](),this.$d()]:D(this,a.find_super_dispatcher(this,"coerce",Fa,!1,!0),"coerce",U,aa);return aa},Fa.$$arity=1);return(a.def(W,"$to_f",Z=function(){if(this.d["$=="](0))return 0;var R=this.d;R="number"===typeof R?0<R:R["$>"](0);return e(R)?p(n(Va,"Float"),"INFINITY"):p(n(Va,"Float"),"INFINITY")["$-@"]()},Z.$$arity=
0),z)&&"to_f"})(d[0],n(d,"Numeric"),d);a.const_set(d[0],"JULIAN",n(d,"Infinity").$new());a.const_set(d[0],"GREGORIAN",n(d,"Infinity").$new()["$-@"]());a.const_set(d[0],"ITALY",2299161);a.const_set(d[0],"ENGLAND",2361222);a.const_set(d[0],"MONTHNAMES",x([z],"January February March April May June July August September October November December".split(" ")));a.const_set(d[0],"ABBR_MONTHNAMES","jan feb mar apr may jun jul aug sep oct nov dec".split(" "));a.const_set(d[0],"DAYNAMES","Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "));
a.const_set(d[0],"ABBR_DAYNAMES","Sun Mon Tue Wed Thu Fri Sat".split(" "));(function(W,ya){var Ba=[W].concat(ya),Va,bb,db,Ca;a.alias(W,"civil","new");a.def(W,"$wrap",Va=function(Wa){var za=this.$allocate();za.date=Wa;return za},Va.$$arity=1);a.def(W,"$parse",bb=function(Wa,za){function ua(ba){return ba[1]}function Na(ba){return ba[2]}function Ta(ba){return ba[3]}function Za(ba){return ba[4]}function Fa(ba){return function(v){v=ba(v);return 69<=v?v+1900:v+2E3}}function Z(ba){return function(v){v=ba(v).toLowerCase();
return n(Ba,"ABBR_MONTHNAMES").indexOf(v)+1}}function R(ba){return function(v){v=ba(v);return parseInt(v,10)}}function aa(ba){return function(v){v=ba(v);return m(n(Ba,"MONTHNAMES").$compact(),"map",[],"downcase".$to_proc()).indexOf(v.$downcase())+1}}null==za&&(za=!0);var U=new Date,ha=U.getDate(),la=U.getMonth(),g=U.getFullYear(),C=U.getDay();U=n(Ba,"MONTHNAMES").$compact().$join("|");U=[{regexp:/^(\d{2})$/,year:g,month:la,day:R(ua)},{regexp:/^(\d{3})$/,year:g,month:0,day:R(ua)},{regexp:/^(\d{2})(\d{2})$/,
year:g,month:R(ua),day:R(Na)},{regexp:/^(\d{2})(\d{3})$/,year:Fa(R(ua)),month:0,day:R(Na)},{regexp:/^(\d{2})(\d{2})(\d{2})$/,year:Fa(R(ua)),month:R(Na),day:R(Ta)},{regexp:/^(\d{4})(\d{3})$/,year:R(ua),month:0,day:R(Na)},{regexp:/^(\d{4})(\d{2})(\d{2})$/,year:R(ua),month:R(Na),day:R(Ta)},{regexp:/^([a-z]{3})[\s\.\/\-](\d{3,4})$/,year:R(Na),month:Z(ua),day:1},{regexp:/^(\d{1,2})[\s\.\/\-]([a-z]{3})[\s\.\/\-](\d{3,4})$/i,year:R(Ta),month:Z(Na),day:R(ua)},{regexp:/^([a-z]{3})[\s\.\/\-](\d{1,2})[\s\.\/\-](\d{3,4})$/i,
year:R(Ta),month:Z(ua),day:R(Na)},{regexp:/^(\d{3,4})[\s\.\/\-]([a-z]{3})[\s\.\/\-](\d{1,2})$/i,year:R(ua),month:Z(Na),day:R(Ta)},{regexp:/^(\-?\d{3,4})[\s\.\/\-](\d{1,2})[\s\.\/\-](\d{1,2})$/,year:R(ua),month:R(Na),day:R(Ta)},{regexp:/^(\d{2})[\s\.\/\-](\d{1,2})[\s\.\/\-](\d{1,2})$/,year:function(ba){return function(v){v=ba(v);return za?v+2E3:v}}(R(ua)),month:R(Na),day:R(Ta)},{regexp:/^(\d{1,2})[\s\.\/\-](\d{1,2})[\s\.\/\-](\-?\d{3,4})$/,year:R(Ta),month:R(Na),day:R(ua)},{regexp:new RegExp("^("+
n(Ba,"DAYNAMES").$join("|")+")$","i"),year:g,month:la,day:function(ba){return function(v){v=ba(v);v=m(n(Ba,"DAYNAMES"),"map",[],"downcase".$to_proc()).indexOf(v.$downcase());return ha-C+v}}(ua)},{regexp:new RegExp("^("+U+")[\\s\\.\\/\\-](\\d{1,2})(th|nd|rd)[\\s\\.\\/\\-](\\-?\\d{3,4})$","i"),year:R(Za),month:aa(ua),day:R(Na)},{regexp:new RegExp("^("+U+")[\\s\\.\\/\\-](\\d{1,2})(th|nd|rd)","i"),year:g,month:aa(ua),day:R(Na)},{regexp:new RegExp("^(\\d{1,2})(th|nd|rd)[\\s\\.\\/\\-]("+U+")[\\s\\.\\/\\-](\\-?\\d{3,4})$",
"i"),year:R(Za),month:aa(Ta),day:R(ua)},{regexp:new RegExp("^(\\-?\\d{3,4})[\\s\\.\\/\\-]("+U+")[\\s\\.\\/\\-](\\d{1,2})(th|nd|rd)$","i"),year:R(ua),month:aa(Na),day:R(Ta)}];var O;for(O=0;O<U.length;O++)if(g=U[O],la=g.regexp.exec(Wa))return Wa=g.year,"function"===typeof Wa&&(Wa=Wa(la)),U=g.month,"function"===typeof U&&(U=U(la)-1),g=g.day,"function"===typeof g&&(g=g(la)),la=new Date(Wa,U,g),0<=Wa&&1970>=Wa&&la.setFullYear(Wa),this.$wrap(la);return this.$raise(n(Ba,"ArgumentError"),"invalid date")},
bb.$$arity=-2);a.def(W,"$today",db=function(){return this.$wrap(new Date)},db.$$arity=0);return(a.def(W,"$gregorian_leap?",Ca=function(Wa){return 0===(new Date(Wa,1,29)).getMonth()-1},Ca.$$arity=1),z)&&"gregorian_leap?"})(a.get_singleton_class(E),d);a.def(E,"$initialize",l=function(W,ya,Ba,Va){null==W&&(W=-4712);null==ya&&(ya=1);null==Ba&&(Ba=1);null==Va&&n(d,"ITALY");1582===W&&10===ya&&4<Ba&&15>Ba&&(Ba=4);return this.date=new Date(W,ya-1,Ba)},l.$$arity=-1);a.def(E,"$-",N=function(W){if(W.$$is_number){var ya=
this.$clone();ya.date.setDate(this.date.getDate()-W);return ya}if(W.date)return Math.round((this.date-W.date)/864E5);this.$raise(n(d,"TypeError"))},N.$$arity=1);a.def(E,"$+",y=function(W){if(W.$$is_number){var ya=this.$clone();ya.date.setDate(this.date.getDate()+W);return ya}this.$raise(n(d,"TypeError"))},y.$$arity=1);a.def(E,"$<",S=function(W){var ya=this.date;W=W.date;ya.setHours(0,0,0,0);W.setHours(0,0,0,0);return ya<W},S.$$arity=1);a.def(E,"$<=",ja=function(W){var ya=this.date;W=W.date;ya.setHours(0,
0,0,0);W.setHours(0,0,0,0);return ya<=W},ja.$$arity=1);a.def(E,"$>",ea=function(W){var ya=this.date;W=W.date;ya.setHours(0,0,0,0);W.setHours(0,0,0,0);return ya>W},ea.$$arity=1);a.def(E,"$>=",ma=function(W){var ya=this.date;W=W.date;ya.setHours(0,0,0,0);W.setHours(0,0,0,0);return ya>=W},ma.$$arity=1);a.def(E,"$<=>",b=function(W){if(W.$$is_number)return this.$jd()["$<=>"](W);if(n(d,"Date")["$==="](W)){var ya=this.date;W=W.date;ya.setHours(0,0,0,0);W.setHours(0,0,0,0);return ya<W?-1:ya>W?1:0}return z},
b.$$arity=1);a.def(E,"$>>",h=function(W){W.$$is_number||this.$raise(n(d,"TypeError"));var ya=this.$clone(),Ba=ya.date,Va=Ba.getDate();Ba.setDate(1);Ba.setMonth(Ba.getMonth()+W);Ba.setDate(Math.min(Va,L(Ba.getFullYear(),Ba.getMonth())));return ya},h.$$arity=1);a.def(E,"$<<",f=function(W){W.$$is_number||this.$raise(n(d,"TypeError"));return this["$>>"](-W)},f.$$arity=1);a.alias(E,"eql?","==");a.def(E,"$clone",q=function(){return n(d,"Date").$wrap(new Date(this.date.getTime()))},q.$$arity=0);a.def(E,
"$day",A=function(){return this.date.getDate()},A.$$arity=0);a.def(E,"$friday?",F=function(){return this.$wday()["$=="](5)},F.$$arity=0);a.def(E,"$jd",G=function(){var W=this.date.getMonth()+1,ya=this.date.getDate(),Ba=this.date.getFullYear();var Va=1;1585>=Ba&&(Va=0);var bb=-1*Math.floor(7*(Math.floor((W+9)/12)+Ba)/4);var db=1;0>W-9&&(db=-1);db=Math.floor(Ba+db*Math.floor(Math.abs(W-9)/7));db=-1*Math.floor(3*(Math.floor(db/100)+1)/4);bb=bb+Math.floor(275*W/9)+ya+Va*db;return bb+1721027+2*Va+367*
Ba-.5+.5},G.$$arity=0);a.def(E,"$julian?",J=function(){return this.date<new Date(1582,9,15,12)},J.$$arity=0);a.def(E,"$monday?",ca=function(){return this.$wday()["$=="](1)},ca.$$arity=0);a.def(E,"$month",va=function(){return this.date.getMonth()+1},va.$$arity=0);a.def(E,"$next",Pa=function(){return x(this,1)},Pa.$$arity=0);a.def(E,"$next_day",wa=function(W){null==W&&(W=1);return x(this,W)},wa.$$arity=-1);a.def(E,"$next_month",Aa=function(W){null==W&&(W=1);var ya=this.$clone(),Ba=ya.date,Va=Ba.getDate();
Ba.setDate(1);Ba.setMonth(Ba.getMonth()+W);Ba.setDate(Math.min(Va,L(Ba.getFullYear(),Ba.getMonth())));return ya},Aa.$$arity=-1);a.def(E,"$next_year",La=function(W){null==W&&(W=1);return this.$class().$new(x(this.$year(),W),this.$month(),this.$day())},La.$$arity=-1);a.def(E,"$prev_day",na=function(W){null==W&&(W=1);return H(this,W)},na.$$arity=-1);a.def(E,"$prev_month",T=function(W){null==W&&(W=1);var ya=this.$clone(),Ba=ya.date,Va=Ba.getDate();Ba.setDate(1);Ba.setMonth(Ba.getMonth()-W);Ba.setDate(Math.min(Va,
L(Ba.getFullYear(),Ba.getMonth())));return ya},T.$$arity=-1);a.def(E,"$prev_year",sa=function(W){null==W&&(W=1);return this.$class().$new(H(this.$year(),W),this.$month(),this.$day())},sa.$$arity=-1);a.def(E,"$saturday?",xa=function(){return this.$wday()["$=="](6)},xa.$$arity=0);a.def(E,"$strftime",Ja=function(W){null==W&&(W="");return""==W?this.$to_s():this.date.$strftime(W)},Ja.$$arity=-1);a.alias(E,"succ","next");a.def(E,"$sunday?",ka=function(){return this.$wday()["$=="](0)},ka.$$arity=0);a.def(E,
"$thursday?",M=function(){return this.$wday()["$=="](4)},M.$$arity=0);a.def(E,"$to_s",K=function(){var W=this.date,ya=W.getFullYear(),Ba=W.getMonth()+1;W=W.getDate();10>Ba&&(Ba="0"+Ba);10>W&&(W="0"+W);return ya+"-"+Ba+"-"+W},K.$$arity=0);a.def(E,"$to_time",Y=function(){return n(d,"Time").$new(this.$year(),this.$month(),this.$day())},Y.$$arity=0);a.def(E,"$to_n",qa=function(){return this.date},qa.$$arity=0);a.def(E,"$tuesday?",fa=function(){return this.$wday()["$=="](2)},fa.$$arity=0);a.def(E,"$step",
ta=function(W,ya){var Ba=ta.$$p,Va=Ba||z,bb,db,Ca=z;Ca=Ca=z;Ba&&(ta.$$p=null);Ba&&(ta.$$p=null);null==ya&&(ya=1);Ca=H(W,this).$to_i();Ca=e(t("number"===typeof Ca&&"number"===typeof ya?Ca*ya:Ca["$*"](ya),0))?[]:e(t(Ca,0))?m(a.Range.$new(0,Ca["$-@"](),!1).$step(ya.$abs()),"map",[],"-@".$to_proc()).$reverse():a.Range.$new(0,Ca,!1).$step(ya.$abs());Ca=m(Ca,"map",[],(bb=function(Wa){var za=null==bb.$$s?this:bb.$$s;null==Wa&&(Wa=z);return x(za,Wa)},bb.$$s=this,bb.$$arity=1,bb));return Va!==z?(m(Ca,"each",
[],(db=function(Wa){null==Wa&&(Wa=z);return a.yield1(Va,Wa)},db.$$s=this,db.$$arity=1,db)),this):Ca},ta.$$arity=-2);a.def(E,"$upto",Ea=function(W){var ya=Ea.$$p,Ba=ya||z;ya&&(Ea.$$p=null);ya&&(Ea.$$p=null);return m(this,"step",[W,1],Ba.$to_proc())},Ea.$$arity=1);a.def(E,"$downto",Ha=function(W){var ya=Ha.$$p,Ba=ya||z;ya&&(Ha.$$p=null);ya&&(Ha.$$p=null);return m(this,"step",[W,-1],Ba.$to_proc())},Ha.$$arity=1);a.def(E,"$wday",Ra=function(){return this.date.getDay()},Ra.$$arity=0);a.def(E,"$wednesday?",
Sa=function(){return this.$wday()["$=="](3)},Sa.$$arity=0);a.def(E,"$year",Ma=function(){return this.date.getFullYear()},Ma.$$arity=0);a.def(E,"$cwday",gb=function(){return this.date.getDay()||7},gb.$$arity=0);a.def(E,"$cweek",kb=function(){var W=new Date(this.date);W.setHours(0,0,0);W.setDate(W.getDate()+4-(W.getDay()||7));return Math.ceil(((W-new Date(W.getFullYear(),0,1))/864E5+1)/7)},kb.$$arity=0)}(w[0],null,w)};
(function(a){function x(d,l){return"number"===typeof d&&"number"===typeof l?d+l:d["$+"](l)}function H(d,l){return"number"===typeof d&&"number"===typeof l?d>l:d["$>"](l)}function t(d,l){return"number"===typeof d&&"number"===typeof l?d<l:d["$<"](l)}function w(d,l){return"number"===typeof d&&"number"===typeof l?d-l:d["$-"](l)}function z(d,l){return"number"===typeof d&&"number"===typeof l?d<=l:d["$<="](l)}var p=a.top,n=[],u=a.nil,D=a.$$$,e=a.$$,m=a.klass,E=a.hash2,c=a.truthy,k=a.send,L=a.range;a.add_stubs("$require $setup $first $drop $=== $nil? $empty? $raise $+ $add $join $> $length $change_state $to_i $list $< $set_priority $due_date $append $rename $!= $delete $add_note $delete_note $[] $show $puts $usage $start_repl $cleanup $colorize $private $map $each_with_index $keys $== $select $parse $strftime $today $downcase $- $lambda $match $! $<= $each $split $strip $chomp $[]= $has_key? $sort $generate $gsub $convert_due_date $postprocess_tags $load_tasks $call $write_tasks $update_task $push $max $size $to_s $& $sort_by $filter_tasks $start_with? $abs $rjust $to_a $delete_at $is_a? $execute $each_key $uniq $all? $index $new".split(" "));
p.$require("json");p.$require("date");(function(d,$super,N){d=m(d,$super,"Todo");var y=[d].concat(N),S,ja,ea,ma,b,h,f,q,A,F,G,J,ca,va,Pa,wa,Aa,La,na,T,sa,xa,Ja;d.$$prototype.queries=d.$$prototype.today=d.$$prototype.due_date_days=u;a.const_set(y[0],"COLOR_CODES",E("black red green yellow blue magenta cyan white".split(" "),{black:30,red:31,green:32,yellow:33,blue:34,magenta:35,cyan:36,white:37}));a.const_set(y[0],"STATES",E(["new","done","started","blocked","default"],{"new":"[ ]",done:"[x]",started:"[>]",
blocked:"[!]","default":"[?]"}));a.const_set(y[0],"ORDER",E(["new","done","started","blocked","default"],{"new":3,done:4,started:2,blocked:1,"default":100}));a.const_set(y[0],"COLORS",E(["new","done","started","blocked","default"],{"new":"white",done:"blue",started:"green",blocked:"yellow","default":"magenta"}));a.const_set(y[0],"DATE_FORMAT","%Y-%m-%d");a.const_set(y[0],"DATE_PATTERN",/^[1-9]\d{3}-(0[1-9]|1[0-2])-(0[1-9]|[12]\d|3[01])$/);a.const_set(y[0],"DUE_DATE_DAYS_SIMPLE",["today","tomorrow"]);
a.const_set(y[0],"DUE_DATE_TAG_PATTERN",/(^| )due:([a-zA-Z0-9-]+)/);a.const_set(y[0],"CONTEXT_TAG_PATTERN",/(^| )[@+][\w-]+/);a.const_set(y[0],"PRIORITY_FLAG","*");a.const_set(y[0],"TODO_FILE",require("path").join(require("os").homedir(),"todo.jsonl"));a.def(d,"$execute",S=function(ka){var M=u,K=u,Y=u,qa=u,fa=u,ta=u;try{this.$setup(),M=ka.$first(),K=ka.$drop(1),Y=M,"add"["$==="](Y)?(c(c(qa=K["$nil?"]())?qa:K["$empty?"]())&&this.$raise(x(M," command requires at least one parameter")),this.$add(K.$join(" "))):
"start"["$==="](Y)?c(H(K.$length(),0))?this.$change_state(K.$first().$to_i(),"started",K.$drop(1).$join(" ")):this.$list(u,[":started"]):"done"["$==="](Y)?c(H(K.$length(),0))?this.$change_state(K.$first().$to_i(),"done",K.$drop(1).$join(" ")):this.$list(u,[":done"]):"block"["$==="](Y)?c(H(K.$length(),0))?this.$change_state(K.$first().$to_i(),"blocked",K.$drop(1).$join(" ")):this.$list(u,[":blocked"]):"reset"["$==="](Y)?c(H(K.$length(),0))?this.$change_state(K.$first().$to_i(),"new",K.$drop(1).$join(" ")):
this.$list(u,[":new"]):"prio"["$==="](Y)?(c(t(K.$length(),1))&&this.$raise(x(M," command requires at least one parameter")),this.$set_priority(K.$first().$to_i(),K.$drop(1).$join(" "))):"due"["$==="](Y)?(c(t(K.$length(),1))&&this.$raise(x(M," command requires at least one parameter")),this.$due_date(K.$first().$to_i(),K.$drop(1).$join(" "))):"append"["$==="](Y)?(c(t(K.$length(),2))&&this.$raise(x(M," command requires at least two parameters")),this.$append(K.$first().$to_i(),K.$drop(1).$join(" "))):
"rename"["$==="](Y)?(c(t(K.$length(),2))&&this.$raise(x(M," command requires at least two parameters")),this.$rename(K.$first().$to_i(),K.$drop(1).$join(" "))):"del"["$==="](Y)?(c(K.$length()["$!="](1))&&this.$raise(x(M," command requires exactly one parameter")),this.$delete(K.$first().$to_i())):"note"["$==="](Y)?(c(t(K.$length(),2))&&this.$raise(x(M," command requires at least two parameters")),this.$add_note(K.$first().$to_i(),K.$drop(1).$join(" "))):"delnote"["$==="](Y)?(c(c(fa=t(K.$length(),
1))?fa:H(K.$length(),2))&&this.$raise(x(M," command requires one or two parameters")),this.$delete_note(K.$first().$to_i(),K["$[]"](1))):"list"["$==="](Y)?this.$list(u,K):"show"["$==="](Y)?(c(K.$length()["$!="](1))&&this.$raise(x(M," command requires exactly one parameter")),this.$show(K.$first().$to_i())):"help"["$==="](Y)?(c(H(K.$length(),0))&&this.$raise(x(M," command has no parameters")),this.$puts(this.$usage())):"repl"["$==="](Y)?(c(H(K.$length(),0))&&this.$raise(x(M," command has no parameters")),
this.$start_repl()):"cleanup"["$==="](Y)?(c(c(ta=K["$nil?"]())?ta:K["$empty?"]())&&this.$raise(x(M," command requires at least one parameter")),this.$cleanup(K)):this.$list(u,ka)}catch(Ea){if(a.rescue(Ea,[D(e(y,"JS"),"Error"),e(y,"StandardError")])){ka=Ea;try{this.$puts(""+this.$colorize("ERROR:","red")+" "+ka)}finally{a.pop_exception()}}else throw Ea;}return this},S.$$arity=1);d.$private();a.def(d,"$usage",ja=function(){var ka,M,K;return"Usage: todo <command> <arguments>\n\nCommands:\n* add <text>                     add new task\n* start <tasknumber> [text]      mark task as started, with optional note\n* done <tasknumber> [text]       mark task as completed, with optional note\n* block <tasknumber> [text]      mark task as blocked, with optional note\n* reset <tasknumber> [text]      reset task to new state, with optional note\n* prio <tasknumber> [text]       toggle high priority flag, with optional note\n* due <tasknumber> [date]        set/unset due date (in YYYY-MM-DD format)\n\n* append <tasknumber> <text>     append text to task title\n* rename <tasknumber> <text>     rename task\n* del <tasknumber>               delete task\n* note <tasknumber> <text>       add note to task\n* delnote <tasknumber> [number]  delete a specific or all notes from task\n\n* list <regex> [regex...]        list tasks (only active tasks by default)\n* show <tasknumber>              show all task details\n* repl                           enter read-eval-print loop mode\n* cleanup <regex> [regex...]     cleanup completed tasks by regex\n* help                           this help screen\n\nWith list command the following pre-defined queries can be also used:\n"+
k(this.queries.$keys().$each_with_index(),"map",[],(ka=function(Y,qa){null==Y&&(Y=u);null==qa&&(qa=u);return x(qa["$=="](8)?"\n":"",Y)},ka.$$s=this,ka.$$arity=2,ka)).$join(", ")+'\n\nDue dates can be also added via tags in task title: "due:YYYY-MM-DD"\nIn addition to formatted dates, you can use date synonyms:\n"due:today", "due:tomorrow", and day names e.g. "due:monday" or "due:tue"\n\nLegend: '+k(k(e(y,"STATES"),"select",[],(M=function(Y){null==Y&&(Y=u);return Y["$!="]("default")},M.$$s=this,M.$$arity=
2,M)),"map",[],(K=function(Y,qa){null==Y&&(Y=u);null==qa&&(qa=u);return""+Y+" "+qa},K.$$s=this,K.$$arity=2,K)).$join(", ")+", priority "+e(y,"PRIORITY_FLAG")+"\n\nTodo file: "+e(y,"TODO_FILE")+"\n"},ja.$$arity=0);a.def(d,"$setup",ea=function(){var ka,M,K,Y,qa,fa,ta,Ea,Ha,Ra,Sa,Ma,gb,kb,W,ya,Ba,Va=u,bb=u,db=u;this.today=e(y,"Date").$parse(e(y,"Date").$today().$strftime(e(y,"DATE_FORMAT")));Va=k(L(0,6,!1),"map",[],(ka=function(Ca){var Wa=null==ka.$$s?this:ka.$$s;null==Wa.today&&(Wa.today=u);null==Ca&&
(Ca=u);return x(Wa.today,Ca)},ka.$$s=this,ka.$$arity=1,ka));this.due_date_days=k(Va,"map",[],(M=function(Ca){null==Ca&&(Ca=u);return Ca.$strftime("%A").$downcase()},M.$$s=this,M.$$arity=1,M));bb=k(Va,"map",[],(K=function(Ca){null==Ca&&(Ca=u);return Ca.$strftime(e(y,"DATE_FORMAT"))},K.$$s=this,K.$$arity=1,K));db=w(this.today,7).$strftime(e(y,"DATE_FORMAT"));return this.queries=E(":active :done :blocked :started :new :all :priority :note :today :tomorrow :next7days :overdue :due :recent".split(" "),
{":active":k(this,"lambda",[],(Y=function(Ca){null==Ca&&(Ca=u);return/(new|started|blocked)/.$match(Ca["$[]"]("state"))},Y.$$s=this,Y.$$arity=1,Y)),":done":k(this,"lambda",[],(qa=function(Ca){null==Ca&&(Ca=u);return"done"["$=="](Ca["$[]"]("state"))},qa.$$s=this,qa.$$arity=1,qa)),":blocked":k(this,"lambda",[],(fa=function(Ca){null==Ca&&(Ca=u);return"blocked"["$=="](Ca["$[]"]("state"))},fa.$$s=this,fa.$$arity=1,fa)),":started":k(this,"lambda",[],(ta=function(Ca){null==Ca&&(Ca=u);return"started"["$=="](Ca["$[]"]("state"))},
ta.$$s=this,ta.$$arity=1,ta)),":new":k(this,"lambda",[],(Ea=function(Ca){null==Ca&&(Ca=u);return"new"["$=="](Ca["$[]"]("state"))},Ea.$$s=this,Ea.$$arity=1,Ea)),":all":k(this,"lambda",[],(Ha=function(Ca){null==Ca&&(Ca=u);return/\w+/.$match(Ca["$[]"]("state"))},Ha.$$s=this,Ha.$$arity=1,Ha)),":priority":k(this,"lambda",[],(Ra=function(Ca){null==Ca&&(Ca=u);return Ca["$[]"]("priority")},Ra.$$s=this,Ra.$$arity=1,Ra)),":note":k(this,"lambda",[],(Sa=function(Ca){var Wa;null==Ca&&(Ca=u);return c(Wa=Ca["$[]"]("note"))?
Ca["$[]"]("note")["$empty?"]()["$!"]():Wa},Sa.$$s=this,Sa.$$arity=1,Sa)),":today":k(this,"lambda",[],(Ma=function(Ca){null==Ca&&(Ca=u);return bb["$[]"](0)["$=="](Ca["$[]"]("due"))},Ma.$$s=this,Ma.$$arity=1,Ma)),":tomorrow":k(this,"lambda",[],(gb=function(Ca){null==Ca&&(Ca=u);return bb["$[]"](1)["$=="](Ca["$[]"]("due"))},gb.$$s=this,gb.$$arity=1,gb)),":next7days":k(this,"lambda",[],(kb=function(Ca){null==Ca&&(Ca=u);return a.regexp(["(",bb.$join("|"),")"]).$match(Ca["$[]"]("due"))},kb.$$s=this,kb.$$arity=
1,kb)),":overdue":k(this,"lambda",[],(W=function(Ca){var Wa;null==Ca&&(Ca=u);return c(Wa=Ca["$[]"]("due"))?t(Ca["$[]"]("due"),bb["$[]"](0)):Wa},W.$$s=this,W.$$arity=1,W)),":due":k(this,"lambda",[],(ya=function(Ca){null==Ca&&(Ca=u);return Ca["$[]"]("due")},ya.$$s=this,ya.$$arity=1,ya)),":recent":k(this,"lambda",[],(Ba=function(Ca){null==Ca&&(Ca=u);return z(db,Ca["$[]"]("modified"))},Ba.$$s=this,Ba.$$arity=1,Ba))})},ea.$$arity=0);a.def(d,"$load_tasks",ma=function(ka){var M,K=u,Y=u,qa=u,fa=u;null==ka&&
(ka=u);K=0;Y=E([],{});qa=require("fs").existsSync(e(y,"TODO_FILE"))?require("fs").readFileSync(e(y,"TODO_FILE"),"utf8"):"";c(qa["$empty?"]()["$!"]())&&k(qa.$split("\n"),"each",[],(M=function(ta){null==ta&&(ta=u);if(ta.$strip()["$=="](""))return u;K=x(K,1);ta=[K,e(y,"JSON").$parse(ta.$chomp(),E(["symbolize_names"],{symbolize_names:!0}))];k(Y,"[]=",a.to_a(ta));return ta[w(ta.length,1)]},M.$$s=this,M.$$arity=1,M));c(c(fa=ka)?Y["$has_key?"](ka)["$!"]():fa)&&this.$raise(""+ka+": No such todo");return Y},
ma.$$arity=-1);a.def(d,"$write_tasks",b=function(ka){var M,K=u;K=x(k(ka.$keys().$sort(),"map",[],(M=function(Y){null==Y&&(Y=u);return e(y,"JSON").$generate(ka["$[]"](Y))},M.$$s=this,M.$$arity=1,M)).$join("\n"),"\n");return require("fs").writeFileSync(e(y,"TODO_FILE"),K,"utf8")},b.$$arity=1);a.def(d,"$postprocess_tags",h=function(ka){var M=ka["$[]"]("title").$match(e(y,"DUE_DATE_TAG_PATTERN"));if(c(M)){var K=["title",ka["$[]"]("title").$gsub(e(y,"DUE_DATE_TAG_PATTERN"),"")];k(ka,"[]=",a.to_a(K));K[w(K.length,
1)];K=["due",this.$convert_due_date(M["$[]"](2))];k(ka,"[]=",a.to_a(K));K[w(K.length,1)]}return c(ka["$[]"]("title")["$empty?"]())?this.$raise("title must not be empty"):u},h.$$arity=1);a.def(d,"$add",f=function(ka){ka=E(["state","title","modified"],{state:"new",title:ka,modified:this.today.$strftime(e(y,"DATE_FORMAT"))});this.$postprocess_tags(ka);require("fs").appendFileSync(e(y,"TODO_FILE"),x(e(y,"JSON").$generate(ka),"\n"),"utf8");return this.$list()},f.$$arity=1);a.def(d,"$update_task",q=function(ka,
M,K){var Y=this.$load_tasks(ka);K.$call(Y["$[]"](ka));K=["modified",this.today.$strftime(e(y,"DATE_FORMAT"))];k(Y["$[]"](ka),"[]=",a.to_a(K));K[w(K.length,1)];this.$write_tasks(Y);return"show"["$==="](M)?this.$show(ka,Y):"list"["$==="](M)?this.$list(Y):u},q.$$arity=3);a.def(d,"$append",A=function(ka,M){var K;return this.$update_task(ka,"list",k(this,"lambda",[],(K=function(Y){var qa=null==K.$$s?this:K.$$s;null==Y&&(Y=u);var fa=["title",[Y["$[]"]("title"),M].$join(" ")];k(Y,"[]=",a.to_a(fa));fa[w(fa.length,
1)];return qa.$postprocess_tags(Y)},K.$$s=this,K.$$arity=1,K)))},A.$$arity=2);a.def(d,"$rename",F=function(ka,M){var K;return this.$update_task(ka,"list",k(this,"lambda",[],(K=function(Y){var qa=null==K.$$s?this:K.$$s;null==Y&&(Y=u);var fa=["title",M];k(Y,"[]=",a.to_a(fa));fa[w(fa.length,1)];return qa.$postprocess_tags(Y)},K.$$s=this,K.$$arity=1,K)))},F.$$arity=2);a.def(d,"$delete",G=function(ka){var M=this.$load_tasks(ka);M.$delete(ka);this.$write_tasks(M);return this.$list()},G.$$arity=1);a.def(d,
"$change_state",J=function(ka,M,K){var Y;null==K&&(K=u);return this.$update_task(ka,"list",k(this,"lambda",[],(Y=function(qa){var fa=u;null==qa&&(qa=u);var ta=["state",M];k(qa,"[]=",a.to_a(ta));ta[w(ta.length,1)];return c(c(fa=K["$nil?"]()["$!"]())?K["$empty?"]()["$!"]():fa)?(c(ta=qa["$[]"]("note"))?ta:(ta=["note",[]],k(qa,"[]=",a.to_a(ta)),ta[w(ta.length,1)]),qa["$[]"]("note").$push(K)):u},Y.$$s=this,Y.$$arity=1,Y)))},J.$$arity=-3);a.def(d,"$set_priority",ca=function(ka,M){var K;null==M&&(M=u);return this.$update_task(ka,
"list",k(this,"lambda",[],(K=function(Y){var qa=u;null==Y&&(Y=u);var fa=["priority",Y["$[]"]("priority")["$!"]()];k(Y,"[]=",a.to_a(fa));fa[w(fa.length,1)];c(Y["$[]"]("priority")["$!"]())&&Y.$delete("priority");return c(c(qa=M["$nil?"]()["$!"]())?M["$empty?"]()["$!"]():qa)?(c(fa=Y["$[]"]("note"))?fa:(fa=["note",[]],k(Y,"[]=",a.to_a(fa)),fa[w(fa.length,1)]),Y["$[]"]("note").$push(M)):u},K.$$s=this,K.$$arity=1,K)))},ca.$$arity=-2);a.def(d,"$due_date",va=function(ka,M){var K;null==M&&(M="");return this.$update_task(ka,
"list",k(this,"lambda",[],(K=function(Y){var qa=null==K.$$s?this:K.$$s;null==Y&&(Y=u);qa=["due",qa.$convert_due_date(M)];k(Y,"[]=",a.to_a(qa));qa[w(qa.length,1)];return c(Y["$[]"]("due")["$nil?"]())?Y.$delete("due"):u},K.$$s=this,K.$$arity=1,K)))},va.$$arity=-2);a.def(d,"$list",Pa=function(ka,M){var K,Y,qa=u,fa=u,ta=u,Ea=u;null==ka&&(ka=u);null==M&&(M=u);ka=c(qa=ka)?qa:this.$load_tasks();fa=[ka.$keys().$max().$to_s().$size(),4].$max();M=c(ta=M)?ta:[];c(M["$&"](":active :done :blocked :started :new :all".split(" "))["$empty?"]())&&
(M=x(M,[":active"]));Ea=k(this.$filter_tasks(ka,M),"sort_by",[],(K=function(Ha,Ra){var Sa=u,Ma=u,gb=u;null==Ha&&(Ha=u);null==Ra&&(Ra=u);return[c(c(Sa=Ra["$[]"]("priority"))?Ra["$[]"]("state")["$!="]("done"):Sa)?0:1,e(y,"ORDER")["$[]"](c(Ma=Ra["$[]"]("state"))?Ma:"default"),c(Ra["$[]"]("state")["$!="]("done"))?c(gb=Ra["$[]"]("due"))?gb:"n/a":Ra["$[]"]("modified"),Ha]},K.$$s=this,K.$$arity=2,K));k(Ea,"each",[],(Y=function(Ha,Ra){var Sa=null==Y.$$s?this:Y.$$s,Ma,gb=u,kb=u,W=u,ya=u,Ba=u,Va=u,bb=u,db=
u,Ca=gb=u,Wa=u;null==Sa.today&&(Sa.today=u);null==Sa.due_date_days&&(Sa.due_date_days=u);null==Ha&&(Ha=u);null==Ra&&(Ra=u);gb=c(kb=Ra["$[]"]("state"))?kb:"default";W=Sa.$colorize(e(y,"STATES")["$[]"](gb),e(y,"COLORS")["$[]"](gb));ya=k(Ra["$[]"]("title"),"gsub",[e(y,"CONTEXT_TAG_PATTERN")],(Ma=function(za){var ua=null==Ma.$$s?this:Ma.$$s;null==za&&(za=u);return x(c(za["$start_with?"](" "))?" ":"",ua.$colorize(za.$strip(),"cyan"))},Ma.$$s=Sa,Ma.$$arity=1,Ma));Ba=c(c(Va=Ra["$[]"]("priority"))?gb["$!="]("done"):
Va)?Sa.$colorize(e(y,"PRIORITY_FLAG"),"red"):" ";bb="";c(c(db=Ra["$[]"]("due"))?gb["$!="]("done"):db)&&(gb=w(e(y,"Date").$parse(Ra["$[]"]("due")),Sa.today).$to_i(),c(t(gb,0))?bb=Sa.$colorize("("+gb.$abs()+"d overdue)","red"):c(c(Ca=gb["$=="](0))?Ca:gb["$=="](1))?bb=Sa.$colorize("("+e(y,"DUE_DATE_DAYS_SIMPLE")["$[]"](gb)+")","yellow"):c(H(gb,1))&&(bb=Sa.$colorize("("+(c(Wa=Sa.due_date_days["$[]"](gb))?Wa:Ra["$[]"]("due"))+")","magenta")),bb=x(" ",bb));return Sa.$puts(""+Ha.$to_s().$rjust(fa)+":"+Ba+
W+" "+ya+bb)},Y.$$s=this,Y.$$arity=2,Y));return c(Ea["$empty?"]())?this.$puts("No todos found"):u},Pa.$$arity=-1);a.def(d,"$add_note",wa=function(ka,M){var K;return this.$update_task(ka,"show",k(this,"lambda",[],(K=function(Y){var qa;null==Y&&(Y=u);c(qa=Y["$[]"]("note"))?qa:(qa=["note",[]],k(Y,"[]=",a.to_a(qa)),qa[w(qa.length,1)]);return Y["$[]"]("note").$push(M)},K.$$s=this,K.$$arity=1,K)))},wa.$$arity=2);a.def(d,"$delete_note",Aa=function(ka,M){var K;null==M&&(M=u);return this.$update_task(ka,"show",
k(this,"lambda",[],(K=function(Y){var qa=null==K.$$s?this:K.$$s,fa=u;null==Y&&(Y=u);if(c(M.$to_s()["$empty?"]()))return Y.$delete("note");c(c(fa=z(M.$to_i(),0))?fa:t(Y["$[]"]("note").$to_a().$size(),M.$to_i()))&&qa.$raise(""+M.$to_i()+": Note does not exist");Y["$[]"]("note").$delete_at(w(M.$to_i(),1));return c(Y["$[]"]("note")["$empty?"]())?Y.$delete("note"):u},K.$$s=this,K.$$arity=1,K)))},Aa.$$arity=-2);a.def(d,"$show",La=function(ka,M){var K,Y=u;null==M&&(M=u);M=c(Y=M)?Y:this.$load_tasks(ka);return k(M["$[]"](ka),
"each",[],(K=function(qa,fa){var ta=null==K.$$s?this:K.$$s,Ea;null==qa&&(qa=u);null==fa&&(fa=u);c(fa["$is_a?"](e(y,"Array")))&&(fa=x("\n",k(fa.$each_with_index(),"map",[],(Ea=function(Ha,Ra){null==Ha&&(Ha=u);null==Ra&&(Ra=u);return c(H(fa.$size(),1))?""+x(Ra,1).$to_s().$rjust(fa.$size().$to_s().$size())+": "+Ha:Ha},Ea.$$s=ta,Ea.$$arity=2,Ea)).$join("\n")));return ta.$puts(""+ta.$colorize(x(qa.$to_s().$rjust(10),":"),"cyan")+" "+fa)},K.$$s=this,K.$$arity=2,K))},La.$$arity=-2);a.def(d,"$start_repl",
na=function(){function ka(){Y.question("\ntodo> ",function(qa){try{qa=qa.trim(),["exit","quit"].includes(qa)?Y.close():(["clear","cls"].includes(qa)?process.stdout.write("\u001b[H\u001b[2J"):K(qa),ka())}catch(fa){throw Y.close(),fa;}})}var M,K=u;K=k(this,"lambda",[],(M=function(qa){var fa=null==M.$$s?this:M.$$s;null==qa&&(qa=u);return fa.$execute(qa["$=="]("repl")?[]:qa.$split(/\s+/))},M.$$s=this,M.$$arity=1,M));var Y=require("readline").createInterface({input:process.stdin,output:process.stdout});
K("");ka()},na.$$arity=0);a.def(d,"$cleanup",T=function(ka){var M,K=u,Y=u;K=this.$load_tasks();ka=x([":done"],ka.$to_a());Y=this.$filter_tasks(K,ka);k(Y,"each_key",[],(M=function(qa){null==qa&&(qa=u);return K.$delete(qa)},M.$$s=this,M.$$arity=1,M));this.$write_tasks(K);return this.$puts("Deleted "+Y.$size()+" todo(s)")},T.$$arity=1);a.def(d,"$filter_tasks",sa=function(ka,M){var K;M=M.$uniq();return k(ka,"select",[],(K=function(Y,qa){var fa=null==K.$$s?this:K.$$s,ta;null==Y&&(Y=u);null==qa&&(qa=u);
return k(M,"all?",[],(ta=function(Ea){var Ha=null==ta.$$s?this:ta.$$s;null==Ha.queries&&(Ha.queries=u);null==Ea&&(Ea=u);return c(Ha.queries["$[]"](Ea))?Ha.queries["$[]"](Ea).$call(qa):a.regexp([Ea],"i").$match(qa["$[]"]("title"))},ta.$$s=fa,ta.$$arity=1,ta))},K.$$s=this,K.$$arity=2,K))},sa.$$arity=2);a.def(d,"$colorize",xa=function(ka,M){var K=u;return"\u001b["+(c(K=e(y,"COLOR_CODES")["$[]"](M))?K:37)+"m"+ka+"\u001b[0m"},xa.$$arity=2);return(a.def(d,"$convert_due_date",Ja=function(ka){var M,K=this,
Y=u,qa=u,fa=u,ta=u;Y=function(){return c(qa=c(fa=K.due_date_days.$index(ka.$to_s().$downcase()))?fa:e(y,"DUE_DATE_DAYS_SIMPLE").$index(ka.$to_s().$downcase()))?qa:k(K.due_date_days,"map",[],(M=function(Ea){null==Ea&&(Ea=u);return Ea["$[]"](L(0,2,!1))},M.$$s=K,M.$$arity=1,M)).$index(ka.$to_s().$downcase())}();return c(Y)?x(K.today,Y).$strftime(e(y,"DATE_FORMAT")):c(c(ta=ka["$nil?"]())?ta:ka["$empty?"]())?u:e(y,"Date").$parse(e(y,"DATE_PATTERN").$match(ka).$to_s()).$strftime(e(y,"DATE_FORMAT"))},Ja.$$arity=
1),u)&&"convert_due_date"})(n[0],null,n);return e(n,"Todo").$new().$execute(process.argv.slice(2))})(Opal);var Qb=Opal.$$;Opal.add_stubs(["$exit"]);Qb([],"Kernel").$exit();}).call(this);
