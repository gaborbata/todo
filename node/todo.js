#!/usr/bin/env node
(function(){var Za=Za||{};Za.scope={};Za.ASSUME_ES5=!1;Za.ASSUME_NO_NATIVE_MAP=!1;Za.ASSUME_NO_NATIVE_SET=!1;Za.SIMPLE_FROUND_POLYFILL=!1;Za.ISOLATE_POLYFILLS=!1;Za.FORCE_POLYFILL_PROMISE=!1;Za.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION=!1;Za.defineProperty=Za.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,w,G){if(a==Array.prototype||a==Object.prototype)return a;a[w]=G.value;return a};
Za.getGlobal=function(a){a=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var w=0;w<a.length;++w){var G=a[w];if(G&&G.Math==Math)return G}throw Error("Cannot find global object");};Za.global=Za.getGlobal(this);Za.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");Za.TRUST_ES6_POLYFILLS=!Za.ISOLATE_POLYFILLS||Za.IS_SYMBOL_NATIVE;Za.polyfills={};Za.propertyToPolyfillSymbol={};
Za.POLYFILL_PREFIX="$jscp$";Za.polyfill=function(a,w,G,z){w&&(Za.ISOLATE_POLYFILLS?Za.polyfillIsolated(a,w,G,z):Za.polyfillUnisolated(a,w,G,z))};Za.polyfillUnisolated=function(a,w){var G=Za.global;a=a.split(".");for(var z=0;z<a.length-1;z++){var B=a[z];if(!(B in G))return;G=G[B]}a=a[a.length-1];z=G[a];w=w(z);w!=z&&null!=w&&Za.defineProperty(G,a,{configurable:!0,writable:!0,value:w})};
Za.polyfillIsolated=function(a,w,G){var z=a.split(".");a=1===z.length;var B=z[0];B=!a&&B in Za.polyfills?Za.polyfills:Za.global;for(var h=0;h<z.length-1;h++){var v=z[h];if(!(v in B))return;B=B[v]}z=z[z.length-1];G=Za.IS_SYMBOL_NATIVE&&"es6"===G?B[z]:null;w=w(G);null!=w&&(a?Za.defineProperty(Za.polyfills,z,{configurable:!0,writable:!0,value:w}):w!==G&&(void 0===Za.propertyToPolyfillSymbol[z]&&(a=1E9*Math.random()>>>0,Za.propertyToPolyfillSymbol[z]=Za.IS_SYMBOL_NATIVE?Za.global.Symbol(z):Za.POLYFILL_PREFIX+
a+"$"+z),Za.defineProperty(B,Za.propertyToPolyfillSymbol[z],{configurable:!0,writable:!0,value:w})))};Za.underscoreProtoCanBeSet=function(){var a={a:!0},w={};try{return w.__proto__=a,w.a}catch(G){}return!1};Za.setPrototypeOf=Za.TRUST_ES6_POLYFILLS&&"function"==typeof Object.setPrototypeOf?Object.setPrototypeOf:Za.underscoreProtoCanBeSet()?function(a,w){a.__proto__=w;if(a.__proto__!==w)throw new TypeError(a+" is not extensible");return a}:null;
Za.polyfill("Object.setPrototypeOf",function(a){return a||Za.setPrototypeOf},"es6","es5");Za.arrayIteratorImpl=function(a){var w=0;return function(){return w<a.length?{done:!1,value:a[w++]}:{done:!0}}};Za.arrayIterator=function(a){return{next:Za.arrayIteratorImpl(a)}};Za.initSymbol=function(){};
Za.polyfill("Symbol",function(a){function w(h){if(this instanceof w)throw new TypeError("Symbol is not a constructor");return new G(z+(h||"")+"_"+B++,h)}function G(h,v){this.$jscomp$symbol$id_=h;Za.defineProperty(this,"description",{configurable:!0,writable:!0,value:v})}if(a)return a;G.prototype.toString=function(){return this.$jscomp$symbol$id_};var z="jscomp_symbol_"+(1E9*Math.random()>>>0)+"_",B=0;return w},"es6","es3");
Za.polyfill("Symbol.iterator",function(a){if(a)return a;a=Symbol("Symbol.iterator");for(var w="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),G=0;G<w.length;G++){var z=Za.global[w[G]];"function"===typeof z&&"function"!=typeof z.prototype[a]&&Za.defineProperty(z.prototype,a,{configurable:!0,writable:!0,value:function(){return Za.iteratorPrototype(Za.arrayIteratorImpl(this))}})}return a},"es6","es3");
Za.iteratorPrototype=function(a){a={next:a};a[Symbol.iterator]=function(){return this};return a};Za.iteratorFromArray=function(a,w){a instanceof String&&(a+="");var G=0,z=!1,B={next:function(){if(!z&&G<a.length){var h=G++;return{value:w(h,a[h]),done:!1}}z=!0;return{done:!0,value:void 0}}};B[Symbol.iterator]=function(){return B};return B};Za.polyfill("Array.prototype.keys",function(a){return a?a:function(){return Za.iteratorFromArray(this,function(w){return w})}},"es6","es3");
Za.owns=function(a,w){return Object.prototype.hasOwnProperty.call(a,w)};Za.assign=Za.TRUST_ES6_POLYFILLS&&"function"==typeof Object.assign?Object.assign:function(a,w){for(var G=1;G<arguments.length;G++){var z=arguments[G];if(z)for(var B in z)Za.owns(z,B)&&(a[B]=z[B])}return a};Za.polyfill("Object.assign",function(a){return a||Za.assign},"es6","es3");Za.polyfill("Number.EPSILON",function(){return Math.pow(2,-52)},"es6","es3");
Za.polyfill("Number.MAX_SAFE_INTEGER",function(){return 9007199254740991},"es6","es3");Za.checkStringArgs=function(a,w,G){if(null==a)throw new TypeError("The 'this' value for String.prototype."+G+" must not be null or undefined");if(w instanceof RegExp)throw new TypeError("First argument to String.prototype."+G+" must not be a regular expression");return a+""};
Za.polyfill("String.prototype.codePointAt",function(a){return a?a:function(w){var G=Za.checkStringArgs(this,null,"codePointAt"),z=G.length;w=Number(w)||0;if(0<=w&&w<z){w|=0;var B=G.charCodeAt(w);if(55296>B||56319<B||w+1===z)return B;w=G.charCodeAt(w+1);return 56320>w||57343<w?B:1024*(B-55296)+w+9216}}},"es6","es3");Za.polyfill("String.prototype.trimLeft",function(a){function w(){return this.replace(/^[\s\xa0]+/,"")}return a||w},"es_2019","es3");
Za.polyfill("String.prototype.repeat",function(a){return a?a:function(w){var G=Za.checkStringArgs(this,null,"repeat");if(0>w||1342177279<w)throw new RangeError("Invalid count value");w|=0;for(var z="";w;)if(w&1&&(z+=G),w>>>=1)G+=G;return z}},"es6","es3");Za.stringPadding=function(a,w){a=void 0!==a?String(a):" ";return 0<w&&a?a.repeat(Math.ceil(w/a.length)).substring(0,w):""};
Za.polyfill("String.prototype.padStart",function(a){return a?a:function(w,G){var z=Za.checkStringArgs(this,null,"padStart");return Za.stringPadding(G,w-z.length)+z}},"es8","es3");Za.polyfill("Object.is",function(a){return a?a:function(w,G){return w===G?0!==w||1/w===1/G:w!==w&&G!==G}},"es6","es3");
Za.polyfill("Array.prototype.includes",function(a){return a?a:function(w,G){var z=this;z instanceof String&&(z=String(z));var B=z.length;G=G||0;for(0>G&&(G=Math.max(G+B,0));G<B;G++){var h=z[G];if(h===w||Object.is(h,w))return!0}return!1}},"es7","es3");Za.polyfill("String.prototype.includes",function(a){return a?a:function(w,G){return-1!==Za.checkStringArgs(this,w,"includes").indexOf(w,G||0)}},"es6","es3");
(function(a){function w(b,f,g){"string"===typeof b?b[f]=g:Object.defineProperty(b,f,{value:g,enumerable:!1,configurable:!0,writable:!0})}function G(b,f){if(b)return b.$$const[f]}function z(b,f){var g;if(null!=b){var l=c.ancestors(b);b=0;for(g=l.length;b<g;b++)if(l[b].$$const&&A.call(l[b].$$const,f))return l[b].$$const[f]}}function B(b,f,g){if(!g)return(b||k).$const_missing(f)}function h(b){return b.hasOwnProperty("$$iclass")&&b.hasOwnProperty("$$root")}function v(b){var f=p(b);b.$$is_module&&b.$$iclasses.push(f);
return f}function p(b){var f={},g=b.$$prototype;g.hasOwnProperty("$$dummy")&&(g=g.$$define_methods_on);var l=Object.getOwnPropertyNames(g),m=l.length,y;for(y=0;y<m;y++){var ka=l[y];w(f,ka,g[ka])}w(f,"$$iclass",!0);w(f,"$$module",b);return f}function q(b){var f=b.length,g=b[0];w(g,"$$root",!0);if(1===f)return{first:g,last:g};for(var l=1;l<f;l++){var m=b[l];r(g,m);g=m}return{first:b[0],last:b[f-1]}}function I(b){if(!b.hasOwnProperty("$$dummy")){if(b.hasOwnProperty("$$iclass"))return b.$$module;if(b.hasOwnProperty("$$class"))return b.$$class}}
function d(b){return"function"===typeof b&&!b.$$stub}function n(){var b=c.slice.call(arguments,0,arguments.length),f=n.$$p;n.$$p=null;return c.send(k,"define_method",b,f)}"undefined"!==typeof globalThis?a=globalThis:"undefined"!==typeof global?a=global:"undefined"!==typeof window&&(a=window);var x="object"===typeof a.console?a.console:null==a.console?a.console={}:{};"log"in x||(x.log=function(){});"warn"in x||(x.warn=x.log);if("undefined"!==typeof a.Opal)return x.warn("Opal already loaded. Loading twice can cause troubles, please fix your setup."),
a.Opal;var e,k,E,c=a.Opal={};c.global=a;a.Opal=c;c.config={missing_require_severity:"error",unsupported_features_severity:"warning",enable_stack_trace:!0};var A=Object.hasOwnProperty,D=Function.prototype.bind,r=Object.setPrototypeOf,ja=Array.prototype.slice,va=Array.prototype.splice,ha=4;c.uid=function(){return ha+=2};c.id=function(b){if(b.$$is_number)return 2*b+1;if(null!=b.$$id)return b.$$id;w(b,"$$id",c.uid());return b.$$id};c.gvars={};c.exit=function(b){c.gvars.DEBUG&&x.log("Exited with status "+
b)};c.exceptions=[];c.pop_exception=function(){c.gvars["!"]=c.exceptions.pop()||ma};c.inspect=function(b){return void 0===b?"undefined":null===b?"null":b.$$class?b.$inspect():b.toString()};c.defineProperty=w;c.slice=ja;c.truthy=function(b){return b!==ma&&null!=b&&(!b.$$is_boolean||1==b)};c.falsy=function(b){return b===ma||null==b||b.$$is_boolean&&0==b};c.type_error=function(b,f,g,l){b=b.$$class;return l&&g?(l=l.$$class,c.TypeError.$new("can't convert "+b+" into "+f+" ("+b+"#"+g+" gives "+l+")")):
c.TypeError.$new("no implicit conversion of "+b+" into "+f)};c.coerce_to=function(b,f,g,l){if(f["$==="](b))return b;if(!b["$respond_to?"](g))throw c.type_error(b,f);null==l&&(l=[]);return c.send(b,g,l)};c.respond_to=function(b,f,g){if(null==b||!b.$$class)return!1;g=!!g;var l=b[f];return b["$respond_to?"].$$pristine?b["$respond_to_missing?"].$$pristine?"function"===typeof l&&!l.$$stub:c.send(b,b["$respond_to_missing?"],[f.substr(1),g]):c.send(b,b["$respond_to?"],[f.substr(1),g])};c.const_get_local=
function(b,f,g){if(null!=b){"::"===b&&(b=k);if(!b.$$is_module&&!b.$$is_class)throw new c.TypeError(b.toString()+" is not a class/module");var l=G(b,f);if(null!=l)return l;l=B(b,f,g);if(null!=l)return l}};c.const_get_qualified=function(b,f,g){var l,m=c.const_cache_version;if(null!=b){"::"===b&&(b=k);if(!b.$$is_module&&!b.$$is_class)throw new c.TypeError(b.toString()+" is not a class/module");null==(l=b.$$const_cache)&&(w(b,"$$const_cache",Object.create(null)),l=b.$$const_cache);var y=l[f];null==y||
y[0]!==m?(null!=(y=G(b,f))||null!=(y=z(b,f)),l[f]=[m,y]):y=y[1];return null!=y?y:B(b,f,g)}};c.const_cache_version=1;c.const_get_relative=function(b,f,g){var l=b[0],m=c.const_cache_version,y;null==(y=b.$$const_cache)&&(w(b,"$$const_cache",Object.create(null)),y=b.$$const_cache);var ka=y[f];if(null==ka||ka[0]!==m){var L;if(!(L=null!=(ka=G(l,f)))){a:{if(0!==b.length)for(ka=0,L=b.length;ka<L;ka++){var ia=b[ka].$$const[f];if(null!=ia){b=ia;break a}}b=void 0}L=null!=(ka=b)}L||null!=(ka=z(l,f))||(b=null==
l||l.$$is_module?z(k,f):void 0,null!=(ka=b));y[f]=[m,ka]}else ka=ka[1];return null!=ka?ka:B(l,f,g)};c.const_set=function(b,f,g){if(null==b||"::"===b)b=k;if(g.$$is_a_module){if(null==g.$$name||g.$$name===ma)g.$$name=f;null==g.$$base_module&&(g.$$base_module=b)}b.$$const=b.$$const||Object.create(null);b.$$const[f]=g;b.$$=b.$$const;c.const_cache_version++;b===k&&(c[f]=g);w(b,f,g);return g};c.constants=function(b,f){null==f&&(f=!0);var g=[b],l,m={},y;f&&(g=g.concat(c.ancestors(b)));f&&b.$$is_module&&
(g=g.concat([c.Object]).concat(c.ancestors(c.Object)));var ka=0;for(l=g.length;ka<l;ka++){f=g[ka];if(b!==k&&f==k)break;for(y in f.$$const)m[y]=!0}return Object.keys(m)};c.const_remove=function(b,f){c.const_cache_version++;if(null!=b.$$const[f]){var g=b.$$const[f];delete b.$$const[f];return g}if(null!=b.$$autoload&&null!=b.$$autoload[f])return delete b.$$autoload[f],ma;throw c.NameError.$new("constant "+b+"::"+b.$name()+" not defined");};c.$$=c.const_get_relative;c.$$$=c.const_get_qualified;c.allocate_class=
function(b,f){var g=null!=f&&f.$$bridge?function(){var m=ja.call(arguments);m=new (D.apply(f.$$constructor,[null].concat(m)));r(m,l.$$prototype);return m}:function(){};b&&w(g,"displayName","::"+b);var l=g;w(l,"$$name",b);w(l,"$$constructor",g);w(l,"$$prototype",g.prototype);w(l,"$$const",{});w(l,"$$is_class",!0);w(l,"$$is_a_module",!0);w(l,"$$super",f);w(l,"$$cvars",{});w(l,"$$own_included_modules",[]);w(l,"$$own_prepended_modules",[]);w(l,"$$ancestors",[]);w(l,"$$ancestors_cache_version",null);w(l.$$prototype,
"$$class",l);c.Class&&r(l,c.Class.prototype);null!=f&&(r(l.$$prototype,f.$$prototype),f.$$meta&&c.build_class_singleton_class(l));return l};c.klass=function(b,f,g){null==b||"::"==b?b=k:b.$$is_class||b.$$is_module||(b=b.$$class);if(null!=f&&(!f.hasOwnProperty||f.hasOwnProperty&&!f.hasOwnProperty("$$is_class")))if(f.constructor&&"Function"==f.constructor.name){var l=f;f=k}else throw c.TypeError.$new("superclass must be a Class ("+(f.constructor&&(f.constructor.name||f.constructor.$$name)||typeof f)+
" given)");var m;if(m=G(b,g)){if(!m.$$is_class)throw c.TypeError.$new(g+" is not a class");}else m=void 0;if(m){if(f&&m.$$super!==f)throw c.TypeError.$new("superclass mismatch for class "+m.$$name);return m}null==f&&(f=k);m=c.allocate_class(g,f);c.const_set(b,g,m);f.$inherited&&f.$inherited(m);l&&c.bridge(l,m);return m};c.allocate_module=function(b){function f(){}b&&w(f,"displayName",b+".$$constructor");b&&w(f,"displayName",b+".constructor");w(f,"$$name",b);w(f,"$$prototype",f.prototype);w(f,"$$const",
{});w(f,"$$is_module",!0);w(f,"$$is_a_module",!0);w(f,"$$cvars",{});w(f,"$$iclasses",[]);w(f,"$$own_included_modules",[]);w(f,"$$own_prepended_modules",[]);w(f,"$$ancestors",[f]);w(f,"$$ancestors_cache_version",null);r(f,c.Module.prototype);return f};c.module=function(b,f){null==b||"::"==b?b=k:b.$$is_class||b.$$is_module||(b=b.$$class);var g=b;var l=G(g,f);null==l&&g===k&&(l=z(k,f));if(l&&!l.$$is_module&&l!==k)throw c.TypeError.$new(f+" is not a module");if(g=l)return g;g=c.allocate_module(f);c.const_set(b,
f,g);return g};c.get_singleton_class=function(b){return b.$$meta?b.$$meta:b.hasOwnProperty("$$is_class")?c.build_class_singleton_class(b):b.hasOwnProperty("$$is_module")?c.build_module_singleton_class(b):c.build_object_singleton_class(b)};c.build_class_singleton_class=function(b){if(b.$$meta)return b.$$meta;var f=b===e?E:c.get_singleton_class(b.$$super);f=c.allocate_class(null,f,function(){});w(f,"$$is_singleton",!0);w(f,"$$singleton_of",b);w(b,"$$meta",f);r(b,f.$$prototype);w(b,"$$class",c.Class);
return f};c.build_module_singleton_class=function(b){if(b.$$meta)return b.$$meta;var f=c.allocate_class(null,c.Module,function(){});w(f,"$$is_singleton",!0);w(f,"$$singleton_of",b);w(b,"$$meta",f);r(b,f.$$prototype);w(b,"$$class",c.Module);return f};c.build_object_singleton_class=function(b){var f=c.allocate_class(ma,b.$$class,function(){});w(f,"$$is_singleton",!0);w(f,"$$singleton_of",b);delete f.$$prototype.$$class;w(b,"$$meta",f);r(b,b.$$meta.$$prototype);return f};c.is_method=function(b){return"$"===
b[0]&&"$"!==b[1]};c.instance_methods=function(b){var f=[],g=[];b=c.ancestors(b);for(var l=0,m=b.length;l<m;l++){var y=b[l].$$prototype;y.hasOwnProperty("$$dummy")&&(y=y.$$define_methods_on);for(var ka=Object.getOwnPropertyNames(y),L=0,ia=ka.length;L<ia;L++){var ya=ka[L];if(c.is_method(ya)){var Ka=ya.slice(1);ya=y[ya];ya.$$stub&&-1===f.indexOf(Ka)&&f.push(Ka);ya.$$stub||-1!==g.indexOf(Ka)||-1!==f.indexOf(Ka)||g.push(Ka)}}}return g};c.own_instance_methods=function(b){var f=[];b=b.$$prototype;b.hasOwnProperty("$$dummy")&&
(b=b.$$define_methods_on);for(var g=Object.getOwnPropertyNames(b),l=0,m=g.length;l<m;l++){var y=g[l];c.is_method(y)&&!b[y].$$stub&&(y=y.slice(1),f.push(y))}return f};c.methods=function(b){return c.instance_methods(c.get_singleton_class(b))};c.own_methods=function(b){return c.own_instance_methods(c.get_singleton_class(b))};c.receiver_methods=function(b){var f=c.get_singleton_class(b);b=c.own_instance_methods(f);f=c.own_instance_methods(f.$$super);return b.concat(f)};c.class_variables=function(b){b=
c.ancestors(b);var f,g={};for(f=b.length-1;0<=f;f--){var l=b[f],m;for(m in l.$$cvars)g[m]=l.$$cvars[m]}return g};c.class_variable_set=function(b,f,g){var l=c.ancestors(b),m;for(m=l.length-2;0<=m;m--){var y=l[m];if(A.call(y.$$cvars,f))return y.$$cvars[f]=g}return b.$$cvars[f]=g};c.class_variable_get=function(b,f,g){if(A.call(b.$$cvars,f))return b.$$cvars[f];var l=c.ancestors(b),m,y=l.length;for(m=0;m<y;m++){var ka=l[m];if(A.call(ka.$$cvars,f))return ka.$$cvars[f]}if(!g)throw c.NameError.$new("uninitialized class variable "+
f+" in "+b.$name());return ma};c.append_features=function(b,f){var g=c.ancestors(b),l=[];if(-1!==g.indexOf(f))throw c.ArgumentError.$new("cyclic include detected");for(var m=0,y=g.length;m<y;m++){var ka=v(g[m]);w(ka,"$$included",!0);l.push(ka)}g=c.ancestors(f);l=q(l);if(-1===g.indexOf(b))b=f.$$prototype,g=Object.getPrototypeOf(f.$$prototype);else{g=f.$$prototype;for(m=Object.getPrototypeOf(g);null!=m&&(m.$$module!==b||!h(m));)g=m,m=Object.getPrototypeOf(m);if(m){for(m=Object.getPrototypeOf(m);m.hasOwnProperty("$$iclass")&&
!h(m);)m=Object.getPrototypeOf(m);b=g;g=m}else b=f.$$prototype,g=Object.getPrototypeOf(f.$$prototype)}r(b,l.first);r(l.last,g);b=[];for(g=Object.getPrototypeOf(f.$$prototype);g&&!g.hasOwnProperty("$$class");)(l=I(g))&&b.push(l),g=Object.getPrototypeOf(g);f.$$own_included_modules=b;c.const_cache_version++};c.prepend_features=function(b,f){var g=c.ancestors(b),l=[];if(-1!==g.indexOf(f))throw c.ArgumentError.$new("cyclic prepend detected");for(var m=0,y=g.length;m<y;m++){var ka=v(g[m]);w(ka,"$$prepended",
!0);l.push(ka)}g=q(l);m=f.$$prototype;y=Object.getPrototypeOf(m);if(m.hasOwnProperty("$$dummy"))l=m.$$define_methods_on;else{l=p(f);ka=f.$$prototype;for(var L=Object.getOwnPropertyNames(ka),ia=0;ia<L.length;ia++){var ya=L[ia];c.is_method(ya)&&delete ka[ya]}w(m,"$$dummy",!0);w(m,"$$define_methods_on",l);r(m,l);r(l,y)}if(-1===c.ancestors(f).indexOf(b))for(b=m,m=Object.getPrototypeOf(m);null!=m&&!m.hasOwnProperty("$$root")&&m!==l&&m.hasOwnProperty("$$iclass");)m=Object.getPrototypeOf(m);else throw c.RuntimeError.$new("Prepending a module multiple times is not supported");
r(b,g.first);r(g.last,m);b=[];l=Object.getPrototypeOf(f.$$prototype);if(f.$$prototype.hasOwnProperty("$$dummy"))for(;l&&l!==f.$$prototype.$$define_methods_on;)(g=I(l))&&b.push(g),l=Object.getPrototypeOf(l);f.$$own_prepended_modules=b;c.const_cache_version++};c.bridge=function(b,f){if(b.hasOwnProperty("$$bridge"))throw c.ArgumentError.$new("already bridged");w(b,"$$bridge",f);r(b.prototype,(f.$$super||c.Object).$$prototype);w(f,"$$prototype",b.prototype);w(f.$$prototype,"$$class",f);w(f,"$$constructor",
b);w(f,"$$bridge",!0)};c.ancestors=function(b){if(!b)return[];if(b.$$ancestors_cache_version===c.const_cache_version)return b.$$ancestors;var f=[],g;var l=0;var m=b.$$own_prepended_modules.concat([b]).concat(b.$$own_included_modules);for(g=m.length;l<g;l++)f.push(m[l]);if(b.$$super)for(l=0,m=c.ancestors(b.$$super),g=m.length;l<g;l++)f.push(m[l]);b.$$ancestors_cache_version=c.const_cache_version;return b.$$ancestors=f};c.included_modules=function(b){for(var f=[],g=Object.getPrototypeOf(b.$$prototype);g&&
Object.getPrototypeOf(g);g=Object.getPrototypeOf(g))(b=I(g))&&b.$$is_module&&g.$$iclass&&g.$$included&&f.push(b);return f};c.add_stubs=function(b){for(var f=c.BasicObject.$$prototype,g=0,l=b.length;g<l;g++){var m=b[g],y=f[m];(null==y||y.$$stub)&&c.add_stub_for(f,m)}};c.add_stub_for=function(b,f){var g=c.stub_for(f);w(b,f,g)};c.stub_for=function(b){function f(){this.$method_missing.$$p=f.$$p;f.$$p=null;for(var g=Array(arguments.length),l=0,m=g.length;l<m;l++)g[l]=arguments[l];return this.$method_missing.apply(this,
[b.slice(1)].concat(g))}f.$$stub=!0;return f};c.ac=function(b,f,g,l){var m="";m=g.$$is_a_module?m+(g.$$name+"."):m+(g.$$class.$$name+"#");throw c.ArgumentError.$new("["+(m+l)+"] wrong number of arguments("+b+" for "+f+")");};c.block_ac=function(b,f,g){throw c.ArgumentError.$new("`block in "+g+"': wrong number of arguments ("+b+" for "+f+")");};c.find_super_dispatcher=function(b,f,g,l,m){var y="$"+f;var ka=b.hasOwnProperty("$$meta")?c.ancestors(b.$$meta):c.ancestors(b.$$class);for(g=ka.indexOf(g.$$owner)+
1;g<ka.length;g++){var L=ka[g].$$prototype;L.hasOwnProperty("$$dummy")&&(L=L.$$define_methods_on);if(L.hasOwnProperty(y)){var ia=L[y];break}}if(!l&&ia&&ia.$$stub&&b.$method_missing.$$pristine)throw c.NoMethodError.$new("super: no superclass method `"+f+"' for "+b,f);return ia.$$stub&&!m?null:ia};c.find_iter_super_dispatcher=function(b,f,g,l,m){if(!g)throw c.RuntimeError.$new("super called outside of method");if(m&&g.$$define_meth)throw c.RuntimeError.$new("implicit argument passing of super from method defined by define_method() is not supported. Specify all arguments explicitly");
g.$$def&&(f=g.$$jsid);return c.find_super_dispatcher(b,f,g,l)};c.ret=function(b){c.returner.$v=b;throw c.returner;};c.brk=function(b,f){f.$v=b;throw f;};c.new_brk=function(){return Error("unexpected break")};c.yield1=function(b,f){if("function"!==typeof b)throw c.LocalJumpError.$new("no block given");var g=b.$$has_top_level_mlhs_arg,l=b.$$has_trailing_comma_in_args;if(1<b.length||(g||l)&&1===b.length)f=c.to_ary(f);return(1<b.length||l&&1===b.length)&&f.$$is_array?b.apply(null,f):b(f)};c.yieldX=function(b,
f){if("function"!==typeof b)throw c.LocalJumpError.$new("no block given");if(1<b.length&&1===f.length&&f[0].$$is_array)return b.apply(null,f[0]);if(!f.$$is_array){for(var g=Array(f.length),l=0,m=g.length;l<m;l++)g[l]=f[l];return b.apply(null,g)}return b.apply(null,f)};c.rescue=function(b,f){for(var g=0;g<f.length;g++){var l=f[g];if(l.$$is_array){if(l=c.rescue(b,l))return l}else if(l===c.JS.Error||l["$==="](b))return l}return null};c.is_a=function(b,f){if(null!=f&&b.$$meta===f||b.$$class===f)return!0;
if(b.$$is_number&&f.$$is_number_class)return f.$$is_integer_class?0===b%1:!0;var g,l=c.ancestors(b.$$is_class?c.get_singleton_class(b):b.$$meta||b.$$class);b=0;for(g=l.length;b<g;b++)if(l[b]===f)return!0;return!1};c.to_hash=function(b){if(b.$$is_hash)return b;if(b["$respond_to?"]("to_hash",!0)){var f=b.$to_hash();if(f.$$is_hash)return f;throw c.TypeError.$new("Can't convert "+b.$$class+" to Hash ("+b.$$class+"#to_hash gives "+f.$$class+")");}throw c.TypeError.$new("no implicit conversion of "+b.$$class+
" into Hash");};c.to_ary=function(b){if(b.$$is_array)return b;if(b["$respond_to?"]("to_ary",!0)){var f=b.$to_ary();if(f===ma)return[b];if(f.$$is_array)return f;throw c.TypeError.$new("Can't convert "+b.$$class+" to Array ("+b.$$class+"#to_ary gives "+f.$$class+")");}return[b]};c.to_a=function(b){if(b.$$is_array)return b.slice();if(b["$respond_to?"]("to_a",!0)){var f=b.$to_a();if(f===ma)return[b];if(f.$$is_array)return f;throw c.TypeError.$new("Can't convert "+b.$$class+" to Array ("+b.$$class+"#to_a gives "+
f.$$class+")");}return[b]};c.extract_kwargs=function(b){var f=b[b.length-1];return null!=f&&c.respond_to(f,"$to_hash",!0)?(va.call(b,b.length-1,1),f.$to_hash()):c.hash2([],{})};c.kwrestargs=function(b,f){var g=[],l={},m;b=b.$$smap;for(m in b)f[m]||(g.push(m),l[m]=b[m]);return c.hash2(g,l)};c.send=function(b,f,g,l){if("function"===typeof f){var m=f;f=null}else if("string"===typeof f)m=b["$"+f];else throw c.NameError.$new("Passed method should be a string or a function");return c.send2(b,m,f,g,l)};
c.send2=function(b,f,g,l,m){null==f&&null!=g&&b.$method_missing&&(f=b.$method_missing,l=[g].concat(l));"function"===typeof m&&(f.$$p=m);return f.apply(b,l)};c.lambda=function(b){b.$$is_lambda=!0;return b};c.def=function(b,f,g){b===c.top?c.defn(c.Object,f,g):!b.$$eval&&b.$$is_a_module?c.defn(b,f,g):c.defs(b,f,g)};c.defn=function(b,f,g){g.displayName=f;g.$$owner=b;var l=b.$$prototype;l.hasOwnProperty("$$dummy")&&(l=l.$$define_methods_on);w(l,f,g);if(b.$$is_module){b.$$module_function&&c.defs(b,f,g);
l=0;for(var m=b.$$iclasses,y=m.length;l<y;l++)w(m[l],f,g)}g=b.$$singleton_of;!b.$method_added||b.$method_added.$$stub||g?g&&g.$singleton_method_added&&!g.$singleton_method_added.$$stub&&g.$singleton_method_added(f.substr(1)):b.$method_added(f.substr(1))};c.defs=function(b,f,g){if(b.$$is_string||b.$$is_number)throw c.TypeError.$new("can't define singleton");c.defn(c.get_singleton_class(b),f,g)};c.rdef=function(b,f){if(!A.call(b.$$prototype,f))throw c.NameError.$new("method '"+f.substr(1)+"' not defined in "+
b.$name());delete b.$$prototype[f];b.$$is_singleton?b.$$prototype.$singleton_method_removed&&!b.$$prototype.$singleton_method_removed.$$stub&&b.$$prototype.$singleton_method_removed(f.substr(1)):b.$method_removed&&!b.$method_removed.$$stub&&b.$method_removed(f.substr(1))};c.udef=function(b,f){if(!b.$$prototype[f]||b.$$prototype[f].$$stub)throw c.NameError.$new("method '"+f.substr(1)+"' not defined in "+b.$name());c.add_stub_for(b.$$prototype,f);b.$$is_singleton?b.$$prototype.$singleton_method_undefined&&
!b.$$prototype.$singleton_method_undefined.$$stub&&b.$$prototype.$singleton_method_undefined(f.substr(1)):b.$method_undefined&&!b.$method_undefined.$$stub&&b.$method_undefined(f.substr(1))};c.alias=function(b,f,g){var l="$"+f,m="$"+g,y=b.$$prototype["$"+g];if(b.$$eval)return c.alias(c.get_singleton_class(b),f,g);if(!d(y)){for(var ka=b.$$super;"function"!==typeof y&&ka;)y=ka[m],ka=ka.$$super;!d(y)&&b.$$is_module&&(y=c.Object.$$prototype[m]);if(!d(y))throw c.NameError.$new("undefined method `"+g+"' for class `"+
b.$name()+"'");}y.$$alias_of&&(y=y.$$alias_of);var L=function(){var ia=L.$$p,ya;var Ka=Array(arguments.length);var La=0;for(ya=arguments.length;La<ya;La++)Ka[La]=arguments[La];null!=ia&&(L.$$p=null);return c.send(this,y,Ka,ia)};try{Object.defineProperty(L,"length",{value:y.length})}catch(ia){}L.displayName=f;L.$$arity=y.$$arity;L.$$parameters=y.$$parameters;L.$$source_location=y.$$source_location;L.$$alias_of=y;L.$$alias_name=f;c.defn(b,l,L);return b};c.alias_native=function(b,f,g){f="$"+f;var l=
b.$$prototype[g];if("function"!==typeof l||l.$$stub)throw c.NameError.$new("undefined native method `"+g+"' for class `"+b.$name()+"'");c.defn(b,f,l);return b};c.hash_init=function(b){b.$$smap=Object.create(null);b.$$map=Object.create(null);b.$$keys=[]};c.hash_clone=function(b,f){f.$$none=b.$$none;f.$$proc=b.$$proc;var g=0,l=b.$$keys;b=b.$$smap;for(var m=l.length,y,ka;g<m;g++)y=l[g],y.$$is_string?ka=b[y]:(ka=y.value,y=y.key),c.hash_put(f,y,ka)};c.hash_put=function(b,f,g){if(f.$$is_string)A.call(b.$$smap,
f)||b.$$keys.push(f),b.$$smap[f]=g;else{var l;var m=b.$$by_identity?c.id(f):f.$hash();if(A.call(b.$$map,m)){for(l=b.$$map[m];l;){if(f===l.key||f["$eql?"](l.key)){var y=void 0;l.value=g;break}y=l;l=l.next}y&&(l={key:f,key_hash:m,value:g},b.$$keys.push(l),y.next=l)}else l={key:f,key_hash:m,value:g},b.$$keys.push(l),b.$$map[m]=l}};c.hash_get=function(b,f){if(f.$$is_string){if(A.call(b.$$smap,f))return b.$$smap[f]}else{var g=b.$$by_identity?c.id(f):f.$hash();if(A.call(b.$$map,g))for(b=b.$$map[g];b;){if(f===
b.key||f["$eql?"](b.key))return b.value;b=b.next}}};c.hash_delete=function(b,f){var g,l=b.$$keys,m=l.length;if(f.$$is_string){"string"!==typeof f&&(f=f.valueOf());if(!A.call(b.$$smap,f))return;for(g=0;g<m;g++)if(l[g]===f){l.splice(g,1);break}var y=b.$$smap[f];delete b.$$smap[f];return y}var ka=f.$hash();if(A.call(b.$$map,ka))for(var L=b.$$map[ka],ia;L;){if(f===L.key||f["$eql?"](L.key)){y=L.value;for(g=0;g<m;g++)if(l[g]===L){l.splice(g,1);break}ia&&L.next?ia.next=L.next:ia?delete ia.next:L.next?b.$$map[ka]=
L.next:delete b.$$map[ka];return y}ia=L;L=L.next}};c.hash_rehash=function(b){for(var f=0,g=b.$$keys.length,l,m,y;f<g;f++)if(!b.$$keys[f].$$is_string&&(l=b.$$keys[f].key.$hash(),l!==b.$$keys[f].key_hash)){m=b.$$map[b.$$keys[f].key_hash];for(y=void 0;m;){if(m===b.$$keys[f]){y&&m.next?y.next=m.next:y?delete y.next:m.next?b.$$map[b.$$keys[f].key_hash]=m.next:delete b.$$map[b.$$keys[f].key_hash];break}y=m;m=m.next}b.$$keys[f].key_hash=l;if(A.call(b.$$map,l)){m=b.$$map[l];for(y=void 0;m;){if(m===b.$$keys[f]){y=
void 0;break}y=m;m=m.next}y&&(y.next=b.$$keys[f])}else b.$$map[l]=b.$$keys[f]}};c.hash=function(){var b=arguments.length,f;if(1===b&&arguments[0].$$is_hash)return arguments[0];var g=new c.Hash;c.hash_init(g);if(1===b&&arguments[0].$$is_array){b=arguments[0];var l=b.length;for(f=0;f<l;f++){if(2!==b[f].length)throw c.ArgumentError.$new("value not of length 2: "+b[f].$inspect());var m=b[f][0];var y=b[f][1];c.hash_put(g,m,y)}return g}if(1===b){b=arguments[0];for(m in b)A.call(b,m)&&(y=b[m],c.hash_put(g,
m,y));return g}if(0!==b%2)throw c.ArgumentError.$new("odd number of arguments for Hash");for(f=0;f<b;f+=2)m=arguments[f],y=arguments[f+1],c.hash_put(g,m,y);return g};c.hash2=function(b,f){var g=new c.Hash;g.$$smap=f;g.$$map=Object.create(null);g.$$keys=b;return g};c.range=function(b,f,g){var l=new c.Range;l.begin=b;l.end=f;l.excl=g;return l};c.ivar=function(b){return"constructor"===b||"displayName"===b||"__count__"===b||"__noSuchMethod__"===b||"__parent__"===b||"__proto__"===b||"hasOwnProperty"===
b||"valueOf"===b?b+"$":b};c.escape_regexp=function(b){return b.replace(/([-[\]\/{}()*+?.^$\\| ])/g,"\\$1").replace(/[\n]/g,"\\n").replace(/[\r]/g,"\\r").replace(/[\f]/g,"\\f").replace(/[\t]/g,"\\t")};c.global_regexp=function(b){if(b.global)return b;null==b.$$g?b.$$g=new RegExp(b.source,(b.multiline?"gm":"g")+(b.ignoreCase?"i":"")):b.$$g.lastIndex=null;return b.$$g};c.global_multiline_regexp=function(b){if(b.multiline){if(b.global)return b;b=null!=b.$$g?b.$$g:b.$$g=new RegExp(b.source,"gm"+(b.ignoreCase?
"i":""))}else b=null!=b.$$gm?b.$$gm:b.$$gm=new RegExp(b.source,"gm"+(b.ignoreCase?"i":""));b.lastIndex=null;return b};c.regexp=function(b,f){for(var g,l="undefined"!==typeof f&&f&&0<=f.indexOf("i"),m=0,y=b.length;m<y;m++)g=b[m],g instanceof RegExp&&(g.ignoreCase!==l&&c.Kernel.$warn("ignore case doesn't match for "+g.source.$inspect(),c.hash({uplevel:1})),g=g.source),""===g&&(g="(?:"+g+")"),b[m]=g;return f?new RegExp(b.join(""),f):new RegExp(b.join(""))};c.modules={};c.loaded_features=["corelib/runtime"];
c.current_dir=".";c.require_table={"corelib/runtime":!0};c.normalize=function(b){var f=[];"."!==c.current_dir&&(b=c.current_dir.replace(/\/*$/,"/")+b);b=b.replace(/^\.\//,"");b=b.replace(/\.(rb|opal|js)$/,"");b=b.split("/");for(var g=0,l=b.length;g<l;g++){var m=b[g];""!==m&&(".."===m?f.pop():f.push(m))}return f.join("/")};c.loaded=function(b){var f;var g=0;for(f=b.length;g<f;g++){var l=c.normalize(b[g]);c.require_table[l]||(c.loaded_features.push(l),c.require_table[l]=!0)}};c.load=function(b){b=c.normalize(b);
c.loaded([b]);var f=c.modules[b];if(f)f(c);else{f=c.config.missing_require_severity;b="cannot load such file -- "+b;if("error"===f){if(c.LoadError)throw c.LoadError.$new(b);throw b;}"warning"===f&&x.warn("WARNING: LoadError: "+b)}return!0};c.require=function(b){b=c.normalize(b);return c.require_table[b]?!1:c.load(b)};c.encodings=Object.create(null);c.set_encoding=function(b,f,g){"undefined"===typeof g&&(g="encoding");if("string"===typeof b||!0===b.$$frozen)throw c.FrozenError.$new("can't modify frozen String");
f=c.find_encoding(f);if(f===b[g])return b;b[g]=f;return b};c.find_encoding=function(b){var f=c.encodings;f=f[b]||f[b.toUpperCase()];if(!f)throw c.ArgumentError.$new("unknown encoding name - "+b);return f};c.enc=function(b,f){b=new String(b);b=c.set_encoding(b,f);b.internal_encoding=b.encoding;return b};c.binary=function(b){b=new String(b);return c.set_encoding(b,"binary","internal_encoding")};c.BasicObject=e=c.allocate_class("BasicObject",null,function(){});c.Object=k=c.allocate_class("Object",c.BasicObject,
function(){});c.Module=a=c.allocate_class("Module",c.Object,function(){});c.Class=E=c.allocate_class("Class",c.Module,function(){});r(c.BasicObject,c.Class.$$prototype);r(c.Object,c.Class.$$prototype);r(c.Module,c.Class.$$prototype);r(c.Class,c.Class.$$prototype);e.$$const.BasicObject=e;c.const_set(k,"BasicObject",e);c.const_set(k,"Object",k);c.const_set(k,"Module",a);c.const_set(k,"Class",E);e.$$class=E;k.$$class=E;a.$$class=E;E.$$class=E;w(k.$$prototype,"toString",function(){var b=this.$to_s();
return b.$$is_string&&"object"===typeof b?b.valueOf():b});w(k.$$prototype,"$require",c.require);c.top=new k;c.top.$to_s=c.top.$inspect=function(){return"main"};c.top.$define_method=n;c.NilClass=c.allocate_class("NilClass",c.Object,function(){});c.const_set(k,"NilClass",c.NilClass);var ma=c.nil=new c.NilClass;ma.$$id=4;ma.call=ma.apply=function(){throw c.LocalJumpError.$new("no block given");};c.breaker=Error("unexpected break (old)");c.returner=Error("unexpected return");TypeError.$$super=Error}).call(this);
Opal.loaded(["corelib/runtime.js"]);
Opal.modules["corelib/helpers"]=function(a){var w=[],G=a.nil,z=a.$$,B=a.type_error,h=a.coerce_to,v=a.module,p=a.truthy;a.add_stubs("$=== $raise $respond_to? $nil? $__send__ $<=> $class $coerce_to! $new $!= $[] $upcase".split(" "));return function(q,I){q=v(q,"Opal");var d=[q].concat(I),n,x,e,k,E,c,A,D,r,ja,va;a.defs(q,"$bridge",n=function(ha,ma){return a.bridge(ha,ma)},n.$$arity=2);a.defs(q,"$coerce_to!",x=function(ha,ma,b,f){var g=a.slice.call(arguments,3,arguments.length);g=h(ha,ma,b,g);p(ma["$==="](g))||
this.$raise(B(ha,ma,b,g));return g},x.$$arity=-4);a.defs(q,"$coerce_to?",e=function(ha,ma,b,f){var g=a.slice.call(arguments,3,arguments.length);if(!p(ha["$respond_to?"](b)))return G;g=h(ha,ma,b,g);if(p(g["$nil?"]()))return G;p(ma["$==="](g))||this.$raise(B(ha,ma,b,g));return g},e.$$arity=-4);a.defs(q,"$try_convert",k=function(ha,ma,b){return p(ma["$==="](ha))?ha:p(ha["$respond_to?"](b))?ha.$__send__(b):G},k.$$arity=3);a.defs(q,"$compare",E=function(ha,ma){var b=ha["$<=>"](ma);p(b===G)&&this.$raise(z(d,
"ArgumentError"),"comparison of "+ha.$class()+" with "+ma.$class()+" failed");return b},E.$$arity=2);a.defs(q,"$destructure",c=function(ha){if(1==ha.length)return ha[0];if(ha.$$is_array)return ha;for(var ma=Array(ha.length),b=0,f=ma.length;b<f;b++)ma[b]=ha[b];return ma},c.$$arity=1);a.defs(q,"$respond_to?",A=function(ha,ma,b){null==b&&(b=!1);return null!=ha&&ha.$$class?ha["$respond_to?"](ma,b):!1},A.$$arity=-3);a.defs(q,"$instance_variable_name!",D=function(ha){ha=z(d,"Opal")["$coerce_to!"](ha,z(d,
"String"),"to_str");p(/^@[a-zA-Z_][a-zA-Z0-9_]*?$/.test(ha))||this.$raise(z(d,"NameError").$new("'"+ha+"' is not allowed as an instance variable name",ha));return ha},D.$$arity=1);a.defs(q,"$class_variable_name!",r=function(ha){ha=z(d,"Opal")["$coerce_to!"](ha,z(d,"String"),"to_str");p(3>ha.length||"@@"!==ha.slice(0,2))&&this.$raise(z(d,"NameError").$new("`"+ha+"' is not allowed as a class variable name",ha));return ha},r.$$arity=1);a.defs(q,"$const_name!",ja=function(ha){ha=z(d,"Opal")["$coerce_to!"](ha,
z(d,"String"),"to_str");p(ha["$[]"](0)["$!="](ha["$[]"](0).$upcase()))&&this.$raise(z(d,"NameError"),"wrong constant name "+ha);return ha},ja.$$arity=1);return(a.defs(q,"$pristine",va=function(ha,ma){var b=a.slice.call(arguments,1,arguments.length);for(var f,g=b.length-1;0<=g;g--)f=b[g],(f=ha.$$prototype["$"+f])&&!f.$$stub&&(f.$$pristine=!0);return G},va.$$arity=-2),G)&&"pristine"}(w[0],w)};
Opal.modules["corelib/module"]=function(a){function w(k,E){return"number"===typeof k&&"number"===typeof E?k<E:k["$<"](E)}var G=[],z=a.nil,B=a.$$$,h=a.$$,v=a.truthy,p=a.coerce_to,q=a.klass,I=a.send,d=a.hash2,n=a.lambda,x=a.range,e=a.send2;a.add_stubs("$module_eval $to_proc $=== $raise $equal? $< $> $nil? $attr_reader $attr_writer $warn $attr_accessor $class_variable_name! $const_name! $=~ $new $inject $split $const_get $== $!~ $start_with? $bind $call $class $append_features $included $name $cover? $size $merge $compile $proc $any? $prepend_features $prepended $to_s $__id__ $constants $include? $copy_class_variables $copy_constants".split(" "));
return function(k,$super,c){k=q(k,$super,"Module");var A=[k].concat(c),D,r,ja,va,ha,ma,b,f,g,l,m,y,ka,L,ia,ya,Ka,La,Aa,Ma,U,wa,R,oa,za,la,M,K,X,xa,aa,qa,Ea,Ia,Sa,Wa,ib,gb,Ta,V,Ca,Da,Xa,$a,Ua,Ya,Ba,ua,pa,Ga,Pa,Va,Ha,Z,P,ba,T,fa,na;a.defs(k,"$allocate",D=function(){var J=a.allocate_module(z,function(){});this!==a.Module&&Object.setPrototypeOf(J,this.$$prototype);return J},D.$$arity=0);a.def(k,"$initialize",r=function(){var J=r.$$p,ea=J||z;J&&(r.$$p=null);J&&(r.$$p=null);return ea!==z?I(this,"module_eval",
[],ea.$to_proc()):z},r.$$arity=0);a.def(k,"$===",ja=function(J){return v(null==J)?!1:a.is_a(J,this)},ja.$$arity=1);a.def(k,"$<",va=function(J){v(h(A,"Module")["$==="](J))||this.$raise(h(A,"TypeError"),"compared with non class/module");var ea;if(this===J)return!1;var F=0;var O=a.ancestors(this);for(ea=O.length;F<ea;F++)if(O[F]===J)return!0;F=0;O=a.ancestors(J);for(ea=O.length;F<ea;F++)if(O[F]===this)return!1;return z},va.$$arity=1);a.def(k,"$<=",ha=function(J){var ea;return v(ea=this["$equal?"](J))?
ea:w(this,J)},ha.$$arity=1);a.def(k,"$>",ma=function(J){v(h(A,"Module")["$==="](J))||this.$raise(h(A,"TypeError"),"compared with non class/module");return w(J,this)},ma.$$arity=1);a.def(k,"$>=",b=function(J){var ea;return v(ea=this["$equal?"](J))?ea:"number"===typeof this&&"number"===typeof J?this>J:this["$>"](J)},b.$$arity=1);a.def(k,"$<=>",f=function(J){if(this===J)return 0;if(!v(h(A,"Module")["$==="](J)))return z;J=w(this,J);return v(J["$nil?"]())?z:v(J)?-1:1},f.$$arity=1);a.def(k,"$alias_method",
g=function(J,ea){J=p(J,h(A,"String"),"to_str");ea=p(ea,h(A,"String"),"to_str");a.alias(this,J,ea);return this},g.$$arity=2);a.def(k,"$alias_native",l=function(J,ea){null==ea&&(ea=J);a.alias_native(this,J,ea);return this},l.$$arity=-2);a.def(k,"$ancestors",m=function(){return a.ancestors(this)},m.$$arity=0);a.def(k,"$append_features",y=function(J){a.append_features(this,J);return this},y.$$arity=1);a.def(k,"$attr_accessor",ka=function(J){var ea=a.slice.call(arguments,0,arguments.length);I(this,"attr_reader",
a.to_a(ea));return I(this,"attr_writer",a.to_a(ea))},ka.$$arity=-1);a.def(k,"$attr",L=function(J){var ea=a.slice.call(arguments,0,arguments.length);return 2!=ea.length||!0!==ea[1]&&!1!==ea[1]?I(this,"attr_reader",a.to_a(ea)):(this.$warn("optional boolean argument is obsoleted",d(["uplevel"],{uplevel:1})),ea[1]?this.$attr_accessor(ea[0]):this.$attr_reader(ea[0]),z)},L.$$arity=-1);a.def(k,"$attr_reader",ia=function(J){var ea=a.slice.call(arguments,0,arguments.length);for(var F=this.$$prototype,O=ea.length-
1;0<=O;O--){var u=ea[O],S="$"+u;u=a.ivar(u);var ca=function(ra){return function(){return null==this[ra]?z:this[ra]}}(u);a.defineProperty(F,u,z);ca.$$parameters=[];ca.$$arity=0;a.defn(this,S,ca)}return z},ia.$$arity=-1);a.def(k,"$attr_writer",ya=function(J){var ea=a.slice.call(arguments,0,arguments.length);for(var F=this.$$prototype,O=ea.length-1;0<=O;O--){var u=ea[O],S="$"+u+"=";u=a.ivar(u);var ca=function(ra){return function(Fa){return this[ra]=Fa}}(u);ca.$$parameters=[["req"]];ca.$$arity=1;a.defineProperty(F,
u,z);a.defn(this,S,ca)}return z},ya.$$arity=-1);a.def(k,"$autoload",Ka=function(J,ea){null==this.$$autoload&&(this.$$autoload={});a.const_cache_version++;this.$$autoload[J]=ea;return z},Ka.$$arity=2);a.def(k,"$class_variables",La=function(){return Object.keys(a.class_variables(this))},La.$$arity=0);a.def(k,"$class_variable_get",Aa=function(J){J=h(A,"Opal")["$class_variable_name!"](J);return a.class_variable_get(this,J,!1)},Aa.$$arity=1);a.def(k,"$class_variable_set",Ma=function(J,ea){J=h(A,"Opal")["$class_variable_name!"](J);
return a.class_variable_set(this,J,ea)},Ma.$$arity=2);a.def(k,"$class_variable_defined?",U=function(J){J=h(A,"Opal")["$class_variable_name!"](J);return a.class_variables(this).hasOwnProperty(J)},U.$$arity=1);a.def(k,"$remove_class_variable",wa=function(J){J=h(A,"Opal")["$class_variable_name!"](J);if(a.hasOwnProperty.call(this.$$cvars,J)){var ea=this.$$cvars[J];delete this.$$cvars[J];return ea}this.$raise(h(A,"NameError"),"cannot remove "+J+" for "+this)},wa.$$arity=1);a.def(k,"$constants",R=function(J){null==
J&&(J=!0);return a.constants(this,J)},R.$$arity=-1);a.defs(k,"$constants",oa=function(J){if(null==J){J=(this.$$nesting||[]).concat(a.Object);var ea,F={},O;var u=0;for(O=J.length;u<O;u++)for(ea in J[u].$$const)F[ea]=!0;return Object.keys(F)}return a.constants(this,J)},oa.$$arity=-1);a.defs(k,"$nesting",za=function(){return this.$$nesting||[]},za.$$arity=0);a.def(k,"$const_defined?",la=function(J,ea){null==ea&&(ea=!0);J=h(A,"Opal")["$const_name!"](J);v(J["$=~"](B(h(A,"Opal"),"CONST_NAME_REGEXP")))||
this.$raise(h(A,"NameError").$new("wrong constant name "+J,J));var F=[this],O;ea&&(F=F.concat(a.ancestors(this)),this.$$is_module&&(F=F.concat([a.Object]).concat(a.ancestors(a.Object))));var u=0;for(O=F.length;u<O;u++)if(ea=F[u],null!=ea.$$const[J])return!0;return!1},la.$$arity=-2);a.def(k,"$const_get",M=function(J,ea){var F;null==ea&&(ea=!0);J=h(A,"Opal")["$const_name!"](J);0===J.indexOf("::")&&"::"!==J&&(J=J.slice(2));if(v(-1!=J.indexOf("::")&&"::"!=J))return I(J.$split("::"),"inject",[this],(F=
function(O,u){null==O&&(O=z);null==u&&(u=z);return O.$const_get(u)},F.$$s=this,F.$$arity=2,F));v(J["$=~"](B(h(A,"Opal"),"CONST_NAME_REGEXP")))||this.$raise(h(A,"NameError").$new("wrong constant name "+J,J));return ea?h([this],J):a.const_get_local(this,J)},M.$$arity=-2);a.def(k,"$const_missing",K=function(J){var ea;if(this.$$autoload&&(ea=this.$$autoload[J]))return this.$require(ea),this.$const_get(J);ea=this["$=="](h(A,"Object"))?J:""+this+"::"+J;return this.$raise(h(A,"NameError").$new("uninitialized constant "+
ea,J))},K.$$arity=1);a.def(k,"$const_set",X=function(J,ea){var F=z;J=h(A,"Opal")["$const_name!"](J);v(v(F=J["$!~"](B(h(A,"Opal"),"CONST_NAME_REGEXP")))?F:J["$start_with?"]("::"))&&this.$raise(h(A,"NameError").$new("wrong constant name "+J,J));a.const_set(this,J,ea);return ea},X.$$arity=2);a.def(k,"$public_constant",xa=function(){return z},xa.$$arity=1);a.def(k,"$define_method",aa=function(J,ea){var F=aa.$$p,O=F||z,u,S=this,ca=z,ra=z;F&&(aa.$$p=null);F&&(aa.$$p=null);v(void 0===ea&&O===z)&&S.$raise(h(A,
"ArgumentError"),"tried to create a Proc object without a block");O=function(){return v(ca=O)?ca:function(){ra=ea;return h(A,"Proc")["$==="](ra)?ea:h(A,"Method")["$==="](ra)?ea.$to_proc().$$unbound:h(A,"UnboundMethod")["$==="](ra)?n((u=function(Fa){var cb=null==u.$$s?this:u.$$s;var db=a.slice.call(arguments,0,arguments.length);cb=ea.$bind(cb);return I(cb,"call",a.to_a(db))},u.$$s=S,u.$$arity=-1,u)):S.$raise(h(A,"TypeError"),"wrong argument type "+O.$class()+" (expected Proc/Method)")}()}();O.$$jsid=
J;O.$$s=null;O.$$def=O;O.$$define_meth=!0;a.defn(S,"$"+J,O);return J},aa.$$arity=-2);a.def(k,"$remove_method",qa=function(J){var ea=a.slice.call(arguments,0,arguments.length);for(var F=0,O=ea.length;F<O;F++)a.rdef(this,"$"+ea[F]);return this},qa.$$arity=-1);a.def(k,"$singleton_class?",Ea=function(){return!!this.$$is_singleton},Ea.$$arity=0);a.def(k,"$include",Ia=function(J){var ea=a.slice.call(arguments,0,arguments.length);for(var F=ea.length-1;0<=F;F--){var O=ea[F];O.$$is_module||this.$raise(h(A,
"TypeError"),"wrong argument type "+O.$class()+" (expected Module)");O.$append_features(this);O.$included(this)}return this},Ia.$$arity=-1);a.def(k,"$included_modules",Sa=function(){return a.included_modules(this)},Sa.$$arity=0);a.def(k,"$include?",Wa=function(J){J.$$is_module||this.$raise(h(A,"TypeError"),"wrong argument type "+J.$class()+" (expected Module)");var ea,F=a.ancestors(this);var O=0;for(ea=F.length;O<ea;O++){var u=F[O];if(u===J&&u!==this)return!0}return!1},Wa.$$arity=1);a.def(k,"$instance_method",
ib=function(J){var ea=this.$$prototype["$"+J];ea&&!ea.$$stub||this.$raise(h(A,"NameError").$new("undefined method `"+J+"' for class `"+this.$name()+"'",J));return h(A,"UnboundMethod").$new(this,ea.$$owner||this,ea,J)},ib.$$arity=1);a.def(k,"$instance_methods",gb=function(J){null==J&&(J=!0);return v(J)?a.instance_methods(this):a.own_instance_methods(this)},gb.$$arity=-1);a.def(k,"$included",Ta=function(){return z},Ta.$$arity=1);a.def(k,"$extended",V=function(){return z},V.$$arity=1);a.def(k,"$extend_object",
Ca=function(){return z},Ca.$$arity=1);a.def(k,"$method_added",Da=function(J){a.slice.call(arguments,0,arguments.length);return z},Da.$$arity=-1);a.def(k,"$method_removed",Xa=function(J){a.slice.call(arguments,0,arguments.length);return z},Xa.$$arity=-1);a.def(k,"$method_undefined",$a=function(J){a.slice.call(arguments,0,arguments.length);return z},$a.$$arity=-1);a.def(k,"$module_eval",Ua=function(J){var ea=Ua.$$p,F=ea||z,O,u,S=z,ca=O=z,ra=ca=z,Fa=ca=z;ea&&(Ua.$$p=null);ea&&(Ua.$$p=null);O=a.slice.call(arguments,
0,arguments.length);v(v(S=F["$nil?"]())?!!a.compile:S)?(v(x(1,3,!1)["$cover?"](O.$size()))||h(A,"Kernel").$raise(h(A,"ArgumentError"),"wrong number of arguments (0 for 1..3)"),F=[].concat(a.to_a(O)),O=null==F[0]?z:F[0],ca=null==F[1]?z:F[1],F,ca=d(["file","eval"],{file:v(ra=ca)?ra:"(eval)",eval:!0}),ca=a.hash({arity_check:!1}).$merge(ca),Fa=h(A,"Opal").$compile(O,ca),F=I(h(A,"Kernel"),"proc",[],(u=function(){return function(){return eval(Fa)}(null==u.$$s?this:u.$$s)},u.$$s=this,u.$$arity=0,u))):v(O["$any?"]())&&
h(A,"Kernel").$raise(h(A,"ArgumentError"),"wrong number of arguments ("+O.$size()+" for 0)\n\n  NOTE:If you want to enable passing a String argument please add \"require 'opal-parser'\" to your script\n");ra=F.$$s;F.$$s=null;S=F.apply(this,[this]);F.$$s=ra;return S},Ua.$$arity=-1);a.alias(k,"class_eval","module_eval");a.def(k,"$module_exec",Ya=function(J){var ea=Ya.$$p,F=ea||z;ea&&(Ya.$$p=null);ea&&(Ya.$$p=null);var O=a.slice.call(arguments,0,arguments.length);F===z&&this.$raise(h(A,"LocalJumpError"),
"no block given");ea=F.$$s;F.$$s=null;O=F.apply(this,O);F.$$s=ea;return O},Ya.$$arity=-1);a.alias(k,"class_exec","module_exec");a.def(k,"$method_defined?",Ba=function(J){J=this.$$prototype["$"+J];return!!J&&!J.$$stub},Ba.$$arity=1);a.def(k,"$module_function",ua=function(J){var ea=a.slice.call(arguments,0,arguments.length);if(0===ea.length)this.$$module_function=!0;else for(var F=0,O=ea.length;F<O;F++){var u="$"+ea[F];a.defs(this,u,this.$$prototype[u])}return this},ua.$$arity=-1);a.def(k,"$name",pa=
function(){if(this.$$full_name)return this.$$full_name;for(var J=[],ea=this;ea;){if(ea.$$name===z||null==ea.$$name)return z;J.unshift(ea.$$name);ea=ea.$$base_module;if(ea===a.Object)break}return 0===J.length?z:this.$$full_name=J.join("::")},pa.$$arity=0);a.def(k,"$prepend",Ga=function(J){var ea=a.slice.call(arguments,0,arguments.length);0===ea.length&&this.$raise(h(A,"ArgumentError"),"wrong number of arguments (given 0, expected 1+)");for(var F=ea.length-1;0<=F;F--){var O=ea[F];O.$$is_module||this.$raise(h(A,
"TypeError"),"wrong argument type "+O.$class()+" (expected Module)");O.$prepend_features(this);O.$prepended(this)}return this},Ga.$$arity=-1);a.def(k,"$prepend_features",Pa=function(J){this.$$is_module||this.$raise(h(A,"TypeError"),"wrong argument type "+this.$class()+" (expected Module)");a.prepend_features(this,J);return this},Pa.$$arity=1);a.def(k,"$prepended",Va=function(){return z},Va.$$arity=1);a.def(k,"$remove_const",Ha=function(J){return a.const_remove(this,J)},Ha.$$arity=1);a.def(k,"$to_s",
Z=function(){var J;return v(J=a.Module.$name.call(this))?J:"#<"+(this.$$is_module?"Module":"Class")+":0x"+this.$__id__().$to_s(16)+">"},Z.$$arity=0);a.def(k,"$undef_method",P=function(J){var ea=a.slice.call(arguments,0,arguments.length);for(var F=0,O=ea.length;F<O;F++)a.udef(this,"$"+ea[F]);return this},P.$$arity=-1);a.def(k,"$instance_variables",ba=function(){var J=(a.Module.$$nesting=A,this.$constants());var ea=[],F;for(F in this)this.hasOwnProperty(F)&&"$"!==F.charAt(0)&&"constructor"!==F&&!J["$include?"](F)&&
ea.push("@"+F);return ea},ba.$$arity=0);a.def(k,"$dup",T=function(){var J=T.$$p,ea;J&&(T.$$p=null);var F=0;var O=arguments.length;for(ea=Array(O);F<O;F++)ea[F]=arguments[F];J=e(this,a.find_super_dispatcher(this,"dup",T,!1,!0),"dup",ea,J);J.$copy_class_variables(this);J.$copy_constants(this);return J},T.$$arity=0);a.def(k,"$copy_class_variables",fa=function(J){for(var ea in J.$$cvars)this.$$cvars[ea]=J.$$cvars[ea]},fa.$$arity=1);return(a.def(k,"$copy_constants",na=function(J){var ea;J=J.$$const;for(ea in J)a.const_set(this,
ea,J[ea])},na.$$arity=1),z)&&"copy_constants"}(G[0],null,G)};
Opal.modules["corelib/class"]=function(a){var w=a.top,G=[],z=a.nil,B=a.$$,h=a.klass,v=a.send,p=a.send2;a.add_stubs("$require $class_eval $to_proc $initialize_copy $allocate $name $to_s".split(" "));w.$require("corelib/module");return function(q,$super,d){q=h(q,$super,"Class");var n=[q].concat(d),x,e,k,E,c,A,D;a.defs(q,"$new",x=function(r){var ja=x.$$p,va=ja||z;ja&&(x.$$p=null);ja&&(x.$$p=null);null==r&&(r=B(n,"Object"));if(!r.$$is_class)throw a.TypeError.$new("superclass must be a Class");ja=a.allocate_class(z,
r);r.$inherited(ja);va!==z&&v(ja,"class_eval",[],va.$to_proc());return ja},x.$$arity=-1);a.def(q,"$allocate",e=function(){var r=new this.$$constructor;r.$$id=a.uid();return r},e.$$arity=0);a.def(q,"$inherited",k=function(){return z},k.$$arity=1);a.def(q,"$initialize_dup",E=function(r){this.$initialize_copy(r);this.$$full_name=this.$$name=null},E.$$arity=1);a.def(q,"$new",c=function(r){var ja=c.$$p,va=ja||z;ja&&(c.$$p=null);ja&&(c.$$p=null);ja=a.slice.call(arguments,0,arguments.length);var ha=this.$allocate();
a.send(ha,ha.$initialize,ja,va);return ha},c.$$arity=-1);a.def(q,"$superclass",A=function(){return this.$$super||z},A.$$arity=0);return(a.def(q,"$to_s",D=function(){D.$$p&&(D.$$p=null);var r=this.$$singleton_of;return r&&r.$$is_a_module?"#<Class:"+r.$name()+">":r?"#<Class:#<"+r.$$class.$name()+":0x"+a.id(r).$to_s(16)+">>":p(this,a.find_super_dispatcher(this,"to_s",D,!1,!0),"to_s",[],null)},D.$$arity=0),z)&&"to_s"}(G[0],null,G)};
Opal.modules["corelib/basic_object"]=function(a){var w=[],G=a.nil,z=a.$$$,B=a.klass,h=a.truthy,v=a.range,p=a.hash2,q=a.send;a.add_stubs("$== $! $nil? $cover? $size $raise $merge $compile $proc $any? $inspect $new".split(" "));return function(I,$super,n){I=B(I,$super,"BasicObject");[I].concat(n);var x,e,k,E,c,A,D,r,ja,va,ha,ma,b,f;a.def(I,"$initialize",x=function(g){a.slice.call(arguments,0,arguments.length);return G},x.$$arity=-1);a.def(I,"$==",e=function(g){return this===g},e.$$arity=1);a.def(I,
"$eql?",k=function(g){return this["$=="](g)},k.$$arity=1);a.alias(I,"equal?","==");a.def(I,"$__id__",E=function(){if(null!=this.$$id)return this.$$id;a.defineProperty(this,"$$id",a.uid());return this.$$id},E.$$arity=0);a.def(I,"$__send__",c=function(g,l){var m=c.$$p,y=m||G;m&&(c.$$p=null);m&&(c.$$p=null);m=a.slice.call(arguments,1,arguments.length);var ka=this["$"+g];if(ka)return y!==G&&(ka.$$p=y),ka.apply(this,m);y!==G&&(this.$method_missing.$$p=y);return this.$method_missing.apply(this,[g].concat(m))},
c.$$arity=-2);a.def(I,"$!",A=function(){return!1},A.$$arity=0);a.def(I,"$!=",D=function(g){return this["$=="](g)["$!"]()},D.$$arity=1);a.def(I,"$instance_eval",r=function(g){var l=r.$$p,m=l||G,y,ka,L=G,ia=y=G,ya=ia=G,Ka=ia=G;l&&(r.$$p=null);l&&(r.$$p=null);y=a.slice.call(arguments,0,arguments.length);h(h(L=m["$nil?"]())?!!a.compile:L)?(h(v(1,3,!1)["$cover?"](y.$size()))||z("::","Kernel").$raise(z("::","ArgumentError"),"wrong number of arguments (0 for 1..3)"),m=[].concat(a.to_a(y)),y=null==m[0]?G:
m[0],ia=null==m[1]?G:m[1],m,ia=p(["file","eval"],{file:h(ya=ia)?ya:"(eval)",eval:!0}),ia=a.hash({arity_check:!1}).$merge(ia),Ka=z("::","Opal").$compile(y,ia),m=q(z("::","Kernel"),"proc",[],(ka=function(){return function(){return eval(Ka)}(null==ka.$$s?this:ka.$$s)},ka.$$s=this,ka.$$arity=0,ka))):h(y["$any?"]())&&z("::","Kernel").$raise(z("::","ArgumentError"),"wrong number of arguments ("+y.$size()+" for 0)");ya=m.$$s;m.$$s=null;if(this.$$is_a_module){this.$$eval=!0;try{var La=m.call(this,this)}finally{this.$$eval=
!1}}else La=m.call(this,this);m.$$s=ya;return La},r.$$arity=-1);a.def(I,"$instance_exec",ja=function(g){var l=ja.$$p,m=l||G;l&&(ja.$$p=null);l&&(ja.$$p=null);l=a.slice.call(arguments,0,arguments.length);h(m)||z("::","Kernel").$raise(z("::","ArgumentError"),"no block given");var y=m.$$s;m.$$s=null;if(this.$$is_a_module){this.$$eval=!0;try{var ka=m.apply(this,l)}finally{this.$$eval=!1}}else ka=m.apply(this,l);m.$$s=y;return ka},ja.$$arity=-1);a.def(I,"$singleton_method_added",va=function(g){a.slice.call(arguments,
0,arguments.length);return G},va.$$arity=-1);a.def(I,"$singleton_method_removed",ha=function(g){a.slice.call(arguments,0,arguments.length);return G},ha.$$arity=-1);a.def(I,"$singleton_method_undefined",ma=function(g){a.slice.call(arguments,0,arguments.length);return G},ma.$$arity=-1);a.def(I,"$method_missing",b=function(g,l){var m=b.$$p;m&&(b.$$p=null);m&&(b.$$p=null);a.slice.call(arguments,1,arguments.length);m=h(this.$inspect&&!this.$inspect.$$stub)?"undefined method `"+g+"' for "+this.$inspect()+
":"+this.$$class:"undefined method `"+g+"' for "+this.$$class;return z("::","Kernel").$raise(z("::","NoMethodError").$new(m,g))},b.$$arity=-2);return(a.def(I,"$respond_to_missing?",f=function(){return!1},f.$$arity=-2),G)&&"respond_to_missing?"}(w[0],null,w)};
Opal.modules["corelib/kernel"]=function(a){function w(e,k){return"number"===typeof e&&"number"===typeof k?e<=k:e["$<="](k)}var G=[],z=a.nil,B=a.$$$,h=a.$$,v=a.truthy,p=a.coerce_to,q=a.module,I=a.gvars,d=a.hash2,n=a.send,x=a.klass;a.add_stubs("$raise $new $inspect $! $=~ $== $object_id $class $coerce_to? $<< $allocate $copy_instance_variables $copy_singleton_methods $initialize_clone $initialize_copy $define_method $singleton_class $to_proc $initialize_dup $for $empty? $pop $call $append_features $extend_object $extended $__id__ $to_s $instance_variable_name! $respond_to? $to_int $coerce_to! $Integer $nil? $=== $enum_for $result $any? $print $format $puts $each $<= $length $[] $< $first $caller $+ $map $exception $is_a? $rand $respond_to_missing? $pristine $try_convert! $expand_path $join $start_with? $new_seed $srand $sym $arg $open $include".split(" "));(function(e,
k){e=q(e,"Kernel");var E=[e].concat(k),c,A,D,r,ja,va,ha,ma,b,f,g,l,m,y,ka,L,ia,ya,Ka,La,Aa,Ma,U,wa,R,oa,za,la,M,K,X,xa,aa,qa,Ea,Ia,Sa,Wa,ib,gb,Ta,V,Ca,Da,Xa,$a,Ua,Ya,Ba,ua,pa,Ga,Pa,Va,Ha,Z,P,ba,T,fa,na,J,ea,F,O;a.def(e,"$method_missing",c=function(u,S){var ca=c.$$p;ca&&(c.$$p=null);ca&&(c.$$p=null);ca=a.slice.call(arguments,1,arguments.length);return this.$raise(h(E,"NoMethodError").$new("undefined method `"+u+"' for "+this.$inspect(),u,ca))},c.$$arity=-2);a.def(e,"$=~",A=function(){return!1},A.$$arity=
1);a.def(e,"$!~",D=function(u){return this["$=~"](u)["$!"]()},D.$$arity=1);a.def(e,"$===",r=function(u){var S;return v(S=this.$object_id()["$=="](u.$object_id()))?S:this["$=="](u)},r.$$arity=1);a.def(e,"$<=>",ja=function(u){this.$$comparable=!0;return(u=this["$=="](u))&&u!==z?0:z},ja.$$arity=1);a.def(e,"$method",va=function(u){var S=this["$"+u];S&&!S.$$stub||this.$raise(h(E,"NameError").$new("undefined method `"+u+"' for class `"+this.$class()+"'",u));return h(E,"Method").$new(this,S.$$owner||this.$class(),
S,u)},va.$$arity=1);a.def(e,"$methods",ha=function(u){null==u&&(u=!0);return v(u)?a.methods(this):a.own_methods(this)},ha.$$arity=-1);a.def(e,"$public_methods",ma=function(u){null==u&&(u=!0);return v(u)?a.methods(this):a.receiver_methods(this)},ma.$$arity=-1);a.def(e,"$Array",b=function(u){if(u===z)return[];if(u.$$is_array)return u;var S=h(E,"Opal")["$coerce_to?"](u,h(E,"Array"),"to_ary");if(S!==z)return S;S=h(E,"Opal")["$coerce_to?"](u,h(E,"Array"),"to_a");return S!==z?S:[u]},b.$$arity=1);a.def(e,
"$at_exit",f=function(){var u=f.$$p,S=u||z,ca=z;null==I.__at_exit__&&(I.__at_exit__=z);u&&(f.$$p=null);u&&(f.$$p=null);I.__at_exit__=v(ca=I.__at_exit__)?ca:[];I.__at_exit__["$<<"](S);return S},f.$$arity=0);a.def(e,"$caller",g=function(u,S){null==S&&(S=z);u=(Error().stack||"").split("\n");var ca=[];for(var ra=3,Fa=u.length;ra<Fa&&(u[ra].match("runtime.js")||(ca.push(u[ra].replace(/^ *\w+ +/,"")),!S||ca.length!=S));ra++);return ca},g.$$arity=-1);a.def(e,"$class",l=function(){return this.$$class},l.$$arity=
0);a.def(e,"$copy_instance_variables",m=function(u){var S=Object.keys(u),ca;var ra=0;for(ca=S.length;ra<ca;ra++){var Fa=S[ra];"$"!==Fa.charAt(0)&&u.hasOwnProperty(Fa)&&(this[Fa]=u[Fa])}},m.$$arity=1);a.def(e,"$copy_singleton_methods",y=function(u){var S;if(u.hasOwnProperty("$$meta")){var ca=a.get_singleton_class(u),ra=a.get_singleton_class(this);var Fa=Object.getOwnPropertyNames(ca.$$prototype);var cb=0;for(S=Fa.length;cb<S;cb++){var db=Fa[cb];a.is_method(db)&&(ra.$$prototype[db]=ca.$$prototype[db])}ra.$$const=
Object.assign({},ca.$$const);Object.setPrototypeOf(ra.$$prototype,Object.getPrototypeOf(ca.$$prototype))}cb=0;Fa=Object.getOwnPropertyNames(u);for(S=Fa.length;cb<S;cb++)db=Fa[cb],"$"===db.charAt(0)&&"$"!==db.charAt(1)&&u.hasOwnProperty(db)&&(this[db]=u[db])},y.$$arity=1);a.def(e,"$clone",ka=function(u){if(null==u)d([],{});else if(!u.$$is_hash)throw a.ArgumentError.$new("expected kwargs");u=this.$class().$allocate();u.$copy_instance_variables(this);u.$copy_singleton_methods(this);u.$initialize_clone(this);
return u},ka.$$arity=-1);a.def(e,"$initialize_clone",L=function(u){return this.$initialize_copy(u)},L.$$arity=1);a.def(e,"$define_singleton_method",ia=function(u,S){var ca=ia.$$p,ra=ca||z;ca&&(ia.$$p=null);ca&&(ia.$$p=null);return n(this.$singleton_class(),"define_method",[u,S],ra.$to_proc())},ia.$$arity=-2);a.def(e,"$dup",ya=function(){var u=this.$class().$allocate();u.$copy_instance_variables(this);u.$initialize_dup(this);return u},ya.$$arity=0);a.def(e,"$initialize_dup",Ka=function(u){return this.$initialize_copy(u)},
Ka.$$arity=1);a.def(e,"$enum_for",La=function(u,S){var ca=La.$$p,ra=ca||z;ca&&(La.$$p=null);ca&&(La.$$p=null);ca=a.slice.call(arguments,0,arguments.length);if(0<ca.length){var Fa=ca[0];ca.splice(0,1)}null==Fa&&(Fa="each");return n(h(E,"Enumerator"),"for",[this,Fa].concat(a.to_a(ca)),ra.$to_proc())},La.$$arity=-1);a.alias(e,"to_enum","enum_for");a.def(e,"$equal?",Aa=function(u){return this===u},Aa.$$arity=1);a.def(e,"$exit",Ma=function(u){var S=z;null==I.__at_exit__&&(I.__at_exit__=z);null==u&&(u=
!0);for(I.__at_exit__=v(S=I.__at_exit__)?S:[];!v(I.__at_exit__["$empty?"]());)S=I.__at_exit__.$pop(),S.$call();u=u.$$is_boolean?u?0:1:p(u,h(E,"Integer"),"to_int");a.exit(u);return z},Ma.$$arity=-1);a.def(e,"$extend",U=function(u){var S=a.slice.call(arguments,0,arguments.length);for(var ca=this.$singleton_class(),ra=S.length-1;0<=ra;ra--){var Fa=S[ra];Fa.$$is_module||this.$raise(h(E,"TypeError"),"wrong argument type "+Fa.$class()+" (expected Module)");Fa.$append_features(ca);Fa.$extend_object(this);
Fa.$extended(this)}return this},U.$$arity=-1);a.def(e,"$hash",wa=function(){return this.$__id__()},wa.$$arity=0);a.def(e,"$initialize_copy",R=function(){return z},R.$$arity=1);a.def(e,"$inspect",oa=function(){return this.$to_s()},oa.$$arity=0);a.def(e,"$instance_of?",za=function(u){u.$$is_class||u.$$is_module||this.$raise(h(E,"TypeError"),"class or module required");return this.$$class===u},za.$$arity=1);a.def(e,"$instance_variable_defined?",la=function(u){u=h(E,"Opal")["$instance_variable_name!"](u);
return a.hasOwnProperty.call(this,u.substr(1))},la.$$arity=1);a.def(e,"$instance_variable_get",M=function(u){u=h(E,"Opal")["$instance_variable_name!"](u);u=this[a.ivar(u.substr(1))];return null==u?z:u},M.$$arity=1);a.def(e,"$instance_variable_set",K=function(u,S){u=h(E,"Opal")["$instance_variable_name!"](u);return this[a.ivar(u.substr(1))]=S},K.$$arity=2);a.def(e,"$remove_instance_variable",X=function(u){u=h(E,"Opal")["$instance_variable_name!"](u);var S=a.ivar(u.substr(1));return this.hasOwnProperty(S)?
(u=this[S],delete this[S],u):this.$raise(h(E,"NameError"),"instance variable "+u+" not defined")},X.$$arity=1);a.def(e,"$instance_variables",xa=function(){var u=[],S;for(S in this)if(this.hasOwnProperty(S)&&"$"!==S.charAt(0)){var ca="$"===S.substr(-1)?S.slice(0,S.length-1):S;u.push("@"+ca)}return u},xa.$$arity=0);a.def(e,"$Integer",aa=function(u,S){var ca=this;if(!u.$$is_string){void 0!==S&&ca.$raise(h(E,"ArgumentError"),"base specified for non string value");u===z&&ca.$raise(h(E,"TypeError"),"can't convert nil into Integer");
if(u.$$is_number)return(Infinity===u||-Infinity===u||isNaN(u))&&ca.$raise(h(E,"FloatDomainError"),u),Math.floor(u);if(u["$respond_to?"]("to_int")){var ra=u.$to_int();if(ra!==z)return ra}return h(E,"Opal")["$coerce_to!"](u,h(E,"Integer"),"to_i")}if("0"===u)return 0;void 0===S?S=0:(S=p(S,h(E,"Integer"),"to_int"),(1===S||0>S||36<S)&&ca.$raise(h(E,"ArgumentError"),"invalid radix "+S));ra=u.toLowerCase();ra=ra.replace(/(\d)_(?=\d)/g,"$1");ra=ra.replace(/^(\s*[+-]?)(0[bodx]?)/,function(cb,db,qb){switch(qb){case "0b":if(0===
S||2===S)return S=2,db;case "0":case "0o":if(0===S||8===S)return S=8,db;case "0d":if(0===S||10===S)return S=10,db;case "0x":if(0===S||16===S)return S=16,db}ca.$raise(h(E,"ArgumentError"),'invalid value for Integer(): "'+u+'"')});S=0===S?10:S;var Fa="0-"+(10>=S?S-1:"9a-"+String.fromCharCode(97+(S-11)));(new RegExp("^\\s*[+-]?["+Fa+"]+\\s*$")).test(ra)||ca.$raise(h(E,"ArgumentError"),'invalid value for Integer(): "'+u+'"');ra=parseInt(ra,S);isNaN(ra)&&ca.$raise(h(E,"ArgumentError"),'invalid value for Integer(): "'+
u+'"');return ra},aa.$$arity=-2);a.def(e,"$Float",qa=function(u){u===z&&this.$raise(h(E,"TypeError"),"can't convert nil into Float");if(u.$$is_string){var S=u.toString();S=S.replace(/(\d)_(?=\d)/g,"$1");if(/^\s*[-+]?0[xX][0-9a-fA-F]+\s*$/.test(S))return this.$Integer(S);/^\s*[-+]?[0-9]*\.?[0-9]+([eE][-+]?[0-9]+)?\s*$/.test(S)||this.$raise(h(E,"ArgumentError"),'invalid value for Float(): "'+u+'"');return parseFloat(S)}return h(E,"Opal")["$coerce_to!"](u,h(E,"Float"),"to_f")},qa.$$arity=1);a.def(e,
"$Hash",Ea=function(u){var S=z;return v(v(S=u["$nil?"]())?S:u["$=="]([]))?d([],{}):v(h(E,"Hash")["$==="](u))?u:h(E,"Opal")["$coerce_to!"](u,h(E,"Hash"),"to_hash")},Ea.$$arity=1);a.def(e,"$is_a?",Ia=function(u){u.$$is_class||u.$$is_module||this.$raise(h(E,"TypeError"),"class or module required");return a.is_a(this,u)},Ia.$$arity=1);a.def(e,"$itself",Sa=function(){return this},Sa.$$arity=0);a.alias(e,"kind_of?","is_a?");a.def(e,"$lambda",Wa=function(){var u=Wa.$$p,S=u||z;u&&(Wa.$$p=null);u&&(Wa.$$p=
null);return a.lambda(S)},Wa.$$arity=0);a.def(e,"$load",ib=function(u){u=h(E,"Opal")["$coerce_to!"](u,h(E,"String"),"to_str");return a.load(u)},ib.$$arity=1);a.def(e,"$loop",gb=function(){var u,S=gb.$$p,ca=S||z,ra=z;S&&(gb.$$p=null);if(ca===z)return n(this,"enum_for",["loop"],(u=function(){return B(h(E,"Float"),"INFINITY")},u.$$s=this,u.$$arity=0,u));for(;v(!0);)try{a.yieldX(ca,[])}catch(Fa){if(a.rescue(Fa,[h(E,"StopIteration")])){ra=Fa;try{return ra.$result()}finally{a.pop_exception()}}else throw Fa;
}return this},gb.$$arity=0);a.def(e,"$nil?",Ta=function(){return!1},Ta.$$arity=0);a.alias(e,"object_id","__id__");a.def(e,"$printf",V=function(u){var S=a.slice.call(arguments,0,arguments.length);v(S["$any?"]())&&this.$print(n(this,"format",a.to_a(S)));return z},V.$$arity=-1);a.def(e,"$proc",Ca=function(){var u=Ca.$$p,S=u||z;u&&(Ca.$$p=null);u&&(Ca.$$p=null);v(S)||this.$raise(h(E,"ArgumentError"),"tried to create Proc object without a block");S.$$is_lambda=!1;return S},Ca.$$arity=0);a.def(e,"$puts",
Da=function(u){null==I.stdout&&(I.stdout=z);var S=a.slice.call(arguments,0,arguments.length);return n(I.stdout,"puts",a.to_a(S))},Da.$$arity=-1);a.def(e,"$p",Xa=function(u){var S;var ca=a.slice.call(arguments,0,arguments.length);n(ca,"each",[],(S=function(ra){null==I.stdout&&(I.stdout=z);null==ra&&(ra=z);return I.stdout.$puts(ra.$inspect())},S.$$s=this,S.$$arity=1,S));return v(w(ca.$length(),1))?ca["$[]"](0):ca},Xa.$$arity=-1);a.def(e,"$print",$a=function(u){null==I.stdout&&(I.stdout=z);var S=a.slice.call(arguments,
0,arguments.length);return n(I.stdout,"print",a.to_a(S))},$a.$$arity=-1);a.def(e,"$warn",Ua=function(u,S){var ca,ra=z,Fa=z;null==I.VERBOSE&&(I.VERBOSE=z);null==I.stderr&&(I.stderr=z);var cb=a.slice.call(arguments,0,arguments.length);var db=a.extract_kwargs(cb);if(null==db)db=d([],{});else if(!db.$$is_hash)throw a.ArgumentError.$new("expected kwargs");db=db.$$smap.uplevel;null==db&&(db=z);v(db)&&(db=h(E,"Opal")["$coerce_to!"](db,h(E,"Integer"),"to_str"),v("number"===typeof db?0>db:db["$<"](0))&&this.$raise(h(E,
"ArgumentError"),"negative level ("+db+")"),ra=this.$caller("number"===typeof db?db+2:db["$+"](2),1).$first(),v(ra)&&(ra=""+ra+": "),cb=n(cb,"map",[],(ca=function(qb){null==qb&&(qb=z);return""+ra+"warning: "+qb},ca.$$s=this,ca.$$arity=1,ca)));return v(v(Fa=I.VERBOSE["$nil?"]())?Fa:cb["$empty?"]())?z:n(I.stderr,"puts",a.to_a(cb))},Ua.$$arity=-1);a.def(e,"$raise",Ya=function(u,S){null==I["!"]&&(I["!"]=z);null==S&&(S=z);if(null==u&&I["!"]!==z)throw I["!"];null==u?u=h(E,"RuntimeError").$new():u.$$is_string?
u=h(E,"RuntimeError").$new(u):u.$$is_class&&u["$respond_to?"]("exception")?u=u.$exception(S):u["$is_a?"](h(E,"Exception"))||(u=h(E,"TypeError").$new("exception class/object expected"));I["!"]!==z&&a.exceptions.push(I["!"]);I["!"]=u;throw u;},Ya.$$arity=-1);a.alias(e,"fail","raise");a.def(e,"$rand",Ba=function(u){if(void 0===u)return B(h(E,"Random"),"DEFAULT").$rand();u.$$is_number&&(0>u&&(u=Math.abs(u)),0!==u%1&&(u=u.$to_i()),0===u&&(u=void 0));return B(h(E,"Random"),"DEFAULT").$rand(u)},Ba.$$arity=
-1);a.def(e,"$respond_to?",ua=function(u,S){null==S&&(S=!1);var ca=this["$"+u];return"function"!==typeof ca||ca.$$stub?!0===this["$respond_to_missing?"].$$pristine?!1:this["$respond_to_missing?"](u,S):!0},ua.$$arity=-2);a.def(e,"$respond_to_missing?",pa=function(){return!1},pa.$$arity=-2);h(E,"Opal").$pristine(e,"respond_to?","respond_to_missing?");a.def(e,"$require",Ga=function(u){u=h(E,"Opal")["$coerce_to!"](u,h(E,"String"),"to_str");return a.require(u)},Ga.$$arity=1);a.def(e,"$require_relative",
Pa=function(u){h(E,"Opal")["$try_convert!"](u,h(E,"String"),"to_str");u=h(E,"File").$expand_path(h(E,"File").$join(a.current_file,"..",u));return a.require(u)},Pa.$$arity=1);a.def(e,"$require_tree",Va=function(u){var S=[];u=h(E,"File").$expand_path(u);u=a.normalize(u);"."===u&&(u="");for(var ca in a.modules)ca["$start_with?"](u)&&S.push([ca,a.require(ca)]);return S},Va.$$arity=1);a.alias(e,"send","__send__");a.alias(e,"public_send","__send__");a.def(e,"$singleton_class",Ha=function(){return a.get_singleton_class(this)},
Ha.$$arity=0);a.def(e,"$sleep",Z=function(u){null==u&&(u=z);u===z&&this.$raise(h(E,"TypeError"),"can't convert NilClass into time interval");u.$$is_number||this.$raise(h(E,"TypeError"),"can't convert "+u.$class()+" into time interval");0>u&&this.$raise(h(E,"ArgumentError"),"time interval must be positive");for(var S=a.global.performance?function(){return performance.now()}:function(){return new Date},ca=S();S()-ca<=1E3*u;);return Math.round(u)},Z.$$arity=-1);a.def(e,"$srand",P=function(u){null==u&&
(u=h(E,"Random").$new_seed());return h(E,"Random").$srand(u)},P.$$arity=-1);a.def(e,"$String",ba=function(u){var S;return v(S=h(E,"Opal")["$coerce_to?"](u,h(E,"String"),"to_str"))?S:h(E,"Opal")["$coerce_to!"](u,h(E,"String"),"to_s")},ba.$$arity=1);a.def(e,"$tap",T=function(){var u=T.$$p,S=u||z;u&&(T.$$p=null);u&&(T.$$p=null);a.yield1(S,this);return this},T.$$arity=0);a.def(e,"$to_proc",fa=function(){return this},fa.$$arity=0);a.def(e,"$to_s",na=function(){return"#<"+this.$class()+":0x"+this.$__id__().$to_s(16)+
">"},na.$$arity=0);a.def(e,"$catch",J=function(u){var S=J.$$p,ca=S||z;S&&(J.$$p=null);try{return a.yieldX(ca,[])}catch(ra){if(a.rescue(ra,[h(E,"UncaughtThrowError")])){S=ra;try{return S.$sym()["$=="](u)?S.$arg():this.$raise()}finally{a.pop_exception()}}else throw ra;}},J.$$arity=1);a.def(e,"$throw",ea=function(u){var S=a.slice.call(arguments,0,arguments.length);return this.$raise(h(E,"UncaughtThrowError"),S)},ea.$$arity=-1);a.def(e,"$open",F=function(u){var S=F.$$p,ca=S||z;S&&(F.$$p=null);S&&(F.$$p=
null);S=a.slice.call(arguments,0,arguments.length);return n(h(E,"File"),"open",a.to_a(S),ca.$to_proc())},F.$$arity=-1);a.def(e,"$yield_self",O=function(){var u,S=O.$$p,ca=S||z;S&&(O.$$p=null);return ca===z?n(this,"enum_for",["yield_self"],(u=function(){return 1},u.$$s=this,u.$$arity=0,u)):a.yield1(ca,this)},O.$$arity=0);a.alias(e,"then","yield_self");return h(E,"Opal").$pristine(e,"method_missing")})(G[0],G);return function(e,$super,E){e=x(e,$super,"Object");E=[e].concat(E);return e.$include(h(E,
"Kernel"))}(G[0],null,G)};
Opal.modules["corelib/error"]=function(a){var w=[],G=a.nil,z=a.$$,B=a.klass,h=a.send,v=a.truthy,p=a.module,q=a.send2,I=a.hash2;a.add_stubs("$new $clone $to_s $empty? $class $raise $+ $attr_reader $[] $> $length $inspect".split(" "));(function(d,$super,x){d=B(d,$super,"Exception");var e=[d].concat(x),k,E,c,A,D,r,ja,va,ha;d.$$prototype.message=G;a.defs(d,"$new",k=function(b){var f=a.slice.call(arguments,0,arguments.length);var g=0<f.length?f[0]:G,l=new this.$$constructor(g);l.name=this.$$name;l.message=
g;a.send(l,l.$initialize,f);a.config.enable_stack_trace&&Error.captureStackTrace&&Error.captureStackTrace(l,ma);return l},k.$$arity=-1);var ma=d.$new;a.defs(d,"$exception",E=function(b){var f=a.slice.call(arguments,0,arguments.length);return h(this,"new",a.to_a(f))},E.$$arity=-1);a.def(d,"$initialize",c=function(b){var f=a.slice.call(arguments,0,arguments.length);return this.message=0<f.length?f[0]:G},c.$$arity=-1);a.def(d,"$backtrace",A=function(){if(this.backtrace)return this.backtrace;var b=this.stack;
return"string"===typeof b?b.split("\n").slice(0,15):b?b.slice(0,15):[]},A.$$arity=0);a.def(d,"$exception",D=function(b){null==b&&(b=G);if(b===G||this===b)return this;var f=this.$clone();f.message=b;f.stack=this.stack;return f},D.$$arity=-1);a.def(d,"$message",r=function(){return this.$to_s()},r.$$arity=0);a.def(d,"$inspect",ja=function(){var b=this.$to_s();return v(b["$empty?"]())?this.$class().$to_s():"#<"+this.$class().$to_s()+": "+this.$to_s()+">"},ja.$$arity=0);a.def(d,"$set_backtrace",va=function(b){var f=
!0,g;if(b===G)this.backtrace=G,this.stack="";else if(b.$$is_string)this.backtrace=[b],this.stack=b;else{if(b.$$is_array){var l=0;for(g=b.length;l<g;l++)if(!b[l].$$is_string){f=!1;break}}else f=!1;!1===f&&this.$raise(z(e,"TypeError"),"backtrace must be Array of String");this.backtrace=b;this.stack=b.join("\n")}return b},va.$$arity=1);return(a.def(d,"$to_s",ha=function(){var b=G,f=G;return v(b=v(f=this.message)?this.message.$to_s():f)?b:this.$class().$to_s()},ha.$$arity=0),G)&&"to_s"})(w[0],Error,w);
(function(d,$super,x){[B(d,$super,"ScriptError")].concat(x);return G})(w[0],z(w,"Exception"),w);(function(d,$super,x){[B(d,$super,"SyntaxError")].concat(x);return G})(w[0],z(w,"ScriptError"),w);(function(d,$super,x){[B(d,$super,"LoadError")].concat(x);return G})(w[0],z(w,"ScriptError"),w);(function(d,$super,x){[B(d,$super,"NotImplementedError")].concat(x);return G})(w[0],z(w,"ScriptError"),w);(function(d,$super,x){[B(d,$super,"SystemExit")].concat(x);return G})(w[0],z(w,"Exception"),w);(function(d,
$super,x){[B(d,$super,"NoMemoryError")].concat(x);return G})(w[0],z(w,"Exception"),w);(function(d,$super,x){[B(d,$super,"SignalException")].concat(x);return G})(w[0],z(w,"Exception"),w);(function(d,$super,x){[B(d,$super,"Interrupt")].concat(x);return G})(w[0],z(w,"Exception"),w);(function(d,$super,x){[B(d,$super,"SecurityError")].concat(x);return G})(w[0],z(w,"Exception"),w);(function(d,$super,x){[B(d,$super,"StandardError")].concat(x);return G})(w[0],z(w,"Exception"),w);(function(d,$super,x){[B(d,
$super,"EncodingError")].concat(x);return G})(w[0],z(w,"StandardError"),w);(function(d,$super,x){[B(d,$super,"ZeroDivisionError")].concat(x);return G})(w[0],z(w,"StandardError"),w);(function(d,$super,x){[B(d,$super,"NameError")].concat(x);return G})(w[0],z(w,"StandardError"),w);(function(d,$super,x){[B(d,$super,"NoMethodError")].concat(x);return G})(w[0],z(w,"NameError"),w);(function(d,$super,x){[B(d,$super,"RuntimeError")].concat(x);return G})(w[0],z(w,"StandardError"),w);(function(d,$super,x){[B(d,
$super,"FrozenError")].concat(x);return G})(w[0],z(w,"RuntimeError"),w);(function(d,$super,x){[B(d,$super,"LocalJumpError")].concat(x);return G})(w[0],z(w,"StandardError"),w);(function(d,$super,x){[B(d,$super,"TypeError")].concat(x);return G})(w[0],z(w,"StandardError"),w);(function(d,$super,x){[B(d,$super,"ArgumentError")].concat(x);return G})(w[0],z(w,"StandardError"),w);(function(d,$super,x){[B(d,$super,"IndexError")].concat(x);return G})(w[0],z(w,"StandardError"),w);(function(d,$super,x){[B(d,
$super,"StopIteration")].concat(x);return G})(w[0],z(w,"IndexError"),w);(function(d,$super,x){[B(d,$super,"KeyError")].concat(x);return G})(w[0],z(w,"IndexError"),w);(function(d,$super,x){[B(d,$super,"RangeError")].concat(x);return G})(w[0],z(w,"StandardError"),w);(function(d,$super,x){[B(d,$super,"FloatDomainError")].concat(x);return G})(w[0],z(w,"RangeError"),w);(function(d,$super,x){[B(d,$super,"IOError")].concat(x);return G})(w[0],z(w,"StandardError"),w);(function(d,$super,x){[B(d,$super,"SystemCallError")].concat(x);
return G})(w[0],z(w,"StandardError"),w);(function(d,n){d=[p(d,"Errno")].concat(n);return function(x,$super,k){x=B(x,$super,"EINVAL");[x].concat(k);var E;return(a.defs(x,"$new",E=function(c){E.$$p&&(E.$$p=null);null==c&&(c=G);var A="Invalid argument";v(c)&&(c=" - "+c,A="number"===typeof A&&"number"===typeof c?A+c:A["$+"](c));return q(this,a.find_super_dispatcher(this,"new",E,!1,!0),"new",[A],null)},E.$$arity=-1),G)&&"new"}(d[0],z(d,"SystemCallError"),d)})(w[0],w);(function(d,$super,x){d=B(d,$super,
"UncaughtThrowError");[d].concat(x);var e;d.$$prototype.sym=G;d.$attr_reader("sym","arg");return(a.def(d,"$initialize",e=function(k){e.$$p&&(e.$$p=null);this.sym=k["$[]"](0);var E=k.$length();E="number"===typeof E?1<E:E["$>"](1);v(E)&&(this.arg=k["$[]"](1));return q(this,a.find_super_dispatcher(this,"initialize",e,!1,!0),"initialize",["uncaught throw "+this.sym.$inspect()],null)},e.$$arity=1),G)&&"initialize"})(w[0],z(w,"ArgumentError"),w);(function(d,$super,x){d=B(d,$super,"NameError");[d].concat(x);
var e;d.$attr_reader("name");return(a.def(d,"$initialize",e=function(k,E){e.$$p&&(e.$$p=null);null==E&&(E=G);q(this,a.find_super_dispatcher(this,"initialize",e,!1,!0),"initialize",[k],null);return this.name=E},e.$$arity=-2),G)&&"initialize"})(w[0],null,w);(function(d,$super,x){d=B(d,$super,"NoMethodError");[d].concat(x);var e;d.$attr_reader("args");return(a.def(d,"$initialize",e=function(k,E,c){e.$$p&&(e.$$p=null);null==E&&(E=G);null==c&&(c=[]);q(this,a.find_super_dispatcher(this,"initialize",e,!1,
!0),"initialize",[k,E],null);return this.args=c},e.$$arity=-2),G)&&"initialize"})(w[0],null,w);(function(d,$super,x){d=B(d,$super,"StopIteration");[d].concat(x);return d.$attr_reader("result")})(w[0],null,w);(function(d,$super,x){d=B(d,$super,"KeyError");var e=[d].concat(x),k,E,c;d.$$prototype.receiver=d.$$prototype.key=G;a.def(d,"$initialize",k=function(A,D){k.$$p&&(k.$$p=null);if(null==D)D=I([],{});else if(!D.$$is_hash)throw a.ArgumentError.$new("expected kwargs");var r=D.$$smap.receiver;null==
r&&(r=G);D=D.$$smap.key;null==D&&(D=G);q(this,a.find_super_dispatcher(this,"initialize",k,!1,!0),"initialize",[A],null);this.receiver=r;return this.key=D},k.$$arity=-2);a.def(d,"$receiver",E=function(){var A;return v(A=this.receiver)?A:this.$raise(z(e,"ArgumentError"),"no receiver is available")},E.$$arity=0);return(a.def(d,"$key",c=function(){var A;return v(A=this.key)?A:this.$raise(z(e,"ArgumentError"),"no key is available")},c.$$arity=0),G)&&"key"})(w[0],null,w);return function(d,n){d=[p(d,"JS")].concat(n);
[B(d[0],null,"Error")].concat(d);return G}(w[0],w)};
Opal.modules["corelib/constants"]=function(a){var w=[],G=a.$$;a.const_set(w[0],"RUBY_PLATFORM","opal");a.const_set(w[0],"RUBY_ENGINE","opal");a.const_set(w[0],"RUBY_VERSION","3.0.2");a.const_set(w[0],"RUBY_ENGINE_VERSION","1.2.0");a.const_set(w[0],"RUBY_RELEASE_DATE","2021-07-28");a.const_set(w[0],"RUBY_PATCHLEVEL",0);a.const_set(w[0],"RUBY_REVISION","0");a.const_set(w[0],"RUBY_COPYRIGHT","opal - Copyright (C) 2013-2021 Adam Beynon and the Opal contributors");return a.const_set(w[0],"RUBY_DESCRIPTION",
"opal "+G(w,"RUBY_ENGINE_VERSION")+" ("+G(w,"RUBY_RELEASE_DATE")+" revision "+G(w,"RUBY_REVISION")+")")};Opal.modules["opal/base"]=function(a){var w=a.top;a.add_stubs(["$require"]);w.$require("corelib/runtime");w.$require("corelib/helpers");w.$require("corelib/module");w.$require("corelib/class");w.$require("corelib/basic_object");w.$require("corelib/kernel");w.$require("corelib/error");return w.$require("corelib/constants")};
Opal.modules["corelib/nil"]=function(a){var w=[],G=a.nil,z=a.$$,B=a.klass,h=a.hash2,v=a.truthy;a.add_stubs("$raise $name $new $> $length $Rational".split(" "));(function(p,$super,I){p=B(p,$super,"NilClass");var d=[p].concat(I),n,x,e,k,E,c,A,D,r,ja,va,ha,ma,b,f,g,l,m;p.$$prototype.$$meta=p;(function(y,ka){var L=[y].concat(ka),ia;a.def(y,"$allocate",ia=function(){return this.$raise(z(L,"TypeError"),"allocator undefined for "+this.$name())},ia.$$arity=0);a.udef(y,"$new");return G})(a.get_singleton_class(p),
d);a.def(p,"$!",n=function(){return!0},n.$$arity=0);a.def(p,"$&",x=function(){return!1},x.$$arity=1);a.def(p,"$|",e=function(y){return!1!==y&&y!==G},e.$$arity=1);a.def(p,"$^",k=function(y){return!1!==y&&y!==G},k.$$arity=1);a.def(p,"$==",E=function(y){return y===G},E.$$arity=1);a.def(p,"$dup",c=function(){return G},c.$$arity=0);a.def(p,"$clone",A=function(y){if(null==y)h([],{});else if(!y.$$is_hash)throw a.ArgumentError.$new("expected kwargs");return G},A.$$arity=-1);a.def(p,"$inspect",D=function(){return"nil"},
D.$$arity=0);a.def(p,"$nil?",r=function(){return!0},r.$$arity=0);a.def(p,"$singleton_class",ja=function(){return z(d,"NilClass")},ja.$$arity=0);a.def(p,"$to_a",va=function(){return[]},va.$$arity=0);a.def(p,"$to_h",ha=function(){return a.hash()},ha.$$arity=0);a.def(p,"$to_i",ma=function(){return 0},ma.$$arity=0);a.alias(p,"to_f","to_i");a.def(p,"$to_s",b=function(){return""},b.$$arity=0);a.def(p,"$to_c",f=function(){return z(d,"Complex").$new(0,0)},f.$$arity=0);a.def(p,"$rationalize",g=function(y){var ka=
a.slice.call(arguments,0,arguments.length).$length();ka="number"===typeof ka?1<ka:ka["$>"](1);v(ka)&&this.$raise(z(d,"ArgumentError"));return this.$Rational(0,1)},g.$$arity=-1);a.def(p,"$to_r",l=function(){return this.$Rational(0,1)},l.$$arity=0);return(a.def(p,"$instance_variables",m=function(){return[]},m.$$arity=0),G)&&"instance_variables"})(w[0],null,w);return a.const_set(w[0],"NIL",G)};
Opal.modules["corelib/boolean"]=function(a){var w=[],G=a.nil,z=a.$$,B=a.klass,h=a.hash2;a.add_stubs(["$raise","$name"]);(function(v,$super,q){v=B(v,$super,"Boolean");var I=[v].concat(q),d,n,x,e,k,E,c,A,D,r;a.defineProperty(v.$$prototype,"$$is_boolean",!0);a.defineProperty(v.$$prototype,"$$meta",v);(function(ja,va){var ha=[ja].concat(va),ma;a.def(ja,"$allocate",ma=function(){return this.$raise(z(ha,"TypeError"),"allocator undefined for "+this.$name())},ma.$$arity=0);a.udef(ja,"$new");return G})(a.get_singleton_class(v),
I);a.def(v,"$__id__",d=function(){return this.valueOf()?2:0},d.$$arity=0);a.alias(v,"object_id","__id__");a.def(v,"$!",n=function(){return 1!=this},n.$$arity=0);a.def(v,"$&",x=function(ja){return 1==this?!1!==ja&&ja!==G:!1},x.$$arity=1);a.def(v,"$|",e=function(ja){return 1==this?!0:!1!==ja&&ja!==G},e.$$arity=1);a.def(v,"$^",k=function(ja){return 1==this?!1===ja||ja===G:!1!==ja&&ja!==G},k.$$arity=1);a.def(v,"$==",E=function(ja){return 1==this===ja.valueOf()},E.$$arity=1);a.alias(v,"equal?","==");a.alias(v,
"eql?","==");a.def(v,"$singleton_class",c=function(){return z(I,"Boolean")},c.$$arity=0);a.def(v,"$to_s",A=function(){return 1==this?"true":"false"},A.$$arity=0);a.def(v,"$dup",D=function(){return this},D.$$arity=0);return(a.def(v,"$clone",r=function(ja){if(null==ja)h([],{});else if(!ja.$$is_hash)throw a.ArgumentError.$new("expected kwargs");return this},r.$$arity=-1),G)&&"clone"})(w[0],Boolean,w);a.const_set(w[0],"TrueClass",z(w,"Boolean"));a.const_set(w[0],"FalseClass",z(w,"Boolean"));a.const_set(w[0],
"TRUE",!0);return a.const_set(w[0],"FALSE",!1)};
Opal.modules["corelib/comparable"]=function(a){function w(I,d){return"number"===typeof I&&"number"===typeof d?I>d:I["$>"](d)}function G(I,d){return"number"===typeof I&&"number"===typeof d?I<d:I["$<"](d)}var z=[],B=a.nil,h=a.$$,v=a.falsy,p=a.module,q=a.truthy;a.add_stubs("$> $< $=== $raise $class $<=> $equal?".split(" "));return function(I,d){function n(ma){return a.is_a(ma,a.Integer)?ma:w(ma,0)?1:G(ma,0)?-1:0}function x(ma,b){var f=ma["$<=>"](b);v(f)&&(ha=b,b=B["$==="](ha)||(!0)["$==="](ha)||(!1)["$==="](ha)||
h(k,"Integer")["$==="](ha)||h(k,"Float")["$==="](ha)?b.$inspect():b.$$class,e.$raise(h(k,"ArgumentError"),"comparison of "+ma.$class()+" with "+b+" failed"));return n(f)}var e=p(I,"Comparable"),k=[e].concat(d),E,c,A,D,r,ja,va,ha=B;a.def(e,"$==",E=function(ma){var b;return q(this["$equal?"](ma))?!0:this["$<=>"]==a.Kernel["$<=>"]?!1:this.$$comparable?(delete this.$$comparable,!1):q(b=this["$<=>"](ma))?0==n(b):!1},E.$$arity=1);a.def(e,"$>",c=function(ma){return 0<x(this,ma)},c.$$arity=1);a.def(e,"$>=",
A=function(ma){return 0<=x(this,ma)},A.$$arity=1);a.def(e,"$<",D=function(ma){return 0>x(this,ma)},D.$$arity=1);a.def(e,"$<=",r=function(ma){return 0>=x(this,ma)},r.$$arity=1);a.def(e,"$between?",ja=function(ma,b){return G(this,ma)||w(this,b)?!1:!0},ja.$$arity=2);return(a.def(e,"$clamp",va=function(ma,b){null==b&&(b=B);if(b===B){a.is_a(ma,a.Range)||this.$raise(h(k,"TypeError"),"wrong argument type "+ma.$class()+" (expected Range)");var f=ma.excl;b=ma.end;ma=ma.begin;b!==B&&f&&this.$raise(h(k,"ArgumentError"),
"cannot clamp with an exclusive range")}ma!==B&&b!==B&&0<x(ma,b)&&this.$raise(h(k,"ArgumentError"),"min argument must be smaller than max argument");if(ma!==B){f=x(this,ma);if(0==f)return this;if(0>f)return ma}return b!==B&&(f=x(this,b),0<f)?b:this},va.$$arity=-2),B)&&"clamp"}(z[0],z)};
Opal.modules["corelib/regexp"]=function(a){var w=[],G=a.nil,z=a.$$,B=a.coerce_to,h=a.klass,v=a.send2,p=a.truthy,q=a.gvars,I=a.send;a.add_stubs("$nil? $[] $raise $escape $options $to_str $new $join $coerce_to! $! $match $coerce_to? $begin $=~ $attr_reader $=== $inspect $to_a".split(" "));(function(d,$super,x){[h(d,$super,"RegexpError")].concat(x);return G})(w[0],z(w,"StandardError"),w);(function(d,$super,x){d=h(d,$super,"Regexp");var e=[d].concat(x),k,E,c,A,D,r,ja,va,ha,ma;a.const_set(e[0],"IGNORECASE",
1);a.const_set(e[0],"EXTENDED",2);a.const_set(e[0],"MULTILINE",4);a.defineProperty(d.$$prototype,"$$is_regexp",!0);(function(b,f){var g=[b].concat(f),l,m,y,ka,L;a.def(b,"$allocate",l=function(){var ia=l.$$p,ya;ia&&(l.$$p=null);var Ka=0;var La=arguments.length;for(ya=Array(La);Ka<La;Ka++)ya[Ka]=arguments[Ka];ia=v(this,a.find_super_dispatcher(this,"allocate",l,!1,!0),"allocate",ya,ia);ia.uninitialized=!0;return ia},l.$$arity=0);a.def(b,"$escape",m=function(ia){return a.escape_regexp(ia)},m.$$arity=
1);a.def(b,"$last_match",y=function(ia){null==q["~"]&&(q["~"]=G);null==ia&&(ia=G);return p(ia["$nil?"]())?q["~"]:q["~"]["$[]"](ia)},y.$$arity=-1);a.alias(b,"quote","escape");a.def(b,"$union",ka=function(ia){var ya=a.slice.call(arguments,0,arguments.length);if(0==ya.length)return/(?!)/;if(1==ya.length&&ya[0].$$is_regexp)return ya[0];var Ka=ya[0].$$is_array;1<ya.length&&Ka&&this.$raise(z(g,"TypeError"),"no implicit conversion of Array into String");Ka&&(ya=ya[0]);var La=void 0;Ka=[];for(var Aa=0;Aa<
ya.length;Aa++){var Ma=ya[Aa];if(Ma.$$is_string)Ka.push(this.$escape(Ma));else if(Ma.$$is_regexp){var U=Ma.$options();void 0!=La&&La!=U&&this.$raise(z(g,"TypeError"),"All expressions must use the same options");La=U;Ka.push("("+Ma.source+")")}else Ka.push(this.$escape(Ma.$to_str()))}return this.$new(Ka.$join("|"),La)},ka.$$arity=-1);a.def(b,"$new",L=function(ia,ya){if(ia.$$is_regexp)return new RegExp(ia);ia=z(g,"Opal")["$coerce_to!"](ia,z(g,"String"),"to_str");"\\"===ia.charAt(ia.length-1)&&"\\"!==
ia.charAt(ia.length-2)&&this.$raise(z(g,"RegexpError"),"too short escape sequence: /"+ia+"/");if(void 0===ya||ya["$!"]())return new RegExp(ia);if(ya.$$is_number){var Ka="";z(g,"IGNORECASE")&ya&&(Ka+="i");z(g,"MULTILINE")&ya&&(Ka+="m");ya=Ka}else ya="i";return new RegExp(ia,ya)},L.$$arity=-2);return a.alias(b,"compile","new")})(a.get_singleton_class(d),e);a.def(d,"$==",k=function(b){return b instanceof RegExp&&this.toString()===b.toString()},k.$$arity=1);a.def(d,"$===",E=function(b){return this.$match(z(e,
"Opal")["$coerce_to?"](b,z(e,"String"),"to_str"))!==G},E.$$arity=1);a.def(d,"$=~",c=function(b){var f;null==q["~"]&&(q["~"]=G);return p(f=this.$match(b))?q["~"].$begin(0):f},c.$$arity=1);a.alias(d,"eql?","==");a.def(d,"$inspect",A=function(){var b=this.toString(),f=/^\/(.*)\/([^\/]*)$/.exec(b);if(f){b=f[2];f=f[1].split("");for(var g=f.length,l=!1,m="",y=0;y<g;y++){var ka=f[y];l||"/"!=ka||(m=m.concat("\\"));m=m.concat(ka);l="\\"==ka?l?!1:!0:!1}return"/"+m+"/"+b}return b},A.$$arity=0);a.def(d,"$match",
D=function(b,f){var g=D.$$p,l=g||G;null==q["~"]&&(q["~"]=G);g&&(D.$$p=null);g&&(D.$$p=null);this.uninitialized&&this.$raise(z(e,"TypeError"),"uninitialized Regexp");if(void 0===f)return b===G?q["~"]=G:(b=this.exec(B(b,z(e,"String"),"to_str")))?(q["~"]=z(e,"MatchData").$new(this,b),l===G?q["~"]:a.yield1(l,q["~"])):q["~"]=G;f=B(f,z(e,"Integer"),"to_int");if(b===G)return q["~"]=G;b=B(b,z(e,"String"),"to_str");if(0>f&&(f+=b.length,0>f))return q["~"]=G;for(var m=a.global_regexp(this);;){g=m.exec(b);if(null===
g)return q["~"]=G;if(g.index>=f)return q["~"]=z(e,"MatchData").$new(m,g),l===G?q["~"]:a.yield1(l,q["~"]);m.lastIndex=g.index+1}},D.$$arity=-2);a.def(d,"$match?",r=function(b,f){this.uninitialized&&this.$raise(z(e,"TypeError"),"uninitialized Regexp");if(void 0===f)return b===G?!1:this.test(B(b,z(e,"String"),"to_str"));f=B(f,z(e,"Integer"),"to_int");if(b===G)return!1;b=B(b,z(e,"String"),"to_str");if(0>f&&(f+=b.length,0>f))return!1;b=a.global_regexp(this).exec(b);return null===b||b.index<f?!1:!0},r.$$arity=
-2);a.def(d,"$~",ja=function(){null==q._&&(q._=G);return this["$=~"](q._)},ja.$$arity=0);a.def(d,"$source",va=function(){return this.source},va.$$arity=0);a.def(d,"$options",ha=function(){this.uninitialized&&this.$raise(z(e,"TypeError"),"uninitialized Regexp");var b=0;this.multiline&&(b|=z(e,"MULTILINE"));this.ignoreCase&&(b|=z(e,"IGNORECASE"));return b},ha.$$arity=0);a.def(d,"$casefold?",ma=function(){return this.ignoreCase},ma.$$arity=0);return a.alias(d,"to_s","source")})(w[0],RegExp,w);return function(d,
$super,x){d=h(d,$super,"MatchData");var e=[d].concat(x),k,E,c,A,D,r,ja,va,ha,ma,b,f;d.$$prototype.matches=G;d.$attr_reader("post_match","pre_match","regexp","string");a.def(d,"$initialize",k=function(g,l){q["~"]=this;this.regexp=g;this.begin=l.index;this.string=l.input;this.pre_match=l.input.slice(0,l.index);this.post_match=l.input.slice(l.index+l[0].length);this.matches=[];g=0;for(var m=l.length;g<m;g++){var y=l[g];null==y?this.matches.push(G):this.matches.push(y)}},k.$$arity=2);a.def(d,"$[]",E=
function(g){var l=a.slice.call(arguments,0,arguments.length);return I(this.matches,"[]",a.to_a(l))},E.$$arity=-1);a.def(d,"$offset",c=function(g){0!==g&&this.$raise(z(e,"ArgumentError"),"MatchData#offset only supports 0th element");return[this.begin,this.begin+this.matches[g].length]},c.$$arity=1);a.def(d,"$==",A=function(g){var l=G,m=G,y=G,ka=G;return p(z(e,"MatchData")["$==="](g))?p(l=p(m=p(y=p(ka=this.string==g.string)?this.regexp.toString()==g.regexp.toString():ka)?this.pre_match==g.pre_match:
y)?this.post_match==g.post_match:m)?this.begin==g.begin:l:!1},A.$$arity=1);a.alias(d,"eql?","==");a.def(d,"$begin",D=function(g){0!==g&&this.$raise(z(e,"ArgumentError"),"MatchData#begin only supports 0th element");return this.begin},D.$$arity=1);a.def(d,"$end",r=function(g){0!==g&&this.$raise(z(e,"ArgumentError"),"MatchData#end only supports 0th element");return this.begin+this.matches[g].length},r.$$arity=1);a.def(d,"$captures",ja=function(){return this.matches.slice(1)},ja.$$arity=0);a.def(d,"$inspect",
va=function(){for(var g="#<MatchData "+this.matches[0].$inspect(),l=1,m=this.matches.length;l<m;l++)g+=" "+l+":"+this.matches[l].$inspect();return g+">"},va.$$arity=0);a.def(d,"$length",ha=function(){return this.matches.length},ha.$$arity=0);a.alias(d,"size","length");a.def(d,"$to_a",ma=function(){return this.matches},ma.$$arity=0);a.def(d,"$to_s",b=function(){return this.matches[0]},b.$$arity=0);return(a.def(d,"$values_at",f=function(g){var l=a.slice.call(arguments,0,arguments.length);var m,y=[];
for(m=0;m<l.length;m++){if(l[m].$$is_range){var ka=l[m].$to_a();ka.unshift(m,1);Array.prototype.splice.apply(l,ka)}ka=z(e,"Opal")["$coerce_to!"](l[m],z(e,"Integer"),"to_int");if(0>ka&&(ka+=this.matches.length,0>ka)){y.push(G);continue}y.push(this.matches[ka])}return y},f.$$arity=-1),G)&&"values_at"}(w[0],null,w)};
Opal.modules["corelib/string"]=function(a){function w(k,E){return"number"===typeof k&&"number"===typeof E?k/E:k["$/"](E)}function G(k,E){return"number"===typeof k&&"number"===typeof E?k+E:k["$+"](E)}var z=a.top,B=[],h=a.nil,v=a.$$,p=a.coerce_to,q=a.respond_to,I=a.klass,d=a.send,n=a.hash2,x=a.truthy,e=a.gvars;a.add_stubs("$require $include $coerce_to? $initialize $=== $format $raise $respond_to? $to_s $to_str $<=> $== $=~ $new $force_encoding $casecmp $empty? $ljust $ceil $/ $+ $rjust $floor $coerce_to! $copy_singleton_methods $initialize_clone $initialize_dup $enum_for $chomp $[] $to_i $each_line $to_proc $to_a $class $match $match? $captures $proc $succ $escape $include? $upcase $unicode_normalize $pristine".split(" "));
z.$require("corelib/comparable");z.$require("corelib/regexp");(function(k,$super,c){function A(C){function Q(hb){var mb="",kb,ub=hb.length;for(kb=0;kb<ub;kb++){var tb=hb.charAt(kb);if("-"===tb&&0<kb&&kb<ub-1&&!rb){var rb=hb.charCodeAt(kb-1);tb=hb.charCodeAt(kb+1);rb>tb&&D.$raise(v(r,"ArgumentError"),'invalid range "'+rb+"-"+tb+'" in string transliteration');for(rb+=1;rb<tb+1;rb++)mb+=String.fromCharCode(rb);rb=!0;kb++}else rb="\\"===tb,mb+=tb}return mb}function ta(hb,mb){if(0===hb.length)return mb;
var kb="",ub,tb=hb.length;for(ub=0;ub<tb;ub++){var rb=hb.charAt(ub);-1!==mb.indexOf(rb)&&(kb+=rb)}return kb}var Na,Ja="",Qa="";var jb=0;for(Na=C.length;jb<Na;jb++){var ob=p(C[jb],v(r,"String"),"to_str");var fb="^"===ob.charAt(0)&&1<ob.length;ob=Q(fb?ob.slice(1):ob);fb?Qa=ta(Qa,ob):Ja=ta(Ja,ob)}if(0<Ja.length&&0<Qa.length){ob="";jb=0;for(Na=Ja.length;jb<Na;jb++)C=Ja.charAt(jb),-1===Qa.indexOf(C)&&(ob+=C);Ja=ob;Qa=""}return 0<Ja.length?"["+v(r,"Regexp").$escape(Ja)+"]":0<Qa.length?"[^"+v(r,"Regexp").$escape(Qa)+
"]":null}var D=I(k,$super,"String"),r=[D].concat(c),ja,va,ha,ma,b,f,g,l,m,y,ka,L,ia,ya,Ka,La,Aa,Ma,U,wa,R,oa,za,la,M,K,X,xa,aa,qa,Ea,Ia,Sa,Wa,ib,gb,Ta,V,Ca,Da,Xa,$a,Ua,Ya,Ba,ua,pa,Ga,Pa,Va,Ha,Z,P,ba,T,fa,na,J,ea,F,O,u,S,ca,ra,Fa,cb,db,qb,vb,wb,W,Oa,ab,lb,pb;D.$include(v(r,"Comparable"));a.defineProperty(D.$$prototype,"$$is_string",!0);a.defineProperty(D.$$prototype,"$$cast",function(C){var Q=this.$$class;return Q.$$constructor===String?C:new Q.$$constructor(C)});a.def(D,"$__id__",ja=function(){return this.toString()},
ja.$$arity=0);a.alias(D,"object_id","__id__");a.defs(D,"$try_convert",va=function(C){return v(r,"Opal")["$coerce_to?"](C,v(r,"String"),"to_str")},va.$$arity=1);a.defs(D,"$new",ha=function(C){var Q=a.slice.call(arguments,0,arguments.length);var ta=Q[0]||"",Na=Q[Q.length-1];ta=p(ta,v(r,"String"),"to_str");Na&&Na.$$is_hash&&Na.$$smap.encoding&&(ta=ta.$force_encoding(Na.$$smap.encoding));ta=new this.$$constructor(ta);ta.$initialize.$$pristine||d(ta,"initialize",a.to_a(Q));return ta},ha.$$arity=-1);a.def(D,
"$initialize",ma=function(C,Q){var ta=a.slice.call(arguments,0,arguments.length);var Na=a.extract_kwargs(ta);if(null==Na)n([],{});else if(!Na.$$is_hash)throw a.ArgumentError.$new("expected kwargs");0<ta.length&&ta.splice(0,1);return h},ma.$$arity=-1);a.def(D,"$%",b=function(C){return x(v(r,"Array")["$==="](C))?d(this,"format",[this].concat(a.to_a(C))):this.$format(this,C)},b.$$arity=1);a.def(D,"$*",f=function(C){C=p(C,v(r,"Integer"),"to_int");0>C&&this.$raise(v(r,"ArgumentError"),"negative argument");
if(0===C)return this.$$cast("");var Q="",ta=this.toString();for(268435456<=ta.length*C&&this.$raise(v(r,"RangeError"),"multiply count must not overflow maximum string size");;){1===(C&1)&&(Q+=ta);C>>>=1;if(0===C)break;ta+=ta}return this.$$cast(Q)},f.$$arity=1);a.def(D,"$+",g=function(C){C=p(C,v(r,"String"),"to_str");if(""==C&&this.$$class===a.String)return this;if(""==this&&C.$$class===a.String)return C;var Q=this+C;return this.encoding===Q.encoding&&C.encoding===Q.encoding||"UTF-8"===this.encoding.name||
"UTF-8"===C.encoding.name?Q:a.enc(Q,this.encoding)},g.$$arity=1);a.def(D,"$<=>",l=function(C){if(x(C["$respond_to?"]("to_str")))return C=C.$to_str().$to_s(),this>C?1:this<C?-1:0;C=C["$<=>"](this);return C===h?h:0<C?-1:0>C?1:0},l.$$arity=1);a.def(D,"$==",m=function(C){return C.$$is_string?this.toString()===C.toString():q(C,"$to_str")?C["$=="](this):!1},m.$$arity=1);a.alias(D,"eql?","==");a.alias(D,"===","==");a.def(D,"$=~",y=function(C){C.$$is_string&&this.$raise(v(r,"TypeError"),"type mismatch: String given");
return C["$=~"](this)},y.$$arity=1);a.def(D,"$[]",ka=function(C,Q){var ta=this.length;if(C.$$is_range){var Na=C.excl;Q=p(C.end,v(r,"Integer"),"to_int");C=p(C.begin,v(r,"Integer"),"to_int");if(Math.abs(C)>ta)return h;0>C&&(C+=ta);0>Q&&(Q+=ta);Na||(Q+=1);Q-=C;0>Q&&(Q=0);return this.$$cast(this.substr(C,Q))}if(C.$$is_string)return null!=Q&&this.$raise(v(r,"TypeError")),-1!==this.indexOf(C)?this.$$cast(C):h;if(C.$$is_regexp){ta=this.match(C);if(null===ta)return e["~"]=h;e["~"]=v(r,"MatchData").$new(C,
ta);if(null==Q)return this.$$cast(ta[0]);Q=p(Q,v(r,"Integer"),"to_int");return 0>Q&&-Q<ta.length?this.$$cast(ta[Q+ta.length]):0<=Q&&Q<ta.length?this.$$cast(ta[Q]):h}C=p(C,v(r,"Integer"),"to_int");0>C&&(C+=ta);if(null==Q)return C>=ta||0>C?h:this.$$cast(this.substr(C,1));Q=p(Q,v(r,"Integer"),"to_int");return 0>Q||C>ta||0>C?h:this.$$cast(this.substr(C,Q))},ka.$$arity=-2);a.alias(D,"byteslice","[]");a.def(D,"$b",L=function(){return(new String(this)).$force_encoding("binary")},L.$$arity=0);a.def(D,"$capitalize",
ia=function(){return this.$$cast(this.charAt(0).toUpperCase()+this.substr(1).toLowerCase())},ia.$$arity=0);a.def(D,"$casecmp",ya=function(C){var Q=this;if(!x(C["$respond_to?"]("to_str")))return h;C=p(C,v(r,"String"),"to_str").$to_s();var ta=/^[\x00-\x7F]*$/;ta.test(Q)&&ta.test(C)&&(Q=Q.toLowerCase(),C=C.toLowerCase());return Q["$<=>"](C)},ya.$$arity=1);a.def(D,"$casecmp?",Ka=function(C){C=this.$casecmp(C);return C===h?h:0===C},Ka.$$arity=1);a.def(D,"$center",La=function(C,Q){null==Q&&(Q=" ");C=p(C,
v(r,"Integer"),"to_int");Q=p(Q,v(r,"String"),"to_str").$to_s();x(Q["$empty?"]())&&this.$raise(v(r,"ArgumentError"),"zero width padding");if(x(C<=this.length))return this;var ta=this.$ljust(w(G(C,this.length),2).$ceil(),Q);C=this.$rjust(w(G(C,this.length),2).$floor(),Q);return this.$$cast(C+ta.slice(this.length))},La.$$arity=-2);a.def(D,"$chomp",Aa=function(C){null==e["/"]&&(e["/"]=h);null==C&&(C=e["/"]);if(x(C===h||0===this.length))return this;C=v(r,"Opal")["$coerce_to!"](C,v(r,"String"),"to_str").$to_s();
var Q;"\n"===C?Q=this.replace(/\r?\n?$/,""):""===C?Q=this.replace(/(\r?\n)+$/,""):this.length>=C.length&&this.substr(this.length-C.length,C.length)===C&&(Q=this.substr(0,this.length-C.length));return null!=Q?this.$$cast(Q):this},Aa.$$arity=-1);a.def(D,"$chop",Ma=function(){var C=this.length;C=1>=C?"":"\n"===this.charAt(C-1)&&"\r"===this.charAt(C-2)?this.substr(0,C-2):this.substr(0,C-1);return this.$$cast(C)},Ma.$$arity=0);a.def(D,"$chr",U=function(){return this.charAt(0)},U.$$arity=0);a.def(D,"$clone",
wa=function(){var C=new String(this);C.$copy_singleton_methods(this);C.$initialize_clone(this);return C},wa.$$arity=0);a.def(D,"$dup",R=function(){var C=new String(this);C.$initialize_dup(this);return C},R.$$arity=0);a.def(D,"$count",oa=function(C){var Q=a.slice.call(arguments,0,arguments.length);0===Q.length&&this.$raise(v(r,"ArgumentError"),"ArgumentError: wrong number of arguments (0 for 1+)");Q=A(Q);return null===Q?0:this.length-this.replace(new RegExp(Q,"g"),"").length},oa.$$arity=-1);a.def(D,
"$delete",za=function(C){var Q=a.slice.call(arguments,0,arguments.length);0===Q.length&&this.$raise(v(r,"ArgumentError"),"ArgumentError: wrong number of arguments (0 for 1+)");Q=A(Q);return null===Q?this:this.$$cast(this.replace(new RegExp(Q,"g"),""))},za.$$arity=-1);a.def(D,"$delete_prefix",la=function(C){C.$$is_string||(C=p(C,v(r,"String"),"to_str"));return this.slice(0,C.length)===C?this.$$cast(this.slice(C.length)):this},la.$$arity=1);a.def(D,"$delete_suffix",M=function(C){C.$$is_string||(C=p(C,
v(r,"String"),"to_str"));return this.slice(this.length-C.length)===C?this.$$cast(this.slice(0,this.length-C.length)):this},M.$$arity=1);a.def(D,"$downcase",K=function(){return this.$$cast(this.toLowerCase())},K.$$arity=0);a.def(D,"$each_line",X=function(C){var Q=X.$$p,ta=Q||h;null==e["/"]&&(e["/"]=h);Q&&(X.$$p=null);Q&&(X.$$p=null);null==C&&(C=e["/"]);if(ta===h)return this.$enum_for("each_line",C);if(C===h)return a.yield1(ta,this),this;C=p(C,v(r,"String"),"to_str");var Na,Ja;if(0===C.length){C=this.split(/(\n{2,})/);
Q=0;for(Na=C.length;Q<Na;Q+=2)(C[Q]||C[Q+1])&&a.yield1(ta,this.$$cast((C[Q]||"")+(C[Q+1]||"")));return this}Q=this.$chomp(C);Na=this.length!=Q.length;var Qa=Q.split(C);Q=0;for(Ja=Qa.length;Q<Ja;Q++)Q<Ja-1||Na?a.yield1(ta,this.$$cast(Qa[Q]+C)):a.yield1(ta,this.$$cast(Qa[Q]));return this},X.$$arity=-1);a.def(D,"$empty?",xa=function(){return 0===this.length},xa.$$arity=0);a.def(D,"$end_with?",aa=function(C){var Q=a.slice.call(arguments,0,arguments.length);for(var ta=0,Na=Q.length;ta<Na;ta++){var Ja=
p(Q[ta],v(r,"String"),"to_str").$to_s();if(this.length>=Ja.length&&this.substr(this.length-Ja.length,Ja.length)==Ja)return!0}return!1},aa.$$arity=-1);a.alias(D,"equal?","===");a.def(D,"$gsub",qa=function(C,Q){var ta=qa.$$p,Na=ta||h,Ja=this;ta&&(qa.$$p=null);ta&&(qa.$$p=null);if(void 0===Q&&Na===h)return Ja.$enum_for("gsub",C);ta="";var Qa=h,jb=0;C.$$is_regexp?C=a.global_multiline_regexp(C):(C=p(C,v(r,"String"),"to_str"),C=new RegExp(C.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));for(var ob;;){var fb=
C.exec(Ja);if(null===fb){e["~"]=h;ta+=Ja.slice(jb);break}Qa=v(r,"MatchData").$new(C,fb);if(void 0===Q){ob=C.lastIndex;var hb=Na(fb[0]);C.lastIndex=ob}else Q.$$is_hash?hb=Q["$[]"](fb[0]).$to_s():(Q.$$is_string||(Q=p(Q,v(r,"String"),"to_str")),hb=Q.replace(/([\\]+)([0-9+&`'])/g,function(mb,kb,ub){if(0===kb.length%2)return mb;switch(ub){case "+":for(mb=fb.length-1;0<mb;mb--)if(void 0!==fb[mb])return kb.slice(1)+fb[mb];return"";case "&":return kb.slice(1)+fb[0];case "`":return kb.slice(1)+Ja.slice(0,
fb.index);case "'":return kb.slice(1)+Ja.slice(fb.index+fb[0].length);default:return kb.slice(1)+(fb[ub]||"")}}).replace(/\\\\/g,"\\"));C.lastIndex===fb.index?(ta+=Ja.slice(jb,fb.index)+hb+(Ja[fb.index]||""),C.lastIndex+=1):ta+=Ja.slice(jb,fb.index)+hb;jb=C.lastIndex}e["~"]=Qa;return Ja.$$cast(ta)},qa.$$arity=-2);a.def(D,"$hash",Ea=function(){return this.toString()},Ea.$$arity=0);a.def(D,"$hex",Ia=function(){return this.$to_i(16)},Ia.$$arity=0);a.def(D,"$include?",Sa=function(C){C.$$is_string||(C=
p(C,v(r,"String"),"to_str"));return-1!==this.indexOf(C)},Sa.$$arity=1);a.def(D,"$index",Wa=function(C,Q){var ta;if(void 0===Q)Q=0;else if(Q=p(Q,v(r,"Integer"),"to_int"),0>Q&&(Q+=this.length,0>Q))return h;if(C.$$is_regexp)for(ta=a.global_multiline_regexp(C);;){C=ta.exec(this);if(null===C){e["~"]=h;Q=-1;break}if(C.index>=Q){e["~"]=v(r,"MatchData").$new(ta,C);Q=C.index;break}ta.lastIndex=C.index+1}else C=p(C,v(r,"String"),"to_str"),Q=0===C.length&&Q>this.length?-1:this.indexOf(C,Q);return-1===Q?h:Q},
Wa.$$arity=-2);a.def(D,"$inspect",ib=function(){var C=this,Q={"\u0007":"\\a","\u001b":"\\e","\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r","\x0B":"\\v",'"':'\\"',"\\":"\\\\"};return'"'+C.replace(/[\\"\x00-\x1f\u007F-\u009F\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,function(ta){if(Q[ta])return Q[ta];ta=ta.charCodeAt(0);return 255>=ta&&(C.encoding["$binary?"]()||C.internal_encoding["$binary?"]())?"\\x"+("00"+ta.toString(16).toUpperCase()).slice(-2):
"\\u"+("0000"+ta.toString(16).toUpperCase()).slice(-4)}).replace(/#[\$@\{]/g,"\\$&")+'"'},ib.$$arity=0);a.def(D,"$intern",gb=function(){return this.toString()},gb.$$arity=0);a.def(D,"$lines",Ta=function(C){var Q=Ta.$$p,ta=Q||h;null==e["/"]&&(e["/"]=h);Q&&(Ta.$$p=null);Q&&(Ta.$$p=null);null==C&&(C=e["/"]);C=d(this,"each_line",[C],ta.$to_proc());return x(ta)?this:C.$to_a()},Ta.$$arity=-1);a.def(D,"$ljust",V=function(C,Q){null==Q&&(Q=" ");C=p(C,v(r,"Integer"),"to_int");Q=p(Q,v(r,"String"),"to_str").$to_s();
x(Q["$empty?"]())&&this.$raise(v(r,"ArgumentError"),"zero width padding");if(x(C<=this.length))return this;var ta=-1,Na="";for(C-=this.length;++ta<C;)Na+=Q;return this.$$cast(this+Na.slice(0,C))},V.$$arity=-2);a.def(D,"$lstrip",Ca=function(){return this.replace(/^\s*/,"")},Ca.$$arity=0);a.def(D,"$ascii_only?",Da=function(){return this.encoding.ascii?/^[\x00-\x7F]*$/.test(this):!1},Da.$$arity=0);a.def(D,"$match",Xa=function(C,Q){var ta=Xa.$$p,Na=ta||h,Ja=h;ta&&(Xa.$$p=null);ta&&(Xa.$$p=null);x(x(Ja=
v(r,"String")["$==="](C))?Ja:C["$respond_to?"]("to_str"))&&(C=v(r,"Regexp").$new(C.$to_str()));x(v(r,"Regexp")["$==="](C))||this.$raise(v(r,"TypeError"),"wrong argument type "+C.$class()+" (expected Regexp)");return d(C,"match",[this,Q],Na.$to_proc())},Xa.$$arity=-2);a.def(D,"$match?",$a=function(C,Q){var ta=h;x(x(ta=v(r,"String")["$==="](C))?ta:C["$respond_to?"]("to_str"))&&(C=v(r,"Regexp").$new(C.$to_str()));x(v(r,"Regexp")["$==="](C))||this.$raise(v(r,"TypeError"),"wrong argument type "+C.$class()+
" (expected Regexp)");return C["$match?"](this,Q)},$a.$$arity=-2);a.def(D,"$next",Ua=function(){var C=this.length;if(0===C)return this.$$cast("");for(var Q=this,ta=this.search(/[a-zA-Z0-9]/),Na,Ja;C--;){Ja=this.charCodeAt(C);if(48<=Ja&&57>=Ja||65<=Ja&&90>=Ja||97<=Ja&&122>=Ja)switch(Ja){case 57:Na=!0;Ja=48;break;case 90:Na=!0;Ja=65;break;case 122:Na=!0;Ja=97;break;default:Na=!1,Ja+=1}else-1===ta?255===Ja?(Na=!0,Ja=0):(Na=!1,Ja+=1):Na=!0;Q=Q.slice(0,C)+String.fromCharCode(Ja)+Q.slice(C+1);if(Na&&(0===
C||C===ta)){switch(Ja){case 65:break;case 97:break;default:Ja+=1}Q=0===C?String.fromCharCode(Ja)+Q:Q.slice(0,C)+String.fromCharCode(Ja)+Q.slice(C);Na=!1}if(!Na)break}return this.$$cast(Q)},Ua.$$arity=0);a.def(D,"$oct",Ya=function(){var C=this;var Q=8;if(/^\s*_/.test(C))return 0;C=C.replace(/^(\s*[+-]?)(0[bodx]?)(.+)$/i,function(ta,Na,Ja,Qa){switch(Qa.charAt(0)){case "+":case "-":return ta;case "0":if("x"===Qa.charAt(1)&&"0x"===Ja)return ta}switch(Ja){case "0b":Q=2;break;case "0":case "0o":Q=8;break;
case "0d":Q=10;break;case "0x":Q=16}return Na+Qa});C=parseInt(C.replace(/_(?!_)/g,""),Q);return isNaN(C)?0:C},Ya.$$arity=0);a.def(D,"$ord",Ba=function(){return"function"===typeof this.codePointAt?this.codePointAt(0):this.charCodeAt(0)},Ba.$$arity=0);a.def(D,"$partition",ua=function(C){if(C.$$is_regexp){var Q=C.exec(this);null===Q?Q=-1:(v(r,"MatchData").$new(C,Q),C=Q[0],Q=Q.index)}else C=p(C,v(r,"String"),"to_str"),Q=this.indexOf(C);return-1===Q?[this,"",""]:[this.slice(0,Q),this.slice(Q,Q+C.length),
this.slice(Q+C.length)]},ua.$$arity=1);a.def(D,"$reverse",pa=function(){return this.split("").reverse().join("")},pa.$$arity=0);a.def(D,"$rindex",Ga=function(C,Q){if(void 0===Q)Q=this.length;else if(Q=p(Q,v(r,"Integer"),"to_int"),0>Q&&(Q+=this.length,0>Q))return h;if(C.$$is_regexp){var ta=null;for(C=a.global_multiline_regexp(C);;){var Na=C.exec(this);if(null===Na||Na.index>Q)break;ta=Na;C.lastIndex=ta.index+1}null===ta?(e["~"]=h,Q=-1):(v(r,"MatchData").$new(C,ta),Q=ta.index)}else C=p(C,v(r,"String"),
"to_str"),Q=this.lastIndexOf(C,Q);return-1===Q?h:Q},Ga.$$arity=-2);a.def(D,"$rjust",Pa=function(C,Q){null==Q&&(Q=" ");C=p(C,v(r,"Integer"),"to_int");Q=p(Q,v(r,"String"),"to_str").$to_s();x(Q["$empty?"]())&&this.$raise(v(r,"ArgumentError"),"zero width padding");if(x(C<=this.length))return this;C=Math.floor(C-this.length);var ta=Array(Math.floor(C/Q.length)+1).join(Q);return this.$$cast(ta+Q.slice(0,C-ta.length)+this)},Pa.$$arity=-2);a.def(D,"$rpartition",Va=function(C){var Q;if(C.$$is_regexp){var ta=
null;for(Q=a.global_multiline_regexp(C);;){var Na=Q.exec(this);if(null===Na)break;ta=Na;Q.lastIndex=ta.index+1}null===ta?ta=-1:(v(r,"MatchData").$new(Q,ta),C=ta[0],ta=ta.index)}else C=p(C,v(r,"String"),"to_str"),ta=this.lastIndexOf(C);return-1===ta?["","",this]:[this.slice(0,ta),this.slice(ta,ta+C.length),this.slice(ta+C.length)]},Va.$$arity=1);a.def(D,"$rstrip",Ha=function(){return this.replace(/[\s\u0000]*$/,"")},Ha.$$arity=0);a.def(D,"$scan",Z=function(C){var Q=Z.$$p,ta=Q||h;Q&&(Z.$$p=null);Q&&
(Z.$$p=null);Q=[];var Na=h,Ja;C.$$is_regexp?C=a.global_multiline_regexp(C):(C=p(C,v(r,"String"),"to_str"),C=new RegExp(C.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));for(;null!=(Ja=C.exec(this));)Na=v(r,"MatchData").$new(C,Ja),ta===h?1==Ja.length?Q.push(Ja[0]):Q.push(Na.$captures()):1==Ja.length?ta(Ja[0]):ta.call(this,Na.$captures()),C.lastIndex===Ja.index&&(C.lastIndex+=1);e["~"]=Na;return ta!==h?this:Q},Z.$$arity=1);a.alias(D,"slice","[]");a.def(D,"$split",P=function(C,Q){function ta(){for(ob=0;ob<
Qa.length;ob++)Qa[ob]=Na.$$cast(Qa[ob])}var Na=this,Ja=h;null==e[";"]&&(e[";"]=h);if(0===Na.length)return[];if(void 0===Q)Q=0;else if(Q=v(r,"Opal")["$coerce_to!"](Q,v(r,"Integer"),"to_int"),1===Q)return[Na];if(void 0===C||C===h)C=x(Ja=e[";"])?Ja:" ";var Qa=[];Ja=Na.toString();var jb=0,ob;C.$$is_regexp?C=a.global_multiline_regexp(C):(C=p(C,v(r,"String"),"to_str").$to_s()," "===C?(C=/\s+/gm,Ja=Ja.replace(/^\s+/,"")):C=new RegExp(C.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));Qa=Ja.split(C);if(1===Qa.length&&
Qa[0]===Ja)return[Na.$$cast(Qa[0])];for(;-1!==(ob=Qa.indexOf(void 0));)Qa.splice(ob,1);if(0===Q){for(;""===Qa[Qa.length-1];)--Qa.length;ta();return Qa}var fb=C.exec(Ja);if(0>Q){if(null!==fb&&""===fb[0]&&-1===C.source.indexOf("(?="))for(ob=0,C=fb.length;ob<C;ob++)Qa.push("");ta();return Qa}if(null!==fb&&""===fb[0])return Qa.splice(Q-1,Qa.length-1,Qa.slice(Q-1).join("")),ta(),Qa;if(Q>=Qa.length)return ta(),Qa;for(ob=0;null!==fb;){ob++;jb=C.lastIndex;if(ob+1===Q)break;fb=C.exec(Ja)}Qa.splice(Q-1,Qa.length-
1,Ja.slice(jb));ta();return Qa},P.$$arity=-1);a.def(D,"$squeeze",ba=function(C){var Q=a.slice.call(arguments,0,arguments.length);if(0===Q.length)return this.$$cast(this.replace(/(.)\1+/g,"$1"));Q=A(Q);return null===Q?this:this.$$cast(this.replace(new RegExp("("+Q+")\\1+","g"),"$1"))},ba.$$arity=-1);a.def(D,"$start_with?",T=function(C){var Q=a.slice.call(arguments,0,arguments.length);for(var ta=0,Na=Q.length;ta<Na;ta++)if(Q[ta].$$is_regexp){var Ja=Q[ta],Qa=Ja.exec(this);if(null!=Qa&&0===Qa.index)return e["~"]=
v(r,"MatchData").$new(Ja,Qa),!0;e["~"]=h}else if(Ja=p(Q[ta],v(r,"String"),"to_str").$to_s(),0===this.indexOf(Ja))return!0;return!1},T.$$arity=-1);a.def(D,"$strip",fa=function(){return this.replace(/^\s*/,"").replace(/[\s\u0000]*$/,"")},fa.$$arity=0);a.def(D,"$sub",na=function(C,Q){var ta=na.$$p,Na=ta||h,Ja=this;ta&&(na.$$p=null);ta&&(na.$$p=null);C.$$is_regexp||(C=p(C,v(r,"String"),"to_str"),C=new RegExp(C.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")));var Qa=C.exec(Ja);null===Qa?(e["~"]=h,C=Ja.toString()):
(v(r,"MatchData").$new(C,Qa),void 0===Q?(Na===h&&Ja.$raise(v(r,"ArgumentError"),"wrong number of arguments (1 for 2)"),C=Ja.slice(0,Qa.index)+Na(Qa[0])+Ja.slice(Qa.index+Qa[0].length)):Q.$$is_hash?C=Ja.slice(0,Qa.index)+Q["$[]"](Qa[0]).$to_s()+Ja.slice(Qa.index+Qa[0].length):(Q=p(Q,v(r,"String"),"to_str"),Q=Q.replace(/([\\]+)([0-9+&`'])/g,function(jb,ob,fb){if(0===ob.length%2)return jb;switch(fb){case "+":for(jb=Qa.length-1;0<jb;jb--)if(void 0!==Qa[jb])return ob.slice(1)+Qa[jb];return"";case "&":return ob.slice(1)+
Qa[0];case "`":return ob.slice(1)+Ja.slice(0,Qa.index);case "'":return ob.slice(1)+Ja.slice(Qa.index+Qa[0].length);default:return ob.slice(1)+(Qa[fb]||"")}}).replace(/\\\\/g,"\\"),C=Ja.slice(0,Qa.index)+Q+Ja.slice(Qa.index+Qa[0].length)));return Ja.$$cast(C)},na.$$arity=-2);a.alias(D,"succ","next");a.def(D,"$sum",J=function(C){null==C&&(C=16);C=p(C,v(r,"Integer"),"to_int");for(var Q=0,ta=this.length,Na=0;Na<ta;Na++)Q+=this.charCodeAt(Na);return 0>=C?Q:Q&Math.pow(2,C)-1},J.$$arity=-1);a.def(D,"$swapcase",
ea=function(){var C=this.replace(/([a-z]+)|([A-Z]+)/g,function(Q,ta){return ta?Q.toUpperCase():Q.toLowerCase()});return this.constructor===String?C:this.$class().$new(C)},ea.$$arity=0);a.def(D,"$to_f",F=function(){if("_"===this.charAt(0))return 0;var C=parseFloat(this.replace(/_/g,""));return isNaN(C)||Infinity==C||-Infinity==C?0:C},F.$$arity=0);a.def(D,"$to_i",O=function(C){null==C&&(C=10);var Q=this.toLowerCase(),ta=p(C,v(r,"Integer"),"to_int");(1===ta||0>ta||36<ta)&&this.$raise(v(r,"ArgumentError"),
"invalid radix "+ta);if(/^\s*_/.test(Q))return 0;Q=Q.replace(/^(\s*[+-]?)(0[bodx]?)(.+)$/,function(Na,Ja,Qa,jb){switch(jb.charAt(0)){case "+":case "-":return Na;case "0":if("x"===jb.charAt(1)&&"0x"===Qa&&(0===ta||16===ta))return Na}switch(Qa){case "0b":if(0===ta||2===ta)return ta=2,Ja+jb;break;case "0":case "0o":if(0===ta||8===ta)return ta=8,Ja+jb;break;case "0d":if(0===ta||10===ta)return ta=10,Ja+jb;break;case "0x":if(0===ta||16===ta)return ta=16,Ja+jb}return Na});C=parseInt(Q.replace(/_(?!_)/g,
""),ta);return isNaN(C)?0:C},O.$$arity=-1);a.def(D,"$to_proc",u=function(){var C,Q=h;u.$$p&&(u.$$p=null);Q=G("$",this.valueOf());return d(this,"proc",[],(C=function(ta){var Na=null==C.$$s?this:C.$$s,Ja=C.$$p,Qa=Ja||h;Ja&&(C.$$p=null);Ja=a.slice.call(arguments,0,arguments.length);0===Ja.length&&Na.$raise(v(r,"ArgumentError"),"no receiver given");Na=Ja[0];null==Na&&(Na=h);var jb=Na[Q];if(!jb)return Na.$method_missing.apply(Na,Ja);"function"===typeof Qa&&(jb.$$p=Qa);return 1===Ja.length?jb.call(Na):
jb.apply(Na,Ja.slice(1))},C.$$s=this,C.$$arity=-1,C))},u.$$arity=0);a.def(D,"$to_s",S=function(){return this.toString()},S.$$arity=0);a.alias(D,"to_str","to_s");a.alias(D,"to_sym","intern");a.def(D,"$tr",ca=function(C,Q){C=p(C,v(r,"String"),"to_str").$to_s();Q=p(Q,v(r,"String"),"to_str").$to_s();if(0==C.length||C===Q)return this;var ta={};var Na=C.split("");var Ja=Na.length,Qa=Q.split(""),jb=Qa.length;C=!1;var ob=null;"^"===Na[0]&&1<Na.length&&(C=!0,Na.shift(),ob=Qa[jb-1],--Ja);var fb=[];var hb=null;
var mb=!1;for(Q=0;Q<Ja;Q++){var kb=Na[Q];if(null==hb)hb=kb,fb.push(kb);else if("-"===kb)"-"===hb?(fb.push("-"),fb.push("-")):Q==Ja-1?fb.push("-"):mb=!0;else if(mb){hb=hb.charCodeAt(0);mb=kb.charCodeAt(0);hb>mb&&this.$raise(v(r,"ArgumentError"),'invalid range "'+String.fromCharCode(hb)+"-"+String.fromCharCode(mb)+'" in string transliteration');for(hb+=1;hb<mb;hb++)fb.push(String.fromCharCode(hb));fb.push(kb);hb=mb=null}else fb.push(kb)}Na=fb;Ja=Na.length;if(C)for(Q=0;Q<Ja;Q++)ta[Na[Q]]=!0;else{if(0<
jb){fb=[];hb=null;mb=!1;for(Q=0;Q<jb;Q++)if(kb=Qa[Q],null==hb)hb=kb,fb.push(kb);else if("-"===kb)"-"===hb?(fb.push("-"),fb.push("-")):Q==jb-1?fb.push("-"):mb=!0;else if(mb){hb=hb.charCodeAt(0);mb=kb.charCodeAt(0);hb>mb&&this.$raise(v(r,"ArgumentError"),'invalid range "'+String.fromCharCode(hb)+"-"+String.fromCharCode(mb)+'" in string transliteration');for(hb+=1;hb<mb;hb++)fb.push(String.fromCharCode(hb));fb.push(kb);hb=mb=null}else fb.push(kb);Qa=fb;jb=Qa.length}kb=Ja-jb;if(0<kb)for(jb=0<jb?Qa[jb-
1]:"",Q=0;Q<kb;Q++)Qa.push(jb);for(Q=0;Q<Ja;Q++)ta[Na[Q]]=Qa[Q]}Ja="";Q=0;for(Na=this.length;Q<Na;Q++)kb=this.charAt(Q),Qa=ta[kb],Ja=C?Ja+(null==Qa?ob:kb):Ja+(null!=Qa?Qa:kb);return this.$$cast(Ja)},ca.$$arity=2);a.def(D,"$tr_s",ra=function(C,Q){C=p(C,v(r,"String"),"to_str").$to_s();Q=p(Q,v(r,"String"),"to_str").$to_s();if(0==C.length)return this;var ta={};var Na=C.split("");var Ja=Na.length,Qa=Q.split(""),jb=Qa.length;C=!1;var ob=null;"^"===Na[0]&&1<Na.length&&(C=!0,Na.shift(),ob=Qa[jb-1],--Ja);
var fb=[];var hb=null;var mb=!1;for(Q=0;Q<Ja;Q++){var kb=Na[Q];if(null==hb)hb=kb,fb.push(kb);else if("-"===kb)"-"===hb?(fb.push("-"),fb.push("-")):Q==Ja-1?fb.push("-"):mb=!0;else if(mb){hb=hb.charCodeAt(0);mb=kb.charCodeAt(0);hb>mb&&this.$raise(v(r,"ArgumentError"),'invalid range "'+String.fromCharCode(hb)+"-"+String.fromCharCode(mb)+'" in string transliteration');for(hb+=1;hb<mb;hb++)fb.push(String.fromCharCode(hb));fb.push(kb);hb=mb=null}else fb.push(kb)}Na=fb;Ja=Na.length;if(C)for(Q=0;Q<Ja;Q++)ta[Na[Q]]=
!0;else{if(0<jb){fb=[];mb=!1;for(Q=0;Q<jb;Q++)if(kb=Qa[Q],null==hb)hb=kb,fb.push(kb);else if("-"===kb)Q==jb-1?fb.push("-"):mb=!0;else if(mb){hb=hb.charCodeAt(0);mb=kb.charCodeAt(0);hb>mb&&this.$raise(v(r,"ArgumentError"),'invalid range "'+String.fromCharCode(hb)+"-"+String.fromCharCode(mb)+'" in string transliteration');for(hb+=1;hb<mb;hb++)fb.push(String.fromCharCode(hb));fb.push(kb);hb=mb=null}else fb.push(kb);Qa=fb;jb=Qa.length}kb=Ja-jb;if(0<kb)for(jb=0<jb?Qa[jb-1]:"",Q=0;Q<kb;Q++)Qa.push(jb);
for(Q=0;Q<Ja;Q++)ta[Na[Q]]=Qa[Q]}Ja="";Qa=null;Q=0;for(Na=this.length;Q<Na;Q++)if(kb=this.charAt(Q),jb=ta[kb],C)null==jb?null==Qa&&(Ja+=ob,Qa=!0):(Ja+=kb,Qa=null);else if(null!=jb){if(null==Qa||Qa!==jb)Ja+=jb,Qa=jb}else Ja+=kb,Qa=null;return this.$$cast(Ja)},ra.$$arity=2);a.def(D,"$upcase",Fa=function(){return this.$$cast(this.toUpperCase())},Fa.$$arity=0);a.def(D,"$upto",cb=function(C,Q){var ta=cb.$$p,Na=ta||h;ta&&(cb.$$p=null);ta&&(cb.$$p=null);null==Q&&(Q=!1);if(Na===h)return this.$enum_for("upto",
C,Q);ta=this.toString();C=p(C,v(r,"String"),"to_str");if(1===ta.length&&1===C.length)for(ta=ta.charCodeAt(0),C=C.charCodeAt(0);ta<=C&&(!Q||ta!==C);)Na(String.fromCharCode(ta)),ta+=1;else if(parseInt(ta,10).toString()===ta&&parseInt(C,10).toString()===C)for(ta=parseInt(ta,10),C=parseInt(C,10);ta<=C&&(!Q||ta!==C);)Na(ta.toString()),ta+=1;else for(;ta.length<=C.length&&ta<=C&&(!Q||ta!==C);)Na(ta),ta=ta.$succ();return this},cb.$$arity=-2);a.def(D,"$instance_variables",db=function(){return[]},db.$$arity=
0);a.defs(D,"$_load",qb=function(C){var Q=a.slice.call(arguments,0,arguments.length);return d(this,"new",a.to_a(Q))},qb.$$arity=-1);a.def(D,"$unicode_normalize",vb=function(C){null==C&&(C="nfc");x(["nfc","nfd","nfkc","nfkd"]["$include?"](C))||this.$raise(v(r,"ArgumentError"),"Invalid normalization form "+C);return this.normalize(C.$upcase())},vb.$$arity=-1);a.def(D,"$unicode_normalized?",wb=function(C){null==C&&(C="nfc");return this.$unicode_normalize(C)["$=="](this)},wb.$$arity=-1);a.def(D,"$unpack",
W=function(){return this.$raise("To use String#unpack, you must first require 'corelib/string/unpack'.")},W.$$arity=1);a.def(D,"$unpack1",Oa=function(){return this.$raise("To use String#unpack1, you must first require 'corelib/string/unpack'.")},Oa.$$arity=1);a.def(D,"$freeze",ab=function(){if("string"===typeof this)return this;this.$$frozen=!0;return this},ab.$$arity=0);a.alias(D,"+@","dup");a.def(D,"$-@",lb=function(){return"string"===typeof this||!0===this.$$frozen?this:"UTF-8"==this.encoding.name&&
"UTF-8"==this.internal_encoding.name?this.toString():this.$dup().$freeze()},lb.$$arity=0);a.def(D,"$frozen?",pb=function(){return"string"===typeof this||!0===this.$$frozen},pb.$$arity=0);return v(r,"Opal").$pristine(D,"initialize")})(B[0],String,B);return a.const_set(B[0],"Symbol",v(B,"String"))};
Opal.modules["corelib/enumerable"]=function(a){function w(c,A){return"number"===typeof c&&"number"===typeof A?c>A:c["$>"](A)}function G(c,A){return"number"===typeof c&&"number"===typeof A?c+A:c["$+"](A)}function z(c,A){return"number"===typeof c&&"number"===typeof A?c-A:c["$-"](A)}function B(c,A){return"number"===typeof c&&"number"===typeof A?c<=A:c["$<="](A)}var h=[],v=a.nil,p=a.$$$,q=a.$$,I=a.falsy,d=a.truthy,n=a.coerce_to,x=a.module,e=a.send,k=a.hash2,E=a.lambda;a.add_stubs("$each $public_send $destructure $to_enum $enumerator_size $new $yield $raise $slice_when $! $enum_for $flatten $map $warn $proc $== $nil? $respond_to? $coerce_to! $> $* $try_convert $< $+ $- $ceil $/ $size $select $to_proc $__send__ $length $<= $[] $push $<< $[]= $=== $inspect $<=> $first $reverse $sort $take $sort_by $compare $call $dup $to_a $sort! $map! $key? $values $transform_values $group_by $to_h $coerce_to? $class $zip".split(" "));
return function(c,A){function D(Z){0===Z.length&&(Z=[v]);1<Z.length&&(Z=[Z]);return Z}c=x(c,"Enumerable");var r=[c].concat(A),ja,va,ha,ma,b,f,g,l,m,y,ka,L,ia,ya,Ka,La,Aa,Ma,U,wa,R,oa,za,la,M,K,X,xa,aa,qa,Ea,Ia,Sa,Wa,ib,gb,Ta,V,Ca,Da,Xa,$a,Ua,Ya,Ba,ua,pa,Ga,Pa,Va,Ha;a.def(c,"$all?",ja=function(Z){try{var P=ja.$$p,ba=P||v,T,fa,na;P&&(ja.$$p=null);P&&(ja.$$p=null);d(void 0!==Z)?e(this,"each",[],(T=function(J){var ea=a.slice.call(arguments,0,arguments.length);ea=D(ea);if(d(e(Z,"public_send",["==="].concat(a.to_a(ea)))))return v;
a.ret(!1)},T.$$s=this,T.$$arity=-1,T)):ba!==v?e(this,"each",[],(fa=function(J){var ea=a.slice.call(arguments,0,arguments.length);if(d(a.yieldX(ba,a.to_a(ea))))return v;a.ret(!1)},fa.$$s=this,fa.$$arity=-1,fa)):e(this,"each",[],(na=function(J){var ea=a.slice.call(arguments,0,arguments.length);if(d(q(r,"Opal").$destructure(ea)))return v;a.ret(!1)},na.$$s=this,na.$$arity=-1,na));return!0}catch(J){if(J===a.returner)return J.$v;throw J;}},ja.$$arity=-1);a.def(c,"$any?",va=function(Z){try{var P=va.$$p,
ba=P||v,T,fa,na;P&&(va.$$p=null);P&&(va.$$p=null);d(void 0!==Z)?e(this,"each",[],(T=function(J){var ea=a.slice.call(arguments,0,arguments.length);ea=D(ea);if(d(e(Z,"public_send",["==="].concat(a.to_a(ea)))))a.ret(!0);else return v},T.$$s=this,T.$$arity=-1,T)):ba!==v?e(this,"each",[],(fa=function(J){var ea=a.slice.call(arguments,0,arguments.length);if(d(a.yieldX(ba,a.to_a(ea))))a.ret(!0);else return v},fa.$$s=this,fa.$$arity=-1,fa)):e(this,"each",[],(na=function(J){var ea=a.slice.call(arguments,0,
arguments.length);if(d(q(r,"Opal").$destructure(ea)))a.ret(!0);else return v},na.$$s=this,na.$$arity=-1,na));return!1}catch(J){if(J===a.returner)return J.$v;throw J;}},va.$$arity=-1);a.def(c,"$chunk",ha=function(){var Z=ha.$$p,P=Z||v,ba,T;Z&&(ha.$$p=null);Z&&(ha.$$p=null);return P===v?e(this,"to_enum",["chunk"],(ba=function(){return(null==ba.$$s?this:ba.$$s).$enumerator_size()},ba.$$s=this,ba.$$arity=0,ba)):e(p("::","Enumerator"),"new",[],(T=function(fa){function na(){0<F.length&&fa.$yield(ea,F)}
var J=null==T.$$s?this:T.$$s;null==fa&&(fa=v);var ea=v,F=[];J.$each.$$p=function(O){var u=a.yield1(P,O);u===v?(na(),F=[],ea=v):(ea===v||ea===u?F.push(O):(na(),F=[O]),ea=u)};J.$each();na()},T.$$s=this,T.$$arity=1,T))},ha.$$arity=0);a.def(c,"$chunk_while",ma=function(){var Z=ma.$$p,P=Z||v,ba;Z&&(ma.$$p=null);Z&&(ma.$$p=null);P===v&&this.$raise(q(r,"ArgumentError"),"no block given");return e(this,"slice_when",[],(ba=function(T,fa){null==T&&(T=v);null==fa&&(fa=v);return a.yieldX(P,[T,fa])["$!"]()},ba.$$s=
this,ba.$$arity=2,ba))},ma.$$arity=0);a.def(c,"$collect",b=function(){var Z=b.$$p,P=Z||v,ba;Z&&(b.$$p=null);Z&&(b.$$p=null);if(P===v)return e(this,"enum_for",["collect"],(ba=function(){return(null==ba.$$s?this:ba.$$s).$enumerator_size()},ba.$$s=this,ba.$$arity=0,ba));var T=[];this.$each.$$p=function(){var fa=a.yieldX(P,arguments);T.push(fa)};this.$each();return T},b.$$arity=0);a.def(c,"$collect_concat",f=function(){var Z=f.$$p,P=Z||v,ba,T;Z&&(f.$$p=null);Z&&(f.$$p=null);return P===v?e(this,"enum_for",
["collect_concat"],(ba=function(){return(null==ba.$$s?this:ba.$$s).$enumerator_size()},ba.$$s=this,ba.$$arity=0,ba)):e(this,"map",[],(T=function(fa){null==fa&&(fa=v);return a.yield1(P,fa)},T.$$s=this,T.$$arity=1,T)).$flatten(1)},f.$$arity=0);a.def(c,"$count",g=function(Z){var P=g.$$p,ba=P||v,T,fa,na,J=v;P&&(g.$$p=null);P&&(g.$$p=null);J=0;null!=Z&&ba!==v&&this.$warn("warning: given block not used");d(null!=Z)?ba=e(this,"proc",[],(T=function(ea){var F=a.slice.call(arguments,0,arguments.length);return q(r,
"Opal").$destructure(F)["$=="](Z)},T.$$s=this,T.$$arity=-1,T)):d(ba["$nil?"]())&&(ba=e(this,"proc",[],(fa=function(){return!0},fa.$$s=this,fa.$$arity=0,fa)));e(this,"each",[],(na=function(ea){var F=a.slice.call(arguments,0,arguments.length);return d(a.yieldX(ba,F))?J++:v},na.$$s=this,na.$$arity=-1,na));return J},g.$$arity=-1);a.def(c,"$cycle",l=function(Z){var P=l.$$p,ba=P||v,T;P&&(l.$$p=null);P&&(l.$$p=null);null==Z&&(Z=v);if(ba===v)return e(this,"enum_for",["cycle",Z],(T=function(){var J=null==
T.$$s?this:T.$$s;if(d(Z["$nil?"]()))return d(J["$respond_to?"]("size"))?p(q(r,"Float"),"INFINITY"):v;Z=q(r,"Opal")["$coerce_to!"](Z,q(r,"Integer"),"to_int");return d(w(Z,0))?(J=J.$enumerator_size(),"number"===typeof J&&"number"===typeof Z?J*Z:J["$*"](Z)):0},T.$$s=this,T.$$arity=0,T));if(!d(Z["$nil?"]())&&(Z=q(r,"Opal")["$coerce_to!"](Z,q(r,"Integer"),"to_int"),d(0>=Z)))return v;var fa=[],na;this.$each.$$p=function(){var J=q(r,"Opal").$destructure(arguments);a.yield1(ba,J);fa.push(J)};this.$each();
if(0===fa.length)return v;if(Z===v)for(;;)for(P=0,na=fa.length;P<na;P++)a.yield1(ba,fa[P]);else for(;1<Z;){P=0;for(na=fa.length;P<na;P++)a.yield1(ba,fa[P]);Z--}},l.$$arity=-1);a.def(c,"$detect",m=function(Z){try{var P=m.$$p,ba=P||v,T;P&&(m.$$p=null);P&&(m.$$p=null);if(ba===v)return this.$enum_for("detect",Z);e(this,"each",[],(T=function(fa){var na=a.slice.call(arguments,0,arguments.length);na=q(r,"Opal").$destructure(na);if(d(a.yield1(ba,na)))a.ret(na);else return v},T.$$s=this,T.$$arity=-1,T));return void 0!==
Z?"function"===typeof Z?Z():Z:v}catch(fa){if(fa===a.returner)return fa.$v;throw fa;}},m.$$arity=-1);a.def(c,"$drop",y=function(Z){Z=n(Z,q(r,"Integer"),"to_int");d(0>Z)&&this.$raise(q(r,"ArgumentError"),"attempt to drop negative size");var P=[],ba=0;this.$each.$$p=function(){Z<=ba&&P.push(q(r,"Opal").$destructure(arguments));ba++};this.$each();return P},y.$$arity=1);a.def(c,"$drop_while",ka=function(){var Z=ka.$$p,P=Z||v;Z&&(ka.$$p=null);Z&&(ka.$$p=null);if(P===v)return this.$enum_for("drop_while");
var ba=[],T=!0;this.$each.$$p=function(){var fa=q(r,"Opal").$destructure(arguments);if(T){var na=a.yield1(P,fa);I(na)&&(T=!1,ba.push(fa))}else ba.push(fa)};this.$each();return ba},ka.$$arity=0);a.def(c,"$each_cons",L=function(Z){var P=L.$$p,ba=P||v,T;P&&(L.$$p=null);P&&(L.$$p=null);d(1!=arguments.length)&&this.$raise(q(r,"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 1)");Z=q(r,"Opal").$try_convert(Z,q(r,"Integer"),"to_int");d(0>=Z)&&this.$raise(q(r,"ArgumentError"),"invalid size");
if(ba===v)return e(this,"enum_for",["each_cons",Z],(T=function(){var na=v;var J=(null==T.$$s?this:T.$$s).$enumerator_size();return d(J["$nil?"]())?v:d(d(na=J["$=="](0))?na:"number"===typeof J&&"number"===typeof Z?J<Z:J["$<"](Z))?0:G(z(J,Z),1)},T.$$s=this,T.$$arity=0,T));var fa=[];this.$each.$$p=function(){var na=q(r,"Opal").$destructure(arguments);fa.push(na);fa.length>Z&&fa.shift();fa.length==Z&&a.yield1(ba,fa.slice(0,Z))};this.$each();return v},L.$$arity=1);a.def(c,"$each_entry",ia=function(Z){var P=
ia.$$p,ba=P||v,T;P&&(ia.$$p=null);P&&(ia.$$p=null);P=a.slice.call(arguments,0,arguments.length);if(ba===v)return e(this,"to_enum",["each_entry"].concat(a.to_a(P)),(T=function(){return(null==T.$$s?this:T.$$s).$enumerator_size()},T.$$s=this,T.$$arity=0,T));this.$each.$$p=function(){var fa=q(r,"Opal").$destructure(arguments);a.yield1(ba,fa)};this.$each.apply(this,P);return this},ia.$$arity=-1);a.def(c,"$each_slice",ya=function(Z){var P=ya.$$p,ba=P||v,T;P&&(ya.$$p=null);P&&(ya.$$p=null);Z=n(Z,q(r,"Integer"),
"to_int");d(0>=Z)&&this.$raise(q(r,"ArgumentError"),"invalid slice size");if(ba===v)return e(this,"enum_for",["each_slice",Z],(T=function(){var na=null==T.$$s?this:T.$$s;return d(na["$respond_to?"]("size"))?(na=na.$size(),("number"===typeof na&&"number"===typeof Z?na/Z:na["$/"](Z)).$ceil()):v},T.$$s=this,T.$$arity=0,T));var fa=[];this.$each.$$p=function(){var na=q(r,"Opal").$destructure(arguments);fa.push(na);fa.length===Z&&(a.yield1(ba,fa),fa=[])};this.$each();0<fa.length&&a.yield1(ba,fa);return v},
ya.$$arity=1);a.def(c,"$each_with_index",Ka=function(Z){var P=Ka.$$p,ba=P||v,T;P&&(Ka.$$p=null);P&&(Ka.$$p=null);P=a.slice.call(arguments,0,arguments.length);if(ba===v)return e(this,"enum_for",["each_with_index"].concat(a.to_a(P)),(T=function(){return(null==T.$$s?this:T.$$s).$enumerator_size()},T.$$s=this,T.$$arity=0,T));var fa=0;this.$each.$$p=function(){var na=q(r,"Opal").$destructure(arguments);ba(na,fa);fa++};this.$each.apply(this,P);return this},Ka.$$arity=-1);a.def(c,"$each_with_object",La=
function(Z){var P=La.$$p,ba=P||v,T;P&&(La.$$p=null);P&&(La.$$p=null);if(ba===v)return e(this,"enum_for",["each_with_object",Z],(T=function(){return(null==T.$$s?this:T.$$s).$enumerator_size()},T.$$s=this,T.$$arity=0,T));this.$each.$$p=function(){var fa=q(r,"Opal").$destructure(arguments);ba(fa,Z)};this.$each();return Z},La.$$arity=1);a.def(c,"$entries",Aa=function(Z){var P=a.slice.call(arguments,0,arguments.length);var ba=[];this.$each.$$p=function(){ba.push(q(r,"Opal").$destructure(arguments))};this.$each.apply(this,
P);return ba},Aa.$$arity=-1);a.def(c,"$filter_map",Ma=function(){var Z=Ma.$$p,P=Z||v,ba;Z&&(Ma.$$p=null);Z&&(Ma.$$p=null);return P===v?e(this,"enum_for",["filter_map"],(ba=function(){return(null==ba.$$s?this:ba.$$s).$enumerator_size()},ba.$$s=this,ba.$$arity=0,ba)):e(e(this,"map",[],P.$to_proc()),"select",[],"itself".$to_proc())},Ma.$$arity=0);a.alias(c,"find","detect");a.def(c,"$find_all",U=function(){var Z=U.$$p,P=Z||v,ba;Z&&(U.$$p=null);Z&&(U.$$p=null);if(P===v)return e(this,"enum_for",["find_all"],
(ba=function(){return(null==ba.$$s?this:ba.$$s).$enumerator_size()},ba.$$s=this,ba.$$arity=0,ba));var T=[];this.$each.$$p=function(){var fa=q(r,"Opal").$destructure(arguments),na=a.yield1(P,fa);d(na)&&T.push(fa)};this.$each();return T},U.$$arity=0);a.alias(c,"filter","find_all");a.def(c,"$find_index",wa=function(Z){try{var P=wa.$$p,ba=P||v,T,fa,na=v;P&&(wa.$$p=null);P&&(wa.$$p=null);if(d(void 0===Z&&ba===v))return this.$enum_for("find_index");null!=Z&&ba!==v&&this.$warn("warning: given block not used");
na=0;d(null!=Z)?e(this,"each",[],(T=function(J){var ea=a.slice.call(arguments,0,arguments.length);q(r,"Opal").$destructure(ea)["$=="](Z)&&a.ret(na);return na+=1},T.$$s=this,T.$$arity=-1,T)):e(this,"each",[],(fa=function(J){var ea=a.slice.call(arguments,0,arguments.length);d(a.yieldX(ba,a.to_a(ea)))&&a.ret(na);return na+=1},fa.$$s=this,fa.$$arity=-1,fa));return v}catch(J){if(J===a.returner)return J.$v;throw J;}},wa.$$arity=-1);a.def(c,"$first",R=function(Z){try{var P,ba,T=v,fa=v;if(d(void 0===Z))return e(this,
"each",[],(P=function(na){null==na&&(na=v);a.ret(na)},P.$$s=this,P.$$arity=1,P));T=[];Z=n(Z,q(r,"Integer"),"to_int");d(0>Z)&&this.$raise(q(r,"ArgumentError"),"attempt to take negative size");if(d(0==Z))return[];fa=0;e(this,"each",[],(ba=function(na){var J=a.slice.call(arguments,0,arguments.length);T.push(q(r,"Opal").$destructure(J));if(d(Z<=++fa))a.ret(T);else return v},ba.$$s=this,ba.$$arity=-1,ba));return T}catch(na){if(na===a.returner)return na.$v;throw na;}},R.$$arity=-1);a.alias(c,"flat_map",
"collect_concat");a.def(c,"$grep",oa=function(Z){var P=oa.$$p,ba=P||v,T,fa=v;P&&(oa.$$p=null);P&&(oa.$$p=null);fa=[];e(this,"each",[],(T=function(na){var J=a.slice.call(arguments,0,arguments.length);var ea=D(J);if(!d(e(Z,"__send__",["==="].concat(a.to_a(ea)))))return v;ba!==v?(d(w(J.$length(),1))&&(J=[J]),J=a.yieldX(ba,a.to_a(J))):d(B(J.$length(),1))&&(J=J["$[]"](0));return fa.$push(J)},T.$$s=this,T.$$arity=-1,T));return fa},oa.$$arity=1);a.def(c,"$grep_v",za=function(Z){var P=za.$$p,ba=P||v,T,fa=
v;P&&(za.$$p=null);P&&(za.$$p=null);fa=[];e(this,"each",[],(T=function(na){var J=a.slice.call(arguments,0,arguments.length);var ea=D(J);if(d(e(Z,"__send__",["==="].concat(a.to_a(ea)))))return v;ba!==v?(d(w(J.$length(),1))&&(J=[J]),J=a.yieldX(ba,a.to_a(J))):d(B(J.$length(),1))&&(J=J["$[]"](0));return fa.$push(J)},T.$$s=this,T.$$arity=-1,T));return fa},za.$$arity=1);a.def(c,"$group_by",la=function(){var Z=la.$$p,P=Z||v,ba,T=v,fa=v,na=v;Z&&(la.$$p=null);Z&&(la.$$p=null);if(P===v)return e(this,"enum_for",
["group_by"],(ba=function(){return(null==ba.$$s?this:ba.$$s).$enumerator_size()},ba.$$s=this,ba.$$arity=0,ba));T=k([],{});this.$each.$$p=function(){var J=q(r,"Opal").$destructure(arguments),ea=a.yield1(P,J);d(fa=T["$[]"](ea))?ea=fa:(na=[ea,[]],e(T,"[]=",a.to_a(na)),ea=na[z(na.length,1)]);ea["$<<"](J)};this.$each();return T},la.$$arity=0);a.def(c,"$include?",M=function(Z){try{var P;e(this,"each",[],(P=function(ba){var T=a.slice.call(arguments,0,arguments.length);if(q(r,"Opal").$destructure(T)["$=="](Z))a.ret(!0);
else return v},P.$$s=this,P.$$arity=-1,P));return!1}catch(ba){if(ba===a.returner)return ba.$v;throw ba;}},M.$$arity=1);a.def(c,"$inject",K=function(Z,P){var ba=K.$$p,T=ba||v;ba&&(K.$$p=null);ba&&(K.$$p=null);var fa=Z;T!==v&&void 0===P?this.$each.$$p=function(){var na=q(r,"Opal").$destructure(arguments);void 0!==fa&&(na=a.yieldX(T,[fa,na]));fa=na}:(void 0===P&&(q(r,"Symbol")["$==="](Z)||this.$raise(q(r,"TypeError"),""+Z.$inspect()+" is not a Symbol"),P=Z,fa=void 0),this.$each.$$p=function(){var na=
q(r,"Opal").$destructure(arguments);fa=void 0===fa?na:fa.$__send__(P,na)});this.$each();return void 0==fa?v:fa},K.$$arity=-1);a.def(c,"$lazy",X=function(){var Z;return e(p(q(r,"Enumerator"),"Lazy"),"new",[this,this.$enumerator_size()],(Z=function(P,ba){null==P&&(P=v);var T=a.slice.call(arguments,1,arguments.length);return e(P,"yield",a.to_a(T))},Z.$$s=this,Z.$$arity=-2,Z))},X.$$arity=0);a.def(c,"$enumerator_size",xa=function(){return d(this["$respond_to?"]("size"))?this.$size():v},xa.$$arity=0);a.alias(c,
"map","collect");a.def(c,"$max",aa=function(Z){var P=aa.$$p,ba=P||v,T=this;P&&(aa.$$p=null);P&&(aa.$$p=null);if(void 0===Z||Z===v){var fa,na;T.$each.$$p=function(){var J=q(r,"Opal").$destructure(arguments);void 0===fa?fa=J:(na=ba!==v?a.yieldX(ba,[J,fa]):J["$<=>"](fa),na===v&&T.$raise(q(r,"ArgumentError"),"comparison failed"),0<na&&(fa=J))};T.$each();return void 0===fa?v:fa}Z=n(Z,q(r,"Integer"),"to_int");return e(T,"sort",[],ba.$to_proc()).$reverse().$first(Z)},aa.$$arity=-1);a.def(c,"$max_by",qa=
function(Z){var P=qa.$$p,ba=P||v,T;P&&(qa.$$p=null);P&&(qa.$$p=null);null==Z&&(Z=v);if(!d(ba))return e(this,"enum_for",["max_by",Z],(T=function(){return(null==T.$$s?this:T.$$s).$enumerator_size()},T.$$s=this,T.$$arity=0,T));if(!d(Z["$nil?"]()))return e(this,"sort_by",[],ba.$to_proc()).$reverse().$take(Z);var fa,na;this.$each.$$p=function(){var J=q(r,"Opal").$destructure(arguments),ea=a.yield1(ba,J);void 0===fa?(fa=J,na=ea):0<ea["$<=>"](na)&&(fa=J,na=ea)};this.$each();return void 0===fa?v:fa},qa.$$arity=
-1);a.alias(c,"member?","include?");a.def(c,"$min",Ea=function(Z){var P=Ea.$$p,ba=P||v,T,fa=this;P&&(Ea.$$p=null);P&&(Ea.$$p=null);null==Z&&(Z=v);if(!d(Z["$nil?"]()))return ba!==v?e(fa,"sort",[],(T=function(J,ea){null==J&&(J=v);null==ea&&(ea=v);return a.yieldX(ba,[J,ea])},T.$$s=fa,T.$$arity=2,T)).$take(Z):fa.$sort().$take(Z);var na;fa.$each.$$p=ba!==v?function(){var J=q(r,"Opal").$destructure(arguments);if(void 0===na)na=J;else{var ea=ba(J,na);ea===v&&fa.$raise(q(r,"ArgumentError"),"comparison failed");
0>ea&&(na=J)}}:function(){var J=q(r,"Opal").$destructure(arguments);void 0===na?na=J:0>q(r,"Opal").$compare(J,na)&&(na=J)};fa.$each();return void 0===na?v:na},Ea.$$arity=-1);a.def(c,"$min_by",Ia=function(Z){var P=Ia.$$p,ba=P||v,T;P&&(Ia.$$p=null);P&&(Ia.$$p=null);null==Z&&(Z=v);if(!d(ba))return e(this,"enum_for",["min_by",Z],(T=function(){return(null==T.$$s?this:T.$$s).$enumerator_size()},T.$$s=this,T.$$arity=0,T));if(!d(Z["$nil?"]()))return e(this,"sort_by",[],ba.$to_proc()).$take(Z);var fa,na;this.$each.$$p=
function(){var J=q(r,"Opal").$destructure(arguments),ea=a.yield1(ba,J);void 0===fa?(fa=J,na=ea):0>ea["$<=>"](na)&&(fa=J,na=ea)};this.$each();return void 0===fa?v:fa},Ia.$$arity=-1);a.def(c,"$minmax",Sa=function(){var Z=Sa.$$p,P=Z||v,ba,T=this,fa=v;Z&&(Sa.$$p=null);Z&&(Sa.$$p=null);P=function(){return d(fa=P)?fa:e(T,"proc",[],(ba=function(F,O){null==F&&(F=v);null==O&&(O=v);return F["$<=>"](O)},ba.$$s=T,ba.$$arity=2,ba))}();var na=v,J=v,ea=!0;T.$each.$$p=function(){var F=q(r,"Opal").$destructure(arguments);
if(ea)na=J=F,ea=!1;else{var O=P.$call(na,F);O===v?T.$raise(q(r,"ArgumentError"),"comparison failed"):0<O&&(na=F);O=P.$call(J,F);O===v?T.$raise(q(r,"ArgumentError"),"comparison failed"):0>O&&(J=F)}};T.$each();return[na,J]},Sa.$$arity=0);a.def(c,"$minmax_by",Wa=function(){var Z=Wa.$$p,P=Z||v,ba;Z&&(Wa.$$p=null);Z&&(Wa.$$p=null);if(!d(P))return e(this,"enum_for",["minmax_by"],(ba=function(){return(null==ba.$$s?this:ba.$$s).$enumerator_size()},ba.$$s=this,ba.$$arity=0,ba));var T=v,fa=v,na,J;this.$each.$$p=
function(){var ea=q(r,"Opal").$destructure(arguments),F=a.yield1(P,ea);if(void 0===na||0>F["$<=>"](na))T=ea,na=F;if(void 0===J||0<F["$<=>"](J))fa=ea,J=F};this.$each();return[T,fa]},Wa.$$arity=0);a.def(c,"$none?",ib=function(Z){try{var P=ib.$$p,ba=P||v,T,fa,na;P&&(ib.$$p=null);P&&(ib.$$p=null);d(void 0!==Z)?e(this,"each",[],(T=function(J){var ea=a.slice.call(arguments,0,arguments.length);ea=D(ea);if(d(e(Z,"public_send",["==="].concat(a.to_a(ea)))))a.ret(!1);else return v},T.$$s=this,T.$$arity=-1,T)):
ba!==v?e(this,"each",[],(fa=function(J){var ea=a.slice.call(arguments,0,arguments.length);if(d(a.yieldX(ba,a.to_a(ea))))a.ret(!1);else return v},fa.$$s=this,fa.$$arity=-1,fa)):e(this,"each",[],(na=function(J){var ea=a.slice.call(arguments,0,arguments.length);ea=q(r,"Opal").$destructure(ea);if(d(ea))a.ret(!1);else return v},na.$$s=this,na.$$arity=-1,na));return!0}catch(J){if(J===a.returner)return J.$v;throw J;}},ib.$$arity=-1);a.def(c,"$one?",gb=function(Z){try{var P=gb.$$p,ba=P||v,T,fa,na,J=v;P&&
(gb.$$p=null);P&&(gb.$$p=null);J=0;d(void 0!==Z)?e(this,"each",[],(T=function(ea){var F=a.slice.call(arguments,0,arguments.length);F=D(F);if(d(e(Z,"public_send",["==="].concat(a.to_a(F)))))if(J=G(J,1),d(w(J,1)))a.ret(!1);else return v;else return v},T.$$s=this,T.$$arity=-1,T)):ba!==v?e(this,"each",[],(fa=function(ea){var F=a.slice.call(arguments,0,arguments.length);if(!d(a.yieldX(ba,a.to_a(F))))return v;J=G(J,1);if(d(w(J,1)))a.ret(!1);else return v},fa.$$s=this,fa.$$arity=-1,fa)):e(this,"each",[],
(na=function(ea){var F=a.slice.call(arguments,0,arguments.length);if(!d(q(r,"Opal").$destructure(F)))return v;J=G(J,1);if(d(w(J,1)))a.ret(!1);else return v},na.$$s=this,na.$$arity=-1,na));return J["$=="](1)}catch(ea){if(ea===a.returner)return ea.$v;throw ea;}},gb.$$arity=-1);a.def(c,"$partition",Ta=function(){var Z=Ta.$$p,P=Z||v,ba;Z&&(Ta.$$p=null);Z&&(Ta.$$p=null);if(P===v)return e(this,"enum_for",["partition"],(ba=function(){return(null==ba.$$s?this:ba.$$s).$enumerator_size()},ba.$$s=this,ba.$$arity=
0,ba));var T=[],fa=[];this.$each.$$p=function(){var na=q(r,"Opal").$destructure(arguments),J=a.yield1(P,na);d(J)?T.push(na):fa.push(na)};this.$each();return[T,fa]},Ta.$$arity=0);a.alias(c,"reduce","inject");a.def(c,"$reject",V=function(){var Z=V.$$p,P=Z||v,ba;Z&&(V.$$p=null);Z&&(V.$$p=null);if(P===v)return e(this,"enum_for",["reject"],(ba=function(){return(null==ba.$$s?this:ba.$$s).$enumerator_size()},ba.$$s=this,ba.$$arity=0,ba));var T=[];this.$each.$$p=function(){var fa=q(r,"Opal").$destructure(arguments),
na=a.yield1(P,fa);I(na)&&T.push(fa)};this.$each();return T},V.$$arity=0);a.def(c,"$reverse_each",Ca=function(){var Z=Ca.$$p,P=Z||v,ba;Z&&(Ca.$$p=null);Z&&(Ca.$$p=null);if(P===v)return e(this,"enum_for",["reverse_each"],(ba=function(){return(null==ba.$$s?this:ba.$$s).$enumerator_size()},ba.$$s=this,ba.$$arity=0,ba));var T=[];this.$each.$$p=function(){T.push(arguments)};this.$each();for(Z=T.length-1;0<=Z;Z--)a.yieldX(P,T[Z]);return T},Ca.$$arity=0);a.alias(c,"select","find_all");a.def(c,"$slice_before",
Da=function(Z){var P=Da.$$p,ba=P||v,T;P&&(Da.$$p=null);P&&(Da.$$p=null);d(void 0===Z&&ba===v)&&this.$raise(q(r,"ArgumentError"),"both pattern and block are given");d(void 0!==Z&&ba!==v||1<arguments.length)&&this.$raise(q(r,"ArgumentError"),"wrong number of arguments ("+arguments.length+" expected 1)");return e(q(r,"Enumerator"),"new",[],(T=function(fa){var na=null==T.$$s?this:T.$$s;null==fa&&(fa=v);var J=[];na.$each.$$p=ba!==v?void 0===Z?function(){var ea=q(r,"Opal").$destructure(arguments),F=a.yield1(ba,
ea);d(F)&&0<J.length&&(fa["$<<"](J),J=[]);J.push(ea)}:function(){var ea=q(r,"Opal").$destructure(arguments),F=ba(ea,Z.$dup());d(F)&&0<J.length&&(fa["$<<"](J),J=[]);J.push(ea)}:function(){var ea=q(r,"Opal").$destructure(arguments),F=Z["$==="](ea);d(F)&&0<J.length&&(fa["$<<"](J),J=[]);J.push(ea)};na.$each();if(0<J.length)fa["$<<"](J)},T.$$s=this,T.$$arity=1,T))},Da.$$arity=-1);a.def(c,"$slice_after",Xa=function(Z){var P=Xa.$$p,ba=P||v,T,fa;P&&(Xa.$$p=null);P&&(Xa.$$p=null);d(void 0===Z&&ba===v)&&this.$raise(q(r,
"ArgumentError"),"both pattern and block are given");d(void 0!==Z&&ba!==v||1<arguments.length)&&this.$raise(q(r,"ArgumentError"),"wrong number of arguments ("+arguments.length+" expected 1)");d(void 0!==Z)&&(ba=e(this,"proc",[],(T=function(na){null==na&&(na=v);return Z["$==="](na)},T.$$s=this,T.$$arity=1,T)));return e(q(r,"Enumerator"),"new",[],(fa=function(na){var J=null==fa.$$s?this:fa.$$s;null==na&&(na=v);var ea;J.$each.$$p=function(){var F=q(r,"Opal").$destructure(arguments),O=a.yield1(ba,F);
null==ea&&(ea=[]);d(O)?(ea.push(F),na.$yield(ea),ea=null):ea.push(F)};J.$each();null!=ea&&na.$yield(ea)},fa.$$s=this,fa.$$arity=1,fa))},Xa.$$arity=-1);a.def(c,"$slice_when",$a=function(){var Z=$a.$$p,P=Z||v,ba;Z&&($a.$$p=null);Z&&($a.$$p=null);P===v&&this.$raise(q(r,"ArgumentError"),"wrong number of arguments (0 for 1)");return e(q(r,"Enumerator"),"new",[],(ba=function(T){var fa=null==ba.$$s?this:ba.$$s;null==T&&(T=v);var na=v,J=v;fa.$each_cons.$$p=function(){var ea=q(r,"Opal").$destructure(arguments),
F=ea[0];ea=ea[1];var O=a.yieldX(P,[F,ea]);J=ea;na===v&&(na=[]);d(O)?(na.push(F),T.$yield(na),na=[]):na.push(F)};fa.$each_cons(2);na!==v&&(na.push(J),T.$yield(na))},ba.$$s=this,ba.$$arity=1,ba))},$a.$$arity=0);a.def(c,"$sort",Ua=function(){var Z=Ua.$$p,P=Z||v,ba,T=v;Z&&(Ua.$$p=null);Z&&(Ua.$$p=null);T=this.$to_a();P===v&&(P=E((ba=function(fa,na){null==fa&&(fa=v);null==na&&(na=v);return fa["$<=>"](na)},ba.$$s=this,ba.$$arity=2,ba)));return e(T,"sort",[],P.$to_proc())},Ua.$$arity=0);a.def(c,"$sort_by",
Ya=function(){var Z=Ya.$$p,P=Z||v,ba,T,fa,na,J=v;Z&&(Ya.$$p=null);Z&&(Ya.$$p=null);if(P===v)return e(this,"enum_for",["sort_by"],(ba=function(){return(null==ba.$$s?this:ba.$$s).$enumerator_size()},ba.$$s=this,ba.$$arity=0,ba));J=e(this,"map",[],(T=function(){var ea=q(r,"Opal").$destructure(arguments);return[a.yield1(P,ea),ea]},T.$$s=this,T.$$arity=0,T));e(J,"sort!",[],(fa=function(ea,F){null==ea&&(ea=v);null==F&&(F=v);return ea[0]["$<=>"](F[0])},fa.$$s=this,fa.$$arity=2,fa));return e(J,"map!",[],
(na=function(ea){null==ea&&(ea=v);return ea[1]},na.$$s=this,na.$$arity=1,na))},Ya.$$arity=0);a.def(c,"$sum",Ba=function(Z){var P,ba=Ba.$$p,T=ba||v,fa=v;ba&&(Ba.$$p=null);null==Z&&(Z=0);fa=Z;e(this,"each",[],(P=function(na){var J=a.slice.call(arguments,0,arguments.length);J=T!==v?a.yieldX(T,a.to_a(J)):q(r,"Opal").$destructure(J);return fa=G(fa,J)},P.$$s=this,P.$$arity=-1,P));return fa},Ba.$$arity=-1);a.def(c,"$take",ua=function(Z){return this.$first(Z)},ua.$$arity=1);a.def(c,"$take_while",pa=function(){try{var Z=
pa.$$p,P=Z||v,ba,T=v;Z&&(pa.$$p=null);Z&&(pa.$$p=null);if(!d(P))return this.$enum_for("take_while");T=[];return e(this,"each",[],(ba=function(fa){var na=a.slice.call(arguments,0,arguments.length);na=q(r,"Opal").$destructure(na);d(a.yield1(P,na))||a.ret(T);return T.push(na)},ba.$$s=this,ba.$$arity=-1,ba))}catch(fa){if(fa===a.returner)return fa.$v;throw fa;}},pa.$$arity=0);a.def(c,"$uniq",Ga=function(){var Z=Ga.$$p,P=Z||v,ba,T=v;Z&&(Ga.$$p=null);Z&&(Ga.$$p=null);T=k([],{});e(this,"each",[],(ba=function(fa){var na=
a.slice.call(arguments,0,arguments.length);na=q(r,"Opal").$destructure(na);var J=P!==v?a.yield1(P,na):na;if(d(T["$key?"](J)))return v;na=[J,na];e(T,"[]=",a.to_a(na));return na[z(na.length,1)]},ba.$$s=this,ba.$$arity=-1,ba));return T.$values()},Ga.$$arity=0);a.def(c,"$tally",Pa=function(){return e(e(this,"group_by",[],"itself".$to_proc()),"transform_values",[],"count".$to_proc())},Pa.$$arity=0);a.alias(c,"to_a","entries");a.def(c,"$to_h",Va=function(Z){var P=Va.$$p,ba=P||v,T=this;P&&(Va.$$p=null);
P&&(Va.$$p=null);P=a.slice.call(arguments,0,arguments.length);if(ba!==v)return e(e(T,"map",[],ba.$to_proc()),"to_h",a.to_a(P));var fa=k([],{});T.$each.$$p=function(){var na=q(r,"Opal").$destructure(arguments);na=q(r,"Opal")["$coerce_to?"](na,q(r,"Array"),"to_ary");na.$$is_array||T.$raise(q(r,"TypeError"),"wrong element type "+na.$class()+" (expected array)");2!==na.length&&T.$raise(q(r,"ArgumentError"),"wrong array length (expected 2, was "+na.$length()+")");a.hash_put(fa,na[0],na[1])};T.$each.apply(T,
P);return fa},Va.$$arity=-1);return(a.def(c,"$zip",Ha=function(Z){var P=Ha.$$p;P&&(Ha.$$p=null);P&&(Ha.$$p=null);P=a.slice.call(arguments,0,arguments.length);return e(this.$to_a(),"zip",a.to_a(P))},Ha.$$arity=-1),v)&&"zip"}(h[0],h)};
Opal.modules["corelib/enumerator"]=function(a){function w(E,c){return"number"===typeof E&&"number"===typeof c?E+c:E["$+"](c)}function G(E,c){return"number"===typeof E&&"number"===typeof c?E<c:E["$<"](c)}var z=a.top,B=[],h=a.nil,v=a.$$,p=a.breaker,q=a.slice,I=a.falsy,d=a.truthy,n=a.coerce_to,x=a.klass,e=a.send,k=a.send2;a.add_stubs("$require $include $allocate $new $to_proc $! $respond_to? $nil? $empty? $+ $class $__send__ $call $enum_for $size $destructure $inspect $any? $[] $raise $yield $each $enumerator_size $try_convert $< $=== $for".split(" "));
z.$require("corelib/enumerable");return function(E,$super,A){E=x(E,$super,"Enumerator");var D=[E].concat(A),r,ja,va,ha,ma,b,f;E.$$prototype.size=E.$$prototype.args=E.$$prototype.object=E.$$prototype.method=h;E.$include(v(D,"Enumerable"));E.$$prototype.$$is_enumerator=!0;a.defs(E,"$for",r=function(g,l,m){var y=r.$$p,ka=y||h;y&&(r.$$p=null);y&&(r.$$p=null);y=a.slice.call(arguments,1,arguments.length);if(0<y.length){var L=y[0];y.splice(0,1)}null==L&&(L="each");var ia=this.$allocate();ia.object=g;ia.size=
ka;ia.method=L;ia.args=y;return ia},r.$$arity=-2);a.def(E,"$initialize",ja=function(g){var l=ja.$$p,m=l||h,y=h;l&&(ja.$$p=null);l&&(ja.$$p=null);a.slice.call(arguments,0,arguments.length);if(d(m))return this.object=e(v(D,"Generator"),"new",[],m.$to_proc()),this.method="each",this.args=[],this.size=arguments[0]||h,d(d(y=this.size)?this.size["$respond_to?"]("call")["$!"]():y)?this.size=n(this.size,v(D,"Integer"),"to_int"):h;this.object=arguments[0];this.method=arguments[1]||"each";this.args=q.call(arguments,
2);return this.size=h},ja.$$arity=-1);a.def(E,"$each",va=function(g){var l=va.$$p,m=l||h,y=h;l&&(va.$$p=null);l&&(va.$$p=null);l=a.slice.call(arguments,0,arguments.length);if(d(d(y=m["$nil?"]())?l["$empty?"]():y))return this;l=w(this.args,l);return d(m["$nil?"]())?e(this.$class(),"new",[this.object,this.method].concat(a.to_a(l))):e(this.object,"__send__",[this.method].concat(a.to_a(l)),m.$to_proc())},va.$$arity=-1);a.def(E,"$size",ha=function(){return d(this.size["$respond_to?"]("call"))?e(this.size,
"call",a.to_a(this.args)):this.size},ha.$$arity=0);a.def(E,"$with_index",ma=function(g){var l=ma.$$p,m=l||h,y;l&&(ma.$$p=null);l&&(ma.$$p=null);null==g&&(g=0);g=d(g)?n(g,v(D,"Integer"),"to_int"):0;if(!d(m))return e(this,"enum_for",["with_index",g],(y=function(){return(null==y.$$s?this:y.$$s).$size()},y.$$s=this,y.$$arity=0,y));var ka=g;this.$each.$$p=function(){var L=v(D,"Opal").$destructure(arguments);L=m(L,ka);ka++;return L};return this.$each()},ma.$$arity=-1);a.alias(E,"with_object","each_with_object");
a.def(E,"$each_with_index",b=function(){var g=b.$$p,l=g||h,m,y=h,ka=h,L=h;g&&(b.$$p=null);ka=0;L=arguments.length;for(y=Array(L);ka<L;ka++)y[ka]=arguments[ka];g&&(b.$$p=null);if(l===h)return e(this,"enum_for",["each_with_index"],(m=function(){return(null==m.$$s?this:m.$$s).$size()},m.$$s=this,m.$$arity=0,m));k(this,a.find_super_dispatcher(this,"each_with_index",b,!1,!0),"each_with_index",y,g);return this.object},b.$$arity=0);a.def(E,"$inspect",f=function(){var g="#<"+this.$class()+": "+this.object.$inspect()+
":"+this.method;d(this.args["$any?"]())&&(g=w(g,"("+this.args.$inspect()["$[]"](v(D,"Range").$new(1,-2))+")"));return w(g,">")},f.$$arity=0);(function(g,$super,m){g=x(g,$super,"Generator");var y=[g].concat(m),ka,L;g.$$prototype.block=h;g.$include(v(y,"Enumerable"));a.def(g,"$initialize",ka=function(){var ia=ka.$$p,ya=ia||h;ia&&(ka.$$p=null);ia&&(ka.$$p=null);d(ya)||this.$raise(v(y,"LocalJumpError"),"no block given");return this.block=ya},ka.$$arity=0);return(a.def(g,"$each",L=function(ia){var ya=
L.$$p,Ka=ya||h;ya&&(L.$$p=null);ya&&(L.$$p=null);ya=a.slice.call(arguments,0,arguments.length);Ka=e(v(y,"Yielder"),"new",[],Ka.$to_proc());try{ya.unshift(Ka),a.yieldX(this.block,ya)}catch(La){if(La===p)return p.$v;throw La;}return this},L.$$arity=-1),h)&&"each"})(D[0],null,D);(function(g,$super,m){g=x(g,$super,"Yielder");[g].concat(m);var y,ka,L;g.$$prototype.block=h;a.def(g,"$initialize",y=function(){var ia=y.$$p,ya=ia||h;ia&&(y.$$p=null);ia&&(y.$$p=null);return this.block=ya},y.$$arity=0);a.def(g,
"$yield",ka=function(ia){var ya=a.slice.call(arguments,0,arguments.length);ya=a.yieldX(this.block,ya);if(ya===p)throw p;return ya},ka.$$arity=-1);return(a.def(g,"$<<",L=function(ia){var ya=a.slice.call(arguments,0,arguments.length);e(this,"yield",a.to_a(ya));return this},L.$$arity=-1),h)&&"<<"})(D[0],null,D);(function(g,$super,m){g=x(g,$super,"Lazy");var y=[g].concat(m),ka,L,ia,ya,Ka,La,Aa,Ma,U,wa,R,oa,za;g.$$prototype.enumerator=h;(function(la,$super,K){[x(la,$super,"StopLazyError")].concat(K);return h})(y[0],
v(y,"Exception"),y);a.def(g,"$initialize",ka=function(la,M){var K=ka.$$p,X=K||h,xa;K&&(ka.$$p=null);K&&(ka.$$p=null);null==M&&(M=h);X===h&&this.$raise(v(y,"ArgumentError"),"tried to call lazy new without a block");this.enumerator=la;return k(this,a.find_super_dispatcher(this,"initialize",ka,!1,!0),"initialize",[M],(xa=function(aa,qa){var Ea=null==xa.$$s?this:xa.$$s,Ia;null==aa&&(aa=h);var Sa=a.slice.call(arguments,1,arguments.length);try{return e(la,"each",a.to_a(Sa),(Ia=function(Wa){var ib=a.slice.call(arguments,
0,arguments.length);ib.unshift(aa);a.yieldX(X,ib)},Ia.$$s=Ea,Ia.$$arity=-1,Ia))}catch(Wa){if(a.rescue(Wa,[v(y,"Exception")]))try{return h}finally{a.pop_exception()}else throw Wa;}},xa.$$s=this,xa.$$arity=-2,xa))},ka.$$arity=-2);a.alias(g,"force","to_a");a.def(g,"$lazy",L=function(){return this},L.$$arity=0);a.def(g,"$collect",ia=function(){var la=ia.$$p,M=la||h,K;la&&(ia.$$p=null);la&&(ia.$$p=null);d(M)||this.$raise(v(y,"ArgumentError"),"tried to call lazy map without a block");return e(v(y,"Lazy"),
"new",[this,this.$enumerator_size()],(K=function(X,xa){null==X&&(X=h);var aa=a.slice.call(arguments,1,arguments.length);aa=a.yieldX(M,aa);X.$yield(aa)},K.$$s=this,K.$$arity=-2,K))},ia.$$arity=0);a.def(g,"$collect_concat",ya=function(){var la=ya.$$p,M=la||h,K;la&&(ya.$$p=null);la&&(ya.$$p=null);d(M)||this.$raise(v(y,"ArgumentError"),"tried to call lazy map without a block");return e(v(y,"Lazy"),"new",[this,h],(K=function(X,xa){var aa=null==K.$$s?this:K.$$s,qa,Ea;null==X&&(X=h);var Ia=a.slice.call(arguments,
1,arguments.length);Ia=a.yieldX(M,Ia);Ia["$respond_to?"]("force")&&Ia["$respond_to?"]("each")?e(Ia,"each",[],(qa=function(Sa){null==Sa&&(Sa=h);return X.$yield(Sa)},qa.$$s=aa,qa.$$arity=1,qa)):v(y,"Opal").$try_convert(Ia,v(y,"Array"),"to_ary")===h?X.$yield(Ia):e(Ia,"each",[],(Ea=function(Sa){null==Sa&&(Sa=h);return X.$yield(Sa)},Ea.$$s=aa,Ea.$$arity=1,Ea))},K.$$s=this,K.$$arity=-2,K))},ya.$$arity=0);a.def(g,"$drop",Ka=function(la){var M,K=h,X=K=h;la=n(la,v(y,"Integer"),"to_int");d(G(la,0))&&this.$raise(v(y,
"ArgumentError"),"attempt to drop negative size");K=this.$enumerator_size();K=d(v(y,"Integer")["$==="](K))?d(G(la,K))?la:K:K;X=0;return e(v(y,"Lazy"),"new",[this,K],(M=function(xa,aa){null==xa&&(xa=h);var qa=a.slice.call(arguments,1,arguments.length);return d(G(X,la))?X=w(X,1):e(xa,"yield",a.to_a(qa))},M.$$s=this,M.$$arity=-2,M))},Ka.$$arity=1);a.def(g,"$drop_while",La=function(){var la=La.$$p,M=la||h,K,X=h;la&&(La.$$p=null);la&&(La.$$p=null);d(M)||this.$raise(v(y,"ArgumentError"),"tried to call lazy drop_while without a block");
X=!0;return e(v(y,"Lazy"),"new",[this,h],(K=function(xa,aa){null==xa&&(xa=h);var qa=a.slice.call(arguments,1,arguments.length);if(d(X)){var Ea=a.yieldX(M,qa);I(Ea)&&(X=!1,e(xa,"yield",a.to_a(qa)))}else return e(xa,"yield",a.to_a(qa))},K.$$s=this,K.$$arity=-2,K))},La.$$arity=0);a.def(g,"$enum_for",Aa=function(la,M){var K=Aa.$$p,X=K||h;K&&(Aa.$$p=null);K&&(Aa.$$p=null);K=a.slice.call(arguments,0,arguments.length);if(0<K.length){var xa=K[0];K.splice(0,1)}null==xa&&(xa="each");return e(this.$class(),
"for",[this,xa].concat(a.to_a(K)),X.$to_proc())},Aa.$$arity=-1);a.alias(g,"filter","find_all");a.def(g,"$find_all",Ma=function(){var la=Ma.$$p,M=la||h,K;la&&(Ma.$$p=null);la&&(Ma.$$p=null);d(M)||this.$raise(v(y,"ArgumentError"),"tried to call lazy select without a block");return e(v(y,"Lazy"),"new",[this,h],(K=function(X,xa){null==X&&(X=h);var aa=a.slice.call(arguments,1,arguments.length);var qa=a.yieldX(M,aa);d(qa)&&e(X,"yield",a.to_a(aa))},K.$$s=this,K.$$arity=-2,K))},Ma.$$arity=0);a.alias(g,"flat_map",
"collect_concat");a.def(g,"$grep",U=function(la){var M=U.$$p,K=M||h,X,xa;M&&(U.$$p=null);M&&(U.$$p=null);return d(K)?e(v(y,"Lazy"),"new",[this,h],(X=function(aa,qa){null==aa&&(aa=h);var Ea=a.slice.call(arguments,1,arguments.length);Ea=v(y,"Opal").$destructure(Ea);var Ia=la["$==="](Ea);d(Ia)&&(a.yield1(K,Ea),aa.$yield(a.yield1(K,Ea)))},X.$$s=this,X.$$arity=-2,X)):e(v(y,"Lazy"),"new",[this,h],(xa=function(aa,qa){null==aa&&(aa=h);var Ea=a.slice.call(arguments,1,arguments.length);Ea=v(y,"Opal").$destructure(Ea);
var Ia=la["$==="](Ea);d(Ia)&&aa.$yield(Ea)},xa.$$s=this,xa.$$arity=-2,xa))},U.$$arity=1);a.alias(g,"map","collect");a.alias(g,"select","find_all");a.def(g,"$reject",wa=function(){var la=wa.$$p,M=la||h,K;la&&(wa.$$p=null);la&&(wa.$$p=null);d(M)||this.$raise(v(y,"ArgumentError"),"tried to call lazy reject without a block");return e(v(y,"Lazy"),"new",[this,h],(K=function(X,xa){null==X&&(X=h);var aa=a.slice.call(arguments,1,arguments.length);var qa=a.yieldX(M,aa);I(qa)&&e(X,"yield",a.to_a(aa))},K.$$s=
this,K.$$arity=-2,K))},wa.$$arity=0);a.def(g,"$take",R=function(la){var M,K=h,X=K=h;la=n(la,v(y,"Integer"),"to_int");d(G(la,0))&&this.$raise(v(y,"ArgumentError"),"attempt to take negative size");K=this.$enumerator_size();K=d(v(y,"Integer")["$==="](K))?d(G(la,K))?la:K:K;X=0;return e(v(y,"Lazy"),"new",[this,K],(M=function(xa,aa){var qa=null==M.$$s?this:M.$$s;null==xa&&(xa=h);var Ea=a.slice.call(arguments,1,arguments.length);return d(G(X,la))?(e(xa,"yield",a.to_a(Ea)),X=w(X,1)):qa.$raise(v(y,"StopLazyError"))},
M.$$s=this,M.$$arity=-2,M))},R.$$arity=1);a.def(g,"$take_while",oa=function(){var la=oa.$$p,M=la||h,K;la&&(oa.$$p=null);la&&(oa.$$p=null);d(M)||this.$raise(v(y,"ArgumentError"),"tried to call lazy take_while without a block");return e(v(y,"Lazy"),"new",[this,h],(K=function(X,xa){var aa=null==K.$$s?this:K.$$s;null==X&&(X=h);var qa=a.slice.call(arguments,1,arguments.length);var Ea=a.yieldX(M,qa);d(Ea)?e(X,"yield",a.to_a(qa)):aa.$raise(v(y,"StopLazyError"))},K.$$s=this,K.$$arity=-2,K))},oa.$$arity=0);
a.alias(g,"to_enum","enum_for");return(a.def(g,"$inspect",za=function(){return"#<"+this.$class()+": "+this.enumerator.$inspect()+">"},za.$$arity=0),h)&&"inspect"})(D[0],E,D);return function(g,$super,m){[x(g,$super,"ArithmeticSequence")].concat(m);return h}(D[0],E,D)}(B[0],null,B)};
Opal.modules["corelib/numeric"]=function(a){function w(k,E){return"number"===typeof k&&"number"===typeof E?k-E:k["$-"](E)}function G(k,E){return"number"===typeof k&&"number"===typeof E?k*E:k["$*"](E)}function z(k,E){return"number"===typeof k&&"number"===typeof E?k<E:k["$<"](E)}function B(k,E){return"number"===typeof k&&"number"===typeof E?k/E:k["$/"](E)}var h=a.top,v=[],p=a.nil,q=a.$$$,I=a.$$,d=a.klass,n=a.truthy,x=a.hash2,e=a.send;a.add_stubs("$require $include $instance_of? $class $Float $respond_to? $coerce $__send__ $=== $raise $equal? $- $* $div $< $-@ $ceil $to_f $denominator $to_r $== $floor $/ $% $Complex $zero? $numerator $abs $arg $coerce_to! $round $<=> $compare $enum_for $to_proc $negative? $>= $<= $+ $to_i $truncate $>".split(" "));
h.$require("corelib/comparable");return function(k,$super,c){k=d(k,$super,"Numeric");var A=[k].concat(c),D,r,ja,va,ha,ma,b,f,g,l,m,y,ka,L,ia,ya,Ka,La,Aa,Ma,U,wa,R,oa,za,la,M,K,X,xa,aa,qa,Ea,Ia,Sa,Wa,ib,gb;k.$include(I(A,"Comparable"));a.def(k,"$coerce",D=function(Ta){return n(Ta["$instance_of?"](this.$class()))?[Ta,this]:[this.$Float(Ta),this.$Float(this)]},D.$$arity=1);a.def(k,"$__coerced__",r=function(Ta,V){if(n(V["$respond_to?"]("coerce"))){V=V.$coerce(this);var Ca=a.to_ary(V);var Da=null==Ca[0]?
p:Ca[0];Ca=null==Ca[1]?p:Ca[1];V;return Da.$__send__(Ta,Ca)}return"+"["$==="](Ta)||"-"["$==="](Ta)||"*"["$==="](Ta)||"/"["$==="](Ta)||"%"["$==="](Ta)||"&"["$==="](Ta)||"|"["$==="](Ta)||"^"["$==="](Ta)||"**"["$==="](Ta)?this.$raise(I(A,"TypeError"),""+V.$class()+" can't be coerced into Numeric"):">"["$==="](Ta)||">="["$==="](Ta)||"<"["$==="](Ta)||"<="["$==="](Ta)||"<=>"["$==="](Ta)?this.$raise(I(A,"ArgumentError"),"comparison of "+this.$class()+" with "+V.$class()+" failed"):p},r.$$arity=2);a.def(k,
"$<=>",ja=function(Ta){return n(this["$equal?"](Ta))?0:p},ja.$$arity=1);a.def(k,"$+@",va=function(){return this},va.$$arity=0);a.def(k,"$-@",ha=function(){return w(0,this)},ha.$$arity=0);a.def(k,"$%",ma=function(Ta){return w(this,G(Ta,this.$div(Ta)))},ma.$$arity=1);a.def(k,"$abs",b=function(){return z(this,0)?this["$-@"]():this},b.$$arity=0);a.def(k,"$abs2",f=function(){return G(this,this)},f.$$arity=0);a.def(k,"$angle",g=function(){return z(this,0)?q(I(A,"Math"),"PI"):0},g.$$arity=0);a.alias(k,"arg",
"angle");a.def(k,"$ceil",l=function(Ta){null==Ta&&(Ta=0);return this.$to_f().$ceil(Ta)},l.$$arity=-1);a.def(k,"$conj",m=function(){return this},m.$$arity=0);a.alias(k,"conjugate","conj");a.def(k,"$denominator",y=function(){return this.$to_r().$denominator()},y.$$arity=0);a.def(k,"$div",ka=function(Ta){Ta["$=="](0)&&this.$raise(I(A,"ZeroDivisionError"),"divided by o");return B(this,Ta).$floor()},ka.$$arity=1);a.def(k,"$divmod",L=function(Ta){return[this.$div(Ta),this["$%"](Ta)]},L.$$arity=1);a.def(k,
"$fdiv",ia=function(Ta){return B(this.$to_f(),Ta)},ia.$$arity=1);a.def(k,"$floor",ya=function(Ta){null==Ta&&(Ta=0);return this.$to_f().$floor(Ta)},ya.$$arity=-1);a.def(k,"$i",Ka=function(){return this.$Complex(0,this)},Ka.$$arity=0);a.def(k,"$imag",La=function(){return 0},La.$$arity=0);a.alias(k,"imaginary","imag");a.def(k,"$integer?",Aa=function(){return!1},Aa.$$arity=0);a.alias(k,"magnitude","abs");a.alias(k,"modulo","%");a.def(k,"$nonzero?",Ma=function(){return n(this["$zero?"]())?p:this},Ma.$$arity=
0);a.def(k,"$numerator",U=function(){return this.$to_r().$numerator()},U.$$arity=0);a.alias(k,"phase","arg");a.def(k,"$polar",wa=function(){return[this.$abs(),this.$arg()]},wa.$$arity=0);a.def(k,"$quo",R=function(Ta){return B(I(A,"Opal")["$coerce_to!"](this,I(A,"Rational"),"to_r"),Ta)},R.$$arity=1);a.def(k,"$real",oa=function(){return this},oa.$$arity=0);a.def(k,"$real?",za=function(){return!0},za.$$arity=0);a.def(k,"$rect",la=function(){return[this,0]},la.$$arity=0);a.alias(k,"rectangular","rect");
a.def(k,"$round",M=function(Ta){return this.$to_f().$round(Ta)},M.$$arity=-1);a.def(k,"$step",K=function(Ta,V,Ca){function Da(){Ga===p&&Ba.$raise(I(A,"TypeError"),"step must be numeric");null!=Ga&&Ga["$=="](0)&&Ba.$raise(I(A,"ArgumentError"),"step can't be 0");if(Ga===p||null==Ga)Ga=1;var Va=Ga["$<=>"](0);Va===p&&Ba.$raise(I(A,"ArgumentError"),"0 can't be coerced into "+Ga.$class());if(pa===p||null==pa)pa=0<Va?q(I(A,"Float"),"INFINITY"):q(I(A,"Float"),"INFINITY")["$-@"]();I(A,"Opal").$compare(Ba,
pa)}function Xa(){if(0<Ga&&Ba>pa||0>Ga&&Ba<pa)return 0;if(Infinity===Ga||-Infinity===Ga)return 1;var Va=Math.abs,Ha=Math.floor;Va=(Va(Ba)+Va(pa)+Va(pa-Ba))/Va(Ga)*q(I(A,"Float"),"EPSILON");if(Infinity===Va||-Infinity===Va)return 0;.5<Va&&(Va=.5);return Ha((pa-Ba)/Ga+Va)+1}function $a(){Da();if(0===Ga)return Infinity;if(0!==Ga%1)return Xa();if(0<Ga&&Ba>pa||0>Ga&&Ba<pa)return 0;var Va=Math.ceil,Ha=Math.abs,Z=Ha(Ba-pa)+1;Ha=Ha(Ga);return Va(Z/Ha)}var Ua=K.$$p,Ya=Ua||p,Ba=this;var ua=p;Ua&&(K.$$p=null);
Ua&&(K.$$p=null);ua=a.slice.call(arguments,0,arguments.length);Ua=a.extract_kwargs(ua);if(null==Ua)Ua=x([],{});else if(!Ua.$$is_hash)throw a.ArgumentError.$new("expected kwargs");if(0<ua.length){var pa=ua[0];ua.splice(0,1)}if(0<ua.length){var Ga=ua[0];ua.splice(0,1)}ua=Ua.$$smap.to;Ua=Ua.$$smap.by;void 0!==pa&&void 0!==ua&&Ba.$raise(I(A,"ArgumentError"),"to is given twice");void 0!==Ga&&void 0!==Ua&&Ba.$raise(I(A,"ArgumentError"),"step is given twice");void 0!==ua&&(pa=ua);void 0!==Ua&&(Ga=Ua);void 0===
pa&&(pa=p);if(Ya===p)return e(Ba,"enum_for",["step",pa,Ga],$a.$to_proc());Da();Ua=Ga["$negative?"]();ua=Ga["$=="](0)||Infinity===pa&&!Ua||-Infinity===pa&&Ua;if(Ba.$$is_number&&Ga.$$is_number&&pa.$$is_number){if(0!==Ba%1||!ua&&0!==pa%1||0!==Ga%1)if(ua=Ba.$to_f().valueOf(),Ga=Ga.$to_f().valueOf(),pa=pa.$to_f().valueOf(),Ua=Xa(),isFinite(Ga))if(0===Ga)for(;;)Ya(ua);else for(ua=0;ua<Ua;ua++){var Pa=ua*Ga+Ba;if(0<=Ga?pa<Pa:pa>Pa)Pa=pa;Ya(Pa)}else 0!==Ua&&Ya(ua);else if(Pa=Ba,ua)for(;;Pa+=Ga)Ya(Pa);else if(Ua)for(;Pa>=
pa;Pa+=Ga)Ya(Pa);else for(;Pa<=pa;Pa+=Ga)Ya(Pa);return Ba}for(ua=Ba;n(Ua?"number"===typeof ua&&"number"===typeof pa?ua>=pa:ua["$>="](pa):"number"===typeof ua&&"number"===typeof pa?ua<=pa:ua["$<="](pa));)a.yield1(Ya,ua),ua="number"===typeof ua&&"number"===typeof Ga?ua+Ga:ua["$+"](Ga)},K.$$arity=-1);a.def(k,"$to_c",X=function(){return this.$Complex(this,0)},X.$$arity=0);a.def(k,"$to_int",xa=function(){return this.$to_i()},xa.$$arity=0);a.def(k,"$truncate",aa=function(Ta){null==Ta&&(Ta=0);return this.$to_f().$truncate(Ta)},
aa.$$arity=-1);a.def(k,"$zero?",qa=function(){return this["$=="](0)},qa.$$arity=0);a.def(k,"$positive?",Ea=function(){return"number"===typeof this?0<this:this["$>"](0)},Ea.$$arity=0);a.def(k,"$negative?",Ia=function(){return z(this,0)},Ia.$$arity=0);a.def(k,"$dup",Sa=function(){return this},Sa.$$arity=0);a.def(k,"$clone",Wa=function(Ta){if(null==Ta)x([],{});else if(!Ta.$$is_hash)throw a.ArgumentError.$new("expected kwargs");return this},Wa.$$arity=-1);a.def(k,"$finite?",ib=function(){return!0},ib.$$arity=
0);return(a.def(k,"$infinite?",gb=function(){return p},gb.$$arity=0),p)&&"infinite?"}(v[0],null,v)};
Opal.modules["corelib/array"]=function(a){function w(ha,ma){return"number"===typeof ha&&"number"===typeof ma?ha>ma:ha["$>"](ma)}function G(ha,ma){return"number"===typeof ha&&"number"===typeof ma?ha-ma:ha["$-"](ma)}var z=a.top,B=[],h=a.nil,v=a.$$$,p=a.$$,q=a.truthy,I=a.falsy,d=a.hash_ids,n=a.yield1,x=a.hash_get,e=a.hash_put,k=a.hash_delete,E=a.coerce_to,c=a.respond_to,A=a.klass,D=a.hash2,r=a.send2,ja=a.send,va=a.gvars;a.add_stubs("$require $include $to_a $warn $raise $replace $respond_to? $to_ary $coerce_to? $=== $join $to_str $hash $<=> $== $object_id $inspect $enum_for $class $bsearch_index $to_proc $nil? $coerce_to! $> $* $enumerator_size $empty? $size $map $equal? $dup $each $reduce $- $[] $dig $eql? $length $exclude_end? $flatten $__id__ $& $to_s $new $max $min $! $>= $** $delete_if $reverse $rotate $rand $at $keep_if $shuffle! $< $sort $sort_by $!= $times $[]= $<< $uniq $| $values $is_a? $last $first $upto $reject $pristine $singleton_class".split(" "));
z.$require("corelib/enumerable");z.$require("corelib/numeric");return function(ha,$super,b){function f(t,H,N){for(var Y,da=null,sa=Array(t.length),Ra=0,eb=0,bb=t.length;Ra<bb;Ra++){if(!da)try{Y=n(N,t[Ra])}catch(nb){da=nb}if(da||H(Y))sa[eb]=t[Ra],eb+=1}eb!==Ra&&(t.splice.apply(t,[0,sa.length].concat(sa)),t.splice(eb,sa.length));if(da)throw da;}function g(t,H){var N=t.length;var Y=H.excl;var da=E(H.begin,a.Integer,"to_int");H=E(H.end,a.Integer,"to_int");if(0>da&&(da+=N,0>da)||da>N)return h;if(0>H&&
(H+=N,0>H))return[];Y||(H+=1);return t.slice(da,H)}function l(t,H){return t===H||0===H?1:0<H&&t>H?l(t-1,H-1)+l(t-1,H):0}var m=A(ha,$super,"Array"),y=[m].concat(b),ka,L,ia,ya,Ka,La,Aa,Ma,U,wa,R,oa,za,la,M,K,X,xa,aa,qa,Ea,Ia,Sa,Wa,ib,gb,Ta,V,Ca,Da,Xa,$a,Ua,Ya,Ba,ua,pa,Ga,Pa,Va,Ha,Z,P,ba,T,fa,na,J,ea,F,O,u,S,ca,ra,Fa,cb,db,qb,vb,wb,W,Oa,ab,lb,pb,C,Q,ta,Na,Ja,Qa,jb,ob,fb,hb,mb,kb,ub,tb,rb,Ab,Jb,Bb,Kb,Lb,Cb,Mb,Nb,Db,Eb,Ob,Pb,Fb,Qb,Gb,Rb;m.$include(p(y,"Enumerable"));a.defineProperty(m.$$prototype,"$$is_array",
!0);a.defs(m,"$[]",ka=function(t){var H=a.slice.call(arguments,0,arguments.length);H=this.$$name===a.Array?H:this.$allocate().$replace(H.$to_a());return H},ka.$$arity=-1);a.def(m,"$initialize",L=function(t,H){var N=L.$$p,Y=N||h;N&&(L.$$p=null);N&&(L.$$p=null);null==t&&(t=h);null==H&&(H=h);H!==h&&Y!==h&&this.$warn("warning: block supersedes default value argument");t>v(p(y,"Integer"),"MAX")&&this.$raise(p(y,"ArgumentError"),"array size too big");2<arguments.length&&this.$raise(p(y,"ArgumentError"),
"wrong number of arguments ("+arguments.length+" for 0..2)");if(0===arguments.length)return this.splice(0,this.length),this;if(1===arguments.length){if(t.$$is_array)return this.$replace(t.$to_a()),this;if(t["$respond_to?"]("to_ary"))return this.$replace(t.$to_ary()),this}t=E(t,p(y,"Integer"),"to_int");0>t&&this.$raise(p(y,"ArgumentError"),"negative array size");this.splice(0,this.length);if(Y===h)for(N=0;N<t;N++)this.push(H);else for(N=0,da;N<t;N++){var da=Y(N);this[N]=da}return this},L.$$arity=-1);
a.defs(m,"$try_convert",ia=function(t){return p(y,"Opal")["$coerce_to?"](t,p(y,"Array"),"to_ary")},ia.$$arity=1);a.def(m,"$&",ya=function(t){t=q(p(y,"Array")["$==="](t))?t.$to_a():E(t,p(y,"Array"),"to_ary").$to_a();var H=[],N=D([],{}),Y;var da=0;for(Y=t.length;da<Y;da++)e(N,t[da],!0);da=0;for(Y=this.length;da<Y;da++)t=this[da],void 0!==k(N,t)&&H.push(t);return H},ya.$$arity=1);a.def(m,"$|",Ka=function(t){t=q(p(y,"Array")["$==="](t))?t.$to_a():E(t,p(y,"Array"),"to_ary").$to_a();var H=D([],{}),N;var Y=
0;for(N=this.length;Y<N;Y++)e(H,this[Y],!0);Y=0;for(N=t.length;Y<N;Y++)e(H,t[Y],!0);return H.$keys()},Ka.$$arity=1);a.def(m,"$*",La=function(t){if(q(t["$respond_to?"]("to_str")))return this.$join(t.$to_str());t=E(t,p(y,"Integer"),"to_int");q(0>t)&&this.$raise(p(y,"ArgumentError"),"negative argument");for(var H=[],N=this.$to_a(),Y=0;Y<t;Y++)H=H.concat(N);return H},La.$$arity=1);a.def(m,"$+",Aa=function(t){t=q(p(y,"Array")["$==="](t))?t.$to_a():E(t,p(y,"Array"),"to_ary").$to_a();return this.concat(t)},
Aa.$$arity=1);a.def(m,"$-",Ma=function(t){t=q(p(y,"Array")["$==="](t))?t.$to_a():E(t,p(y,"Array"),"to_ary").$to_a();if(q(0===this.length))return[];if(q(0===t.length))return this.slice();var H=[],N=D([],{}),Y;var da=0;for(Y=t.length;da<Y;da++)e(N,t[da],!0);da=0;for(Y=this.length;da<Y;da++)t=this[da],void 0===x(N,t)&&H.push(t);return H},Ma.$$arity=1);a.def(m,"$<<",U=function(t){this.push(t);return this},U.$$arity=1);a.def(m,"$<=>",wa=function(t){if(q(p(y,"Array")["$==="](t)))t=t.$to_a();else if(q(t["$respond_to?"]("to_ary")))t=
t.$to_ary().$to_a();else return h;if(this.$hash()===t.$hash())return 0;for(var H=Math.min(this.length,t.length),N=0;N<H;N++){var Y=this[N]["$<=>"](t[N]);if(0!==Y)return Y}return this.length["$<=>"](t.length)},wa.$$arity=1);a.def(m,"$==",R=function(t){function H(Y,da){var sa;if(Y===da)return!0;if(!da.$$is_array)return c(da,"$to_ary")?da["$=="](Y):!1;Y.$$constructor!==Array&&(Y=Y.$to_a());da.$$constructor!==Array&&(da=da.$to_a());if(Y.length!==da.length)return!1;N[Y.$object_id()]=!0;var Ra=0;for(sa=
Y.length;Ra<sa;Ra++){var eb=Y[Ra];var bb=da[Ra];if(eb.$$is_array){if(bb.$$is_array&&bb.length!==eb.length||!N.hasOwnProperty(eb.$object_id())&&!H(eb,bb))return!1}else if(!eb["$=="](bb))return!1}return!0}var N={};return H(this,t)},R.$$arity=1);a.def(m,"$[]",oa=function(t,H){if(t.$$is_range)t=g(this,t);else a:{var N=this.length;t=E(t,a.Integer,"to_int");if(0>t&&(t+=N,0>t)){t=h;break a}void 0===H?t=t>=N||0>t?h:this[t]:(H=E(H,a.Integer,"to_int"),t=0>H||t>N||0>t?h:this.slice(t,t+H))}return t},oa.$$arity=
-2);a.def(m,"$[]=",za=function(t,H,N){var Y=h;var da=this.length;if(q(p(y,"Range")["$==="](t))){Y=q(p(y,"Array")["$==="](H))?H.$to_a():q(H["$respond_to?"]("to_ary"))?H.$to_ary().$to_a():[H];var sa=t.excl;N=E(t.begin,p(y,"Integer"),"to_int");var Ra=E(t.end,p(y,"Integer"),"to_int");0>N&&(N+=da,0>N&&this.$raise(p(y,"RangeError"),""+t.$inspect()+" out of range"));0>Ra&&(Ra+=da);sa||(Ra+=1);if(N>da)for(;da<N;da++)this[da]=h;0>Ra?this.splice.apply(this,[N,0].concat(Y)):this.splice.apply(this,[N,Ra-N].concat(Y))}else{q(void 0===
N)?Ra=1:(Ra=H,H=N,Y=q(p(y,"Array")["$==="](H))?H.$to_a():q(H["$respond_to?"]("to_ary"))?H.$to_ary().$to_a():[H]);t=E(t,p(y,"Integer"),"to_int");Ra=E(Ra,p(y,"Integer"),"to_int");0>t&&(sa=t,t+=da,0>t&&this.$raise(p(y,"IndexError"),"index "+sa+" too small for array; minimum "+-this.length));0>Ra&&this.$raise(p(y,"IndexError"),"negative length ("+Ra+")");if(t>da)for(;da<t;da++)this[da]=h;void 0===N?this[t]=H:this.splice.apply(this,[t,Ra].concat(Y))}return H},za.$$arity=-3);a.def(m,"$any?",la=function(t){var H=
la.$$p,N;H&&(la.$$p=null);var Y=0;var da=arguments.length;for(N=Array(da);Y<da;Y++)N[Y]=arguments[Y];H&&(la.$$p=null);return 0===this.length?!1:r(this,a.find_super_dispatcher(this,"any?",la,!1,!0),"any?",N,H)},la.$$arity=-1);a.def(m,"$assoc",M=function(t){for(var H=0,N=this.length,Y;H<N;H++)if(Y=this[H],Y.length&&Y[0]["$=="](t))return Y;return h},M.$$arity=1);a.def(m,"$at",K=function(t){t=E(t,p(y,"Integer"),"to_int");0>t&&(t+=this.length);return 0>t||t>=this.length?h:this[t]},K.$$arity=1);a.def(m,
"$bsearch_index",X=function(){var t=X.$$p,H=t||h;t&&(X.$$p=null);t&&(X.$$p=null);if(H===h)return this.$enum_for("bsearch_index");t=0;for(var N=this.length,Y,da,sa=!1,Ra=h;t<N;){Y=t+Math.floor((N-t)/2);da=this[Y];da=n(H,da);if(!0===da)Ra=Y,sa=!0;else if(!1===da||da===h)sa=!1;else if(da.$$is_number){if(0===da)return Y;sa=0>da}else this.$raise(p(y,"TypeError"),"wrong argument type "+da.$class()+" (must be numeric, true, false or nil)");sa?N=Y:t=Y+1}return Ra},X.$$arity=0);a.def(m,"$bsearch",xa=function(){var t=
xa.$$p,H=t||h;t&&(xa.$$p=null);t&&(xa.$$p=null);if(H===h)return this.$enum_for("bsearch");t=ja(this,"bsearch_index",[],H.$to_proc());return null!=t&&t.$$is_number?this[t]:t},xa.$$arity=0);a.def(m,"$cycle",aa=function(t){var H=aa.$$p,N=H||h,Y,da=h;H&&(aa.$$p=null);H&&(aa.$$p=null);null==t&&(t=h);if(N===h)return ja(this,"enum_for",["cycle",t],(Y=function(){var sa=null==Y.$$s?this:Y.$$s;if(q(t["$nil?"]()))return v(p(y,"Float"),"INFINITY");t=p(y,"Opal")["$coerce_to!"](t,p(y,"Integer"),"to_int");return q(w(t,
0))?(sa=sa.$enumerator_size(),"number"===typeof sa&&"number"===typeof t?sa*t:sa["$*"](t)):0},Y.$$s=this,Y.$$arity=0,Y));if(q(q(da=this["$empty?"]())?da:t["$=="](0)))return h;if(t===h)for(;;)for(H=0,da=this.length;H<da;H++)n(N,this[H]);else{t=p(y,"Opal")["$coerce_to!"](t,p(y,"Integer"),"to_int");if(0>=t)return this;for(;0<t;){H=0;for(da=this.length;H<da;H++)n(N,this[H]);t--}}return this},aa.$$arity=-1);a.def(m,"$clear",qa=function(){this.splice(0,this.length);return this},qa.$$arity=0);a.def(m,"$count",
Ea=function(t){var H=Ea.$$p,N=H||h,Y=h,da;H&&(Ea.$$p=null);var sa=0;var Ra=arguments.length;for(da=Array(Ra);sa<Ra;sa++)da[sa]=arguments[sa];H&&(Ea.$$p=null);null==t&&(t=h);return q(q(Y=t)?Y:N)?r(this,a.find_super_dispatcher(this,"count",Ea,!1,!0),"count",da,H):this.$size()},Ea.$$arity=-1);a.def(m,"$initialize_copy",Ia=function(t){return this.$replace(t)},Ia.$$arity=1);a.def(m,"$collect",Sa=function(){var t=Sa.$$p,H=t||h,N;t&&(Sa.$$p=null);t&&(Sa.$$p=null);if(H===h)return ja(this,"enum_for",["collect"],
(N=function(){return(null==N.$$s?this:N.$$s).$size()},N.$$s=this,N.$$arity=0,N));t=[];for(var Y=0,da=this.length;Y<da;Y++){var sa=n(H,this[Y]);t.push(sa)}return t},Sa.$$arity=0);a.def(m,"$collect!",Wa=function(){var t=Wa.$$p,H=t||h,N;t&&(Wa.$$p=null);t&&(Wa.$$p=null);if(H===h)return ja(this,"enum_for",["collect!"],(N=function(){return(null==N.$$s?this:N.$$s).$size()},N.$$s=this,N.$$arity=0,N));t=0;for(var Y=this.length;t<Y;t++){var da=n(H,this[t]);this[t]=da}return this},Wa.$$arity=0);a.def(m,"$combination",
ib=function(t){var H,N=ib.$$p,Y=N||h,da=h;N&&(ib.$$p=null);da=p(y,"Opal")["$coerce_to!"](t,p(y,"Integer"),"to_int");if(Y===h)return ja(this,"enum_for",["combination",da],(H=function(){return l((null==H.$$s?this:H.$$s).length,da)},H.$$s=this,H.$$arity=0,H));if(0===da)a.yield1(Y,[]);else if(1===da)for(N=0,t=this.length;N<t;N++)a.yield1(Y,[this[N]]);else if(da===this.length)a.yield1(Y,this.slice());else if(0<=da&&da<this.length){t=[];for(N=0;N<=da+1;N++)t.push(0);N=[];var sa=0;var Ra=!1;for(t[0]=-1;!Ra;){for(N[sa]=
this[t[sa+1]];sa<da-1;)sa++,Ra=t[sa+1]=t[sa]+1,N[sa]=this[Ra];a.yield1(Y,N.slice());sa++;do Ra=0===sa,t[sa]++,sa--;while(t[sa+1]+da===this.length+sa+1)}}return this},ib.$$arity=1);a.def(m,"$repeated_combination",gb=function(t){function H(Ra,eb,bb,nb){if(bb.length==Ra)Ra=bb.slice(),a.yield1(da,Ra);else for(;eb<nb.length;eb++)bb.push(nb[eb]),H(Ra,eb,bb,nb),bb.pop()}var N,Y=gb.$$p,da=Y||h,sa=h;Y&&(gb.$$p=null);sa=p(y,"Opal")["$coerce_to!"](t,p(y,"Integer"),"to_int");if(da===h)return ja(this,"enum_for",
["repeated_combination",sa],(N=function(){return l((null==N.$$s?this:N.$$s).length+sa-1,sa)},N.$$s=this,N.$$arity=0,N));0<=sa&&H(sa,0,[],this);return this},gb.$$arity=1);a.def(m,"$compact",Ta=function(){for(var t=[],H=0,N=this.length,Y;H<N;H++)(Y=this[H])!==h&&t.push(Y);return t},Ta.$$arity=0);a.def(m,"$compact!",V=function(){for(var t=this.length,H=0,N=this.length;H<N;H++)this[H]===h&&(this.splice(H,1),N--,H--);return this.length===t?h:this},V.$$arity=0);a.def(m,"$concat",Ca=function(t){var H,N;
var Y=a.slice.call(arguments,0,arguments.length);Y=ja(Y,"map",[],(H=function(da){var sa=null==H.$$s?this:H.$$s;null==da&&(da=h);da=q(p(y,"Array")["$==="](da))?da.$to_a():E(da,p(y,"Array"),"to_ary").$to_a();q(da["$equal?"](sa))&&(da=da.$dup());return da},H.$$s=this,H.$$arity=1,H));ja(Y,"each",[],(N=function(da){var sa=null==N.$$s?this:N.$$s;null==da&&(da=h);for(var Ra=0,eb=da.length;Ra<eb;Ra++)sa.push(da[Ra])},N.$$s=this,N.$$arity=1,N));return this},Ca.$$arity=-1);a.def(m,"$delete",Da=function(t){var H=
Da.$$p,N=H||h;H&&(Da.$$p=null);H=this.length;for(var Y=0,da=H;Y<da;Y++)this[Y]["$=="](t)&&(this.splice(Y,1),da--,Y--);return this.length===H?N!==h?a.yieldX(N,[]):h:t},Da.$$arity=1);a.def(m,"$delete_at",Xa=function(t){t=E(t,p(y,"Integer"),"to_int");0>t&&(t+=this.length);if(0>t||t>=this.length)return h;var H=this[t];this.splice(t,1);return H},Xa.$$arity=1);a.def(m,"$delete_if",$a=function(){var t=$a.$$p,H=t||h,N;t&&($a.$$p=null);t&&($a.$$p=null);if(H===h)return ja(this,"enum_for",["delete_if"],(N=function(){return(null==
N.$$s?this:N.$$s).$size()},N.$$s=this,N.$$arity=0,N));f(this,I,H);return this},$a.$$arity=0);a.def(m,"$difference",Ua=function(t){var H;var N=a.slice.call(arguments,0,arguments.length);return ja(N,"reduce",[this.$to_a().$dup()],(H=function(Y,da){null==Y&&(Y=h);null==da&&(da=h);return G(Y,da)},H.$$s=this,H.$$arity=2,H))},Ua.$$arity=-1);a.def(m,"$dig",Ya=function(t,H){var N=a.slice.call(arguments,1,arguments.length);var Y=this["$[]"](t);if(Y===h||0===N.length)return Y;q(Y["$respond_to?"]("dig"))||this.$raise(p(y,
"TypeError"),""+Y.$class()+" does not have #dig method");return ja(Y,"dig",a.to_a(N))},Ya.$$arity=-2);a.def(m,"$drop",Ba=function(t){0>t&&this.$raise(p(y,"ArgumentError"));return this.slice(t)},Ba.$$arity=1);a.def(m,"$dup",ua=function(){var t=ua.$$p,H;t&&(ua.$$p=null);var N=0;var Y=arguments.length;for(H=Array(Y);N<Y;N++)H[N]=arguments[N];return this.$$class===a.Array&&this.$$class.$allocate.$$pristine&&this.$copy_instance_variables.$$pristine&&this.$initialize_dup.$$pristine?this.slice(0):r(this,
a.find_super_dispatcher(this,"dup",ua,!1,!0),"dup",H,t)},ua.$$arity=0);a.def(m,"$each",pa=function(){var t=pa.$$p,H=t||h,N;t&&(pa.$$p=null);t&&(pa.$$p=null);if(H===h)return ja(this,"enum_for",["each"],(N=function(){return(null==N.$$s?this:N.$$s).$size()},N.$$s=this,N.$$arity=0,N));t=0;for(var Y=this.length;t<Y;t++)n(H,this[t]);return this},pa.$$arity=0);a.def(m,"$each_index",Ga=function(){var t=Ga.$$p,H=t||h,N;t&&(Ga.$$p=null);t&&(Ga.$$p=null);if(H===h)return ja(this,"enum_for",["each_index"],(N=
function(){return(null==N.$$s?this:N.$$s).$size()},N.$$s=this,N.$$arity=0,N));t=0;for(var Y=this.length;t<Y;t++)n(H,t);return this},Ga.$$arity=0);a.def(m,"$empty?",Pa=function(){return 0===this.length},Pa.$$arity=0);a.def(m,"$eql?",Va=function(t){function H(Y,da){var sa;if(!da.$$is_array)return!1;da=da.$to_a();if(Y.length!==da.length)return!1;N[Y.$object_id()]=!0;var Ra=0;for(sa=Y.length;Ra<sa;Ra++){var eb=Y[Ra];var bb=da[Ra];if(eb.$$is_array){if(bb.$$is_array&&bb.length!==eb.length||!N.hasOwnProperty(eb.$object_id())&&
!H(eb,bb))return!1}else if(!eb["$eql?"](bb))return!1}return!0}var N={};return H(this,t)},Va.$$arity=1);a.def(m,"$fetch",Ha=function(t,H){var N=Ha.$$p,Y=N||h;N&&(Ha.$$p=null);N&&(Ha.$$p=null);N=t;t=E(t,p(y,"Integer"),"to_int");0>t&&(t+=this.length);if(0<=t&&t<this.length)return this[t];Y!==h&&null!=H&&this.$warn("warning: block supersedes default value argument");if(Y!==h)return Y(N);if(null!=H)return H;0===this.length?this.$raise(p(y,"IndexError"),"index "+N+" outside of array bounds: 0...0"):this.$raise(p(y,
"IndexError"),"index "+N+" outside of array bounds: -"+this.length+"..."+this.length)},Ha.$$arity=-2);a.def(m,"$fill",Z=function(t){var H=Z.$$p,N=H||h,Y=h;H&&(Z.$$p=null);H&&(Z.$$p=null);H=a.slice.call(arguments,0,arguments.length);if(q(N)){q(2<H.length)&&this.$raise(p(y,"ArgumentError"),"wrong number of arguments ("+H.$length()+" for 0..2)");var da=H;var sa=a.to_ary(da);H=null==sa[0]?h:sa[0];sa=null==sa[1]?h:sa[1]}else q(0==H.length)?this.$raise(p(y,"ArgumentError"),"wrong number of arguments (0 for 1..3)"):
q(3<H.length)&&this.$raise(p(y,"ArgumentError"),"wrong number of arguments ("+H.$length()+" for 1..3)"),da=H,sa=a.to_ary(da),Y=null==sa[0]?h:sa[0],H=null==sa[1]?h:sa[1],sa=null==sa[2]?h:sa[2];da;if(q(p(y,"Range")["$==="](H))){if(q(sa)&&this.$raise(p(y,"TypeError"),"length invalid with range"),da=E(H.begin,p(y,"Integer"),"to_int"),q(0>da)&&(da+=this.length),q(0>da)&&this.$raise(p(y,"RangeError"),""+H.$inspect()+" out of range"),sa=E(H.end,p(y,"Integer"),"to_int"),q(0>sa)&&(sa+=this.length),q(H["$exclude_end?"]())||
(sa+=1),q(sa<=da))return this}else if(q(H))if(da=E(H,p(y,"Integer"),"to_int"),q(0>da)&&(da+=this.length),q(0>da)&&(da=0),q(sa)){sa=E(sa,p(y,"Integer"),"to_int");if(q(0==sa))return this;sa+=da}else sa=this.length;else da=0,sa=this.length;if(q(da>this.length))for(H=this.length;H<sa;H++)this[H]=h;q(sa>this.length)&&(this.length=sa);if(q(N))for(;da<sa;da++)Y=N(da),this[da]=Y;else for(;da<sa;da++)this[da]=Y;return this},Z.$$arity=-1);a.def(m,"$first",P=function(t){if(null==t)return 0===this.length?h:this[0];
t=E(t,p(y,"Integer"),"to_int");0>t&&this.$raise(p(y,"ArgumentError"),"negative array size");return this.slice(0,t)},P.$$arity=-1);a.def(m,"$flatten",ba=function(t){function H(Y,da){var sa=[],Ra;Y=Y.$to_a();var eb=0;for(Ra=Y.length;eb<Ra;eb++){var bb=Y[eb];if(c(bb,"$to_ary",!0)){var nb=bb.$to_ary();if(nb===h)sa.push(bb);else switch(nb.$$is_array||N.$raise(p(y,"TypeError")),nb===N&&N.$raise(p(y,"ArgumentError")),da){case void 0:sa=sa.concat(H(nb));break;case 0:sa.push(nb);break;default:sa.push.apply(sa,
H(nb,da-1))}}else sa.push(bb)}return sa}var N=this;void 0!==t&&(t=E(t,p(y,"Integer"),"to_int"));return H(N,t)},ba.$$arity=-1);a.def(m,"$flatten!",T=function(t){t=this.$flatten(t);if(this.length==t.length){for(var H=0,N=this.length;H<N&&this[H]===t[H];H++);if(H==N)return h}this.$replace(t);return this},T.$$arity=-1);a.def(m,"$hash",fa=function(){var t=void 0===d,H=["A"],N=this.$object_id(),Y,da;try{t&&(d=Object.create(null));if(d[N])return"self";for(da in d){var sa=d[da];if(this["$eql?"](sa))return"self"}d[N]=
this;for(Y=0;Y<this.length;Y++)sa=this[Y],H.push(sa.$hash());return H.join(",")}finally{t&&(d=void 0)}},fa.$$arity=0);a.def(m,"$include?",na=function(t){for(var H=0,N=this.length;H<N;H++)if(this[H]["$=="](t))return!0;return!1},na.$$arity=1);a.def(m,"$index",J=function(t){var H=J.$$p,N=H||h;H&&(J.$$p=null);H&&(J.$$p=null);var Y;null!=t&&N!==h&&this.$warn("warning: given block not used");if(null!=t)for(H=0,Y=this.length;H<Y;H++){if(this[H]["$=="](t))return H}else if(N!==h)for(H=0,Y=this.length;H<Y;H++){if(t=
N(this[H]),!1!==t&&t!==h)return H}else return this.$enum_for("index");return h},J.$$arity=-1);a.def(m,"$insert",ea=function(t,H){var N=a.slice.call(arguments,1,arguments.length);t=E(t,p(y,"Integer"),"to_int");if(0<N.length){0>t&&(t+=this.length+1,0>t&&this.$raise(p(y,"IndexError"),""+t+" is out of bounds"));if(t>this.length)for(var Y=this.length;Y<t;Y++)this.push(h);this.splice.apply(this,[t,0].concat(N))}return this},ea.$$arity=-2);a.def(m,"$inspect",F=function(){for(var t=[],H=this.$__id__(),N=
0,Y=this.length;N<Y;N++){var da=this["$[]"](N);da.$__id__()===H?t.push("[...]"):t.push(da.$inspect())}return"["+t.join(", ")+"]"},F.$$arity=0);a.def(m,"$intersection",O=function(t){var H;var N=a.slice.call(arguments,0,arguments.length);return ja(N,"reduce",[this.$to_a().$dup()],(H=function(Y,da){null==Y&&(Y=h);null==da&&(da=h);return Y["$&"](da)},H.$$s=this,H.$$arity=2,H))},O.$$arity=-1);a.def(m,"$join",u=function(t){null==va[","]&&(va[","]=h);null==t&&(t=h);if(q(0===this.length))return"";q(t===h)&&
(t=va[","]);var H=[],N;var Y=0;for(N=this.length;Y<N;Y++){var da=this[Y];if(c(da,"$to_str")){var sa=da.$to_str();if(sa!==h){H.push(sa.$to_s());continue}}if(c(da,"$to_ary")&&(sa=da.$to_ary(),sa===this&&this.$raise(p(y,"ArgumentError")),sa!==h)){H.push(sa.$join(t));continue}if(c(da,"$to_s")&&(sa=da.$to_s(),sa!==h)){H.push(sa);continue}this.$raise(p(y,"NoMethodError").$new(""+a.inspect(da)+" doesn't respond to #to_str, #to_ary or #to_s","to_str"))}return t===h?H.join(""):H.join(p(y,"Opal")["$coerce_to!"](t,
p(y,"String"),"to_str").$to_s())},u.$$arity=-1);a.def(m,"$keep_if",S=function(){var t=S.$$p,H=t||h,N;t&&(S.$$p=null);t&&(S.$$p=null);if(H===h)return ja(this,"enum_for",["keep_if"],(N=function(){return(null==N.$$s?this:N.$$s).$size()},N.$$s=this,N.$$arity=0,N));f(this,q,H);return this},S.$$arity=0);a.def(m,"$last",ca=function(t){if(null==t)return 0===this.length?h:this[this.length-1];t=E(t,p(y,"Integer"),"to_int");0>t&&this.$raise(p(y,"ArgumentError"),"negative array size");t>this.length&&(t=this.length);
return this.slice(this.length-t,this.length)},ca.$$arity=-1);a.def(m,"$length",ra=function(){return this.length},ra.$$arity=0);a.alias(m,"map","collect");a.alias(m,"map!","collect!");a.def(m,"$max",Fa=function(t){var H=Fa.$$p,N=H||h;H&&(Fa.$$p=null);H&&(Fa.$$p=null);return ja(this.$each(),"max",[t],N.$to_proc())},Fa.$$arity=-1);a.def(m,"$min",cb=function(){var t=cb.$$p,H=t||h;t&&(cb.$$p=null);t&&(cb.$$p=null);return ja(this.$each(),"min",[],H.$to_proc())},cb.$$arity=0);a.def(m,"$permutation",db=function(t){var H=
db.$$p,N=H||h,Y,da=this,sa=h,Ra=h;H&&(db.$$p=null);H&&(db.$$p=null);if(N===h)return ja(da,"enum_for",["permutation",t],(Y=function(){var nb=null==Y.$$s?this:Y.$$s,xb=nb.length;nb=void 0===t?nb.length:t;for(var yb=0<=nb?1:0;nb;)yb*=xb,xb--,nb--;return yb},Y.$$s=da,Y.$$arity=0,Y));var eb;t=void 0===t?da.length:E(t,p(y,"Integer"),"to_int");if(!(0>t||da.length<t))if(0===t)a.yield1(N,[]);else if(1===t)for(sa=0;sa<da.length;sa++)a.yield1(N,[da[sa]]);else{sa=p(y,"Array").$new(t);Ra=p(y,"Array").$new(da.length,
!1);var bb=function(nb,xb,yb,Hb,Sb){da=this;for(var zb=0;zb<da.length;zb++)if(Hb["$[]"](zb)["$!"]())if(xb[yb]=zb,yb<nb-1)Hb[zb]=!0,bb.call(da,nb,xb,yb+1,Hb,Sb),Hb[zb]=!1;else{eb=[];for(var Ib=0;Ib<xb.length;Ib++)eb.push(da[xb[Ib]]);n(Sb,eb)}};N!==h?(H=da.slice(),bb.call(H,t,sa,0,Ra,N)):bb.call(da,t,sa,0,Ra,N)}return da},db.$$arity=-1);a.def(m,"$repeated_permutation",qb=function(t){function H(Ra,eb,bb){if(eb.length==Ra)Ra=eb.slice(),a.yield1(da,Ra);else for(var nb=0;nb<bb.length;nb++)eb.push(bb[nb]),
H(Ra,eb,bb),eb.pop()}var N,Y=qb.$$p,da=Y||h,sa=h;Y&&(qb.$$p=null);sa=p(y,"Opal")["$coerce_to!"](t,p(y,"Integer"),"to_int");if(da===h)return ja(this,"enum_for",["repeated_permutation",sa],(N=function(){var Ra=null==N.$$s?this:N.$$s;return q("number"===typeof sa?0<=sa:sa["$>="](0))?Ra.$size()["$**"](sa):0},N.$$s=this,N.$$arity=0,N));H(sa,[],this.slice());return this},qb.$$arity=1);a.def(m,"$pop",vb=function(t){if(q(void 0===t))return q(0===this.length)?h:this.pop();t=E(t,p(y,"Integer"),"to_int");q(0>
t)&&this.$raise(p(y,"ArgumentError"),"negative array size");return q(0===this.length)?[]:q(1===t)?[this.pop()]:q(t>this.length)?this.splice(0,this.length):this.splice(this.length-t,this.length)},vb.$$arity=-1);a.def(m,"$product",wb=function(t){var H=wb.$$p,N=H||h;H&&(wb.$$p=null);H&&(wb.$$p=null);var Y=a.slice.call(arguments,0,arguments.length);H=N!==h?null:[];var da=Y.length+1,sa=Array(da),Ra=Array(da),eb=Array(da),bb;var nb=1;eb[0]=this;for(bb=1;bb<da;bb++)eb[bb]=E(Y[bb-1],p(y,"Array"),"to_ary");
for(bb=0;bb<da;bb++){Y=eb[bb].length;if(0===Y)return H||this;nb*=Y;2147483647<nb&&this.$raise(p(y,"RangeError"),"too big to product");Ra[bb]=Y;sa[bb]=0}a:for(;;){nb=[];for(bb=0;bb<da;bb++)nb.push(eb[bb][sa[bb]]);H?H.push(nb):a.yield1(N,nb);bb=da-1;for(sa[bb]++;sa[bb]===Ra[bb];){sa[bb]=0;if(0>--bb)break a;sa[bb]++}}return H||this},wb.$$arity=-1);a.def(m,"$push",W=function(t){var H=a.slice.call(arguments,0,arguments.length);for(var N=0,Y=H.length;N<Y;N++)this.push(H[N]);return this},W.$$arity=-1);a.alias(m,
"append","push");a.def(m,"$rassoc",Oa=function(t){for(var H=0,N=this.length,Y;H<N;H++)if(Y=this[H],Y.length&&void 0!==Y[1]&&Y[1]["$=="](t))return Y;return h},Oa.$$arity=1);a.def(m,"$reject",ab=function(){var t=ab.$$p,H=t||h,N;t&&(ab.$$p=null);t&&(ab.$$p=null);if(H===h)return ja(this,"enum_for",["reject"],(N=function(){return(null==N.$$s?this:N.$$s).$size()},N.$$s=this,N.$$arity=0,N));t=[];for(var Y=0,da=this.length,sa;Y<da;Y++)sa=H(this[Y]),!1!==sa&&sa!==h||t.push(this[Y]);return t},ab.$$arity=0);
a.def(m,"$reject!",lb=function(){var t=lb.$$p,H=t||h,N,Y=h;t&&(lb.$$p=null);t&&(lb.$$p=null);if(H===h)return ja(this,"enum_for",["reject!"],(N=function(){return(null==N.$$s?this:N.$$s).$size()},N.$$s=this,N.$$arity=0,N));Y=this.$length();ja(this,"delete_if",[],H.$to_proc());return this.$length()["$=="](Y)?h:this},lb.$$arity=0);a.def(m,"$replace",pb=function(t){t=q(p(y,"Array")["$==="](t))?t.$to_a():E(t,p(y,"Array"),"to_ary").$to_a();this.splice(0,this.length);this.push.apply(this,t);return this},
pb.$$arity=1);a.def(m,"$reverse",C=function(){return this.slice(0).reverse()},C.$$arity=0);a.def(m,"$reverse!",Q=function(){return this.reverse()},Q.$$arity=0);a.def(m,"$reverse_each",ta=function(){var t=ta.$$p,H=t||h,N;t&&(ta.$$p=null);t&&(ta.$$p=null);if(H===h)return ja(this,"enum_for",["reverse_each"],(N=function(){return(null==N.$$s?this:N.$$s).$size()},N.$$s=this,N.$$arity=0,N));ja(this.$reverse(),"each",[],H.$to_proc());return this},ta.$$arity=0);a.def(m,"$rindex",Na=function(t){var H=Na.$$p,
N=H||h;H&&(Na.$$p=null);H&&(Na.$$p=null);null!=t&&N!==h&&this.$warn("warning: given block not used");if(null!=t)for(H=this.length-1;0<=H&&!(H>=this.length);H--){if(this[H]["$=="](t))return H}else if(N!==h)for(H=this.length-1;0<=H&&!(H>=this.length);H--){if(t=N(this[H]),!1!==t&&t!==h)return H}else if(null==t)return this.$enum_for("rindex");return h},Na.$$arity=-1);a.def(m,"$rotate",Ja=function(t){null==t&&(t=1);t=E(t,p(y,"Integer"),"to_int");if(1===this.length)return this.slice();if(0===this.length)return[];
var H=this.slice();var N=t%H.length;t=H.slice(N);H=H.slice(0,N);return t.concat(H)},Ja.$$arity=-1);a.def(m,"$rotate!",Qa=function(t){null==t&&(t=1);if(0===this.length||1===this.length)return this;t=E(t,p(y,"Integer"),"to_int");t=this.$rotate(t);return this.$replace(t)},Qa.$$arity=-1);(function(t,$super,N){t=A(t,$super,"SampleRandom");var Y=[t].concat(N),da,sa;t.$$prototype.rng=h;a.def(t,"$initialize",da=function(Ra){return this.rng=Ra},da.$$arity=1);return(a.def(t,"$rand",sa=function(Ra){var eb=E(this.rng.$rand(Ra),
p(Y,"Integer"),"to_int");q(0>eb)&&this.$raise(p(Y,"RangeError"),"random value must be >= 0");q(eb<Ra)||this.$raise(p(Y,"RangeError"),"random value must be less than Array size");return eb},sa.$$arity=1),h)&&"rand"})(y[0],null,y);a.def(m,"$sample",jb=function(t,H){var N=h,Y=h,da=h;if(q(void 0===t))return this.$at(p(y,"Kernel").$rand(this.length));q(void 0===H)?q(H=p(y,"Opal")["$coerce_to?"](t,p(y,"Hash"),"to_hash"))?t=h:(H=h,t=E(t,p(y,"Integer"),"to_int")):(t=E(t,p(y,"Integer"),"to_int"),H=E(H,p(y,
"Hash"),"to_hash"));q(q(N=t)?0>t:N)&&this.$raise(p(y,"ArgumentError"),"count must be greater than 0");q(H)&&(Y=H["$[]"]("random"));Y=q(q(da=Y)?Y["$respond_to?"]("rand"):da)?p(y,"SampleRandom").$new(Y):p(y,"Kernel");if(!q(t))return this[Y.$rand(this.length)];t>this.length&&(t=this.length);switch(t){case 0:return[];case 1:return[this[Y.$rand(this.length)]];case 2:var sa=Y.$rand(this.length);var Ra=Y.$rand(this.length);sa===Ra&&(Ra=0===sa?sa+1:sa-1);return[this[sa],this[Ra]];default:if(3<this.length/
t){da=!1;H=0;N=p(y,"Array").$new(t);sa=1;for(N[0]=Y.$rand(this.length);sa<t;){var eb=Y.$rand(this.length);for(Ra=0;Ra<sa;){for(;eb===N[Ra];){H++;if(100<H){da=!0;break}eb=Y.$rand(this.length)}if(da)break;Ra++}if(da)break;N[sa]=eb;sa++}if(!da){for(sa=0;sa<t;)N[sa]=this[N[sa]],sa++;return N}}N=this.slice();for(sa=0;sa<t;sa++)da=Y.$rand(this.length),H=N[sa],N[sa]=N[da],N[da]=H;return t===this.length?N:N["$[]"](0,t)}},jb.$$arity=-1);a.def(m,"$select",ob=function(){var t=ob.$$p,H=t||h,N;t&&(ob.$$p=null);
t&&(ob.$$p=null);if(H===h)return ja(this,"enum_for",["select"],(N=function(){return(null==N.$$s?this:N.$$s).$size()},N.$$s=this,N.$$arity=0,N));t=[];for(var Y=0,da=this.length,sa,Ra;Y<da;Y++)sa=this[Y],Ra=n(H,sa),q(Ra)&&t.push(sa);return t},ob.$$arity=0);a.def(m,"$select!",fb=function(){var t=fb.$$p,H=t||h,N;t&&(fb.$$p=null);t&&(fb.$$p=null);if(H===h)return ja(this,"enum_for",["select!"],(N=function(){return(null==N.$$s?this:N.$$s).$size()},N.$$s=this,N.$$arity=0,N));t=this.length;ja(this,"keep_if",
[],H.$to_proc());return this.length===t?h:this},fb.$$arity=0);a.alias(m,"filter","select");a.alias(m,"filter!","select!");a.def(m,"$shift",hb=function(t){if(q(void 0===t)){if(q(0===this.length))return h;t=this[0];for(var H=1,N=this.length;H<N;H++)this[H-1]=this[H];this.pop();return t}t=E(t,p(y,"Integer"),"to_int");q(0>t)&&this.$raise(p(y,"ArgumentError"),"negative array size");return q(0===this.length)?[]:this.splice(0,t)},hb.$$arity=-1);a.alias(m,"size","length");a.def(m,"$shuffle",mb=function(t){return this.$dup().$to_a()["$shuffle!"](t)},
mb.$$arity=-1);a.def(m,"$shuffle!",kb=function(t){var H,N=this.length;void 0!==t&&(t=p(y,"Opal")["$coerce_to?"](t,p(y,"Hash"),"to_hash"),t!==h&&(t=t["$[]"]("random"),t!==h&&t["$respond_to?"]("rand")&&(H=t)));for(;N;){H?(t=H.$rand(N).$to_int(),0>t&&this.$raise(p(y,"RangeError"),"random number too small "+t),t>=N&&this.$raise(p(y,"RangeError"),"random number too big "+t)):t=this.$rand(N);var Y=this[--N];this[N]=this[t];this[t]=Y}return this},kb.$$arity=-1);a.alias(m,"slice","[]");a.def(m,"$slice!",
ub=function(t,H){if(q(void 0===H))if(q(p(y,"Range")["$==="](t))){var N=this["$[]"](t);H=E(t.begin,p(y,"Integer"),"to_int");var Y=E(t.end,p(y,"Integer"),"to_int");0>H&&(H+=this.length);0>Y?Y+=this.length:Y>=this.length&&(Y=this.length-1,t.excl&&(Y+=1));var da=Y-H;t.excl?--Y:da+=1;H<this.length&&0<=H&&Y<this.length&&0<=Y&&0<da&&this.splice(H,da)}else{t=E(t,p(y,"Integer"),"to_int");0>t&&(t+=this.length);if(0>t||t>=this.length)return h;N=this[t];0===t?this.shift():this.splice(t,1)}else{t=E(t,p(y,"Integer"),
"to_int");H=E(H,p(y,"Integer"),"to_int");if(0>H)return h;N=this["$[]"](t,H);0>t&&(t+=this.length);t+H>this.length&&(H=this.length-t);t<this.length&&0<=t&&this.splice(t,H)}return N},ub.$$arity=-2);a.def(m,"$sort",tb=function(){var t=tb.$$p,H=t||h,N=this;t&&(tb.$$p=null);t&&(tb.$$p=null);if(!q(1<N.length))return N;H===h&&(H=function(Y,da){return Y["$<=>"](da)});return N.slice().sort(function(Y,da){var sa=H(Y,da);sa===h&&N.$raise(p(y,"ArgumentError"),"comparison of "+Y.$inspect()+" with "+da.$inspect()+
" failed");return w(sa,0)?1:("number"===typeof sa?0>sa:sa["$<"](0))?-1:0})},tb.$$arity=0);a.def(m,"$sort!",rb=function(){var t=rb.$$p,H=t||h;t&&(rb.$$p=null);t&&(rb.$$p=null);t=H!==h?ja(this.slice(),"sort",[],H.$to_proc()):this.slice().$sort();H=this.length=0;for(var N=t.length;H<N;H++)this.push(t[H]);return this},rb.$$arity=0);a.def(m,"$sort_by!",Ab=function(){var t=Ab.$$p,H=t||h,N;t&&(Ab.$$p=null);t&&(Ab.$$p=null);return H===h?ja(this,"enum_for",["sort_by!"],(N=function(){return(null==N.$$s?this:
N.$$s).$size()},N.$$s=this,N.$$arity=0,N)):this.$replace(ja(this,"sort_by",[],H.$to_proc()))},Ab.$$arity=0);a.def(m,"$take",Jb=function(t){0>t&&this.$raise(p(y,"ArgumentError"));return this.slice(0,t)},Jb.$$arity=1);a.def(m,"$take_while",Bb=function(){var t=Bb.$$p,H=t||h;t&&(Bb.$$p=null);t&&(Bb.$$p=null);t=[];for(var N=0,Y=this.length,da,sa;N<Y;N++){da=this[N];sa=H(da);if(!1===sa||sa===h)break;t.push(da)}return t},Bb.$$arity=0);a.def(m,"$to_a",Kb=function(){return this.$$class===a.Array?this:a.Array.$new(this)},
Kb.$$arity=0);a.def(m,"$to_ary",Lb=function(){return this},Lb.$$arity=0);a.def(m,"$to_h",Cb=function(){var t=Cb.$$p,H=t||h;t&&(Cb.$$p=null);t&&(Cb.$$p=null);t=this;H!==h&&(t=ja(t,"map",[],H.$to_proc()));var N=t.length,Y=D([],{});for(H=0;H<N;H++){var da=p(y,"Opal")["$coerce_to?"](t[H],p(y,"Array"),"to_ary");da.$$is_array||this.$raise(p(y,"TypeError"),"wrong element type "+da.$class()+" at "+H+" (expected array)");2!==da.length&&this.$raise(p(y,"ArgumentError"),"wrong array length at "+H+" (expected 2, was "+
da.$length()+")");var sa=da[0];da=da[1];e(Y,sa,da)}return Y},Cb.$$arity=0);a.alias(m,"to_s","inspect");a.def(m,"$transpose",Mb=function(){var t,H=h,N=h;if(q(this["$empty?"]()))return[];H=[];N=h;ja(this,"each",[],(t=function(Y){var da=null==t.$$s?this:t.$$s,sa,Ra=h;null==Y&&(Y=h);Y=q(p(y,"Array")["$==="](Y))?Y.$to_a():E(Y,p(y,"Array"),"to_ary").$to_a();N=q(Ra=N)?Ra:Y.length;q(Y.length["$!="](N))&&da.$raise(p(y,"IndexError"),"element size differs ("+Y.length+" should be "+N+")");return ja(Y.length,
"times",[],(sa=function(eb){var bb;null==eb&&(eb=h);q(bb=H["$[]"](eb))||(bb=[eb,[]],ja(H,"[]=",a.to_a(bb)),bb=bb[G(bb.length,1)]);return bb["$<<"](Y.$at(eb))},sa.$$s=da,sa.$$arity=1,sa))},t.$$s=this,t.$$arity=1,t));return H},Mb.$$arity=0);a.def(m,"$union",Nb=function(t){var H;var N=a.slice.call(arguments,0,arguments.length);return ja(N,"reduce",[this.$uniq()],(H=function(Y,da){null==Y&&(Y=h);null==da&&(da=h);return Y["$|"](da)},H.$$s=this,H.$$arity=2,H))},Nb.$$arity=-1);a.def(m,"$uniq",Db=function(){var t=
Db.$$p,H=t||h;t&&(Db.$$p=null);t&&(Db.$$p=null);t=D([],{});var N;if(H===h){var Y=0;for(N=this.length;Y<N;Y++){var da=this[Y];void 0===x(t,da)&&e(t,da,da)}}else for(Y=0,N=this.length;Y<N;Y++){da=this[Y];var sa=n(H,da);void 0===x(t,sa)&&e(t,sa,da)}return t.$values()},Db.$$arity=0);a.def(m,"$uniq!",Eb=function(){var t=Eb.$$p,H=t||h;t&&(Eb.$$p=null);t&&(Eb.$$p=null);t=this.length;var N=D([],{}),Y;var da=0;for(Y=t;da<Y;da++){var sa=this[da];var Ra=H===h?sa:n(H,sa);void 0===x(N,Ra)?e(N,Ra,sa):(this.splice(da,
1),Y--,da--)}return this.length===t?h:this},Eb.$$arity=0);a.def(m,"$unshift",Ob=function(t){var H=a.slice.call(arguments,0,arguments.length);var N=this.length,Y=H.length;if(0==Y)return this;for(var da=N-Y,sa=0;sa<Y;sa++)this.push(this[da+sa]);for(--N;0<=N-Y;)this[N]=this[N-Y],N--;for(N=0;N<Y;N++)this[N]=H[N];return this},Ob.$$arity=-1);a.alias(m,"prepend","unshift");a.def(m,"$values_at",Pb=function(t){var H,N=h;var Y=a.slice.call(arguments,0,arguments.length);N=[];ja(Y,"each",[],(H=function(da){var sa=
null==H.$$s?this:H.$$s,Ra,eb=h,bb=h;eb=h;null==da&&(da=h);if(q(da["$is_a?"](p(y,"Range")))){eb=E(da.$last(),p(y,"Integer"),"to_int");bb=E(da.$first(),p(y,"Integer"),"to_int");if(0>bb)return bb+=sa.length,h;0>eb&&(eb+=sa.length);da["$exclude_end?"]()&&eb--;return eb<bb?h:ja(bb,"upto",[eb],(Ra=function(nb){var xb=null==Ra.$$s?this:Ra.$$s;null==nb&&(nb=h);return N["$<<"](xb.$at(nb))},Ra.$$s=sa,Ra.$$arity=1,Ra))}eb=E(da,p(y,"Integer"),"to_int");return N["$<<"](sa.$at(eb))},H.$$s=this,H.$$arity=1,H));
return N},Pb.$$arity=-1);a.def(m,"$zip",Fb=function(t){var H=Fb.$$p,N=H||h,Y=h;H&&(Fb.$$p=null);H&&(Fb.$$p=null);H=a.slice.call(arguments,0,arguments.length);var da=[],sa=this.length,Ra,eb;var bb=0;for(eb=H.length;bb<eb;bb++){var nb=H[bb];nb.$$is_array||(H[bb]=nb.$$is_range||nb.$$is_enumerator?nb.$take(sa):(q(Y=p(y,"Opal")["$coerce_to?"](nb,p(y,"Array"),"to_ary"))?Y:p(y,"Opal")["$coerce_to!"](nb,p(y,"Enumerator"),"to_enum","each")).$to_a())}for(Ra=0;Ra<sa;Ra++){Y=[this[Ra]];bb=0;for(eb=H.length;bb<
eb;bb++)nb=H[bb][Ra],null==nb&&(nb=h),Y[bb+1]=nb;da[Ra]=Y}if(N!==h){for(Ra=0;Ra<sa;Ra++)N(da[Ra]);return h}return da},Fb.$$arity=-1);a.defs(m,"$inherited",Qb=function(t){t.$$prototype.$to_a=function(){return this.slice(0,this.length)}},Qb.$$arity=1);a.def(m,"$instance_variables",Gb=function(){var t,H=Gb.$$p,N=h,Y=h,da=h;H&&(Gb.$$p=null);Y=0;da=arguments.length;for(N=Array(da);Y<da;Y++)N[Y]=arguments[Y];return ja(r(this,a.find_super_dispatcher(this,"instance_variables",Gb,!1,!0),"instance_variables",
N,H),"reject",[],(t=function(sa){var Ra;null==sa&&(sa=h);return q(Ra=/^@\d+$/.test(sa))?Ra:sa["$=="]("@length")},t.$$s=this,t.$$arity=1,t))},Gb.$$arity=0);p(y,"Opal").$pristine(m.$singleton_class(),"allocate");p(y,"Opal").$pristine(m,"copy_instance_variables","initialize_dup");return(a.def(m,"$pack",Rb=function(t){a.slice.call(arguments,0,arguments.length);return this.$raise("To use Array#pack, you must first require 'corelib/array/pack'.")},Rb.$$arity=-1),h)&&"pack"}(B[0],Array,B)};
Opal.modules["corelib/hash"]=function(a){function w(d,n){return"number"===typeof d&&"number"===typeof n?d>=n:d["$>="](n)}var G=a.top,z=[],B=a.nil,h=a.$$,v=a.klass,p=a.send,q=a.hash2,I=a.truthy;a.add_stubs("$require $include $coerce_to? $[] $merge! $allocate $raise $coerce_to! $each $fetch $>= $> $== $compare_by_identity $lambda? $abs $arity $enum_for $size $respond_to? $class $dig $except! $dup $delete $new $inspect $map $to_proc $flatten $eql? $default $default_proc $default_proc= $- $default= $to_h $proc".split(" "));
G.$require("corelib/enumerable");return function(d,$super,x){d=v(d,$super,"Hash");var e=[d].concat(x),k,E,c,A,D,r,ja,va,ha,ma,b,f,g,l,m,y,ka,L,ia,ya,Ka,La,Aa,Ma,U,wa,R,oa,za,la,M,K,X,xa,aa,qa,Ea,Ia,Sa,Wa,ib,gb,Ta,V,Ca,Da,Xa,$a,Ua,Ya,Ba,ua,pa,Ga,Pa,Va,Ha,Z,P,ba,T,fa,na,J;d.$include(h(e,"Enumerable"));d.$$prototype.$$is_hash=!0;a.defs(d,"$[]",k=function(F){var O=a.slice.call(arguments,0,arguments.length);var u=O.length,S;if(1===u){var ca=h(e,"Opal")["$coerce_to?"](O["$[]"](0),h(e,"Hash"),"to_hash");
if(ca!==B)return this.$allocate()["$merge!"](ca);O=h(e,"Opal")["$coerce_to?"](O["$[]"](0),h(e,"Array"),"to_ary");O===B&&this.$raise(h(e,"ArgumentError"),"odd number of arguments for Hash");u=O.length;ca=this.$allocate();for(S=0;S<u;S++)if(O[S].$$is_array)switch(O[S].length){case 1:ca.$store(O[S][0],B);break;case 2:ca.$store(O[S][0],O[S][1]);break;default:this.$raise(h(e,"ArgumentError"),"invalid number of elements ("+O[S].length+" for 1..2)")}return ca}0!==u%2&&this.$raise(h(e,"ArgumentError"),"odd number of arguments for Hash");
ca=this.$allocate();for(S=0;S<u;S+=2)ca.$store(O[S],O[S+1]);return ca},k.$$arity=-1);a.defs(d,"$allocate",E=function(){var F=new this.$$constructor;a.hash_init(F);F.$$none=B;F.$$proc=B;return F},E.$$arity=0);a.defs(d,"$try_convert",c=function(F){return h(e,"Opal")["$coerce_to?"](F,h(e,"Hash"),"to_hash")},c.$$arity=1);a.def(d,"$initialize",A=function(F){var O=A.$$p,u=O||B;O&&(A.$$p=null);O&&(A.$$p=null);void 0!==F&&u!==B&&this.$raise(h(e,"ArgumentError"),"wrong number of arguments (1 for 0)");this.$$none=
void 0===F?B:F;this.$$proc=u;return this},A.$$arity=-1);a.def(d,"$==",D=function(F){if(this===F)return!0;if(!F.$$is_hash||this.$$keys.length!==F.$$keys.length)return!1;for(var O=0,u=this.$$keys,S=u.length,ca,ra;O<S;O++)if(ca=u[O],ca.$$is_string?(ra=this.$$smap[ca],ca=F.$$smap[ca]):(ra=ca.value,ca=a.hash_get(F,ca.key)),void 0===ca||!ra["$eql?"](ca))return!1;return!0},D.$$arity=1);a.def(d,"$>=",r=function(F){var O,u=B;F=h(e,"Opal")["$coerce_to!"](F,h(e,"Hash"),"to_hash");if(this.$$keys.length<F.$$keys.length)return!1;
u=!0;p(F,"each",[],(O=function(S,ca){var ra=null==O.$$s?this:O.$$s;null==S&&(S=B);null==ca&&(ca=B);S=ra.$fetch(S,null);if(null==S||S!==ca)u=!1},O.$$s=this,O.$$arity=2,O));return u},r.$$arity=1);a.def(d,"$>",ja=function(F){F=h(e,"Opal")["$coerce_to!"](F,h(e,"Hash"),"to_hash");return this.$$keys.length<=F.$$keys.length?!1:w(this,F)},ja.$$arity=1);a.def(d,"$<",va=function(F){F=h(e,"Opal")["$coerce_to!"](F,h(e,"Hash"),"to_hash");return"number"===typeof F&&"number"===typeof this?F>this:F["$>"](this)},
va.$$arity=1);a.def(d,"$<=",ha=function(F){F=h(e,"Opal")["$coerce_to!"](F,h(e,"Hash"),"to_hash");return w(F,this)},ha.$$arity=1);a.def(d,"$[]",ma=function(F){var O=a.hash_get(this,F);return void 0!==O?O:this.$default(F)},ma.$$arity=1);a.def(d,"$[]=",b=function(F,O){a.hash_put(this,F,O);return O},b.$$arity=2);a.def(d,"$assoc",f=function(F){for(var O=0,u=this.$$keys,S=u.length,ca;O<S;O++)if(ca=u[O],ca.$$is_string){if(ca["$=="](F))return[ca,this.$$smap[ca]]}else if(ca.key["$=="](F))return[ca.key,ca.value];
return B},f.$$arity=1);a.def(d,"$clear",g=function(){a.hash_init(this);return this},g.$$arity=0);a.def(d,"$clone",l=function(){var F=new this.$$class;a.hash_init(F);a.hash_clone(this,F);return F},l.$$arity=0);a.def(d,"$compact",m=function(){for(var F=a.hash(),O=0,u=this.$$keys,S=u.length,ca,ra;O<S;O++)ca=u[O],ca.$$is_string?ra=this.$$smap[ca]:(ra=ca.value,ca=ca.key),ra!==B&&a.hash_put(F,ca,ra);return F},m.$$arity=0);a.def(d,"$compact!",y=function(){for(var F=!1,O=0,u=this.$$keys,S=u.length,ca,ra;O<
S;O++)ca=u[O],ca.$$is_string?ra=this.$$smap[ca]:(ra=ca.value,ca=ca.key),ra===B&&void 0!==a.hash_delete(this,ca)&&(F=!0,S--,O--);return F?this:B},y.$$arity=0);a.def(d,"$compare_by_identity",ka=function(){var F,O=this.$$keys;if(this.$$by_identity)return this;if(0===this.$$keys.length)return this.$$by_identity=!0,this;var u=q([],{}).$compare_by_identity();var S=0;for(F=O.length;S<F;S++){var ca=O[S];ca.$$is_string||(ca=ca.key);a.hash_put(u,ca,a.hash_get(this,ca))}this.$$by_identity=!0;this.$$map=u.$$map;
this.$$smap=u.$$smap;return this},ka.$$arity=0);a.def(d,"$compare_by_identity?",L=function(){return!0===this.$$by_identity},L.$$arity=0);a.def(d,"$default",ia=function(F){return void 0!==F&&this.$$proc!==B&&void 0!==this.$$proc?this.$$proc.$call(this,F):void 0===this.$$none?B:this.$$none},ia.$$arity=-1);a.def(d,"$default=",ya=function(F){this.$$proc=B;return this.$$none=F},ya.$$arity=1);a.def(d,"$default_proc",Ka=function(){return void 0!==this.$$proc?this.$$proc:B},Ka.$$arity=0);a.def(d,"$default_proc=",
La=function(F){var O=F;O!==B&&(O=h(e,"Opal")["$coerce_to!"](O,h(e,"Proc"),"to_proc"),O["$lambda?"]()&&2!==O.$arity().$abs()&&this.$raise(h(e,"TypeError"),"default_proc takes two arguments"));this.$$none=B;this.$$proc=O;return F},La.$$arity=1);a.def(d,"$delete",Aa=function(F){var O=Aa.$$p,u=O||B;O&&(Aa.$$p=null);O&&(Aa.$$p=null);O=a.hash_delete(this,F);return void 0!==O?O:u!==B?a.yield1(u,F):B},Aa.$$arity=1);a.def(d,"$delete_if",Ma=function(){var F=Ma.$$p,O=F||B,u;F&&(Ma.$$p=null);F&&(Ma.$$p=null);
if(!I(O))return p(this,"enum_for",["delete_if"],(u=function(){return(null==u.$$s?this:u.$$s).$size()},u.$$s=this,u.$$arity=0,u));F=0;for(var S=this.$$keys,ca=S.length,ra,Fa;F<ca;F++)ra=S[F],ra.$$is_string?Fa=this.$$smap[ra]:(Fa=ra.value,ra=ra.key),Fa=O(ra,Fa),!1!==Fa&&Fa!==B&&void 0!==a.hash_delete(this,ra)&&(ca--,F--);return this},Ma.$$arity=0);a.alias(d,"dup","clone");a.def(d,"$dig",U=function(F,O){var u=a.slice.call(arguments,1,arguments.length);var S=this["$[]"](F);if(S===B||0===u.length)return S;
I(S["$respond_to?"]("dig"))||this.$raise(h(e,"TypeError"),""+S.$class()+" does not have #dig method");return p(S,"dig",a.to_a(u))},U.$$arity=-2);a.def(d,"$each",wa=function(){var F=wa.$$p,O=F||B,u;F&&(wa.$$p=null);F&&(wa.$$p=null);if(!I(O))return p(this,"enum_for",["each"],(u=function(){return(null==u.$$s?this:u.$$s).$size()},u.$$s=this,u.$$arity=0,u));F=0;for(var S=this.$$keys,ca=S.length,ra,Fa;F<ca;F++)ra=S[F],ra.$$is_string?Fa=this.$$smap[ra]:(Fa=ra.value,ra=ra.key),a.yield1(O,[ra,Fa]);return this},
wa.$$arity=0);a.def(d,"$each_key",R=function(){var F=R.$$p,O=F||B,u;F&&(R.$$p=null);F&&(R.$$p=null);if(!I(O))return p(this,"enum_for",["each_key"],(u=function(){return(null==u.$$s?this:u.$$s).$size()},u.$$s=this,u.$$arity=0,u));F=0;for(var S=this.$$keys,ca=S.length,ra;F<ca;F++)ra=S[F],O(ra.$$is_string?ra:ra.key);return this},R.$$arity=0);a.alias(d,"each_pair","each");a.def(d,"$each_value",oa=function(){var F=oa.$$p,O=F||B,u;F&&(oa.$$p=null);F&&(oa.$$p=null);if(!I(O))return p(this,"enum_for",["each_value"],
(u=function(){return(null==u.$$s?this:u.$$s).$size()},u.$$s=this,u.$$arity=0,u));F=0;for(var S=this.$$keys,ca=S.length,ra;F<ca;F++)ra=S[F],O(ra.$$is_string?this.$$smap[ra]:ra.value);return this},oa.$$arity=0);a.def(d,"$empty?",za=function(){return 0===this.$$keys.length},za.$$arity=0);a.alias(d,"eql?","==");a.def(d,"$except",la=function(F){var O=a.slice.call(arguments,0,arguments.length);return p(this.$dup(),"except!",a.to_a(O))},la.$$arity=-1);a.def(d,"$except!",M=function(F){var O;var u=a.slice.call(arguments,
0,arguments.length);p(u,"each",[],(O=function(S){var ca=null==O.$$s?this:O.$$s;null==S&&(S=B);return ca.$delete(S)},O.$$s=this,O.$$arity=1,O));return this},M.$$arity=-1);a.def(d,"$fetch",K=function(F,O){var u=K.$$p,S=u||B;u&&(K.$$p=null);u&&(K.$$p=null);u=a.hash_get(this,F);return void 0!==u?u:S!==B?S(F):void 0!==O?O:this.$raise(h(e,"KeyError").$new("key not found: "+F.$inspect(),q(["key","receiver"],{key:F,receiver:this})))},K.$$arity=-2);a.def(d,"$fetch_values",X=function(F){var O=X.$$p,u=O||B,
S;O&&(X.$$p=null);O&&(X.$$p=null);O=a.slice.call(arguments,0,arguments.length);return p(O,"map",[],(S=function(ca){var ra=null==S.$$s?this:S.$$s;null==ca&&(ca=B);return p(ra,"fetch",[ca],u.$to_proc())},S.$$s=this,S.$$arity=1,S))},X.$$arity=-1);a.def(d,"$flatten",xa=function(F){null==F&&(F=1);F=h(e,"Opal")["$coerce_to!"](F,h(e,"Integer"),"to_int");for(var O=[],u=0,S=this.$$keys,ca=S.length,ra,Fa;u<ca;u++)ra=S[u],ra.$$is_string?Fa=this.$$smap[ra]:(Fa=ra.value,ra=ra.key),O.push(ra),Fa.$$is_array?1===
F?O.push(Fa):O=O.concat(Fa.$flatten(F-2)):O.push(Fa);return O},xa.$$arity=-1);a.def(d,"$has_key?",aa=function(F){return void 0!==a.hash_get(this,F)},aa.$$arity=1);a.def(d,"$has_value?",qa=function(F){for(var O=0,u=this.$$keys,S=u.length,ca;O<S;O++)if(ca=u[O],(ca.$$is_string?this.$$smap[ca]:ca.value)["$=="](F))return!0;return!1},qa.$$arity=1);a.def(d,"$hash",Ea=function(){var F=void 0===a.hash_ids,O=this.$object_id(),u=["Hash"];try{F&&(a.hash_ids=Object.create(null));if(a[O])return"self";for(Fa in a.hash_ids){var S=
a.hash_ids[Fa];if(this["$eql?"](S))return"self"}a.hash_ids[O]=this;O=0;for(var ca=this.$$keys,ra=ca.length;O<ra;O++){var Fa=ca[O];Fa.$$is_string?u.push([Fa,this.$$smap[Fa].$hash()]):u.push([Fa.key_hash,Fa.value.$hash()])}return u.sort().join()}finally{F&&(a.hash_ids=void 0)}},Ea.$$arity=0);a.alias(d,"include?","has_key?");a.def(d,"$index",Ia=function(F){for(var O=0,u=this.$$keys,S=u.length,ca,ra;O<S;O++)if(ca=u[O],ca.$$is_string?ra=this.$$smap[ca]:(ra=ca.value,ca=ca.key),ra["$=="](F))return ca;return B},
Ia.$$arity=1);a.def(d,"$indexes",Sa=function(F){var O=a.slice.call(arguments,0,arguments.length);for(var u=[],S=0,ca=O.length,ra;S<ca;S++)ra=O[S],ra=a.hash_get(this,ra),void 0===ra?u.push(this.$default()):u.push(ra);return u},Sa.$$arity=-1);a.alias(d,"indices","indexes");var ea;a.def(d,"$inspect",Wa=function(){var F=void 0===ea,O=this.$object_id(),u=[];try{F&&(ea={});if(ea.hasOwnProperty(O))return"{...}";ea[O]=!0;O=0;for(var S=this.$$keys,ca=S.length,ra,Fa;O<ca;O++)ra=S[O],ra.$$is_string?Fa=this.$$smap[ra]:
(Fa=ra.value,ra=ra.key),u.push(ra.$inspect()+"=>"+Fa.$inspect());return"{"+u.join(", ")+"}"}finally{F&&(ea=void 0)}},Wa.$$arity=0);a.def(d,"$invert",ib=function(){for(var F=a.hash(),O=0,u=this.$$keys,S=u.length,ca,ra;O<S;O++)ca=u[O],ca.$$is_string?ra=this.$$smap[ca]:(ra=ca.value,ca=ca.key),a.hash_put(F,ra,ca);return F},ib.$$arity=0);a.def(d,"$keep_if",gb=function(){var F=gb.$$p,O=F||B,u;F&&(gb.$$p=null);F&&(gb.$$p=null);if(!I(O))return p(this,"enum_for",["keep_if"],(u=function(){return(null==u.$$s?
this:u.$$s).$size()},u.$$s=this,u.$$arity=0,u));F=0;for(var S=this.$$keys,ca=S.length,ra,Fa;F<ca;F++)ra=S[F],ra.$$is_string?Fa=this.$$smap[ra]:(Fa=ra.value,ra=ra.key),Fa=O(ra,Fa),!1!==Fa&&Fa!==B||void 0===a.hash_delete(this,ra)||(ca--,F--);return this},gb.$$arity=0);a.alias(d,"key","index");a.alias(d,"key?","has_key?");a.def(d,"$keys",Ta=function(){for(var F=[],O=0,u=this.$$keys,S=u.length,ca;O<S;O++)ca=u[O],ca.$$is_string?F.push(ca):F.push(ca.key);return F},Ta.$$arity=0);a.def(d,"$length",V=function(){return this.$$keys.length},
V.$$arity=0);a.alias(d,"member?","has_key?");a.def(d,"$merge",Ca=function(F){var O=Ca.$$p,u=O||B;O&&(Ca.$$p=null);O&&(Ca.$$p=null);O=a.slice.call(arguments,0,arguments.length);return p(this.$dup(),"merge!",a.to_a(O),u.$to_proc())},Ca.$$arity=-1);a.def(d,"$merge!",Da=function(F){var O=Da.$$p,u=O||B;O&&(Da.$$p=null);O&&(Da.$$p=null);O=a.slice.call(arguments,0,arguments.length);var S,ca;for(S=0;S<O.length;++S){var ra=h(e,"Opal")["$coerce_to!"](O[S],h(e,"Hash"),"to_hash");var Fa=ra.$$keys;var cb=Fa.length;
if(u===B)for(ca=0;ca<cb;ca++){var db=Fa[ca];if(db.$$is_string)var qb=ra.$$smap[db];else qb=db.value,db=db.key;a.hash_put(this,db,qb)}else for(ca=0;ca<cb;ca++){db=Fa[ca];db.$$is_string?qb=ra.$$smap[db]:(qb=db.value,db=db.key);var vb=a.hash_get(this,db);void 0===vb?a.hash_put(this,db,qb):a.hash_put(this,db,u(db,vb,qb))}}return this},Da.$$arity=-1);a.def(d,"$rassoc",Xa=function(F){for(var O=0,u=this.$$keys,S=u.length,ca,ra;O<S;O++)if(ca=u[O],ca.$$is_string?ra=this.$$smap[ca]:(ra=ca.value,ca=ca.key),
ra["$=="](F))return[ca,ra];return B},Xa.$$arity=1);a.def(d,"$rehash",$a=function(){a.hash_rehash(this);return this},$a.$$arity=0);a.def(d,"$reject",Ua=function(){var F=Ua.$$p,O=F||B,u;F&&(Ua.$$p=null);F&&(Ua.$$p=null);if(!I(O))return p(this,"enum_for",["reject"],(u=function(){return(null==u.$$s?this:u.$$s).$size()},u.$$s=this,u.$$arity=0,u));F=a.hash();for(var S=0,ca=this.$$keys,ra=ca.length,Fa,cb,db;S<ra;S++)Fa=ca[S],Fa.$$is_string?cb=this.$$smap[Fa]:(cb=Fa.value,Fa=Fa.key),db=O(Fa,cb),!1!==db&&
db!==B||a.hash_put(F,Fa,cb);return F},Ua.$$arity=0);a.def(d,"$reject!",Ya=function(){var F=Ya.$$p,O=F||B,u;F&&(Ya.$$p=null);F&&(Ya.$$p=null);if(!I(O))return p(this,"enum_for",["reject!"],(u=function(){return(null==u.$$s?this:u.$$s).$size()},u.$$s=this,u.$$arity=0,u));F=!1;for(var S=0,ca=this.$$keys,ra=ca.length,Fa,cb;S<ra;S++)Fa=ca[S],Fa.$$is_string?cb=this.$$smap[Fa]:(cb=Fa.value,Fa=Fa.key),cb=O(Fa,cb),!1!==cb&&cb!==B&&void 0!==a.hash_delete(this,Fa)&&(F=!0,ra--,S--);return F?this:B},Ya.$$arity=
0);a.def(d,"$replace",Ba=function(F){F=h(e,"Opal")["$coerce_to!"](F,h(e,"Hash"),"to_hash");a.hash_init(this);var O=0;for(var u=F.$$keys,S=u.length,ca,ra;O<S;O++)ca=u[O],ca.$$is_string?ra=F.$$smap[ca]:(ra=ca.value,ca=ca.key),a.hash_put(this,ca,ra);I(F.$default_proc())?(O=[F.$default_proc()],p(this,"default_proc=",a.to_a(O))):(O=[F.$default()],p(this,"default=",a.to_a(O)));F=O;O=O.length;O="number"===typeof O?O-1:O["$-"](1);F[O];return this},Ba.$$arity=1);a.def(d,"$select",ua=function(){var F=ua.$$p,
O=F||B,u;F&&(ua.$$p=null);F&&(ua.$$p=null);if(!I(O))return p(this,"enum_for",["select"],(u=function(){return(null==u.$$s?this:u.$$s).$size()},u.$$s=this,u.$$arity=0,u));F=a.hash();for(var S=0,ca=this.$$keys,ra=ca.length,Fa,cb,db;S<ra;S++)Fa=ca[S],Fa.$$is_string?cb=this.$$smap[Fa]:(cb=Fa.value,Fa=Fa.key),db=O(Fa,cb),!1!==db&&db!==B&&a.hash_put(F,Fa,cb);return F},ua.$$arity=0);a.def(d,"$select!",pa=function(){var F=pa.$$p,O=F||B,u;F&&(pa.$$p=null);F&&(pa.$$p=null);if(!I(O))return p(this,"enum_for",
["select!"],(u=function(){return(null==u.$$s?this:u.$$s).$size()},u.$$s=this,u.$$arity=0,u));F=B;for(var S=0,ca=this.$$keys,ra=ca.length,Fa,cb;S<ra;S++)if(Fa=ca[S],Fa.$$is_string?cb=this.$$smap[Fa]:(cb=Fa.value,Fa=Fa.key),cb=O(Fa,cb),!1===cb||cb===B)void 0!==a.hash_delete(this,Fa)&&(ra--,S--),F=this;return F},pa.$$arity=0);a.alias(d,"filter","select");a.alias(d,"filter!","select!");a.def(d,"$shift",Ga=function(){var F=this.$$keys;return 0<F.length?(F=F[0],F=F.$$is_string?F:F.key,[F,a.hash_delete(this,
F)]):this.$default(B)},Ga.$$arity=0);a.alias(d,"size","length");a.def(d,"$slice",Pa=function(F){var O=a.slice.call(arguments,0,arguments.length);for(var u=a.hash(),S=0,ca=O.length;S<ca;S++){var ra=O[S],Fa=a.hash_get(this,ra);void 0!==Fa&&a.hash_put(u,ra,Fa)}return u},Pa.$$arity=-1);a.alias(d,"store","[]=");a.def(d,"$to_a",Va=function(){for(var F=[],O=0,u=this.$$keys,S=u.length,ca,ra;O<S;O++)ca=u[O],ca.$$is_string?ra=this.$$smap[ca]:(ra=ca.value,ca=ca.key),F.push([ca,ra]);return F},Va.$$arity=0);a.def(d,
"$to_h",Ha=function(){var F=Ha.$$p,O=F||B;F&&(Ha.$$p=null);F&&(Ha.$$p=null);if(O!==B)return p(this,"map",[],O.$to_proc()).$to_h();if(this.$$class===a.Hash)return this;F=new a.Hash;a.hash_init(F);a.hash_clone(this,F);return F},Ha.$$arity=0);a.def(d,"$to_hash",Z=function(){return this},Z.$$arity=0);a.def(d,"$to_proc",P=function(){var F;return p(this,"proc",[],(F=function(O){var u=null==F.$$s?this:F.$$s;null==O&&u.$raise(h(e,"ArgumentError"),"no key given");return u["$[]"](O)},F.$$s=this,F.$$arity=-1,
F))},P.$$arity=0);a.alias(d,"to_s","inspect");a.def(d,"$transform_keys",ba=function(){var F=ba.$$p,O=F||B,u;F&&(ba.$$p=null);F&&(ba.$$p=null);if(!I(O))return p(this,"enum_for",["transform_keys"],(u=function(){return(null==u.$$s?this:u.$$s).$size()},u.$$s=this,u.$$arity=0,u));F=a.hash();for(var S=0,ca=this.$$keys,ra=ca.length,Fa,cb;S<ra;S++)Fa=ca[S],Fa.$$is_string?cb=this.$$smap[Fa]:(cb=Fa.value,Fa=Fa.key),Fa=a.yield1(O,Fa),a.hash_put(F,Fa,cb);return F},ba.$$arity=0);a.def(d,"$transform_keys!",T=function(){var F=
T.$$p,O=F||B,u;F&&(T.$$p=null);F&&(T.$$p=null);if(!I(O))return p(this,"enum_for",["transform_keys!"],(u=function(){return(null==u.$$s?this:u.$$s).$size()},u.$$s=this,u.$$arity=0,u));F=a.slice.call(this.$$keys);var S,ca=F.length;for(S=0;S<ca;S++){var ra=F[S];if(ra.$$is_string)var Fa=this.$$smap[ra];else Fa=ra.value,ra=ra.key;var cb=a.yield1(O,ra);a.hash_delete(this,ra);a.hash_put(this,cb,Fa)}return this},T.$$arity=0);a.def(d,"$transform_values",fa=function(){var F=fa.$$p,O=F||B,u;F&&(fa.$$p=null);
F&&(fa.$$p=null);if(!I(O))return p(this,"enum_for",["transform_values"],(u=function(){return(null==u.$$s?this:u.$$s).$size()},u.$$s=this,u.$$arity=0,u));F=a.hash();for(var S=0,ca=this.$$keys,ra=ca.length,Fa,cb;S<ra;S++)Fa=ca[S],Fa.$$is_string?cb=this.$$smap[Fa]:(cb=Fa.value,Fa=Fa.key),cb=a.yield1(O,cb),a.hash_put(F,Fa,cb);return F},fa.$$arity=0);a.def(d,"$transform_values!",na=function(){var F=na.$$p,O=F||B,u;F&&(na.$$p=null);F&&(na.$$p=null);if(!I(O))return p(this,"enum_for",["transform_values!"],
(u=function(){return(null==u.$$s?this:u.$$s).$size()},u.$$s=this,u.$$arity=0,u));F=0;for(var S=this.$$keys,ca=S.length,ra,Fa;F<ca;F++)ra=S[F],ra.$$is_string?Fa=this.$$smap[ra]:(Fa=ra.value,ra=ra.key),Fa=a.yield1(O,Fa),a.hash_put(this,ra,Fa);return this},na.$$arity=0);a.alias(d,"update","merge!");a.alias(d,"value?","has_value?");a.alias(d,"values_at","indexes");return(a.def(d,"$values",J=function(){for(var F=[],O=0,u=this.$$keys,S=u.length,ca;O<S;O++)ca=u[O],ca.$$is_string?F.push(this.$$smap[ca]):
F.push(ca.value);return F},J.$$arity=0),B)&&"values"}(z[0],null,z)};
Opal.modules["corelib/number"]=function(a){function w(c,A){return"number"===typeof c&&"number"===typeof A?c>A:c["$>"](A)}function G(c,A){return"number"===typeof c&&"number"===typeof A?c<A:c["$<"](A)}function z(c,A){return"number"===typeof c&&"number"===typeof A?c+A:c["$+"](A)}function B(c,A){return"number"===typeof c&&"number"===typeof A?c-A:c["$-"](A)}function h(c,A){return"number"===typeof c&&"number"===typeof A?c/A:c["$/"](A)}function v(c,A){return"number"===typeof c&&"number"===typeof A?c*A:c["$*"](A)}
var p=a.top,q=[],I=a.nil,d=a.$$$,n=a.$$,x=a.klass,e=a.truthy,k=a.send2,E=a.send;a.add_stubs("$require $bridge $raise $name $class $Float $respond_to? $coerce_to! $__coerced__ $=== $! $> $** $new $< $to_f $== $nan? $infinite? $enum_for $+ $- $gcd $lcm $% $/ $frexp $to_i $ldexp $rationalize $* $<< $to_r $truncate $-@ $size $<= $>=".split(" "));p.$require("corelib/numeric");(function(c,$super,D){c=x(c,$super,"Number");var r=[c].concat(D),ja,va,ha,ma,b,f,g,l,m,y,ka,L,ia,ya,Ka,La,Aa,Ma,U,wa,R,oa,za,la,
M,K,X,xa,aa,qa,Ea,Ia,Sa,Wa,ib,gb,Ta,V,Ca,Da,Xa,$a,Ua,Ya,Ba,ua,pa,Ga,Pa,Va,Ha,Z,P,ba,T,fa,na,J,ea,F,O,u,S,ca,ra,Fa,cb,db,qb,vb,wb;n(r,"Opal").$bridge(Number,c);a.defineProperty(c.$$prototype,"$$is_number",!0);c.$$is_number_class=!0;(function(W,Oa){var ab=[W].concat(Oa),lb;a.def(W,"$allocate",lb=function(){return this.$raise(n(ab,"TypeError"),"allocator undefined for "+this.$name())},lb.$$arity=0);a.udef(W,"$new");return I})(a.get_singleton_class(c),r);a.def(c,"$coerce",ja=function(W){if(W!==I){if(W.$$is_string)return[this.$Float(W),
this];if(W["$respond_to?"]("to_f"))return[n(r,"Opal")["$coerce_to!"](W,n(r,"Float"),"to_f"),this];if(W.$$is_number)return[W,this]}this.$raise(n(r,"TypeError"),"can't convert "+W.$class()+" into Float")},ja.$$arity=1);a.def(c,"$__id__",va=function(){return 2*this+1},va.$$arity=0);a.alias(c,"object_id","__id__");a.def(c,"$+",ha=function(W){return W.$$is_number?this+W:this.$__coerced__("+",W)},ha.$$arity=1);a.def(c,"$-",ma=function(W){return W.$$is_number?this-W:this.$__coerced__("-",W)},ma.$$arity=
1);a.def(c,"$*",b=function(W){return W.$$is_number?this*W:this.$__coerced__("*",W)},b.$$arity=1);a.def(c,"$/",f=function(W){return W.$$is_number?this/W:this.$__coerced__("/",W)},f.$$arity=1);a.alias(c,"fdiv","/");a.def(c,"$%",g=function(W){if(W.$$is_number){if(-Infinity==W)return W;if(0==W)this.$raise(n(r,"ZeroDivisionError"),"divided by 0");else return 0>W||0>this?(this%W+W)%W:this%W}else return this.$__coerced__("%",W)},g.$$arity=1);a.def(c,"$&",l=function(W){return W.$$is_number?this&W:this.$__coerced__("&",
W)},l.$$arity=1);a.def(c,"$|",m=function(W){return W.$$is_number?this|W:this.$__coerced__("|",W)},m.$$arity=1);a.def(c,"$^",y=function(W){return W.$$is_number?this^W:this.$__coerced__("^",W)},y.$$arity=1);a.def(c,"$<",ka=function(W){return W.$$is_number?this<W:this.$__coerced__("<",W)},ka.$$arity=1);a.def(c,"$<=",L=function(W){return W.$$is_number?this<=W:this.$__coerced__("<=",W)},L.$$arity=1);a.def(c,"$>",ia=function(W){return W.$$is_number?this>W:this.$__coerced__(">",W)},ia.$$arity=1);a.def(c,
"$>=",ya=function(W){return W.$$is_number?this>=W:this.$__coerced__(">=",W)},ya.$$arity=1);a.def(c,"$<=>",Ka=function(W){try{return W.$$is_number?isNaN(this)||isNaN(W)?I:this>W?1:this<W?-1:0:this.$__coerced__("<=>",W)}catch(Oa){if(a.rescue(Oa,[n(r,"ArgumentError")]))try{return I}finally{a.pop_exception()}else throw Oa;}},Ka.$$arity=1);a.def(c,"$<<",La=function(W){W=n(r,"Opal")["$coerce_to!"](W,n(r,"Integer"),"to_int");return 0<W?this<<W:this>>-W},La.$$arity=1);a.def(c,"$>>",Aa=function(W){W=n(r,"Opal")["$coerce_to!"](W,
n(r,"Integer"),"to_int");return 0<W?this>>W:this<<-W},Aa.$$arity=1);a.def(c,"$[]",Ma=function(W){W=n(r,"Opal")["$coerce_to!"](W,n(r,"Integer"),"to_int");return 0>W?0:32<=W?0>this?1:0:this>>W&1},Ma.$$arity=1);a.def(c,"$+@",U=function(){return+this},U.$$arity=0);a.def(c,"$-@",wa=function(){return-this},wa.$$arity=0);a.def(c,"$~",R=function(){return~this},R.$$arity=0);a.def(c,"$**",oa=function(W){var Oa=I,ab=I,lb=I;return e(n(r,"Integer")["$==="](W))?e(e(Oa=n(r,"Integer")["$==="](this)["$!"]())?Oa:w(W,
0))?Math.pow(this,W):n(r,"Rational").$new(this,1)["$**"](W):e(e(ab=G(this,0))?e(lb=n(r,"Float")["$==="](W))?lb:n(r,"Rational")["$==="](W):ab)?n(r,"Complex").$new(this,0)["$**"](W.$to_f()):e(null!=W.$$is_number)?Math.pow(this,W):this.$__coerced__("**",W)},oa.$$arity=1);a.def(c,"$===",za=function(W){return W.$$is_number?this.valueOf()===W.valueOf():W["$respond_to?"]("==")?W["$=="](this):!1},za.$$arity=1);a.def(c,"$==",la=function(W){return W.$$is_number?this.valueOf()===W.valueOf():W["$respond_to?"]("==")?
W["$=="](this):!1},la.$$arity=1);a.def(c,"$abs",M=function(){return Math.abs(this)},M.$$arity=0);a.def(c,"$abs2",K=function(){return Math.abs(this*this)},K.$$arity=0);a.def(c,"$allbits?",X=function(W){W=n(r,"Opal")["$coerce_to!"](W,n(r,"Integer"),"to_int");return(this&W)==W},X.$$arity=1);a.def(c,"$anybits?",xa=function(W){W=n(r,"Opal")["$coerce_to!"](W,n(r,"Integer"),"to_int");return 0!==(this&W)},xa.$$arity=1);a.def(c,"$angle",aa=function(){return e(this["$nan?"]())?this:0==this?0<1/this?0:Math.PI:
0>this?Math.PI:0},aa.$$arity=0);a.alias(c,"arg","angle");a.alias(c,"phase","angle");a.def(c,"$bit_length",qa=function(){e(n(r,"Integer")["$==="](this))||this.$raise(n(r,"NoMethodError").$new("undefined method `bit_length` for "+this+":Float","bit_length"));if(0===this||-1===this)return 0;for(var W=0,Oa=0>this?~this:this;0!=Oa;)W+=1,Oa>>>=1;return W},qa.$$arity=0);a.def(c,"$ceil",Ea=function(W){null==W&&(W=0);var Oa=this.$to_f();if(0===Oa%1&&0<=W)return Oa;W=Math.pow(10,W);W=Math.ceil(Oa*W)/W;0===
Oa%1&&(W=Math.round(W));return W},Ea.$$arity=-1);a.def(c,"$chr",Ia=function(W){return a.enc(String.fromCharCode(this),W||"BINARY")},Ia.$$arity=-1);a.def(c,"$denominator",Sa=function(){var W=Sa.$$p,Oa=I,ab;W&&(Sa.$$p=null);var lb=0;var pb=arguments.length;for(ab=Array(pb);lb<pb;lb++)ab[lb]=arguments[lb];return e(e(Oa=this["$nan?"]())?Oa:this["$infinite?"]())?1:k(this,a.find_super_dispatcher(this,"denominator",Sa,!1,!0),"denominator",ab,W)},Sa.$$arity=0);a.def(c,"$downto",Wa=function(W){var Oa=Wa.$$p,
ab=Oa||I,lb;Oa&&(Wa.$$p=null);Oa&&(Wa.$$p=null);if(ab===I)return E(this,"enum_for",["downto",W],(lb=function(){var pb=null==lb.$$s?this:lb.$$s;e(n(r,"Numeric")["$==="](W))||pb.$raise(n(r,"ArgumentError"),"comparison of "+pb.$class()+" with "+W.$class()+" failed");return e(w(W,pb))?0:z(B(pb,W),1)},lb.$$s=this,lb.$$arity=0,lb));W.$$is_number||this.$raise(n(r,"ArgumentError"),"comparison of "+this.$class()+" with "+W.$class()+" failed");for(Oa=this;Oa>=W;Oa--)ab(Oa);return this},Wa.$$arity=1);a.alias(c,
"eql?","==");a.def(c,"$equal?",ib=function(W){var Oa;return e(Oa=this["$=="](W))?Oa:isNaN(this)&&isNaN(W)},ib.$$arity=1);a.def(c,"$even?",gb=function(){return 0===this%2},gb.$$arity=0);a.def(c,"$floor",Ta=function(W){null==W&&(W=0);var Oa=this.$to_f();if(0===Oa%1&&0<=W)return Oa;W=Math.pow(10,W);W=Math.floor(Oa*W)/W;0===Oa%1&&(W=Math.round(W));return W},Ta.$$arity=-1);a.def(c,"$gcd",V=function(W){e(n(r,"Integer")["$==="](W))||this.$raise(n(r,"TypeError"),"not an integer");var Oa=Math.abs(this);for(W=
Math.abs(W);0<Oa;){var ab=Oa;Oa=W%Oa;W=ab}return W},V.$$arity=1);a.def(c,"$gcdlcm",Ca=function(W){return[this.$gcd(W),this.$lcm(W)]},Ca.$$arity=1);a.def(c,"$integer?",Da=function(){return 0===this%1},Da.$$arity=0);a.def(c,"$is_a?",Xa=function(W){var Oa=Xa.$$p,ab=I,lb=I,pb=I,C;Oa&&(Xa.$$p=null);var Q=0;var ta=arguments.length;for(C=Array(ta);Q<ta;Q++)C[Q]=arguments[Q];return e(e(ab=W["$=="](n(r,"Integer")))?n(r,"Integer")["$==="](this):ab)||e(e(lb=W["$=="](n(r,"Integer")))?n(r,"Integer")["$==="](this):
lb)||e(e(pb=W["$=="](n(r,"Float")))?n(r,"Float")["$==="](this):pb)?!0:k(this,a.find_super_dispatcher(this,"is_a?",Xa,!1,!0),"is_a?",C,Oa)},Xa.$$arity=1);a.alias(c,"kind_of?","is_a?");a.def(c,"$instance_of?",$a=function(W){var Oa=$a.$$p,ab=I,lb=I,pb=I,C;Oa&&($a.$$p=null);var Q=0;var ta=arguments.length;for(C=Array(ta);Q<ta;Q++)C[Q]=arguments[Q];return e(e(ab=W["$=="](n(r,"Integer")))?n(r,"Integer")["$==="](this):ab)||e(e(lb=W["$=="](n(r,"Integer")))?n(r,"Integer")["$==="](this):lb)||e(e(pb=W["$=="](n(r,
"Float")))?n(r,"Float")["$==="](this):pb)?!0:k(this,a.find_super_dispatcher(this,"instance_of?",$a,!1,!0),"instance_of?",C,Oa)},$a.$$arity=1);a.def(c,"$lcm",Ua=function(W){e(n(r,"Integer")["$==="](W))||this.$raise(n(r,"TypeError"),"not an integer");return 0==this||0==W?0:Math.abs(this*W/this.$gcd(W))},Ua.$$arity=1);a.alias(c,"magnitude","abs");a.alias(c,"modulo","%");a.def(c,"$next",Ya=function(){return this+1},Ya.$$arity=0);a.def(c,"$nobits?",Ba=function(W){W=n(r,"Opal")["$coerce_to!"](W,n(r,"Integer"),
"to_int");return 0==(this&W)},Ba.$$arity=1);a.def(c,"$nonzero?",ua=function(){return 0==this?I:this},ua.$$arity=0);a.def(c,"$numerator",pa=function(){var W=pa.$$p,Oa=I,ab;W&&(pa.$$p=null);var lb=0;var pb=arguments.length;for(ab=Array(pb);lb<pb;lb++)ab[lb]=arguments[lb];return e(e(Oa=this["$nan?"]())?Oa:this["$infinite?"]())?this:k(this,a.find_super_dispatcher(this,"numerator",pa,!1,!0),"numerator",ab,W)},pa.$$arity=0);a.def(c,"$odd?",Ga=function(){return 0!==this%2},Ga.$$arity=0);a.def(c,"$ord",Pa=
function(){return this},Pa.$$arity=0);a.def(c,"$pow",Va=function(W,Oa){0==this&&this.$raise(n(r,"ZeroDivisionError"),"divided by 0");if(void 0===Oa)return this["$**"](W);n(r,"Integer")["$==="](W)||this.$raise(n(r,"TypeError"),"Integer#pow() 2nd argument not allowed unless a 1st argument is integer");0>W&&this.$raise(n(r,"TypeError"),"Integer#pow() 1st argument cannot be negative when 2nd argument specified");n(r,"Integer")["$==="](Oa)||this.$raise(n(r,"TypeError"),"Integer#pow() 2nd argument not allowed unless all arguments are integers");
0===Oa&&this.$raise(n(r,"ZeroDivisionError"),"divided by 0");return this["$**"](W)["$%"](Oa)},Va.$$arity=-2);a.def(c,"$pred",Ha=function(){return this-1},Ha.$$arity=0);a.def(c,"$quo",Z=function(W){var Oa=Z.$$p,ab;Oa&&(Z.$$p=null);var lb=0;var pb=arguments.length;for(ab=Array(pb);lb<pb;lb++)ab[lb]=arguments[lb];return e(n(r,"Integer")["$==="](this))?k(this,a.find_super_dispatcher(this,"quo",Z,!1,!0),"quo",ab,Oa):h(this,W)},Z.$$arity=1);a.def(c,"$rationalize",P=function(W){1<arguments.length&&this.$raise(n(r,
"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)");if(e(n(r,"Integer")["$==="](this)))return n(r,"Rational").$new(this,1);if(e(this["$infinite?"]()))return this.$raise(n(r,"FloatDomainError"),"Infinity");if(e(this["$nan?"]()))return this.$raise(n(r,"FloatDomainError"),"NaN");if(e(null==W)){var Oa=n(r,"Math").$frexp(this);var ab=a.to_ary(Oa);var lb=null==ab[0]?I:ab[0];ab=null==ab[1]?I:ab[1];Oa;lb=n(r,"Math").$ldexp(lb,d(n(r,"Float"),"MANT_DIG")).$to_i();ab=B(ab,d(n(r,"Float"),
"MANT_DIG"));return n(r,"Rational").$new(v(2,lb),1["$<<"](B(1,ab))).$rationalize(n(r,"Rational").$new(1,1["$<<"](B(1,ab))))}return this.$to_r().$rationalize(W)},P.$$arity=-1);a.def(c,"$remainder",ba=function(W){return B(this,v(W,h(this,W).$truncate()))},ba.$$arity=1);a.def(c,"$round",T=function(W){var Oa,ab,lb=ab=Oa=I;if(e(n(r,"Integer")["$==="](this))){if(e(null==W))return this;e(e(Oa=n(r,"Float")["$==="](W))?W["$infinite?"]():Oa)&&this.$raise(n(r,"RangeError"),"Infinity");W=n(r,"Opal")["$coerce_to!"](W,
n(r,"Integer"),"to_int");e(G(W,d(n(r,"Integer"),"MIN")))&&this.$raise(n(r,"RangeError"),"out of bounds");if(e(0<=W))return this;W=W["$-@"]();if(.415241*W-.125>this.$size())return 0;W=Math.pow(10,W);W*=Math.floor((Math.abs(this)+W/2)/W);return 0>this?-W:W}e(e(ab=this["$nan?"]())?null==W:ab)&&this.$raise(n(r,"FloatDomainError"),"NaN");W=n(r,"Opal")["$coerce_to!"](W||0,n(r,"Integer"),"to_int");if(e("number"===typeof W?0>=W:W["$<="](0)))e(this["$nan?"]())?this.$raise(n(r,"RangeError"),"NaN"):e(this["$infinite?"]())&&
this.$raise(n(r,"FloatDomainError"),"Infinity");else{if(W["$=="](0))return Math.round(this);if(e(e(lb=this["$nan?"]())?lb:this["$infinite?"]()))return this}ab=n(r,"Math").$frexp(this);Oa=a.to_ary(ab);Oa=null==Oa[1]?I:Oa[1];ab;ab=B(z(d(n(r,"Float"),"DIG"),2),e(w(Oa,0))?h(Oa,4):B(h(Oa,3),1));ab="number"===typeof W&&"number"===typeof ab?W>=ab:W["$>="](ab);return e(ab)?this:e(G(W,(e(w(Oa,0))?z(h(Oa,3),1):h(Oa,4))["$-@"]()))?0:Math.round(this*Math.pow(10,W))/Math.pow(10,W)},T.$$arity=-1);a.alias(c,"succ",
"next");a.def(c,"$times",fa=function(){var W=fa.$$p,Oa=W||I,ab;W&&(fa.$$p=null);W&&(fa.$$p=null);if(!e(Oa))return E(this,"enum_for",["times"],(ab=function(){return null==ab.$$s?this:ab.$$s},ab.$$s=this,ab.$$arity=0,ab));for(W=0;W<this;W++)Oa(W);return this},fa.$$arity=0);a.def(c,"$to_f",na=function(){return this},na.$$arity=0);a.def(c,"$to_i",J=function(){return 0>this?Math.ceil(this):Math.floor(this)},J.$$arity=0);a.alias(c,"to_int","to_i");a.def(c,"$to_r",ea=function(){if(e(n(r,"Integer")["$==="](this)))return n(r,
"Rational").$new(this,1);var W=n(r,"Math").$frexp(this);var Oa=a.to_ary(W);var ab=null==Oa[0]?I:Oa[0];Oa=null==Oa[1]?I:Oa[1];W;ab=n(r,"Math").$ldexp(ab,d(n(r,"Float"),"MANT_DIG")).$to_i();Oa=B(Oa,d(n(r,"Float"),"MANT_DIG"));return v(ab,d(n(r,"Float"),"RADIX")["$**"](Oa)).$to_r()},ea.$$arity=0);a.def(c,"$to_s",F=function(W){var Oa=I;null==W&&(W=10);W=n(r,"Opal")["$coerce_to!"](W,n(r,"Integer"),"to_int");e(e(Oa=G(W,2))?Oa:w(W,36))&&this.$raise(n(r,"ArgumentError"),"invalid radix "+W);return this.toString(W)},
F.$$arity=-1);a.def(c,"$truncate",O=function(W){null==W&&(W=0);var Oa=this.$to_f();if(0===Oa%1&&0<=W)return Oa;W=Math.pow(10,W);W=parseInt(Oa*W,10)/W;0===Oa%1&&(W=Math.round(W));return W},O.$$arity=-1);a.alias(c,"inspect","to_s");a.def(c,"$digits",u=function(W){null==W&&(W=10);G(this,0)&&this.$raise(d(n(r,"Math"),"DomainError"),"out of domain");W=n(r,"Opal")["$coerce_to!"](W,n(r,"Integer"),"to_int");e(G(W,2))&&this.$raise(n(r,"ArgumentError"),"invalid radix "+W);for(var Oa=this,ab=[];0!==Oa;)ab.push(Oa%
W),Oa=parseInt(Oa/W,10);return ab},u.$$arity=-1);a.def(c,"$divmod",S=function(W){var Oa=S.$$p,ab=I,lb;Oa&&(S.$$p=null);var pb=0;var C=arguments.length;for(lb=Array(C);pb<C;pb++)lb[pb]=arguments[pb];return e(e(ab=this["$nan?"]())?ab:W["$nan?"]())?this.$raise(n(r,"FloatDomainError"),"NaN"):e(this["$infinite?"]())?this.$raise(n(r,"FloatDomainError"),"Infinity"):k(this,a.find_super_dispatcher(this,"divmod",S,!1,!0),"divmod",lb,Oa)},S.$$arity=1);a.def(c,"$upto",ca=function(W){var Oa=ca.$$p,ab=Oa||I,lb;
Oa&&(ca.$$p=null);Oa&&(ca.$$p=null);if(ab===I)return E(this,"enum_for",["upto",W],(lb=function(){var pb=null==lb.$$s?this:lb.$$s;e(n(r,"Numeric")["$==="](W))||pb.$raise(n(r,"ArgumentError"),"comparison of "+pb.$class()+" with "+W.$class()+" failed");return e(G(W,pb))?0:z(B(W,pb),1)},lb.$$s=this,lb.$$arity=0,lb));W.$$is_number||this.$raise(n(r,"ArgumentError"),"comparison of "+this.$class()+" with "+W.$class()+" failed");for(Oa=this;Oa<=W;Oa++)ab(Oa);return this},ca.$$arity=1);a.def(c,"$zero?",ra=
function(){return 0==this},ra.$$arity=0);a.def(c,"$size",Fa=function(){return 4},Fa.$$arity=0);a.def(c,"$nan?",cb=function(){return isNaN(this)},cb.$$arity=0);a.def(c,"$finite?",db=function(){return Infinity!=this&&-Infinity!=this&&!isNaN(this)},db.$$arity=0);a.def(c,"$infinite?",qb=function(){return Infinity==this?1:-Infinity==this?-1:I},qb.$$arity=0);a.def(c,"$positive?",vb=function(){return 0!=this&&(Infinity==this||0<1/this)},vb.$$arity=0);return(a.def(c,"$negative?",wb=function(){return-Infinity==
this||0>1/this},wb.$$arity=0),I)&&"negative?"})(q[0],n(q,"Numeric"),q);a.const_set(q[0],"Fixnum",n(q,"Number"));(function(c,$super,D){c=x(c,$super,"Integer");D=[c].concat(D);c.$$is_number_class=!0;c.$$is_integer_class=!0;(function(r,ja){var va=[r].concat(ja),ha,ma;a.def(r,"$allocate",ha=function(){return this.$raise(n(va,"TypeError"),"allocator undefined for "+this.$name())},ha.$$arity=0);a.udef(r,"$new");return(a.def(r,"$sqrt",ma=function(b){b=n(va,"Opal")["$coerce_to!"](b,n(va,"Integer"),"to_int");
0>b&&this.$raise(d(n(va,"Math"),"DomainError"),'Numerical argument is out of domain - "isqrt"');return parseInt(Math.sqrt(b),10)},ma.$$arity=1),I)&&"sqrt"})(a.get_singleton_class(c),D);a.const_set(D[0],"MAX",Math.pow(2,30)-1);return a.const_set(D[0],"MIN",-Math.pow(2,30))})(q[0],n(q,"Numeric"),q);return function(c,$super,D){c=x(c,$super,"Float");D=[c].concat(D);c.$$is_number_class=!0;(function(r,ja){var va=[r].concat(ja),ha,ma;a.def(r,"$allocate",ha=function(){return this.$raise(n(va,"TypeError"),
"allocator undefined for "+this.$name())},ha.$$arity=0);a.udef(r,"$new");return(a.def(r,"$===",ma=function(b){return!!b.$$is_number},ma.$$arity=1),I)&&"==="})(a.get_singleton_class(c),D);a.const_set(D[0],"INFINITY",Infinity);a.const_set(D[0],"MAX",Number.MAX_VALUE);a.const_set(D[0],"MIN",Number.MIN_VALUE);a.const_set(D[0],"NAN",NaN);a.const_set(D[0],"DIG",15);a.const_set(D[0],"MANT_DIG",53);a.const_set(D[0],"RADIX",2);return a.const_set(D[0],"EPSILON",Number.EPSILON||2.220446049250313E-16)}(q[0],
n(q,"Numeric"),q)};
Opal.modules["corelib/range"]=function(a){function w(k,E){return"number"===typeof k&&"number"===typeof E?k<E:k["$<"](E)}function G(k,E){return"number"===typeof k&&"number"===typeof E?k<=E:k["$<="](E)}function z(k,E){return"number"===typeof k&&"number"===typeof E?k>E:k["$>"](E)}function B(k,E){return"number"===typeof k&&"number"===typeof E?k+E:k["$+"](E)}var h=a.top,v=[],p=a.nil,q=a.$$$,I=a.$$,d=a.klass,n=a.truthy,x=a.send2,e=a.send;a.add_stubs("$require $include $attr_reader $raise $<=> $nil? $include? $! $< $<= $enum_for $size $upto $to_proc $respond_to? $class $succ $== $=== $exclude_end? $eql? $begin $end $last $to_a $> $-@ $- $to_i $coerce_to! $ceil $/ $loop $+ $* $>= $each_with_index $% $bsearch $inspect $[] $hash".split(" "));h.$require("corelib/enumerable");
return function(k,$super,c){function A(U){return U.begin===p||U.end===p||-Infinity===U.begin||Infinity===U.end||Infinity===U.begin||-Infinity===U.end?!0:!1}k=d(k,$super,"Range");var D=[k].concat(c),r,ja,va,ha,ma,b,f,g,l,m,y,ka,L,ia,ya,Ka,La,Aa,Ma;k.$$prototype.begin=k.$$prototype.end=k.$$prototype.excl=p;k.$include(I(D,"Enumerable"));k.$$prototype.$$is_range=!0;k.$attr_reader("begin","end");a.def(k,"$initialize",r=function(U,wa,R){var oa=p,za=p;null==R&&(R=!1);n(this.begin)&&this.$raise(I(D,"NameError"),
"'initialize' called twice");n(n(oa=n(za=U["$<=>"](wa))?za:U["$nil?"]())?oa:wa["$nil?"]())||this.$raise(I(D,"ArgumentError"),"bad value for range");this.begin=U;this.end=wa;return this.excl=R},r.$$arity=-3);a.def(k,"$===",ja=function(U){return this["$include?"](U)},ja.$$arity=1);a.def(k,"$count",va=function(){var U=va.$$p,wa=U||p,R=p,oa;U&&(va.$$p=null);var za=0;var la=arguments.length;for(oa=Array(la);za<la;za++)oa[za]=arguments[za];U&&(va.$$p=null);return n(n(R=(wa!==p)["$!"]())?A(this):R)?q(I(D,
"Float"),"INFINITY"):x(this,a.find_super_dispatcher(this,"count",va,!1,!0),"count",oa,U)},va.$$arity=0);a.def(k,"$to_a",ha=function(){var U=ha.$$p,wa;U&&(ha.$$p=null);var R=0;var oa=arguments.length;for(wa=Array(oa);R<oa;R++)wa[R]=arguments[R];n(A(this))&&this.$raise(I(D,"TypeError"),"cannot convert endless range to an array");return x(this,a.find_super_dispatcher(this,"to_a",ha,!1,!0),"to_a",wa,U)},ha.$$arity=0);a.def(k,"$cover?",ma=function(U){var wa=p,R=p,oa=p,za=p,la=p,M=p,K=p,X=p,xa=p,aa=p;var qa=
n(wa=n(R=n(oa=this.begin["$nil?"]())?-1:oa)?R:this.begin["$<=>"](U))?wa:!1;U=n(za=n(la=n(M=this.end["$nil?"]())?-1:M)?la:U["$<=>"](this.end))?za:!1;return n(K=n(X=n(this.excl)?n(xa=U)?w(U,0):xa:n(aa=U)?G(U,0):aa)?qa:X)?G(qa,0):K},ma.$$arity=1);a.def(k,"$each",b=function(){var U=b.$$p,wa=U||p,R,oa=p,za=p,la=p,M=p;U&&(b.$$p=null);U&&(b.$$p=null);if(wa===p)return e(this,"enum_for",["each"],(R=function(){return(null==R.$$s?this:R.$$s).$size()},R.$$s=this,R.$$arity=0,R));if(this.begin.$$is_number&&this.end.$$is_number){0===
this.begin%1&&0===this.end%1||this.$raise(I(D,"TypeError"),"can't iterate from Float");U=this.begin;for(oa=this.end+(n(this.excl)?0:1);U<oa;U++)wa(U);return this}if(this.begin.$$is_string&&this.end.$$is_string)return e(this.begin,"upto",[this.end,this.excl],wa.$to_proc()),this;oa=this.begin;za=this.end;for(n(oa["$respond_to?"]("succ"))||this.$raise(I(D,"TypeError"),"can't iterate from "+oa.$class());n(n(la=this.end["$nil?"]())?la:w(oa["$<=>"](za),0));)a.yield1(wa,oa),oa=oa.$succ();n(n(M=this.excl["$!"]())?
oa["$=="](za):M)&&a.yield1(wa,oa);return this},b.$$arity=0);a.def(k,"$eql?",f=function(U){var wa=p,R=p;return n(I(D,"Range")["$==="](U))?n(wa=n(R=this.excl["$==="](U["$exclude_end?"]()))?this.begin["$eql?"](U.$begin()):R)?this.end["$eql?"](U.$end()):wa:!1},f.$$arity=1);a.alias(k,"==","eql?");a.def(k,"$exclude_end?",g=function(){return this.excl},g.$$arity=0);a.def(k,"$first",l=function(U){var wa=l.$$p,R;wa&&(l.$$p=null);var oa=0;var za=arguments.length;for(R=Array(za);oa<za;oa++)R[oa]=arguments[oa];
n(this.begin["$nil?"]())&&this.$raise(I(D,"RangeError"),"cannot get the minimum of beginless range");return n(null==U)?this.begin:x(this,a.find_super_dispatcher(this,"first",l,!1,!0),"first",R,wa)},l.$$arity=-1);a.alias(k,"include?","cover?");a.def(k,"$last",m=function(U){n(this.end["$nil?"]())&&this.$raise(I(D,"RangeError"),"cannot get the maximum of endless range");return n(null==U)?this.end:this.$to_a().$last(U)},m.$$arity=-1);a.def(k,"$max",y=function(){var U=y.$$p,wa=U||p,R=p,oa=p,za=p,la;U&&
(y.$$p=null);var M=0;var K=arguments.length;for(la=Array(K);M<K;M++)la[M]=arguments[M];return n(this.end["$nil?"]())?this.$raise(I(D,"RangeError"),"cannot get the maximum of endless range"):wa!==p?x(this,a.find_super_dispatcher(this,"max",y,!1,!0),"max",la,U):n(n(R=this.begin["$nil?"]()["$!"]())?n(oa=z(this.begin,this.end))?oa:n(za=this.excl)?this.begin["$=="](this.end):za:R)?p:this.excl?this.end-1:this.end},y.$$arity=0);a.alias(k,"member?","cover?");a.def(k,"$min",ka=function(){var U=ka.$$p,wa=U||
p,R=p,oa=p,za=p,la;U&&(ka.$$p=null);var M=0;var K=arguments.length;for(la=Array(K);M<K;M++)la[M]=arguments[M];return n(this.begin["$nil?"]())?this.$raise(I(D,"RangeError"),"cannot get the minimum of beginless range"):wa!==p?x(this,a.find_super_dispatcher(this,"min",ka,!1,!0),"min",la,U):n(n(R=this.end["$nil?"]()["$!"]())?n(oa=z(this.begin,this.end))?oa:n(za=this.excl)?this.begin["$=="](this.end):za:R)?p:this.begin},ka.$$arity=0);a.def(k,"$size",L=function(){var U=p,wa=p,R=p,oa=p;var za=q(I(D,"Float"),
"INFINITY");if(n(n(U=n(wa=this.begin["$=="](za))?this.end["$nil?"]()["$!"]():wa)?U:n(R=this.end["$=="](za["$-@"]()))?this.begin["$nil?"]()["$!"]():R))return 0;if(n(A(this)))return za;if(!n(n(oa=I(D,"Numeric")["$==="](this.begin))?I(D,"Numeric")["$==="](this.end):oa))return p;za=this.begin;U=this.end;n(this.excl)&&(U="number"===typeof U?U-1:U["$-"](1));return n(w(U,za))?0:(Math.abs(U-za)+1).$to_i()},L.$$arity=0);a.def(k,"$step",ia=function(U){function wa(){U.$$is_number||(U=I(D,"Opal")["$coerce_to!"](U,
I(D,"Integer"),"to_int"));0>U?X.$raise(I(D,"ArgumentError"),"step can't be negative"):0===U&&X.$raise(I(D,"ArgumentError"),"step can't be 0")}function R(){if(!X.begin["$respond_to?"]("succ")||X.begin.$$is_string&&X.end.$$is_string)return p;if(0===U%1){var aa=X.$size();return("number"===typeof aa&&"number"===typeof U?aa/U:aa["$/"](U)).$ceil()}aa=X.begin;var qa=X.end,Ea=Math.abs,Ia=Math.floor;Ea=(Ea(aa)+Ea(qa)+Ea(qa-aa))/Ea(U)*q(I(D,"Float"),"EPSILON");.5<Ea&&(Ea=.5);X.excl?(Ia=Ia((qa-aa)/U-Ea),Ia*
U+aa<qa&&Ia++):Ia=Ia((qa-aa)/U+Ea)+1;return Ia}var oa,za,la,M=ia.$$p,K=M||p,X=this,xa=p;M&&(ia.$$p=null);null==U&&(U=1);if(K===p)return e(X,"enum_for",["step",U],(oa=function(){wa();return R()},oa.$$s=X,oa.$$arity=0,oa));wa();n(X.begin.$$is_number&&X.end.$$is_number)?(xa=0,function(){var aa=a.new_brk();try{return e(X,"loop",[],(za=function(){var qa=null==za.$$s?this:za.$$s;null==qa.begin&&(qa.begin=p);null==qa.excl&&(qa.excl=p);null==qa.end&&(qa.end=p);var Ea=B(qa.begin,"number"===typeof xa&&"number"===
typeof U?xa*U:xa["$*"](U));n(qa.excl)?(qa=qa.end,qa="number"===typeof Ea&&"number"===typeof qa?Ea>=qa:Ea["$>="](qa),n(qa)&&a.brk(p,aa)):n(z(Ea,qa.end))&&a.brk(p,aa);a.yield1(K,Ea);return xa=B(xa,1)},za.$$s=X,za.$$brk=aa,za.$$arity=0,za))}catch(qa){if(qa===aa)return qa.$v;throw qa;}}()):(X.begin.$$is_string&&X.end.$$is_string&&0!==U%1&&X.$raise(I(D,"TypeError"),"no implicit conversion to float from string"),e(X,"each_with_index",[],(la=function(aa,qa){null==aa&&(aa=p);null==qa&&(qa=p);return qa["$%"](U)["$=="](0)?
a.yield1(K,aa):p},la.$$s=X,la.$$arity=2,la)));return X},ia.$$arity=-1);a.def(k,"$bsearch",ya=function(){var U=ya.$$p,wa=U||p;U&&(ya.$$p=null);U&&(ya.$$p=null);if(wa===p)return this.$enum_for("bsearch");n(A(this)&&(this.begin.$$is_number||this.end.$$is_number))&&this.$raise(I(D,"NotImplementedError"),"Can't #bsearch an infinite range");n(this.begin.$$is_number&&this.end.$$is_number)||this.$raise(I(D,"TypeError"),"can't do binary search for "+this.begin.$class());return e(this.$to_a(),"bsearch",[],
wa.$to_proc())},ya.$$arity=0);a.def(k,"$to_s",Ka=function(){var U=p,wa=p;return""+(n(U=this.begin)?U:"")+(n(this.excl)?"...":"..")+(n(wa=this.end)?wa:"")},Ka.$$arity=0);a.def(k,"$inspect",La=function(){var U=p,wa=p;return""+(n(U=this.begin)?this.begin.$inspect():U)+(n(this.excl)?"...":"..")+(n(wa=this.end)?this.end.$inspect():wa)},La.$$arity=0);a.def(k,"$marshal_load",Aa=function(U){this.begin=U["$[]"]("begin");this.end=U["$[]"]("end");return this.excl=U["$[]"]("excl")},Aa.$$arity=1);return(a.def(k,
"$hash",Ma=function(){return[this.begin,this.end,this.excl].$hash()},Ma.$$arity=0),p)&&"hash"}(v[0],null,v)};
Opal.modules["corelib/proc"]=function(a){var w=[],G=a.nil,z=a.$$,B=a.slice,h=a.klass,v=a.truthy,p=a.send;a.add_stubs(["$raise","$proc","$call","$to_proc","$coerce_to!"]);return function(q,$super,d){q=h(q,$super,"Proc");var n=[q].concat(d),x,e,k,E,c,A,D,r,ja,va,ha,ma;a.defineProperty(q.$$prototype,"$$is_proc",!0);a.defineProperty(q.$$prototype,"$$is_lambda",!1);a.defs(q,"$new",x=function(){var b=x.$$p,f=b||G;b&&(x.$$p=null);b&&(x.$$p=null);v(f)||this.$raise(z(n,"ArgumentError"),"tried to create a Proc object without a block");
return f},x.$$arity=0);a.def(q,"$call",e=function(b){var f=e.$$p,g=f||G;f&&(e.$$p=null);f&&(e.$$p=null);f=a.slice.call(arguments,0,arguments.length);g!==G&&(this.$$p=g);if(g=this.$$brk)try{var l=this.$$is_lambda?this.apply(null,f):a.yieldX(this,f)}catch(m){if(m===g)return g.$v;throw m;}else l=this.$$is_lambda?this.apply(null,f):a.yieldX(this,f);return l},e.$$arity=-1);a.alias(q,"[]","call");a.alias(q,"===","call");a.alias(q,"yield","call");a.def(q,"$>>",k=function(b){var f;k.$$p&&(k.$$p=null);return p(this,
"proc",[],(f=function(g){var l=null==f.$$s?this:f.$$s,m=f.$$p,y=m||G;m&&(f.$$p=null);m=a.slice.call(arguments,0,arguments.length);l=p(l,"call",a.to_a(m),y.$to_proc());return b.$call(l)},f.$$s=this,f.$$arity=-1,f))},k.$$arity=1);a.def(q,"$<<",E=function(b){var f;E.$$p&&(E.$$p=null);return p(this,"proc",[],(f=function(g){var l=null==f.$$s?this:f.$$s,m=f.$$p,y=m||G;m&&(f.$$p=null);m=a.slice.call(arguments,0,arguments.length);y=p(b,"call",a.to_a(m),y.$to_proc());return l.$call(y)},f.$$s=this,f.$$arity=
-1,f))},E.$$arity=1);a.def(q,"$to_proc",c=function(){return this},c.$$arity=0);a.def(q,"$lambda?",A=function(){return!!this.$$is_lambda},A.$$arity=0);a.def(q,"$arity",D=function(){return this.$$is_curried?-1:this.$$arity},D.$$arity=0);a.def(q,"$source_location",r=function(){return G},r.$$arity=0);a.def(q,"$binding",ja=function(){this.$$is_curried&&this.$raise(z(n,"ArgumentError"),"Can't create Binding");return G},ja.$$arity=0);a.def(q,"$parameters",va=function(){if(this.$$is_curried)return[["rest"]];
if(this.$$parameters){if(this.$$is_lambda)return this.$$parameters;var b=[],f;var g=0;for(f=this.$$parameters.length;g<f;g++){var l=this.$$parameters[g];"req"===l[0]&&(l=["opt",l[1]]);b.push(l)}return b}return[]},va.$$arity=0);a.def(q,"$curry",ha=function(b){function f(){var l=B.call(arguments),m=l.length;m>b&&g.$$is_lambda&&!g.$$is_curried&&g.$raise(z(n,"ArgumentError"),"wrong number of arguments ("+m+" for "+b+")");if(m>=b)return g.$call.apply(g,l);m=function(){return f.apply(null,l.concat(B.call(arguments)))};
m.$$is_lambda=g.$$is_lambda;m.$$is_curried=!0;return m}var g=this;void 0===b?b=g.length:(b=z(n,"Opal")["$coerce_to!"](b,z(n,"Integer"),"to_int"),g.$$is_lambda&&b!==g.length&&g.$raise(z(n,"ArgumentError"),"wrong number of arguments ("+b+" for "+g.length+")"));f.$$is_lambda=g.$$is_lambda;f.$$is_curried=!0;return f},ha.$$arity=-1);a.def(q,"$dup",ma=function(){function b(){return f.apply(this,arguments)}var f=this.$$original_proc||this,g;for(g in this)this.hasOwnProperty(g)&&(b[g]=this[g]);return b},
ma.$$arity=0);return a.alias(q,"clone","dup")}(w[0],Function,w)};
Opal.modules["corelib/method"]=function(a){var w=[],G=a.nil,z=a.$$,B=a.klass,h=a.truthy;a.add_stubs("$attr_reader $arity $>> $<< $new $class $join $source_location $raise".split(" "));(function(v,$super,q){v=B(v,$super,"Method");var I=[v].concat(q),d,n,x,e,k,E,c,A,D,r,ja;v.$$prototype.method=v.$$prototype.receiver=v.$$prototype.owner=v.$$prototype.name=G;v.$attr_reader("owner","receiver","name");a.def(v,"$initialize",d=function(va,ha,ma,b){this.receiver=va;this.owner=ha;this.name=b;return this.method=
ma},d.$$arity=4);a.def(v,"$arity",n=function(){return this.method.$arity()},n.$$arity=0);a.def(v,"$parameters",x=function(){return this.method.$$parameters},x.$$arity=0);a.def(v,"$source_location",e=function(){var va;return h(va=this.method.$$source_location)?va:["(eval)",0]},e.$$arity=0);a.def(v,"$comments",k=function(){var va;return h(va=this.method.$$comments)?va:[]},k.$$arity=0);a.def(v,"$call",E=function(va){var ha=E.$$p,ma=ha||G;ha&&(E.$$p=null);ha&&(E.$$p=null);ha=a.slice.call(arguments,0,
arguments.length);this.method.$$p=ma;return this.method.apply(this.receiver,ha)},E.$$arity=-1);a.alias(v,"[]","call");a.def(v,"$>>",c=function(va){return this.method["$>>"](va)},c.$$arity=1);a.def(v,"$<<",A=function(va){return this.method["$<<"](va)},A.$$arity=1);a.def(v,"$unbind",D=function(){return z(I,"UnboundMethod").$new(this.receiver.$class(),this.owner,this.method,this.name)},D.$$arity=0);a.def(v,"$to_proc",r=function(){var va=this.$call.bind(this);va.$$unbound=this.method;va.$$is_lambda=!0;
va.$$arity=this.method.$$arity;va.$$parameters=this.method.$$parameters;return va},r.$$arity=0);return(a.def(v,"$inspect",ja=function(){return"#<"+this.$class()+": "+this.receiver.$class()+"#"+this.name+" (defined in "+this.owner+" in "+this.$source_location().$join(":")+")>"},ja.$$arity=0),G)&&"inspect"})(w[0],null,w);return function(v,$super,q){v=B(v,$super,"UnboundMethod");var I=[v].concat(q),d,n,x,e,k,E,c;v.$$prototype.method=v.$$prototype.owner=v.$$prototype.name=v.$$prototype.source=G;v.$attr_reader("source",
"owner","name");a.def(v,"$initialize",d=function(A,D,r,ja){this.source=A;this.owner=D;this.method=r;return this.name=ja},d.$$arity=4);a.def(v,"$arity",n=function(){return this.method.$arity()},n.$$arity=0);a.def(v,"$parameters",x=function(){return this.method.$$parameters},x.$$arity=0);a.def(v,"$source_location",e=function(){var A;return h(A=this.method.$$source_location)?A:["(eval)",0]},e.$$arity=0);a.def(v,"$comments",k=function(){var A;return h(A=this.method.$$comments)?A:[]},k.$$arity=0);a.def(v,
"$bind",E=function(A){if(this.owner.$$is_module||a.is_a(A,this.owner))return z(I,"Method").$new(A,this.owner,this.method,this.name);this.$raise(z(I,"TypeError"),"can't bind singleton method to a different class (expected "+A+".kind_of?("+this.owner+" to be true)")},E.$$arity=1);return(a.def(v,"$inspect",c=function(){return"#<"+this.$class()+": "+this.source+"#"+this.name+" (defined in "+this.owner+" in "+this.$source_location().$join(":")+")>"},c.$$arity=0),G)&&"inspect"}(w[0],null,w)};
Opal.modules["corelib/variables"]=function(a){var w=[],G=a.nil,z=a.$$,B=a.gvars,h=a.hash2;a.add_stubs(["$new"]);B["&"]=B["~"]=B["`"]=B["'"]=G;B.LOADED_FEATURES=B['"']=a.loaded_features;B.LOAD_PATH=B[":"]=[];B["/"]="\n";B[","]=G;a.const_set(w[0],"ARGV",[]);a.const_set(w[0],"ARGF",z(w,"Object").$new());a.const_set(w[0],"ENV",h([],{}));B.VERBOSE=!1;B.DEBUG=!1;return B.SAFE=0};
Opal.modules["corelib/io"]=function(a){function w(x,e){return"number"===typeof x&&"number"===typeof e?x-e:x["$-"](e)}var G=[],z=a.nil,B=a.$$$,h=a.$$,v=a.klass,p=a.module,q=a.gvars,I=a.send,d=z;a.add_stubs("$attr_accessor $size $write $String $chomp $getbyte $getc $raise $new $write_proc= $- $extend".split(" "));(function(x,$super,k){x=v(x,$super,"IO");k=[x].concat(k);var E,c,A,D;x.$$prototype.tty=x.$$prototype.closed=z;a.const_set(k[0],"SEEK_SET",0);a.const_set(k[0],"SEEK_CUR",1);a.const_set(k[0],
"SEEK_END",2);a.def(x,"$tty?",E=function(){return this.tty},E.$$arity=0);a.def(x,"$closed?",c=function(){return this.closed},c.$$arity=0);x.$attr_accessor("write_proc");a.def(x,"$write",A=function(r){this.write_proc(r);return r.$size()},A.$$arity=1);x.$attr_accessor("sync","tty");a.def(x,"$flush",D=function(){return z},D.$$arity=0);(function(r,ja){r=p(r,"Writable");[r].concat(ja);var va,ha,ma;a.def(r,"$<<",va=function(b){this.$write(b);return this},va.$$arity=1);a.def(r,"$print",ha=function(b){null==
q[","]&&(q[","]=z);var f=a.slice.call(arguments,0,arguments.length);for(var g=0,l=f.length;g<l;g++)f[g]=this.$String(f[g]);this.$write(f.join(q[","]));return z},ha.$$arity=-1);return(a.def(r,"$puts",ma=function(b){null==q["/"]&&(q["/"]=z);var f=a.slice.call(arguments,0,arguments.length);for(var g=0,l=f.length;g<l;g++)f[g]=this.$String(f[g]).$chomp();this.$write(f.concat([z]).join(q["/"]));return z},ma.$$arity=-1),z)&&"puts"})(k[0],k);return function(r,ja){r=p(r,"Readable");var va=[r].concat(ja),ha,
ma,b,f;a.def(r,"$readbyte",ha=function(){return this.$getbyte()},ha.$$arity=0);a.def(r,"$readchar",ma=function(){return this.$getc()},ma.$$arity=0);a.def(r,"$readline",b=function(){null==q["/"]&&(q["/"]=z);return this.$raise(h(va,"NotImplementedError"))},b.$$arity=-1);return(a.def(r,"$readpartial",f=function(){return this.$raise(h(va,"NotImplementedError"))},f.$$arity=-2),z)&&"readpartial"}(k[0],k)})(G[0],null,G);a.const_set(G[0],"STDERR",q.stderr=h(G,"IO").$new());a.const_set(G[0],"STDIN",q.stdin=
h(G,"IO").$new());a.const_set(G[0],"STDOUT",q.stdout=h(G,"IO").$new());var n=a.global.console;d=["object"===typeof process&&"object"===typeof process.stdout?function(x){process.stdout.write(x)}:function(x){n.log(x)}];I(h(G,"STDOUT"),"write_proc=",a.to_a(d));d[w(d.length,1)];d=["object"===typeof process&&"object"===typeof process.stderr?function(x){process.stderr.write(x)}:function(x){n.warn(x)}];I(h(G,"STDERR"),"write_proc=",a.to_a(d));d[w(d.length,1)];h(G,"STDOUT").$extend(B(h(G,"IO"),"Writable"));
return h(G,"STDERR").$extend(B(h(G,"IO"),"Writable"))};
Opal.modules["opal/regexp_anchors"]=function(a){var w=[],G=a.$$,z=a.module;a.add_stubs(["$new"]);w=[z(w[0],"Opal")].concat(w);a.const_set(w[0],"REGEXP_START","^");a.const_set(w[0],"REGEXP_END","$");a.const_set(w[0],"FORBIDDEN_STARTING_IDENTIFIER_CHARS","\\u0001-\\u002F\\u003A-\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F");a.const_set(w[0],"FORBIDDEN_ENDING_IDENTIFIER_CHARS","\\u0001-\\u0020\\u0022-\\u002F\\u003A-\\u003E\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F");a.const_set(w[0],"INLINE_IDENTIFIER_REGEXP",
G(w,"Regexp").$new("[^"+G(w,"FORBIDDEN_STARTING_IDENTIFIER_CHARS")+"]*[^"+G(w,"FORBIDDEN_ENDING_IDENTIFIER_CHARS")+"]"));a.const_set(w[0],"FORBIDDEN_CONST_NAME_CHARS","\\u0001-\\u0020\\u0021-\\u002F\\u003B-\\u003F\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F");return a.const_set(w[0],"CONST_NAME_REGEXP",G(w,"Regexp").$new(""+G(w,"REGEXP_START")+"(::)?[A-Z][^"+G(w,"FORBIDDEN_CONST_NAME_CHARS")+"]*"+G(w,"REGEXP_END")))};
Opal.modules["opal/mini"]=function(a){var w=a.top;a.add_stubs(["$require"]);w.$require("opal/base");w.$require("corelib/nil");w.$require("corelib/boolean");w.$require("corelib/string");w.$require("corelib/comparable");w.$require("corelib/enumerable");w.$require("corelib/enumerator");w.$require("corelib/array");w.$require("corelib/hash");w.$require("corelib/number");w.$require("corelib/range");w.$require("corelib/proc");w.$require("corelib/method");w.$require("corelib/regexp");w.$require("corelib/variables");
w.$require("corelib/io");return w.$require("opal/regexp_anchors")};
Opal.modules["corelib/kernel/format"]=function(a){var w=[],G=a.nil,z=a.$$,B=a.coerce_to,h=a.module,v=a.truthy,p=a.gvars;a.add_stubs("$== $length $respond_to? $[] $coerce_to? $nil? $to_a $raise $to_int $fetch $Integer $Float $to_ary $to_str $inspect $to_s".split(" "));return function(q,I){q=h(q,"Kernel");var d=[q].concat(I),n;a.def(q,"$format",n=function(x,e){function k(){ia&32&&ha.$raise(z(d,"ArgumentError"),"flag after width");ia&128&&ha.$raise(z(d,"ArgumentError"),"flag after precision")}function E(){ia&
32&&ha.$raise(z(d,"ArgumentError"),"width given twice");ia&128&&ha.$raise(z(d,"ArgumentError"),"width after precision")}function c(za){za>=f.length&&ha.$raise(z(d,"ArgumentError"),"too few arguments");return f[za]}function A(){switch(ka){case -1:ha.$raise(z(d,"ArgumentError"),"unnumbered("+y+") mixed with numbered");case -2:ha.$raise(z(d,"ArgumentError"),"unnumbered("+y+") mixed with named")}ka=y++;return c(ka-1)}function D(za){0<ka&&ha.$raise(z(d,"ArgumentError"),"numbered("+za+") after unnumbered("+
ka+")");-2===ka&&ha.$raise(z(d,"ArgumentError"),"numbered("+za+") after named");1>za&&ha.$raise(z(d,"ArgumentError"),"invalid index - "+za+"$");ka=-1;return c(za-1)}function r(){return void 0===Ka?A():Ka}function ja(za){var la;for(la="";;g++){g===l&&ha.$raise(z(d,"ArgumentError"),"malformed format string - %*[0-9]");if(48>x.charCodeAt(g)||57<x.charCodeAt(g))return g--,la=parseInt(la,10)||0,2147483647<la&&ha.$raise(z(d,"ArgumentError"),""+za+" too big"),la;la+=x.charAt(g)}}function va(za){za=ja(za);
"$"===x.charAt(g+1)?(g++,za=D(za)):za=A();return za.$to_int()}var ha=this,ma=G,b=G;null==p.DEBUG&&(p.DEBUG=G);var f=a.slice.call(arguments,1,arguments.length);v(v(ma=f.$length()["$=="](1))?f["$[]"](0)["$respond_to?"]("to_ary"):ma)&&(b=z(d,"Opal")["$coerce_to?"](f["$[]"](0),z(d,"Array"),"to_ary"),v(b["$nil?"]())||(f=b.$to_a()));ma="";b=0;var g,l=x.length,m,y=1,ka=0;for(g=x.indexOf("%");-1!==g;g=x.indexOf("%",g)){var L=void 0;var ia=0;var ya=m=-1;var Ka=void 0;var La=g;g++;switch(x.charAt(g)){case "%":b=
g;case "":case "\n":case "\x00":g++;continue}a:for(;g<l;g++)switch(x.charAt(g)){case " ":k();ia|=16;continue a;case "#":k();ia|=1;continue a;case "+":k();ia|=4;continue a;case "-":k();ia|=2;continue a;case "0":k();ia|=8;continue a;case "1":case "2":case "3":case "4":case "5":case "6":case "7":case "8":case "9":var Aa=ja("width");if("$"===x.charAt(g+1)){if(g+2===l){L="%";g++;break a}void 0!==Ka&&ha.$raise(z(d,"ArgumentError"),"value given twice - %"+Aa+"$");Ka=D(Aa);g++}else E(),ia|=32,m=Aa;continue a;
case "<":case "{":var Ma="<"===x.charAt(g)?">":"}";Aa="";for(g++;;g++){g===l&&ha.$raise(z(d,"ArgumentError"),"malformed name - unmatched parenthesis");if(x.charAt(g)===Ma)if(0<ka&&ha.$raise(z(d,"ArgumentError"),"named "+Aa+" after unnumbered("+ka+")"),-1===ka&&ha.$raise(z(d,"ArgumentError"),"named "+Aa+" after numbered"),ka=-2,void 0!==f[0]&&f[0].$$is_hash||ha.$raise(z(d,"ArgumentError"),"one hash required"),Ka=f[0].$fetch(Aa),">"===Ma)continue a;else{L=Ka.toString();-1!==ya&&(L=L.slice(0,ya));if(ia&
2)for(;L.length<m;)L+=" ";else for(;L.length<m;)L=" "+L;break a}Aa+=x.charAt(g)}case "*":g++;E();ia|=32;m=va("width");0>m&&(ia|=2,m=-m);continue a;case ".":ia&128&&ha.$raise(z(d,"ArgumentError"),"precision given twice");ia|=192;ya=0;g++;if("*"===x.charAt(g)){g++;ya=va("precision");0>ya&&(ia&=-65);continue a}ya=ja("precision");continue a;case "d":case "i":case "u":Aa=ha.$Integer(r());if(0<=Aa){for(L=Aa.toString();L.length<ya;)L="0"+L;if(ia&2){if(ia&4||ia&16)L=(ia&4?"+":" ")+L;for(;L.length<m;)L+=" "}else if(ia&
8&&-1===ya){for(;L.length<m-(ia&4||ia&16?1:0);)L="0"+L;if(ia&4||ia&16)L=(ia&4?"+":" ")+L}else{if(ia&4||ia&16)L=(ia&4?"+":" ")+L;for(;L.length<m;)L=" "+L}}else{for(L=(-Aa).toString();L.length<ya;)L="0"+L;if(ia&2)for(L="-"+L;L.length<m;)L+=" ";else if(ia&8&&-1===ya){for(;L.length<m-1;)L="0"+L;L="-"+L}else for(L="-"+L;L.length<m;)L=" "+L}break a;case "b":case "B":case "o":case "x":case "X":switch(x.charAt(g)){case "b":case "B":var U=2;var wa="0b";var R=/^1+/;var oa="1";break;case "o":U=8;wa="0";R=/^3?7+/;
oa="7";break;case "x":case "X":U=16,wa="0x",R=/^f+/,oa="f"}Aa=ha.$Integer(r());if(0<=Aa){for(L=Aa.toString(U);L.length<ya;)L="0"+L;if(ia&2){if(ia&4||ia&16)L=(ia&4?"+":" ")+L;for(ia&1&&0!==Aa&&(L=wa+L);L.length<m;)L+=" "}else if(ia&8&&-1===ya){for(;L.length<m-(ia&4||ia&16?1:0)-(ia&1&&0!==Aa?wa.length:0);)L="0"+L;ia&1&&0!==Aa&&(L=wa+L);if(ia&4||ia&16)L=(ia&4?"+":" ")+L}else{ia&1&&0!==Aa&&(L=wa+L);if(ia&4||ia&16)L=(ia&4?"+":" ")+L;for(;L.length<m;)L=" "+L}}else if(ia&4||ia&16){for(L=(-Aa).toString(U);L.length<
ya;)L="0"+L;if(ia&2)for(ia&1&&(L=wa+L),L="-"+L;L.length<m;)L+=" ";else if(ia&8&&-1===ya){for(;L.length<m-1-(ia&1?2:0);)L="0"+L;ia&1&&(L=wa+L);L="-"+L}else for(ia&1&&(L=wa+L),L="-"+L;L.length<m;)L=" "+L}else{for(L=(Aa>>>0).toString(U).replace(R,oa);L.length<ya-2;)L=oa+L;if(ia&2)for(L=".."+L,ia&1&&(L=wa+L);L.length<m;)L+=" ";else if(ia&8&&-1===ya){for(;L.length<m-2-(ia&1?wa.length:0);)L=oa+L;L=".."+L;ia&1&&(L=wa+L)}else for(L=".."+L,ia&1&&(L=wa+L);L.length<m;)L=" "+L}x.charAt(g)===x.charAt(g).toUpperCase()&&
(L=L.toUpperCase());break a;case "f":case "e":case "E":case "g":case "G":Aa=ha.$Float(r());if(0<=Aa||isNaN(Aa)){if(Infinity===Aa)L="Inf";else switch(x.charAt(g)){case "f":L=Aa.toFixed(-1===ya?6:ya);break;case "e":case "E":L=Aa.toExponential(-1===ya?6:ya);break;case "g":case "G":L=Aa.toExponential(),Ma=parseInt(L.split("e")[1],10),-4>Ma||Ma>=(-1===ya?6:ya)||(L=Aa.toPrecision(-1===ya?ia&1?6:void 0:ya))}if(ia&2){if(ia&4||ia&16)L=(ia&4?"+":" ")+L;for(;L.length<m;)L+=" "}else if(ia&8&&Infinity!==Aa&&!isNaN(Aa)){for(;L.length<
m-(ia&4||ia&16?1:0);)L="0"+L;if(ia&4||ia&16)L=(ia&4?"+":" ")+L}else{if(ia&4||ia&16)L=(ia&4?"+":" ")+L;for(;L.length<m;)L=" "+L}}else{if(-Infinity===Aa)L="Inf";else switch(x.charAt(g)){case "f":L=(-Aa).toFixed(-1===ya?6:ya);break;case "e":case "E":L=(-Aa).toExponential(-1===ya?6:ya);break;case "g":case "G":L=(-Aa).toExponential(),Ma=parseInt(L.split("e")[1],10),-4>Ma||Ma>=(-1===ya?6:ya)||(L=(-Aa).toPrecision(-1===ya?ia&1?6:void 0:ya))}if(ia&2)for(L="-"+L;L.length<m;)L+=" ";else if(ia&8&&-Infinity!==
Aa){for(;L.length<m-1;)L="0"+L;L="-"+L}else for(L="-"+L;L.length<m;)L=" "+L}x.charAt(g)!==x.charAt(g).toUpperCase()||Infinity===Aa||-Infinity===Aa||isNaN(Aa)||(L=L.toUpperCase());L=L.replace(/([eE][-+]?)([0-9])$/,"$10$2");break a;case "a":case "A":ha.$raise(z(d,"NotImplementedError"),"`A` and `a` format field types are not implemented in Opal yet");case "c":Aa=r();Aa["$respond_to?"]("to_ary")&&(Aa=Aa.$to_ary()[0]);L=Aa["$respond_to?"]("to_str")?Aa.$to_str():String.fromCharCode(B(Aa,z(d,"Integer"),
"to_int"));1!==L.length&&ha.$raise(z(d,"ArgumentError"),"%c requires a character");if(ia&2)for(;L.length<m;)L+=" ";else for(;L.length<m;)L=" "+L;break a;case "p":L=r().$inspect();-1!==ya&&(L=L.slice(0,ya));if(ia&2)for(;L.length<m;)L+=" ";else for(;L.length<m;)L=" "+L;break a;case "s":L=r().$to_s();-1!==ya&&(L=L.slice(0,ya));if(ia&2)for(;L.length<m;)L+=" ";else for(;L.length<m;)L=" "+L;break a;default:ha.$raise(z(d,"ArgumentError"),"malformed format string - %"+x.charAt(g))}void 0===L&&ha.$raise(z(d,
"ArgumentError"),"malformed format string - %");ma+=x.slice(b,La)+L;b=g+1}p.DEBUG&&0<=ka&&y<f.length&&ha.$raise(z(d,"ArgumentError"),"too many arguments for format string");return ma+x.slice(b)},n.$$arity=-2);return a.alias(q,"sprintf","format")}(w[0],w)};
Opal.modules["corelib/string/encoding"]=function(a){function w(D,r){return"number"===typeof D&&"number"===typeof r?D+r:D["$+"](r)}var G,z,B,h,v,p,q=a.top,I=[],d=a.nil,n=a.$$$,x=a.$$,e=a.klass,k=a.hash2,E=a.truthy,c=a.send,A=d;a.add_stubs("$require $+ $[] $clone $initialize $new $instance_eval $to_proc $each $const_set $tr $== $default_external $attr_accessor $singleton_class $attr_reader $raise $register $length $bytes $force_encoding $dup $bytesize $enum_for $each_byte $to_a $each_char $each_codepoint $coerce_to! $find $< $default_external= $-".split(" "));q.$require("corelib/string");
(function(D,$super,ja){D=e(D,$super,"Encoding");var va=[D].concat(ja),ha,ma,b,f,g,l,m,y,ka,L,ia,ya;D.$$prototype.ascii=D.$$prototype.dummy=D.$$prototype.name=d;a.defs(D,"$register",ha=function(Ka,La){var Aa=ha.$$p,Ma=Aa||d,U,wa=d,R=d,oa=d,za=d,la=d,M=d,K=d,X=d;Aa&&(ha.$$p=null);Aa&&(ha.$$p=null);null==La&&(La=k([],{}));wa=w([Ka],E(R=La["$[]"]("aliases"))?R:[]);oa=E(za=La["$[]"]("ascii"))?za:!1;la=E(M=La["$[]"]("dummy"))?M:!1;E(La["$[]"]("inherits"))?(K=La["$[]"]("inherits").$clone(),K.$initialize(Ka,
wa,oa,la)):K=this.$new(Ka,wa,oa,la);Ma!==d&&c(K,"instance_eval",[],Ma.$to_proc());X=a.encodings;return c(wa,"each",[],(U=function(xa){var aa=null==U.$$s?this:U.$$s;null==xa&&(xa=d);aa.$const_set(xa.$tr("-","_"),K);return X[xa]=K},U.$$s=this,U.$$arity=1,U))},ha.$$arity=-2);a.defs(D,"$find",ma=function(Ka){return Ka["$=="]("default_external")?this.$default_external():a.find_encoding(Ka)},ma.$$arity=1);D.$singleton_class().$attr_accessor("default_external");D.$attr_reader("name","names");a.def(D,"$initialize",
b=function(Ka,La,Aa,Ma){this.name=Ka;this.names=La;this.ascii=Aa;return this.dummy=Ma},b.$$arity=4);a.def(D,"$ascii_compatible?",f=function(){return this.ascii},f.$$arity=0);a.def(D,"$dummy?",g=function(){return this.dummy},g.$$arity=0);a.def(D,"$binary?",l=function(){return!1},l.$$arity=0);a.def(D,"$to_s",m=function(){return this.name},m.$$arity=0);a.def(D,"$inspect",y=function(){return"#<Encoding:"+this.name+(E(this.dummy)?" (dummy)":d)+">"},y.$$arity=0);a.def(D,"$charsize",ka=function(Ka){for(var La=
0,Aa=0,Ma=Ka.length;Aa<Ma;Aa++){var U=Ka.charCodeAt(Aa);55296<=U&&56319>=U||La++}return La},ka.$$arity=1);a.def(D,"$each_char",L=function(Ka){var La=L.$$p,Aa=La||d;La&&(L.$$p=null);La&&(L.$$p=null);La="";for(var Ma=0,U=Ka.length;Ma<U;Ma++){var wa=Ka.charCodeAt(Ma),R=Ka.charAt(Ma);56320<=wa&&57343>=wa?La=R:(55296<=wa&&56319>=wa&&(R=La+R),"UTF-8"!=Ka.encoding.name&&(R=new String(R),R.encoding=Ka.encoding),a.yield1(Aa,R))}},L.$$arity=1);a.def(D,"$each_byte",ia=function(Ka){a.slice.call(arguments,0,arguments.length);
return this.$raise(x(va,"NotImplementedError"))},ia.$$arity=-1);a.def(D,"$bytesize",ya=function(Ka){a.slice.call(arguments,0,arguments.length);return this.$raise(x(va,"NotImplementedError"))},ya.$$arity=-1);(function(Ka,$super,Aa){[e(Ka,$super,"EncodingError")].concat(Aa);return d})(va[0],x(va,"StandardError"),va);return function(Ka,$super,Aa){[e(Ka,$super,"CompatibilityError")].concat(Aa);return d}(va[0],x(va,"EncodingError"),va)})(I[0],null,I);c(x(I,"Encoding"),"register",["UTF-8",k(["aliases",
"ascii"],{aliases:["CP65001"],ascii:!0})],(G=function(){var D=null==G.$$s?this:G.$$s,r,ja;a.def(D,"$each_byte",r=function(va){var ha=r.$$p,ma=ha||d;ha&&(r.$$p=null);ha&&(r.$$p=null);ha=Infinity;for(var b,f=va.length,g=null,l=0;l<f;++l){b=va.charCodeAt(l);if(55295<b&&57344>b){if(!g){if(56319<b){-1<(ha-=3)&&(a.yield1(ma,239),a.yield1(ma,191),a.yield1(ma,189));continue}else if(l+1===f){-1<(ha-=3)&&(a.yield1(ma,239),a.yield1(ma,191),a.yield1(ma,189));continue}g=b;continue}if(56320>b){-1<(ha-=3)&&(a.yield1(ma,
239),a.yield1(ma,191),a.yield1(ma,189));g=b;continue}b=(g-55296<<10|b-56320)+65536}else g&&-1<(ha-=3)&&(a.yield1(ma,239),a.yield1(ma,191),a.yield1(ma,189));g=null;if(128>b){if(0>--ha)break;a.yield1(ma,b)}else if(2048>b){if(0>(ha-=2))break;a.yield1(ma,b>>6|192);a.yield1(ma,b&63|128)}else if(65536>b){if(0>(ha-=3))break;a.yield1(ma,b>>12|224);a.yield1(ma,b>>6&63|128);a.yield1(ma,b&63|128)}else if(1114112>b){if(0>(ha-=4))break;a.yield1(ma,b>>18|240);a.yield1(ma,b>>12&63|128);a.yield1(ma,b>>6&63|128);
a.yield1(ma,b&63|128)}}},r.$$arity=1);return(a.def(D,"$bytesize",ja=function(va){return va.$bytes().$length()},ja.$$arity=1),d)&&"bytesize"},G.$$s=q,G.$$arity=0,G));c(x(I,"Encoding"),"register",["UTF-16LE"],(z=function(){var D=null==z.$$s?this:z.$$s,r,ja;a.def(D,"$each_byte",r=function(va){var ha=r.$$p,ma=ha||d;ha&&(r.$$p=null);ha&&(r.$$p=null);ha=0;for(var b=va.length;ha<b;ha++){var f=va.charCodeAt(ha);a.yield1(ma,f&255);a.yield1(ma,f>>8)}},r.$$arity=1);return(a.def(D,"$bytesize",ja=function(va){return 2*
va.length},ja.$$arity=1),d)&&"bytesize"},z.$$s=q,z.$$arity=0,z));c(x(I,"Encoding"),"register",["UTF-16BE",k(["inherits"],{inherits:n(x(I,"Encoding"),"UTF_16LE")})],(B=function(){var D;return(a.def(null==B.$$s?this:B.$$s,"$each_byte",D=function(r){var ja=D.$$p,va=ja||d;ja&&(D.$$p=null);ja&&(D.$$p=null);ja=0;for(var ha=r.length;ja<ha;ja++){var ma=r.charCodeAt(ja);a.yield1(va,ma>>8);a.yield1(va,ma&255)}},D.$$arity=1),d)&&"each_byte"},B.$$s=q,B.$$arity=0,B));c(x(I,"Encoding"),"register",["UTF-32LE"],
(h=function(){var D=null==h.$$s?this:h.$$s,r,ja;a.def(D,"$each_byte",r=function(va){var ha=r.$$p,ma=ha||d;ha&&(r.$$p=null);ha&&(r.$$p=null);ha=0;for(var b=va.length;ha<b;ha++){var f=va.charCodeAt(ha);a.yield1(ma,f&255);a.yield1(ma,f>>8);a.yield1(ma,0);a.yield1(ma,0)}},r.$$arity=1);return(a.def(D,"$bytesize",ja=function(va){return 4*va.length},ja.$$arity=1),d)&&"bytesize"},h.$$s=q,h.$$arity=0,h));c(x(I,"Encoding"),"register",["UTF-32BE",k(["inherits"],{inherits:n(x(I,"Encoding"),"UTF_32LE")})],(v=
function(){var D;return(a.def(null==v.$$s?this:v.$$s,"$each_byte",D=function(r){var ja=D.$$p,va=ja||d;ja&&(D.$$p=null);ja&&(D.$$p=null);ja=0;for(var ha=r.length;ja<ha;ja++){var ma=r.charCodeAt(ja);a.yield1(va,0);a.yield1(va,0);a.yield1(va,ma>>8);a.yield1(va,ma&255)}},D.$$arity=1),d)&&"each_byte"},v.$$s=q,v.$$arity=0,v));c(x(I,"Encoding"),"register",["ASCII-8BIT",k(["aliases","ascii"],{aliases:["BINARY"],ascii:!0})],(p=function(){var D=null==p.$$s?this:p.$$s,r,ja,va,ha,ma;a.def(D,"$each_char",r=function(b){var f=
r.$$p,g=f||d;f&&(r.$$p=null);f&&(r.$$p=null);f=0;for(var l=b.length;f<l;f++){var m=new String(b.charAt(f));m.encoding=b.encoding;a.yield1(g,m)}},r.$$arity=1);a.def(D,"$charsize",ja=function(b){return b.length},ja.$$arity=1);a.def(D,"$each_byte",va=function(b){var f=va.$$p,g=f||d;f&&(va.$$p=null);f&&(va.$$p=null);f=0;for(var l=b.length;f<l;f++){var m=b.charCodeAt(f);a.yield1(g,m&255)}},va.$$arity=1);a.def(D,"$bytesize",ha=function(b){return b.length},ha.$$arity=1);return(a.def(D,"$binary?",ma=function(){return!0},
ma.$$arity=0),d)&&"binary?"},p.$$s=q,p.$$arity=0,p));x(I,"Encoding").$register("ISO-8859-1",k(["aliases","ascii","inherits"],{aliases:["ISO8859-1"],ascii:!0,inherits:n(x(I,"Encoding"),"ASCII_8BIT")}));x(I,"Encoding").$register("US-ASCII",k(["aliases","ascii","inherits"],{aliases:["ASCII"],ascii:!0,inherits:n(x(I,"Encoding"),"ASCII_8BIT")}));(function(D,$super,ja){D=e(D,$super,"String");var va=[D].concat(ja),ha,ma,b,f,g,l,m,y,ka,L,ia,ya,Ka,La;D.$$prototype.internal_encoding=D.$$prototype.bytes=D.$$prototype.encoding=
d;D.$attr_reader("encoding");D.$attr_reader("internal_encoding");a.defineProperty(String.prototype,"bytes",d);a.defineProperty(String.prototype,"encoding",n(x(va,"Encoding"),"UTF_8"));a.defineProperty(String.prototype,"internal_encoding",n(x(va,"Encoding"),"UTF_8"));a.def(D,"$b",ha=function(){return this.$dup().$force_encoding("binary")},ha.$$arity=0);a.def(D,"$bytesize",ma=function(){return this.internal_encoding.$bytesize(this)},ma.$$arity=0);a.def(D,"$each_byte",b=function(){var Aa=b.$$p,Ma=Aa||
d,U;Aa&&(b.$$p=null);Aa&&(b.$$p=null);if(Ma===d)return c(this,"enum_for",["each_byte"],(U=function(){return(null==U.$$s?this:U.$$s).$bytesize()},U.$$s=this,U.$$arity=0,U));c(this.internal_encoding,"each_byte",[this],Ma.$to_proc());return this},b.$$arity=0);a.def(D,"$bytes",f=function(){var Aa=d;if("string"===typeof this)return(new String(this)).$each_byte().$to_a();this.bytes=E(Aa=this.bytes)?Aa:this.$each_byte().$to_a();return this.bytes.$dup()},f.$$arity=0);a.def(D,"$each_char",g=function(){var Aa=
g.$$p,Ma=Aa||d,U;Aa&&(g.$$p=null);Aa&&(g.$$p=null);if(Ma===d)return c(this,"enum_for",["each_char"],(U=function(){return(null==U.$$s?this:U.$$s).$length()},U.$$s=this,U.$$arity=0,U));c(this.encoding,"each_char",[this],Ma.$to_proc());return this},g.$$arity=0);a.def(D,"$chars",l=function(){var Aa=l.$$p,Ma=Aa||d;Aa&&(l.$$p=null);Aa&&(l.$$p=null);return E(Ma)?c(this,"each_char",[],Ma.$to_proc()):this.$each_char().$to_a()},l.$$arity=0);a.def(D,"$each_codepoint",m=function(){var Aa=m.$$p,Ma=Aa||d;Aa&&(m.$$p=
null);Aa&&(m.$$p=null);if(Ma===d)return this.$enum_for("each_codepoint");Aa=0;for(var U=this.length;Aa<U;Aa++)a.yield1(Ma,this.codePointAt(Aa));return this},m.$$arity=0);a.def(D,"$codepoints",y=function(){var Aa=y.$$p,Ma=Aa||d;Aa&&(y.$$p=null);Aa&&(y.$$p=null);return Ma!==d?c(this,"each_codepoint",[],Ma.$to_proc()):this.$each_codepoint().$to_a()},y.$$arity=0);a.def(D,"$encode",ka=function(Aa){return a.enc(this,Aa)},ka.$$arity=1);a.def(D,"$force_encoding",L=function(Aa){var Ma=this;if(Aa===Ma.encoding)return Ma;
Aa=x(va,"Opal")["$coerce_to!"](Aa,x(va,"String"),"to_s");Aa=x(va,"Encoding").$find(Aa);return Aa===Ma.encoding?Ma:Ma=a.set_encoding(Ma,Aa)},L.$$arity=1);a.def(D,"$getbyte",ia=function(Aa){var Ma=this.$bytes();Aa=x(va,"Opal")["$coerce_to!"](Aa,x(va,"Integer"),"to_int");var U=Ma.$length();U="number"===typeof U&&"number"===typeof Aa?U<Aa:U["$<"](Aa);return E(U)?d:Ma["$[]"](Aa)},ia.$$arity=1);a.def(D,"$initialize_copy",ya=function(){return"\n      self.encoding = other.encoding;\n      self.internal_encoding = other.internal_encoding;\n    "},
ya.$$arity=1);a.def(D,"$length",Ka=function(){return this.length},Ka.$$arity=0);a.alias(D,"size","length");return(a.def(D,"$valid_encoding?",La=function(){return!0},La.$$arity=0),d)&&"valid_encoding?"})(I[0],null,I);A=[n(x(I,"Encoding"),"UTF_8")];c(x(I,"Encoding"),"default_external=",a.to_a(A));return A[function(D,r){return"number"===typeof D&&"number"===typeof r?D-r:D["$-"](r)}(A.length,1)]};
Opal.modules["corelib/math"]=function(a){var w=[],G=a.nil,z=a.$$$,B=a.$$,h=a.type_error,v=a.module,p=a.truthy;a.add_stubs("$new $raise $Float $Integer $module_function $checked $float! $=== $gamma $- $integer! $/ $infinite?".split(" "));return function(q,I){q=v(q,"Math");var d=[q].concat(I),n,x,e,k,E,c,A,D,r,ja,va,ha,ma,b,f,g,l,m,y,ka,L,ia,ya,Ka,La,Aa,Ma,U,wa;a.const_set(d[0],"E",Math.E);a.const_set(d[0],"PI",Math.PI);a.const_set(d[0],"DomainError",B(d,"Class").$new(B(d,"StandardError")));a.defs(q,
"$checked",n=function(R,oa){var za=a.slice.call(arguments,1,arguments.length);if(isNaN(za[0])||2==za.length&&isNaN(za[1]))return NaN;za=Math[R].apply(null,za);isNaN(za)&&this.$raise(B(d,"DomainError"),'Numerical argument is out of domain - "'+R+'"');return za},n.$$arity=-2);a.defs(q,"$float!",x=function(R){try{return this.$Float(R)}catch(oa){if(a.rescue(oa,[B(d,"ArgumentError")]))try{return this.$raise(h(R,B(d,"Float")))}finally{a.pop_exception()}else throw oa;}},x.$$arity=1);a.defs(q,"$integer!",
e=function(R){try{return this.$Integer(R)}catch(oa){if(a.rescue(oa,[B(d,"ArgumentError")]))try{return this.$raise(h(R,B(d,"Integer")))}finally{a.pop_exception()}else throw oa;}},e.$$arity=1);q.$module_function();a.def(q,"$acos",k=function(R){return B(d,"Math").$checked("acos",B(d,"Math")["$float!"](R))},k.$$arity=1);p("undefined"!==typeof Math.acosh)||(Math.acosh=function(R){return Math.log(R+Math.sqrt(R*R-1))});a.def(q,"$acosh",E=function(R){return B(d,"Math").$checked("acosh",B(d,"Math")["$float!"](R))},
E.$$arity=1);a.def(q,"$asin",c=function(R){return B(d,"Math").$checked("asin",B(d,"Math")["$float!"](R))},c.$$arity=1);p("undefined"!==typeof Math.asinh)||(Math.asinh=function(R){return Math.log(R+Math.sqrt(R*R+1))});a.def(q,"$asinh",A=function(R){return B(d,"Math").$checked("asinh",B(d,"Math")["$float!"](R))},A.$$arity=1);a.def(q,"$atan",D=function(R){return B(d,"Math").$checked("atan",B(d,"Math")["$float!"](R))},D.$$arity=1);a.def(q,"$atan2",r=function(R,oa){return B(d,"Math").$checked("atan2",
B(d,"Math")["$float!"](R),B(d,"Math")["$float!"](oa))},r.$$arity=2);p("undefined"!==typeof Math.atanh)||(Math.atanh=function(R){return.5*Math.log((1+R)/(1-R))});a.def(q,"$atanh",ja=function(R){return B(d,"Math").$checked("atanh",B(d,"Math")["$float!"](R))},ja.$$arity=1);p("undefined"!==typeof Math.cbrt)||(Math.cbrt=function(R){if(0==R)return 0;if(0>R)return-Math.cbrt(-R);for(var oa=R,za=0;.125>oa;)oa*=8,za--;for(;1<oa;)oa*=.125,za++;for(oa=(-.46946116*oa+1.072302)*oa+.3812513;0>za;)oa*=.5,za++;for(;0<
za;)oa*=2,za--;oa=2/3*oa+1/3*R/(oa*oa);oa=2/3*oa+1/3*R/(oa*oa);oa=2/3*oa+1/3*R/(oa*oa);return 2/3*oa+1/3*R/(oa*oa)});a.def(q,"$cbrt",va=function(R){return B(d,"Math").$checked("cbrt",B(d,"Math")["$float!"](R))},va.$$arity=1);a.def(q,"$cos",ha=function(R){return B(d,"Math").$checked("cos",B(d,"Math")["$float!"](R))},ha.$$arity=1);p("undefined"!==typeof Math.cosh)||(Math.cosh=function(R){return(Math.exp(R)+Math.exp(-R))/2});a.def(q,"$cosh",ma=function(R){return B(d,"Math").$checked("cosh",B(d,"Math")["$float!"](R))},
ma.$$arity=1);p("undefined"!==typeof Math.erf)||a.defineProperty(Math,"erf",function(R){var oa=1;0>R&&(oa=-1);R=Math.abs(R);var za=1/(1+.3275911*R);return oa*(1-((((1.061405429*za+-1.453152027)*za+1.421413741)*za+-.284496736)*za+.254829592)*za*Math.exp(-R*R))});a.def(q,"$erf",b=function(R){return B(d,"Math").$checked("erf",B(d,"Math")["$float!"](R))},b.$$arity=1);p("undefined"!==typeof Math.erfc)||a.defineProperty(Math,"erfc",function(R){var oa=Math.abs(R),za=1/(.5*oa+1);oa=za*Math.exp(-oa*oa-1.26551223+
za*(za*(za*(za*(za*(za*(za*(za*(.17087277*za+-.82215223)+1.48851587)+-1.13520398)+.27886807)+-.18628806)+.09678418)+.37409196)+1.00002368));return 0>R?2-oa:oa});a.def(q,"$erfc",f=function(R){return B(d,"Math").$checked("erfc",B(d,"Math")["$float!"](R))},f.$$arity=1);a.def(q,"$exp",g=function(R){return B(d,"Math").$checked("exp",B(d,"Math")["$float!"](R))},g.$$arity=1);a.def(q,"$frexp",l=function(R){R=B(d,"Math")["$float!"](R);if(isNaN(R))return[NaN,0];var oa=Math.floor(Math.log(Math.abs(R))/Math.log(2))+
1;return[R/Math.pow(2,oa),oa]},l.$$arity=1);a.def(q,"$gamma",m=function(R){R=B(d,"Math")["$float!"](R);var oa=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3.399464998481189E-5,4.652362892704858E-5,-9.837447530487956E-5,1.580887032249125E-4,-2.1026444172410488E-4,2.1743961811521265E-4,-1.643181065367639E-4,8.441822398385275E-5,-2.6190838401581408E-5,3.6899182659531625E-6];if(isNaN(R))return NaN;if(0===R&&0>1/R)return-Infinity;-1!==R&&-Infinity!==R||
this.$raise(B(d,"DomainError"),'Numerical argument is out of domain - "gamma"');if(B(d,"Integer")["$==="](R)){if(0>=R)return isFinite(R)?Infinity:NaN;if(171<R)return Infinity;var za=R-2;for(--R;1<za;)R*=za,za--;0==R&&(R=1);return R}if(.5>R)return Math.PI/(Math.sin(Math.PI*R)*B(d,"Math").$gamma("number"===typeof R?1-R:1["$-"](R)));if(171.35<=R)return Infinity;if(85<R){za=R*R;var la=za*R;oa=la*R;var M=oa*R;return Math.sqrt(2*Math.PI/R)*Math.pow(R/Math.E,R)*(1+1/(12*R)+1/(288*za)-139/(51840*la)-571/
(2488320*oa)+163879/(209018880*M)+5246819/(75246796800*M*R))}--R;za=oa[0];for(la=1;la<oa.length;++la)za+=oa[la]/(R+la);la=R+4.7421875+.5;return Math.sqrt(2*Math.PI)*Math.pow(la,R+.5)*Math.exp(-la)*za},m.$$arity=1);p("undefined"!==typeof Math.hypot)||(Math.hypot=function(R,oa){return Math.sqrt(R*R+oa*oa)});a.def(q,"$hypot",y=function(R,oa){return B(d,"Math").$checked("hypot",B(d,"Math")["$float!"](R),B(d,"Math")["$float!"](oa))},y.$$arity=2);a.def(q,"$ldexp",ka=function(R,oa){R=B(d,"Math")["$float!"](R);
oa=B(d,"Math")["$integer!"](oa);isNaN(oa)&&this.$raise(B(d,"RangeError"),"float NaN out of range of integer");return R*Math.pow(2,oa)},ka.$$arity=2);a.def(q,"$lgamma",L=function(R){return-1==R?[Infinity,1]:[Math.log(Math.abs(B(d,"Math").$gamma(R))),0>B(d,"Math").$gamma(R)?-1:1]},L.$$arity=1);a.def(q,"$log",ia=function(R,oa){p(B(d,"String")["$==="](R))&&this.$raise(h(R,B(d,"Float")));if(p(null==oa))return B(d,"Math").$checked("log",B(d,"Math")["$float!"](R));p(B(d,"String")["$==="](oa))&&this.$raise(h(oa,
B(d,"Float")));R=B(d,"Math").$checked("log",B(d,"Math")["$float!"](R));oa=B(d,"Math").$checked("log",B(d,"Math")["$float!"](oa));return"number"===typeof R&&"number"===typeof oa?R/oa:R["$/"](oa)},ia.$$arity=-2);p("undefined"!==typeof Math.log10)||(Math.log10=function(R){return Math.log(R)/Math.LN10});a.def(q,"$log10",ya=function(R){p(B(d,"String")["$==="](R))&&this.$raise(h(R,B(d,"Float")));return B(d,"Math").$checked("log10",B(d,"Math")["$float!"](R))},ya.$$arity=1);p("undefined"!==typeof Math.log2)||
(Math.log2=function(R){return Math.log(R)/Math.LN2});a.def(q,"$log2",Ka=function(R){p(B(d,"String")["$==="](R))&&this.$raise(h(R,B(d,"Float")));return B(d,"Math").$checked("log2",B(d,"Math")["$float!"](R))},Ka.$$arity=1);a.def(q,"$sin",La=function(R){return B(d,"Math").$checked("sin",B(d,"Math")["$float!"](R))},La.$$arity=1);p("undefined"!==typeof Math.sinh)||(Math.sinh=function(R){return(Math.exp(R)-Math.exp(-R))/2});a.def(q,"$sinh",Aa=function(R){return B(d,"Math").$checked("sinh",B(d,"Math")["$float!"](R))},
Aa.$$arity=1);a.def(q,"$sqrt",Ma=function(R){return B(d,"Math").$checked("sqrt",B(d,"Math")["$float!"](R))},Ma.$$arity=1);a.def(q,"$tan",U=function(R){R=B(d,"Math")["$float!"](R);return p(R["$infinite?"]())?z(B(d,"Float"),"NAN"):B(d,"Math").$checked("tan",B(d,"Math")["$float!"](R))},U.$$arity=1);p("undefined"!==typeof Math.tanh)||(Math.tanh=function(R){return Infinity==R?1:-Infinity==R?-1:(Math.exp(R)-Math.exp(-R))/(Math.exp(R)+Math.exp(-R))});return(a.def(q,"$tanh",wa=function(R){return B(d,"Math").$checked("tanh",
B(d,"Math")["$float!"](R))},wa.$$arity=1),G)&&"tanh"}(w[0],w)};
Opal.modules["corelib/complex"]=function(a){function w(e,k){return"number"===typeof e&&"number"===typeof k?e*k:e["$*"](k)}function G(e,k){return"number"===typeof e&&"number"===typeof k?e+k:e["$+"](k)}function z(e,k){return"number"===typeof e&&"number"===typeof k?e-k:e["$-"](k)}function B(e,k){return"number"===typeof e&&"number"===typeof k?e/k:e["$/"](k)}var h=a.top,v=[],p=a.nil,q=a.$$$,I=a.$$,d=a.klass,n=a.truthy,x=a.module;a.add_stubs("$require $=== $real? $raise $new $* $cos $sin $attr_reader $class $== $real $imag $Complex $-@ $+ $__coerced__ $- $nan? $/ $conj $abs2 $quo $polar $exp $log $> $!= $divmod $** $hypot $atan2 $lcm $denominator $finite? $infinite? $numerator $abs $arg $rationalize $to_f $to_i $to_r $inspect $positive? $zero? $Rational".split(" "));h.$require("corelib/numeric");
(function(e,$super,E){e=d(e,$super,"Complex");var c=[e].concat(E),A,D,r,ja,va,ha,ma,b,f,g,l,m,y,ka,L,ia,ya,Ka,La,Aa,Ma,U,wa,R,oa,za,la,M,K,X,xa;e.$$prototype.real=e.$$prototype.imag=p;a.defs(e,"$rect",A=function(aa,qa){var Ea=p,Ia=p,Sa=p;null==qa&&(qa=0);n(n(Ea=n(Ia=n(Sa=I(c,"Numeric")["$==="](aa))?aa["$real?"]():Sa)?I(c,"Numeric")["$==="](qa):Ia)?qa["$real?"]():Ea)||this.$raise(I(c,"TypeError"),"not a real");return this.$new(aa,qa)},A.$$arity=-2);(function(aa,qa){[aa].concat(qa);return a.alias(aa,
"rectangular","rect")})(a.get_singleton_class(e),c);a.defs(e,"$polar",D=function(aa,qa){var Ea=p,Ia=p,Sa=p;null==qa&&(qa=0);n(n(Ea=n(Ia=n(Sa=I(c,"Numeric")["$==="](aa))?aa["$real?"]():Sa)?I(c,"Numeric")["$==="](qa):Ia)?qa["$real?"]():Ea)||this.$raise(I(c,"TypeError"),"not a real");return this.$new(w(aa,I(c,"Math").$cos(qa)),w(aa,I(c,"Math").$sin(qa)))},D.$$arity=-2);e.$attr_reader("real","imag");a.def(e,"$initialize",r=function(aa,qa){null==qa&&(qa=0);this.real=aa;return this.imag=qa},r.$$arity=-2);
a.def(e,"$coerce",ja=function(aa){var qa=p;return n(I(c,"Complex")["$==="](aa))?[aa,this]:n(n(qa=I(c,"Numeric")["$==="](aa))?aa["$real?"]():qa)?[I(c,"Complex").$new(aa,0),this]:this.$raise(I(c,"TypeError"),""+aa.$class()+" can't be coerced into Complex")},ja.$$arity=1);a.def(e,"$==",va=function(aa){var qa=p,Ea=p,Ia=p;return n(I(c,"Complex")["$==="](aa))?n(qa=this.real["$=="](aa.$real()))?this.imag["$=="](aa.$imag()):qa:n(n(Ea=I(c,"Numeric")["$==="](aa))?aa["$real?"]():Ea)?n(Ia=this.real["$=="](aa))?
this.imag["$=="](0):Ia:aa["$=="](this)},va.$$arity=1);a.def(e,"$-@",ha=function(){return this.$Complex(this.real["$-@"](),this.imag["$-@"]())},ha.$$arity=0);a.def(e,"$+",ma=function(aa){var qa=p;return n(I(c,"Complex")["$==="](aa))?this.$Complex(G(this.real,aa.$real()),G(this.imag,aa.$imag())):n(n(qa=I(c,"Numeric")["$==="](aa))?aa["$real?"]():qa)?this.$Complex(G(this.real,aa),this.imag):this.$__coerced__("+",aa)},ma.$$arity=1);a.def(e,"$-",b=function(aa){var qa=p;return n(I(c,"Complex")["$==="](aa))?
this.$Complex(z(this.real,aa.$real()),z(this.imag,aa.$imag())):n(n(qa=I(c,"Numeric")["$==="](aa))?aa["$real?"]():qa)?this.$Complex(z(this.real,aa),this.imag):this.$__coerced__("-",aa)},b.$$arity=1);a.def(e,"$*",f=function(aa){var qa=p;return n(I(c,"Complex")["$==="](aa))?this.$Complex(z(w(this.real,aa.$real()),w(this.imag,aa.$imag())),G(w(this.real,aa.$imag()),w(this.imag,aa.$real()))):n(n(qa=I(c,"Numeric")["$==="](aa))?aa["$real?"]():qa)?this.$Complex(w(this.real,aa),w(this.imag,aa)):this.$__coerced__("*",
aa)},f.$$arity=1);a.def(e,"$/",g=function(aa){var qa=p,Ea=p,Ia=p,Sa=p,Wa=p,ib=p,gb=p,Ta=p;return n(I(c,"Complex")["$==="](aa))?n(n(qa=n(Ea=n(Ia=n(Sa=I(c,"Number")["$==="](this.real))?this.real["$nan?"]():Sa)?Ia:n(Wa=I(c,"Number")["$==="](this.imag))?this.imag["$nan?"]():Wa)?Ea:n(ib=I(c,"Number")["$==="](aa.$real()))?aa.$real()["$nan?"]():ib)?qa:n(gb=I(c,"Number")["$==="](aa.$imag()))?aa.$imag()["$nan?"]():gb)?I(c,"Complex").$new(q(I(c,"Float"),"NAN"),q(I(c,"Float"),"NAN")):B(w(this,aa.$conj()),aa.$abs2()):
n(n(Ta=I(c,"Numeric")["$==="](aa))?aa["$real?"]():Ta)?this.$Complex(this.real.$quo(aa),this.imag.$quo(aa)):this.$__coerced__("/",aa)},g.$$arity=1);a.def(e,"$**",l=function(aa){var qa=p;if(aa["$=="](0))return I(c,"Complex").$new(1,0);if(n(I(c,"Complex")["$==="](aa))){qa=this.$polar();var Ea=a.to_ary(qa);var Ia=null==Ea[0]?p:Ea[0];Ea=null==Ea[1]?p:Ea[1];qa;qa=aa.$real();var Sa=aa.$imag();aa=I(c,"Math").$exp(z(w(qa,I(c,"Math").$log(Ia)),w(Sa,Ea)));qa=G(w(Ea,qa),w(Sa,I(c,"Math").$log(Ia)));return I(c,
"Complex").$polar(aa,qa)}if(n(I(c,"Integer")["$==="](aa))){if(n("number"===typeof aa?0<aa:aa["$>"](0))){Ea=Ia=this;for(Sa=z(aa,1);n(Sa["$!="](0));){aa=Sa.$divmod(2);qa=a.to_ary(aa);var Wa=null==qa[0]?p:qa[0];var ib=null==qa[1]?p:qa[1];for(aa;ib["$=="](0);)Ia=this.$Complex(z(w(Ia.$real(),Ia.$real()),w(Ia.$imag(),Ia.$imag())),w(w(2,Ia.$real()),Ia.$imag())),Sa=Wa,qa=Sa.$divmod(2),aa=a.to_ary(qa),Wa=null==aa[0]?p:aa[0],ib=null==aa[1]?p:aa[1],qa;Ea=w(Ea,Ia);Sa=z(Sa,1)}return Ea}return B(I(c,"Rational").$new(1,
1),this)["$**"](aa["$-@"]())}return n(n(qa=I(c,"Float")["$==="](aa))?qa:I(c,"Rational")["$==="](aa))?(qa=this.$polar(),Ea=a.to_ary(qa),Ia=null==Ea[0]?p:Ea[0],Ea=null==Ea[1]?p:Ea[1],qa,I(c,"Complex").$polar(Ia["$**"](aa),w(Ea,aa))):this.$__coerced__("**",aa)},l.$$arity=1);a.def(e,"$abs",m=function(){return I(c,"Math").$hypot(this.real,this.imag)},m.$$arity=0);a.def(e,"$abs2",y=function(){return G(w(this.real,this.real),w(this.imag,this.imag))},y.$$arity=0);a.def(e,"$angle",ka=function(){return I(c,
"Math").$atan2(this.imag,this.real)},ka.$$arity=0);a.alias(e,"arg","angle");a.def(e,"$conj",L=function(){return this.$Complex(this.real,this.imag["$-@"]())},L.$$arity=0);a.alias(e,"conjugate","conj");a.def(e,"$denominator",ia=function(){return this.real.$denominator().$lcm(this.imag.$denominator())},ia.$$arity=0);a.alias(e,"divide","/");a.def(e,"$eql?",ya=function(aa){var qa=p,Ea=p;return n(qa=n(Ea=I(c,"Complex")["$==="](aa))?this.real.$class()["$=="](this.imag.$class()):Ea)?this["$=="](aa):qa},ya.$$arity=
1);a.def(e,"$fdiv",Ka=function(aa){n(I(c,"Numeric")["$==="](aa))||this.$raise(I(c,"TypeError"),""+aa.$class()+" can't be coerced into Complex");return B(this,aa)},Ka.$$arity=1);a.def(e,"$finite?",La=function(){var aa;return n(aa=this.real["$finite?"]())?this.imag["$finite?"]():aa},La.$$arity=0);a.def(e,"$hash",Aa=function(){return"Complex:"+this.real+":"+this.imag},Aa.$$arity=0);a.alias(e,"imaginary","imag");a.def(e,"$infinite?",Ma=function(){var aa;return n(aa=this.real["$infinite?"]())?aa:this.imag["$infinite?"]()},
Ma.$$arity=0);a.def(e,"$inspect",U=function(){return"("+this+")"},U.$$arity=0);a.alias(e,"magnitude","abs");a.udef(e,"$negative?");a.def(e,"$numerator",wa=function(){var aa=this.$denominator();return this.$Complex(w(this.real.$numerator(),B(aa,this.real.$denominator())),w(this.imag.$numerator(),B(aa,this.imag.$denominator())))},wa.$$arity=0);a.alias(e,"phase","arg");a.def(e,"$polar",R=function(){return[this.$abs(),this.$arg()]},R.$$arity=0);a.udef(e,"$positive?");a.alias(e,"quo","/");a.def(e,"$rationalize",
oa=function(aa){1<arguments.length&&this.$raise(I(c,"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)");n(this.imag["$!="](0))&&this.$raise(I(c,"RangeError"),"can't' convert "+this+" into Rational");return this.$real().$rationalize(aa)},oa.$$arity=-1);a.def(e,"$real?",za=function(){return!1},za.$$arity=0);a.def(e,"$rect",la=function(){return[this.real,this.imag]},la.$$arity=0);a.alias(e,"rectangular","rect");a.udef(e,"$step");a.def(e,"$to_f",M=function(){this.imag["$=="](0)||
this.$raise(I(c,"RangeError"),"can't convert "+this+" into Float");return this.real.$to_f()},M.$$arity=0);a.def(e,"$to_i",K=function(){this.imag["$=="](0)||this.$raise(I(c,"RangeError"),"can't convert "+this+" into Integer");return this.real.$to_i()},K.$$arity=0);a.def(e,"$to_r",X=function(){this.imag["$=="](0)||this.$raise(I(c,"RangeError"),"can't convert "+this+" into Rational");return this.real.$to_r()},X.$$arity=0);a.def(e,"$to_s",xa=function(){var aa=p,qa=p,Ea=p,Ia=p,Sa=p;var Wa=this.real.$inspect();
Wa=G(Wa,n(n(aa=n(qa=n(Ea=I(c,"Number")["$==="](this.imag))?this.imag["$nan?"]():Ea)?qa:this.imag["$positive?"]())?aa:this.imag["$zero?"]())?"+":"-");Wa=G(Wa,this.imag.$abs().$inspect());n(n(Ia=I(c,"Number")["$==="](this.imag))?n(Sa=this.imag["$nan?"]())?Sa:this.imag["$infinite?"]():Ia)&&(Wa=G(Wa,"*"));return G(Wa,"i")},xa.$$arity=0);return a.const_set(c[0],"I",e.$new(0,1))})(v[0],I(v,"Numeric"),v);(function(e,k){e=x(e,"Kernel");var E=[e].concat(k),c;return(a.def(e,"$Complex",c=function(A,D){null==
D&&(D=p);return n(D)?I(E,"Complex").$new(A,D):I(E,"Complex").$new(A,0)},c.$$arity=-2),p)&&"Complex"})(v[0],v);return function(e,$super,E){e=d(e,$super,"String");[e].concat(E);var c;return(a.def(e,"$to_c",c=function(){function A(){var b=ja.match(va)[0];ja=ja.slice(b.length);return b.replace(/_/g,"")}function D(){if(va.test(ja)){var b=parseFloat(A());if("/"===ja[0]){ja=ja.slice(1);if(va.test(ja)){var f=parseFloat(A());return r.$Rational(b,f)}ja="/"+ja}return b}return null}var r=this,ja=r,va=/[+-]?[\d_]+(\.[\d_]+)?(e\d+)?/;
ja.match(va);var ha;var ma=D();return ma?(ha=D())?r.$Complex(ma,ha):"i"===ja[0]?r.$Complex(0,ma):r.$Complex(ma,0):"i"===ja[0]?r.$Complex(0,1):"-"===ja[0]&&"i"===ja[1]?r.$Complex(0,-1):"+"===ja[0]&&"i"===ja[1]?r.$Complex(0,1):r.$Complex(0,0)},c.$$arity=0),p)&&"to_c"}(v[0],null,v)};
Opal.modules["corelib/rational"]=function(a){function w(k,E){return"number"===typeof k&&"number"===typeof E?k<E:k["$<"](E)}function G(k,E){return"number"===typeof k&&"number"===typeof E?k/E:k["$/"](E)}function z(k,E){return"number"===typeof k&&"number"===typeof E?k-E:k["$-"](E)}function B(k,E){return"number"===typeof k&&"number"===typeof E?k*E:k["$*"](E)}function h(k,E){return"number"===typeof k&&"number"===typeof E?k+E:k["$+"](E)}var v=a.top,p=[],q=a.nil,I=a.$$$,d=a.$$,n=a.klass,x=a.truthy,e=a.module;
a.add_stubs("$require $to_i $== $raise $< $-@ $new $gcd $/ $nil? $=== $reduce $to_r $equal? $! $coerce_to! $to_f $numerator $denominator $<=> $- $* $__coerced__ $+ $Rational $> $** $abs $ceil $with_precision $floor $<= $truncate $send $convert".split(" "));v.$require("corelib/numeric");(function(k,$super,c){k=n(k,$super,"Rational");var A=[k].concat(c),D,r,ja,va,ha,ma,b,f,g,l,m,y,ka,L,ia,ya,Ka,La,Aa,Ma,U,wa,R,oa,za,la;k.$$prototype.num=k.$$prototype.den=q;a.defs(k,"$reduce",D=function(M,K){M=M.$to_i();
K=K.$to_i();if(K["$=="](0))this.$raise(d(A,"ZeroDivisionError"),"divided by 0");else if(x(w(K,0)))M=M["$-@"](),K=K["$-@"]();else if(K["$=="](1))return this.$new(M,K);var X=M.$gcd(K);return this.$new(G(M,X),G(K,X))},D.$$arity=2);a.defs(k,"$convert",r=function(M,K){var X=q,xa=q,aa=q,qa=q,Ea=q,Ia=q,Sa=q,Wa=q;x(x(X=M["$nil?"]())?X:K["$nil?"]())&&this.$raise(d(A,"TypeError"),"cannot convert nil into Rational");if(x(x(xa=d(A,"Integer")["$==="](M))?d(A,"Integer")["$==="](K):xa))return this.$reduce(M,K);
x(x(aa=x(qa=d(A,"Float")["$==="](M))?qa:d(A,"String")["$==="](M))?aa:d(A,"Complex")["$==="](M))&&(M=M.$to_r());x(x(Ea=x(Ia=d(A,"Float")["$==="](K))?Ia:d(A,"String")["$==="](K))?Ea:d(A,"Complex")["$==="](K))&&(K=K.$to_r());return x(x(Sa=K["$equal?"](1))?d(A,"Integer")["$==="](M)["$!"]():Sa)?d(A,"Opal")["$coerce_to!"](M,d(A,"Rational"),"to_r"):x(x(Wa=d(A,"Numeric")["$==="](M))?d(A,"Numeric")["$==="](K):Wa)?G(M,K):this.$reduce(M,K)},r.$$arity=2);a.def(k,"$initialize",ja=function(M,K){this.num=M;return this.den=
K},ja.$$arity=2);a.def(k,"$numerator",va=function(){return this.num},va.$$arity=0);a.def(k,"$denominator",ha=function(){return this.den},ha.$$arity=0);a.def(k,"$coerce",ma=function(M){return d(A,"Rational")["$==="](M)?[M,this]:d(A,"Integer")["$==="](M)?[M.$to_r(),this]:d(A,"Float")["$==="](M)?[M,this.$to_f()]:q},ma.$$arity=1);a.def(k,"$==",b=function(M){var K=q,X=q;return d(A,"Rational")["$==="](M)?x(K=this.num["$=="](M.$numerator()))?this.den["$=="](M.$denominator()):K:d(A,"Integer")["$==="](M)?
x(X=this.num["$=="](M))?this.den["$=="](1):X:d(A,"Float")["$==="](M)?this.$to_f()["$=="](M):M["$=="](this)},b.$$arity=1);a.def(k,"$<=>",f=function(M){return d(A,"Rational")["$==="](M)?z(B(this.num,M.$denominator()),B(this.den,M.$numerator()))["$<=>"](0):d(A,"Integer")["$==="](M)?z(this.num,B(this.den,M))["$<=>"](0):d(A,"Float")["$==="](M)?this.$to_f()["$<=>"](M):this.$__coerced__("<=>",M)},f.$$arity=1);a.def(k,"$+",g=function(M){if(d(A,"Rational")["$==="](M)){var K=h(B(this.num,M.$denominator()),
B(this.den,M.$numerator()));M=B(this.den,M.$denominator());K=this.$Rational(K,M)}else K=d(A,"Integer")["$==="](M)?this.$Rational(h(this.num,B(M,this.den)),this.den):d(A,"Float")["$==="](M)?h(this.$to_f(),M):this.$__coerced__("+",M);return K},g.$$arity=1);a.def(k,"$-",l=function(M){if(d(A,"Rational")["$==="](M)){var K=z(B(this.num,M.$denominator()),B(this.den,M.$numerator()));M=B(this.den,M.$denominator());K=this.$Rational(K,M)}else K=d(A,"Integer")["$==="](M)?this.$Rational(z(this.num,B(M,this.den)),
this.den):d(A,"Float")["$==="](M)?z(this.$to_f(),M):this.$__coerced__("-",M);return K},l.$$arity=1);a.def(k,"$*",m=function(M){if(d(A,"Rational")["$==="](M)){var K=B(this.num,M.$numerator());M=B(this.den,M.$denominator());K=this.$Rational(K,M)}else K=d(A,"Integer")["$==="](M)?this.$Rational(B(this.num,M),this.den):d(A,"Float")["$==="](M)?B(this.$to_f(),M):this.$__coerced__("*",M);return K},m.$$arity=1);a.def(k,"$/",y=function(M){if(d(A,"Rational")["$==="](M)){var K=B(this.num,M.$denominator());M=
B(this.den,M.$numerator());K=this.$Rational(K,M)}else K=d(A,"Integer")["$==="](M)?M["$=="](0)?G(this.$to_f(),0):this.$Rational(this.num,B(this.den,M)):d(A,"Float")["$==="](M)?G(this.$to_f(),M):this.$__coerced__("/",M);return K},y.$$arity=1);a.def(k,"$**",ka=function(M){var K=q,X=q;return d(A,"Integer")["$==="](M)?x(x(K=this["$=="](0))?w(M,0):K)?I(d(A,"Float"),"INFINITY"):x("number"===typeof M?0<M:M["$>"](0))?this.$Rational(this.num["$**"](M),this.den["$**"](M)):x(w(M,0))?this.$Rational(this.den["$**"](M["$-@"]()),
this.num["$**"](M["$-@"]())):this.$Rational(1,1):d(A,"Float")["$==="](M)?this.$to_f()["$**"](M):d(A,"Rational")["$==="](M)?M["$=="](0)?this.$Rational(1,1):M.$denominator()["$=="](1)?x(w(M,0))?this.$Rational(this.den["$**"](M.$numerator().$abs()),this.num["$**"](M.$numerator().$abs())):this.$Rational(this.num["$**"](M.$numerator()),this.den["$**"](M.$numerator())):x(x(X=this["$=="](0))?w(M,0):X)?this.$raise(d(A,"ZeroDivisionError"),"divided by 0"):this.$to_f()["$**"](M):this.$__coerced__("**",M)},
ka.$$arity=1);a.def(k,"$abs",L=function(){return this.$Rational(this.num.$abs(),this.den.$abs())},L.$$arity=0);a.def(k,"$ceil",ia=function(M){null==M&&(M=0);return M["$=="](0)?G(this.num["$-@"](),this.den)["$-@"]().$ceil():this.$with_precision("ceil",M)},ia.$$arity=-1);a.alias(k,"divide","/");a.def(k,"$floor",ya=function(M){null==M&&(M=0);return M["$=="](0)?G(this.num["$-@"](),this.den)["$-@"]().$floor():this.$with_precision("floor",M)},ya.$$arity=-1);a.def(k,"$hash",Ka=function(){return"Rational:"+
this.num+":"+this.den},Ka.$$arity=0);a.def(k,"$inspect",La=function(){return"("+this+")"},La.$$arity=0);a.alias(k,"quo","/");a.def(k,"$rationalize",Aa=function(M){1<arguments.length&&this.$raise(d(A,"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)");if(null==M)return this;var K=M.$abs(),X=z(this,K);K=h(this,K);for(var xa=0,aa=1,qa=1,Ea=0,Ia,Sa,Wa;;){Ia=X.$ceil();if("number"===typeof Ia&&"number"===typeof K?Ia<=K:Ia["$<="](K))break;Wa=Ia-1;Ia=Wa*aa+xa;Sa=Wa*Ea+qa;xa=G(1,
z(K,Wa));K=G(1,z(X,Wa));X=xa;xa=aa;qa=Ea;aa=Ia;Ea=Sa}return this.$Rational(Ia*aa+xa,Ia*Ea+qa)},Aa.$$arity=-1);a.def(k,"$round",Ma=function(M){null==M&&(M=0);if(!M["$=="](0))return this.$with_precision("round",M);if(this.num["$=="](0))return 0;if(this.den["$=="](1))return this.num;M=h(B(this.num.$abs(),2),this.den);var K=B(this.den,2);M=G(M,K).$truncate();return x(w(this.num,0))?M["$-@"]():M},Ma.$$arity=-1);a.def(k,"$to_f",U=function(){return G(this.num,this.den)},U.$$arity=0);a.def(k,"$to_i",wa=function(){return this.$truncate()},
wa.$$arity=0);a.def(k,"$to_r",R=function(){return this},R.$$arity=0);a.def(k,"$to_s",oa=function(){return""+this.num+"/"+this.den},oa.$$arity=0);a.def(k,"$truncate",za=function(M){null==M&&(M=0);return M["$=="](0)?x(w(this.num,0))?this.$ceil():this.$floor():this.$with_precision("truncate",M)},za.$$arity=-1);return(a.def(k,"$with_precision",la=function(M,K){x(d(A,"Integer")["$==="](K))||this.$raise(d(A,"TypeError"),"not an Integer");var X=10["$**"](K);var xa=B(this,X);return x(w(K,1))?G(xa.$send(M),
X).$to_i():this.$Rational(xa.$send(M),X)},la.$$arity=2),q)&&"with_precision"})(p[0],d(p,"Numeric"),p);(function(k,E){k=e(k,"Kernel");var c=[k].concat(E),A;return(a.def(k,"$Rational",A=function(D,r){null==r&&(r=1);return d(c,"Rational").$convert(D,r)},A.$$arity=-2),q)&&"Rational"})(p[0],p);return function(k,$super,c){k=n(k,$super,"String");[k].concat(c);var A;return(a.def(k,"$to_r",A=function(){function D(){var ma=r.match(ja)[0];r=r.slice(ma.length);return ma.replace(/_/g,"")}var r=this.trimLeft(),
ja=/^[+-]?[\d_]+(\.[\d_]+)?/;r.match(ja);if(ja.test(r)){var va=parseFloat(D());if("/"===r[0]&&(r=r.slice(1),ja.test(r))){var ha=parseFloat(D());return this.$Rational(va,ha)}return this.$Rational(va,1)}return this.$Rational(0,1)},A.$$arity=0),q)&&"to_r"}(p[0],null,p)};
Opal.modules["corelib/time"]=function(a){function w(e,k){return"number"===typeof e&&"number"===typeof k?e+k:e["$+"](k)}function G(e,k){return"number"===typeof e&&"number"===typeof k?e/k:e["$/"](k)}function z(e,k){return"number"===typeof e&&"number"===typeof k?e-k:e["$-"](k)}function B(e,k){return"number"===typeof e&&"number"===typeof k?e<=k:e["$<="](k)}var h=a.top,v=[],p=a.nil,q=a.$$,I=a.slice,d=a.klass,n=a.truthy,x=a.range;a.add_stubs("$require $include $=== $raise $coerce_to! $respond_to? $to_str $to_i $new $<=> $to_f $nil? $> $< $strftime $year $month $day $+ $round $/ $- $copy_instance_variables $initialize_dup $is_a? $zero? $wday $utc? $mon $yday $hour $min $sec $rjust $ljust $zone $to_s $[] $cweek_cyear $isdst $<= $!= $== $ceil".split(" "));
h.$require("corelib/comparable");return function(e,$super,E){function c(ua,pa,Ga,Pa,Va,Ha){ua=ua.$$is_string?parseInt(ua,10):q(D,"Opal")["$coerce_to!"](ua,q(D,"Integer"),"to_int");if(pa===p)pa=1;else if(!pa.$$is_number)if(pa["$respond_to?"]("to_str"))switch(pa=pa.$to_str(),pa.toLowerCase()){case "jan":pa=1;break;case "feb":pa=2;break;case "mar":pa=3;break;case "apr":pa=4;break;case "may":pa=5;break;case "jun":pa=6;break;case "jul":pa=7;break;case "aug":pa=8;break;case "sep":pa=9;break;case "oct":pa=
10;break;case "nov":pa=11;break;case "dec":pa=12;break;default:pa=pa.$to_i()}else pa=q(D,"Opal")["$coerce_to!"](pa,q(D,"Integer"),"to_int");(1>pa||12<pa)&&A.$raise(q(D,"ArgumentError"),"month out of range: "+pa);--pa;Ga=Ga===p?1:Ga.$$is_string?parseInt(Ga,10):q(D,"Opal")["$coerce_to!"](Ga,q(D,"Integer"),"to_int");(1>Ga||31<Ga)&&A.$raise(q(D,"ArgumentError"),"day out of range: "+Ga);Pa=Pa===p?0:Pa.$$is_string?parseInt(Pa,10):q(D,"Opal")["$coerce_to!"](Pa,q(D,"Integer"),"to_int");(0>Pa||24<Pa)&&A.$raise(q(D,
"ArgumentError"),"hour out of range: "+Pa);Va=Va===p?0:Va.$$is_string?parseInt(Va,10):q(D,"Opal")["$coerce_to!"](Va,q(D,"Integer"),"to_int");(0>Va||59<Va)&&A.$raise(q(D,"ArgumentError"),"min out of range: "+Va);Ha===p?Ha=0:Ha.$$is_number||(Ha=Ha.$$is_string?parseInt(Ha,10):q(D,"Opal")["$coerce_to!"](Ha,q(D,"Integer"),"to_int"));(0>Ha||60<Ha)&&A.$raise(q(D,"ArgumentError"),"sec out of range: "+Ha);return[ua,pa,Ga,Pa,Va,Ha]}var A=d(e,$super,"Time"),D=[A].concat(E),r,ja,va,ha,ma,b,f,g,l,m,y,ka,L,ia,
ya,Ka,La,Aa,Ma,U,wa,R,oa,za,la,M,K,X,xa,aa,qa,Ea,Ia,Sa,Wa,ib,gb,Ta,V,Ca,Da,Xa;A.$include(q(D,"Comparable"));var $a="Sunday Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "),Ua="Sun Mon Tue Wed Thu Fri Sat".split(" "),Ya="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),Ba="January February March April May June July August September October November December".split(" ");a.defs(A,"$at",r=function(ua,pa){if(q(D,"Time")["$==="](ua))return void 0!==pa&&this.$raise(q(D,"TypeError"),
"can't convert Time into an exact number"),pa=new Date(ua.getTime()),pa.is_utc=ua.is_utc,pa;ua.$$is_number||(ua=q(D,"Opal")["$coerce_to!"](ua,q(D,"Integer"),"to_int"));if(void 0===pa)return new Date(1E3*ua);pa.$$is_number||(pa=q(D,"Opal")["$coerce_to!"](pa,q(D,"Integer"),"to_int"));return new Date(1E3*ua+pa/1E3)},r.$$arity=-2);a.defs(A,"$new",ja=function(ua,pa,Ga,Pa,Va,Ha,Z){null==pa&&(pa=p);null==Ga&&(Ga=p);null==Pa&&(Pa=p);null==Va&&(Va=p);null==Ha&&(Ha=p);null==Z&&(Z=p);if(void 0===ua)return new Date;
Z!==p&&this.$raise(q(D,"ArgumentError"),"Opal does not support explicitly specifying UTC offset for Time");Ha=c(ua,pa,Ga,Pa,Va,Ha);ua=Ha[0];pa=Ha[1];Ga=Ha[2];Pa=Ha[3];Va=Ha[4];Ha=Ha[5];pa=new Date(ua,pa,Ga,Pa,Va,0,1E3*Ha);100>ua&&pa.setFullYear(ua);return pa},ja.$$arity=-1);a.defs(A,"$local",va=function(ua,pa,Ga,Pa,Va,Ha,Z,P,ba,T){null==pa&&(pa=p);null==Ga&&(Ga=p);null==Pa&&(Pa=p);null==Va&&(Va=p);null==Ha&&(Ha=p);null==Z&&(Z=p);null==P&&(P=p);null==ba&&(ba=p);null==T&&(T=p);if(10===arguments.length){var fa=
I.call(arguments);ua=fa[5];pa=fa[4];Ga=fa[3];Pa=fa[2];Va=fa[1];Ha=fa[0]}fa=c(ua,pa,Ga,Pa,Va,Ha);ua=fa[0];pa=fa[1];Ga=fa[2];Pa=fa[3];Va=fa[4];Ha=fa[5];fa=new Date(ua,pa,Ga,Pa,Va,0,1E3*Ha);100>ua&&fa.setFullYear(ua);return fa},va.$$arity=-2);a.defs(A,"$gm",ha=function(ua,pa,Ga,Pa,Va,Ha,Z,P,ba,T){null==pa&&(pa=p);null==Ga&&(Ga=p);null==Pa&&(Pa=p);null==Va&&(Va=p);null==Ha&&(Ha=p);null==Z&&(Z=p);null==P&&(P=p);null==ba&&(ba=p);null==T&&(T=p);if(10===arguments.length){var fa=I.call(arguments);ua=fa[5];
pa=fa[4];Ga=fa[3];Pa=fa[2];Va=fa[1];Ha=fa[0]}fa=c(ua,pa,Ga,Pa,Va,Ha);ua=fa[0];pa=fa[1];Ga=fa[2];Pa=fa[3];Va=fa[4];Ha=fa[5];fa=new Date(Date.UTC(ua,pa,Ga,Pa,Va,0,1E3*Ha));100>ua&&fa.setUTCFullYear(ua);fa.is_utc=!0;return fa},ha.$$arity=-2);(function(ua,pa){[ua].concat(pa);a.alias(ua,"mktime","local");return a.alias(ua,"utc","gm")})(a.get_singleton_class(A),D);a.defs(A,"$now",ma=function(){return this.$new()},ma.$$arity=0);a.def(A,"$+",b=function(ua){n(q(D,"Time")["$==="](ua))&&this.$raise(q(D,"TypeError"),
"time + time?");ua.$$is_number||(ua=q(D,"Opal")["$coerce_to!"](ua,q(D,"Integer"),"to_int"));ua=new Date(this.getTime()+1E3*ua);ua.is_utc=this.is_utc;return ua},b.$$arity=1);a.def(A,"$-",f=function(ua){if(n(q(D,"Time")["$==="](ua)))return(this.getTime()-ua.getTime())/1E3;ua.$$is_number||(ua=q(D,"Opal")["$coerce_to!"](ua,q(D,"Integer"),"to_int"));ua=new Date(this.getTime()-1E3*ua);ua.is_utc=this.is_utc;return ua},f.$$arity=1);a.def(A,"$<=>",g=function(ua){if(n(q(D,"Time")["$==="](ua)))return this.$to_f()["$<=>"](ua.$to_f());
ua=ua["$<=>"](this);return n(ua["$nil?"]())?p:n("number"===typeof ua?0<ua:ua["$>"](0))?-1:n("number"===typeof ua?0>ua:ua["$<"](0))?1:0},g.$$arity=1);a.def(A,"$==",l=function(ua){var pa;return n(pa=q(D,"Time")["$==="](ua))?this.$to_f()===ua.$to_f():pa},l.$$arity=1);a.def(A,"$asctime",m=function(){return this.$strftime("%a %b %e %H:%M:%S %Y")},m.$$arity=0);a.alias(A,"ctime","asctime");a.def(A,"$day",y=function(){return this.is_utc?this.getUTCDate():this.getDate()},y.$$arity=0);a.def(A,"$yday",ka=function(){var ua=
q(D,"Time").$new(this.$year()).$to_i();var pa=q(D,"Time").$new(this.$year(),this.$month(),this.$day()).$to_i();return w(G(z(pa,ua),86400).$round(),1)},ka.$$arity=0);a.def(A,"$isdst",L=function(){var ua=new Date(this.getFullYear(),0,1),pa=new Date(this.getFullYear(),6,1);return this.getTimezoneOffset()<Math.max(ua.getTimezoneOffset(),pa.getTimezoneOffset())},L.$$arity=0);a.alias(A,"dst?","isdst");a.def(A,"$dup",ia=function(){var ua=new Date(this.getTime());ua.$copy_instance_variables(this);ua.$initialize_dup(this);
return ua},ia.$$arity=0);a.def(A,"$eql?",ya=function(ua){var pa;return n(pa=ua["$is_a?"](q(D,"Time")))?this["$<=>"](ua)["$zero?"]():pa},ya.$$arity=1);a.def(A,"$friday?",Ka=function(){return 5==this.$wday()},Ka.$$arity=0);a.def(A,"$hash",La=function(){return"Time:"+this.getTime()},La.$$arity=0);a.def(A,"$hour",Aa=function(){return this.is_utc?this.getUTCHours():this.getHours()},Aa.$$arity=0);a.def(A,"$inspect",Ma=function(){return n(this["$utc?"]())?this.$strftime("%Y-%m-%d %H:%M:%S UTC"):this.$strftime("%Y-%m-%d %H:%M:%S %z")},
Ma.$$arity=0);a.alias(A,"mday","day");a.def(A,"$min",U=function(){return this.is_utc?this.getUTCMinutes():this.getMinutes()},U.$$arity=0);a.def(A,"$mon",wa=function(){return(this.is_utc?this.getUTCMonth():this.getMonth())+1},wa.$$arity=0);a.def(A,"$monday?",R=function(){return 1==this.$wday()},R.$$arity=0);a.alias(A,"month","mon");a.def(A,"$saturday?",oa=function(){return 6==this.$wday()},oa.$$arity=0);a.def(A,"$sec",za=function(){return this.is_utc?this.getUTCSeconds():this.getSeconds()},za.$$arity=
0);a.def(A,"$succ",la=function(){var ua=new Date(this.getTime()+1E3);ua.is_utc=this.is_utc;return ua},la.$$arity=0);a.def(A,"$usec",M=function(){return 1E3*this.getMilliseconds()},M.$$arity=0);a.def(A,"$zone",K=function(){var ua=this.toString();var pa=-1==ua.indexOf("(")?ua.match(/[A-Z]{3,4}/)[0]:ua.match(/\((.+)\)(?:\s|$)/)[1];return"GMT"==pa&&/(GMT\W*\d{4})/.test(ua)?RegExp.$1:pa},K.$$arity=0);a.def(A,"$getgm",X=function(){var ua=new Date(this.getTime());ua.is_utc=!0;return ua},X.$$arity=0);a.alias(A,
"getutc","getgm");a.def(A,"$gmtime",xa=function(){this.is_utc=!0;return this},xa.$$arity=0);a.alias(A,"utc","gmtime");a.def(A,"$gmt?",aa=function(){return!0===this.is_utc},aa.$$arity=0);a.def(A,"$gmt_offset",qa=function(){return this.is_utc?0:60*-this.getTimezoneOffset()},qa.$$arity=0);a.def(A,"$strftime",Ea=function(ua){var pa=this;return ua.replace(/%([\-_#^0]*:{0,2})(\d+)?([EO]*)(.)/g,function(Ga,Pa,Va,Ha,Z){Ha="";var P=-1!==Pa.indexOf("0"),ba=-1===Pa.indexOf("-"),T=-1!==Pa.indexOf("_"),fa=-1!==
Pa.indexOf("^"),na=-1!==Pa.indexOf("#"),J=(Pa.match(":")||[]).length;Va=parseInt(Va,10);P&&T&&(Pa.indexOf("0")<Pa.indexOf("_")?P=!1:T=!1);switch(Z){case "Y":Ha+=pa.$year();break;case "C":P=!T;Ha+=Math.round(pa.$year()/100);break;case "y":P=!T;Ha+=pa.$year()%100;break;case "m":P=!T;Ha+=pa.$mon();break;case "B":Ha+=Ba[pa.$mon()-1];break;case "b":case "h":T=!P;Ha+=Ya[pa.$mon()-1];break;case "d":P=!T;Ha+=pa.$day();break;case "e":T=!P;Ha+=pa.$day();break;case "j":P=!T;Va=isNaN(Va)?3:Va;Ha+=pa.$yday();
break;case "H":P=!T;Ha+=pa.$hour();break;case "k":T=!P;Ha+=pa.$hour();break;case "I":P=!T;Ha+=pa.$hour()%12||12;break;case "l":T=!P;Ha+=pa.$hour()%12||12;break;case "P":Ha+=12<=pa.$hour()?"pm":"am";break;case "p":Ha+=12<=pa.$hour()?"PM":"AM";break;case "M":P=!T;Ha+=pa.$min();break;case "S":P=!T;Ha+=pa.$sec();break;case "L":P=!T;Va=isNaN(Va)?3:Va;Ha+=pa.getMilliseconds();break;case "N":Va=isNaN(Va)?9:Va;Ha+=pa.getMilliseconds().toString().$rjust(3,"0");Ha=Ha.$ljust(Va,"0");break;case "z":Ga=pa.getTimezoneOffset();
Pa=Math.floor(Math.abs(Ga)/60);Z=Math.abs(Ga)%60;Ha=Ha+(0>Ga?"+":"-")+(10>Pa?"0":"")+Pa;0<J&&(Ha+=":");Ha+=10>Z?"0":"";Ha+=Z;1<J&&(Ha+=":00");break;case "Z":Ha+=pa.$zone();break;case "A":Ha+=$a[pa.$wday()];break;case "a":Ha+=Ua[pa.$wday()];break;case "u":Ha+=pa.$wday()+1;break;case "w":Ha+=pa.$wday();break;case "V":Ha+=pa.$cweek_cyear()["$[]"](0).$to_s().$rjust(2,"0");break;case "G":Ha+=pa.$cweek_cyear()["$[]"](1);break;case "g":Ha+=pa.$cweek_cyear()["$[]"](1)["$[]"](x(-2,-1,!1));break;case "s":Ha+=
pa.$to_i();break;case "n":Ha+="\n";break;case "t":Ha+="\t";break;case "%":Ha+="%";break;case "c":Ha+=pa.$strftime("%a %b %e %T %Y");break;case "D":case "x":Ha+=pa.$strftime("%m/%d/%y");break;case "F":Ha+=pa.$strftime("%Y-%m-%d");break;case "v":Ha+=pa.$strftime("%e-%^b-%4Y");break;case "r":Ha+=pa.$strftime("%I:%M:%S %p");break;case "R":Ha+=pa.$strftime("%H:%M");break;case "T":case "X":Ha+=pa.$strftime("%H:%M:%S");break;default:return Ga}fa&&(Ha=Ha.toUpperCase());na&&(Ha=Ha.replace(/[A-Z]/,function(ea){ea.toLowerCase()}).replace(/[a-z]/,
function(ea){ea.toUpperCase()}));ba&&(P||T)&&(Ha=Ha.$rjust(isNaN(Va)?2:Va,T?" ":"0"));return Ha})},Ea.$$arity=1);a.def(A,"$sunday?",Ia=function(){return 0==this.$wday()},Ia.$$arity=0);a.def(A,"$thursday?",Sa=function(){return 4==this.$wday()},Sa.$$arity=0);a.def(A,"$to_a",Wa=function(){return[this.$sec(),this.$min(),this.$hour(),this.$day(),this.$month(),this.$year(),this.$wday(),this.$yday(),this.$isdst(),this.$zone()]},Wa.$$arity=0);a.def(A,"$to_f",ib=function(){return this.getTime()/1E3},ib.$$arity=
0);a.def(A,"$to_i",gb=function(){return parseInt(this.getTime()/1E3,10)},gb.$$arity=0);a.alias(A,"to_s","inspect");a.def(A,"$tuesday?",Ta=function(){return 2==this.$wday()},Ta.$$arity=0);a.alias(A,"tv_sec","to_i");a.alias(A,"tv_usec","usec");a.alias(A,"utc?","gmt?");a.alias(A,"gmtoff","gmt_offset");a.alias(A,"utc_offset","gmt_offset");a.def(A,"$wday",V=function(){return this.is_utc?this.getUTCDay():this.getDay()},V.$$arity=0);a.def(A,"$wednesday?",Ca=function(){return 3==this.$wday()},Ca.$$arity=
0);a.def(A,"$year",Da=function(){return this.is_utc?this.getUTCFullYear():this.getFullYear()},Da.$$arity=0);return(a.def(A,"$cweek_cyear",Xa=function(){var ua=p,pa=p;var Ga=q(D,"Time").$new(this.$year(),1,1).$wday();var Pa=this.$year();n(n(ua=B(Ga,4))?Ga["$!="](0):ua)?Ga=z(Ga,1):(Ga=z(z(Ga,7),1),Ga["$=="](-8)&&(Ga=-1));Ga=G(w(this.$yday(),Ga),7).$ceil();if(n(B(Ga,0)))return q(D,"Time").$new(z(this.$year(),1),12,31).$cweek_cyear();Ga["$=="](53)&&(ua=q(D,"Time").$new(this.$year(),12,31),ua=ua.$wday(),
n(n(pa=B(ua,3))?ua["$!="](0):pa)&&(Ga=1,Pa=w(Pa,1)));return[Ga,Pa]},Xa.$$arity=0),p)&&"cweek_cyear"}(v[0],Date,v)};
Opal.modules["corelib/struct"]=function(a){function w(k,E){return"number"===typeof k&&"number"===typeof E?k>E:k["$>"](E)}function G(k,E){return"number"===typeof k&&"number"===typeof E?k-E:k["$-"](E)}function z(k,E){return"number"===typeof k&&"number"===typeof E?k<E:k["$<"](E)}function B(k,E){return"number"===typeof k&&"number"===typeof E?k>=E:k["$>="](E)}function h(k,E){return"number"===typeof k&&"number"===typeof E?k+E:k["$+"](E)}var v=a.top,p=[],q=a.nil,I=a.$$,d=a.klass,n=a.hash2,x=a.truthy,e=a.send;
a.add_stubs("$require $include $const_name! $unshift $map $coerce_to! $new $each $define_struct_attribute $allocate $initialize $alias_method $module_eval $to_proc $const_set $== $raise $<< $members $define_method $instance_eval $class $last $> $length $- $keys $any? $join $[] $[]= $each_with_index $hash $=== $< $-@ $size $>= $include? $to_sym $instance_of? $__id__ $eql? $enum_for $name $+ $each_pair $inspect $to_h $args $each_with_object $flatten $to_a $respond_to? $dig".split(" "));v.$require("corelib/enumerable");
return function(k,$super,c){k=d(k,$super,"Struct");var A=[k].concat(c),D,r,ja,va,ha,ma,b,f,g,l,m,y,ka,L,ia,ya,Ka,La,Aa,Ma;k.$include(I(A,"Enumerable"));a.defs(k,"$new",D=function(U,wa,R){var oa=D.$$p,za=oa||q,la,M;var K=q;oa&&(D.$$p=null);oa&&(D.$$p=null);var X=a.slice.call(arguments,1,arguments.length);K=a.extract_kwargs(X);if(null==K)K=n([],{});else if(!K.$$is_hash)throw a.ArgumentError.$new("expected kwargs");oa=K.$$smap.keyword_init;null==oa&&(oa=!1);if(x(U))try{U=I(A,"Opal")["$const_name!"](U)}catch(xa){if(a.rescue(xa,
[I(A,"TypeError"),I(A,"NameError")]))try{X.$unshift(U),U=q}finally{a.pop_exception()}else throw xa;}e(X,"map",[],(la=function(xa){null==xa&&(xa=q);return I(A,"Opal")["$coerce_to!"](xa,I(A,"String"),"to_str")},la.$$s=this,la.$$arity=1,la));K=e(I(A,"Class"),"new",[this],(M=function(){var xa=null==M.$$s?this:M.$$s,aa;e(X,"each",[],(aa=function(qa){var Ea=null==aa.$$s?this:aa.$$s;null==qa&&(qa=q);return Ea.$define_struct_attribute(qa)},aa.$$s=xa,aa.$$arity=1,aa));return function(qa,Ea){[qa].concat(Ea);
var Ia;a.def(qa,"$new",Ia=function(Sa){var Wa=a.slice.call(arguments,0,arguments.length);var ib=this.$allocate();ib.$$data={};e(ib,"initialize",a.to_a(Wa));return ib},Ia.$$arity=-1);return qa.$alias_method("[]","new")}(a.get_singleton_class(xa),A)},M.$$s=this,M.$$arity=0,M));x(za)&&e(K,"module_eval",[],za.$to_proc());K.$$keyword_init=oa;x(U)&&I(A,"Struct").$const_set(U,K);return K},D.$$arity=-2);a.defs(k,"$define_struct_attribute",r=function(U){var wa,R;this["$=="](I(A,"Struct"))&&this.$raise(I(A,
"ArgumentError"),"you cannot define attributes to the Struct class");this.$members()["$<<"](U);e(this,"define_method",[U],(wa=function(){return(null==wa.$$s?this:wa.$$s).$$data[U]},wa.$$s=this,wa.$$arity=0,wa));return e(this,"define_method",[""+U+"="],(R=function(oa){var za=null==R.$$s?this:R.$$s;null==oa&&(oa=q);return za.$$data[U]=oa},R.$$s=this,R.$$arity=1,R))},r.$$arity=1);a.defs(k,"$members",ja=function(){var U=q;null==this.members&&(this.members=q);this["$=="](I(A,"Struct"))&&this.$raise(I(A,
"ArgumentError"),"the Struct class has no members");return this.members=x(U=this.members)?U:[]},ja.$$arity=0);a.defs(k,"$inherited",va=function(U){var wa,R=q;null==this.members&&(this.members=q);R=this.members;return e(U,"instance_eval",[],(wa=function(){return(null==wa.$$s?this:wa.$$s).members=R},wa.$$s=this,wa.$$arity=0,wa))},va.$$arity=1);a.def(k,"$initialize",ha=function(U){var wa,R,oa=q,za=q,la=q,M=q;var K=a.slice.call(arguments,0,arguments.length);if(x(this.$class().$$keyword_init))return oa=
x(za=K.$last())?za:n([],{}),x(x(la=w(K.$length(),1))?la:1===K.length&&!oa.$$is_hash)&&this.$raise(I(A,"ArgumentError"),"wrong number of arguments (given "+K.$length()+", expected 0)"),M=G(oa.$keys(),this.$class().$members()),x(M["$any?"]())&&this.$raise(I(A,"ArgumentError"),"unknown keywords: "+M.$join(", ")),e(this.$class().$members(),"each",[],(wa=function(X){var xa=null==wa.$$s?this:wa.$$s;null==X&&(X=q);X=[X,oa["$[]"](X)];e(xa,"[]=",a.to_a(X));return X[G(X.length,1)]},wa.$$s=this,wa.$$arity=1,
wa));x(w(K.$length(),this.$class().$members().$length()))&&this.$raise(I(A,"ArgumentError"),"struct size differs");return e(this.$class().$members(),"each_with_index",[],(R=function(X,xa){var aa=null==R.$$s?this:R.$$s;null==X&&(X=q);null==xa&&(xa=q);X=[X,K["$[]"](xa)];e(aa,"[]=",a.to_a(X));return X[G(X.length,1)]},R.$$s=this,R.$$arity=2,R))},ha.$$arity=-1);a.def(k,"$initialize_copy",ma=function(U){this.$$data={};var wa=Object.keys(U.$$data),R;var oa=0;for(R=wa.length;oa<R;oa++){var za=wa[oa];this.$$data[za]=
U.$$data[za]}},ma.$$arity=1);a.def(k,"$members",b=function(){return this.$class().$members()},b.$$arity=0);a.def(k,"$hash",f=function(){return I(A,"Hash").$new(this.$$data).$hash()},f.$$arity=0);a.def(k,"$[]",g=function(U){x(I(A,"Integer")["$==="](U))?(x(z(U,this.$class().$members().$size()["$-@"]()))&&this.$raise(I(A,"IndexError"),"offset "+U+" too small for struct(size:"+this.$class().$members().$size()+")"),x(B(U,this.$class().$members().$size()))&&this.$raise(I(A,"IndexError"),"offset "+U+" too large for struct(size:"+
this.$class().$members().$size()+")"),U=this.$class().$members()["$[]"](U)):x(I(A,"String")["$==="](U))?this.$$data.hasOwnProperty(U)||this.$raise(I(A,"NameError").$new("no member '"+U+"' in struct",U)):this.$raise(I(A,"TypeError"),"no implicit conversion of "+U.$class()+" into Integer");U=I(A,"Opal")["$coerce_to!"](U,I(A,"String"),"to_str");return this.$$data[U]},g.$$arity=1);a.def(k,"$[]=",l=function(U,wa){x(I(A,"Integer")["$==="](U))?(x(z(U,this.$class().$members().$size()["$-@"]()))&&this.$raise(I(A,
"IndexError"),"offset "+U+" too small for struct(size:"+this.$class().$members().$size()+")"),x(B(U,this.$class().$members().$size()))&&this.$raise(I(A,"IndexError"),"offset "+U+" too large for struct(size:"+this.$class().$members().$size()+")"),U=this.$class().$members()["$[]"](U)):x(I(A,"String")["$==="](U))?x(this.$class().$members()["$include?"](U.$to_sym()))||this.$raise(I(A,"NameError").$new("no member '"+U+"' in struct",U)):this.$raise(I(A,"TypeError"),"no implicit conversion of "+U.$class()+
" into Integer");U=I(A,"Opal")["$coerce_to!"](U,I(A,"String"),"to_str");return this.$$data[U]=wa},l.$$arity=2);a.def(k,"$==",m=function(U){function wa(za,la){var M;R[za.$__id__()]=!0;oa[la.$__id__()]=!0;for(M in za.$$data){var K=za.$$data[M];var X=la.$$data[M];if(I(A,"Struct")["$==="](K)){if(!(R.hasOwnProperty(K.$__id__())&&oa.hasOwnProperty(X.$__id__())||wa(K,X)))return!1}else if(!K["$=="](X))return!1}return!0}if(!x(U["$instance_of?"](this.$class())))return!1;var R={},oa={};return wa(this,U)},m.$$arity=
1);a.def(k,"$eql?",y=function(U){function wa(za,la){var M;R[za.$__id__()]=!0;oa[la.$__id__()]=!0;for(M in za.$$data){var K=za.$$data[M];var X=la.$$data[M];if(I(A,"Struct")["$==="](K)){if(!(R.hasOwnProperty(K.$__id__())&&oa.hasOwnProperty(X.$__id__())||wa(K,X)))return!1}else if(!K["$eql?"](X))return!1}return!0}if(!x(U["$instance_of?"](this.$class())))return!1;var R={},oa={};return wa(this,U)},y.$$arity=1);a.def(k,"$each",ka=function(){var U,wa,R=ka.$$p,oa=R||q;R&&(ka.$$p=null);if(oa===q)return e(this,
"enum_for",["each"],(U=function(){return(null==U.$$s?this:U.$$s).$size()},U.$$s=this,U.$$arity=0,U));e(this.$class().$members(),"each",[],(wa=function(za){var la=null==wa.$$s?this:wa.$$s;null==za&&(za=q);return a.yield1(oa,la["$[]"](za))},wa.$$s=this,wa.$$arity=1,wa));return this},ka.$$arity=0);a.def(k,"$each_pair",L=function(){var U,wa,R=L.$$p,oa=R||q;R&&(L.$$p=null);if(oa===q)return e(this,"enum_for",["each_pair"],(U=function(){return(null==U.$$s?this:U.$$s).$size()},U.$$s=this,U.$$arity=0,U));
e(this.$class().$members(),"each",[],(wa=function(za){var la=null==wa.$$s?this:wa.$$s;null==za&&(za=q);return a.yield1(oa,[za,la["$[]"](za)])},wa.$$s=this,wa.$$arity=1,wa));return this},L.$$arity=0);a.def(k,"$length",ia=function(){return this.$class().$members().$length()},ia.$$arity=0);a.alias(k,"size","length");a.def(k,"$to_a",ya=function(){var U;return e(this.$class().$members(),"map",[],(U=function(wa){var R=null==U.$$s?this:U.$$s;null==wa&&(wa=q);return R["$[]"](wa)},U.$$s=this,U.$$arity=1,U))},
ya.$$arity=0);a.alias(k,"values","to_a");a.def(k,"$inspect",Ka=function(){var U,wa=q,R=q;wa="#<struct ";x(x(R=I(A,"Struct")["$==="](this))?this.$class().$name():R)&&(wa=h(wa,""+this.$class()+" "));wa=h(wa,e(this.$each_pair(),"map",[],(U=function(oa,za){null==oa&&(oa=q);null==za&&(za=q);return""+oa+"="+za.$inspect()},U.$$s=this,U.$$arity=2,U)).$join(", "));return wa=h(wa,">")},Ka.$$arity=0);a.alias(k,"to_s","inspect");a.def(k,"$to_h",La=function(){var U=La.$$p,wa=U||q,R;U&&(La.$$p=null);U&&(La.$$p=
null);return wa!==q?e(e(this,"map",[],wa.$to_proc()),"to_h",a.to_a(this.$args())):e(this.$class().$members(),"each_with_object",[n([],{})],(R=function(oa,za){var la=null==R.$$s?this:R.$$s;null==oa&&(oa=q);null==za&&(za=q);oa=[oa,la["$[]"](oa)];e(za,"[]=",a.to_a(oa));return oa[G(oa.length,1)]},R.$$s=this,R.$$arity=2,R))},La.$$arity=0);a.def(k,"$values_at",Aa=function(U){var wa;var R=a.slice.call(arguments,0,arguments.length);R=e(R,"map",[],(wa=function(la){null==la&&(la=q);return la.$$is_range?la.$to_a():
la},wa.$$s=this,wa.$$arity=1,wa)).$flatten();wa=[];for(var oa=0,za=R.length;oa<za;oa++)R[oa].$$is_number||this.$raise(I(A,"TypeError"),"no implicit conversion of "+R[oa].$class()+" into Integer"),wa.push(this["$[]"](R[oa]));return wa},Aa.$$arity=-1);return(a.def(k,"$dig",Ma=function(U,wa){var R=a.slice.call(arguments,1,arguments.length);var oa=x(U.$$is_string&&this.$$data.hasOwnProperty(U))?this.$$data[U]||q:q;if(oa===q||0===R.length)return oa;x(oa["$respond_to?"]("dig"))||this.$raise(I(A,"TypeError"),
""+oa.$class()+" does not have #dig method");return e(oa,"dig",a.to_a(R))},Ma.$$arity=-2),q)&&"dig"}(p[0],null,p)};Opal.modules["corelib/main"]=function(a){var w,G,z=a.top,B=[],h=a.nil,v=a.$$;a.add_stubs(["$include"]);a.defs(z,"$to_s",w=function(){return"main"},w.$$arity=0);return(a.defs(z,"$include",G=function(p){return v(B,"Object").$include(p)},G.$$arity=1),h)&&"include"};
Opal.modules["corelib/dir"]=function(a){var w=[],G=a.nil,z=a.$$,B=a.klass,h=a.truthy;a.add_stubs(["$[]"]);return function(v,$super,q){v=B(v,$super,"Dir");q=[v].concat(q);return function(I,d){var n=[I].concat(d),x,e,k;a.def(I,"$chdir",x=function(E){var c=x.$$p,A=c||G,D=G;c&&(x.$$p=null);a:{try{D=a.current_dir;a.current_dir=E;var r=a.yieldX(A,[]);break a}finally{a.current_dir=D}r=void 0}return r},x.$$arity=1);a.def(I,"$pwd",e=function(){return a.current_dir||"."},e.$$arity=0);a.alias(I,"getwd","pwd");
return(a.def(I,"$home",k=function(){var E;return h(E=z(n,"ENV")["$[]"]("HOME"))?E:"."},k.$$arity=0),G)&&"home"}(a.get_singleton_class(v),q)}(w[0],null,w)};
Opal.modules["corelib/file"]=function(a){function w(I,d){return"number"===typeof I&&"number"===typeof d?I+d:I["$+"](d)}var G=[],z=a.nil,B=a.$$,h=a.truthy,v=a.klass,p=a.range,q=a.send;a.add_stubs("$respond_to? $to_path $pwd $split $sub $+ $unshift $join $home $raise $start_with? $absolute_path $coerce_to! $basename $empty? $rindex $[] $nil? $== $- $length $gsub $find $=~ $map $each_with_index $flatten $reject $to_proc $end_with?".split(" "));return function(I,$super,n){I=v(I,$super,"File");n=[I].concat(n);
var x=z;a.const_set(n[0],"Separator",a.const_set(n[0],"SEPARATOR","/"));a.const_set(n[0],"ALT_SEPARATOR",z);a.const_set(n[0],"PATH_SEPARATOR",":");a.const_set(n[0],"FNM_SYSCASE",0);x=/^[a-zA-Z]:(?:\\|\/)/;return function(e,k){function E(l){h(l["$respond_to?"]("to_path"))&&(l=l.$to_path());return l=B(A,"Opal")["$coerce_to!"](l,B(A,"String"),"to_str")}function c(){return B(A,"ALT_SEPARATOR")===z?a.escape_regexp(B(A,"SEPARATOR")):a.escape_regexp(w(B(A,"SEPARATOR"),B(A,"ALT_SEPARATOR")))}var A=[e].concat(k),
D,r,ja,va,ha,ma,b,f,g;a.def(e,"$absolute_path",D=function(l,m){var y=z;null==m&&(m=z);var ka=B(A,"SEPARATOR");var L=c();var ia=[];l=h(l["$respond_to?"]("to_path"))?l.$to_path():l;m=h(y=m)?y:B(A,"Dir").$pwd();y=l.substr(0,ka.length)===ka||x.test(l);var ya=m.substr(0,ka.length)===ka||x.test(m);h(y)?(y=l.$split(a.regexp(["[",L,"]"])),l=x.test(l)?"":l.$sub(a.regexp(["^([",L,"]+).*$"]),"\\1"),m=!0):(y=w(m.$split(a.regexp(["[",L,"]"])),l.$split(a.regexp(["[",L,"]"]))),l=x.test(m)?"":m.$sub(a.regexp(["^([",
L,"]+).*$"]),"\\1"),m=ya);ya=0;for(var Ka=y.length;ya<Ka;ya++)L=y[ya],L===z||""===L&&(0===ia.length||m)||"."===L&&(0===ia.length||m)||(".."===L?ia.pop():ia.push(L));m||"."===y[0]||ia.$unshift(".");ka=ia.$join(ka);h(m)&&(ka=w(l,ka));return ka},D.$$arity=-2);a.def(e,"$expand_path",r=function(l,m){null==m&&(m=z);var y=B(A,"SEPARATOR");var ka=c();if(h("~"===l[0]||m&&"~"===m[0])){var L=B(A,"Dir").$home();h(L)||this.$raise(B(A,"ArgumentError"),"couldn't find HOME environment -- expanding `~'");ka=x.test(L)?
"":L.$sub(a.regexp(["^([",ka,"]+).*$"]),"\\1");h(L["$start_with?"](ka))||this.$raise(B(A,"ArgumentError"),"non-absolute home");L=w(L,y);y=a.regexp(["^\\~(?:",y,"|$)"]);l=l.$sub(y,L);h(m)&&(m=m.$sub(y,L))}return this.$absolute_path(l,m)},r.$$arity=-2);a.alias(e,"realpath","expand_path");a.def(e,"$dirname",ja=function(l){var m=c();l=E(l);var y=l.match(new RegExp("^["+m+"]"));l=l.replace(new RegExp("["+m+"]+$"),"");l=l.replace(new RegExp("[^"+m+"]+$"),"");l=l.replace(new RegExp("["+m+"]+$"),"");return""===
l?y?"/":".":l},ja.$$arity=1);a.def(e,"$basename",va=function(l,m){null==m&&(m=z);var y=c();l=E(l);if(0==l.length)return l;m=m!==z?B(A,"Opal")["$coerce_to!"](m,B(A,"String"),"to_str"):null;l=l.replace(new RegExp("(.)["+y+"]*$"),"$1");l=l.replace(new RegExp("^(?:.*["+y+"])?([^"+y+"]+)$"),"$1");".*"===m?l=l.replace(/\.[^\.]+$/,""):null!==m&&(m=a.escape_regexp(m),l=l.replace(new RegExp(""+m+"$"),""));return l},va.$$arity=-2);a.def(e,"$extname",ha=function(l){var m;l=E(l);l=this.$basename(l);if(h(l["$empty?"]()))return"";
var y=l["$[]"](p(1,-1,!1)).$rindex(".");if(!h(m=y["$nil?"]())){m=w(y,1);var ka=m["$=="];var L=l.$length();L="number"===typeof L?L-1:L["$-"](1);m=ka.call(m,L)}return h(m)?"":l["$[]"](a.Range.$new(w(y,1),-1,!1))},ha.$$arity=1);a.def(e,"$exist?",ma=function(l){return null!=a.modules[l]},ma.$$arity=1);a.alias(e,"exists?","exist?");a.def(e,"$directory?",b=function(l){var m,y=z;y=z;y=[];for(var ka in a.modules)y.push(ka);l=l.$gsub(a.regexp(["(^.",B(A,"SEPARATOR"),"+|",B(A,"SEPARATOR"),"+$)"]));return y=
q(y,"find",[],(m=function(L){null==L&&(L=z);return L["$=~"](a.regexp(["^",l]))},m.$$s=this,m.$$arity=1,m))},b.$$arity=1);a.def(e,"$join",f=function(l){var m,y,ka=z;var L=a.slice.call(arguments,0,arguments.length);if(h(L["$empty?"]()))return"";ka="";L=q(L.$flatten().$each_with_index(),"map",[],(m=function(ia,ya){var Ka=z,La=z;null==ia&&(ia=z);null==ya&&(ya=z);return h(h(Ka=ya["$=="](0))?ia["$empty?"]():Ka)?B(A,"SEPARATOR"):h(h(La=L.$length()["$=="](w(ya,1)))?ia["$empty?"]():La)?B(A,"SEPARATOR"):ia},
m.$$s=this,m.$$arity=2,m));L=q(L,"reject",[],"empty?".$to_proc());q(L,"each_with_index",[],(y=function(ia,ya){var Ka=z,La=z;null==ia&&(ia=z);null==ya&&(ya=z);ya=L["$[]"](w(ya,1));if(h(ya["$nil?"]()))return ka=""+ka+ia;h(h(Ka=ia["$end_with?"](B(A,"SEPARATOR")))?ya["$start_with?"](B(A,"SEPARATOR")):Ka)&&(ia=ia.$sub(a.regexp([B(A,"SEPARATOR"),"+$"]),""));return ka=h(h(La=ia["$end_with?"](B(A,"SEPARATOR")))?La:ya["$start_with?"](B(A,"SEPARATOR")))?""+ka+ia:""+ka+ia+B(A,"SEPARATOR")},y.$$s=this,y.$$arity=
2,y));return ka},f.$$arity=-1);return(a.def(e,"$split",g=function(l){return l.$split(B(A,"SEPARATOR"))},g.$$arity=1),z)&&"split"}(a.get_singleton_class(I),n)}(G[0],B(G,"IO"),G)};
Opal.modules["corelib/process"]=function(a){var w=[],G=a.nil,z=a.$$$,B=a.$$,h=a.klass,v=a.truthy;a.add_stubs("$const_set $size $<< $__register_clock__ $to_f $now $new $[] $raise".split(" "));(function(p,$super,I){p=h(p,$super,"Process");var d=[p].concat(I),n,x,e,k;I=G;p.__clocks__=[];a.defs(p,"$__register_clock__",n=function(c,A){null==this.__clocks__&&(this.__clocks__=G);this.$const_set(c,this.__clocks__.$size());return this.__clocks__["$<<"](A)},n.$$arity=2);p.$__register_clock__("CLOCK_REALTIME",
function(){return Date.now()});I=!1;if(a.global.performance)I=function(){return performance.now()};else if(a.global.process&&process.hrtime){var E=process.hrtime();I=function(){var c=process.hrtime(E);return 1E3*c[0]+(c[1]/1E3|0)/1E3}}v(I)&&p.$__register_clock__("CLOCK_MONOTONIC",I);a.defs(p,"$pid",x=function(){return 0},x.$$arity=0);a.defs(p,"$times",e=function(){var c=B(d,"Time").$now().$to_f();return z(B(d,"Benchmark"),"Tms").$new(c,c,c,c,c)},e.$$arity=0);return(a.defs(p,"$clock_gettime",k=function(c,
A){var D,r;null==this.__clocks__&&(this.__clocks__=G);null==A&&(A="float_second");v(D=r=this.__clocks__["$[]"](c))?D:this.$raise(z(B(d,"Errno"),"EINVAL"),"clock_gettime("+c+") "+this.__clocks__["$[]"](c));c=r();switch(A){case "float_second":return c/1E3;case "float_millisecond":return c/1;case "float_microsecond":return 1E3*c;case "second":return c/1E3|0;case "millisecond":return c/1|0;case "microsecond":return 1E3*c|0;case "nanosecond":return 1E6*c|0;default:this.$raise(B(d,"ArgumentError"),"unexpected unit: "+
A)}},k.$$arity=-2),G)&&"clock_gettime"})(w[0],null,w);(function(p,$super,I){p=h(p,$super,"Signal");[p].concat(I);var d;return(a.defs(p,"$trap",d=function(n){a.slice.call(arguments,0,arguments.length);return G},d.$$arity=-1),G)&&"trap"})(w[0],null,w);return function(p,$super,I){p=h(p,$super,"GC");[p].concat(I);var d;return(a.defs(p,"$start",d=function(){return G},d.$$arity=0),G)&&"start"}(w[0],null,w)};
Opal.modules["corelib/random/formatter"]=function(a){function w(n,x){return"number"===typeof n&&"number"===typeof x?n-x:n["$-"](x)}function G(n,x){return"number"===typeof n&&"number"===typeof x?n/x:n["$/"](x)}var z=[],B=a.nil,h=a.$$$,v=a.$$,p=a.klass,q=a.module,I=a.send,d=a.range;a.add_stubs("$_verify_count $bytes $encode $strict_encode64 $random_bytes $urlsafe_encode64 $split $hex $[]= $- $[] $map $to_proc $join $times $<< $| $ord $/ $abs $random_float $raise $coerce_to! $flatten $new $random_number $length $include $extend".split(" "));
return function(n,$super,e){n=p(n,$super,"Random");e=[n].concat(e);(function(k,E){k=q(k,"Formatter");var c=[k].concat(E),A,D,r,ja,va,ha,ma,b;a.def(k,"$hex",A=function(f){null==f&&(f=B);f=v(c,"Random").$_verify_count(f);for(var g=this.$bytes(f),l="",m=0;m<f;m++)l+=g.charCodeAt(m).toString(16).padStart(2,"0");return l.$encode("US-ASCII")},A.$$arity=-1);a.def(k,"$random_bytes",D=function(f){null==f&&(f=B);return this.$bytes(f)},D.$$arity=-1);a.def(k,"$base64",r=function(f){null==f&&(f=B);return v(c,
"Base64").$strict_encode64(this.$random_bytes(f)).$encode("US-ASCII")},r.$$arity=-1);a.def(k,"$urlsafe_base64",ja=function(f,g){null==f&&(f=B);null==g&&(g=!1);return v(c,"Base64").$urlsafe_encode64(this.$random_bytes(f),g).$encode("US-ASCII")},ja.$$arity=-1);a.def(k,"$uuid",va=function(){var f=this.$hex(16).$split("");var g=[12,"4"];I(f,"[]=",a.to_a(g));g[w(g.length,1)];g=[16,(parseInt(f["$[]"](16),16)&3|8).toString(16)];I(f,"[]=",a.to_a(g));g[w(g.length,1)];f=[f["$[]"](d(0,8,!0)),f["$[]"](d(8,12,
!0)),f["$[]"](d(12,16,!0)),f["$[]"](d(16,20,!0)),f["$[]"](d(20,32,!0))];f=I(f,"map",[],"join".$to_proc());return f.$join("-")},va.$$arity=0);a.def(k,"$random_float",ha=function(){var f,g=B,l=B;g=this.$bytes(4);l=0;I(4,"times",[],(f=function(m){null==m&&(m=B);l=l["$<<"](8);return l=l["$|"](g["$[]"](m).$ord())},f.$$s=this,f.$$arity=1,f));return G(l.$abs(),2147483647)},ha.$$arity=0);a.def(k,"$random_number",ma=function(f){function g(y){return Math.floor(m.$random_float()*y)}function l(){var y=f.begin,
ka=f.end;if(y===B||ka===B)return B;var L=ka-y;if(0>L)return B;if(0===L)return y;0!==ka%1||0!==y%1||f.excl||L++;return g(L)+y}var m=this;if(null==f)return m.$random_float();if(f.$$is_range)return l();if(f.$$is_number)return 0>=f&&m.$raise(v(c,"ArgumentError"),"invalid argument - "+f),0===f%1?g(f):m.$random_float()*f;f=v(c,"Opal")["$coerce_to!"](f,v(c,"Integer"),"to_int");0>=f&&m.$raise(v(c,"ArgumentError"),"invalid argument - "+f);return g(f)},ma.$$arity=-1);return(a.def(k,"$alphanumeric",b=function(f){var g,
l=B;null==f&&(f=B);f=v(c,"Random").$_verify_count(f);l=I([d("0","9",!1),d("a","z",!1),d("A","Z",!1)],"map",[],"to_a".$to_proc()).$flatten();return I(v(c,"Array"),"new",[f],(g=function(){return l["$[]"]((null==g.$$s?this:g.$$s).$random_number(l.$length()))},g.$$s=this,g.$$arity=1,g)).$join()},b.$$arity=-1),B)&&"alphanumeric"})(e[0],e);n.$include(h(v(e,"Random"),"Formatter"));return n.$extend(h(v(e,"Random"),"Formatter"))}(z[0],null,z)};
Opal.modules["corelib/random"]=function(a){var w=[],G=a.nil,z=a.$$$,B=a.$$,h=a.falsy,v=a.klass,p=a.truthy,q=a.send;a.add_stubs("$attr_reader $to_int $raise $new_seed $coerce_to! $reseed $rand $seed $bytes $=== $== $state $_verify_count $encode $join $new $chr $random_number $random_float $const_defined? $const_set".split(" "));return function(I,$super,n){I=v(I,$super,"Random");var x=[I].concat(n),e,k,E,c,A,D,r,ja,va,ha,ma,b,f,g;I.$attr_reader("seed","state");a.defs(I,"$_verify_count",e=function(l){h(l)&&
(l=16);"number"!==typeof l&&(l=l.$to_int());0>l&&this.$raise(B(x,"ArgumentError"),"negative string size (or size too big)");return l=Math.floor(l)},e.$$arity=1);a.def(I,"$initialize",k=function(l){null==l&&(l=B(x,"Random").$new_seed());this.state=l=B(x,"Opal")["$coerce_to!"](l,B(x,"Integer"),"to_int");return this.$reseed(l)},k.$$arity=-1);a.def(I,"$reseed",E=function(l){this.seed=l;return this.$rng=a.$$rand.reseed(l)},E.$$arity=1);a.defs(I,"$new_seed",c=function(){return a.$$rand.new_seed()},c.$$arity=
0);a.defs(I,"$rand",A=function(l){return B(x,"DEFAULT").$rand(l)},A.$$arity=-1);a.defs(I,"$srand",D=function(l){null==l&&(l=B(x,"Random").$new_seed());l=B(x,"Opal")["$coerce_to!"](l,B(x,"Integer"),"to_int");var m=B(x,"DEFAULT").$seed();B(x,"DEFAULT").$reseed(l);return m},D.$$arity=-1);a.defs(I,"$urandom",r=function(l){return z("::","SecureRandom").$bytes(l)},r.$$arity=1);a.def(I,"$==",ja=function(l){var m;return p(B(x,"Random")["$==="](l))?p(m=this.$seed()["$=="](l.$seed()))?this.$state()["$=="](l.$state()):
m:!1},ja.$$arity=1);a.def(I,"$bytes",va=function(l){var m;l=B(x,"Random").$_verify_count(l);return q(B(x,"Array"),"new",[l],(m=function(){return(null==m.$$s?this:m.$$s).$rand(255).$chr()},m.$$s=this,m.$$arity=0,m)).$join().$encode("ASCII-8BIT")},va.$$arity=1);a.defs(I,"$bytes",ha=function(l){return B(x,"DEFAULT").$bytes(l)},ha.$$arity=1);a.def(I,"$rand",ma=function(l){return this.$random_number(l)},ma.$$arity=-1);a.def(I,"$random_float",b=function(){this.state++;return a.$$rand.rand(this.$rng)},b.$$arity=
0);a.defs(I,"$random_float",f=function(){return B(x,"DEFAULT").$random_float()},f.$$arity=0);return(a.defs(I,"$generator=",g=function(l){a.$$rand=l;return p(this["$const_defined?"]("DEFAULT"))?B(x,"DEFAULT").$reseed():this.$const_set("DEFAULT",this.$new(this.$new_seed()))},g.$$arity=1),G)&&"generator="}(w[0],null,w)};
Opal.modules["corelib/random/mersenne_twister"]=function(a){function w(q,I){return"number"===typeof q&&"number"===typeof I?q-I:q["$-"](I)}var G=[],z=a.nil,B=a.$$,h=a.klass,v=a.send,p=z;a.add_stubs(["$generator=","$-"]);p=function(){function q(d,n){return(d&2147483648|n&2147483647)>>>1^(n&1?2567483615:0)}function I(d){if(0>=--d.left){var n=0,x=d.state,e;d.left=624;d.next=0;for(e=228;--e;n++)x[n]=x[n+397]^q(x[n+0],x[n+1]);for(e=397;--e;n++)x[n]=x[n+-227]^q(x[n+0],x[n+1]);x[n]=x[n+-227]^q(x[n+0],x[0])}d=
d.state[d.next++];d^=d>>>11;d^=d<<7&2636928640;d^=d<<15&4022730752;return(d^d>>>18)>>>0}return{genrand_real:function(d){var n=I(d);d=I(d);return 1.1102230246251565E-16*(67108864*(n>>>5)+(d>>>6))},init:function(d){var n={left:0,next:624,state:Array(624)};n.state[0]=d>>>0;for(d=1;624>d;d++)n.state[d]=1812433253*(n.state[d-1]^n.state[d-1]>>30>>>0)+d,n.state[d]&=4294967295;n.left=1;n.next=624;return n}}}();return function(q,$super,d){q=h(q,$super,"Random");d=[q].concat(d);var n=z,x=Number.MAX_SAFE_INTEGER||
Math.pow(2,53)-1;a.const_set(d[0],"MERSENNE_TWISTER_GENERATOR",{new_seed:function(){return Math.round(Math.random()*x)},reseed:function(e){return p.init(e)},rand:function(e){return p.genrand_real(e)}});n=[B(d,"MERSENNE_TWISTER_GENERATOR")];v(q,"generator=",a.to_a(n));return n[w(n.length,1)]}(G[0],null,G)};
Opal.modules["corelib/unsupported"]=function(a){function w(n){switch(a.config.unsupported_features_severity){case "error":p(h,"Kernel").$raise(p(h,"NotImplementedError"),n);break;case "warning":d[n]||(d[n]=!0,B.$warn(n))}}var G,z,B=a.top,h=[],v=a.nil,p=a.$$,q=a.klass,I=a.module;a.add_stubs(["$raise","$warn","$%"]);var d={};(function(n,$super,e){n=q(n,$super,"String");var k=[n].concat(e),E,c,A,D,r,ja,va,ha,ma,b,f,g,l,m,y,ka,L,ia,ya,Ka,La,Aa,Ma;a.def(n,"$<<",E=function(U){a.slice.call(arguments,0,arguments.length);
return this.$raise(p(k,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("<<"))},E.$$arity=-1);a.def(n,"$capitalize!",c=function(U){a.slice.call(arguments,0,arguments.length);return this.$raise(p(k,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("capitalize!"))},c.$$arity=-1);a.def(n,"$chomp!",A=function(U){a.slice.call(arguments,0,arguments.length);return this.$raise(p(k,"NotImplementedError"),
"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("chomp!"))},A.$$arity=-1);a.def(n,"$chop!",D=function(U){a.slice.call(arguments,0,arguments.length);return this.$raise(p(k,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("chop!"))},D.$$arity=-1);a.def(n,"$downcase!",r=function(U){a.slice.call(arguments,0,arguments.length);return this.$raise(p(k,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("downcase!"))},
r.$$arity=-1);a.def(n,"$gsub!",ja=function(U){a.slice.call(arguments,0,arguments.length);return this.$raise(p(k,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("gsub!"))},ja.$$arity=-1);a.def(n,"$lstrip!",va=function(U){a.slice.call(arguments,0,arguments.length);return this.$raise(p(k,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("lstrip!"))},va.$$arity=-1);a.def(n,"$next!",ha=function(U){a.slice.call(arguments,
0,arguments.length);return this.$raise(p(k,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("next!"))},ha.$$arity=-1);a.def(n,"$reverse!",ma=function(U){a.slice.call(arguments,0,arguments.length);return this.$raise(p(k,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("reverse!"))},ma.$$arity=-1);a.def(n,"$slice!",b=function(U){a.slice.call(arguments,0,arguments.length);return this.$raise(p(k,
"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("slice!"))},b.$$arity=-1);a.def(n,"$squeeze!",f=function(U){a.slice.call(arguments,0,arguments.length);return this.$raise(p(k,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("squeeze!"))},f.$$arity=-1);a.def(n,"$strip!",g=function(U){a.slice.call(arguments,0,arguments.length);return this.$raise(p(k,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("strip!"))},
g.$$arity=-1);a.def(n,"$sub!",l=function(U){a.slice.call(arguments,0,arguments.length);return this.$raise(p(k,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("sub!"))},l.$$arity=-1);a.def(n,"$succ!",m=function(U){a.slice.call(arguments,0,arguments.length);return this.$raise(p(k,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("succ!"))},m.$$arity=-1);a.def(n,"$swapcase!",y=function(U){a.slice.call(arguments,
0,arguments.length);return this.$raise(p(k,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("swapcase!"))},y.$$arity=-1);a.def(n,"$tr!",ka=function(U){a.slice.call(arguments,0,arguments.length);return this.$raise(p(k,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("tr!"))},ka.$$arity=-1);a.def(n,"$tr_s!",L=function(U){a.slice.call(arguments,0,arguments.length);return this.$raise(p(k,
"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("tr_s!"))},L.$$arity=-1);a.def(n,"$upcase!",ia=function(U){a.slice.call(arguments,0,arguments.length);return this.$raise(p(k,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("upcase!"))},ia.$$arity=-1);a.def(n,"$prepend",ya=function(U){a.slice.call(arguments,0,arguments.length);return this.$raise(p(k,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("prepend"))},
ya.$$arity=-1);a.def(n,"$[]=",Ka=function(U){a.slice.call(arguments,0,arguments.length);return this.$raise(p(k,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("[]="))},Ka.$$arity=-1);a.def(n,"$clear",La=function(U){a.slice.call(arguments,0,arguments.length);return this.$raise(p(k,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("clear"))},La.$$arity=-1);a.def(n,"$encode!",Aa=function(U){a.slice.call(arguments,
0,arguments.length);return this.$raise(p(k,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("encode!"))},Aa.$$arity=-1);return(a.def(n,"$unicode_normalize!",Ma=function(U){a.slice.call(arguments,0,arguments.length);return this.$raise(p(k,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("unicode_normalize!"))},Ma.$$arity=-1),v)&&"unicode_normalize!"})(h[0],null,h);(function(n,x){n=I(n,
"Kernel");[n].concat(x);var e,k;a.def(n,"$freeze",e=function(){w("Object freezing is not supported by Opal");return this},e.$$arity=0);return(a.def(n,"$frozen?",k=function(){w("Object freezing is not supported by Opal");return!1},k.$$arity=0),v)&&"frozen?"})(h[0],h);(function(n,x){n=I(n,"Kernel");[n].concat(x);var e,k,E;a.def(n,"$taint",e=function(){w("Object tainting is not supported by Opal");return this},e.$$arity=0);a.def(n,"$untaint",k=function(){w("Object tainting is not supported by Opal");
return this},k.$$arity=0);return(a.def(n,"$tainted?",E=function(){w("Object tainting is not supported by Opal");return!1},E.$$arity=0),v)&&"tainted?"})(h[0],h);(function(n,$super,e){n=q(n,$super,"Module");[n].concat(e);var k,E,c,A;a.def(n,"$public",k=function(D){0===a.slice.call(arguments,0,arguments.length).length&&(this.$$module_function=!1);return v},k.$$arity=-1);a.alias(n,"private","public");a.alias(n,"protected","public");a.alias(n,"nesting","public");a.def(n,"$private_class_method",E=function(D){a.slice.call(arguments,
0,arguments.length);return this},E.$$arity=-1);a.alias(n,"public_class_method","private_class_method");a.def(n,"$private_method_defined?",c=function(){return!1},c.$$arity=1);a.def(n,"$private_constant",A=function(D){a.slice.call(arguments,0,arguments.length);return v},A.$$arity=-1);a.alias(n,"protected_method_defined?","private_method_defined?");a.alias(n,"public_instance_methods","instance_methods");a.alias(n,"public_instance_method","instance_method");return a.alias(n,"public_method_defined?","method_defined?")})(h[0],
null,h);(function(n,x){n=I(n,"Kernel");[n].concat(x);var e;a.def(n,"$private_methods",e=function(k){a.slice.call(arguments,0,arguments.length);return[]},e.$$arity=-1);return a.alias(n,"private_instance_methods","private_methods")})(h[0],h);(function(n,x){n=I(n,"Kernel");var e=[n].concat(x),k;return(a.def(n,"$eval",k=function(E){a.slice.call(arguments,0,arguments.length);return this.$raise(p(e,"NotImplementedError"),"To use Kernel#eval, you must first require 'opal-parser'. See https://github.com/opal/opal/blob/"+
(p(e,"RUBY_ENGINE_VERSION")+"/docs/opal_parser.md for details."))},k.$$arity=-1),v)&&"eval"})(h[0],h);a.defs(B,"$public",G=function(n){a.slice.call(arguments,0,arguments.length);return v},G.$$arity=-1);return(a.defs(B,"$private",z=function(n){a.slice.call(arguments,0,arguments.length);return v},z.$$arity=-1),v)&&"private"};var sb=Opal.top;Opal.add_stubs(["$require"]);sb.$require("opal/base");sb.$require("opal/mini");sb.$require("corelib/kernel/format");sb.$require("corelib/string/encoding");sb.$require("corelib/math");
sb.$require("corelib/complex");sb.$require("corelib/rational");sb.$require("corelib/time");sb.$require("corelib/struct");sb.$require("corelib/io");sb.$require("corelib/main");sb.$require("corelib/dir");sb.$require("corelib/file");sb.$require("corelib/process");sb.$require("corelib/random/formatter");sb.$require("corelib/random");sb.$require("corelib/random/mersenne_twister");sb.$require("corelib/unsupported");
(function(a){function w(x,e){return"number"===typeof x&&"number"===typeof e?x+e:x["$+"](e)}function G(x,e){return"number"===typeof x&&"number"===typeof e?x-e:x["$-"](e)}function z(x,e){return"number"===typeof x&&"number"===typeof e?x<e:x["$<"](e)}var B=[],h=a.nil,v=a.$$$,p=a.$$,q=a.klass,I=a.send2,d=a.truthy,n=a.send;a.add_stubs("$include $<=> $attr_reader $nonzero? $d $zero? $new $class $-@ $+@ $=== $coerce $== $> $+ $allocate $join $compact $map $to_proc $downcase $wrap $raise $clone $jd $>> $wday $year $month $day $- $to_s $to_i $< $* $reverse $step $abs $each".split(" "));
return function(x,$super,k){function E(V,Ca){return[31,0===V%4&&0!==V%100||0===V%400?29:28,31,30,31,30,31,31,30,31,30,31][Ca]}x=q(x,$super,"Date");var c=[x].concat(k),A,D,r,ja,va,ha,ma,b,f,g,l,m,y,ka,L,ia,ya,Ka,La,Aa,Ma,U,wa,R,oa,za,la,M,K,X,xa,aa,qa,Ea,Ia,Sa,Wa,ib,gb,Ta;x.$$prototype.date=h;x.$include(p(c,"Comparable"));(function(V,$super,Da){V=q(V,$super,"Infinity");var Xa=[V].concat(Da),$a,Ua,Ya,Ba,ua,pa,Ga,Pa,Va,Ha,Z;V.$$prototype.d=h;V.$include(p(Xa,"Comparable"));a.def(V,"$initialize",$a=function(P){null==
P&&(P=1);return this.d=P["$<=>"](0)},$a.$$arity=-1);V.$attr_reader("d");a.def(V,"$zero?",Ua=function(){return!1},Ua.$$arity=0);a.def(V,"$finite?",Ya=function(){return!1},Ya.$$arity=0);a.def(V,"$infinite?",Ba=function(){return this.$d()["$nonzero?"]()},Ba.$$arity=0);a.def(V,"$nan?",ua=function(){return this.$d()["$zero?"]()},ua.$$arity=0);a.def(V,"$abs",pa=function(){return this.$class().$new()},pa.$$arity=0);a.def(V,"$-@",Ga=function(){return this.$class().$new(this.$d()["$-@"]())},Ga.$$arity=0);
a.def(V,"$+@",Pa=function(){return this.$class().$new(this.$d()["$+@"]())},Pa.$$arity=0);a.def(V,"$<=>",Va=function(P){var ba,T,fa=this,na=h,J=h,ea=h;return function(){na=P;if(p(Xa,"Infinity")["$==="](na))return fa.$d()["$<=>"](P.$d());if(p(Xa,"Numeric")["$==="](na))return fa.$d();try{return T=P.$coerce(fa),ba=a.to_ary(T),J=null==ba[0]?h:ba[0],ea=null==ba[1]?h:ba[1],T,J["$<=>"](ea)}catch(F){if(a.rescue(F,[p(Xa,"NoMethodError")]))try{return h}finally{a.pop_exception()}else throw F;}}()},Va.$$arity=
1);a.def(V,"$coerce",Ha=function(P){var ba=Ha.$$p,T;ba&&(Ha.$$p=null);var fa=0;var na=arguments.length;for(T=Array(na);fa<na;fa++)T[fa]=arguments[fa];ba=p(Xa,"Numeric")["$==="](P)?[this.$d()["$-@"](),this.$d()]:I(this,a.find_super_dispatcher(this,"coerce",Ha,!1,!0),"coerce",T,ba);return ba},Ha.$$arity=1);return(a.def(V,"$to_f",Z=function(){if(this.d["$=="](0))return 0;var P=this.d;P="number"===typeof P?0<P:P["$>"](0);return d(P)?v(p(Xa,"Float"),"INFINITY"):v(p(Xa,"Float"),"INFINITY")["$-@"]()},Z.$$arity=
0),h)&&"to_f"})(c[0],p(c,"Numeric"),c);a.const_set(c[0],"JULIAN",p(c,"Infinity").$new());a.const_set(c[0],"GREGORIAN",p(c,"Infinity").$new()["$-@"]());a.const_set(c[0],"ITALY",2299161);a.const_set(c[0],"ENGLAND",2361222);a.const_set(c[0],"MONTHNAMES",w([h],"January February March April May June July August September October November December".split(" ")));a.const_set(c[0],"ABBR_MONTHNAMES","jan feb mar apr may jun jul aug sep oct nov dec".split(" "));a.const_set(c[0],"DAYNAMES","Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "));
a.const_set(c[0],"ABBR_DAYNAMES","Sun Mon Tue Wed Thu Fri Sat".split(" "));(function(V,Ca){var Da=[V].concat(Ca),Xa,$a,Ua,Ya;a.alias(V,"civil","new");a.def(V,"$wrap",Xa=function(Ba){var ua=this.$allocate();ua.date=Ba;return ua},Xa.$$arity=1);a.def(V,"$parse",$a=function(Ba,ua){function pa(O){return O[1]}function Ga(O){return O[2]}function Pa(O){return O[3]}function Va(O){return O[4]}function Ha(O){return function(u){u=O(u);return 69<=u?u+1900:u+2E3}}function Z(O){return function(u){u=O(u).toLowerCase();
return p(Da,"ABBR_MONTHNAMES").indexOf(u)+1}}function P(O){return function(u){u=O(u);return parseInt(u,10)}}function ba(O){return function(u){u=O(u);return n(p(Da,"MONTHNAMES").$compact(),"map",[],"downcase".$to_proc()).indexOf(u.$downcase())+1}}null==ua&&(ua=!0);var T=new Date,fa=T.getDate(),na=T.getMonth(),J=T.getFullYear(),ea=T.getDay();T=p(Da,"MONTHNAMES").$compact().$join("|");T=[{regexp:/^(\d{2})$/,year:J,month:na,day:P(pa)},{regexp:/^(\d{3})$/,year:J,month:0,day:P(pa)},{regexp:/^(\d{2})(\d{2})$/,
year:J,month:P(pa),day:P(Ga)},{regexp:/^(\d{2})(\d{3})$/,year:Ha(P(pa)),month:0,day:P(Ga)},{regexp:/^(\d{2})(\d{2})(\d{2})$/,year:Ha(P(pa)),month:P(Ga),day:P(Pa)},{regexp:/^(\d{4})(\d{3})$/,year:P(pa),month:0,day:P(Ga)},{regexp:/^(\d{4})(\d{2})(\d{2})$/,year:P(pa),month:P(Ga),day:P(Pa)},{regexp:/^([a-z]{3})[\s\.\/\-](\d{3,4})$/,year:P(Ga),month:Z(pa),day:1},{regexp:/^(\d{1,2})[\s\.\/\-]([a-z]{3})[\s\.\/\-](\d{3,4})$/i,year:P(Pa),month:Z(Ga),day:P(pa)},{regexp:/^([a-z]{3})[\s\.\/\-](\d{1,2})[\s\.\/\-](\d{3,4})$/i,
year:P(Pa),month:Z(pa),day:P(Ga)},{regexp:/^(\d{3,4})[\s\.\/\-]([a-z]{3})[\s\.\/\-](\d{1,2})$/i,year:P(pa),month:Z(Ga),day:P(Pa)},{regexp:/^(\-?\d{3,4})[\s\.\/\-](\d{1,2})[\s\.\/\-](\d{1,2})$/,year:P(pa),month:P(Ga),day:P(Pa)},{regexp:/^(\d{2})[\s\.\/\-](\d{1,2})[\s\.\/\-](\d{1,2})$/,year:function(O){return function(u){u=O(u);return ua?u+2E3:u}}(P(pa)),month:P(Ga),day:P(Pa)},{regexp:/^(\d{1,2})[\s\.\/\-](\d{1,2})[\s\.\/\-](\-?\d{3,4})$/,year:P(Pa),month:P(Ga),day:P(pa)},{regexp:new RegExp("^("+p(Da,
"DAYNAMES").$join("|")+")$","i"),year:J,month:na,day:function(O){return function(u){u=O(u);u=n(p(Da,"DAYNAMES"),"map",[],"downcase".$to_proc()).indexOf(u.$downcase());return fa-ea+u}}(pa)},{regexp:new RegExp("^("+T+")[\\s\\.\\/\\-](\\d{1,2})(th|nd|rd)[\\s\\.\\/\\-](\\-?\\d{3,4})$","i"),year:P(Va),month:ba(pa),day:P(Ga)},{regexp:new RegExp("^("+T+")[\\s\\.\\/\\-](\\d{1,2})(th|nd|rd)","i"),year:J,month:ba(pa),day:P(Ga)},{regexp:new RegExp("^(\\d{1,2})(th|nd|rd)[\\s\\.\\/\\-]("+T+")[\\s\\.\\/\\-](\\-?\\d{3,4})$",
"i"),year:P(Va),month:ba(Pa),day:P(pa)},{regexp:new RegExp("^(\\-?\\d{3,4})[\\s\\.\\/\\-]("+T+")[\\s\\.\\/\\-](\\d{1,2})(th|nd|rd)$","i"),year:P(pa),month:ba(Ga),day:P(Pa)}];var F;for(F=0;F<T.length;F++)if(J=T[F],na=J.regexp.exec(Ba))return Ba=J.year,"function"===typeof Ba&&(Ba=Ba(na)),T=J.month,"function"===typeof T&&(T=T(na)-1),J=J.day,"function"===typeof J&&(J=J(na)),na=new Date(Ba,T,J),0<=Ba&&1970>=Ba&&na.setFullYear(Ba),this.$wrap(na);return this.$raise(p(Da,"ArgumentError"),"invalid date")},
$a.$$arity=-2);a.def(V,"$today",Ua=function(){return this.$wrap(new Date)},Ua.$$arity=0);return(a.def(V,"$gregorian_leap?",Ya=function(Ba){return 0===(new Date(Ba,1,29)).getMonth()-1},Ya.$$arity=1),h)&&"gregorian_leap?"})(a.get_singleton_class(x),c);a.def(x,"$initialize",A=function(V,Ca,Da,Xa){null==V&&(V=-4712);null==Ca&&(Ca=1);null==Da&&(Da=1);null==Xa&&p(c,"ITALY");1582===V&&10===Ca&&4<Da&&15>Da&&(Da=4);return this.date=new Date(V,Ca-1,Da)},A.$$arity=-1);a.def(x,"$-",D=function(V){if(V.$$is_number){var Ca=
this.$clone();Ca.date.setDate(this.date.getDate()-V);return Ca}if(V.date)return Math.round((this.date-V.date)/864E5);this.$raise(p(c,"TypeError"))},D.$$arity=1);a.def(x,"$+",r=function(V){if(V.$$is_number){var Ca=this.$clone();Ca.date.setDate(this.date.getDate()+V);return Ca}this.$raise(p(c,"TypeError"))},r.$$arity=1);a.def(x,"$<",ja=function(V){var Ca=this.date;V=V.date;Ca.setHours(0,0,0,0);V.setHours(0,0,0,0);return Ca<V},ja.$$arity=1);a.def(x,"$<=",va=function(V){var Ca=this.date;V=V.date;Ca.setHours(0,
0,0,0);V.setHours(0,0,0,0);return Ca<=V},va.$$arity=1);a.def(x,"$>",ha=function(V){var Ca=this.date;V=V.date;Ca.setHours(0,0,0,0);V.setHours(0,0,0,0);return Ca>V},ha.$$arity=1);a.def(x,"$>=",ma=function(V){var Ca=this.date;V=V.date;Ca.setHours(0,0,0,0);V.setHours(0,0,0,0);return Ca>=V},ma.$$arity=1);a.def(x,"$<=>",b=function(V){if(V.$$is_number)return this.$jd()["$<=>"](V);if(p(c,"Date")["$==="](V)){var Ca=this.date;V=V.date;Ca.setHours(0,0,0,0);V.setHours(0,0,0,0);return Ca<V?-1:Ca>V?1:0}return h},
b.$$arity=1);a.def(x,"$>>",f=function(V){V.$$is_number||this.$raise(p(c,"TypeError"));var Ca=this.$clone(),Da=Ca.date,Xa=Da.getDate();Da.setDate(1);Da.setMonth(Da.getMonth()+V);Da.setDate(Math.min(Xa,E(Da.getFullYear(),Da.getMonth())));return Ca},f.$$arity=1);a.def(x,"$<<",g=function(V){V.$$is_number||this.$raise(p(c,"TypeError"));return this["$>>"](-V)},g.$$arity=1);a.alias(x,"eql?","==");a.def(x,"$clone",l=function(){return p(c,"Date").$wrap(new Date(this.date.getTime()))},l.$$arity=0);a.def(x,
"$day",m=function(){return this.date.getDate()},m.$$arity=0);a.def(x,"$friday?",y=function(){return this.$wday()["$=="](5)},y.$$arity=0);a.def(x,"$jd",ka=function(){var V=this.date.getMonth()+1,Ca=this.date.getDate(),Da=this.date.getFullYear();var Xa=1;1585>=Da&&(Xa=0);var $a=-1*Math.floor(7*(Math.floor((V+9)/12)+Da)/4);var Ua=1;0>V-9&&(Ua=-1);Ua=Math.floor(Da+Ua*Math.floor(Math.abs(V-9)/7));Ua=-1*Math.floor(3*(Math.floor(Ua/100)+1)/4);$a=$a+Math.floor(275*V/9)+Ca+Xa*Ua;return $a+1721027+2*Xa+367*
Da-.5+.5},ka.$$arity=0);a.def(x,"$julian?",L=function(){return this.date<new Date(1582,9,15,12)},L.$$arity=0);a.def(x,"$monday?",ia=function(){return this.$wday()["$=="](1)},ia.$$arity=0);a.def(x,"$month",ya=function(){return this.date.getMonth()+1},ya.$$arity=0);a.def(x,"$next",Ka=function(){return w(this,1)},Ka.$$arity=0);a.def(x,"$next_day",La=function(V){null==V&&(V=1);return w(this,V)},La.$$arity=-1);a.def(x,"$next_month",Aa=function(V){null==V&&(V=1);var Ca=this.$clone(),Da=Ca.date,Xa=Da.getDate();
Da.setDate(1);Da.setMonth(Da.getMonth()+V);Da.setDate(Math.min(Xa,E(Da.getFullYear(),Da.getMonth())));return Ca},Aa.$$arity=-1);a.def(x,"$next_year",Ma=function(V){null==V&&(V=1);return this.$class().$new(w(this.$year(),V),this.$month(),this.$day())},Ma.$$arity=-1);a.def(x,"$prev_day",U=function(V){null==V&&(V=1);return G(this,V)},U.$$arity=-1);a.def(x,"$prev_month",wa=function(V){null==V&&(V=1);var Ca=this.$clone(),Da=Ca.date,Xa=Da.getDate();Da.setDate(1);Da.setMonth(Da.getMonth()-V);Da.setDate(Math.min(Xa,
E(Da.getFullYear(),Da.getMonth())));return Ca},wa.$$arity=-1);a.def(x,"$prev_year",R=function(V){null==V&&(V=1);return this.$class().$new(G(this.$year(),V),this.$month(),this.$day())},R.$$arity=-1);a.def(x,"$saturday?",oa=function(){return this.$wday()["$=="](6)},oa.$$arity=0);a.def(x,"$strftime",za=function(V){null==V&&(V="");return""==V?this.$to_s():this.date.$strftime(V)},za.$$arity=-1);a.alias(x,"succ","next");a.def(x,"$sunday?",la=function(){return this.$wday()["$=="](0)},la.$$arity=0);a.def(x,
"$thursday?",M=function(){return this.$wday()["$=="](4)},M.$$arity=0);a.def(x,"$to_s",K=function(){var V=this.date,Ca=V.getFullYear(),Da=V.getMonth()+1;V=V.getDate();10>Da&&(Da="0"+Da);10>V&&(V="0"+V);return Ca+"-"+Da+"-"+V},K.$$arity=0);a.def(x,"$to_time",X=function(){return p(c,"Time").$new(this.$year(),this.$month(),this.$day())},X.$$arity=0);a.def(x,"$to_n",xa=function(){return this.date},xa.$$arity=0);a.def(x,"$tuesday?",aa=function(){return this.$wday()["$=="](2)},aa.$$arity=0);a.def(x,"$step",
qa=function(V,Ca){var Da=qa.$$p,Xa=Da||h,$a,Ua,Ya=h;Ya=Ya=h;Da&&(qa.$$p=null);Da&&(qa.$$p=null);null==Ca&&(Ca=1);Ya=G(V,this).$to_i();Ya=d(z("number"===typeof Ya&&"number"===typeof Ca?Ya*Ca:Ya["$*"](Ca),0))?[]:d(z(Ya,0))?n(a.Range.$new(0,Ya["$-@"](),!1).$step(Ca.$abs()),"map",[],"-@".$to_proc()).$reverse():a.Range.$new(0,Ya,!1).$step(Ca.$abs());Ya=n(Ya,"map",[],($a=function(Ba){var ua=null==$a.$$s?this:$a.$$s;null==Ba&&(Ba=h);return w(ua,Ba)},$a.$$s=this,$a.$$arity=1,$a));return Xa!==h?(n(Ya,"each",
[],(Ua=function(Ba){null==Ba&&(Ba=h);return a.yield1(Xa,Ba)},Ua.$$s=this,Ua.$$arity=1,Ua)),this):Ya},qa.$$arity=-2);a.def(x,"$upto",Ea=function(V){var Ca=Ea.$$p,Da=Ca||h;Ca&&(Ea.$$p=null);Ca&&(Ea.$$p=null);return n(this,"step",[V,1],Da.$to_proc())},Ea.$$arity=1);a.def(x,"$downto",Ia=function(V){var Ca=Ia.$$p,Da=Ca||h;Ca&&(Ia.$$p=null);Ca&&(Ia.$$p=null);return n(this,"step",[V,-1],Da.$to_proc())},Ia.$$arity=1);a.def(x,"$wday",Sa=function(){return this.date.getDay()},Sa.$$arity=0);a.def(x,"$wednesday?",
Wa=function(){return this.$wday()["$=="](3)},Wa.$$arity=0);a.def(x,"$year",ib=function(){return this.date.getFullYear()},ib.$$arity=0);a.def(x,"$cwday",gb=function(){return this.date.getDay()||7},gb.$$arity=0);a.def(x,"$cweek",Ta=function(){var V=new Date(this.date);V.setHours(0,0,0);V.setDate(V.getDate()+4-(V.getDay()||7));return Math.ceil(((V-new Date(V.getFullYear(),0,1))/864E5+1)/7)},Ta.$$arity=0)}(B[0],null,B)})(Opal);
(function(a){function w(n,x){return"number"===typeof n&&"number"===typeof x?n-x:n["$-"](x)}var G=[],z=a.nil,B=a.$$$,h=a.$$,v=a.module,p=a.klass,q=a.send,I=a.hash2,d=a.truthy;a.add_stubs("$raise $new $push $[]= $- $[] $create_id $json_create $const_get $attr_accessor $create_id= $=== $parse $generate $from_object $merge $to_json $responds_to? $to_io $write $to_s $to_a $strftime".split(" "));(function(n,x){function e(g){try{return JSON.parse(g)}catch(l){E.$raise(B(h(c,"JSON"),"ParserError"),l.message)}}
function k(g,l){var m;switch(typeof g){case "string":return g;case "number":return g;case "boolean":return!!g;case "null":return z;case "object":if(!g)return z;if(g.$$is_array){var y=l.array_class.$new();var ka=0;for(m=g.length;ka<m;ka++)y.$push(k(g[ka],l));return y}ka=l.object_class.$new();for(m in g)f.call(g,m)&&(b=[m,k(g[m],l)],q(ka,"[]=",a.to_a(b)),b[w(b.length,1)]);return l.parse||(y=ka["$[]"](h(c,"JSON").$create_id()))==z?ka:B("::","Object").$const_get(y).$json_create(ka)}}var E=v(n,"JSON"),
c=[E].concat(x),A,D,r,ja,va,ha,ma,b=z;(function(g,$super,m){[p(g,$super,"JSONError")].concat(m);return z})(c[0],h(c,"StandardError"),c);(function(g,$super,m){[p(g,$super,"ParserError")].concat(m);return z})(c[0],h(c,"JSONError"),c);var f=a.hasOwnProperty;(function(g,l){[g].concat(l);return g.$attr_accessor("create_id")})(a.get_singleton_class(E),c);b=["json_class"];q(E,"create_id=",a.to_a(b));b[w(b.length,1)];a.defs(E,"$[]",A=function(g,l){null==l&&(l=I([],{}));return d(h(c,"String")["$==="](g))?
this.$parse(g,l):this.$generate(g,l)},A.$$arity=-2);a.defs(E,"$parse",D=function(g,l){null==l&&(l=I([],{}));return this.$from_object(e(g),l.$merge(I(["parse"],{parse:!0})))},D.$$arity=-2);a.defs(E,"$parse!",r=function(g,l){null==l&&(l=I([],{}));return this.$parse(g,l)},r.$$arity=-2);a.defs(E,"$load",ja=function(g,l){null==l&&(l=I([],{}));return this.$from_object(e(g),l)},ja.$$arity=-2);a.defs(E,"$from_object",va=function(g,l){var m;null==l&&(l=I([],{}));d(m=l["$[]"]("object_class"))?m:(m=["object_class",
h(c,"Hash")],q(l,"[]=",a.to_a(m)),m[w(m.length,1)]);d(m=l["$[]"]("array_class"))?m:(m=["array_class",h(c,"Array")],q(l,"[]=",a.to_a(m)),m[w(m.length,1)]);return k(g,l.$$smap)},va.$$arity=-2);a.defs(E,"$generate",ha=function(g,l){null==l&&(l=I([],{}));return g.$to_json(l)},ha.$$arity=-2);return(a.defs(E,"$dump",ma=function(g,l){null==l&&(l=z);g=this.$generate(g);return d(l)?(d(l["$responds_to?"]("to_io"))&&(l=l.$to_io()),l.$write(g),l):g},ma.$$arity=-2),z)&&"dump"})(G[0],G);(function(n,$super,e){n=
p(n,$super,"Object");[n].concat(e);var k;return(a.def(n,"$to_json",k=function(){return this.$to_s().$to_json()},k.$$arity=0),z)&&"to_json"})(G[0],null,G);(function(n,x){n=v(n,"Enumerable");[n].concat(x);var e;return(a.def(n,"$to_json",e=function(){return this.$to_a().$to_json()},e.$$arity=0),z)&&"to_json"})(G[0],G);(function(n,$super,e){n=p(n,$super,"Array");[n].concat(e);var k;return(a.def(n,"$to_json",k=function(){for(var E=[],c=0,A=this.length;c<A;c++)E.push(this[c].$to_json());return"["+E.join(", ")+
"]"},k.$$arity=0),z)&&"to_json"})(G[0],null,G);(function(n,$super,e){n=p(n,$super,"Boolean");[n].concat(e);var k;return(a.def(n,"$to_json",k=function(){return 1==this?"true":"false"},k.$$arity=0),z)&&"to_json"})(G[0],null,G);(function(n,$super,e){n=p(n,$super,"Hash");[n].concat(e);var k;return(a.def(n,"$to_json",k=function(){for(var E=[],c=0,A=this.$$keys,D=A.length,r,ja;c<D;c++)r=A[c],r.$$is_string?ja=this.$$smap[r]:(ja=r.value,r=r.key),E.push(r.$to_s().$to_json()+":"+ja.$to_json());return"{"+E.join(", ")+
"}"},k.$$arity=0),z)&&"to_json"})(G[0],null,G);(function(n,$super,e){n=p(n,$super,"NilClass");[n].concat(e);var k;return(a.def(n,"$to_json",k=function(){return"null"},k.$$arity=0),z)&&"to_json"})(G[0],null,G);(function(n,$super,e){n=p(n,$super,"Numeric");[n].concat(e);var k;return(a.def(n,"$to_json",k=function(){return this.toString()},k.$$arity=0),z)&&"to_json"})(G[0],null,G);(function(n,$super,e){n=p(n,$super,"String");[n].concat(e);var k;return(a.def(n,"$to_json",k=function(){return JSON.stringify(this)},
k.$$arity=0),z)&&"to_json"})(G[0],null,G);(function(n,$super,e){n=p(n,$super,"Time");[n].concat(e);var k;return(a.def(n,"$to_json",k=function(){return this.$strftime("%FT%T%z").$to_json()},k.$$arity=0),z)&&"to_json"})(G[0],null,G);return function(n,$super,e){n=p(n,$super,"Date");[n].concat(e);var k,E;a.def(n,"$to_json",k=function(){return this.$to_s().$to_json()},k.$$arity=0);return(a.def(n,"$as_json",E=function(){return this.$to_s()},E.$$arity=0),z)&&"as_json"}(G[0],null,G)})(Opal);
Opal.modules.json=function(a){function w(n,x){return"number"===typeof n&&"number"===typeof x?n-x:n["$-"](x)}var G=[],z=a.nil,B=a.$$$,h=a.$$,v=a.module,p=a.klass,q=a.send,I=a.hash2,d=a.truthy;a.add_stubs("$raise $new $push $[]= $- $[] $create_id $json_create $const_get $attr_accessor $create_id= $=== $parse $generate $from_object $merge $to_json $responds_to? $to_io $write $to_s $to_a $strftime".split(" "));(function(n,x){function e(g){try{return JSON.parse(g)}catch(l){E.$raise(B(h(c,"JSON"),"ParserError"),
l.message)}}function k(g,l){var m;switch(typeof g){case "string":return g;case "number":return g;case "boolean":return!!g;case "null":return z;case "object":if(!g)return z;if(g.$$is_array){var y=l.array_class.$new();var ka=0;for(m=g.length;ka<m;ka++)y.$push(k(g[ka],l));return y}ka=l.object_class.$new();for(m in g)f.call(g,m)&&(b=[m,k(g[m],l)],q(ka,"[]=",a.to_a(b)),b[w(b.length,1)]);return l.parse||(y=ka["$[]"](h(c,"JSON").$create_id()))==z?ka:B("::","Object").$const_get(y).$json_create(ka)}}var E=
v(n,"JSON"),c=[E].concat(x),A,D,r,ja,va,ha,ma,b=z;(function(g,$super,m){[p(g,$super,"JSONError")].concat(m);return z})(c[0],h(c,"StandardError"),c);(function(g,$super,m){[p(g,$super,"ParserError")].concat(m);return z})(c[0],h(c,"JSONError"),c);var f=a.hasOwnProperty;(function(g,l){[g].concat(l);return g.$attr_accessor("create_id")})(a.get_singleton_class(E),c);b=["json_class"];q(E,"create_id=",a.to_a(b));b[w(b.length,1)];a.defs(E,"$[]",A=function(g,l){null==l&&(l=I([],{}));return d(h(c,"String")["$==="](g))?
this.$parse(g,l):this.$generate(g,l)},A.$$arity=-2);a.defs(E,"$parse",D=function(g,l){null==l&&(l=I([],{}));return this.$from_object(e(g),l.$merge(I(["parse"],{parse:!0})))},D.$$arity=-2);a.defs(E,"$parse!",r=function(g,l){null==l&&(l=I([],{}));return this.$parse(g,l)},r.$$arity=-2);a.defs(E,"$load",ja=function(g,l){null==l&&(l=I([],{}));return this.$from_object(e(g),l)},ja.$$arity=-2);a.defs(E,"$from_object",va=function(g,l){var m;null==l&&(l=I([],{}));d(m=l["$[]"]("object_class"))?m:(m=["object_class",
h(c,"Hash")],q(l,"[]=",a.to_a(m)),m[w(m.length,1)]);d(m=l["$[]"]("array_class"))?m:(m=["array_class",h(c,"Array")],q(l,"[]=",a.to_a(m)),m[w(m.length,1)]);return k(g,l.$$smap)},va.$$arity=-2);a.defs(E,"$generate",ha=function(g,l){null==l&&(l=I([],{}));return g.$to_json(l)},ha.$$arity=-2);return(a.defs(E,"$dump",ma=function(g,l){null==l&&(l=z);g=this.$generate(g);return d(l)?(d(l["$responds_to?"]("to_io"))&&(l=l.$to_io()),l.$write(g),l):g},ma.$$arity=-2),z)&&"dump"})(G[0],G);(function(n,$super,e){n=
p(n,$super,"Object");[n].concat(e);var k;return(a.def(n,"$to_json",k=function(){return this.$to_s().$to_json()},k.$$arity=0),z)&&"to_json"})(G[0],null,G);(function(n,x){n=v(n,"Enumerable");[n].concat(x);var e;return(a.def(n,"$to_json",e=function(){return this.$to_a().$to_json()},e.$$arity=0),z)&&"to_json"})(G[0],G);(function(n,$super,e){n=p(n,$super,"Array");[n].concat(e);var k;return(a.def(n,"$to_json",k=function(){for(var E=[],c=0,A=this.length;c<A;c++)E.push(this[c].$to_json());return"["+E.join(", ")+
"]"},k.$$arity=0),z)&&"to_json"})(G[0],null,G);(function(n,$super,e){n=p(n,$super,"Boolean");[n].concat(e);var k;return(a.def(n,"$to_json",k=function(){return 1==this?"true":"false"},k.$$arity=0),z)&&"to_json"})(G[0],null,G);(function(n,$super,e){n=p(n,$super,"Hash");[n].concat(e);var k;return(a.def(n,"$to_json",k=function(){for(var E=[],c=0,A=this.$$keys,D=A.length,r,ja;c<D;c++)r=A[c],r.$$is_string?ja=this.$$smap[r]:(ja=r.value,r=r.key),E.push(r.$to_s().$to_json()+":"+ja.$to_json());return"{"+E.join(", ")+
"}"},k.$$arity=0),z)&&"to_json"})(G[0],null,G);(function(n,$super,e){n=p(n,$super,"NilClass");[n].concat(e);var k;return(a.def(n,"$to_json",k=function(){return"null"},k.$$arity=0),z)&&"to_json"})(G[0],null,G);(function(n,$super,e){n=p(n,$super,"Numeric");[n].concat(e);var k;return(a.def(n,"$to_json",k=function(){return this.toString()},k.$$arity=0),z)&&"to_json"})(G[0],null,G);(function(n,$super,e){n=p(n,$super,"String");[n].concat(e);var k;return(a.def(n,"$to_json",k=function(){return JSON.stringify(this)},
k.$$arity=0),z)&&"to_json"})(G[0],null,G);(function(n,$super,e){n=p(n,$super,"Time");[n].concat(e);var k;return(a.def(n,"$to_json",k=function(){return this.$strftime("%FT%T%z").$to_json()},k.$$arity=0),z)&&"to_json"})(G[0],null,G);return function(n,$super,e){n=p(n,$super,"Date");[n].concat(e);var k,E;a.def(n,"$to_json",k=function(){return this.$to_s().$to_json()},k.$$arity=0);return(a.def(n,"$as_json",E=function(){return this.$to_s()},E.$$arity=0),z)&&"as_json"}(G[0],null,G)};
Opal.modules.date=function(a){function w(x,e){return"number"===typeof x&&"number"===typeof e?x+e:x["$+"](e)}function G(x,e){return"number"===typeof x&&"number"===typeof e?x-e:x["$-"](e)}function z(x,e){return"number"===typeof x&&"number"===typeof e?x<e:x["$<"](e)}var B=[],h=a.nil,v=a.$$$,p=a.$$,q=a.klass,I=a.send2,d=a.truthy,n=a.send;a.add_stubs("$include $<=> $attr_reader $nonzero? $d $zero? $new $class $-@ $+@ $=== $coerce $== $> $+ $allocate $join $compact $map $to_proc $downcase $wrap $raise $clone $jd $>> $wday $year $month $day $- $to_s $to_i $< $* $reverse $step $abs $each".split(" "));
return function(x,$super,k){function E(V,Ca){return[31,0===V%4&&0!==V%100||0===V%400?29:28,31,30,31,30,31,31,30,31,30,31][Ca]}x=q(x,$super,"Date");var c=[x].concat(k),A,D,r,ja,va,ha,ma,b,f,g,l,m,y,ka,L,ia,ya,Ka,La,Aa,Ma,U,wa,R,oa,za,la,M,K,X,xa,aa,qa,Ea,Ia,Sa,Wa,ib,gb,Ta;x.$$prototype.date=h;x.$include(p(c,"Comparable"));(function(V,$super,Da){V=q(V,$super,"Infinity");var Xa=[V].concat(Da),$a,Ua,Ya,Ba,ua,pa,Ga,Pa,Va,Ha,Z;V.$$prototype.d=h;V.$include(p(Xa,"Comparable"));a.def(V,"$initialize",$a=function(P){null==
P&&(P=1);return this.d=P["$<=>"](0)},$a.$$arity=-1);V.$attr_reader("d");a.def(V,"$zero?",Ua=function(){return!1},Ua.$$arity=0);a.def(V,"$finite?",Ya=function(){return!1},Ya.$$arity=0);a.def(V,"$infinite?",Ba=function(){return this.$d()["$nonzero?"]()},Ba.$$arity=0);a.def(V,"$nan?",ua=function(){return this.$d()["$zero?"]()},ua.$$arity=0);a.def(V,"$abs",pa=function(){return this.$class().$new()},pa.$$arity=0);a.def(V,"$-@",Ga=function(){return this.$class().$new(this.$d()["$-@"]())},Ga.$$arity=0);
a.def(V,"$+@",Pa=function(){return this.$class().$new(this.$d()["$+@"]())},Pa.$$arity=0);a.def(V,"$<=>",Va=function(P){var ba,T,fa=this,na=h,J=h,ea=h;return function(){na=P;if(p(Xa,"Infinity")["$==="](na))return fa.$d()["$<=>"](P.$d());if(p(Xa,"Numeric")["$==="](na))return fa.$d();try{return T=P.$coerce(fa),ba=a.to_ary(T),J=null==ba[0]?h:ba[0],ea=null==ba[1]?h:ba[1],T,J["$<=>"](ea)}catch(F){if(a.rescue(F,[p(Xa,"NoMethodError")]))try{return h}finally{a.pop_exception()}else throw F;}}()},Va.$$arity=
1);a.def(V,"$coerce",Ha=function(P){var ba=Ha.$$p,T;ba&&(Ha.$$p=null);var fa=0;var na=arguments.length;for(T=Array(na);fa<na;fa++)T[fa]=arguments[fa];ba=p(Xa,"Numeric")["$==="](P)?[this.$d()["$-@"](),this.$d()]:I(this,a.find_super_dispatcher(this,"coerce",Ha,!1,!0),"coerce",T,ba);return ba},Ha.$$arity=1);return(a.def(V,"$to_f",Z=function(){if(this.d["$=="](0))return 0;var P=this.d;P="number"===typeof P?0<P:P["$>"](0);return d(P)?v(p(Xa,"Float"),"INFINITY"):v(p(Xa,"Float"),"INFINITY")["$-@"]()},Z.$$arity=
0),h)&&"to_f"})(c[0],p(c,"Numeric"),c);a.const_set(c[0],"JULIAN",p(c,"Infinity").$new());a.const_set(c[0],"GREGORIAN",p(c,"Infinity").$new()["$-@"]());a.const_set(c[0],"ITALY",2299161);a.const_set(c[0],"ENGLAND",2361222);a.const_set(c[0],"MONTHNAMES",w([h],"January February March April May June July August September October November December".split(" ")));a.const_set(c[0],"ABBR_MONTHNAMES","jan feb mar apr may jun jul aug sep oct nov dec".split(" "));a.const_set(c[0],"DAYNAMES","Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "));
a.const_set(c[0],"ABBR_DAYNAMES","Sun Mon Tue Wed Thu Fri Sat".split(" "));(function(V,Ca){var Da=[V].concat(Ca),Xa,$a,Ua,Ya;a.alias(V,"civil","new");a.def(V,"$wrap",Xa=function(Ba){var ua=this.$allocate();ua.date=Ba;return ua},Xa.$$arity=1);a.def(V,"$parse",$a=function(Ba,ua){function pa(O){return O[1]}function Ga(O){return O[2]}function Pa(O){return O[3]}function Va(O){return O[4]}function Ha(O){return function(u){u=O(u);return 69<=u?u+1900:u+2E3}}function Z(O){return function(u){u=O(u).toLowerCase();
return p(Da,"ABBR_MONTHNAMES").indexOf(u)+1}}function P(O){return function(u){u=O(u);return parseInt(u,10)}}function ba(O){return function(u){u=O(u);return n(p(Da,"MONTHNAMES").$compact(),"map",[],"downcase".$to_proc()).indexOf(u.$downcase())+1}}null==ua&&(ua=!0);var T=new Date,fa=T.getDate(),na=T.getMonth(),J=T.getFullYear(),ea=T.getDay();T=p(Da,"MONTHNAMES").$compact().$join("|");T=[{regexp:/^(\d{2})$/,year:J,month:na,day:P(pa)},{regexp:/^(\d{3})$/,year:J,month:0,day:P(pa)},{regexp:/^(\d{2})(\d{2})$/,
year:J,month:P(pa),day:P(Ga)},{regexp:/^(\d{2})(\d{3})$/,year:Ha(P(pa)),month:0,day:P(Ga)},{regexp:/^(\d{2})(\d{2})(\d{2})$/,year:Ha(P(pa)),month:P(Ga),day:P(Pa)},{regexp:/^(\d{4})(\d{3})$/,year:P(pa),month:0,day:P(Ga)},{regexp:/^(\d{4})(\d{2})(\d{2})$/,year:P(pa),month:P(Ga),day:P(Pa)},{regexp:/^([a-z]{3})[\s\.\/\-](\d{3,4})$/,year:P(Ga),month:Z(pa),day:1},{regexp:/^(\d{1,2})[\s\.\/\-]([a-z]{3})[\s\.\/\-](\d{3,4})$/i,year:P(Pa),month:Z(Ga),day:P(pa)},{regexp:/^([a-z]{3})[\s\.\/\-](\d{1,2})[\s\.\/\-](\d{3,4})$/i,
year:P(Pa),month:Z(pa),day:P(Ga)},{regexp:/^(\d{3,4})[\s\.\/\-]([a-z]{3})[\s\.\/\-](\d{1,2})$/i,year:P(pa),month:Z(Ga),day:P(Pa)},{regexp:/^(\-?\d{3,4})[\s\.\/\-](\d{1,2})[\s\.\/\-](\d{1,2})$/,year:P(pa),month:P(Ga),day:P(Pa)},{regexp:/^(\d{2})[\s\.\/\-](\d{1,2})[\s\.\/\-](\d{1,2})$/,year:function(O){return function(u){u=O(u);return ua?u+2E3:u}}(P(pa)),month:P(Ga),day:P(Pa)},{regexp:/^(\d{1,2})[\s\.\/\-](\d{1,2})[\s\.\/\-](\-?\d{3,4})$/,year:P(Pa),month:P(Ga),day:P(pa)},{regexp:new RegExp("^("+p(Da,
"DAYNAMES").$join("|")+")$","i"),year:J,month:na,day:function(O){return function(u){u=O(u);u=n(p(Da,"DAYNAMES"),"map",[],"downcase".$to_proc()).indexOf(u.$downcase());return fa-ea+u}}(pa)},{regexp:new RegExp("^("+T+")[\\s\\.\\/\\-](\\d{1,2})(th|nd|rd)[\\s\\.\\/\\-](\\-?\\d{3,4})$","i"),year:P(Va),month:ba(pa),day:P(Ga)},{regexp:new RegExp("^("+T+")[\\s\\.\\/\\-](\\d{1,2})(th|nd|rd)","i"),year:J,month:ba(pa),day:P(Ga)},{regexp:new RegExp("^(\\d{1,2})(th|nd|rd)[\\s\\.\\/\\-]("+T+")[\\s\\.\\/\\-](\\-?\\d{3,4})$",
"i"),year:P(Va),month:ba(Pa),day:P(pa)},{regexp:new RegExp("^(\\-?\\d{3,4})[\\s\\.\\/\\-]("+T+")[\\s\\.\\/\\-](\\d{1,2})(th|nd|rd)$","i"),year:P(pa),month:ba(Ga),day:P(Pa)}];var F;for(F=0;F<T.length;F++)if(J=T[F],na=J.regexp.exec(Ba))return Ba=J.year,"function"===typeof Ba&&(Ba=Ba(na)),T=J.month,"function"===typeof T&&(T=T(na)-1),J=J.day,"function"===typeof J&&(J=J(na)),na=new Date(Ba,T,J),0<=Ba&&1970>=Ba&&na.setFullYear(Ba),this.$wrap(na);return this.$raise(p(Da,"ArgumentError"),"invalid date")},
$a.$$arity=-2);a.def(V,"$today",Ua=function(){return this.$wrap(new Date)},Ua.$$arity=0);return(a.def(V,"$gregorian_leap?",Ya=function(Ba){return 0===(new Date(Ba,1,29)).getMonth()-1},Ya.$$arity=1),h)&&"gregorian_leap?"})(a.get_singleton_class(x),c);a.def(x,"$initialize",A=function(V,Ca,Da,Xa){null==V&&(V=-4712);null==Ca&&(Ca=1);null==Da&&(Da=1);null==Xa&&p(c,"ITALY");1582===V&&10===Ca&&4<Da&&15>Da&&(Da=4);return this.date=new Date(V,Ca-1,Da)},A.$$arity=-1);a.def(x,"$-",D=function(V){if(V.$$is_number){var Ca=
this.$clone();Ca.date.setDate(this.date.getDate()-V);return Ca}if(V.date)return Math.round((this.date-V.date)/864E5);this.$raise(p(c,"TypeError"))},D.$$arity=1);a.def(x,"$+",r=function(V){if(V.$$is_number){var Ca=this.$clone();Ca.date.setDate(this.date.getDate()+V);return Ca}this.$raise(p(c,"TypeError"))},r.$$arity=1);a.def(x,"$<",ja=function(V){var Ca=this.date;V=V.date;Ca.setHours(0,0,0,0);V.setHours(0,0,0,0);return Ca<V},ja.$$arity=1);a.def(x,"$<=",va=function(V){var Ca=this.date;V=V.date;Ca.setHours(0,
0,0,0);V.setHours(0,0,0,0);return Ca<=V},va.$$arity=1);a.def(x,"$>",ha=function(V){var Ca=this.date;V=V.date;Ca.setHours(0,0,0,0);V.setHours(0,0,0,0);return Ca>V},ha.$$arity=1);a.def(x,"$>=",ma=function(V){var Ca=this.date;V=V.date;Ca.setHours(0,0,0,0);V.setHours(0,0,0,0);return Ca>=V},ma.$$arity=1);a.def(x,"$<=>",b=function(V){if(V.$$is_number)return this.$jd()["$<=>"](V);if(p(c,"Date")["$==="](V)){var Ca=this.date;V=V.date;Ca.setHours(0,0,0,0);V.setHours(0,0,0,0);return Ca<V?-1:Ca>V?1:0}return h},
b.$$arity=1);a.def(x,"$>>",f=function(V){V.$$is_number||this.$raise(p(c,"TypeError"));var Ca=this.$clone(),Da=Ca.date,Xa=Da.getDate();Da.setDate(1);Da.setMonth(Da.getMonth()+V);Da.setDate(Math.min(Xa,E(Da.getFullYear(),Da.getMonth())));return Ca},f.$$arity=1);a.def(x,"$<<",g=function(V){V.$$is_number||this.$raise(p(c,"TypeError"));return this["$>>"](-V)},g.$$arity=1);a.alias(x,"eql?","==");a.def(x,"$clone",l=function(){return p(c,"Date").$wrap(new Date(this.date.getTime()))},l.$$arity=0);a.def(x,
"$day",m=function(){return this.date.getDate()},m.$$arity=0);a.def(x,"$friday?",y=function(){return this.$wday()["$=="](5)},y.$$arity=0);a.def(x,"$jd",ka=function(){var V=this.date.getMonth()+1,Ca=this.date.getDate(),Da=this.date.getFullYear();var Xa=1;1585>=Da&&(Xa=0);var $a=-1*Math.floor(7*(Math.floor((V+9)/12)+Da)/4);var Ua=1;0>V-9&&(Ua=-1);Ua=Math.floor(Da+Ua*Math.floor(Math.abs(V-9)/7));Ua=-1*Math.floor(3*(Math.floor(Ua/100)+1)/4);$a=$a+Math.floor(275*V/9)+Ca+Xa*Ua;return $a+1721027+2*Xa+367*
Da-.5+.5},ka.$$arity=0);a.def(x,"$julian?",L=function(){return this.date<new Date(1582,9,15,12)},L.$$arity=0);a.def(x,"$monday?",ia=function(){return this.$wday()["$=="](1)},ia.$$arity=0);a.def(x,"$month",ya=function(){return this.date.getMonth()+1},ya.$$arity=0);a.def(x,"$next",Ka=function(){return w(this,1)},Ka.$$arity=0);a.def(x,"$next_day",La=function(V){null==V&&(V=1);return w(this,V)},La.$$arity=-1);a.def(x,"$next_month",Aa=function(V){null==V&&(V=1);var Ca=this.$clone(),Da=Ca.date,Xa=Da.getDate();
Da.setDate(1);Da.setMonth(Da.getMonth()+V);Da.setDate(Math.min(Xa,E(Da.getFullYear(),Da.getMonth())));return Ca},Aa.$$arity=-1);a.def(x,"$next_year",Ma=function(V){null==V&&(V=1);return this.$class().$new(w(this.$year(),V),this.$month(),this.$day())},Ma.$$arity=-1);a.def(x,"$prev_day",U=function(V){null==V&&(V=1);return G(this,V)},U.$$arity=-1);a.def(x,"$prev_month",wa=function(V){null==V&&(V=1);var Ca=this.$clone(),Da=Ca.date,Xa=Da.getDate();Da.setDate(1);Da.setMonth(Da.getMonth()-V);Da.setDate(Math.min(Xa,
E(Da.getFullYear(),Da.getMonth())));return Ca},wa.$$arity=-1);a.def(x,"$prev_year",R=function(V){null==V&&(V=1);return this.$class().$new(G(this.$year(),V),this.$month(),this.$day())},R.$$arity=-1);a.def(x,"$saturday?",oa=function(){return this.$wday()["$=="](6)},oa.$$arity=0);a.def(x,"$strftime",za=function(V){null==V&&(V="");return""==V?this.$to_s():this.date.$strftime(V)},za.$$arity=-1);a.alias(x,"succ","next");a.def(x,"$sunday?",la=function(){return this.$wday()["$=="](0)},la.$$arity=0);a.def(x,
"$thursday?",M=function(){return this.$wday()["$=="](4)},M.$$arity=0);a.def(x,"$to_s",K=function(){var V=this.date,Ca=V.getFullYear(),Da=V.getMonth()+1;V=V.getDate();10>Da&&(Da="0"+Da);10>V&&(V="0"+V);return Ca+"-"+Da+"-"+V},K.$$arity=0);a.def(x,"$to_time",X=function(){return p(c,"Time").$new(this.$year(),this.$month(),this.$day())},X.$$arity=0);a.def(x,"$to_n",xa=function(){return this.date},xa.$$arity=0);a.def(x,"$tuesday?",aa=function(){return this.$wday()["$=="](2)},aa.$$arity=0);a.def(x,"$step",
qa=function(V,Ca){var Da=qa.$$p,Xa=Da||h,$a,Ua,Ya=h;Ya=Ya=h;Da&&(qa.$$p=null);Da&&(qa.$$p=null);null==Ca&&(Ca=1);Ya=G(V,this).$to_i();Ya=d(z("number"===typeof Ya&&"number"===typeof Ca?Ya*Ca:Ya["$*"](Ca),0))?[]:d(z(Ya,0))?n(a.Range.$new(0,Ya["$-@"](),!1).$step(Ca.$abs()),"map",[],"-@".$to_proc()).$reverse():a.Range.$new(0,Ya,!1).$step(Ca.$abs());Ya=n(Ya,"map",[],($a=function(Ba){var ua=null==$a.$$s?this:$a.$$s;null==Ba&&(Ba=h);return w(ua,Ba)},$a.$$s=this,$a.$$arity=1,$a));return Xa!==h?(n(Ya,"each",
[],(Ua=function(Ba){null==Ba&&(Ba=h);return a.yield1(Xa,Ba)},Ua.$$s=this,Ua.$$arity=1,Ua)),this):Ya},qa.$$arity=-2);a.def(x,"$upto",Ea=function(V){var Ca=Ea.$$p,Da=Ca||h;Ca&&(Ea.$$p=null);Ca&&(Ea.$$p=null);return n(this,"step",[V,1],Da.$to_proc())},Ea.$$arity=1);a.def(x,"$downto",Ia=function(V){var Ca=Ia.$$p,Da=Ca||h;Ca&&(Ia.$$p=null);Ca&&(Ia.$$p=null);return n(this,"step",[V,-1],Da.$to_proc())},Ia.$$arity=1);a.def(x,"$wday",Sa=function(){return this.date.getDay()},Sa.$$arity=0);a.def(x,"$wednesday?",
Wa=function(){return this.$wday()["$=="](3)},Wa.$$arity=0);a.def(x,"$year",ib=function(){return this.date.getFullYear()},ib.$$arity=0);a.def(x,"$cwday",gb=function(){return this.date.getDay()||7},gb.$$arity=0);a.def(x,"$cweek",Ta=function(){var V=new Date(this.date);V.setHours(0,0,0);V.setDate(V.getDate()+4-(V.getDay()||7));return Math.ceil(((V-new Date(V.getFullYear(),0,1))/864E5+1)/7)},Ta.$$arity=0)}(B[0],null,B)};
(function(a){function w(c,A){return"number"===typeof c&&"number"===typeof A?c+A:c["$+"](A)}function G(c,A){return"number"===typeof c&&"number"===typeof A?c>A:c["$>"](A)}function z(c,A){return"number"===typeof c&&"number"===typeof A?c<A:c["$<"](A)}function B(c,A){return"number"===typeof c&&"number"===typeof A?c-A:c["$-"](A)}function h(c,A){return"number"===typeof c&&"number"===typeof A?c<=A:c["$<="](A)}var v=a.top,p=[],q=a.nil,I=a.$$$,d=a.$$,n=a.klass,x=a.hash2,e=a.truthy,k=a.send,E=a.range;a.add_stubs("$require $setup $first $drop $=== $empty? $raise $+ $add $join $> $length $change_state $to_i $list $< $set_priority $due_date $append $rename $!= $delete $add_note $delete_note $[] $show $puts $usage $start_repl $cleanup $colorize $private $map $each_with_index $keys $== $select $parse $strftime $today $downcase $- $lambda $match $! $<= $each $split $strip $chomp $[]= $has_key? $sort $generate $gsub $convert_due_date $postprocess_tags $load_tasks $call $write_tasks $update_task $nil? $push $max $size $to_s $& $sort_by $filter_tasks $start_with? $abs $rjust $to_a $delete_at $is_a? $execute $each_key $uniq $all? $index $new".split(" "));
v.$require("json");v.$require("date");(function(c,$super,D){c=n(c,$super,"Todo");var r=[c].concat(D),ja,va,ha,ma,b,f,g,l,m,y,ka,L,ia,ya,Ka,La,Aa,Ma,U,wa,R,oa,za;c.$$prototype.queries=c.$$prototype.today=c.$$prototype.due_date_days=q;a.const_set(r[0],"COLOR_CODES",x("black red green yellow blue magenta cyan white".split(" "),{black:30,red:31,green:32,yellow:33,blue:34,magenta:35,cyan:36,white:37}));a.const_set(r[0],"STATES",x("new done started blocked waiting default".split(" "),{"new":"[ ]",done:"[x]",
started:"[>]",blocked:"[!]",waiting:"[@]","default":"[?]"}));a.const_set(r[0],"ORDER",x("new done started blocked waiting default".split(" "),{"new":3,done:5,started:2,blocked:1,waiting:4,"default":100}));a.const_set(r[0],"COLORS",x("new done started blocked waiting default".split(" "),{"new":"white",done:"blue",started:"green",blocked:"yellow",waiting:"cyan","default":"magenta"}));a.const_set(r[0],"DATE_FORMAT","%Y-%m-%d");a.const_set(r[0],"DATE_PATTERN",/^[1-9]\d{3}-(0[1-9]|1[0-2])-(0[1-9]|[12]\d|3[01])$/);
a.const_set(r[0],"DUE_DATE_DAYS_SIMPLE",["today","tomorrow"]);a.const_set(r[0],"DUE_DATE_TAG_PATTERN",/(^| )due:([a-zA-Z0-9-]+)/);a.const_set(r[0],"CONTEXT_TAG_PATTERN",/(^| )[@+][\w-]+/);a.const_set(r[0],"PRIORITY_FLAG","*");a.const_set(r[0],"TODO_FILE",require("path").join(require("os").homedir(),"todo.jsonl"));a.def(c,"$execute",ja=function(la){var M=q,K=q,X=q,xa=q;try{this.$setup(),M=la.$first(),K=la.$drop(1),X=M,"add"["$==="](X)?(e(K["$empty?"]())&&this.$raise(w(M," command requires at least one parameter")),
this.$add(K.$join(" "))):"start"["$==="](X)?e(G(K.$length(),0))?this.$change_state(K.$first().$to_i(),"started",K.$drop(1).$join(" ")):this.$list(q,[":started"]):"done"["$==="](X)?e(G(K.$length(),0))?this.$change_state(K.$first().$to_i(),"done",K.$drop(1).$join(" ")):this.$list(q,[":done"]):"block"["$==="](X)?e(G(K.$length(),0))?this.$change_state(K.$first().$to_i(),"blocked",K.$drop(1).$join(" ")):this.$list(q,[":blocked"]):"wait"["$==="](X)?e(G(K.$length(),0))?this.$change_state(K.$first().$to_i(),
"waiting",K.$drop(1).$join(" ")):this.$list(q,[":waiting"]):"reset"["$==="](X)?e(G(K.$length(),0))?this.$change_state(K.$first().$to_i(),"new",K.$drop(1).$join(" ")):this.$list(q,[":new"]):"prio"["$==="](X)?(e(z(K.$length(),1))&&this.$raise(w(M," command requires at least one parameter")),this.$set_priority(K.$first().$to_i(),K.$drop(1).$join(" "))):"due"["$==="](X)?(e(z(K.$length(),1))&&this.$raise(w(M," command requires at least one parameter")),this.$due_date(K.$first().$to_i(),K.$drop(1).$join(" "))):
"append"["$==="](X)?(e(z(K.$length(),2))&&this.$raise(w(M," command requires at least two parameters")),this.$append(K.$first().$to_i(),K.$drop(1).$join(" "))):"rename"["$==="](X)?(e(z(K.$length(),2))&&this.$raise(w(M," command requires at least two parameters")),this.$rename(K.$first().$to_i(),K.$drop(1).$join(" "))):"del"["$==="](X)?(e(K.$length()["$!="](1))&&this.$raise(w(M," command requires exactly one parameter")),this.$delete(K.$first().$to_i())):"note"["$==="](X)?(e(z(K.$length(),2))&&this.$raise(w(M,
" command requires at least two parameters")),this.$add_note(K.$first().$to_i(),K.$drop(1).$join(" "))):"delnote"["$==="](X)?(e(e(xa=z(K.$length(),1))?xa:G(K.$length(),2))&&this.$raise(w(M," command requires one or two parameters")),this.$delete_note(K.$first().$to_i(),K["$[]"](1))):"list"["$==="](X)?this.$list(q,K):"show"["$==="](X)?(e(K.$length()["$!="](1))&&this.$raise(w(M," command requires exactly one parameter")),this.$show(K.$first().$to_i())):"help"["$==="](X)?(e(G(K.$length(),0))&&this.$raise(w(M,
" command has no parameters")),this.$puts(this.$usage())):"repl"["$==="](X)?(e(G(K.$length(),0))&&this.$raise(w(M," command has no parameters")),this.$start_repl()):"cleanup"["$==="](X)?(e(K["$empty?"]())&&this.$raise(w(M," command requires at least one parameter")),this.$cleanup(K)):this.$list(q,la)}catch(aa){if(a.rescue(aa,[I(d(r,"JS"),"Error"),d(r,"StandardError")])){la=aa;try{this.$puts(""+this.$colorize("ERROR:","red")+" "+la)}finally{a.pop_exception()}}else throw aa;}return this},ja.$$arity=
1);c.$private();a.def(c,"$usage",va=function(){var la,M,K;return"Usage: todo <command> <arguments>\n\nCommands:\n* add <text>                     add new task\n* start <tasknumber> [text]      mark task as started, with optional note\n* done <tasknumber> [text]       mark task as completed, with optional note\n* block <tasknumber> [text]      mark task as blocked, with optional note\n* wait <tasknumber> [text]       mark task as waiting, with optional note\n* reset <tasknumber> [text]      reset task to new state, with optional note\n* prio <tasknumber> [text]       toggle high priority flag, with optional note\n* due <tasknumber> [date]        set/unset due date (in YYYY-MM-DD format)\n\n* append <tasknumber> <text>     append text to task title\n* rename <tasknumber> <text>     rename task\n* del <tasknumber>               delete task\n* note <tasknumber> <text>       add note to task\n* delnote <tasknumber> [number]  delete a specific or all notes from task\n\n* list <regex> [regex...]        list tasks (only active tasks by default)\n* show <tasknumber>              show all task details\n* repl                           enter read-eval-print loop mode\n* cleanup <regex> [regex...]     cleanup completed tasks by regex\n* help                           this help screen\n\nWith list command the following pre-defined queries can be also used:\n"+
k(this.queries.$keys().$each_with_index(),"map",[],(la=function(X,xa){null==X&&(X=q);null==xa&&(xa=q);return w(xa["$=="](8)?"\n":"",X)},la.$$s=this,la.$$arity=2,la)).$join(", ")+'\n\nDue dates can be also added via tags in task title: "due:YYYY-MM-DD"\nIn addition to formatted dates, you can use date synonyms:\n"due:today", "due:tomorrow", and day names e.g. "due:monday" or "due:tue"\n\nLegend: '+k(k(d(r,"STATES"),"select",[],(M=function(X){null==X&&(X=q);return X["$!="]("default")},M.$$s=this,M.$$arity=
2,M)),"map",[],(K=function(X,xa){null==X&&(X=q);null==xa&&(xa=q);return""+X+" "+xa},K.$$s=this,K.$$arity=2,K)).$join(", ")+", priority "+d(r,"PRIORITY_FLAG")+"\n\nTodo file: "+d(r,"TODO_FILE")+"\n"},va.$$arity=0);a.def(c,"$setup",ha=function(){var la,M,K,X,xa,aa,qa,Ea,Ia,Sa,Wa,ib,gb,Ta,V,Ca,Da,Xa,$a=q,Ua=q,Ya=q;this.today=d(r,"Date").$parse(d(r,"Date").$today().$strftime(d(r,"DATE_FORMAT")));$a=k(E(0,6,!1),"map",[],(la=function(Ba){var ua=null==la.$$s?this:la.$$s;null==ua.today&&(ua.today=q);null==
Ba&&(Ba=q);return w(ua.today,Ba)},la.$$s=this,la.$$arity=1,la));this.due_date_days=k($a,"map",[],(M=function(Ba){null==Ba&&(Ba=q);return Ba.$strftime("%A").$downcase()},M.$$s=this,M.$$arity=1,M));Ua=k($a,"map",[],(K=function(Ba){null==Ba&&(Ba=q);return Ba.$strftime(d(r,"DATE_FORMAT"))},K.$$s=this,K.$$arity=1,K));Ya=B(this.today,7).$strftime(d(r,"DATE_FORMAT"));return this.queries=x(":active :done :blocked :waiting :started :new :all :priority :note :today :tomorrow :next7days :overdue :due :recent".split(" "),
{":active":k(this,"lambda",[],(X=function(Ba){null==Ba&&(Ba=q);return/(new|started|blocked|waiting)/.$match(Ba["$[]"]("state"))},X.$$s=this,X.$$arity=1,X)),":done":k(this,"lambda",[],(xa=function(Ba){null==Ba&&(Ba=q);return"done"["$=="](Ba["$[]"]("state"))},xa.$$s=this,xa.$$arity=1,xa)),":blocked":k(this,"lambda",[],(aa=function(Ba){null==Ba&&(Ba=q);return"blocked"["$=="](Ba["$[]"]("state"))},aa.$$s=this,aa.$$arity=1,aa)),":waiting":k(this,"lambda",[],(qa=function(Ba){null==Ba&&(Ba=q);return"waiting"["$=="](Ba["$[]"]("state"))},
qa.$$s=this,qa.$$arity=1,qa)),":started":k(this,"lambda",[],(Ea=function(Ba){null==Ba&&(Ba=q);return"started"["$=="](Ba["$[]"]("state"))},Ea.$$s=this,Ea.$$arity=1,Ea)),":new":k(this,"lambda",[],(Ia=function(Ba){null==Ba&&(Ba=q);return"new"["$=="](Ba["$[]"]("state"))},Ia.$$s=this,Ia.$$arity=1,Ia)),":all":k(this,"lambda",[],(Sa=function(Ba){null==Ba&&(Ba=q);return/\w+/.$match(Ba["$[]"]("state"))},Sa.$$s=this,Sa.$$arity=1,Sa)),":priority":k(this,"lambda",[],(Wa=function(Ba){null==Ba&&(Ba=q);return Ba["$[]"]("priority")},
Wa.$$s=this,Wa.$$arity=1,Wa)),":note":k(this,"lambda",[],(ib=function(Ba){var ua;null==Ba&&(Ba=q);return e(ua=Ba["$[]"]("note"))?Ba["$[]"]("note")["$empty?"]()["$!"]():ua},ib.$$s=this,ib.$$arity=1,ib)),":today":k(this,"lambda",[],(gb=function(Ba){null==Ba&&(Ba=q);return Ua["$[]"](0)["$=="](Ba["$[]"]("due"))},gb.$$s=this,gb.$$arity=1,gb)),":tomorrow":k(this,"lambda",[],(Ta=function(Ba){null==Ba&&(Ba=q);return Ua["$[]"](1)["$=="](Ba["$[]"]("due"))},Ta.$$s=this,Ta.$$arity=1,Ta)),":next7days":k(this,
"lambda",[],(V=function(Ba){null==Ba&&(Ba=q);return a.regexp(["(",Ua.$join("|"),")"]).$match(Ba["$[]"]("due"))},V.$$s=this,V.$$arity=1,V)),":overdue":k(this,"lambda",[],(Ca=function(Ba){var ua;null==Ba&&(Ba=q);return e(ua=Ba["$[]"]("due"))?z(Ba["$[]"]("due"),Ua["$[]"](0)):ua},Ca.$$s=this,Ca.$$arity=1,Ca)),":due":k(this,"lambda",[],(Da=function(Ba){null==Ba&&(Ba=q);return Ba["$[]"]("due")},Da.$$s=this,Da.$$arity=1,Da)),":recent":k(this,"lambda",[],(Xa=function(Ba){null==Ba&&(Ba=q);return h(Ya,Ba["$[]"]("modified"))},
Xa.$$s=this,Xa.$$arity=1,Xa))})},ha.$$arity=0);a.def(c,"$load_tasks",ma=function(la){var M,K=q,X=q,xa=q,aa=q;null==la&&(la=q);K=0;X=x([],{});xa=require("fs").existsSync(d(r,"TODO_FILE"))?require("fs").readFileSync(d(r,"TODO_FILE"),"utf8"):"";e(xa["$empty?"]()["$!"]())&&k(xa.$split("\n"),"each",[],(M=function(qa){null==qa&&(qa=q);if(qa.$strip()["$=="](""))return q;K=w(K,1);qa=[K,d(r,"JSON").$parse(qa.$chomp(),x(["symbolize_names"],{symbolize_names:!0}))];k(X,"[]=",a.to_a(qa));return qa[B(qa.length,
1)]},M.$$s=this,M.$$arity=1,M));e(e(aa=la)?X["$has_key?"](la)["$!"]():aa)&&this.$raise(""+la+": No such todo");return X},ma.$$arity=-1);a.def(c,"$write_tasks",b=function(la){var M,K=q;K=w(k(la.$keys().$sort(),"map",[],(M=function(X){null==X&&(X=q);return d(r,"JSON").$generate(la["$[]"](X))},M.$$s=this,M.$$arity=1,M)).$join("\n"),"\n");return require("fs").writeFileSync(d(r,"TODO_FILE"),K,"utf8")},b.$$arity=1);a.def(c,"$postprocess_tags",f=function(la){var M=la["$[]"]("title").$match(d(r,"DUE_DATE_TAG_PATTERN"));
if(e(M)){var K=["title",la["$[]"]("title").$gsub(d(r,"DUE_DATE_TAG_PATTERN"),"")];k(la,"[]=",a.to_a(K));K[B(K.length,1)];K=["due",this.$convert_due_date(M["$[]"](2))];k(la,"[]=",a.to_a(K));K[B(K.length,1)]}return e(la["$[]"]("title")["$empty?"]())?this.$raise("title must not be empty"):q},f.$$arity=1);a.def(c,"$add",g=function(la){la=x(["state","title","modified"],{state:"new",title:la,modified:this.today.$strftime(d(r,"DATE_FORMAT"))});this.$postprocess_tags(la);require("fs").appendFileSync(d(r,
"TODO_FILE"),w(d(r,"JSON").$generate(la),"\n"),"utf8");return this.$list()},g.$$arity=1);a.def(c,"$update_task",l=function(la,M,K){var X=this.$load_tasks(la);K.$call(X["$[]"](la));K=["modified",this.today.$strftime(d(r,"DATE_FORMAT"))];k(X["$[]"](la),"[]=",a.to_a(K));K[B(K.length,1)];this.$write_tasks(X);return"show"["$==="](M)?this.$show(la,X):"list"["$==="](M)?this.$list(X):q},l.$$arity=3);a.def(c,"$append",m=function(la,M){var K;return this.$update_task(la,"list",k(this,"lambda",[],(K=function(X){var xa=
null==K.$$s?this:K.$$s;null==X&&(X=q);var aa=["title",[X["$[]"]("title"),M].$join(" ")];k(X,"[]=",a.to_a(aa));aa[B(aa.length,1)];return xa.$postprocess_tags(X)},K.$$s=this,K.$$arity=1,K)))},m.$$arity=2);a.def(c,"$rename",y=function(la,M){var K;return this.$update_task(la,"list",k(this,"lambda",[],(K=function(X){var xa=null==K.$$s?this:K.$$s;null==X&&(X=q);var aa=["title",M];k(X,"[]=",a.to_a(aa));aa[B(aa.length,1)];return xa.$postprocess_tags(X)},K.$$s=this,K.$$arity=1,K)))},y.$$arity=2);a.def(c,"$delete",
ka=function(la){var M=this.$load_tasks(la);M.$delete(la);this.$write_tasks(M);return this.$list()},ka.$$arity=1);a.def(c,"$change_state",L=function(la,M,K){var X;null==K&&(K=q);return this.$update_task(la,"list",k(this,"lambda",[],(X=function(xa){var aa=q;null==xa&&(xa=q);var qa=["state",M];k(xa,"[]=",a.to_a(qa));qa[B(qa.length,1)];return e(e(aa=K["$nil?"]()["$!"]())?K["$empty?"]()["$!"]():aa)?(e(qa=xa["$[]"]("note"))?qa:(qa=["note",[]],k(xa,"[]=",a.to_a(qa)),qa[B(qa.length,1)]),xa["$[]"]("note").$push(K)):
q},X.$$s=this,X.$$arity=1,X)))},L.$$arity=-3);a.def(c,"$set_priority",ia=function(la,M){var K;null==M&&(M=q);return this.$update_task(la,"list",k(this,"lambda",[],(K=function(X){var xa=q;null==X&&(X=q);var aa=["priority",X["$[]"]("priority")["$!"]()];k(X,"[]=",a.to_a(aa));aa[B(aa.length,1)];e(X["$[]"]("priority")["$!"]())&&X.$delete("priority");return e(e(xa=M["$nil?"]()["$!"]())?M["$empty?"]()["$!"]():xa)?(e(aa=X["$[]"]("note"))?aa:(aa=["note",[]],k(X,"[]=",a.to_a(aa)),aa[B(aa.length,1)]),X["$[]"]("note").$push(M)):
q},K.$$s=this,K.$$arity=1,K)))},ia.$$arity=-2);a.def(c,"$due_date",ya=function(la,M){var K;null==M&&(M="");return this.$update_task(la,"list",k(this,"lambda",[],(K=function(X){var xa=null==K.$$s?this:K.$$s;null==X&&(X=q);xa=["due",xa.$convert_due_date(M)];k(X,"[]=",a.to_a(xa));xa[B(xa.length,1)];return e(X["$[]"]("due")["$nil?"]())?X.$delete("due"):q},K.$$s=this,K.$$arity=1,K)))},ya.$$arity=-2);a.def(c,"$list",Ka=function(la,M){var K,X,xa=q,aa=q,qa=q,Ea=q;null==la&&(la=q);null==M&&(M=q);la=e(xa=la)?
xa:this.$load_tasks();aa=[la.$keys().$max().$to_s().$size(),4].$max();M=e(qa=M)?qa:[];e(M["$&"](":active :done :blocked :started :new :all :waiting".split(" "))["$empty?"]())&&(M=w(M,[":active"]));Ea=k(this.$filter_tasks(la,M),"sort_by",[],(K=function(Ia,Sa){var Wa=q,ib=q,gb=q,Ta=q;null==Ia&&(Ia=q);null==Sa&&(Sa=q);return[e(e(Wa=Sa["$[]"]("priority"))?Sa["$[]"]("state")["$!="]("done"):Wa)?0:1,e(ib=d(r,"ORDER")["$[]"](e(gb=Sa["$[]"]("state"))?gb:"default"))?ib:d(r,"ORDER")["$[]"]("default"),e(Sa["$[]"]("state")["$!="]("done"))?
e(Ta=Sa["$[]"]("due"))?Ta:"n/a":Sa["$[]"]("modified"),Ia]},K.$$s=this,K.$$arity=2,K));k(Ea,"each",[],(X=function(Ia,Sa){var Wa=null==X.$$s?this:X.$$s,ib,gb=q,Ta=q,V=q,Ca=q,Da=q,Xa=q,$a=q,Ua=q,Ya=gb=q,Ba=q;null==Wa.today&&(Wa.today=q);null==Wa.due_date_days&&(Wa.due_date_days=q);null==Ia&&(Ia=q);null==Sa&&(Sa=q);gb=e(Ta=Sa["$[]"]("state"))?Ta:"default";V=Wa.$colorize(d(r,"STATES")["$[]"](gb),d(r,"COLORS")["$[]"](gb));Ca=k(Sa["$[]"]("title"),"gsub",[d(r,"CONTEXT_TAG_PATTERN")],(ib=function(ua){var pa=
null==ib.$$s?this:ib.$$s;null==ua&&(ua=q);return w(e(ua["$start_with?"](" "))?" ":"",pa.$colorize(ua.$strip(),"cyan"))},ib.$$s=Wa,ib.$$arity=1,ib));Da=e(e(Xa=Sa["$[]"]("priority"))?gb["$!="]("done"):Xa)?Wa.$colorize(d(r,"PRIORITY_FLAG"),"red"):" ";$a="";e(e(Ua=Sa["$[]"]("due"))?gb["$!="]("done"):Ua)&&(gb=B(d(r,"Date").$parse(Sa["$[]"]("due")),Wa.today).$to_i(),e(z(gb,0))?$a=Wa.$colorize("("+gb.$abs()+"d overdue)","red"):e(e(Ya=gb["$=="](0))?Ya:gb["$=="](1))?$a=Wa.$colorize("("+d(r,"DUE_DATE_DAYS_SIMPLE")["$[]"](gb)+
")","yellow"):e(G(gb,1))&&($a=Wa.$colorize("("+(e(Ba=Wa.due_date_days["$[]"](gb))?Ba:Sa["$[]"]("due"))+")","magenta")),$a=w(" ",$a));return Wa.$puts(""+Ia.$to_s().$rjust(aa)+":"+Da+V+" "+Ca+$a)},X.$$s=this,X.$$arity=2,X));return e(Ea["$empty?"]())?this.$puts("No todos found"):q},Ka.$$arity=-1);a.def(c,"$add_note",La=function(la,M){var K;return this.$update_task(la,"show",k(this,"lambda",[],(K=function(X){var xa;null==X&&(X=q);e(xa=X["$[]"]("note"))?xa:(xa=["note",[]],k(X,"[]=",a.to_a(xa)),xa[B(xa.length,
1)]);return X["$[]"]("note").$push(M)},K.$$s=this,K.$$arity=1,K)))},La.$$arity=2);a.def(c,"$delete_note",Aa=function(la,M){var K;null==M&&(M=q);return this.$update_task(la,"show",k(this,"lambda",[],(K=function(X){var xa=null==K.$$s?this:K.$$s,aa=q;null==X&&(X=q);if(e(M.$to_s()["$empty?"]()))return X.$delete("note");e(e(aa=h(M.$to_i(),0))?aa:z(X["$[]"]("note").$to_a().$size(),M.$to_i()))&&xa.$raise(""+M.$to_i()+": Note does not exist");X["$[]"]("note").$delete_at(B(M.$to_i(),1));return e(X["$[]"]("note")["$empty?"]())?
X.$delete("note"):q},K.$$s=this,K.$$arity=1,K)))},Aa.$$arity=-2);a.def(c,"$show",Ma=function(la,M){var K,X=q;null==M&&(M=q);M=e(X=M)?X:this.$load_tasks(la);return k(M["$[]"](la),"each",[],(K=function(xa,aa){var qa=null==K.$$s?this:K.$$s,Ea;null==xa&&(xa=q);null==aa&&(aa=q);e(aa["$is_a?"](d(r,"Array")))&&(aa=w("\n",k(aa.$each_with_index(),"map",[],(Ea=function(Ia,Sa){null==Ia&&(Ia=q);null==Sa&&(Sa=q);return e(G(aa.$size(),1))?""+w(Sa,1).$to_s().$rjust(aa.$size().$to_s().$size())+": "+Ia:Ia},Ea.$$s=
qa,Ea.$$arity=2,Ea)).$join("\n")));return qa.$puts(""+qa.$colorize(w(xa.$to_s().$rjust(10),":"),"cyan")+" "+aa)},K.$$s=this,K.$$arity=2,K))},Ma.$$arity=-2);a.def(c,"$start_repl",U=function(){function la(){X.question("\ntodo> ",function(xa){try{xa=xa.trim(),["exit","quit"].includes(xa)?X.close():(["clear","cls"].includes(xa)?process.stdout.write("\u001b[H\u001b[2J"):K(xa),la())}catch(aa){throw X.close(),aa;}})}var M,K=q;K=k(this,"lambda",[],(M=function(xa){var aa=null==M.$$s?this:M.$$s;null==xa&&(xa=
q);return aa.$execute(xa["$=="]("repl")?[]:xa.$split(/\s+/))},M.$$s=this,M.$$arity=1,M));var X=require("readline").createInterface({input:process.stdin,output:process.stdout});K("");la()},U.$$arity=0);a.def(c,"$cleanup",wa=function(la){var M,K=q,X=q;K=this.$load_tasks();la=w([":done"],la.$to_a());X=this.$filter_tasks(K,la);k(X,"each_key",[],(M=function(xa){null==xa&&(xa=q);return K.$delete(xa)},M.$$s=this,M.$$arity=1,M));this.$write_tasks(K);return this.$puts("Deleted "+X.$size()+" todo(s)")},wa.$$arity=
1);a.def(c,"$filter_tasks",R=function(la,M){var K;M=M.$uniq();return k(la,"select",[],(K=function(X,xa){var aa=null==K.$$s?this:K.$$s,qa;null==X&&(X=q);null==xa&&(xa=q);return k(M,"all?",[],(qa=function(Ea){var Ia=null==qa.$$s?this:qa.$$s;null==Ia.queries&&(Ia.queries=q);null==Ea&&(Ea=q);return e(Ia.queries["$[]"](Ea))?Ia.queries["$[]"](Ea).$call(xa):a.regexp([Ea],"i").$match(xa["$[]"]("title"))},qa.$$s=aa,qa.$$arity=1,qa))},K.$$s=this,K.$$arity=2,K))},R.$$arity=2);a.def(c,"$colorize",oa=function(la,
M){var K=q;return"\u001b["+(e(K=d(r,"COLOR_CODES")["$[]"](M))?K:37)+"m"+la+"\u001b[0m"},oa.$$arity=2);return(a.def(c,"$convert_due_date",za=function(la){var M,K=this,X=q,xa=q,aa=q,qa=q;X=function(){return e(xa=e(aa=K.due_date_days.$index(la.$to_s().$downcase()))?aa:d(r,"DUE_DATE_DAYS_SIMPLE").$index(la.$to_s().$downcase()))?xa:k(K.due_date_days,"map",[],(M=function(Ea){null==Ea&&(Ea=q);return Ea["$[]"](E(0,2,!1))},M.$$s=K,M.$$arity=1,M)).$index(la.$to_s().$downcase())}();return e(X)?w(K.today,X).$strftime(d(r,
"DATE_FORMAT")):e(e(qa=la["$nil?"]())?qa:la["$empty?"]())?q:d(r,"Date").$parse(d(r,"DATE_PATTERN").$match(la).$to_s()).$strftime(d(r,"DATE_FORMAT"))},za.$$arity=1),q)&&"convert_due_date"})(p[0],null,p);return d(p,"Todo").$new().$execute(process.argv.slice(2))})(Opal);var Tb=Opal.$$;Opal.add_stubs(["$exit"]);Tb([],"Kernel").$exit();}).call(this);
