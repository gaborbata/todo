(function(){var cb=cb||{};cb.scope={};cb.ASSUME_ES5=!1;cb.ASSUME_NO_NATIVE_MAP=!1;cb.ASSUME_NO_NATIVE_SET=!1;cb.SIMPLE_FROUND_POLYFILL=!1;cb.ISOLATE_POLYFILLS=!1;cb.FORCE_POLYFILL_PROMISE=!1;cb.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION=!1;cb.defineProperty=cb.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,y,K){if(a==Array.prototype||a==Object.prototype)return a;a[y]=K.value;return a};
cb.getGlobal=function(a){a=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var y=0;y<a.length;++y){var K=a[y];if(K&&K.Math==Math)return K}throw Error("Cannot find global object");};cb.global=cb.getGlobal(this);cb.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");cb.TRUST_ES6_POLYFILLS=!cb.ISOLATE_POLYFILLS||cb.IS_SYMBOL_NATIVE;cb.polyfills={};cb.propertyToPolyfillSymbol={};
cb.POLYFILL_PREFIX="$jscp$";cb.polyfill=function(a,y,K,t){y&&(cb.ISOLATE_POLYFILLS?cb.polyfillIsolated(a,y,K,t):cb.polyfillUnisolated(a,y,K,t))};cb.polyfillUnisolated=function(a,y){var K=cb.global;a=a.split(".");for(var t=0;t<a.length-1;t++){var w=a[t];if(!(w in K))return;K=K[w]}a=a[a.length-1];t=K[a];y=y(t);y!=t&&null!=y&&cb.defineProperty(K,a,{configurable:!0,writable:!0,value:y})};
cb.polyfillIsolated=function(a,y,K){var t=a.split(".");a=1===t.length;var w=t[0];w=!a&&w in cb.polyfills?cb.polyfills:cb.global;for(var A=0;A<t.length-1;A++){var p=t[A];if(!(p in w))return;w=w[p]}t=t[t.length-1];K=cb.IS_SYMBOL_NATIVE&&"es6"===K?w[t]:null;y=y(K);null!=y&&(a?cb.defineProperty(cb.polyfills,t,{configurable:!0,writable:!0,value:y}):y!==K&&(void 0===cb.propertyToPolyfillSymbol[t]&&(cb.propertyToPolyfillSymbol[t]=cb.IS_SYMBOL_NATIVE?cb.global.Symbol(t):cb.POLYFILL_PREFIX+t),cb.defineProperty(w,
cb.propertyToPolyfillSymbol[t],{configurable:!0,writable:!0,value:y})))};cb.underscoreProtoCanBeSet=function(){var a={a:!0},y={};try{return y.__proto__=a,y.a}catch(K){}return!1};cb.setPrototypeOf=cb.TRUST_ES6_POLYFILLS&&"function"==typeof Object.setPrototypeOf?Object.setPrototypeOf:cb.underscoreProtoCanBeSet()?function(a,y){a.__proto__=y;if(a.__proto__!==y)throw new TypeError(a+" is not extensible");return a}:null;
cb.polyfill("Object.setPrototypeOf",function(a){return a||cb.setPrototypeOf},"es6","es5");cb.arrayIteratorImpl=function(a){var y=0;return function(){return y<a.length?{done:!1,value:a[y++]}:{done:!0}}};cb.arrayIterator=function(a){return{next:cb.arrayIteratorImpl(a)}};cb.initSymbol=function(){};
cb.polyfill("Symbol",function(a){function y(w){if(this instanceof y)throw new TypeError("Symbol is not a constructor");return new K("jscomp_symbol_"+(w||"")+"_"+t++,w)}function K(w,A){this.$jscomp$symbol$id_=w;cb.defineProperty(this,"description",{configurable:!0,writable:!0,value:A})}if(a)return a;K.prototype.toString=function(){return this.$jscomp$symbol$id_};var t=0;return y},"es6","es3");
cb.polyfill("Symbol.iterator",function(a){if(a)return a;a=Symbol("Symbol.iterator");for(var y="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),K=0;K<y.length;K++){var t=cb.global[y[K]];"function"===typeof t&&"function"!=typeof t.prototype[a]&&cb.defineProperty(t.prototype,a,{configurable:!0,writable:!0,value:function(){return cb.iteratorPrototype(cb.arrayIteratorImpl(this))}})}return a},"es6","es3");
cb.iteratorPrototype=function(a){a={next:a};a[Symbol.iterator]=function(){return this};return a};cb.iteratorFromArray=function(a,y){a instanceof String&&(a+="");var K=0,t=!1,w={next:function(){if(!t&&K<a.length){var A=K++;return{value:y(A,a[A]),done:!1}}t=!0;return{done:!0,value:void 0}}};w[Symbol.iterator]=function(){return w};return w};cb.polyfill("Array.prototype.keys",function(a){return a?a:function(){return cb.iteratorFromArray(this,function(y){return y})}},"es6","es3");
cb.owns=function(a,y){return Object.prototype.hasOwnProperty.call(a,y)};cb.assign=cb.TRUST_ES6_POLYFILLS&&"function"==typeof Object.assign?Object.assign:function(a,y){for(var K=1;K<arguments.length;K++){var t=arguments[K];if(t)for(var w in t)cb.owns(t,w)&&(a[w]=t[w])}return a};cb.polyfill("Object.assign",function(a){return a||cb.assign},"es6","es3");cb.polyfill("Number.EPSILON",function(){return Math.pow(2,-52)},"es6","es3");
cb.polyfill("Number.MAX_SAFE_INTEGER",function(){return 9007199254740991},"es6","es3");cb.checkStringArgs=function(a,y,K){if(null==a)throw new TypeError("The 'this' value for String.prototype."+K+" must not be null or undefined");if(y instanceof RegExp)throw new TypeError("First argument to String.prototype."+K+" must not be a regular expression");return a+""};
cb.polyfill("String.prototype.codePointAt",function(a){return a?a:function(y){var K=cb.checkStringArgs(this,null,"codePointAt"),t=K.length;y=Number(y)||0;if(0<=y&&y<t){y|=0;var w=K.charCodeAt(y);if(55296>w||56319<w||y+1===t)return w;y=K.charCodeAt(y+1);return 56320>y||57343<y?w:1024*(w-55296)+y+9216}}},"es6","es3");cb.polyfill("String.prototype.trimLeft",function(a){function y(){return this.replace(/^[\s\xa0]+/,"")}return a||y},"es_2019","es3");
(function(a){function y(b,h,f){"string"===typeof b?b[h]=f:Object.defineProperty(b,h,{value:f,enumerable:!1,configurable:!0,writable:!0})}function K(b,h){if(b)return b.$$const[h]}function t(b,h){var f;if(null!=b){var q=e.ancestors(b);b=0;for(f=q.length;b<f;b++)if(q[b].$$const&&n.call(q[b].$$const,h))return q[b].$$const[h]}}function w(b,h,f){if(!f)return(b||l).$const_missing(h)}function A(b){return b.hasOwnProperty("$$iclass")&&b.hasOwnProperty("$$root")}function p(b){var h=d(b);b.$$is_module&&b.$$iclasses.push(h);
return h}function d(b){var h={},f=b.$$prototype;f.hasOwnProperty("$$dummy")&&(f=f.$$define_methods_on);var q=Object.getOwnPropertyNames(f),z=q.length,E;for(E=0;E<z;E++){var F=q[E];y(h,F,f[F])}y(h,"$$iclass",!0);y(h,"$$module",b);return h}function G(b){var h=b.length,f=b[0];y(f,"$$root",!0);if(1===h)return{first:f,last:f};for(var q=1;q<h;q++){var z=b[q];D(f,z);f=z}return{first:b[0],last:b[h-1]}}function x(b){if(!b.hasOwnProperty("$$dummy")){if(b.hasOwnProperty("$$iclass"))return b.$$module;if(b.hasOwnProperty("$$class"))return b.$$class}}
function k(b){return"function"===typeof b&&!b.$$stub}function m(){var b=e.slice.call(arguments,0,arguments.length),h=m.$$p;m.$$p=null;return e.send(l,"define_method",b,h)}"undefined"!==typeof globalThis?a=globalThis:"undefined"!==typeof global?a=global:"undefined"!==typeof window&&(a=window);var u="object"===typeof a.console?a.console:null==a.console?a.console={}:{};"log"in u||(u.log=function(){});"warn"in u||(u.warn=u.log);if("undefined"!==typeof a.Opal)return u.warn("Opal already loaded. Loading twice can cause troubles, please fix your setup."),
a.Opal;var c,l,H,e=a.Opal={};e.global=a;a.Opal=e;e.config={missing_require_severity:"error",unsupported_features_severity:"warning",enable_stack_trace:!0};var n=Object.hasOwnProperty,J=Function.prototype.bind,D=Object.setPrototypeOf,R=Array.prototype.slice,ia=Array.prototype.splice,ea=4;e.uid=function(){return ea+=2};e.id=function(b){if(b.$$is_number)return 2*b+1;if(null!=b.$$id)return b.$$id;y(b,"$$id",e.uid());return b.$$id};e.gvars={};e.exit=function(b){e.gvars.DEBUG&&u.log("Exited with status "+
b)};e.exceptions=[];e.pop_exception=function(){e.gvars["!"]=e.exceptions.pop()||ma};e.inspect=function(b){return void 0===b?"undefined":null===b?"null":b.$$class?b.$inspect():b.toString()};e.defineProperty=y;e.slice=R;e.truthy=function(b){return b!==ma&&null!=b&&(!b.$$is_boolean||1==b)};e.falsy=function(b){return b===ma||null==b||b.$$is_boolean&&0==b};e.type_error=function(b,h,f,q){b=b.$$class;return q&&f?(q=q.$$class,e.TypeError.$new("can't convert "+b+" into "+h+" ("+b+"#"+f+" gives "+q+")")):e.TypeError.$new("no implicit conversion of "+
b+" into "+h)};e.coerce_to=function(b,h,f,q){if(h["$==="](b))return b;if(!b["$respond_to?"](f))throw e.type_error(b,h);null==q&&(q=[]);return e.send(b,f,q)};e.respond_to=function(b,h,f){if(null==b||!b.$$class)return!1;f=!!f;var q=b[h];return b["$respond_to?"].$$pristine?b["$respond_to_missing?"].$$pristine?"function"===typeof q&&!q.$$stub:e.send(b,b["$respond_to_missing?"],[h.substr(1),f]):e.send(b,b["$respond_to?"],[h.substr(1),f])};e.const_get_local=function(b,h,f){if(null!=b){"::"===b&&(b=l);if(!b.$$is_module&&
!b.$$is_class)throw new e.TypeError(b.toString()+" is not a class/module");var q=K(b,h);if(null!=q)return q;q=w(b,h,f);if(null!=q)return q}};e.const_get_qualified=function(b,h,f){var q,z=e.const_cache_version;if(null!=b){"::"===b&&(b=l);if(!b.$$is_module&&!b.$$is_class)throw new e.TypeError(b.toString()+" is not a class/module");null==(q=b.$$const_cache)&&(y(b,"$$const_cache",Object.create(null)),q=b.$$const_cache);var E=q[h];null==E||E[0]!==z?(null!=(E=K(b,h))||null!=(E=t(b,h)),q[h]=[z,E]):E=E[1];
return null!=E?E:w(b,h,f)}};e.const_cache_version=1;e.const_get_relative=function(b,h,f){var q=b[0],z=e.const_cache_version,E;null==(E=b.$$const_cache)&&(y(b,"$$const_cache",Object.create(null)),E=b.$$const_cache);var F=E[h];if(null==F||F[0]!==z){var L;if(!(L=null!=(F=K(q,h)))){a:{if(0!==b.length)for(F=0,L=b.length;F<L;F++){var ca=b[F].$$const[h];if(null!=ca){b=ca;break a}}b=void 0}L=null!=(F=b)}L||null!=(F=t(q,h))||(b=null==q||q.$$is_module?t(l,h):void 0,null!=(F=b));E[h]=[z,F]}else F=F[1];return null!=
F?F:w(q,h,f)};e.const_set=function(b,h,f){if(null==b||"::"===b)b=l;if(f.$$is_a_module){if(null==f.$$name||f.$$name===ma)f.$$name=h;null==f.$$base_module&&(f.$$base_module=b)}b.$$const=b.$$const||Object.create(null);b.$$const[h]=f;b.$$=b.$$const;e.const_cache_version++;b===l&&(e[h]=f);y(b,h,f);return f};e.constants=function(b,h){null==h&&(h=!0);var f=[b],q,z={},E;h&&(f=f.concat(e.ancestors(b)));h&&b.$$is_module&&(f=f.concat([e.Object]).concat(e.ancestors(e.Object)));var F=0;for(q=f.length;F<q;F++){h=
f[F];if(b!==l&&h==l)break;for(E in h.$$const)z[E]=!0}return Object.keys(z)};e.const_remove=function(b,h){e.const_cache_version++;if(null!=b.$$const[h]){var f=b.$$const[h];delete b.$$const[h];return f}if(null!=b.$$autoload&&null!=b.$$autoload[h])return delete b.$$autoload[h],ma;throw e.NameError.$new("constant "+b+"::"+b.$name()+" not defined");};e.$$=e.const_get_relative;e.$$$=e.const_get_qualified;e.allocate_class=function(b,h){var f=null!=h&&h.$$bridge?function(){var z=R.call(arguments);z=new (J.apply(h.$$constructor,
[null].concat(z)));D(z,q.$$prototype);return z}:function(){};b&&y(f,"displayName","::"+b);var q=f;y(q,"$$name",b);y(q,"$$constructor",f);y(q,"$$prototype",f.prototype);y(q,"$$const",{});y(q,"$$is_class",!0);y(q,"$$is_a_module",!0);y(q,"$$super",h);y(q,"$$cvars",{});y(q,"$$own_included_modules",[]);y(q,"$$own_prepended_modules",[]);y(q,"$$ancestors",[]);y(q,"$$ancestors_cache_version",null);y(q.$$prototype,"$$class",q);e.Class&&D(q,e.Class.prototype);null!=h&&(D(q.$$prototype,h.$$prototype),h.$$meta&&
e.build_class_singleton_class(q));return q};e.klass=function(b,h,f){null==b?b=l:b.$$is_class||b.$$is_module||(b=b.$$class);if(null!=h&&!h.hasOwnProperty("$$is_class")){var q=h;h=l}var z;if(z=K(b,f)){if(!z.$$is_class)throw e.TypeError.$new(f+" is not a class");}else z=void 0;if(z){if(h&&z.$$super!==h)throw e.TypeError.$new("superclass mismatch for class "+z.$$name);return z}null==h&&(h=l);z=e.allocate_class(f,h);e.const_set(b,f,z);h.$inherited&&h.$inherited(z);q&&e.bridge(q,z);return z};e.allocate_module=
function(b){function h(){}b&&y(h,"displayName",b+".$$constructor");b&&y(h,"displayName",b+".constructor");y(h,"$$name",b);y(h,"$$prototype",h.prototype);y(h,"$$const",{});y(h,"$$is_module",!0);y(h,"$$is_a_module",!0);y(h,"$$cvars",{});y(h,"$$iclasses",[]);y(h,"$$own_included_modules",[]);y(h,"$$own_prepended_modules",[]);y(h,"$$ancestors",[h]);y(h,"$$ancestors_cache_version",null);D(h,e.Module.prototype);return h};e.module=function(b,h){null==b?b=l:b.$$is_class||b.$$is_module||(b=b.$$class);var f=
b;var q=K(f,h);null==q&&f===l&&(q=t(l,h));if(q&&!q.$$is_module&&q!==l)throw e.TypeError.$new(h+" is not a module");if(f=q)return f;f=e.allocate_module(h);e.const_set(b,h,f);return f};e.get_singleton_class=function(b){return b.$$meta?b.$$meta:b.hasOwnProperty("$$is_class")?e.build_class_singleton_class(b):b.hasOwnProperty("$$is_module")?e.build_module_singleton_class(b):e.build_object_singleton_class(b)};e.build_class_singleton_class=function(b){if(b.$$meta)return b.$$meta;var h=b===c?H:e.get_singleton_class(b.$$super);
h=e.allocate_class(null,h,function(){});y(h,"$$is_singleton",!0);y(h,"$$singleton_of",b);y(b,"$$meta",h);D(b,h.$$prototype);y(b,"$$class",e.Class);return h};e.build_module_singleton_class=function(b){if(b.$$meta)return b.$$meta;var h=e.allocate_class(null,e.Module,function(){});y(h,"$$is_singleton",!0);y(h,"$$singleton_of",b);y(b,"$$meta",h);D(b,h.$$prototype);y(b,"$$class",e.Module);return h};e.build_object_singleton_class=function(b){var h=e.allocate_class(ma,b.$$class,function(){});y(h,"$$is_singleton",
!0);y(h,"$$singleton_of",b);delete h.$$prototype.$$class;y(b,"$$meta",h);D(b,b.$$meta.$$prototype);return h};e.is_method=function(b){return"$"===b[0]&&"$"!==b[1]};e.instance_methods=function(b){var h=[],f=[];b=e.ancestors(b);for(var q=0,z=b.length;q<z;q++){var E=b[q].$$prototype;E.hasOwnProperty("$$dummy")&&(E=E.$$define_methods_on);for(var F=Object.getOwnPropertyNames(E),L=0,ca=F.length;L<ca;L++){var va=F[L];if(e.is_method(va)){var Oa=va.slice(1);va=E[va];va.$$stub&&-1===h.indexOf(Oa)&&h.push(Oa);
va.$$stub||-1!==f.indexOf(Oa)||-1!==h.indexOf(Oa)||f.push(Oa)}}}return f};e.own_instance_methods=function(b){var h=[];b=b.$$prototype;b.hasOwnProperty("$$dummy")&&(b=b.$$define_methods_on);for(var f=Object.getOwnPropertyNames(b),q=0,z=f.length;q<z;q++){var E=f[q];e.is_method(E)&&!b[E].$$stub&&(E=E.slice(1),h.push(E))}return h};e.methods=function(b){return e.instance_methods(e.get_singleton_class(b))};e.own_methods=function(b){return e.own_instance_methods(e.get_singleton_class(b))};e.receiver_methods=
function(b){var h=e.get_singleton_class(b);b=e.own_instance_methods(h);h=e.own_instance_methods(h.$$super);return b.concat(h)};e.class_variables=function(b){b=e.ancestors(b);var h,f={};for(h=b.length-1;0<=h;h--){var q=b[h],z;for(z in q.$$cvars)f[z]=q.$$cvars[z]}return f};e.class_variable_set=function(b,h,f){var q=e.ancestors(b),z;for(z=q.length-2;0<=z;z--){var E=q[z];if(n.call(E.$$cvars,h))return E.$$cvars[h]=f}return b.$$cvars[h]=f};e.append_features=function(b,h){var f=e.ancestors(b),q=[];if(-1!==
f.indexOf(h))throw e.ArgumentError.$new("cyclic include detected");for(var z=0,E=f.length;z<E;z++){var F=p(f[z]);y(F,"$$included",!0);q.push(F)}f=e.ancestors(h);q=G(q);if(-1===f.indexOf(b))b=h.$$prototype,f=Object.getPrototypeOf(h.$$prototype);else{f=h.$$prototype;for(z=Object.getPrototypeOf(f);null!=z&&(!A(z)||z.$$module!==b);)f=z,z=Object.getPrototypeOf(z);for(z=Object.getPrototypeOf(z);z.hasOwnProperty("$$iclass")&&!A(z);)z=Object.getPrototypeOf(z);b=f;f=z}D(b,q.first);D(q.last,f);b=[];for(f=Object.getPrototypeOf(h.$$prototype);f&&
!f.hasOwnProperty("$$class");)(q=x(f))&&b.push(q),f=Object.getPrototypeOf(f);h.$$own_included_modules=b;e.const_cache_version++};e.prepend_features=function(b,h){var f=e.ancestors(b),q=[];if(-1!==f.indexOf(h))throw e.ArgumentError.$new("cyclic prepend detected");for(var z=0,E=f.length;z<E;z++){var F=p(f[z]);y(F,"$$prepended",!0);q.push(F)}f=G(q);z=h.$$prototype;E=Object.getPrototypeOf(z);if(z.hasOwnProperty("$$dummy"))q=z.$$define_methods_on;else{q=d(h);F=h.$$prototype;for(var L=Object.getOwnPropertyNames(F),
ca=0;ca<L.length;ca++){var va=L[ca];e.is_method(va)&&delete F[va]}y(z,"$$dummy",!0);y(z,"$$define_methods_on",q);D(z,q);D(q,E)}if(-1===e.ancestors(h).indexOf(b))for(b=z,z=Object.getPrototypeOf(z);null!=z&&!z.hasOwnProperty("$$root")&&z!==q&&z.hasOwnProperty("$$iclass");)z=Object.getPrototypeOf(z);else throw e.RuntimeError.$new("Prepending a module multiple times is not supported");D(b,f.first);D(f.last,z);b=[];q=Object.getPrototypeOf(h.$$prototype);if(h.$$prototype.hasOwnProperty("$$dummy"))for(;q&&
q!==h.$$prototype.$$define_methods_on;)(f=x(q))&&b.push(f),q=Object.getPrototypeOf(q);h.$$own_prepended_modules=b;e.const_cache_version++};e.bridge=function(b,h){if(b.hasOwnProperty("$$bridge"))throw e.ArgumentError.$new("already bridged");y(b,"$$bridge",h);D(b.prototype,(h.$$super||e.Object).$$prototype);y(h,"$$prototype",b.prototype);y(h.$$prototype,"$$class",h);y(h,"$$constructor",b);y(h,"$$bridge",!0)};e.ancestors=function(b){if(!b)return[];if(b.$$ancestors_cache_version===e.const_cache_version)return b.$$ancestors;
var h=[],f;var q=0;var z=b.$$own_prepended_modules.concat([b]).concat(b.$$own_included_modules);for(f=z.length;q<f;q++)h.push(z[q]);if(b.$$super)for(q=0,z=e.ancestors(b.$$super),f=z.length;q<f;q++)h.push(z[q]);b.$$ancestors_cache_version=e.const_cache_version;return b.$$ancestors=h};e.included_modules=function(b){for(var h=[],f=Object.getPrototypeOf(b.$$prototype);f&&Object.getPrototypeOf(f);f=Object.getPrototypeOf(f))(b=x(f))&&b.$$is_module&&f.$$iclass&&f.$$included&&h.push(b);return h};e.add_stubs=
function(b){for(var h=e.BasicObject.$$prototype,f=0,q=b.length;f<q;f++){var z=b[f],E=h[z];(null==E||E.$$stub)&&e.add_stub_for(h,z)}};e.add_stub_for=function(b,h){var f=e.stub_for(h);y(b,h,f)};e.stub_for=function(b){function h(){this.$method_missing.$$p=h.$$p;h.$$p=null;for(var f=Array(arguments.length),q=0,z=f.length;q<z;q++)f[q]=arguments[q];return this.$method_missing.apply(this,[b.slice(1)].concat(f))}h.$$stub=!0;return h};e.ac=function(b,h,f,q){var z="";z=f.$$is_a_module?z+(f.$$name+"."):z+(f.$$class.$$name+
"#");throw e.ArgumentError.$new("["+(z+q)+"] wrong number of arguments("+b+" for "+h+")");};e.block_ac=function(b,h,f){throw e.ArgumentError.$new("`block in "+f+"': wrong number of arguments ("+b+" for "+h+")");};e.find_super_dispatcher=function(b,h,f,q,z){var E="$"+h;var F=b.hasOwnProperty("$$meta")?e.ancestors(b.$$meta):e.ancestors(b.$$class);for(f=F.indexOf(f.$$owner)+1;f<F.length;f++){var L=F[f].$$prototype;L.hasOwnProperty("$$dummy")&&(L=L.$$define_methods_on);if(L.hasOwnProperty(E)){var ca=
L[E];break}}if(!q&&ca&&ca.$$stub&&b.$method_missing.$$pristine)throw e.NoMethodError.$new("super: no superclass method `"+h+"' for "+b,h);return ca.$$stub&&!z?null:ca};e.find_iter_super_dispatcher=function(b,h,f,q,z){if(!f)throw e.RuntimeError.$new("super called outside of method");if(z&&f.$$define_meth)throw e.RuntimeError.$new("implicit argument passing of super from method defined by define_method() is not supported. Specify all arguments explicitly");f.$$def&&(h=f.$$jsid);return e.find_super_dispatcher(b,
h,f,q)};e.ret=function(b){e.returner.$v=b;throw e.returner;};e.brk=function(b,h){h.$v=b;throw h;};e.new_brk=function(){return Error("unexpected break")};e.yield1=function(b,h){if("function"!==typeof b)throw e.LocalJumpError.$new("no block given");var f=b.$$has_top_level_mlhs_arg,q=b.$$has_trailing_comma_in_args;if(1<b.length||(f||q)&&1===b.length)h=e.to_ary(h);return(1<b.length||q&&1===b.length)&&h.$$is_array?b.apply(null,h):b(h)};e.yieldX=function(b,h){if("function"!==typeof b)throw e.LocalJumpError.$new("no block given");
if(1<b.length&&1===h.length&&h[0].$$is_array)return b.apply(null,h[0]);if(!h.$$is_array){for(var f=Array(h.length),q=0,z=f.length;q<z;q++)f[q]=h[q];return b.apply(null,f)}return b.apply(null,h)};e.rescue=function(b,h){for(var f=0;f<h.length;f++){var q=h[f];if(q.$$is_array){if(q=e.rescue(b,q))return q}else if(q===e.JS.Error||q["$==="](b))return q}return null};e.is_a=function(b,h){if(null!=h&&b.$$meta===h||b.$$class===h)return!0;if(b.$$is_number&&h.$$is_number_class)return h.$$is_integer_class?0===
b%1:!0;var f,q=e.ancestors(b.$$is_class?e.get_singleton_class(b):b.$$meta||b.$$class);b=0;for(f=q.length;b<f;b++)if(q[b]===h)return!0;return!1};e.to_hash=function(b){if(b.$$is_hash)return b;if(b["$respond_to?"]("to_hash",!0)){var h=b.$to_hash();if(h.$$is_hash)return h;throw e.TypeError.$new("Can't convert "+b.$$class+" to Hash ("+b.$$class+"#to_hash gives "+h.$$class+")");}throw e.TypeError.$new("no implicit conversion of "+b.$$class+" into Hash");};e.to_ary=function(b){if(b.$$is_array)return b;if(b["$respond_to?"]("to_ary",
!0)){var h=b.$to_ary();if(h===ma)return[b];if(h.$$is_array)return h;throw e.TypeError.$new("Can't convert "+b.$$class+" to Array ("+b.$$class+"#to_ary gives "+h.$$class+")");}return[b]};e.to_a=function(b){if(b.$$is_array)return b.slice();if(b["$respond_to?"]("to_a",!0)){var h=b.$to_a();if(h===ma)return[b];if(h.$$is_array)return h;throw e.TypeError.$new("Can't convert "+b.$$class+" to Array ("+b.$$class+"#to_a gives "+h.$$class+")");}return[b]};e.extract_kwargs=function(b){var h=b[b.length-1];return null!=
h&&e.respond_to(h,"$to_hash",!0)?(ia.call(b,b.length-1,1),h.$to_hash()):e.hash2([],{})};e.kwrestargs=function(b,h){var f=[],q={},z;b=b.$$smap;for(z in b)h[z]||(f.push(z),q[z]=b[z]);return e.hash2(f,q)};e.send=function(b,h,f,q){if("function"===typeof h){var z=h;h=null}else if("string"===typeof h)z=b["$"+h];else throw e.NameError.$new("Passed method should be a string or a function");return e.send2(b,z,h,f,q)};e.send2=function(b,h,f,q,z){null==h&&null!=f&&b.$method_missing&&(h=b.$method_missing,q=[f].concat(q));
"function"===typeof z&&(h.$$p=z);return h.apply(b,q)};e.lambda=function(b){b.$$is_lambda=!0;return b};e.def=function(b,h,f){b===e.top?e.defn(e.Object,h,f):!b.$$eval&&b.$$is_a_module?e.defn(b,h,f):e.defs(b,h,f)};e.defn=function(b,h,f){f.displayName=h;f.$$owner=b;var q=b.$$prototype;q.hasOwnProperty("$$dummy")&&(q=q.$$define_methods_on);y(q,h,f);if(b.$$is_module){b.$$module_function&&e.defs(b,h,f);q=0;for(var z=b.$$iclasses,E=z.length;q<E;q++)y(z[q],h,f)}f=b.$$singleton_of;!b.$method_added||b.$method_added.$$stub||
f?f&&f.$singleton_method_added&&!f.$singleton_method_added.$$stub&&f.$singleton_method_added(h.substr(1)):b.$method_added(h.substr(1))};e.defs=function(b,h,f){if(b.$$is_string||b.$$is_number)throw e.TypeError.$new("can't define singleton");e.defn(e.get_singleton_class(b),h,f)};e.rdef=function(b,h){if(!n.call(b.$$prototype,h))throw e.NameError.$new("method '"+h.substr(1)+"' not defined in "+b.$name());delete b.$$prototype[h];b.$$is_singleton?b.$$prototype.$singleton_method_removed&&!b.$$prototype.$singleton_method_removed.$$stub&&
b.$$prototype.$singleton_method_removed(h.substr(1)):b.$method_removed&&!b.$method_removed.$$stub&&b.$method_removed(h.substr(1))};e.udef=function(b,h){if(!b.$$prototype[h]||b.$$prototype[h].$$stub)throw e.NameError.$new("method '"+h.substr(1)+"' not defined in "+b.$name());e.add_stub_for(b.$$prototype,h);b.$$is_singleton?b.$$prototype.$singleton_method_undefined&&!b.$$prototype.$singleton_method_undefined.$$stub&&b.$$prototype.$singleton_method_undefined(h.substr(1)):b.$method_undefined&&!b.$method_undefined.$$stub&&
b.$method_undefined(h.substr(1))};e.alias=function(b,h,f){var q="$"+h,z="$"+f,E=b.$$prototype["$"+f];if(b.$$eval)return e.alias(e.get_singleton_class(b),h,f);if(!k(E)){for(var F=b.$$super;"function"!==typeof E&&F;)E=F[z],F=F.$$super;!k(E)&&b.$$is_module&&(E=e.Object.$$prototype[z]);if(!k(E))throw e.NameError.$new("undefined method `"+f+"' for class `"+b.$name()+"'");}E.$$alias_of&&(E=E.$$alias_of);var L=function(){var ca=L.$$p,va;var Oa=Array(arguments.length);var wa=0;for(va=arguments.length;wa<
va;wa++)Oa[wa]=arguments[wa];null!=ca&&(L.$$p=null);return e.send(this,E,Oa,ca)};try{Object.defineProperty(L,"length",{value:E.length})}catch(ca){}L.displayName=h;L.$$arity=E.$$arity;L.$$parameters=E.$$parameters;L.$$source_location=E.$$source_location;L.$$alias_of=E;L.$$alias_name=h;e.defn(b,q,L);return b};e.alias_native=function(b,h,f){h="$"+h;var q=b.$$prototype[f];if("function"!==typeof q||q.$$stub)throw e.NameError.$new("undefined native method `"+f+"' for class `"+b.$name()+"'");e.defn(b,h,
q);return b};e.hash_init=function(b){b.$$smap=Object.create(null);b.$$map=Object.create(null);b.$$keys=[]};e.hash_clone=function(b,h){h.$$none=b.$$none;h.$$proc=b.$$proc;var f=0,q=b.$$keys;b=b.$$smap;for(var z=q.length,E,F;f<z;f++)E=q[f],E.$$is_string?F=b[E]:(F=E.value,E=E.key),e.hash_put(h,E,F)};e.hash_put=function(b,h,f){if(h.$$is_string)n.call(b.$$smap,h)||b.$$keys.push(h),b.$$smap[h]=f;else{var q;var z=b.$$by_identity?e.id(h):h.$hash();if(n.call(b.$$map,z)){for(q=b.$$map[z];q;){if(h===q.key||
h["$eql?"](q.key)){var E=void 0;q.value=f;break}E=q;q=q.next}E&&(q={key:h,key_hash:z,value:f},b.$$keys.push(q),E.next=q)}else q={key:h,key_hash:z,value:f},b.$$keys.push(q),b.$$map[z]=q}};e.hash_get=function(b,h){if(h.$$is_string){if(n.call(b.$$smap,h))return b.$$smap[h]}else{var f=b.$$by_identity?e.id(h):h.$hash();if(n.call(b.$$map,f))for(b=b.$$map[f];b;){if(h===b.key||h["$eql?"](b.key))return b.value;b=b.next}}};e.hash_delete=function(b,h){var f,q=b.$$keys,z=q.length;if(h.$$is_string){"string"!==
typeof h&&(h=h.valueOf());if(!n.call(b.$$smap,h))return;for(f=0;f<z;f++)if(q[f]===h){q.splice(f,1);break}var E=b.$$smap[h];delete b.$$smap[h];return E}var F=h.$hash();if(n.call(b.$$map,F))for(var L=b.$$map[F],ca;L;){if(h===L.key||h["$eql?"](L.key)){E=L.value;for(f=0;f<z;f++)if(q[f]===L){q.splice(f,1);break}ca&&L.next?ca.next=L.next:ca?delete ca.next:L.next?b.$$map[F]=L.next:delete b.$$map[F];return E}ca=L;L=L.next}};e.hash_rehash=function(b){for(var h=0,f=b.$$keys.length,q,z,E;h<f;h++)if(!b.$$keys[h].$$is_string&&
(q=b.$$keys[h].key.$hash(),q!==b.$$keys[h].key_hash)){z=b.$$map[b.$$keys[h].key_hash];for(E=void 0;z;){if(z===b.$$keys[h]){E&&z.next?E.next=z.next:E?delete E.next:z.next?b.$$map[b.$$keys[h].key_hash]=z.next:delete b.$$map[b.$$keys[h].key_hash];break}E=z;z=z.next}b.$$keys[h].key_hash=q;if(n.call(b.$$map,q)){z=b.$$map[q];for(E=void 0;z;){if(z===b.$$keys[h]){E=void 0;break}E=z;z=z.next}E&&(E.next=b.$$keys[h])}else b.$$map[q]=b.$$keys[h]}};e.hash=function(){var b=arguments.length,h;if(1===b&&arguments[0].$$is_hash)return arguments[0];
var f=new e.Hash;e.hash_init(f);if(1===b&&arguments[0].$$is_array){b=arguments[0];var q=b.length;for(h=0;h<q;h++){if(2!==b[h].length)throw e.ArgumentError.$new("value not of length 2: "+b[h].$inspect());var z=b[h][0];var E=b[h][1];e.hash_put(f,z,E)}return f}if(1===b){b=arguments[0];for(z in b)n.call(b,z)&&(E=b[z],e.hash_put(f,z,E));return f}if(0!==b%2)throw e.ArgumentError.$new("odd number of arguments for Hash");for(h=0;h<b;h+=2)z=arguments[h],E=arguments[h+1],e.hash_put(f,z,E);return f};e.hash2=
function(b,h){var f=new e.Hash;f.$$smap=h;f.$$map=Object.create(null);f.$$keys=b;return f};e.range=function(b,h,f){var q=new e.Range;q.begin=b;q.end=h;q.excl=f;return q};e.ivar=function(b){return"constructor"===b||"displayName"===b||"__count__"===b||"__noSuchMethod__"===b||"__parent__"===b||"__proto__"===b||"hasOwnProperty"===b||"valueOf"===b?b+"$":b};e.escape_regexp=function(b){return b.replace(/([-[\]\/{}()*+?.^$\\| ])/g,"\\$1").replace(/[\n]/g,"\\n").replace(/[\r]/g,"\\r").replace(/[\f]/g,"\\f").replace(/[\t]/g,
"\\t")};e.global_regexp=function(b){if(b.global)return b;null==b.$$g?b.$$g=new RegExp(b.source,(b.multiline?"gm":"g")+(b.ignoreCase?"i":"")):b.$$g.lastIndex=null;return b.$$g};e.global_multiline_regexp=function(b){if(b.multiline){if(b.global)return b;b=null!=b.$$g?b.$$g:b.$$g=new RegExp(b.source,"gm"+(b.ignoreCase?"i":""))}else b=null!=b.$$gm?b.$$gm:b.$$gm=new RegExp(b.source,"gm"+(b.ignoreCase?"i":""));b.lastIndex=null;return b};e.regexp=function(b,h){for(var f,q="undefined"!==typeof h&&h&&0<=h.indexOf("i"),
z=0,E=b.length;z<E;z++)f=b[z],f instanceof RegExp&&(f.ignoreCase!==q&&e.Kernel.$warn("ignore case doesn't match for "+f.source.$inspect(),e.hash({uplevel:1})),f=f.source),""===f&&(f="(?:"+f+")"),b[z]=f;return h?new RegExp(b.join(""),h):new RegExp(b.join(""))};e.modules={};e.loaded_features=["corelib/runtime"];e.current_dir=".";e.require_table={"corelib/runtime":!0};e.normalize=function(b){var h=[];"."!==e.current_dir&&(b=e.current_dir.replace(/\/*$/,"/")+b);b=b.replace(/^\.\//,"");b=b.replace(/\.(rb|opal|js)$/,
"");b=b.split("/");for(var f=0,q=b.length;f<q;f++){var z=b[f];""!==z&&(".."===z?h.pop():h.push(z))}return h.join("/")};e.loaded=function(b){var h;var f=0;for(h=b.length;f<h;f++){var q=e.normalize(b[f]);e.require_table[q]||(e.loaded_features.push(q),e.require_table[q]=!0)}};e.load=function(b){b=e.normalize(b);e.loaded([b]);var h=e.modules[b];if(h)h(e);else{h=e.config.missing_require_severity;b="cannot load such file -- "+b;if("error"===h){if(e.LoadError)throw e.LoadError.$new(b);throw b;}"warning"===
h&&u.warn("WARNING: LoadError: "+b)}return!0};e.require=function(b){b=e.normalize(b);return e.require_table[b]?!1:e.load(b)};e.encodings=Object.create(null);e.set_encoding=function(b,h){if("string"===typeof b)throw e.FrozenError.$new("can't modify frozen String");h=e.encodings[h];if(h===b.encoding)return b;b.encoding=h;return b};e.enc=function(b,h){b=new String(b);e.set_encoding(b,h);b.internal_encoding=b.encoding;return b};e.BasicObject=c=e.allocate_class("BasicObject",null,function(){});e.Object=
l=e.allocate_class("Object",e.BasicObject,function(){});e.Module=a=e.allocate_class("Module",e.Object,function(){});e.Class=H=e.allocate_class("Class",e.Module,function(){});D(e.BasicObject,e.Class.$$prototype);D(e.Object,e.Class.$$prototype);D(e.Module,e.Class.$$prototype);D(e.Class,e.Class.$$prototype);c.$$const.BasicObject=c;e.const_set(l,"BasicObject",c);e.const_set(l,"Object",l);e.const_set(l,"Module",a);e.const_set(l,"Class",H);c.$$class=H;l.$$class=H;a.$$class=H;H.$$class=H;y(l.$$prototype,
"toString",function(){var b=this.$to_s();return b.$$is_string&&"object"===typeof b?b.valueOf():b});y(l.$$prototype,"$require",e.require);e.top=new l;e.top.$to_s=e.top.$inspect=function(){return"main"};e.top.$define_method=m;e.NilClass=e.allocate_class("NilClass",e.Object,function(){});e.const_set(l,"NilClass",e.NilClass);var ma=e.nil=new e.NilClass;ma.$$id=4;ma.call=ma.apply=function(){throw e.LocalJumpError.$new("no block given");};e.breaker=Error("unexpected break (old)");e.returner=Error("unexpected return");
TypeError.$$super=Error}).call(this);Opal.loaded(["corelib/runtime.js"]);
Opal.modules["corelib/helpers"]=function(a){var y=[],K=a.nil,t=a.$$,w=a.type_error,A=a.coerce_to,p=a.module,d=a.truthy;a.add_stubs("$=== $raise $respond_to? $nil? $__send__ $<=> $class $coerce_to! $new $!= $[] $upcase".split(" "));return function(G,x){G=p(G,"Opal");var k=[G].concat(x),m,u,c,l,H,e,n,J,D,R,ia;a.defs(G,"$bridge",m=function(ea,ma){return a.bridge(ea,ma)},m.$$arity=2);a.defs(G,"$coerce_to!",u=function(ea,ma,b,h){var f=a.slice.call(arguments,3,arguments.length);f=A(ea,ma,b,f);d(ma["$==="](f))||
this.$raise(w(ea,ma,b,f));return f},u.$$arity=-4);a.defs(G,"$coerce_to?",c=function(ea,ma,b,h){var f=a.slice.call(arguments,3,arguments.length);if(!d(ea["$respond_to?"](b)))return K;f=A(ea,ma,b,f);if(d(f["$nil?"]()))return K;d(ma["$==="](f))||this.$raise(w(ea,ma,b,f));return f},c.$$arity=-4);a.defs(G,"$try_convert",l=function(ea,ma,b){return d(ma["$==="](ea))?ea:d(ea["$respond_to?"](b))?ea.$__send__(b):K},l.$$arity=3);a.defs(G,"$compare",H=function(ea,ma){var b=ea["$<=>"](ma);d(b===K)&&this.$raise(t(k,
"ArgumentError"),"comparison of "+ea.$class()+" with "+ma.$class()+" failed");return b},H.$$arity=2);a.defs(G,"$destructure",e=function(ea){if(1==ea.length)return ea[0];if(ea.$$is_array)return ea;for(var ma=Array(ea.length),b=0,h=ma.length;b<h;b++)ma[b]=ea[b];return ma},e.$$arity=1);a.defs(G,"$respond_to?",n=function(ea,ma,b){null==b&&(b=!1);return null!=ea&&ea.$$class?ea["$respond_to?"](ma,b):!1},n.$$arity=-3);a.defs(G,"$instance_variable_name!",J=function(ea){ea=t(k,"Opal")["$coerce_to!"](ea,t(k,
"String"),"to_str");d(/^@[a-zA-Z_][a-zA-Z0-9_]*?$/.test(ea))||this.$raise(t(k,"NameError").$new("'"+ea+"' is not allowed as an instance variable name",ea));return ea},J.$$arity=1);a.defs(G,"$class_variable_name!",D=function(ea){ea=t(k,"Opal")["$coerce_to!"](ea,t(k,"String"),"to_str");d(3>ea.length||"@@"!==ea.slice(0,2))&&this.$raise(t(k,"NameError").$new("`"+ea+"' is not allowed as a class variable name",ea));return ea},D.$$arity=1);a.defs(G,"$const_name!",R=function(ea){ea=t(k,"Opal")["$coerce_to!"](ea,
t(k,"String"),"to_str");d(ea["$[]"](0)["$!="](ea["$[]"](0).$upcase()))&&this.$raise(t(k,"NameError"),"wrong constant name "+ea);return ea},R.$$arity=1);a.defs(G,"$pristine",ia=function(ea,ma){var b=a.slice.call(arguments,1,arguments.length);for(var h,f=b.length-1;0<=f;f--)h=b[f],(h=ea.$$prototype["$"+h])&&!h.$$stub&&(h.$$pristine=!0);return K},ia.$$arity=-2)}(y[0],y)};
Opal.modules["corelib/module"]=function(a){function y(l,H){return"number"===typeof l&&"number"===typeof H?l<H:l["$<"](H)}var K=[],t=a.nil,w=a.$$$,A=a.$$,p=a.truthy,d=a.coerce_to,G=a.klass,x=a.send,k=a.hash2,m=a.lambda,u=a.range,c=a.send2;a.add_stubs("$module_eval $to_proc $=== $raise $equal? $< $> $nil? $attr_reader $attr_writer $warn $attr_accessor $class_variable_name! $new $const_name! $=~ $inject $split $const_get $== $!~ $start_with? $bind $call $class $append_features $included $name $cover? $size $merge $compile $proc $any? $prepend_features $prepended $to_s $__id__ $constants $include? $copy_class_variables $copy_constants".split(" "));
return function(l,$super,e){l=G(l,$super,"Module");var n=[l].concat(e),J,D,R,ia,ea,ma,b,h,f,q,z,E,F,L,ca,va,Oa,wa,Ba,Ka,oa,S,ta,ja,na,V,Q,Y,pa,za,la,xa,Ea,Fa,Sa,Ra,Na,Qa,lb,W,ya,Da,Va,ib,db,$a,ab,Aa,ua,La,Ta,Ya,Ga,Z,P,aa,T,fa,ka;a.defs(l,"$allocate",J=function(){var g=a.allocate_module(t,function(){});this!==a.Module&&Object.setPrototypeOf(g,this.$$prototype);return g},J.$$arity=0);a.def(l,"$initialize",D=function(){var g=D.$$p,C=g||t;g&&(D.$$p=null);g&&(D.$$p=null);return C!==t?x(this,"module_eval",
[],C.$to_proc()):t},D.$$arity=0);a.def(l,"$===",R=function(g){return p(null==g)?!1:a.is_a(g,this)},R.$$arity=1);a.def(l,"$<",ia=function(g){p(A(n,"Module")["$==="](g))||this.$raise(A(n,"TypeError"),"compared with non class/module");var C;if(this===g)return!1;var M=0;var ba=a.ancestors(this);for(C=ba.length;M<C;M++)if(ba[M]===g)return!0;M=0;ba=a.ancestors(g);for(C=ba.length;M<C;M++)if(ba[M]===this)return!1;return t},ia.$$arity=1);a.def(l,"$<=",ea=function(g){var C;return p(C=this["$equal?"](g))?C:
y(this,g)},ea.$$arity=1);a.def(l,"$>",ma=function(g){p(A(n,"Module")["$==="](g))||this.$raise(A(n,"TypeError"),"compared with non class/module");return y(g,this)},ma.$$arity=1);a.def(l,"$>=",b=function(g){var C;return p(C=this["$equal?"](g))?C:"number"===typeof this&&"number"===typeof g?this>g:this["$>"](g)},b.$$arity=1);a.def(l,"$<=>",h=function(g){if(this===g)return 0;if(!p(A(n,"Module")["$==="](g)))return t;g=y(this,g);return p(g["$nil?"]())?t:p(g)?-1:1},h.$$arity=1);a.def(l,"$alias_method",f=
function(g,C){g=d(g,A(n,"String"),"to_str");C=d(C,A(n,"String"),"to_str");a.alias(this,g,C);return this},f.$$arity=2);a.def(l,"$alias_native",q=function(g,C){null==C&&(C=g);a.alias_native(this,g,C);return this},q.$$arity=-2);a.def(l,"$ancestors",z=function(){return a.ancestors(this)},z.$$arity=0);a.def(l,"$append_features",E=function(g){a.append_features(this,g);return this},E.$$arity=1);a.def(l,"$attr_accessor",F=function(g){var C=a.slice.call(arguments,0,arguments.length);x(this,"attr_reader",a.to_a(C));
return x(this,"attr_writer",a.to_a(C))},F.$$arity=-1);a.def(l,"$attr",L=function(g){var C=a.slice.call(arguments,0,arguments.length);return 2!=C.length||!0!==C[1]&&!1!==C[1]?x(this,"attr_reader",a.to_a(C)):(this.$warn("optional boolean argument is obsoleted",k(["uplevel"],{uplevel:1})),C[1]?this.$attr_accessor(C[0]):this.$attr_reader(C[0]),t)},L.$$arity=-1);a.def(l,"$attr_reader",ca=function(g){var C=a.slice.call(arguments,0,arguments.length);for(var M=this.$$prototype,ba=C.length-1;0<=ba;ba--){var v=
C[ba],U="$"+v;v=a.ivar(v);var qa=function(Ja){return function(){return null==this[Ja]?t:this[Ja]}}(v);a.defineProperty(M,v,t);qa.$$parameters=[];qa.$$arity=0;a.defn(this,U,qa)}return t},ca.$$arity=-1);a.def(l,"$attr_writer",va=function(g){var C=a.slice.call(arguments,0,arguments.length);for(var M=this.$$prototype,ba=C.length-1;0<=ba;ba--){var v=C[ba],U="$"+v+"=";v=a.ivar(v);var qa=function(Ja){return function(jb){return this[Ja]=jb}}(v);qa.$$parameters=[["req"]];qa.$$arity=1;a.defineProperty(M,v,
t);a.defn(this,U,qa)}return t},va.$$arity=-1);a.def(l,"$autoload",Oa=function(g,C){null==this.$$autoload&&(this.$$autoload={});a.const_cache_version++;this.$$autoload[g]=C;return t},Oa.$$arity=2);a.def(l,"$class_variables",wa=function(){return Object.keys(a.class_variables(this))},wa.$$arity=0);a.def(l,"$class_variable_get",Ba=function(g){g=A(n,"Opal")["$class_variable_name!"](g);var C=a.class_variables(this)[g];null==C&&this.$raise(A(n,"NameError").$new("uninitialized class variable "+g+" in "+this,
g));return C},Ba.$$arity=1);a.def(l,"$class_variable_set",Ka=function(g,C){g=A(n,"Opal")["$class_variable_name!"](g);return a.class_variable_set(this,g,C)},Ka.$$arity=2);a.def(l,"$class_variable_defined?",oa=function(g){g=A(n,"Opal")["$class_variable_name!"](g);return a.class_variables(this).hasOwnProperty(g)},oa.$$arity=1);a.def(l,"$remove_class_variable",S=function(g){g=A(n,"Opal")["$class_variable_name!"](g);if(a.hasOwnProperty.call(this.$$cvars,g)){var C=this.$$cvars[g];delete this.$$cvars[g];
return C}this.$raise(A(n,"NameError"),"cannot remove "+g+" for "+this)},S.$$arity=1);a.def(l,"$constants",ta=function(g){null==g&&(g=!0);return a.constants(this,g)},ta.$$arity=-1);a.defs(l,"$constants",ja=function(g){if(null==g){g=(this.$$nesting||[]).concat(a.Object);var C,M={},ba;var v=0;for(ba=g.length;v<ba;v++)for(C in g[v].$$const)M[C]=!0;return Object.keys(M)}return a.constants(this,g)},ja.$$arity=-1);a.defs(l,"$nesting",na=function(){return this.$$nesting||[]},na.$$arity=0);a.def(l,"$const_defined?",
V=function(g,C){null==C&&(C=!0);g=A(n,"Opal")["$const_name!"](g);p(g["$=~"](w(A(n,"Opal"),"CONST_NAME_REGEXP")))||this.$raise(A(n,"NameError").$new("wrong constant name "+g,g));var M=[this],ba;C&&(M=M.concat(a.ancestors(this)),this.$$is_module&&(M=M.concat([a.Object]).concat(a.ancestors(a.Object))));var v=0;for(ba=M.length;v<ba;v++)if(C=M[v],null!=C.$$const[g])return!0;return!1},V.$$arity=-2);a.def(l,"$const_get",Q=function(g,C){var M;null==C&&(C=!0);g=A(n,"Opal")["$const_name!"](g);0===g.indexOf("::")&&
"::"!==g&&(g=g.slice(2));if(p(-1!=g.indexOf("::")&&"::"!=g))return x(g.$split("::"),"inject",[this],(M=function(ba,v){null==ba&&(ba=t);null==v&&(v=t);return ba.$const_get(v)},M.$$s=this,M.$$arity=2,M));p(g["$=~"](w(A(n,"Opal"),"CONST_NAME_REGEXP")))||this.$raise(A(n,"NameError").$new("wrong constant name "+g,g));return C?A([this],g):a.const_get_local(this,g)},Q.$$arity=-2);a.def(l,"$const_missing",Y=function(g){var C;if(this.$$autoload&&(C=this.$$autoload[g]))return this.$require(C),this.$const_get(g);
C=this["$=="](A(n,"Object"))?g:""+this+"::"+g;return this.$raise(A(n,"NameError").$new("uninitialized constant "+C,g))},Y.$$arity=1);a.def(l,"$const_set",pa=function(g,C){var M=t;g=A(n,"Opal")["$const_name!"](g);p(p(M=g["$!~"](w(A(n,"Opal"),"CONST_NAME_REGEXP")))?M:g["$start_with?"]("::"))&&this.$raise(A(n,"NameError").$new("wrong constant name "+g,g));a.const_set(this,g,C);return C},pa.$$arity=2);a.def(l,"$public_constant",za=function(){return t},za.$$arity=1);a.def(l,"$define_method",la=function(g,
C){var M=la.$$p,ba=M||t,v,U=this,qa=t,Ja=t;M&&(la.$$p=null);M&&(la.$$p=null);p(void 0===C&&ba===t)&&U.$raise(A(n,"ArgumentError"),"tried to create a Proc object without a block");ba=function(){return p(qa=ba)?qa:function(){Ja=C;return A(n,"Proc")["$==="](Ja)?C:A(n,"Method")["$==="](Ja)?C.$to_proc().$$unbound:A(n,"UnboundMethod")["$==="](Ja)?m((v=function(jb){var ob=null==v.$$s?this:v.$$s;var mb=a.slice.call(arguments,0,arguments.length);ob=C.$bind(ob);return x(ob,"call",a.to_a(mb))},v.$$s=U,v.$$arity=
-1,v)):U.$raise(A(n,"TypeError"),"wrong argument type "+ba.$class()+" (expected Proc/Method)")}()}();ba.$$jsid=g;ba.$$s=null;ba.$$def=ba;ba.$$define_meth=!0;a.defn(U,"$"+g,ba);return g},la.$$arity=-2);a.def(l,"$remove_method",xa=function(g){var C=a.slice.call(arguments,0,arguments.length);for(var M=0,ba=C.length;M<ba;M++)a.rdef(this,"$"+C[M]);return this},xa.$$arity=-1);a.def(l,"$singleton_class?",Ea=function(){return!!this.$$is_singleton},Ea.$$arity=0);a.def(l,"$include",Fa=function(g){var C=a.slice.call(arguments,
0,arguments.length);for(var M=C.length-1;0<=M;M--){var ba=C[M];ba.$$is_module||this.$raise(A(n,"TypeError"),"wrong argument type "+ba.$class()+" (expected Module)");ba.$append_features(this);ba.$included(this)}return this},Fa.$$arity=-1);a.def(l,"$included_modules",Sa=function(){return a.included_modules(this)},Sa.$$arity=0);a.def(l,"$include?",Ra=function(g){g.$$is_module||this.$raise(A(n,"TypeError"),"wrong argument type "+g.$class()+" (expected Module)");var C,M=a.ancestors(this);var ba=0;for(C=
M.length;ba<C;ba++){var v=M[ba];if(v===g&&v!==this)return!0}return!1},Ra.$$arity=1);a.def(l,"$instance_method",Na=function(g){var C=this.$$prototype["$"+g];C&&!C.$$stub||this.$raise(A(n,"NameError").$new("undefined method `"+g+"' for class `"+this.$name()+"'",g));return A(n,"UnboundMethod").$new(this,C.$$owner||this,C,g)},Na.$$arity=1);a.def(l,"$instance_methods",Qa=function(g){null==g&&(g=!0);return p(g)?a.instance_methods(this):a.own_instance_methods(this)},Qa.$$arity=-1);a.def(l,"$included",lb=
function(){return t},lb.$$arity=1);a.def(l,"$extended",W=function(){return t},W.$$arity=1);a.def(l,"$extend_object",ya=function(){return t},ya.$$arity=1);a.def(l,"$method_added",Da=function(g){a.slice.call(arguments,0,arguments.length);return t},Da.$$arity=-1);a.def(l,"$method_removed",Va=function(g){a.slice.call(arguments,0,arguments.length);return t},Va.$$arity=-1);a.def(l,"$method_undefined",ib=function(g){a.slice.call(arguments,0,arguments.length);return t},ib.$$arity=-1);a.def(l,"$module_eval",
db=function(g){var C=db.$$p,M=C||t,ba,v,U=t,qa=ba=t,Ja=qa=t,jb=qa=t;C&&(db.$$p=null);C&&(db.$$p=null);ba=a.slice.call(arguments,0,arguments.length);p(p(U=M["$nil?"]())?!!a.compile:U)?(p(u(1,3,!1)["$cover?"](ba.$size()))||A(n,"Kernel").$raise(A(n,"ArgumentError"),"wrong number of arguments (0 for 1..3)"),M=[].concat(a.to_a(ba)),ba=null==M[0]?t:M[0],qa=null==M[1]?t:M[1],M,qa=k(["file","eval"],{file:p(Ja=qa)?Ja:"(eval)",eval:!0}),qa=a.hash({arity_check:!1}).$merge(qa),jb=A(n,"Opal").$compile(ba,qa),
M=x(A(n,"Kernel"),"proc",[],(v=function(){return function(){return eval(jb)}(null==v.$$s?this:v.$$s)},v.$$s=this,v.$$arity=0,v))):p(ba["$any?"]())&&A(n,"Kernel").$raise(A(n,"ArgumentError"),"wrong number of arguments ("+ba.$size()+" for 0)\n\n  NOTE:If you want to enable passing a String argument please add \"require 'opal-parser'\" to your script\n");Ja=M.$$s;M.$$s=null;U=M.apply(this,[this]);M.$$s=Ja;return U},db.$$arity=-1);a.alias(l,"class_eval","module_eval");a.def(l,"$module_exec",$a=function(g){var C=
$a.$$p,M=C||t;C&&($a.$$p=null);C&&($a.$$p=null);var ba=a.slice.call(arguments,0,arguments.length);M===t&&this.$raise(A(n,"LocalJumpError"),"no block given");C=M.$$s;M.$$s=null;ba=M.apply(this,ba);M.$$s=C;return ba},$a.$$arity=-1);a.alias(l,"class_exec","module_exec");a.def(l,"$method_defined?",ab=function(g){g=this.$$prototype["$"+g];return!!g&&!g.$$stub},ab.$$arity=1);a.def(l,"$module_function",Aa=function(g){var C=a.slice.call(arguments,0,arguments.length);if(0===C.length)this.$$module_function=
!0;else for(var M=0,ba=C.length;M<ba;M++){var v="$"+C[M];a.defs(this,v,this.$$prototype[v])}return this},Aa.$$arity=-1);a.def(l,"$name",ua=function(){if(this.$$full_name)return this.$$full_name;for(var g=[],C=this;C;){if(C.$$name===t||null==C.$$name)return t;g.unshift(C.$$name);C=C.$$base_module;if(C===a.Object)break}return 0===g.length?t:this.$$full_name=g.join("::")},ua.$$arity=0);a.def(l,"$prepend",La=function(g){var C=a.slice.call(arguments,0,arguments.length);0===C.length&&this.$raise(A(n,"ArgumentError"),
"wrong number of arguments (given 0, expected 1+)");for(var M=C.length-1;0<=M;M--){var ba=C[M];ba.$$is_module||this.$raise(A(n,"TypeError"),"wrong argument type "+ba.$class()+" (expected Module)");ba.$prepend_features(this);ba.$prepended(this)}return this},La.$$arity=-1);a.def(l,"$prepend_features",Ta=function(g){this.$$is_module||this.$raise(A(n,"TypeError"),"wrong argument type "+this.$class()+" (expected Module)");a.prepend_features(this,g);return this},Ta.$$arity=1);a.def(l,"$prepended",Ya=function(){return t},
Ya.$$arity=1);a.def(l,"$remove_const",Ga=function(g){return a.const_remove(this,g)},Ga.$$arity=1);a.def(l,"$to_s",Z=function(){var g;return p(g=a.Module.$name.call(this))?g:"#<"+(this.$$is_module?"Module":"Class")+":0x"+this.$__id__().$to_s(16)+">"},Z.$$arity=0);a.def(l,"$undef_method",P=function(g){var C=a.slice.call(arguments,0,arguments.length);for(var M=0,ba=C.length;M<ba;M++)a.udef(this,"$"+C[M]);return this},P.$$arity=-1);a.def(l,"$instance_variables",aa=function(){var g=(a.Module.$$nesting=
n,this.$constants());var C=[],M;for(M in this)this.hasOwnProperty(M)&&"$"!==M.charAt(0)&&"constructor"!==M&&!g["$include?"](M)&&C.push("@"+M);return C},aa.$$arity=0);a.def(l,"$dup",T=function(){var g=T.$$p,C;g&&(T.$$p=null);var M=0;var ba=arguments.length;for(C=Array(ba);M<ba;M++)C[M]=arguments[M];g=c(this,a.find_super_dispatcher(this,"dup",T,!1,!0),"dup",C,g);g.$copy_class_variables(this);g.$copy_constants(this);return g},T.$$arity=0);a.def(l,"$copy_class_variables",fa=function(g){for(var C in g.$$cvars)this.$$cvars[C]=
g.$$cvars[C]},fa.$$arity=1);return(a.def(l,"$copy_constants",ka=function(g){var C;g=g.$$const;for(C in g)a.const_set(this,C,g[C])},ka.$$arity=1),t)&&"copy_constants"}(K[0],null,K)};
Opal.modules["corelib/class"]=function(a){var y=a.top,K=[],t=a.nil,w=a.$$,A=a.klass,p=a.send,d=a.send2;a.add_stubs("$require $class_eval $to_proc $initialize_copy $allocate $name $to_s".split(" "));y.$require("corelib/module");return function(G,$super,k){G=A(G,$super,"Class");var m=[G].concat(k),u,c,l,H,e,n,J;a.defs(G,"$new",u=function(D){var R=u.$$p,ia=R||t;R&&(u.$$p=null);R&&(u.$$p=null);null==D&&(D=w(m,"Object"));if(!D.$$is_class)throw a.TypeError.$new("superclass must be a Class");R=a.allocate_class(t,
D);D.$inherited(R);ia!==t&&p(R,"class_eval",[],ia.$to_proc());return R},u.$$arity=-1);a.def(G,"$allocate",c=function(){var D=new this.$$constructor;D.$$id=a.uid();return D},c.$$arity=0);a.def(G,"$inherited",l=function(){return t},l.$$arity=1);a.def(G,"$initialize_dup",H=function(D){this.$initialize_copy(D);this.$$full_name=this.$$name=null},H.$$arity=1);a.def(G,"$new",e=function(D){var R=e.$$p,ia=R||t;R&&(e.$$p=null);R&&(e.$$p=null);R=a.slice.call(arguments,0,arguments.length);var ea=this.$allocate();
a.send(ea,ea.$initialize,R,ia);return ea},e.$$arity=-1);a.def(G,"$superclass",n=function(){return this.$$super||t},n.$$arity=0);return(a.def(G,"$to_s",J=function(){J.$$p&&(J.$$p=null);var D=this.$$singleton_of;return D&&D.$$is_a_module?"#<Class:"+D.$name()+">":D?"#<Class:#<"+D.$$class.$name()+":0x"+a.id(D).$to_s(16)+">>":d(this,a.find_super_dispatcher(this,"to_s",J,!1,!0),"to_s",[],null)},J.$$arity=0),t)&&"to_s"}(K[0],null,K)};
Opal.modules["corelib/basic_object"]=function(a){var y=[],K=a.nil,t=a.$$$,w=a.klass,A=a.truthy,p=a.range,d=a.hash2,G=a.send;a.add_stubs("$== $! $nil? $cover? $size $raise $merge $compile $proc $any? $inspect $new".split(" "));return function(x,$super,m){x=w(x,$super,"BasicObject");[x].concat(m);var u,c,l,H,e,n,J,D,R,ia,ea,ma,b,h;a.def(x,"$initialize",u=function(f){a.slice.call(arguments,0,arguments.length);return K},u.$$arity=-1);a.def(x,"$==",c=function(f){return this===f},c.$$arity=1);a.def(x,"$eql?",
l=function(f){return this["$=="](f)},l.$$arity=1);a.alias(x,"equal?","==");a.def(x,"$__id__",H=function(){if(null!=this.$$id)return this.$$id;a.defineProperty(this,"$$id",a.uid());return this.$$id},H.$$arity=0);a.def(x,"$__send__",e=function(f,q){var z=e.$$p,E=z||K;z&&(e.$$p=null);z&&(e.$$p=null);z=a.slice.call(arguments,1,arguments.length);var F=this["$"+f];if(F)return E!==K&&(F.$$p=E),F.apply(this,z);E!==K&&(this.$method_missing.$$p=E);return this.$method_missing.apply(this,[f].concat(z))},e.$$arity=
-2);a.def(x,"$!",n=function(){return!1},n.$$arity=0);a.def(x,"$!=",J=function(f){return this["$=="](f)["$!"]()},J.$$arity=1);a.def(x,"$instance_eval",D=function(f){var q=D.$$p,z=q||K,E,F,L=K,ca=E=K,va=ca=K,Oa=ca=K;q&&(D.$$p=null);q&&(D.$$p=null);E=a.slice.call(arguments,0,arguments.length);A(A(L=z["$nil?"]())?!!a.compile:L)?(A(p(1,3,!1)["$cover?"](E.$size()))||t("::","Kernel").$raise(t("::","ArgumentError"),"wrong number of arguments (0 for 1..3)"),z=[].concat(a.to_a(E)),E=null==z[0]?K:z[0],ca=null==
z[1]?K:z[1],z,ca=d(["file","eval"],{file:A(va=ca)?va:"(eval)",eval:!0}),ca=a.hash({arity_check:!1}).$merge(ca),Oa=t("::","Opal").$compile(E,ca),z=G(t("::","Kernel"),"proc",[],(F=function(){return function(){return eval(Oa)}(null==F.$$s?this:F.$$s)},F.$$s=this,F.$$arity=0,F))):A(E["$any?"]())&&t("::","Kernel").$raise(t("::","ArgumentError"),"wrong number of arguments ("+E.$size()+" for 0)");va=z.$$s;z.$$s=null;if(this.$$is_a_module){this.$$eval=!0;try{var wa=z.call(this,this)}finally{this.$$eval=!1}}else wa=
z.call(this,this);z.$$s=va;return wa},D.$$arity=-1);a.def(x,"$instance_exec",R=function(f){var q=R.$$p,z=q||K;q&&(R.$$p=null);q&&(R.$$p=null);q=a.slice.call(arguments,0,arguments.length);A(z)||t("::","Kernel").$raise(t("::","ArgumentError"),"no block given");var E=z.$$s;z.$$s=null;if(this.$$is_a_module){this.$$eval=!0;try{var F=z.apply(this,q)}finally{this.$$eval=!1}}else F=z.apply(this,q);z.$$s=E;return F},R.$$arity=-1);a.def(x,"$singleton_method_added",ia=function(f){a.slice.call(arguments,0,arguments.length);
return K},ia.$$arity=-1);a.def(x,"$singleton_method_removed",ea=function(f){a.slice.call(arguments,0,arguments.length);return K},ea.$$arity=-1);a.def(x,"$singleton_method_undefined",ma=function(f){a.slice.call(arguments,0,arguments.length);return K},ma.$$arity=-1);a.def(x,"$method_missing",b=function(f,q){var z=b.$$p;z&&(b.$$p=null);z&&(b.$$p=null);a.slice.call(arguments,1,arguments.length);z=A(this.$inspect&&!this.$inspect.$$stub)?"undefined method `"+f+"' for "+this.$inspect()+":"+this.$$class:
"undefined method `"+f+"' for "+this.$$class;return t("::","Kernel").$raise(t("::","NoMethodError").$new(z,f))},b.$$arity=-2);return(a.def(x,"$respond_to_missing?",h=function(){return!1},h.$$arity=-2),K)&&"respond_to_missing?"}(y[0],null,y)};
Opal.modules["corelib/kernel"]=function(a){function y(c,l){return"number"===typeof c&&"number"===typeof l?c<=l:c["$<="](l)}var K=[],t=a.nil,w=a.$$$,A=a.$$,p=a.truthy,d=a.coerce_to,G=a.module,x=a.gvars,k=a.hash2,m=a.send,u=a.klass;a.add_stubs("$raise $new $inspect $! $=~ $== $object_id $class $coerce_to? $<< $allocate $copy_instance_variables $copy_singleton_methods $initialize_clone $initialize_copy $define_method $singleton_class $to_proc $initialize_dup $for $empty? $pop $call $append_features $extend_object $extended $__id__ $to_s $instance_variable_name! $respond_to? $to_int $coerce_to! $Integer $nil? $=== $enum_for $result $any? $print $format $puts $each $<= $length $[] $< $first $caller $+ $map $exception $is_a? $rand $respond_to_missing? $pristine $try_convert! $expand_path $join $start_with? $new_seed $srand $sym $arg $open $include".split(" "));(function(c,
l){c=G(c,"Kernel");var H=[c].concat(l),e,n,J,D,R,ia,ea,ma,b,h,f,q,z,E,F,L,ca,va,Oa,wa,Ba,Ka,oa,S,ta,ja,na,V,Q,Y,pa,za,la,xa,Ea,Fa,Sa,Ra,Na,Qa,lb,W,ya,Da,Va,ib,db,$a,ab,Aa,ua,La,Ta,Ya,Ga,Z,P,aa,T,fa,ka,g,C,M,ba;a.def(c,"$method_missing",e=function(v,U){var qa=e.$$p;qa&&(e.$$p=null);qa&&(e.$$p=null);qa=a.slice.call(arguments,1,arguments.length);return this.$raise(A(H,"NoMethodError").$new("undefined method `"+v+"' for "+this.$inspect(),v,qa))},e.$$arity=-2);a.def(c,"$=~",n=function(){return!1},n.$$arity=
1);a.def(c,"$!~",J=function(v){return this["$=~"](v)["$!"]()},J.$$arity=1);a.def(c,"$===",D=function(v){var U;return p(U=this.$object_id()["$=="](v.$object_id()))?U:this["$=="](v)},D.$$arity=1);a.def(c,"$<=>",R=function(v){this.$$comparable=!0;return(v=this["$=="](v))&&v!==t?0:t},R.$$arity=1);a.def(c,"$method",ia=function(v){var U=this["$"+v];U&&!U.$$stub||this.$raise(A(H,"NameError").$new("undefined method `"+v+"' for class `"+this.$class()+"'",v));return A(H,"Method").$new(this,U.$$owner||this.$class(),
U,v)},ia.$$arity=1);a.def(c,"$methods",ea=function(v){null==v&&(v=!0);return p(v)?a.methods(this):a.own_methods(this)},ea.$$arity=-1);a.def(c,"$public_methods",ma=function(v){null==v&&(v=!0);return p(v)?a.methods(this):a.receiver_methods(this)},ma.$$arity=-1);a.def(c,"$Array",b=function(v){if(v===t)return[];if(v.$$is_array)return v;var U=A(H,"Opal")["$coerce_to?"](v,A(H,"Array"),"to_ary");if(U!==t)return U;U=A(H,"Opal")["$coerce_to?"](v,A(H,"Array"),"to_a");return U!==t?U:[v]},b.$$arity=1);a.def(c,
"$at_exit",h=function(){var v=h.$$p,U=v||t,qa=t;null==x.__at_exit__&&(x.__at_exit__=t);v&&(h.$$p=null);v&&(h.$$p=null);x.__at_exit__=p(qa=x.__at_exit__)?qa:[];x.__at_exit__["$<<"](U);return U},h.$$arity=0);a.def(c,"$caller",f=function(v,U){null==U&&(U=t);v=(Error().stack||"").split("\n");var qa=[];for(var Ja=3,jb=v.length;Ja<jb&&(v[Ja].match("runtime.js")||(qa.push(v[Ja].replace(/^ *\w+ +/,"")),!U||qa.length!=U));Ja++);return qa},f.$$arity=-1);a.def(c,"$class",q=function(){return this.$$class},q.$$arity=
0);a.def(c,"$copy_instance_variables",z=function(v){var U=Object.keys(v),qa;var Ja=0;for(qa=U.length;Ja<qa;Ja++){var jb=U[Ja];"$"!==jb.charAt(0)&&v.hasOwnProperty(jb)&&(this[jb]=v[jb])}},z.$$arity=1);a.def(c,"$copy_singleton_methods",E=function(v){var U;if(v.hasOwnProperty("$$meta")){var qa=a.get_singleton_class(v),Ja=a.get_singleton_class(this);var jb=Object.getOwnPropertyNames(qa.$$prototype);var ob=0;for(U=jb.length;ob<U;ob++){var mb=jb[ob];a.is_method(mb)&&(Ja.$$prototype[mb]=qa.$$prototype[mb])}Ja.$$const=
Object.assign({},qa.$$const);Object.setPrototypeOf(Ja.$$prototype,Object.getPrototypeOf(qa.$$prototype))}ob=0;jb=Object.getOwnPropertyNames(v);for(U=jb.length;ob<U;ob++)mb=jb[ob],"$"===mb.charAt(0)&&"$"!==mb.charAt(1)&&v.hasOwnProperty(mb)&&(this[mb]=v[mb])},E.$$arity=1);a.def(c,"$clone",F=function(v){if(null==v)k([],{});else if(!v.$$is_hash)throw a.ArgumentError.$new("expected kwargs");v=this.$class().$allocate();v.$copy_instance_variables(this);v.$copy_singleton_methods(this);v.$initialize_clone(this);
return v},F.$$arity=-1);a.def(c,"$initialize_clone",L=function(v){return this.$initialize_copy(v)},L.$$arity=1);a.def(c,"$define_singleton_method",ca=function(v,U){var qa=ca.$$p,Ja=qa||t;qa&&(ca.$$p=null);qa&&(ca.$$p=null);return m(this.$singleton_class(),"define_method",[v,U],Ja.$to_proc())},ca.$$arity=-2);a.def(c,"$dup",va=function(){var v=this.$class().$allocate();v.$copy_instance_variables(this);v.$initialize_dup(this);return v},va.$$arity=0);a.def(c,"$initialize_dup",Oa=function(v){return this.$initialize_copy(v)},
Oa.$$arity=1);a.def(c,"$enum_for",wa=function(v,U){var qa=wa.$$p,Ja=qa||t;qa&&(wa.$$p=null);qa&&(wa.$$p=null);qa=a.slice.call(arguments,0,arguments.length);if(0<qa.length){var jb=qa[0];qa.splice(0,1)}null==jb&&(jb="each");return m(A(H,"Enumerator"),"for",[this,jb].concat(a.to_a(qa)),Ja.$to_proc())},wa.$$arity=-1);a.alias(c,"to_enum","enum_for");a.def(c,"$equal?",Ba=function(v){return this===v},Ba.$$arity=1);a.def(c,"$exit",Ka=function(v){var U=t;null==x.__at_exit__&&(x.__at_exit__=t);null==v&&(v=
!0);for(x.__at_exit__=p(U=x.__at_exit__)?U:[];!p(x.__at_exit__["$empty?"]());)U=x.__at_exit__.$pop(),U.$call();v=v.$$is_boolean?v?0:1:d(v,A(H,"Integer"),"to_int");a.exit(v);return t},Ka.$$arity=-1);a.def(c,"$extend",oa=function(v){var U=a.slice.call(arguments,0,arguments.length);for(var qa=this.$singleton_class(),Ja=U.length-1;0<=Ja;Ja--){var jb=U[Ja];jb.$$is_module||this.$raise(A(H,"TypeError"),"wrong argument type "+jb.$class()+" (expected Module)");jb.$append_features(qa);jb.$extend_object(this);
jb.$extended(this)}return this},oa.$$arity=-1);a.def(c,"$hash",S=function(){return this.$__id__()},S.$$arity=0);a.def(c,"$initialize_copy",ta=function(){return t},ta.$$arity=1);a.def(c,"$inspect",ja=function(){return this.$to_s()},ja.$$arity=0);a.def(c,"$instance_of?",na=function(v){v.$$is_class||v.$$is_module||this.$raise(A(H,"TypeError"),"class or module required");return this.$$class===v},na.$$arity=1);a.def(c,"$instance_variable_defined?",V=function(v){v=A(H,"Opal")["$instance_variable_name!"](v);
return a.hasOwnProperty.call(this,v.substr(1))},V.$$arity=1);a.def(c,"$instance_variable_get",Q=function(v){v=A(H,"Opal")["$instance_variable_name!"](v);v=this[a.ivar(v.substr(1))];return null==v?t:v},Q.$$arity=1);a.def(c,"$instance_variable_set",Y=function(v,U){v=A(H,"Opal")["$instance_variable_name!"](v);return this[a.ivar(v.substr(1))]=U},Y.$$arity=2);a.def(c,"$remove_instance_variable",pa=function(v){v=A(H,"Opal")["$instance_variable_name!"](v);var U=a.ivar(v.substr(1));return this.hasOwnProperty(U)?
(v=this[U],delete this[U],v):this.$raise(A(H,"NameError"),"instance variable "+v+" not defined")},pa.$$arity=1);a.def(c,"$instance_variables",za=function(){var v=[],U;for(U in this)if(this.hasOwnProperty(U)&&"$"!==U.charAt(0)){var qa="$"===U.substr(-1)?U.slice(0,U.length-1):U;v.push("@"+qa)}return v},za.$$arity=0);a.def(c,"$Integer",la=function(v,U){var qa=this;if(!v.$$is_string){void 0!==U&&qa.$raise(A(H,"ArgumentError"),"base specified for non string value");v===t&&qa.$raise(A(H,"TypeError"),"can't convert nil into Integer");
if(v.$$is_number)return(Infinity===v||-Infinity===v||isNaN(v))&&qa.$raise(A(H,"FloatDomainError"),v),Math.floor(v);if(v["$respond_to?"]("to_int")){var Ja=v.$to_int();if(Ja!==t)return Ja}return A(H,"Opal")["$coerce_to!"](v,A(H,"Integer"),"to_i")}if("0"===v)return 0;void 0===U?U=0:(U=d(U,A(H,"Integer"),"to_int"),(1===U||0>U||36<U)&&qa.$raise(A(H,"ArgumentError"),"invalid radix "+U));Ja=v.toLowerCase();Ja=Ja.replace(/(\d)_(?=\d)/g,"$1");Ja=Ja.replace(/^(\s*[+-]?)(0[bodx]?)/,function(ob,mb,sb){switch(sb){case "0b":if(0===
U||2===U)return U=2,mb;case "0":case "0o":if(0===U||8===U)return U=8,mb;case "0d":if(0===U||10===U)return U=10,mb;case "0x":if(0===U||16===U)return U=16,mb}qa.$raise(A(H,"ArgumentError"),'invalid value for Integer(): "'+v+'"')});U=0===U?10:U;var jb="0-"+(10>=U?U-1:"9a-"+String.fromCharCode(97+(U-11)));(new RegExp("^\\s*[+-]?["+jb+"]+\\s*$")).test(Ja)||qa.$raise(A(H,"ArgumentError"),'invalid value for Integer(): "'+v+'"');Ja=parseInt(Ja,U);isNaN(Ja)&&qa.$raise(A(H,"ArgumentError"),'invalid value for Integer(): "'+
v+'"');return Ja},la.$$arity=-2);a.def(c,"$Float",xa=function(v){v===t&&this.$raise(A(H,"TypeError"),"can't convert nil into Float");if(v.$$is_string){var U=v.toString();U=U.replace(/(\d)_(?=\d)/g,"$1");if(/^\s*[-+]?0[xX][0-9a-fA-F]+\s*$/.test(U))return this.$Integer(U);/^\s*[-+]?[0-9]*\.?[0-9]+([eE][-+]?[0-9]+)?\s*$/.test(U)||this.$raise(A(H,"ArgumentError"),'invalid value for Float(): "'+v+'"');return parseFloat(U)}return A(H,"Opal")["$coerce_to!"](v,A(H,"Float"),"to_f")},xa.$$arity=1);a.def(c,
"$Hash",Ea=function(v){var U=t;return p(p(U=v["$nil?"]())?U:v["$=="]([]))?k([],{}):p(A(H,"Hash")["$==="](v))?v:A(H,"Opal")["$coerce_to!"](v,A(H,"Hash"),"to_hash")},Ea.$$arity=1);a.def(c,"$is_a?",Fa=function(v){v.$$is_class||v.$$is_module||this.$raise(A(H,"TypeError"),"class or module required");return a.is_a(this,v)},Fa.$$arity=1);a.def(c,"$itself",Sa=function(){return this},Sa.$$arity=0);a.alias(c,"kind_of?","is_a?");a.def(c,"$lambda",Ra=function(){var v=Ra.$$p,U=v||t;v&&(Ra.$$p=null);v&&(Ra.$$p=
null);return a.lambda(U)},Ra.$$arity=0);a.def(c,"$load",Na=function(v){v=A(H,"Opal")["$coerce_to!"](v,A(H,"String"),"to_str");return a.load(v)},Na.$$arity=1);a.def(c,"$loop",Qa=function(){var v,U=Qa.$$p,qa=U||t,Ja=t;U&&(Qa.$$p=null);if(qa===t)return m(this,"enum_for",["loop"],(v=function(){return w(A(H,"Float"),"INFINITY")},v.$$s=this,v.$$arity=0,v));for(;p(!0);)try{a.yieldX(qa,[])}catch(jb){if(a.rescue(jb,[A(H,"StopIteration")])){Ja=jb;try{return Ja.$result()}finally{a.pop_exception()}}else throw jb;
}return this},Qa.$$arity=0);a.def(c,"$nil?",lb=function(){return!1},lb.$$arity=0);a.alias(c,"object_id","__id__");a.def(c,"$printf",W=function(v){var U=a.slice.call(arguments,0,arguments.length);p(U["$any?"]())&&this.$print(m(this,"format",a.to_a(U)));return t},W.$$arity=-1);a.def(c,"$proc",ya=function(){var v=ya.$$p,U=v||t;v&&(ya.$$p=null);v&&(ya.$$p=null);p(U)||this.$raise(A(H,"ArgumentError"),"tried to create Proc object without a block");U.$$is_lambda=!1;return U},ya.$$arity=0);a.def(c,"$puts",
Da=function(v){null==x.stdout&&(x.stdout=t);var U=a.slice.call(arguments,0,arguments.length);return m(x.stdout,"puts",a.to_a(U))},Da.$$arity=-1);a.def(c,"$p",Va=function(v){var U;var qa=a.slice.call(arguments,0,arguments.length);m(qa,"each",[],(U=function(Ja){null==x.stdout&&(x.stdout=t);null==Ja&&(Ja=t);return x.stdout.$puts(Ja.$inspect())},U.$$s=this,U.$$arity=1,U));return p(y(qa.$length(),1))?qa["$[]"](0):qa},Va.$$arity=-1);a.def(c,"$print",ib=function(v){null==x.stdout&&(x.stdout=t);var U=a.slice.call(arguments,
0,arguments.length);return m(x.stdout,"print",a.to_a(U))},ib.$$arity=-1);a.def(c,"$warn",db=function(v,U){var qa,Ja=t,jb=t;null==x.VERBOSE&&(x.VERBOSE=t);null==x.stderr&&(x.stderr=t);var ob=a.slice.call(arguments,0,arguments.length);var mb=a.extract_kwargs(ob);if(null==mb)mb=k([],{});else if(!mb.$$is_hash)throw a.ArgumentError.$new("expected kwargs");mb=mb.$$smap.uplevel;null==mb&&(mb=t);p(mb)&&(mb=A(H,"Opal")["$coerce_to!"](mb,A(H,"Integer"),"to_str"),p("number"===typeof mb?0>mb:mb["$<"](0))&&this.$raise(A(H,
"ArgumentError"),"negative level ("+mb+")"),Ja=this.$caller("number"===typeof mb?mb+2:mb["$+"](2),1).$first(),p(Ja)&&(Ja=""+Ja+": "),ob=m(ob,"map",[],(qa=function(sb){null==sb&&(sb=t);return""+Ja+"warning: "+sb},qa.$$s=this,qa.$$arity=1,qa)));return p(p(jb=x.VERBOSE["$nil?"]())?jb:ob["$empty?"]())?t:m(x.stderr,"puts",a.to_a(ob))},db.$$arity=-1);a.def(c,"$raise",$a=function(v,U){null==x["!"]&&(x["!"]=t);null==U&&(U=t);if(null==v&&x["!"]!==t)throw x["!"];null==v?v=A(H,"RuntimeError").$new():v.$$is_string?
v=A(H,"RuntimeError").$new(v):v.$$is_class&&v["$respond_to?"]("exception")?v=v.$exception(U):v["$is_a?"](A(H,"Exception"))||(v=A(H,"TypeError").$new("exception class/object expected"));x["!"]!==t&&a.exceptions.push(x["!"]);x["!"]=v;throw v;},$a.$$arity=-1);a.alias(c,"fail","raise");a.def(c,"$rand",ab=function(v){if(void 0===v)return w(A(H,"Random"),"DEFAULT").$rand();v.$$is_number&&(0>v&&(v=Math.abs(v)),0!==v%1&&(v=v.$to_i()),0===v&&(v=void 0));return w(A(H,"Random"),"DEFAULT").$rand(v)},ab.$$arity=
-1);a.def(c,"$respond_to?",Aa=function(v,U){null==U&&(U=!1);var qa=this["$"+v];return"function"!==typeof qa||qa.$$stub?!0===this["$respond_to_missing?"].$$pristine?!1:this["$respond_to_missing?"](v,U):!0},Aa.$$arity=-2);a.def(c,"$respond_to_missing?",ua=function(){return!1},ua.$$arity=-2);A(H,"Opal").$pristine(c,"respond_to?","respond_to_missing?");a.def(c,"$require",La=function(v){v=A(H,"Opal")["$coerce_to!"](v,A(H,"String"),"to_str");return a.require(v)},La.$$arity=1);a.def(c,"$require_relative",
Ta=function(v){A(H,"Opal")["$try_convert!"](v,A(H,"String"),"to_str");v=A(H,"File").$expand_path(A(H,"File").$join(a.current_file,"..",v));return a.require(v)},Ta.$$arity=1);a.def(c,"$require_tree",Ya=function(v){var U=[];v=A(H,"File").$expand_path(v);v=a.normalize(v);"."===v&&(v="");for(var qa in a.modules)qa["$start_with?"](v)&&U.push([qa,a.require(qa)]);return U},Ya.$$arity=1);a.alias(c,"send","__send__");a.alias(c,"public_send","__send__");a.def(c,"$singleton_class",Ga=function(){return a.get_singleton_class(this)},
Ga.$$arity=0);a.def(c,"$sleep",Z=function(v){null==v&&(v=t);v===t&&this.$raise(A(H,"TypeError"),"can't convert NilClass into time interval");v.$$is_number||this.$raise(A(H,"TypeError"),"can't convert "+v.$class()+" into time interval");0>v&&this.$raise(A(H,"ArgumentError"),"time interval must be positive");for(var U=a.global.performance?function(){return performance.now()}:function(){return new Date},qa=U();U()-qa<=1E3*v;);return Math.round(v)},Z.$$arity=-1);a.def(c,"$srand",P=function(v){null==v&&
(v=A(H,"Random").$new_seed());return A(H,"Random").$srand(v)},P.$$arity=-1);a.def(c,"$String",aa=function(v){var U;return p(U=A(H,"Opal")["$coerce_to?"](v,A(H,"String"),"to_str"))?U:A(H,"Opal")["$coerce_to!"](v,A(H,"String"),"to_s")},aa.$$arity=1);a.def(c,"$tap",T=function(){var v=T.$$p,U=v||t;v&&(T.$$p=null);v&&(T.$$p=null);a.yield1(U,this);return this},T.$$arity=0);a.def(c,"$to_proc",fa=function(){return this},fa.$$arity=0);a.def(c,"$to_s",ka=function(){return"#<"+this.$class()+":0x"+this.$__id__().$to_s(16)+
">"},ka.$$arity=0);a.def(c,"$catch",g=function(v){var U=g.$$p,qa=U||t;U&&(g.$$p=null);try{return a.yieldX(qa,[])}catch(Ja){if(a.rescue(Ja,[A(H,"UncaughtThrowError")])){U=Ja;try{return U.$sym()["$=="](v)?U.$arg():this.$raise()}finally{a.pop_exception()}}else throw Ja;}},g.$$arity=1);a.def(c,"$throw",C=function(v){var U=a.slice.call(arguments,0,arguments.length);return this.$raise(A(H,"UncaughtThrowError"),U)},C.$$arity=-1);a.def(c,"$open",M=function(v){var U=M.$$p,qa=U||t;U&&(M.$$p=null);U&&(M.$$p=
null);U=a.slice.call(arguments,0,arguments.length);return m(A(H,"File"),"open",a.to_a(U),qa.$to_proc())},M.$$arity=-1);a.def(c,"$yield_self",ba=function(){var v,U=ba.$$p,qa=U||t;U&&(ba.$$p=null);return qa===t?m(this,"enum_for",["yield_self"],(v=function(){return 1},v.$$s=this,v.$$arity=0,v)):a.yield1(qa,this)},ba.$$arity=0);a.alias(c,"then","yield_self");A(H,"Opal").$pristine(c,"method_missing")})(K[0],K);return function(c,$super,H){c=u(c,$super,"Object");H=[c].concat(H);return c.$include(A(H,"Kernel"))}(K[0],
null,K)};
Opal.modules["corelib/error"]=function(a){var y=[],K=a.nil,t=a.$$,w=a.klass,A=a.send,p=a.truthy,d=a.module,G=a.send2,x=a.hash2;a.add_stubs("$new $clone $to_s $empty? $class $raise $+ $attr_reader $[] $> $length $inspect".split(" "));(function(k,$super,u){k=w(k,$super,"Exception");var c=[k].concat(u),l,H,e,n,J,D,R,ia,ea;k.$$prototype.message=K;a.defs(k,"$new",l=function(b){var h=a.slice.call(arguments,0,arguments.length);var f=0<h.length?h[0]:K,q=new this.$$constructor(f);q.name=this.$$name;q.message=
f;a.send(q,q.$initialize,h);a.config.enable_stack_trace&&Error.captureStackTrace&&Error.captureStackTrace(q,ma);return q},l.$$arity=-1);var ma=k.$new;a.defs(k,"$exception",H=function(b){var h=a.slice.call(arguments,0,arguments.length);return A(this,"new",a.to_a(h))},H.$$arity=-1);a.def(k,"$initialize",e=function(b){var h=a.slice.call(arguments,0,arguments.length);return this.message=0<h.length?h[0]:K},e.$$arity=-1);a.def(k,"$backtrace",n=function(){if(this.backtrace)return this.backtrace;var b=this.stack;
return"string"===typeof b?b.split("\n").slice(0,15):b?b.slice(0,15):[]},n.$$arity=0);a.def(k,"$exception",J=function(b){null==b&&(b=K);if(b===K||this===b)return this;var h=this.$clone();h.message=b;h.stack=this.stack;return h},J.$$arity=-1);a.def(k,"$message",D=function(){return this.$to_s()},D.$$arity=0);a.def(k,"$inspect",R=function(){var b=this.$to_s();return p(b["$empty?"]())?this.$class().$to_s():"#<"+this.$class().$to_s()+": "+this.$to_s()+">"},R.$$arity=0);a.def(k,"$set_backtrace",ia=function(b){var h=
!0,f;if(b===K)this.backtrace=K,this.stack="";else if(b.$$is_string)this.backtrace=[b],this.stack=b;else{if(b.$$is_array){var q=0;for(f=b.length;q<f;q++)if(!b[q].$$is_string){h=!1;break}}else h=!1;!1===h&&this.$raise(t(c,"TypeError"),"backtrace must be Array of String");this.backtrace=b;this.stack=b.join("\n")}return b},ia.$$arity=1);return(a.def(k,"$to_s",ea=function(){var b=K,h=K;return p(b=p(h=this.message)?this.message.$to_s():h)?b:this.$class().$to_s()},ea.$$arity=0),K)&&"to_s"})(y[0],Error,y);
(function(k,$super,u){[w(k,$super,"ScriptError")].concat(u);return K})(y[0],t(y,"Exception"),y);(function(k,$super,u){[w(k,$super,"SyntaxError")].concat(u);return K})(y[0],t(y,"ScriptError"),y);(function(k,$super,u){[w(k,$super,"LoadError")].concat(u);return K})(y[0],t(y,"ScriptError"),y);(function(k,$super,u){[w(k,$super,"NotImplementedError")].concat(u);return K})(y[0],t(y,"ScriptError"),y);(function(k,$super,u){[w(k,$super,"SystemExit")].concat(u);return K})(y[0],t(y,"Exception"),y);(function(k,
$super,u){[w(k,$super,"NoMemoryError")].concat(u);return K})(y[0],t(y,"Exception"),y);(function(k,$super,u){[w(k,$super,"SignalException")].concat(u);return K})(y[0],t(y,"Exception"),y);(function(k,$super,u){[w(k,$super,"Interrupt")].concat(u);return K})(y[0],t(y,"Exception"),y);(function(k,$super,u){[w(k,$super,"SecurityError")].concat(u);return K})(y[0],t(y,"Exception"),y);(function(k,$super,u){[w(k,$super,"StandardError")].concat(u);return K})(y[0],t(y,"Exception"),y);(function(k,$super,u){[w(k,
$super,"EncodingError")].concat(u);return K})(y[0],t(y,"StandardError"),y);(function(k,$super,u){[w(k,$super,"ZeroDivisionError")].concat(u);return K})(y[0],t(y,"StandardError"),y);(function(k,$super,u){[w(k,$super,"NameError")].concat(u);return K})(y[0],t(y,"StandardError"),y);(function(k,$super,u){[w(k,$super,"NoMethodError")].concat(u);return K})(y[0],t(y,"NameError"),y);(function(k,$super,u){[w(k,$super,"RuntimeError")].concat(u);return K})(y[0],t(y,"StandardError"),y);(function(k,$super,u){[w(k,
$super,"FrozenError")].concat(u);return K})(y[0],t(y,"RuntimeError"),y);(function(k,$super,u){[w(k,$super,"LocalJumpError")].concat(u);return K})(y[0],t(y,"StandardError"),y);(function(k,$super,u){[w(k,$super,"TypeError")].concat(u);return K})(y[0],t(y,"StandardError"),y);(function(k,$super,u){[w(k,$super,"ArgumentError")].concat(u);return K})(y[0],t(y,"StandardError"),y);(function(k,$super,u){[w(k,$super,"IndexError")].concat(u);return K})(y[0],t(y,"StandardError"),y);(function(k,$super,u){[w(k,
$super,"StopIteration")].concat(u);return K})(y[0],t(y,"IndexError"),y);(function(k,$super,u){[w(k,$super,"KeyError")].concat(u);return K})(y[0],t(y,"IndexError"),y);(function(k,$super,u){[w(k,$super,"RangeError")].concat(u);return K})(y[0],t(y,"StandardError"),y);(function(k,$super,u){[w(k,$super,"FloatDomainError")].concat(u);return K})(y[0],t(y,"RangeError"),y);(function(k,$super,u){[w(k,$super,"IOError")].concat(u);return K})(y[0],t(y,"StandardError"),y);(function(k,$super,u){[w(k,$super,"SystemCallError")].concat(u);
return K})(y[0],t(y,"StandardError"),y);(function(k,m){k=[d(k,"Errno")].concat(m);(function(u,$super,l){u=w(u,$super,"EINVAL");[u].concat(l);var H;return(a.defs(u,"$new",H=function(e){H.$$p&&(H.$$p=null);null==e&&(e=K);var n="Invalid argument";p(e)&&(e=" - "+e,n="number"===typeof n&&"number"===typeof e?n+e:n["$+"](e));return G(this,a.find_super_dispatcher(this,"new",H,!1,!0),"new",[n],null)},H.$$arity=-1),K)&&"new"})(k[0],t(k,"SystemCallError"),k)})(y[0],y);(function(k,$super,u){k=w(k,$super,"UncaughtThrowError");
[k].concat(u);var c;k.$$prototype.sym=K;k.$attr_reader("sym","arg");return(a.def(k,"$initialize",c=function(l){c.$$p&&(c.$$p=null);this.sym=l["$[]"](0);var H=l.$length();H="number"===typeof H?1<H:H["$>"](1);p(H)&&(this.arg=l["$[]"](1));return G(this,a.find_super_dispatcher(this,"initialize",c,!1,!0),"initialize",["uncaught throw "+this.sym.$inspect()],null)},c.$$arity=1),K)&&"initialize"})(y[0],t(y,"ArgumentError"),y);(function(k,$super,u){k=w(k,$super,"NameError");[k].concat(u);var c;k.$attr_reader("name");
return(a.def(k,"$initialize",c=function(l,H){c.$$p&&(c.$$p=null);null==H&&(H=K);G(this,a.find_super_dispatcher(this,"initialize",c,!1,!0),"initialize",[l],null);return this.name=H},c.$$arity=-2),K)&&"initialize"})(y[0],null,y);(function(k,$super,u){k=w(k,$super,"NoMethodError");[k].concat(u);var c;k.$attr_reader("args");return(a.def(k,"$initialize",c=function(l,H,e){c.$$p&&(c.$$p=null);null==H&&(H=K);null==e&&(e=[]);G(this,a.find_super_dispatcher(this,"initialize",c,!1,!0),"initialize",[l,H],null);
return this.args=e},c.$$arity=-2),K)&&"initialize"})(y[0],null,y);(function(k,$super,u){k=w(k,$super,"StopIteration");[k].concat(u);return k.$attr_reader("result")})(y[0],null,y);(function(k,$super,u){k=w(k,$super,"KeyError");var c=[k].concat(u),l,H,e;k.$$prototype.receiver=k.$$prototype.key=K;a.def(k,"$initialize",l=function(n,J){l.$$p&&(l.$$p=null);if(null==J)J=x([],{});else if(!J.$$is_hash)throw a.ArgumentError.$new("expected kwargs");var D=J.$$smap.receiver;null==D&&(D=K);J=J.$$smap.key;null==
J&&(J=K);G(this,a.find_super_dispatcher(this,"initialize",l,!1,!0),"initialize",[n],null);this.receiver=D;return this.key=J},l.$$arity=-2);a.def(k,"$receiver",H=function(){var n;return p(n=this.receiver)?n:this.$raise(t(c,"ArgumentError"),"no receiver is available")},H.$$arity=0);return(a.def(k,"$key",e=function(){var n;return p(n=this.key)?n:this.$raise(t(c,"ArgumentError"),"no key is available")},e.$$arity=0),K)&&"key"})(y[0],null,y);return function(k,m){k=[d(k,"JS")].concat(m);[w(k[0],null,"Error")].concat(k)}(y[0],
y)};
Opal.modules["corelib/constants"]=function(a){var y=[],K=a.$$;a.const_set(y[0],"RUBY_PLATFORM","opal");a.const_set(y[0],"RUBY_ENGINE","opal");a.const_set(y[0],"RUBY_VERSION","3.0.0");a.const_set(y[0],"RUBY_ENGINE_VERSION","1.1.1");a.const_set(y[0],"RUBY_RELEASE_DATE","2021-02-23");a.const_set(y[0],"RUBY_PATCHLEVEL",0);a.const_set(y[0],"RUBY_REVISION","0");a.const_set(y[0],"RUBY_COPYRIGHT","opal - Copyright (C) 2013-2021 Adam Beynon and the Opal contributors");return a.const_set(y[0],"RUBY_DESCRIPTION","opal "+
K(y,"RUBY_ENGINE_VERSION")+" ("+K(y,"RUBY_RELEASE_DATE")+" revision "+K(y,"RUBY_REVISION")+")")};Opal.modules["opal/base"]=function(a){var y=a.top;a.add_stubs(["$require"]);y.$require("corelib/runtime");y.$require("corelib/helpers");y.$require("corelib/module");y.$require("corelib/class");y.$require("corelib/basic_object");y.$require("corelib/kernel");y.$require("corelib/error");return y.$require("corelib/constants")};
Opal.modules["corelib/nil"]=function(a){var y=[],K=a.nil,t=a.$$,w=a.klass,A=a.hash2,p=a.truthy;a.add_stubs("$raise $name $new $> $length $Rational".split(" "));(function(d,$super,x){d=w(d,$super,"NilClass");var k=[d].concat(x),m,u,c,l,H,e,n,J,D,R,ia,ea,ma,b,h,f,q,z;d.$$prototype.$$meta=d;(function(E,F){var L=[E].concat(F),ca;a.def(E,"$allocate",ca=function(){return this.$raise(t(L,"TypeError"),"allocator undefined for "+this.$name())},ca.$$arity=0);a.udef(E,"$new");return K})(a.get_singleton_class(d),
k);a.def(d,"$!",m=function(){return!0},m.$$arity=0);a.def(d,"$&",u=function(){return!1},u.$$arity=1);a.def(d,"$|",c=function(E){return!1!==E&&E!==K},c.$$arity=1);a.def(d,"$^",l=function(E){return!1!==E&&E!==K},l.$$arity=1);a.def(d,"$==",H=function(E){return E===K},H.$$arity=1);a.def(d,"$dup",e=function(){return K},e.$$arity=0);a.def(d,"$clone",n=function(E){if(null==E)A([],{});else if(!E.$$is_hash)throw a.ArgumentError.$new("expected kwargs");return K},n.$$arity=-1);a.def(d,"$inspect",J=function(){return"nil"},
J.$$arity=0);a.def(d,"$nil?",D=function(){return!0},D.$$arity=0);a.def(d,"$singleton_class",R=function(){return t(k,"NilClass")},R.$$arity=0);a.def(d,"$to_a",ia=function(){return[]},ia.$$arity=0);a.def(d,"$to_h",ea=function(){return a.hash()},ea.$$arity=0);a.def(d,"$to_i",ma=function(){return 0},ma.$$arity=0);a.alias(d,"to_f","to_i");a.def(d,"$to_s",b=function(){return""},b.$$arity=0);a.def(d,"$to_c",h=function(){return t(k,"Complex").$new(0,0)},h.$$arity=0);a.def(d,"$rationalize",f=function(E){var F=
a.slice.call(arguments,0,arguments.length).$length();F="number"===typeof F?1<F:F["$>"](1);p(F)&&this.$raise(t(k,"ArgumentError"));return this.$Rational(0,1)},f.$$arity=-1);a.def(d,"$to_r",q=function(){return this.$Rational(0,1)},q.$$arity=0);return(a.def(d,"$instance_variables",z=function(){return[]},z.$$arity=0),K)&&"instance_variables"})(y[0],null,y);return a.const_set(y[0],"NIL",K)};
Opal.modules["corelib/boolean"]=function(a){var y=[],K=a.nil,t=a.$$,w=a.klass,A=a.hash2;a.add_stubs(["$raise","$name"]);(function(p,$super,G){p=w(p,$super,"Boolean");var x=[p].concat(G),k,m,u,c,l,H,e,n,J,D;a.defineProperty(p.$$prototype,"$$is_boolean",!0);a.defineProperty(p.$$prototype,"$$meta",p);(function(R,ia){var ea=[R].concat(ia),ma;a.def(R,"$allocate",ma=function(){return this.$raise(t(ea,"TypeError"),"allocator undefined for "+this.$name())},ma.$$arity=0);a.udef(R,"$new");return K})(a.get_singleton_class(p),
x);a.def(p,"$__id__",k=function(){return this.valueOf()?2:0},k.$$arity=0);a.alias(p,"object_id","__id__");a.def(p,"$!",m=function(){return 1!=this},m.$$arity=0);a.def(p,"$&",u=function(R){return 1==this?!1!==R&&R!==K:!1},u.$$arity=1);a.def(p,"$|",c=function(R){return 1==this?!0:!1!==R&&R!==K},c.$$arity=1);a.def(p,"$^",l=function(R){return 1==this?!1===R||R===K:!1!==R&&R!==K},l.$$arity=1);a.def(p,"$==",H=function(R){return 1==this===R.valueOf()},H.$$arity=1);a.alias(p,"equal?","==");a.alias(p,"eql?",
"==");a.def(p,"$singleton_class",e=function(){return t(x,"Boolean")},e.$$arity=0);a.def(p,"$to_s",n=function(){return 1==this?"true":"false"},n.$$arity=0);a.def(p,"$dup",J=function(){return this},J.$$arity=0);return(a.def(p,"$clone",D=function(R){if(null==R)A([],{});else if(!R.$$is_hash)throw a.ArgumentError.$new("expected kwargs");return this},D.$$arity=-1),K)&&"clone"})(y[0],Boolean,y);a.const_set(y[0],"TrueClass",t(y,"Boolean"));a.const_set(y[0],"FalseClass",t(y,"Boolean"));a.const_set(y[0],"TRUE",
!0);return a.const_set(y[0],"FALSE",!1)};
Opal.modules["corelib/comparable"]=function(a){function y(x,k){return"number"===typeof x&&"number"===typeof k?x>k:x["$>"](k)}function K(x,k){return"number"===typeof x&&"number"===typeof k?x<k:x["$<"](k)}var t=[],w=a.nil,A=a.$$,p=a.falsy,d=a.module,G=a.truthy;a.add_stubs("$> $< $=== $raise $class $<=> $equal?".split(" "));return function(x,k){function m(ma){return a.is_a(ma,a.Integer)?ma:y(ma,0)?1:K(ma,0)?-1:0}function u(ma,b){var h=ma["$<=>"](b);p(h)&&(ea=b,b=w["$==="](ea)||(!0)["$==="](ea)||(!1)["$==="](ea)||
A(l,"Integer")["$==="](ea)||A(l,"Float")["$==="](ea)?b.$inspect():b.$$class,c.$raise(A(l,"ArgumentError"),"comparison of "+ma.$class()+" with "+b+" failed"));return m(h)}var c=d(x,"Comparable"),l=[c].concat(k),H,e,n,J,D,R,ia,ea=w;a.def(c,"$==",H=function(ma){var b;return G(this["$equal?"](ma))?!0:this["$<=>"]==a.Kernel["$<=>"]?!1:this.$$comparable?(delete this.$$comparable,!1):G(b=this["$<=>"](ma))?0==m(b):!1},H.$$arity=1);a.def(c,"$>",e=function(ma){return 0<u(this,ma)},e.$$arity=1);a.def(c,"$>=",
n=function(ma){return 0<=u(this,ma)},n.$$arity=1);a.def(c,"$<",J=function(ma){return 0>u(this,ma)},J.$$arity=1);a.def(c,"$<=",D=function(ma){return 0>=u(this,ma)},D.$$arity=1);a.def(c,"$between?",R=function(ma,b){return K(this,ma)||y(this,b)?!1:!0},R.$$arity=2);a.def(c,"$clamp",ia=function(ma,b){null==b&&(b=w);if(b===w){a.is_a(ma,a.Range)||this.$raise(A(l,"TypeError"),"wrong argument type "+ma.$class()+" (expected Range)");var h=ma.excl;b=ma.end;ma=ma.begin;b!==w&&h&&this.$raise(A(l,"ArgumentError"),
"cannot clamp with an exclusive range")}ma!==w&&b!==w&&0<u(ma,b)&&this.$raise(A(l,"ArgumentError"),"min argument must be smaller than max argument");if(ma!==w){h=u(this,ma);if(0==h)return this;if(0>h)return ma}return b!==w&&(h=u(this,b),0<h)?b:this},ia.$$arity=-2)}(t[0],t)};
Opal.modules["corelib/regexp"]=function(a){var y=[],K=a.nil,t=a.$$,w=a.coerce_to,A=a.klass,p=a.send2,d=a.truthy,G=a.gvars,x=a.send;a.add_stubs("$nil? $[] $raise $escape $options $to_str $new $join $coerce_to! $! $match $coerce_to? $begin $=~ $attr_reader $=== $inspect $to_a".split(" "));(function(k,$super,u){[A(k,$super,"RegexpError")].concat(u);return K})(y[0],t(y,"StandardError"),y);(function(k,$super,u){k=A(k,$super,"Regexp");var c=[k].concat(u),l,H,e,n,J,D,R,ia,ea,ma;a.const_set(c[0],"IGNORECASE",
1);a.const_set(c[0],"EXTENDED",2);a.const_set(c[0],"MULTILINE",4);a.defineProperty(k.$$prototype,"$$is_regexp",!0);(function(b,h){var f=[b].concat(h),q,z,E,F,L;a.def(b,"$allocate",q=function(){var ca=q.$$p,va;ca&&(q.$$p=null);var Oa=0;var wa=arguments.length;for(va=Array(wa);Oa<wa;Oa++)va[Oa]=arguments[Oa];ca=p(this,a.find_super_dispatcher(this,"allocate",q,!1,!0),"allocate",va,ca);ca.uninitialized=!0;return ca},q.$$arity=0);a.def(b,"$escape",z=function(ca){return a.escape_regexp(ca)},z.$$arity=1);
a.def(b,"$last_match",E=function(ca){null==G["~"]&&(G["~"]=K);null==ca&&(ca=K);return d(ca["$nil?"]())?G["~"]:G["~"]["$[]"](ca)},E.$$arity=-1);a.alias(b,"quote","escape");a.def(b,"$union",F=function(ca){var va=a.slice.call(arguments,0,arguments.length);if(0==va.length)return/(?!)/;if(1==va.length&&va[0].$$is_regexp)return va[0];var Oa=va[0].$$is_array;1<va.length&&Oa&&this.$raise(t(f,"TypeError"),"no implicit conversion of Array into String");Oa&&(va=va[0]);var wa=void 0;Oa=[];for(var Ba=0;Ba<va.length;Ba++){var Ka=
va[Ba];if(Ka.$$is_string)Oa.push(this.$escape(Ka));else if(Ka.$$is_regexp){var oa=Ka.$options();void 0!=wa&&wa!=oa&&this.$raise(t(f,"TypeError"),"All expressions must use the same options");wa=oa;Oa.push("("+Ka.source+")")}else Oa.push(this.$escape(Ka.$to_str()))}return this.$new(Oa.$join("|"),wa)},F.$$arity=-1);a.def(b,"$new",L=function(ca,va){if(ca.$$is_regexp)return new RegExp(ca);ca=t(f,"Opal")["$coerce_to!"](ca,t(f,"String"),"to_str");"\\"===ca.charAt(ca.length-1)&&"\\"!==ca.charAt(ca.length-
2)&&this.$raise(t(f,"RegexpError"),"too short escape sequence: /"+ca+"/");if(void 0===va||va["$!"]())return new RegExp(ca);if(va.$$is_number){var Oa="";t(f,"IGNORECASE")&va&&(Oa+="i");t(f,"MULTILINE")&va&&(Oa+="m");va=Oa}else va="i";return new RegExp(ca,va)},L.$$arity=-2);return a.alias(b,"compile","new")})(a.get_singleton_class(k),c);a.def(k,"$==",l=function(b){return b instanceof RegExp&&this.toString()===b.toString()},l.$$arity=1);a.def(k,"$===",H=function(b){return this.$match(t(c,"Opal")["$coerce_to?"](b,
t(c,"String"),"to_str"))!==K},H.$$arity=1);a.def(k,"$=~",e=function(b){var h;null==G["~"]&&(G["~"]=K);return d(h=this.$match(b))?G["~"].$begin(0):h},e.$$arity=1);a.alias(k,"eql?","==");a.def(k,"$inspect",n=function(){var b=this.toString(),h=/^\/(.*)\/([^\/]*)$/.exec(b);if(h){b=h[2];h=h[1].split("");for(var f=h.length,q=!1,z="",E=0;E<f;E++){var F=h[E];q||"/"!=F||(z=z.concat("\\"));z=z.concat(F);q="\\"==F?q?!1:!0:!1}return"/"+z+"/"+b}return b},n.$$arity=0);a.def(k,"$match",J=function(b,h){var f=J.$$p,
q=f||K;null==G["~"]&&(G["~"]=K);f&&(J.$$p=null);f&&(J.$$p=null);this.uninitialized&&this.$raise(t(c,"TypeError"),"uninitialized Regexp");if(void 0===h)return b===K?G["~"]=K:(b=this.exec(w(b,t(c,"String"),"to_str")))?(G["~"]=t(c,"MatchData").$new(this,b),q===K?G["~"]:a.yield1(q,G["~"])):G["~"]=K;h=w(h,t(c,"Integer"),"to_int");if(b===K)return G["~"]=K;b=w(b,t(c,"String"),"to_str");if(0>h&&(h+=b.length,0>h))return G["~"]=K;for(var z=a.global_regexp(this);;){f=z.exec(b);if(null===f)return G["~"]=K;if(f.index>=
h)return G["~"]=t(c,"MatchData").$new(z,f),q===K?G["~"]:a.yield1(q,G["~"]);z.lastIndex=f.index+1}},J.$$arity=-2);a.def(k,"$match?",D=function(b,h){this.uninitialized&&this.$raise(t(c,"TypeError"),"uninitialized Regexp");if(void 0===h)return b===K?!1:this.test(w(b,t(c,"String"),"to_str"));h=w(h,t(c,"Integer"),"to_int");if(b===K)return!1;b=w(b,t(c,"String"),"to_str");if(0>h&&(h+=b.length,0>h))return!1;b=a.global_regexp(this).exec(b);return null===b||b.index<h?!1:!0},D.$$arity=-2);a.def(k,"$~",R=function(){null==
G._&&(G._=K);return this["$=~"](G._)},R.$$arity=0);a.def(k,"$source",ia=function(){return this.source},ia.$$arity=0);a.def(k,"$options",ea=function(){this.uninitialized&&this.$raise(t(c,"TypeError"),"uninitialized Regexp");var b=0;this.multiline&&(b|=t(c,"MULTILINE"));this.ignoreCase&&(b|=t(c,"IGNORECASE"));return b},ea.$$arity=0);a.def(k,"$casefold?",ma=function(){return this.ignoreCase},ma.$$arity=0);return a.alias(k,"to_s","source")})(y[0],RegExp,y);return function(k,$super,u){k=A(k,$super,"MatchData");
var c=[k].concat(u),l,H,e,n,J,D,R,ia,ea,ma,b,h;k.$$prototype.matches=K;k.$attr_reader("post_match","pre_match","regexp","string");a.def(k,"$initialize",l=function(f,q){G["~"]=this;this.regexp=f;this.begin=q.index;this.string=q.input;this.pre_match=q.input.slice(0,q.index);this.post_match=q.input.slice(q.index+q[0].length);this.matches=[];f=0;for(var z=q.length;f<z;f++){var E=q[f];null==E?this.matches.push(K):this.matches.push(E)}},l.$$arity=2);a.def(k,"$[]",H=function(f){var q=a.slice.call(arguments,
0,arguments.length);return x(this.matches,"[]",a.to_a(q))},H.$$arity=-1);a.def(k,"$offset",e=function(f){0!==f&&this.$raise(t(c,"ArgumentError"),"MatchData#offset only supports 0th element");return[this.begin,this.begin+this.matches[f].length]},e.$$arity=1);a.def(k,"$==",n=function(f){var q=K,z=K,E=K,F=K;return d(t(c,"MatchData")["$==="](f))?d(q=d(z=d(E=d(F=this.string==f.string)?this.regexp.toString()==f.regexp.toString():F)?this.pre_match==f.pre_match:E)?this.post_match==f.post_match:z)?this.begin==
f.begin:q:!1},n.$$arity=1);a.alias(k,"eql?","==");a.def(k,"$begin",J=function(f){0!==f&&this.$raise(t(c,"ArgumentError"),"MatchData#begin only supports 0th element");return this.begin},J.$$arity=1);a.def(k,"$end",D=function(f){0!==f&&this.$raise(t(c,"ArgumentError"),"MatchData#end only supports 0th element");return this.begin+this.matches[f].length},D.$$arity=1);a.def(k,"$captures",R=function(){return this.matches.slice(1)},R.$$arity=0);a.def(k,"$inspect",ia=function(){for(var f="#<MatchData "+this.matches[0].$inspect(),
q=1,z=this.matches.length;q<z;q++)f+=" "+q+":"+this.matches[q].$inspect();return f+">"},ia.$$arity=0);a.def(k,"$length",ea=function(){return this.matches.length},ea.$$arity=0);a.alias(k,"size","length");a.def(k,"$to_a",ma=function(){return this.matches},ma.$$arity=0);a.def(k,"$to_s",b=function(){return this.matches[0]},b.$$arity=0);return(a.def(k,"$values_at",h=function(f){var q=a.slice.call(arguments,0,arguments.length);var z,E=[];for(z=0;z<q.length;z++){if(q[z].$$is_range){var F=q[z].$to_a();F.unshift(z,
1);Array.prototype.splice.apply(q,F)}F=t(c,"Opal")["$coerce_to!"](q[z],t(c,"Integer"),"to_int");if(0>F&&(F+=this.matches.length,0>F)){E.push(K);continue}E.push(this.matches[F])}return E},h.$$arity=-1),K)&&"values_at"}(y[0],null,y)};
Opal.modules["corelib/string"]=function(a){function y(l,H){return"number"===typeof l&&"number"===typeof H?l/H:l["$/"](H)}function K(l,H){return"number"===typeof l&&"number"===typeof H?l+H:l["$+"](H)}var t=a.top,w=[],A=a.nil,p=a.$$$,d=a.$$,G=a.coerce_to,x=a.respond_to,k=a.klass,m=a.truthy,u=a.send,c=a.gvars;a.add_stubs("$require $include $coerce_to? $raise $=== $format $to_s $respond_to? $to_str $<=> $== $=~ $new $force_encoding $casecmp $empty? $ljust $ceil $/ $+ $rjust $floor $to_a $each_char $to_proc $coerce_to! $copy_singleton_methods $initialize_clone $initialize_dup $enum_for $size $chomp $[] $to_i $each_line $encoding $class $match $match? $captures $proc $succ $escape $include? $upcase $unicode_normalize".split(" "));
t.$require("corelib/comparable");t.$require("corelib/regexp");(function(l,$super,e){function n(B){function N(Ua){var Xa="",gb,qb=Ua.length;for(gb=0;gb<qb;gb++){var nb=Ua.charAt(gb);if("-"===nb&&0<gb&&gb<qb-1&&!pb){var pb=Ua.charCodeAt(gb-1);nb=Ua.charCodeAt(gb+1);pb>nb&&J.$raise(d(D,"ArgumentError"),'invalid range "'+pb+"-"+nb+'" in string transliteration');for(pb+=1;pb<nb+1;pb++)Xa+=String.fromCharCode(pb);pb=!0;gb++}else pb="\\"===nb,Xa+=nb}return Xa}function sa(Ua,Xa){if(0===Ua.length)return Xa;
var gb="",qb,nb=Ua.length;for(qb=0;qb<nb;qb++){var pb=Ua.charAt(qb);-1!==Xa.indexOf(pb)&&(gb+=pb)}return gb}var Ha,Ca="",Ia="";var Wa=0;for(Ha=B.length;Wa<Ha;Wa++){var hb=G(B[Wa],d(D,"String"),"to_str");var eb="^"===hb.charAt(0)&&1<hb.length;hb=N(eb?hb.slice(1):hb);eb?Ia=sa(Ia,hb):Ca=sa(Ca,hb)}if(0<Ca.length&&0<Ia.length){hb="";Wa=0;for(Ha=Ca.length;Wa<Ha;Wa++)B=Ca.charAt(Wa),-1===Ia.indexOf(B)&&(hb+=B);Ca=hb;Ia=""}return 0<Ca.length?"["+d(D,"Regexp").$escape(Ca)+"]":0<Ia.length?"[^"+d(D,"Regexp").$escape(Ia)+
"]":null}var J=k(l,$super,"String"),D=[J].concat(e),R,ia,ea,ma,b,h,f,q,z,E,F,L,ca,va,Oa,wa,Ba,Ka,oa,S,ta,ja,na,V,Q,Y,pa,za,la,xa,Ea,Fa,Sa,Ra,Na,Qa,lb,W,ya,Da,Va,ib,db,$a,ab,Aa,ua,La,Ta,Ya,Ga,Z,P,aa,T,fa,ka,g,C,M,ba,v,U,qa,Ja,jb,ob,mb,sb,tb,wb,xb,ub,X,Ma,bb;J.$include(d(D,"Comparable"));a.defineProperty(J.$$prototype,"$$is_string",!0);a.defineProperty(J.$$prototype,"$$cast",function(B){var N=this.$$class;return N.$$constructor===String?B:new N.$$constructor(B)});a.def(J,"$__id__",R=function(){return this.toString()},
R.$$arity=0);a.alias(J,"object_id","__id__");a.defs(J,"$try_convert",ia=function(B){return d(D,"Opal")["$coerce_to?"](B,d(D,"String"),"to_str")},ia.$$arity=1);a.defs(J,"$new",ea=function(B){null==B&&(B="");B=G(B,d(D,"String"),"to_str");return new this.$$constructor(B)},ea.$$arity=-1);a.def(J,"$initialize",ma=function(B){return void 0===B?this:this.$raise(d(D,"NotImplementedError"),"Mutable strings are not supported in Opal.")},ma.$$arity=-1);a.def(J,"$%",b=function(B){return m(d(D,"Array")["$==="](B))?
u(this,"format",[this].concat(a.to_a(B))):this.$format(this,B)},b.$$arity=1);a.def(J,"$*",h=function(B){B=G(B,d(D,"Integer"),"to_int");0>B&&this.$raise(d(D,"ArgumentError"),"negative argument");if(0===B)return this.$$cast("");var N="",sa=this.toString();for(268435456<=sa.length*B&&this.$raise(d(D,"RangeError"),"multiply count must not overflow maximum string size");;){1===(B&1)&&(N+=sa);B>>>=1;if(0===B)break;sa+=sa}return this.$$cast(N)},h.$$arity=1);a.def(J,"$+",f=function(B){B=G(B,d(D,"String"),
"to_str");return this+B.$to_s()},f.$$arity=1);a.def(J,"$<=>",q=function(B){if(m(B["$respond_to?"]("to_str")))return B=B.$to_str().$to_s(),this>B?1:this<B?-1:0;B=B["$<=>"](this);return B===A?A:0<B?-1:0>B?1:0},q.$$arity=1);a.def(J,"$==",z=function(B){return B.$$is_string?this.toString()===B.toString():x(B,"$to_str")?B["$=="](this):!1},z.$$arity=1);a.alias(J,"eql?","==");a.alias(J,"===","==");a.def(J,"$=~",E=function(B){B.$$is_string&&this.$raise(d(D,"TypeError"),"type mismatch: String given");return B["$=~"](this)},
E.$$arity=1);a.def(J,"$[]",F=function(B,N){var sa=this.length;if(B.$$is_range){var Ha=B.excl;N=G(B.end,d(D,"Integer"),"to_int");B=G(B.begin,d(D,"Integer"),"to_int");if(Math.abs(B)>sa)return A;0>B&&(B+=sa);0>N&&(N+=sa);Ha||(N+=1);N-=B;0>N&&(N=0);return this.$$cast(this.substr(B,N))}if(B.$$is_string)return null!=N&&this.$raise(d(D,"TypeError")),-1!==this.indexOf(B)?this.$$cast(B):A;if(B.$$is_regexp){sa=this.match(B);if(null===sa)return c["~"]=A;c["~"]=d(D,"MatchData").$new(B,sa);if(null==N)return this.$$cast(sa[0]);
N=G(N,d(D,"Integer"),"to_int");return 0>N&&-N<sa.length?this.$$cast(sa[N+sa.length]):0<=N&&N<sa.length?this.$$cast(sa[N]):A}B=G(B,d(D,"Integer"),"to_int");0>B&&(B+=sa);if(null==N)return B>=sa||0>B?A:this.$$cast(this.substr(B,1));N=G(N,d(D,"Integer"),"to_int");return 0>N||B>sa||0>B?A:this.$$cast(this.substr(B,N))},F.$$arity=-2);a.alias(J,"byteslice","[]");a.def(J,"$b",L=function(){return this.$force_encoding("binary")},L.$$arity=0);a.def(J,"$capitalize",ca=function(){return this.$$cast(this.charAt(0).toUpperCase()+
this.substr(1).toLowerCase())},ca.$$arity=0);a.def(J,"$casecmp",va=function(B){var N=this;if(!m(B["$respond_to?"]("to_str")))return A;B=G(B,d(D,"String"),"to_str").$to_s();var sa=/^[\x00-\x7F]*$/;sa.test(N)&&sa.test(B)&&(N=N.toLowerCase(),B=B.toLowerCase());return N["$<=>"](B)},va.$$arity=1);a.def(J,"$casecmp?",Oa=function(B){B=this.$casecmp(B);return B===A?A:0===B},Oa.$$arity=1);a.def(J,"$center",wa=function(B,N){null==N&&(N=" ");B=G(B,d(D,"Integer"),"to_int");N=G(N,d(D,"String"),"to_str").$to_s();
m(N["$empty?"]())&&this.$raise(d(D,"ArgumentError"),"zero width padding");if(m(B<=this.length))return this;var sa=this.$ljust(y(K(B,this.length),2).$ceil(),N);B=this.$rjust(y(K(B,this.length),2).$floor(),N);return this.$$cast(B+sa.slice(this.length))},wa.$$arity=-2);a.def(J,"$chars",Ba=function(){var B=Ba.$$p,N=B||A;B&&(Ba.$$p=null);B&&(Ba.$$p=null);return m(N)?u(this,"each_char",[],N.$to_proc()):this.$each_char().$to_a()},Ba.$$arity=0);a.def(J,"$chomp",Ka=function(B){null==c["/"]&&(c["/"]=A);null==
B&&(B=c["/"]);if(m(B===A||0===this.length))return this;B=d(D,"Opal")["$coerce_to!"](B,d(D,"String"),"to_str").$to_s();var N;"\n"===B?N=this.replace(/\r?\n?$/,""):""===B?N=this.replace(/(\r?\n)+$/,""):this.length>=B.length&&this.substr(this.length-B.length,B.length)===B&&(N=this.substr(0,this.length-B.length));return null!=N?this.$$cast(N):this},Ka.$$arity=-1);a.def(J,"$chop",oa=function(){var B=this.length;B=1>=B?"":"\n"===this.charAt(B-1)&&"\r"===this.charAt(B-2)?this.substr(0,B-2):this.substr(0,
B-1);return this.$$cast(B)},oa.$$arity=0);a.def(J,"$chr",S=function(){return this.charAt(0)},S.$$arity=0);a.def(J,"$clone",ta=function(){var B=new String(this);B.$copy_singleton_methods(this);B.$initialize_clone(this);return B},ta.$$arity=0);a.def(J,"$dup",ja=function(){var B=new String(this);B.$initialize_dup(this);return B},ja.$$arity=0);a.def(J,"$count",na=function(B){var N=a.slice.call(arguments,0,arguments.length);0===N.length&&this.$raise(d(D,"ArgumentError"),"ArgumentError: wrong number of arguments (0 for 1+)");
N=n(N);return null===N?0:this.length-this.replace(new RegExp(N,"g"),"").length},na.$$arity=-1);a.def(J,"$delete",V=function(B){var N=a.slice.call(arguments,0,arguments.length);0===N.length&&this.$raise(d(D,"ArgumentError"),"ArgumentError: wrong number of arguments (0 for 1+)");N=n(N);return null===N?this:this.$$cast(this.replace(new RegExp(N,"g"),""))},V.$$arity=-1);a.def(J,"$delete_prefix",Q=function(B){B.$$is_string||(B=G(B,d(D,"String"),"to_str"));return this.slice(0,B.length)===B?this.$$cast(this.slice(B.length)):
this},Q.$$arity=1);a.def(J,"$delete_suffix",Y=function(B){B.$$is_string||(B=G(B,d(D,"String"),"to_str"));return this.slice(this.length-B.length)===B?this.$$cast(this.slice(0,this.length-B.length)):this},Y.$$arity=1);a.def(J,"$downcase",pa=function(){return this.$$cast(this.toLowerCase())},pa.$$arity=0);a.def(J,"$each_char",za=function(){var B=za.$$p,N=B||A,sa;B&&(za.$$p=null);B&&(za.$$p=null);if(N===A)return u(this,"enum_for",["each_char"],(sa=function(){return(null==sa.$$s?this:sa.$$s).$size()},
sa.$$s=this,sa.$$arity=0,sa));B=0;for(var Ha=this.length;B<Ha;B++)a.yield1(N,this.charAt(B));return this},za.$$arity=0);a.def(J,"$each_line",la=function(B){var N=la.$$p,sa=N||A;null==c["/"]&&(c["/"]=A);N&&(la.$$p=null);N&&(la.$$p=null);null==B&&(B=c["/"]);if(sa===A)return this.$enum_for("each_line",B);if(B===A)return a.yield1(sa,this),this;B=G(B,d(D,"String"),"to_str");var Ha,Ca;if(0===B.length){B=this.split(/(\n{2,})/);N=0;for(Ha=B.length;N<Ha;N+=2)(B[N]||B[N+1])&&a.yield1(sa,this.$$cast((B[N]||
"")+(B[N+1]||"")));return this}N=this.$chomp(B);Ha=this.length!=N.length;var Ia=N.split(B);N=0;for(Ca=Ia.length;N<Ca;N++)N<Ca-1||Ha?a.yield1(sa,this.$$cast(Ia[N]+B)):a.yield1(sa,this.$$cast(Ia[N]));return this},la.$$arity=-1);a.def(J,"$empty?",xa=function(){return 0===this.length},xa.$$arity=0);a.def(J,"$end_with?",Ea=function(B){var N=a.slice.call(arguments,0,arguments.length);for(var sa=0,Ha=N.length;sa<Ha;sa++){var Ca=G(N[sa],d(D,"String"),"to_str").$to_s();if(this.length>=Ca.length&&this.substr(this.length-
Ca.length,Ca.length)==Ca)return!0}return!1},Ea.$$arity=-1);a.alias(J,"equal?","===");a.def(J,"$gsub",Fa=function(B,N){var sa=Fa.$$p,Ha=sa||A,Ca=this;sa&&(Fa.$$p=null);sa&&(Fa.$$p=null);if(void 0===N&&Ha===A)return Ca.$enum_for("gsub",B);sa="";var Ia=A,Wa=0;B.$$is_regexp?B=a.global_multiline_regexp(B):(B=G(B,d(D,"String"),"to_str"),B=new RegExp(B.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));for(var hb;;){var eb=B.exec(Ca);if(null===eb){c["~"]=A;sa+=Ca.slice(Wa);break}Ia=d(D,"MatchData").$new(B,eb);
if(void 0===N){hb=B.lastIndex;var Ua=Ha(eb[0]);B.lastIndex=hb}else N.$$is_hash?Ua=N["$[]"](eb[0]).$to_s():(N.$$is_string||(N=G(N,d(D,"String"),"to_str")),Ua=N.replace(/([\\]+)([0-9+&`'])/g,function(Xa,gb,qb){if(0===gb.length%2)return Xa;switch(qb){case "+":for(Xa=eb.length-1;0<Xa;Xa--)if(void 0!==eb[Xa])return gb.slice(1)+eb[Xa];return"";case "&":return gb.slice(1)+eb[0];case "`":return gb.slice(1)+Ca.slice(0,eb.index);case "'":return gb.slice(1)+Ca.slice(eb.index+eb[0].length);default:return gb.slice(1)+
(eb[qb]||"")}}).replace(/\\\\/g,"\\"));B.lastIndex===eb.index?(sa+=Ca.slice(Wa,eb.index)+Ua+(Ca[eb.index]||""),B.lastIndex+=1):sa+=Ca.slice(Wa,eb.index)+Ua;Wa=B.lastIndex}c["~"]=Ia;return Ca.$$cast(sa)},Fa.$$arity=-2);a.def(J,"$hash",Sa=function(){return this.toString()},Sa.$$arity=0);a.def(J,"$hex",Ra=function(){return this.$to_i(16)},Ra.$$arity=0);a.def(J,"$include?",Na=function(B){B.$$is_string||(B=G(B,d(D,"String"),"to_str"));return-1!==this.indexOf(B)},Na.$$arity=1);a.def(J,"$index",Qa=function(B,
N){var sa;if(void 0===N)N=0;else if(N=G(N,d(D,"Integer"),"to_int"),0>N&&(N+=this.length,0>N))return A;if(B.$$is_regexp)for(sa=a.global_multiline_regexp(B);;){B=sa.exec(this);if(null===B){c["~"]=A;N=-1;break}if(B.index>=N){c["~"]=d(D,"MatchData").$new(sa,B);N=B.index;break}sa.lastIndex=B.index+1}else B=G(B,d(D,"String"),"to_str"),N=0===B.length&&N>this.length?-1:this.indexOf(B,N);return-1===N?A:N},Qa.$$arity=-2);a.def(J,"$inspect",lb=function(){var B={"\u0007":"\\a","\u001b":"\\e","\b":"\\b","\t":"\\t",
"\n":"\\n","\f":"\\f","\r":"\\r","\x0B":"\\v",'"':'\\"',"\\":"\\\\"};return'"'+this.replace(/[\\"\x00-\x1f\u007F-\u009F\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,function(N){return B[N]||"\\u"+("0000"+N.charCodeAt(0).toString(16).toUpperCase()).slice(-4)}).replace(/#[\$@\{]/g,"\\$&")+'"'},lb.$$arity=0);a.def(J,"$intern",W=function(){return this.toString()},W.$$arity=0);a.def(J,"$lines",ya=function(B){var N=ya.$$p,sa=N||A;null==c["/"]&&(c["/"]=A);N&&
(ya.$$p=null);N&&(ya.$$p=null);null==B&&(B=c["/"]);B=u(this,"each_line",[B],sa.$to_proc());return m(sa)?this:B.$to_a()},ya.$$arity=-1);a.def(J,"$length",Da=function(){return this.length},Da.$$arity=0);a.def(J,"$ljust",Va=function(B,N){null==N&&(N=" ");B=G(B,d(D,"Integer"),"to_int");N=G(N,d(D,"String"),"to_str").$to_s();m(N["$empty?"]())&&this.$raise(d(D,"ArgumentError"),"zero width padding");if(m(B<=this.length))return this;var sa=-1,Ha="";for(B-=this.length;++sa<B;)Ha+=N;return this.$$cast(this+
Ha.slice(0,B))},Va.$$arity=-2);a.def(J,"$lstrip",ib=function(){return this.replace(/^\s*/,"")},ib.$$arity=0);a.def(J,"$ascii_only?",db=function(){return this.$encoding()["$=="](p(d(D,"Encoding"),"UTF_16BE"))?!1:/^[\x00-\x7F]*$/.test(this)},db.$$arity=0);a.def(J,"$match",$a=function(B,N){var sa=$a.$$p,Ha=sa||A,Ca=A;sa&&($a.$$p=null);sa&&($a.$$p=null);m(m(Ca=d(D,"String")["$==="](B))?Ca:B["$respond_to?"]("to_str"))&&(B=d(D,"Regexp").$new(B.$to_str()));m(d(D,"Regexp")["$==="](B))||this.$raise(d(D,"TypeError"),
"wrong argument type "+B.$class()+" (expected Regexp)");return u(B,"match",[this,N],Ha.$to_proc())},$a.$$arity=-2);a.def(J,"$match?",ab=function(B,N){var sa=A;m(m(sa=d(D,"String")["$==="](B))?sa:B["$respond_to?"]("to_str"))&&(B=d(D,"Regexp").$new(B.$to_str()));m(d(D,"Regexp")["$==="](B))||this.$raise(d(D,"TypeError"),"wrong argument type "+B.$class()+" (expected Regexp)");return B["$match?"](this,N)},ab.$$arity=-2);a.def(J,"$next",Aa=function(){var B=this.length;if(0===B)return this.$$cast("");for(var N=
this,sa=this.search(/[a-zA-Z0-9]/),Ha,Ca;B--;){Ca=this.charCodeAt(B);if(48<=Ca&&57>=Ca||65<=Ca&&90>=Ca||97<=Ca&&122>=Ca)switch(Ca){case 57:Ha=!0;Ca=48;break;case 90:Ha=!0;Ca=65;break;case 122:Ha=!0;Ca=97;break;default:Ha=!1,Ca+=1}else-1===sa?255===Ca?(Ha=!0,Ca=0):(Ha=!1,Ca+=1):Ha=!0;N=N.slice(0,B)+String.fromCharCode(Ca)+N.slice(B+1);if(Ha&&(0===B||B===sa)){switch(Ca){case 65:break;case 97:break;default:Ca+=1}N=0===B?String.fromCharCode(Ca)+N:N.slice(0,B)+String.fromCharCode(Ca)+N.slice(B);Ha=!1}if(!Ha)break}return this.$$cast(N)},
Aa.$$arity=0);a.def(J,"$oct",ua=function(){var B=this;var N=8;if(/^\s*_/.test(B))return 0;B=B.replace(/^(\s*[+-]?)(0[bodx]?)(.+)$/i,function(sa,Ha,Ca,Ia){switch(Ia.charAt(0)){case "+":case "-":return sa;case "0":if("x"===Ia.charAt(1)&&"0x"===Ca)return sa}switch(Ca){case "0b":N=2;break;case "0":case "0o":N=8;break;case "0d":N=10;break;case "0x":N=16}return Ha+Ia});B=parseInt(B.replace(/_(?!_)/g,""),N);return isNaN(B)?0:B},ua.$$arity=0);a.def(J,"$ord",La=function(){return this.charCodeAt(0)},La.$$arity=
0);a.def(J,"$partition",Ta=function(B){if(B.$$is_regexp){var N=B.exec(this);null===N?N=-1:(d(D,"MatchData").$new(B,N),B=N[0],N=N.index)}else B=G(B,d(D,"String"),"to_str"),N=this.indexOf(B);return-1===N?[this,"",""]:[this.slice(0,N),this.slice(N,N+B.length),this.slice(N+B.length)]},Ta.$$arity=1);a.def(J,"$reverse",Ya=function(){return this.split("").reverse().join("")},Ya.$$arity=0);a.def(J,"$rindex",Ga=function(B,N){if(void 0===N)N=this.length;else if(N=G(N,d(D,"Integer"),"to_int"),0>N&&(N+=this.length,
0>N))return A;if(B.$$is_regexp){var sa=null;for(B=a.global_multiline_regexp(B);;){var Ha=B.exec(this);if(null===Ha||Ha.index>N)break;sa=Ha;B.lastIndex=sa.index+1}null===sa?(c["~"]=A,N=-1):(d(D,"MatchData").$new(B,sa),N=sa.index)}else B=G(B,d(D,"String"),"to_str"),N=this.lastIndexOf(B,N);return-1===N?A:N},Ga.$$arity=-2);a.def(J,"$rjust",Z=function(B,N){null==N&&(N=" ");B=G(B,d(D,"Integer"),"to_int");N=G(N,d(D,"String"),"to_str").$to_s();m(N["$empty?"]())&&this.$raise(d(D,"ArgumentError"),"zero width padding");
if(m(B<=this.length))return this;B=Math.floor(B-this.length);var sa=Array(Math.floor(B/N.length)+1).join(N);return this.$$cast(sa+N.slice(0,B-sa.length)+this)},Z.$$arity=-2);a.def(J,"$rpartition",P=function(B){var N;if(B.$$is_regexp){var sa=null;for(N=a.global_multiline_regexp(B);;){var Ha=N.exec(this);if(null===Ha)break;sa=Ha;N.lastIndex=sa.index+1}null===sa?sa=-1:(d(D,"MatchData").$new(N,sa),B=sa[0],sa=sa.index)}else B=G(B,d(D,"String"),"to_str"),sa=this.lastIndexOf(B);return-1===sa?["","",this]:
[this.slice(0,sa),this.slice(sa,sa+B.length),this.slice(sa+B.length)]},P.$$arity=1);a.def(J,"$rstrip",aa=function(){return this.replace(/[\s\u0000]*$/,"")},aa.$$arity=0);a.def(J,"$scan",T=function(B){var N=T.$$p,sa=N||A;N&&(T.$$p=null);N&&(T.$$p=null);N=[];var Ha=A,Ca;B.$$is_regexp?B=a.global_multiline_regexp(B):(B=G(B,d(D,"String"),"to_str"),B=new RegExp(B.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));for(;null!=(Ca=B.exec(this));)Ha=d(D,"MatchData").$new(B,Ca),sa===A?1==Ca.length?N.push(Ca[0]):N.push(Ha.$captures()):
1==Ca.length?sa(Ca[0]):sa.call(this,Ha.$captures()),B.lastIndex===Ca.index&&(B.lastIndex+=1);c["~"]=Ha;return sa!==A?this:N},T.$$arity=1);a.alias(J,"size","length");a.alias(J,"slice","[]");a.def(J,"$split",fa=function(B,N){function sa(){for(hb=0;hb<Ia.length;hb++)Ia[hb]=Ha.$$cast(Ia[hb])}var Ha=this,Ca=A;null==c[";"]&&(c[";"]=A);if(0===Ha.length)return[];if(void 0===N)N=0;else if(N=d(D,"Opal")["$coerce_to!"](N,d(D,"Integer"),"to_int"),1===N)return[Ha];if(void 0===B||B===A)B=m(Ca=c[";"])?Ca:" ";var Ia=
[];Ca=Ha.toString();var Wa=0,hb;B.$$is_regexp?B=a.global_multiline_regexp(B):(B=G(B,d(D,"String"),"to_str").$to_s()," "===B?(B=/\s+/gm,Ca=Ca.replace(/^\s+/,"")):B=new RegExp(B.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));Ia=Ca.split(B);if(1===Ia.length&&Ia[0]===Ca)return[Ha.$$cast(Ia[0])];for(;-1!==(hb=Ia.indexOf(void 0));)Ia.splice(hb,1);if(0===N){for(;""===Ia[Ia.length-1];)--Ia.length;sa();return Ia}var eb=B.exec(Ca);if(0>N){if(null!==eb&&""===eb[0]&&-1===B.source.indexOf("(?="))for(hb=0,B=eb.length;hb<
B;hb++)Ia.push("");sa();return Ia}if(null!==eb&&""===eb[0])return Ia.splice(N-1,Ia.length-1,Ia.slice(N-1).join("")),sa(),Ia;if(N>=Ia.length)return sa(),Ia;for(hb=0;null!==eb;){hb++;Wa=B.lastIndex;if(hb+1===N)break;eb=B.exec(Ca)}Ia.splice(N-1,Ia.length-1,Ca.slice(Wa));sa();return Ia},fa.$$arity=-1);a.def(J,"$squeeze",ka=function(B){var N=a.slice.call(arguments,0,arguments.length);if(0===N.length)return this.$$cast(this.replace(/(.)\1+/g,"$1"));N=n(N);return null===N?this:this.$$cast(this.replace(new RegExp("("+
N+")\\1+","g"),"$1"))},ka.$$arity=-1);a.def(J,"$start_with?",g=function(B){var N=a.slice.call(arguments,0,arguments.length);for(var sa=0,Ha=N.length;sa<Ha;sa++){var Ca=G(N[sa],d(D,"String"),"to_str").$to_s();if(0===this.indexOf(Ca))return!0}return!1},g.$$arity=-1);a.def(J,"$strip",C=function(){return this.replace(/^\s*/,"").replace(/[\s\u0000]*$/,"")},C.$$arity=0);a.def(J,"$sub",M=function(B,N){var sa=M.$$p,Ha=sa||A,Ca=this;sa&&(M.$$p=null);sa&&(M.$$p=null);B.$$is_regexp||(B=G(B,d(D,"String"),"to_str"),
B=new RegExp(B.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")));var Ia=B.exec(Ca);null===Ia?(c["~"]=A,B=Ca.toString()):(d(D,"MatchData").$new(B,Ia),void 0===N?(Ha===A&&Ca.$raise(d(D,"ArgumentError"),"wrong number of arguments (1 for 2)"),B=Ca.slice(0,Ia.index)+Ha(Ia[0])+Ca.slice(Ia.index+Ia[0].length)):N.$$is_hash?B=Ca.slice(0,Ia.index)+N["$[]"](Ia[0]).$to_s()+Ca.slice(Ia.index+Ia[0].length):(N=G(N,d(D,"String"),"to_str"),N=N.replace(/([\\]+)([0-9+&`'])/g,function(Wa,hb,eb){if(0===hb.length%2)return Wa;switch(eb){case "+":for(Wa=
Ia.length-1;0<Wa;Wa--)if(void 0!==Ia[Wa])return hb.slice(1)+Ia[Wa];return"";case "&":return hb.slice(1)+Ia[0];case "`":return hb.slice(1)+Ca.slice(0,Ia.index);case "'":return hb.slice(1)+Ca.slice(Ia.index+Ia[0].length);default:return hb.slice(1)+(Ia[eb]||"")}}).replace(/\\\\/g,"\\"),B=Ca.slice(0,Ia.index)+N+Ca.slice(Ia.index+Ia[0].length)));return Ca.$$cast(B)},M.$$arity=-2);a.alias(J,"succ","next");a.def(J,"$sum",ba=function(B){null==B&&(B=16);B=G(B,d(D,"Integer"),"to_int");for(var N=0,sa=this.length,
Ha=0;Ha<sa;Ha++)N+=this.charCodeAt(Ha);return 0>=B?N:N&Math.pow(2,B)-1},ba.$$arity=-1);a.def(J,"$swapcase",v=function(){var B=this.replace(/([a-z]+)|([A-Z]+)/g,function(N,sa){return sa?N.toUpperCase():N.toLowerCase()});return this.constructor===String?B:this.$class().$new(B)},v.$$arity=0);a.def(J,"$to_f",U=function(){if("_"===this.charAt(0))return 0;var B=parseFloat(this.replace(/_/g,""));return isNaN(B)||Infinity==B||-Infinity==B?0:B},U.$$arity=0);a.def(J,"$to_i",qa=function(B){null==B&&(B=10);var N=
this.toLowerCase(),sa=G(B,d(D,"Integer"),"to_int");(1===sa||0>sa||36<sa)&&this.$raise(d(D,"ArgumentError"),"invalid radix "+sa);if(/^\s*_/.test(N))return 0;N=N.replace(/^(\s*[+-]?)(0[bodx]?)(.+)$/,function(Ha,Ca,Ia,Wa){switch(Wa.charAt(0)){case "+":case "-":return Ha;case "0":if("x"===Wa.charAt(1)&&"0x"===Ia&&(0===sa||16===sa))return Ha}switch(Ia){case "0b":if(0===sa||2===sa)return sa=2,Ca+Wa;break;case "0":case "0o":if(0===sa||8===sa)return sa=8,Ca+Wa;break;case "0d":if(0===sa||10===sa)return sa=
10,Ca+Wa;break;case "0x":if(0===sa||16===sa)return sa=16,Ca+Wa}return Ha});B=parseInt(N.replace(/_(?!_)/g,""),sa);return isNaN(B)?0:B},qa.$$arity=-1);a.def(J,"$to_proc",Ja=function(){var B,N=A;Ja.$$p&&(Ja.$$p=null);N=K("$",this.valueOf());return u(this,"proc",[],(B=function(sa){var Ha=null==B.$$s?this:B.$$s,Ca=B.$$p,Ia=Ca||A;Ca&&(B.$$p=null);Ca=a.slice.call(arguments,0,arguments.length);0===Ca.length&&Ha.$raise(d(D,"ArgumentError"),"no receiver given");Ha=Ca[0];null==Ha&&(Ha=A);var Wa=Ha[N];if(!Wa)return Ha.$method_missing.apply(Ha,
Ca);"function"===typeof Ia&&(Wa.$$p=Ia);return 1===Ca.length?Wa.call(Ha):Wa.apply(Ha,Ca.slice(1))},B.$$s=this,B.$$arity=-1,B))},Ja.$$arity=0);a.def(J,"$to_s",jb=function(){return this.toString()},jb.$$arity=0);a.alias(J,"to_str","to_s");a.alias(J,"to_sym","intern");a.def(J,"$tr",ob=function(B,N){B=G(B,d(D,"String"),"to_str").$to_s();N=G(N,d(D,"String"),"to_str").$to_s();if(0==B.length||B===N)return this;var sa={};var Ha=B.split("");var Ca=Ha.length,Ia=N.split(""),Wa=Ia.length;B=!1;var hb=null;"^"===
Ha[0]&&1<Ha.length&&(B=!0,Ha.shift(),hb=Ia[Wa-1],--Ca);var eb=[];var Ua=null;var Xa=!1;for(N=0;N<Ca;N++){var gb=Ha[N];if(null==Ua)Ua=gb,eb.push(gb);else if("-"===gb)"-"===Ua?(eb.push("-"),eb.push("-")):N==Ca-1?eb.push("-"):Xa=!0;else if(Xa){Ua=Ua.charCodeAt(0);Xa=gb.charCodeAt(0);Ua>Xa&&this.$raise(d(D,"ArgumentError"),'invalid range "'+String.fromCharCode(Ua)+"-"+String.fromCharCode(Xa)+'" in string transliteration');for(Ua+=1;Ua<Xa;Ua++)eb.push(String.fromCharCode(Ua));eb.push(gb);Ua=Xa=null}else eb.push(gb)}Ha=
eb;Ca=Ha.length;if(B)for(N=0;N<Ca;N++)sa[Ha[N]]=!0;else{if(0<Wa){eb=[];Ua=null;Xa=!1;for(N=0;N<Wa;N++)if(gb=Ia[N],null==Ua)Ua=gb,eb.push(gb);else if("-"===gb)"-"===Ua?(eb.push("-"),eb.push("-")):N==Wa-1?eb.push("-"):Xa=!0;else if(Xa){Ua=Ua.charCodeAt(0);Xa=gb.charCodeAt(0);Ua>Xa&&this.$raise(d(D,"ArgumentError"),'invalid range "'+String.fromCharCode(Ua)+"-"+String.fromCharCode(Xa)+'" in string transliteration');for(Ua+=1;Ua<Xa;Ua++)eb.push(String.fromCharCode(Ua));eb.push(gb);Ua=Xa=null}else eb.push(gb);
Ia=eb;Wa=Ia.length}gb=Ca-Wa;if(0<gb)for(Wa=0<Wa?Ia[Wa-1]:"",N=0;N<gb;N++)Ia.push(Wa);for(N=0;N<Ca;N++)sa[Ha[N]]=Ia[N]}Ca="";N=0;for(Ha=this.length;N<Ha;N++)gb=this.charAt(N),Ia=sa[gb],Ca=B?Ca+(null==Ia?hb:gb):Ca+(null!=Ia?Ia:gb);return this.$$cast(Ca)},ob.$$arity=2);a.def(J,"$tr_s",mb=function(B,N){B=G(B,d(D,"String"),"to_str").$to_s();N=G(N,d(D,"String"),"to_str").$to_s();if(0==B.length)return this;var sa={};var Ha=B.split("");var Ca=Ha.length,Ia=N.split(""),Wa=Ia.length;B=!1;var hb=null;"^"===Ha[0]&&
1<Ha.length&&(B=!0,Ha.shift(),hb=Ia[Wa-1],--Ca);var eb=[];var Ua=null;var Xa=!1;for(N=0;N<Ca;N++){var gb=Ha[N];if(null==Ua)Ua=gb,eb.push(gb);else if("-"===gb)"-"===Ua?(eb.push("-"),eb.push("-")):N==Ca-1?eb.push("-"):Xa=!0;else if(Xa){Ua=Ua.charCodeAt(0);Xa=gb.charCodeAt(0);Ua>Xa&&this.$raise(d(D,"ArgumentError"),'invalid range "'+String.fromCharCode(Ua)+"-"+String.fromCharCode(Xa)+'" in string transliteration');for(Ua+=1;Ua<Xa;Ua++)eb.push(String.fromCharCode(Ua));eb.push(gb);Ua=Xa=null}else eb.push(gb)}Ha=
eb;Ca=Ha.length;if(B)for(N=0;N<Ca;N++)sa[Ha[N]]=!0;else{if(0<Wa){eb=[];Xa=!1;for(N=0;N<Wa;N++)if(gb=Ia[N],null==Ua)Ua=gb,eb.push(gb);else if("-"===gb)N==Wa-1?eb.push("-"):Xa=!0;else if(Xa){Ua=Ua.charCodeAt(0);Xa=gb.charCodeAt(0);Ua>Xa&&this.$raise(d(D,"ArgumentError"),'invalid range "'+String.fromCharCode(Ua)+"-"+String.fromCharCode(Xa)+'" in string transliteration');for(Ua+=1;Ua<Xa;Ua++)eb.push(String.fromCharCode(Ua));eb.push(gb);Ua=Xa=null}else eb.push(gb);Ia=eb;Wa=Ia.length}gb=Ca-Wa;if(0<gb)for(Wa=
0<Wa?Ia[Wa-1]:"",N=0;N<gb;N++)Ia.push(Wa);for(N=0;N<Ca;N++)sa[Ha[N]]=Ia[N]}Ca="";Ia=null;N=0;for(Ha=this.length;N<Ha;N++)if(gb=this.charAt(N),Wa=sa[gb],B)null==Wa?null==Ia&&(Ca+=hb,Ia=!0):(Ca+=gb,Ia=null);else if(null!=Wa){if(null==Ia||Ia!==Wa)Ca+=Wa,Ia=Wa}else Ca+=gb,Ia=null;return this.$$cast(Ca)},mb.$$arity=2);a.def(J,"$upcase",sb=function(){return this.$$cast(this.toUpperCase())},sb.$$arity=0);a.def(J,"$upto",tb=function(B,N){var sa=tb.$$p,Ha=sa||A;sa&&(tb.$$p=null);sa&&(tb.$$p=null);null==N&&
(N=!1);if(Ha===A)return this.$enum_for("upto",B,N);sa=this.toString();B=G(B,d(D,"String"),"to_str");if(1===sa.length&&1===B.length)for(sa=sa.charCodeAt(0),B=B.charCodeAt(0);sa<=B&&(!N||sa!==B);)Ha(String.fromCharCode(sa)),sa+=1;else if(parseInt(sa,10).toString()===sa&&parseInt(B,10).toString()===B)for(sa=parseInt(sa,10),B=parseInt(B,10);sa<=B&&(!N||sa!==B);)Ha(sa.toString()),sa+=1;else for(;sa.length<=B.length&&sa<=B&&(!N||sa!==B);)Ha(sa),sa=sa.$succ();return this},tb.$$arity=-2);a.def(J,"$instance_variables",
wb=function(){return[]},wb.$$arity=0);a.defs(J,"$_load",xb=function(B){var N=a.slice.call(arguments,0,arguments.length);return u(this,"new",a.to_a(N))},xb.$$arity=-1);a.def(J,"$unicode_normalize",ub=function(B){null==B&&(B="nfc");m(["nfc","nfd","nfkc","nfkd"]["$include?"](B))||this.$raise(d(D,"ArgumentError"),"Invalid normalization form "+B);return this.normalize(B.$upcase())},ub.$$arity=-1);a.def(J,"$unicode_normalized?",X=function(B){null==B&&(B="nfc");return this.$unicode_normalize(B)["$=="](this)},
X.$$arity=-1);a.def(J,"$unpack",Ma=function(){return this.$raise("To use String#unpack, you must first require 'corelib/string/unpack'.")},Ma.$$arity=1);return(a.def(J,"$unpack1",bb=function(){return this.$raise("To use String#unpack1, you must first require 'corelib/string/unpack'.")},bb.$$arity=1),A)&&"unpack1"})(w[0],String,w);return a.const_set(w[0],"Symbol",d(w,"String"))};
Opal.modules["corelib/enumerable"]=function(a){function y(e,n){return"number"===typeof e&&"number"===typeof n?e>n:e["$>"](n)}function K(e,n){return"number"===typeof e&&"number"===typeof n?e+n:e["$+"](n)}function t(e,n){return"number"===typeof e&&"number"===typeof n?e-n:e["$-"](n)}function w(e,n){return"number"===typeof e&&"number"===typeof n?e<=n:e["$<="](n)}var A=[],p=a.nil,d=a.$$$,G=a.$$,x=a.falsy,k=a.truthy,m=a.coerce_to,u=a.module,c=a.send,l=a.hash2,H=a.lambda;a.add_stubs("$each $public_send $destructure $to_enum $enumerator_size $new $yield $raise $slice_when $! $enum_for $flatten $map $warn $proc $== $nil? $respond_to? $coerce_to! $> $* $try_convert $< $+ $- $ceil $/ $size $select $to_proc $__send__ $length $<= $[] $push $<< $[]= $=== $inspect $<=> $first $reverse $sort $take $sort_by $compare $call $dup $to_a $sort! $map! $key? $values $transform_values $group_by $to_h $coerce_to? $class $zip".split(" "));
return function(e,n){function J(Z){0===Z.length&&(Z=[p]);1<Z.length&&(Z=[Z]);return Z}e=u(e,"Enumerable");var D=[e].concat(n),R,ia,ea,ma,b,h,f,q,z,E,F,L,ca,va,Oa,wa,Ba,Ka,oa,S,ta,ja,na,V,Q,Y,pa,za,la,xa,Ea,Fa,Sa,Ra,Na,Qa,lb,W,ya,Da,Va,ib,db,$a,ab,Aa,ua,La,Ta,Ya,Ga;a.def(e,"$all?",R=function(Z){try{var P=R.$$p,aa=P||p,T,fa,ka;P&&(R.$$p=null);P&&(R.$$p=null);k(void 0!==Z)?c(this,"each",[],(T=function(g){var C=a.slice.call(arguments,0,arguments.length);C=J(C);if(k(c(Z,"public_send",["==="].concat(a.to_a(C)))))return p;
a.ret(!1)},T.$$s=this,T.$$arity=-1,T)):aa!==p?c(this,"each",[],(fa=function(g){var C=a.slice.call(arguments,0,arguments.length);if(k(a.yieldX(aa,a.to_a(C))))return p;a.ret(!1)},fa.$$s=this,fa.$$arity=-1,fa)):c(this,"each",[],(ka=function(g){var C=a.slice.call(arguments,0,arguments.length);if(k(G(D,"Opal").$destructure(C)))return p;a.ret(!1)},ka.$$s=this,ka.$$arity=-1,ka));return!0}catch(g){if(g===a.returner)return g.$v;throw g;}},R.$$arity=-1);a.def(e,"$any?",ia=function(Z){try{var P=ia.$$p,aa=P||
p,T,fa,ka;P&&(ia.$$p=null);P&&(ia.$$p=null);k(void 0!==Z)?c(this,"each",[],(T=function(g){var C=a.slice.call(arguments,0,arguments.length);C=J(C);if(k(c(Z,"public_send",["==="].concat(a.to_a(C)))))a.ret(!0);else return p},T.$$s=this,T.$$arity=-1,T)):aa!==p?c(this,"each",[],(fa=function(g){var C=a.slice.call(arguments,0,arguments.length);if(k(a.yieldX(aa,a.to_a(C))))a.ret(!0);else return p},fa.$$s=this,fa.$$arity=-1,fa)):c(this,"each",[],(ka=function(g){var C=a.slice.call(arguments,0,arguments.length);
if(k(G(D,"Opal").$destructure(C)))a.ret(!0);else return p},ka.$$s=this,ka.$$arity=-1,ka));return!1}catch(g){if(g===a.returner)return g.$v;throw g;}},ia.$$arity=-1);a.def(e,"$chunk",ea=function(){var Z=ea.$$p,P=Z||p,aa,T;Z&&(ea.$$p=null);Z&&(ea.$$p=null);return P===p?c(this,"to_enum",["chunk"],(aa=function(){return(null==aa.$$s?this:aa.$$s).$enumerator_size()},aa.$$s=this,aa.$$arity=0,aa)):c(d("::","Enumerator"),"new",[],(T=function(fa){function ka(){0<M.length&&fa.$yield(C,M)}var g=null==T.$$s?this:
T.$$s;null==fa&&(fa=p);var C=p,M=[];g.$each.$$p=function(ba){var v=a.yield1(P,ba);v===p?(ka(),M=[],C=p):(C===p||C===v?M.push(ba):(ka(),M=[ba]),C=v)};g.$each();ka()},T.$$s=this,T.$$arity=1,T))},ea.$$arity=0);a.def(e,"$chunk_while",ma=function(){var Z=ma.$$p,P=Z||p,aa;Z&&(ma.$$p=null);Z&&(ma.$$p=null);P===p&&this.$raise(G(D,"ArgumentError"),"no block given");return c(this,"slice_when",[],(aa=function(T,fa){null==T&&(T=p);null==fa&&(fa=p);return a.yieldX(P,[T,fa])["$!"]()},aa.$$s=this,aa.$$arity=2,aa))},
ma.$$arity=0);a.def(e,"$collect",b=function(){var Z=b.$$p,P=Z||p,aa;Z&&(b.$$p=null);Z&&(b.$$p=null);if(P===p)return c(this,"enum_for",["collect"],(aa=function(){return(null==aa.$$s?this:aa.$$s).$enumerator_size()},aa.$$s=this,aa.$$arity=0,aa));var T=[];this.$each.$$p=function(){var fa=a.yieldX(P,arguments);T.push(fa)};this.$each();return T},b.$$arity=0);a.def(e,"$collect_concat",h=function(){var Z=h.$$p,P=Z||p,aa,T;Z&&(h.$$p=null);Z&&(h.$$p=null);return P===p?c(this,"enum_for",["collect_concat"],
(aa=function(){return(null==aa.$$s?this:aa.$$s).$enumerator_size()},aa.$$s=this,aa.$$arity=0,aa)):c(this,"map",[],(T=function(fa){null==fa&&(fa=p);return a.yield1(P,fa)},T.$$s=this,T.$$arity=1,T)).$flatten(1)},h.$$arity=0);a.def(e,"$count",f=function(Z){var P=f.$$p,aa=P||p,T,fa,ka,g=p;P&&(f.$$p=null);P&&(f.$$p=null);g=0;null!=Z&&aa!==p&&this.$warn("warning: given block not used");k(null!=Z)?aa=c(this,"proc",[],(T=function(C){var M=a.slice.call(arguments,0,arguments.length);return G(D,"Opal").$destructure(M)["$=="](Z)},
T.$$s=this,T.$$arity=-1,T)):k(aa["$nil?"]())&&(aa=c(this,"proc",[],(fa=function(){return!0},fa.$$s=this,fa.$$arity=0,fa)));c(this,"each",[],(ka=function(C){var M=a.slice.call(arguments,0,arguments.length);return k(a.yieldX(aa,M))?g++:p},ka.$$s=this,ka.$$arity=-1,ka));return g},f.$$arity=-1);a.def(e,"$cycle",q=function(Z){var P=q.$$p,aa=P||p,T;P&&(q.$$p=null);P&&(q.$$p=null);null==Z&&(Z=p);if(aa===p)return c(this,"enum_for",["cycle",Z],(T=function(){var g=null==T.$$s?this:T.$$s;if(k(Z["$nil?"]()))return k(g["$respond_to?"]("size"))?
d(G(D,"Float"),"INFINITY"):p;Z=G(D,"Opal")["$coerce_to!"](Z,G(D,"Integer"),"to_int");return k(y(Z,0))?(g=g.$enumerator_size(),"number"===typeof g&&"number"===typeof Z?g*Z:g["$*"](Z)):0},T.$$s=this,T.$$arity=0,T));if(!k(Z["$nil?"]())&&(Z=G(D,"Opal")["$coerce_to!"](Z,G(D,"Integer"),"to_int"),k(0>=Z)))return p;var fa=[],ka;this.$each.$$p=function(){var g=G(D,"Opal").$destructure(arguments);a.yield1(aa,g);fa.push(g)};this.$each();if(0===fa.length)return p;if(Z===p)for(;;)for(P=0,ka=fa.length;P<ka;P++)a.yield1(aa,
fa[P]);else for(;1<Z;){P=0;for(ka=fa.length;P<ka;P++)a.yield1(aa,fa[P]);Z--}},q.$$arity=-1);a.def(e,"$detect",z=function(Z){try{var P=z.$$p,aa=P||p,T;P&&(z.$$p=null);P&&(z.$$p=null);if(aa===p)return this.$enum_for("detect",Z);c(this,"each",[],(T=function(fa){var ka=a.slice.call(arguments,0,arguments.length);ka=G(D,"Opal").$destructure(ka);if(k(a.yield1(aa,ka)))a.ret(ka);else return p},T.$$s=this,T.$$arity=-1,T));return void 0!==Z?"function"===typeof Z?Z():Z:p}catch(fa){if(fa===a.returner)return fa.$v;
throw fa;}},z.$$arity=-1);a.def(e,"$drop",E=function(Z){Z=m(Z,G(D,"Integer"),"to_int");k(0>Z)&&this.$raise(G(D,"ArgumentError"),"attempt to drop negative size");var P=[],aa=0;this.$each.$$p=function(){Z<=aa&&P.push(G(D,"Opal").$destructure(arguments));aa++};this.$each();return P},E.$$arity=1);a.def(e,"$drop_while",F=function(){var Z=F.$$p,P=Z||p;Z&&(F.$$p=null);Z&&(F.$$p=null);if(P===p)return this.$enum_for("drop_while");var aa=[],T=!0;this.$each.$$p=function(){var fa=G(D,"Opal").$destructure(arguments);
if(T){var ka=a.yield1(P,fa);x(ka)&&(T=!1,aa.push(fa))}else aa.push(fa)};this.$each();return aa},F.$$arity=0);a.def(e,"$each_cons",L=function(Z){var P=L.$$p,aa=P||p,T;P&&(L.$$p=null);P&&(L.$$p=null);k(1!=arguments.length)&&this.$raise(G(D,"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 1)");Z=G(D,"Opal").$try_convert(Z,G(D,"Integer"),"to_int");k(0>=Z)&&this.$raise(G(D,"ArgumentError"),"invalid size");if(aa===p)return c(this,"enum_for",["each_cons",Z],(T=function(){var ka=p;var g=
(null==T.$$s?this:T.$$s).$enumerator_size();return k(g["$nil?"]())?p:k(k(ka=g["$=="](0))?ka:"number"===typeof g&&"number"===typeof Z?g<Z:g["$<"](Z))?0:K(t(g,Z),1)},T.$$s=this,T.$$arity=0,T));var fa=[];this.$each.$$p=function(){var ka=G(D,"Opal").$destructure(arguments);fa.push(ka);fa.length>Z&&fa.shift();fa.length==Z&&a.yield1(aa,fa.slice(0,Z))};this.$each();return p},L.$$arity=1);a.def(e,"$each_entry",ca=function(Z){var P=ca.$$p,aa=P||p,T;P&&(ca.$$p=null);P&&(ca.$$p=null);P=a.slice.call(arguments,
0,arguments.length);if(aa===p)return c(this,"to_enum",["each_entry"].concat(a.to_a(P)),(T=function(){return(null==T.$$s?this:T.$$s).$enumerator_size()},T.$$s=this,T.$$arity=0,T));this.$each.$$p=function(){var fa=G(D,"Opal").$destructure(arguments);a.yield1(aa,fa)};this.$each.apply(this,P);return this},ca.$$arity=-1);a.def(e,"$each_slice",va=function(Z){var P=va.$$p,aa=P||p,T;P&&(va.$$p=null);P&&(va.$$p=null);Z=m(Z,G(D,"Integer"),"to_int");k(0>=Z)&&this.$raise(G(D,"ArgumentError"),"invalid slice size");
if(aa===p)return c(this,"enum_for",["each_slice",Z],(T=function(){var ka=null==T.$$s?this:T.$$s;return k(ka["$respond_to?"]("size"))?(ka=ka.$size(),("number"===typeof ka&&"number"===typeof Z?ka/Z:ka["$/"](Z)).$ceil()):p},T.$$s=this,T.$$arity=0,T));var fa=[];this.$each.$$p=function(){var ka=G(D,"Opal").$destructure(arguments);fa.push(ka);fa.length===Z&&(a.yield1(aa,fa),fa=[])};this.$each();0<fa.length&&a.yield1(aa,fa);return p},va.$$arity=1);a.def(e,"$each_with_index",Oa=function(Z){var P=Oa.$$p,aa=
P||p,T;P&&(Oa.$$p=null);P&&(Oa.$$p=null);P=a.slice.call(arguments,0,arguments.length);if(aa===p)return c(this,"enum_for",["each_with_index"].concat(a.to_a(P)),(T=function(){return(null==T.$$s?this:T.$$s).$enumerator_size()},T.$$s=this,T.$$arity=0,T));var fa=0;this.$each.$$p=function(){var ka=G(D,"Opal").$destructure(arguments);aa(ka,fa);fa++};this.$each.apply(this,P);return this},Oa.$$arity=-1);a.def(e,"$each_with_object",wa=function(Z){var P=wa.$$p,aa=P||p,T;P&&(wa.$$p=null);P&&(wa.$$p=null);if(aa===
p)return c(this,"enum_for",["each_with_object",Z],(T=function(){return(null==T.$$s?this:T.$$s).$enumerator_size()},T.$$s=this,T.$$arity=0,T));this.$each.$$p=function(){var fa=G(D,"Opal").$destructure(arguments);aa(fa,Z)};this.$each();return Z},wa.$$arity=1);a.def(e,"$entries",Ba=function(Z){var P=a.slice.call(arguments,0,arguments.length);var aa=[];this.$each.$$p=function(){aa.push(G(D,"Opal").$destructure(arguments))};this.$each.apply(this,P);return aa},Ba.$$arity=-1);a.def(e,"$filter_map",Ka=function(){var Z=
Ka.$$p,P=Z||p,aa;Z&&(Ka.$$p=null);Z&&(Ka.$$p=null);return P===p?c(this,"enum_for",["filter_map"],(aa=function(){return(null==aa.$$s?this:aa.$$s).$enumerator_size()},aa.$$s=this,aa.$$arity=0,aa)):c(c(this,"map",[],P.$to_proc()),"select",[],"itself".$to_proc())},Ka.$$arity=0);a.alias(e,"find","detect");a.def(e,"$find_all",oa=function(){var Z=oa.$$p,P=Z||p,aa;Z&&(oa.$$p=null);Z&&(oa.$$p=null);if(P===p)return c(this,"enum_for",["find_all"],(aa=function(){return(null==aa.$$s?this:aa.$$s).$enumerator_size()},
aa.$$s=this,aa.$$arity=0,aa));var T=[];this.$each.$$p=function(){var fa=G(D,"Opal").$destructure(arguments),ka=a.yield1(P,fa);k(ka)&&T.push(fa)};this.$each();return T},oa.$$arity=0);a.alias(e,"filter","find_all");a.def(e,"$find_index",S=function(Z){try{var P=S.$$p,aa=P||p,T,fa,ka=p;P&&(S.$$p=null);P&&(S.$$p=null);if(k(void 0===Z&&aa===p))return this.$enum_for("find_index");null!=Z&&aa!==p&&this.$warn("warning: given block not used");ka=0;k(null!=Z)?c(this,"each",[],(T=function(g){var C=a.slice.call(arguments,
0,arguments.length);G(D,"Opal").$destructure(C)["$=="](Z)&&a.ret(ka);return ka+=1},T.$$s=this,T.$$arity=-1,T)):c(this,"each",[],(fa=function(g){var C=a.slice.call(arguments,0,arguments.length);k(a.yieldX(aa,a.to_a(C)))&&a.ret(ka);return ka+=1},fa.$$s=this,fa.$$arity=-1,fa));return p}catch(g){if(g===a.returner)return g.$v;throw g;}},S.$$arity=-1);a.def(e,"$first",ta=function(Z){try{var P,aa,T=p,fa=p;if(k(void 0===Z))return c(this,"each",[],(P=function(ka){null==ka&&(ka=p);a.ret(ka)},P.$$s=this,P.$$arity=
1,P));T=[];Z=m(Z,G(D,"Integer"),"to_int");k(0>Z)&&this.$raise(G(D,"ArgumentError"),"attempt to take negative size");if(k(0==Z))return[];fa=0;c(this,"each",[],(aa=function(ka){var g=a.slice.call(arguments,0,arguments.length);T.push(G(D,"Opal").$destructure(g));if(k(Z<=++fa))a.ret(T);else return p},aa.$$s=this,aa.$$arity=-1,aa));return T}catch(ka){if(ka===a.returner)return ka.$v;throw ka;}},ta.$$arity=-1);a.alias(e,"flat_map","collect_concat");a.def(e,"$grep",ja=function(Z){var P=ja.$$p,aa=P||p,T,fa=
p;P&&(ja.$$p=null);P&&(ja.$$p=null);fa=[];c(this,"each",[],(T=function(ka){var g=a.slice.call(arguments,0,arguments.length);var C=J(g);if(!k(c(Z,"__send__",["==="].concat(a.to_a(C)))))return p;aa!==p?(k(y(g.$length(),1))&&(g=[g]),g=a.yieldX(aa,a.to_a(g))):k(w(g.$length(),1))&&(g=g["$[]"](0));return fa.$push(g)},T.$$s=this,T.$$arity=-1,T));return fa},ja.$$arity=1);a.def(e,"$grep_v",na=function(Z){var P=na.$$p,aa=P||p,T,fa=p;P&&(na.$$p=null);P&&(na.$$p=null);fa=[];c(this,"each",[],(T=function(ka){var g=
a.slice.call(arguments,0,arguments.length);var C=J(g);if(k(c(Z,"__send__",["==="].concat(a.to_a(C)))))return p;aa!==p?(k(y(g.$length(),1))&&(g=[g]),g=a.yieldX(aa,a.to_a(g))):k(w(g.$length(),1))&&(g=g["$[]"](0));return fa.$push(g)},T.$$s=this,T.$$arity=-1,T));return fa},na.$$arity=1);a.def(e,"$group_by",V=function(){var Z=V.$$p,P=Z||p,aa,T=p,fa=p,ka=p;Z&&(V.$$p=null);Z&&(V.$$p=null);if(P===p)return c(this,"enum_for",["group_by"],(aa=function(){return(null==aa.$$s?this:aa.$$s).$enumerator_size()},aa.$$s=
this,aa.$$arity=0,aa));T=l([],{});this.$each.$$p=function(){var g=G(D,"Opal").$destructure(arguments),C=a.yield1(P,g);k(fa=T["$[]"](C))?C=fa:(ka=[C,[]],c(T,"[]=",a.to_a(ka)),C=ka[t(ka.length,1)]);C["$<<"](g)};this.$each();return T},V.$$arity=0);a.def(e,"$include?",Q=function(Z){try{var P;c(this,"each",[],(P=function(aa){var T=a.slice.call(arguments,0,arguments.length);if(G(D,"Opal").$destructure(T)["$=="](Z))a.ret(!0);else return p},P.$$s=this,P.$$arity=-1,P));return!1}catch(aa){if(aa===a.returner)return aa.$v;
throw aa;}},Q.$$arity=1);a.def(e,"$inject",Y=function(Z,P){var aa=Y.$$p,T=aa||p;aa&&(Y.$$p=null);aa&&(Y.$$p=null);var fa=Z;T!==p&&void 0===P?this.$each.$$p=function(){var ka=G(D,"Opal").$destructure(arguments);void 0!==fa&&(ka=a.yieldX(T,[fa,ka]));fa=ka}:(void 0===P&&(G(D,"Symbol")["$==="](Z)||this.$raise(G(D,"TypeError"),""+Z.$inspect()+" is not a Symbol"),P=Z,fa=void 0),this.$each.$$p=function(){var ka=G(D,"Opal").$destructure(arguments);fa=void 0===fa?ka:fa.$__send__(P,ka)});this.$each();return void 0==
fa?p:fa},Y.$$arity=-1);a.def(e,"$lazy",pa=function(){var Z;return c(d(G(D,"Enumerator"),"Lazy"),"new",[this,this.$enumerator_size()],(Z=function(P,aa){null==P&&(P=p);var T=a.slice.call(arguments,1,arguments.length);return c(P,"yield",a.to_a(T))},Z.$$s=this,Z.$$arity=-2,Z))},pa.$$arity=0);a.def(e,"$enumerator_size",za=function(){return k(this["$respond_to?"]("size"))?this.$size():p},za.$$arity=0);a.alias(e,"map","collect");a.def(e,"$max",la=function(Z){var P=la.$$p,aa=P||p,T=this;P&&(la.$$p=null);
P&&(la.$$p=null);if(void 0===Z||Z===p){var fa,ka;T.$each.$$p=function(){var g=G(D,"Opal").$destructure(arguments);void 0===fa?fa=g:(ka=aa!==p?a.yieldX(aa,[g,fa]):g["$<=>"](fa),ka===p&&T.$raise(G(D,"ArgumentError"),"comparison failed"),0<ka&&(fa=g))};T.$each();return void 0===fa?p:fa}Z=m(Z,G(D,"Integer"),"to_int");return c(T,"sort",[],aa.$to_proc()).$reverse().$first(Z)},la.$$arity=-1);a.def(e,"$max_by",xa=function(Z){var P=xa.$$p,aa=P||p,T;P&&(xa.$$p=null);P&&(xa.$$p=null);null==Z&&(Z=p);if(!k(aa))return c(this,
"enum_for",["max_by",Z],(T=function(){return(null==T.$$s?this:T.$$s).$enumerator_size()},T.$$s=this,T.$$arity=0,T));if(!k(Z["$nil?"]()))return c(this,"sort_by",[],aa.$to_proc()).$reverse().$take(Z);var fa,ka;this.$each.$$p=function(){var g=G(D,"Opal").$destructure(arguments),C=a.yield1(aa,g);void 0===fa?(fa=g,ka=C):0<C["$<=>"](ka)&&(fa=g,ka=C)};this.$each();return void 0===fa?p:fa},xa.$$arity=-1);a.alias(e,"member?","include?");a.def(e,"$min",Ea=function(Z){var P=Ea.$$p,aa=P||p,T,fa=this;P&&(Ea.$$p=
null);P&&(Ea.$$p=null);null==Z&&(Z=p);if(!k(Z["$nil?"]()))return aa!==p?c(fa,"sort",[],(T=function(g,C){null==g&&(g=p);null==C&&(C=p);return a.yieldX(aa,[g,C])},T.$$s=fa,T.$$arity=2,T)).$take(Z):fa.$sort().$take(Z);var ka;fa.$each.$$p=aa!==p?function(){var g=G(D,"Opal").$destructure(arguments);if(void 0===ka)ka=g;else{var C=aa(g,ka);C===p&&fa.$raise(G(D,"ArgumentError"),"comparison failed");0>C&&(ka=g)}}:function(){var g=G(D,"Opal").$destructure(arguments);void 0===ka?ka=g:0>G(D,"Opal").$compare(g,
ka)&&(ka=g)};fa.$each();return void 0===ka?p:ka},Ea.$$arity=-1);a.def(e,"$min_by",Fa=function(Z){var P=Fa.$$p,aa=P||p,T;P&&(Fa.$$p=null);P&&(Fa.$$p=null);null==Z&&(Z=p);if(!k(aa))return c(this,"enum_for",["min_by",Z],(T=function(){return(null==T.$$s?this:T.$$s).$enumerator_size()},T.$$s=this,T.$$arity=0,T));if(!k(Z["$nil?"]()))return c(this,"sort_by",[],aa.$to_proc()).$take(Z);var fa,ka;this.$each.$$p=function(){var g=G(D,"Opal").$destructure(arguments),C=a.yield1(aa,g);void 0===fa?(fa=g,ka=C):0>
C["$<=>"](ka)&&(fa=g,ka=C)};this.$each();return void 0===fa?p:fa},Fa.$$arity=-1);a.def(e,"$minmax",Sa=function(){var Z=Sa.$$p,P=Z||p,aa,T=this,fa=p;Z&&(Sa.$$p=null);Z&&(Sa.$$p=null);P=function(){return k(fa=P)?fa:c(T,"proc",[],(aa=function(M,ba){null==M&&(M=p);null==ba&&(ba=p);return M["$<=>"](ba)},aa.$$s=T,aa.$$arity=2,aa))}();var ka=p,g=p,C=!0;T.$each.$$p=function(){var M=G(D,"Opal").$destructure(arguments);if(C)ka=g=M,C=!1;else{var ba=P.$call(ka,M);ba===p?T.$raise(G(D,"ArgumentError"),"comparison failed"):
0<ba&&(ka=M);ba=P.$call(g,M);ba===p?T.$raise(G(D,"ArgumentError"),"comparison failed"):0>ba&&(g=M)}};T.$each();return[ka,g]},Sa.$$arity=0);a.def(e,"$minmax_by",Ra=function(){var Z=Ra.$$p,P=Z||p,aa;Z&&(Ra.$$p=null);Z&&(Ra.$$p=null);if(!k(P))return c(this,"enum_for",["minmax_by"],(aa=function(){return(null==aa.$$s?this:aa.$$s).$enumerator_size()},aa.$$s=this,aa.$$arity=0,aa));var T=p,fa=p,ka,g;this.$each.$$p=function(){var C=G(D,"Opal").$destructure(arguments),M=a.yield1(P,C);if(void 0===ka||0>M["$<=>"](ka))T=
C,ka=M;if(void 0===g||0<M["$<=>"](g))fa=C,g=M};this.$each();return[T,fa]},Ra.$$arity=0);a.def(e,"$none?",Na=function(Z){try{var P=Na.$$p,aa=P||p,T,fa,ka;P&&(Na.$$p=null);P&&(Na.$$p=null);k(void 0!==Z)?c(this,"each",[],(T=function(g){var C=a.slice.call(arguments,0,arguments.length);C=J(C);if(k(c(Z,"public_send",["==="].concat(a.to_a(C)))))a.ret(!1);else return p},T.$$s=this,T.$$arity=-1,T)):aa!==p?c(this,"each",[],(fa=function(g){var C=a.slice.call(arguments,0,arguments.length);if(k(a.yieldX(aa,a.to_a(C))))a.ret(!1);
else return p},fa.$$s=this,fa.$$arity=-1,fa)):c(this,"each",[],(ka=function(g){var C=a.slice.call(arguments,0,arguments.length);C=G(D,"Opal").$destructure(C);if(k(C))a.ret(!1);else return p},ka.$$s=this,ka.$$arity=-1,ka));return!0}catch(g){if(g===a.returner)return g.$v;throw g;}},Na.$$arity=-1);a.def(e,"$one?",Qa=function(Z){try{var P=Qa.$$p,aa=P||p,T,fa,ka,g=p;P&&(Qa.$$p=null);P&&(Qa.$$p=null);g=0;k(void 0!==Z)?c(this,"each",[],(T=function(C){var M=a.slice.call(arguments,0,arguments.length);M=J(M);
if(k(c(Z,"public_send",["==="].concat(a.to_a(M)))))if(g=K(g,1),k(y(g,1)))a.ret(!1);else return p;else return p},T.$$s=this,T.$$arity=-1,T)):aa!==p?c(this,"each",[],(fa=function(C){var M=a.slice.call(arguments,0,arguments.length);if(!k(a.yieldX(aa,a.to_a(M))))return p;g=K(g,1);if(k(y(g,1)))a.ret(!1);else return p},fa.$$s=this,fa.$$arity=-1,fa)):c(this,"each",[],(ka=function(C){var M=a.slice.call(arguments,0,arguments.length);if(!k(G(D,"Opal").$destructure(M)))return p;g=K(g,1);if(k(y(g,1)))a.ret(!1);
else return p},ka.$$s=this,ka.$$arity=-1,ka));return g["$=="](1)}catch(C){if(C===a.returner)return C.$v;throw C;}},Qa.$$arity=-1);a.def(e,"$partition",lb=function(){var Z=lb.$$p,P=Z||p,aa;Z&&(lb.$$p=null);Z&&(lb.$$p=null);if(P===p)return c(this,"enum_for",["partition"],(aa=function(){return(null==aa.$$s?this:aa.$$s).$enumerator_size()},aa.$$s=this,aa.$$arity=0,aa));var T=[],fa=[];this.$each.$$p=function(){var ka=G(D,"Opal").$destructure(arguments),g=a.yield1(P,ka);k(g)?T.push(ka):fa.push(ka)};this.$each();
return[T,fa]},lb.$$arity=0);a.alias(e,"reduce","inject");a.def(e,"$reject",W=function(){var Z=W.$$p,P=Z||p,aa;Z&&(W.$$p=null);Z&&(W.$$p=null);if(P===p)return c(this,"enum_for",["reject"],(aa=function(){return(null==aa.$$s?this:aa.$$s).$enumerator_size()},aa.$$s=this,aa.$$arity=0,aa));var T=[];this.$each.$$p=function(){var fa=G(D,"Opal").$destructure(arguments),ka=a.yield1(P,fa);x(ka)&&T.push(fa)};this.$each();return T},W.$$arity=0);a.def(e,"$reverse_each",ya=function(){var Z=ya.$$p,P=Z||p,aa;Z&&(ya.$$p=
null);Z&&(ya.$$p=null);if(P===p)return c(this,"enum_for",["reverse_each"],(aa=function(){return(null==aa.$$s?this:aa.$$s).$enumerator_size()},aa.$$s=this,aa.$$arity=0,aa));var T=[];this.$each.$$p=function(){T.push(arguments)};this.$each();for(Z=T.length-1;0<=Z;Z--)a.yieldX(P,T[Z]);return T},ya.$$arity=0);a.alias(e,"select","find_all");a.def(e,"$slice_before",Da=function(Z){var P=Da.$$p,aa=P||p,T;P&&(Da.$$p=null);P&&(Da.$$p=null);k(void 0===Z&&aa===p)&&this.$raise(G(D,"ArgumentError"),"both pattern and block are given");
k(void 0!==Z&&aa!==p||1<arguments.length)&&this.$raise(G(D,"ArgumentError"),"wrong number of arguments ("+arguments.length+" expected 1)");return c(G(D,"Enumerator"),"new",[],(T=function(fa){var ka=null==T.$$s?this:T.$$s;null==fa&&(fa=p);var g=[];ka.$each.$$p=aa!==p?void 0===Z?function(){var C=G(D,"Opal").$destructure(arguments),M=a.yield1(aa,C);k(M)&&0<g.length&&(fa["$<<"](g),g=[]);g.push(C)}:function(){var C=G(D,"Opal").$destructure(arguments),M=aa(C,Z.$dup());k(M)&&0<g.length&&(fa["$<<"](g),g=
[]);g.push(C)}:function(){var C=G(D,"Opal").$destructure(arguments),M=Z["$==="](C);k(M)&&0<g.length&&(fa["$<<"](g),g=[]);g.push(C)};ka.$each();if(0<g.length)fa["$<<"](g)},T.$$s=this,T.$$arity=1,T))},Da.$$arity=-1);a.def(e,"$slice_after",Va=function(Z){var P=Va.$$p,aa=P||p,T,fa;P&&(Va.$$p=null);P&&(Va.$$p=null);k(void 0===Z&&aa===p)&&this.$raise(G(D,"ArgumentError"),"both pattern and block are given");k(void 0!==Z&&aa!==p||1<arguments.length)&&this.$raise(G(D,"ArgumentError"),"wrong number of arguments ("+
arguments.length+" expected 1)");k(void 0!==Z)&&(aa=c(this,"proc",[],(T=function(ka){null==ka&&(ka=p);return Z["$==="](ka)},T.$$s=this,T.$$arity=1,T)));return c(G(D,"Enumerator"),"new",[],(fa=function(ka){var g=null==fa.$$s?this:fa.$$s;null==ka&&(ka=p);var C;g.$each.$$p=function(){var M=G(D,"Opal").$destructure(arguments),ba=a.yield1(aa,M);null==C&&(C=[]);k(ba)?(C.push(M),ka.$yield(C),C=null):C.push(M)};g.$each();null!=C&&ka.$yield(C)},fa.$$s=this,fa.$$arity=1,fa))},Va.$$arity=-1);a.def(e,"$slice_when",
ib=function(){var Z=ib.$$p,P=Z||p,aa;Z&&(ib.$$p=null);Z&&(ib.$$p=null);P===p&&this.$raise(G(D,"ArgumentError"),"wrong number of arguments (0 for 1)");return c(G(D,"Enumerator"),"new",[],(aa=function(T){var fa=null==aa.$$s?this:aa.$$s;null==T&&(T=p);var ka=p,g=p;fa.$each_cons.$$p=function(){var C=G(D,"Opal").$destructure(arguments),M=C[0];C=C[1];var ba=a.yieldX(P,[M,C]);g=C;ka===p&&(ka=[]);k(ba)?(ka.push(M),T.$yield(ka),ka=[]):ka.push(M)};fa.$each_cons(2);ka!==p&&(ka.push(g),T.$yield(ka))},aa.$$s=
this,aa.$$arity=1,aa))},ib.$$arity=0);a.def(e,"$sort",db=function(){var Z=db.$$p,P=Z||p,aa,T=p;Z&&(db.$$p=null);Z&&(db.$$p=null);T=this.$to_a();P===p&&(P=H((aa=function(fa,ka){null==fa&&(fa=p);null==ka&&(ka=p);return fa["$<=>"](ka)},aa.$$s=this,aa.$$arity=2,aa)));return c(T,"sort",[],P.$to_proc())},db.$$arity=0);a.def(e,"$sort_by",$a=function(){var Z=$a.$$p,P=Z||p,aa,T,fa,ka,g=p;Z&&($a.$$p=null);Z&&($a.$$p=null);if(P===p)return c(this,"enum_for",["sort_by"],(aa=function(){return(null==aa.$$s?this:
aa.$$s).$enumerator_size()},aa.$$s=this,aa.$$arity=0,aa));g=c(this,"map",[],(T=function(){var C=G(D,"Opal").$destructure(arguments);return[a.yield1(P,C),C]},T.$$s=this,T.$$arity=0,T));c(g,"sort!",[],(fa=function(C,M){null==C&&(C=p);null==M&&(M=p);return C[0]["$<=>"](M[0])},fa.$$s=this,fa.$$arity=2,fa));return c(g,"map!",[],(ka=function(C){null==C&&(C=p);return C[1]},ka.$$s=this,ka.$$arity=1,ka))},$a.$$arity=0);a.def(e,"$sum",ab=function(Z){var P,aa=ab.$$p,T=aa||p,fa=p;aa&&(ab.$$p=null);null==Z&&(Z=
0);fa=Z;c(this,"each",[],(P=function(ka){var g=a.slice.call(arguments,0,arguments.length);g=T!==p?a.yieldX(T,a.to_a(g)):G(D,"Opal").$destructure(g);return fa=K(fa,g)},P.$$s=this,P.$$arity=-1,P));return fa},ab.$$arity=-1);a.def(e,"$take",Aa=function(Z){return this.$first(Z)},Aa.$$arity=1);a.def(e,"$take_while",ua=function(){try{var Z=ua.$$p,P=Z||p,aa,T=p;Z&&(ua.$$p=null);Z&&(ua.$$p=null);if(!k(P))return this.$enum_for("take_while");T=[];return c(this,"each",[],(aa=function(fa){var ka=a.slice.call(arguments,
0,arguments.length);ka=G(D,"Opal").$destructure(ka);k(a.yield1(P,ka))||a.ret(T);return T.push(ka)},aa.$$s=this,aa.$$arity=-1,aa))}catch(fa){if(fa===a.returner)return fa.$v;throw fa;}},ua.$$arity=0);a.def(e,"$uniq",La=function(){var Z=La.$$p,P=Z||p,aa,T=p;Z&&(La.$$p=null);Z&&(La.$$p=null);T=l([],{});c(this,"each",[],(aa=function(fa){var ka=a.slice.call(arguments,0,arguments.length);ka=G(D,"Opal").$destructure(ka);var g=P!==p?a.yield1(P,ka):ka;if(k(T["$key?"](g)))return p;ka=[g,ka];c(T,"[]=",a.to_a(ka));
return ka[t(ka.length,1)]},aa.$$s=this,aa.$$arity=-1,aa));return T.$values()},La.$$arity=0);a.def(e,"$tally",Ta=function(){return c(c(this,"group_by",[],"itself".$to_proc()),"transform_values",[],"count".$to_proc())},Ta.$$arity=0);a.alias(e,"to_a","entries");a.def(e,"$to_h",Ya=function(Z){var P=Ya.$$p,aa=P||p,T=this;P&&(Ya.$$p=null);P&&(Ya.$$p=null);P=a.slice.call(arguments,0,arguments.length);if(aa!==p)return c(c(T,"map",[],aa.$to_proc()),"to_h",a.to_a(P));var fa=l([],{});T.$each.$$p=function(){var ka=
G(D,"Opal").$destructure(arguments);ka=G(D,"Opal")["$coerce_to?"](ka,G(D,"Array"),"to_ary");ka.$$is_array||T.$raise(G(D,"TypeError"),"wrong element type "+ka.$class()+" (expected array)");2!==ka.length&&T.$raise(G(D,"ArgumentError"),"wrong array length (expected 2, was "+ka.$length()+")");a.hash_put(fa,ka[0],ka[1])};T.$each.apply(T,P);return fa},Ya.$$arity=-1);a.def(e,"$zip",Ga=function(Z){var P=Ga.$$p;P&&(Ga.$$p=null);P&&(Ga.$$p=null);P=a.slice.call(arguments,0,arguments.length);return c(this.$to_a(),
"zip",a.to_a(P))},Ga.$$arity=-1)}(A[0],A)};
Opal.modules["corelib/enumerator"]=function(a){function y(H,e){return"number"===typeof H&&"number"===typeof e?H+e:H["$+"](e)}function K(H,e){return"number"===typeof H&&"number"===typeof e?H<e:H["$<"](e)}var t=a.top,w=[],A=a.nil,p=a.$$,d=a.breaker,G=a.slice,x=a.falsy,k=a.truthy,m=a.coerce_to,u=a.klass,c=a.send,l=a.send2;a.add_stubs("$require $include $allocate $new $to_proc $! $respond_to? $nil? $empty? $+ $class $__send__ $call $enum_for $size $destructure $inspect $any? $[] $raise $yield $each $enumerator_size $try_convert $< $=== $for".split(" "));t.$require("corelib/enumerable");
return function(H,$super,n){H=u(H,$super,"Enumerator");var J=[H].concat(n),D,R,ia,ea,ma,b,h;H.$$prototype.size=H.$$prototype.args=H.$$prototype.object=H.$$prototype.method=A;H.$include(p(J,"Enumerable"));H.$$prototype.$$is_enumerator=!0;a.defs(H,"$for",D=function(f,q,z){var E=D.$$p,F=E||A;E&&(D.$$p=null);E&&(D.$$p=null);E=a.slice.call(arguments,1,arguments.length);if(0<E.length){var L=E[0];E.splice(0,1)}null==L&&(L="each");var ca=this.$allocate();ca.object=f;ca.size=F;ca.method=L;ca.args=E;return ca},
D.$$arity=-2);a.def(H,"$initialize",R=function(f){var q=R.$$p,z=q||A,E=A;q&&(R.$$p=null);q&&(R.$$p=null);a.slice.call(arguments,0,arguments.length);if(k(z))return this.object=c(p(J,"Generator"),"new",[],z.$to_proc()),this.method="each",this.args=[],this.size=arguments[0]||A,k(k(E=this.size)?this.size["$respond_to?"]("call")["$!"]():E)?this.size=m(this.size,p(J,"Integer"),"to_int"):A;this.object=arguments[0];this.method=arguments[1]||"each";this.args=G.call(arguments,2);return this.size=A},R.$$arity=
-1);a.def(H,"$each",ia=function(f){var q=ia.$$p,z=q||A,E=A;q&&(ia.$$p=null);q&&(ia.$$p=null);q=a.slice.call(arguments,0,arguments.length);if(k(k(E=z["$nil?"]())?q["$empty?"]():E))return this;q=y(this.args,q);return k(z["$nil?"]())?c(this.$class(),"new",[this.object,this.method].concat(a.to_a(q))):c(this.object,"__send__",[this.method].concat(a.to_a(q)),z.$to_proc())},ia.$$arity=-1);a.def(H,"$size",ea=function(){return k(this.size["$respond_to?"]("call"))?c(this.size,"call",a.to_a(this.args)):this.size},
ea.$$arity=0);a.def(H,"$with_index",ma=function(f){var q=ma.$$p,z=q||A,E;q&&(ma.$$p=null);q&&(ma.$$p=null);null==f&&(f=0);f=k(f)?m(f,p(J,"Integer"),"to_int"):0;if(!k(z))return c(this,"enum_for",["with_index",f],(E=function(){return(null==E.$$s?this:E.$$s).$size()},E.$$s=this,E.$$arity=0,E));var F=f;this.$each.$$p=function(){var L=p(J,"Opal").$destructure(arguments);L=z(L,F);F++;return L};return this.$each()},ma.$$arity=-1);a.alias(H,"with_object","each_with_object");a.def(H,"$each_with_index",b=function(){var f=
b.$$p,q=f||A,z,E=A,F=A,L=A;f&&(b.$$p=null);F=0;L=arguments.length;for(E=Array(L);F<L;F++)E[F]=arguments[F];f&&(b.$$p=null);if(q===A)return c(this,"enum_for",["each_with_index"],(z=function(){return(null==z.$$s?this:z.$$s).$size()},z.$$s=this,z.$$arity=0,z));l(this,a.find_super_dispatcher(this,"each_with_index",b,!1,!0),"each_with_index",E,f);return this.object},b.$$arity=0);a.def(H,"$inspect",h=function(){var f="#<"+this.$class()+": "+this.object.$inspect()+":"+this.method;k(this.args["$any?"]())&&
(f=y(f,"("+this.args.$inspect()["$[]"](p(J,"Range").$new(1,-2))+")"));return y(f,">")},h.$$arity=0);(function(f,$super,z){f=u(f,$super,"Generator");var E=[f].concat(z),F,L;f.$$prototype.block=A;f.$include(p(E,"Enumerable"));a.def(f,"$initialize",F=function(){var ca=F.$$p,va=ca||A;ca&&(F.$$p=null);ca&&(F.$$p=null);k(va)||this.$raise(p(E,"LocalJumpError"),"no block given");return this.block=va},F.$$arity=0);return(a.def(f,"$each",L=function(ca){var va=L.$$p,Oa=va||A;va&&(L.$$p=null);va&&(L.$$p=null);
va=a.slice.call(arguments,0,arguments.length);Oa=c(p(E,"Yielder"),"new",[],Oa.$to_proc());try{va.unshift(Oa),a.yieldX(this.block,va)}catch(wa){if(wa===d)return d.$v;throw wa;}return this},L.$$arity=-1),A)&&"each"})(J[0],null,J);(function(f,$super,z){f=u(f,$super,"Yielder");[f].concat(z);var E,F,L;f.$$prototype.block=A;a.def(f,"$initialize",E=function(){var ca=E.$$p,va=ca||A;ca&&(E.$$p=null);ca&&(E.$$p=null);return this.block=va},E.$$arity=0);a.def(f,"$yield",F=function(ca){var va=a.slice.call(arguments,
0,arguments.length);va=a.yieldX(this.block,va);if(va===d)throw d;return va},F.$$arity=-1);return(a.def(f,"$<<",L=function(ca){var va=a.slice.call(arguments,0,arguments.length);c(this,"yield",a.to_a(va));return this},L.$$arity=-1),A)&&"<<"})(J[0],null,J);(function(f,$super,z){f=u(f,$super,"Lazy");var E=[f].concat(z),F,L,ca,va,Oa,wa,Ba,Ka,oa,S,ta,ja,na;f.$$prototype.enumerator=A;(function(V,$super,Y){[u(V,$super,"StopLazyError")].concat(Y);return A})(E[0],p(E,"Exception"),E);a.def(f,"$initialize",F=
function(V,Q){var Y=F.$$p,pa=Y||A,za;Y&&(F.$$p=null);Y&&(F.$$p=null);null==Q&&(Q=A);pa===A&&this.$raise(p(E,"ArgumentError"),"tried to call lazy new without a block");this.enumerator=V;return l(this,a.find_super_dispatcher(this,"initialize",F,!1,!0),"initialize",[Q],(za=function(la,xa){var Ea=null==za.$$s?this:za.$$s,Fa;null==la&&(la=A);var Sa=a.slice.call(arguments,1,arguments.length);try{return c(V,"each",a.to_a(Sa),(Fa=function(Ra){var Na=a.slice.call(arguments,0,arguments.length);Na.unshift(la);
a.yieldX(pa,Na)},Fa.$$s=Ea,Fa.$$arity=-1,Fa))}catch(Ra){if(a.rescue(Ra,[p(E,"Exception")]))try{return A}finally{a.pop_exception()}else throw Ra;}},za.$$s=this,za.$$arity=-2,za))},F.$$arity=-2);a.alias(f,"force","to_a");a.def(f,"$lazy",L=function(){return this},L.$$arity=0);a.def(f,"$collect",ca=function(){var V=ca.$$p,Q=V||A,Y;V&&(ca.$$p=null);V&&(ca.$$p=null);k(Q)||this.$raise(p(E,"ArgumentError"),"tried to call lazy map without a block");return c(p(E,"Lazy"),"new",[this,this.$enumerator_size()],
(Y=function(pa,za){null==pa&&(pa=A);var la=a.slice.call(arguments,1,arguments.length);la=a.yieldX(Q,la);pa.$yield(la)},Y.$$s=this,Y.$$arity=-2,Y))},ca.$$arity=0);a.def(f,"$collect_concat",va=function(){var V=va.$$p,Q=V||A,Y;V&&(va.$$p=null);V&&(va.$$p=null);k(Q)||this.$raise(p(E,"ArgumentError"),"tried to call lazy map without a block");return c(p(E,"Lazy"),"new",[this,A],(Y=function(pa,za){var la=null==Y.$$s?this:Y.$$s,xa,Ea;null==pa&&(pa=A);var Fa=a.slice.call(arguments,1,arguments.length);Fa=a.yieldX(Q,
Fa);Fa["$respond_to?"]("force")&&Fa["$respond_to?"]("each")?c(Fa,"each",[],(xa=function(Sa){null==Sa&&(Sa=A);return pa.$yield(Sa)},xa.$$s=la,xa.$$arity=1,xa)):p(E,"Opal").$try_convert(Fa,p(E,"Array"),"to_ary")===A?pa.$yield(Fa):c(Fa,"each",[],(Ea=function(Sa){null==Sa&&(Sa=A);return pa.$yield(Sa)},Ea.$$s=la,Ea.$$arity=1,Ea))},Y.$$s=this,Y.$$arity=-2,Y))},va.$$arity=0);a.def(f,"$drop",Oa=function(V){var Q,Y=A,pa=Y=A;V=m(V,p(E,"Integer"),"to_int");k(K(V,0))&&this.$raise(p(E,"ArgumentError"),"attempt to drop negative size");
Y=this.$enumerator_size();Y=k(p(E,"Integer")["$==="](Y))?k(K(V,Y))?V:Y:Y;pa=0;return c(p(E,"Lazy"),"new",[this,Y],(Q=function(za,la){null==za&&(za=A);var xa=a.slice.call(arguments,1,arguments.length);return k(K(pa,V))?pa=y(pa,1):c(za,"yield",a.to_a(xa))},Q.$$s=this,Q.$$arity=-2,Q))},Oa.$$arity=1);a.def(f,"$drop_while",wa=function(){var V=wa.$$p,Q=V||A,Y,pa=A;V&&(wa.$$p=null);V&&(wa.$$p=null);k(Q)||this.$raise(p(E,"ArgumentError"),"tried to call lazy drop_while without a block");pa=!0;return c(p(E,
"Lazy"),"new",[this,A],(Y=function(za,la){null==za&&(za=A);var xa=a.slice.call(arguments,1,arguments.length);if(k(pa)){var Ea=a.yieldX(Q,xa);x(Ea)&&(pa=!1,c(za,"yield",a.to_a(xa)))}else return c(za,"yield",a.to_a(xa))},Y.$$s=this,Y.$$arity=-2,Y))},wa.$$arity=0);a.def(f,"$enum_for",Ba=function(V,Q){var Y=Ba.$$p,pa=Y||A;Y&&(Ba.$$p=null);Y&&(Ba.$$p=null);Y=a.slice.call(arguments,0,arguments.length);if(0<Y.length){var za=Y[0];Y.splice(0,1)}null==za&&(za="each");return c(this.$class(),"for",[this,za].concat(a.to_a(Y)),
pa.$to_proc())},Ba.$$arity=-1);a.alias(f,"filter","find_all");a.def(f,"$find_all",Ka=function(){var V=Ka.$$p,Q=V||A,Y;V&&(Ka.$$p=null);V&&(Ka.$$p=null);k(Q)||this.$raise(p(E,"ArgumentError"),"tried to call lazy select without a block");return c(p(E,"Lazy"),"new",[this,A],(Y=function(pa,za){null==pa&&(pa=A);var la=a.slice.call(arguments,1,arguments.length);var xa=a.yieldX(Q,la);k(xa)&&c(pa,"yield",a.to_a(la))},Y.$$s=this,Y.$$arity=-2,Y))},Ka.$$arity=0);a.alias(f,"flat_map","collect_concat");a.def(f,
"$grep",oa=function(V){var Q=oa.$$p,Y=Q||A,pa,za;Q&&(oa.$$p=null);Q&&(oa.$$p=null);return k(Y)?c(p(E,"Lazy"),"new",[this,A],(pa=function(la,xa){null==la&&(la=A);var Ea=a.slice.call(arguments,1,arguments.length);Ea=p(E,"Opal").$destructure(Ea);var Fa=V["$==="](Ea);k(Fa)&&(a.yield1(Y,Ea),la.$yield(a.yield1(Y,Ea)))},pa.$$s=this,pa.$$arity=-2,pa)):c(p(E,"Lazy"),"new",[this,A],(za=function(la,xa){null==la&&(la=A);var Ea=a.slice.call(arguments,1,arguments.length);Ea=p(E,"Opal").$destructure(Ea);var Fa=
V["$==="](Ea);k(Fa)&&la.$yield(Ea)},za.$$s=this,za.$$arity=-2,za))},oa.$$arity=1);a.alias(f,"map","collect");a.alias(f,"select","find_all");a.def(f,"$reject",S=function(){var V=S.$$p,Q=V||A,Y;V&&(S.$$p=null);V&&(S.$$p=null);k(Q)||this.$raise(p(E,"ArgumentError"),"tried to call lazy reject without a block");return c(p(E,"Lazy"),"new",[this,A],(Y=function(pa,za){null==pa&&(pa=A);var la=a.slice.call(arguments,1,arguments.length);var xa=a.yieldX(Q,la);x(xa)&&c(pa,"yield",a.to_a(la))},Y.$$s=this,Y.$$arity=
-2,Y))},S.$$arity=0);a.def(f,"$take",ta=function(V){var Q,Y=A,pa=Y=A;V=m(V,p(E,"Integer"),"to_int");k(K(V,0))&&this.$raise(p(E,"ArgumentError"),"attempt to take negative size");Y=this.$enumerator_size();Y=k(p(E,"Integer")["$==="](Y))?k(K(V,Y))?V:Y:Y;pa=0;return c(p(E,"Lazy"),"new",[this,Y],(Q=function(za,la){var xa=null==Q.$$s?this:Q.$$s;null==za&&(za=A);var Ea=a.slice.call(arguments,1,arguments.length);return k(K(pa,V))?(c(za,"yield",a.to_a(Ea)),pa=y(pa,1)):xa.$raise(p(E,"StopLazyError"))},Q.$$s=
this,Q.$$arity=-2,Q))},ta.$$arity=1);a.def(f,"$take_while",ja=function(){var V=ja.$$p,Q=V||A,Y;V&&(ja.$$p=null);V&&(ja.$$p=null);k(Q)||this.$raise(p(E,"ArgumentError"),"tried to call lazy take_while without a block");return c(p(E,"Lazy"),"new",[this,A],(Y=function(pa,za){var la=null==Y.$$s?this:Y.$$s;null==pa&&(pa=A);var xa=a.slice.call(arguments,1,arguments.length);var Ea=a.yieldX(Q,xa);k(Ea)?c(pa,"yield",a.to_a(xa)):la.$raise(p(E,"StopLazyError"))},Y.$$s=this,Y.$$arity=-2,Y))},ja.$$arity=0);a.alias(f,
"to_enum","enum_for");return(a.def(f,"$inspect",na=function(){return"#<"+this.$class()+": "+this.enumerator.$inspect()+">"},na.$$arity=0),A)&&"inspect"})(J[0],H,J);return function(f,$super,z){[u(f,$super,"ArithmeticSequence")].concat(z);return A}(J[0],H,J)}(w[0],null,w)};
Opal.modules["corelib/numeric"]=function(a){function y(c,l){return"number"===typeof c&&"number"===typeof l?c-l:c["$-"](l)}function K(c,l){return"number"===typeof c&&"number"===typeof l?c*l:c["$*"](l)}function t(c,l){return"number"===typeof c&&"number"===typeof l?c<l:c["$<"](l)}function w(c,l){return"number"===typeof c&&"number"===typeof l?c/l:c["$/"](l)}var A=a.top,p=[],d=a.nil,G=a.$$$,x=a.$$,k=a.klass,m=a.truthy,u=a.hash2;a.add_stubs("$require $include $instance_of? $class $Float $respond_to? $coerce $__send__ $=== $raise $equal? $- $* $div $< $-@ $ceil $to_f $denominator $to_r $== $floor $/ $% $Complex $zero? $numerator $abs $arg $coerce_to! $round $to_i $truncate $>".split(" "));
A.$require("corelib/comparable");return function(c,$super,H){c=k(c,$super,"Numeric");var e=[c].concat(H),n,J,D,R,ia,ea,ma,b,h,f,q,z,E,F,L,ca,va,Oa,wa,Ba,Ka,oa,S,ta,ja,na,V,Q,Y,pa,za,la,xa,Ea,Fa,Sa,Ra;c.$include(x(e,"Comparable"));a.def(c,"$coerce",n=function(Na){return m(Na["$instance_of?"](this.$class()))?[Na,this]:[this.$Float(Na),this.$Float(this)]},n.$$arity=1);a.def(c,"$__coerced__",J=function(Na,Qa){if(m(Qa["$respond_to?"]("coerce"))){Qa=Qa.$coerce(this);var lb=a.to_ary(Qa);var W=null==lb[0]?
d:lb[0];lb=null==lb[1]?d:lb[1];Qa;return W.$__send__(Na,lb)}return"+"["$==="](Na)||"-"["$==="](Na)||"*"["$==="](Na)||"/"["$==="](Na)||"%"["$==="](Na)||"&"["$==="](Na)||"|"["$==="](Na)||"^"["$==="](Na)||"**"["$==="](Na)?this.$raise(x(e,"TypeError"),""+Qa.$class()+" can't be coerced into Numeric"):">"["$==="](Na)||">="["$==="](Na)||"<"["$==="](Na)||"<="["$==="](Na)||"<=>"["$==="](Na)?this.$raise(x(e,"ArgumentError"),"comparison of "+this.$class()+" with "+Qa.$class()+" failed"):d},J.$$arity=2);a.def(c,
"$<=>",D=function(Na){return m(this["$equal?"](Na))?0:d},D.$$arity=1);a.def(c,"$+@",R=function(){return this},R.$$arity=0);a.def(c,"$-@",ia=function(){return y(0,this)},ia.$$arity=0);a.def(c,"$%",ea=function(Na){return y(this,K(Na,this.$div(Na)))},ea.$$arity=1);a.def(c,"$abs",ma=function(){return t(this,0)?this["$-@"]():this},ma.$$arity=0);a.def(c,"$abs2",b=function(){return K(this,this)},b.$$arity=0);a.def(c,"$angle",h=function(){return t(this,0)?G(x(e,"Math"),"PI"):0},h.$$arity=0);a.alias(c,"arg",
"angle");a.def(c,"$ceil",f=function(Na){null==Na&&(Na=0);return this.$to_f().$ceil(Na)},f.$$arity=-1);a.def(c,"$conj",q=function(){return this},q.$$arity=0);a.alias(c,"conjugate","conj");a.def(c,"$denominator",z=function(){return this.$to_r().$denominator()},z.$$arity=0);a.def(c,"$div",E=function(Na){Na["$=="](0)&&this.$raise(x(e,"ZeroDivisionError"),"divided by o");return w(this,Na).$floor()},E.$$arity=1);a.def(c,"$divmod",F=function(Na){return[this.$div(Na),this["$%"](Na)]},F.$$arity=1);a.def(c,
"$fdiv",L=function(Na){return w(this.$to_f(),Na)},L.$$arity=1);a.def(c,"$floor",ca=function(Na){null==Na&&(Na=0);return this.$to_f().$floor(Na)},ca.$$arity=-1);a.def(c,"$i",va=function(){return this.$Complex(0,this)},va.$$arity=0);a.def(c,"$imag",Oa=function(){return 0},Oa.$$arity=0);a.alias(c,"imaginary","imag");a.def(c,"$integer?",wa=function(){return!1},wa.$$arity=0);a.alias(c,"magnitude","abs");a.alias(c,"modulo","%");a.def(c,"$nonzero?",Ba=function(){return m(this["$zero?"]())?d:this},Ba.$$arity=
0);a.def(c,"$numerator",Ka=function(){return this.$to_r().$numerator()},Ka.$$arity=0);a.alias(c,"phase","arg");a.def(c,"$polar",oa=function(){return[this.$abs(),this.$arg()]},oa.$$arity=0);a.def(c,"$quo",S=function(Na){return w(x(e,"Opal")["$coerce_to!"](this,x(e,"Rational"),"to_r"),Na)},S.$$arity=1);a.def(c,"$real",ta=function(){return this},ta.$$arity=0);a.def(c,"$real?",ja=function(){return!0},ja.$$arity=0);a.def(c,"$rect",na=function(){return[this,0]},na.$$arity=0);a.alias(c,"rectangular","rect");
a.def(c,"$round",V=function(Na){return this.$to_f().$round(Na)},V.$$arity=-1);a.def(c,"$to_c",Q=function(){return this.$Complex(this,0)},Q.$$arity=0);a.def(c,"$to_int",Y=function(){return this.$to_i()},Y.$$arity=0);a.def(c,"$truncate",pa=function(Na){null==Na&&(Na=0);return this.$to_f().$truncate(Na)},pa.$$arity=-1);a.def(c,"$zero?",za=function(){return this["$=="](0)},za.$$arity=0);a.def(c,"$positive?",la=function(){return"number"===typeof this?0<this:this["$>"](0)},la.$$arity=0);a.def(c,"$negative?",
xa=function(){return t(this,0)},xa.$$arity=0);a.def(c,"$dup",Ea=function(){return this},Ea.$$arity=0);a.def(c,"$clone",Fa=function(Na){if(null==Na)u([],{});else if(!Na.$$is_hash)throw a.ArgumentError.$new("expected kwargs");return this},Fa.$$arity=-1);a.def(c,"$finite?",Sa=function(){return!0},Sa.$$arity=0);return(a.def(c,"$infinite?",Ra=function(){return d},Ra.$$arity=0),d)&&"infinite?"}(p[0],null,p)};
Opal.modules["corelib/array"]=function(a){function y(ia,ea){return"number"===typeof ia&&"number"===typeof ea?ia>ea:ia["$>"](ea)}var K=a.top,t=[],w=a.nil,A=a.$$$,p=a.$$,d=a.truthy,G=a.falsy,x=a.hash_ids,k=a.yield1,m=a.hash_get,u=a.hash_put,c=a.hash_delete,l=a.coerce_to,H=a.respond_to,e=a.klass,n=a.hash2,J=a.send2,D=a.send,R=a.gvars;a.add_stubs("$require $include $to_a $warn $raise $replace $respond_to? $to_ary $coerce_to? $=== $join $to_str $class $hash $<=> $== $object_id $inspect $enum_for $bsearch_index $to_proc $nil? $coerce_to! $> $* $enumerator_size $empty? $size $map $equal? $dup $each $[] $dig $eql? $length $exclude_end? $flatten $__id__ $to_s $new $max $min $! $>= $** $delete_if $reverse $rotate $rand $at $keep_if $shuffle! $< $sort $sort_by $!= $times $[]= $- $<< $values $is_a? $last $first $upto $reject $pristine $singleton_class".split(" "));
K.$require("corelib/enumerable");K.$require("corelib/numeric");return function(ia,$super,ma){function b(r,I){return I.$$name===a.Array?r:I.$allocate().$replace(r.$to_a())}function h(r,I,O){for(var da,ha=null,ra=Array(r.length),Pa=0,fb=0,Za=r.length;Pa<Za;Pa++){if(!ha)try{da=k(O,r[Pa])}catch(kb){ha=kb}if(ha||I(da))ra[fb]=r[Pa],fb+=1}fb!==Pa&&(r.splice.apply(r,[0,ra.length].concat(ra)),r.splice(fb,ra.length));if(ha)throw ha;}function f(r,I){var O=r.length;var da=I.excl;var ha=l(I.begin,a.Integer,"to_int");
I=l(I.end,a.Integer,"to_int");if(0>ha&&(ha+=O,0>ha)||ha>O)return w;if(0>I&&(I+=O,0>I))return[];da||(I+=1);O=r.slice(ha,I);return b(O,r.$class())}function q(r,I,O){var da=r.length;I=l(I,a.Integer,"to_int");if(0>I&&(I+=da,0>I))return w;if(void 0===O)return I>=da||0>I?w:r[I];O=l(O,a.Integer,"to_int");if(0>O||I>da||0>I)return w;I=r.slice(I,I+O);return b(I,r.$class())}function z(r,I){return r===I||0===I?1:0<I&&r>I?z(r-1,I-1)+z(r-1,I):0}var E=e(ia,$super,"Array"),F=[E].concat(ma),L,ca,va,Oa,wa,Ba,Ka,oa,
S,ta,ja,na,V,Q,Y,pa,za,la,xa,Ea,Fa,Sa,Ra,Na,Qa,lb,W,ya,Da,Va,ib,db,$a,ab,Aa,ua,La,Ta,Ya,Ga,Z,P,aa,T,fa,ka,g,C,M,ba,v,U,qa,Ja,jb,ob,mb,sb,tb,wb,xb,ub,X,Ma,bb,B,N,sa,Ha,Ca,Ia,Wa,hb,eb,Ua,Xa,gb,qb,nb,pb,Gb,Ab,Jb,Bb,Kb,Cb,Db,Lb,Mb,Eb,Nb,Fb,Ob;E.$include(p(F,"Enumerable"));a.defineProperty(E.$$prototype,"$$is_array",!0);a.defs(E,"$[]",L=function(r){var I=a.slice.call(arguments,0,arguments.length);return b(I,this)},L.$$arity=-1);a.def(E,"$initialize",ca=function(r,I){var O=ca.$$p,da=O||w;O&&(ca.$$p=null);
O&&(ca.$$p=null);null==r&&(r=w);null==I&&(I=w);I!==w&&da!==w&&this.$warn("warning: block supersedes default value argument");r>A(p(F,"Integer"),"MAX")&&this.$raise(p(F,"ArgumentError"),"array size too big");2<arguments.length&&this.$raise(p(F,"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..2)");if(0===arguments.length)return this.splice(0,this.length),this;if(1===arguments.length){if(r.$$is_array)return this.$replace(r.$to_a()),this;if(r["$respond_to?"]("to_ary"))return this.$replace(r.$to_ary()),
this}r=l(r,p(F,"Integer"),"to_int");0>r&&this.$raise(p(F,"ArgumentError"),"negative array size");this.splice(0,this.length);if(da===w)for(O=0;O<r;O++)this.push(I);else for(O=0,ha;O<r;O++){var ha=da(O);this[O]=ha}return this},ca.$$arity=-1);a.defs(E,"$try_convert",va=function(r){return p(F,"Opal")["$coerce_to?"](r,p(F,"Array"),"to_ary")},va.$$arity=1);a.def(E,"$&",Oa=function(r){r=d(p(F,"Array")["$==="](r))?r.$to_a():l(r,p(F,"Array"),"to_ary").$to_a();var I=[],O=n([],{}),da;var ha=0;for(da=r.length;ha<
da;ha++)u(O,r[ha],!0);ha=0;for(da=this.length;ha<da;ha++)r=this[ha],void 0!==c(O,r)&&I.push(r);return I},Oa.$$arity=1);a.def(E,"$|",wa=function(r){r=d(p(F,"Array")["$==="](r))?r.$to_a():l(r,p(F,"Array"),"to_ary").$to_a();var I=n([],{}),O;var da=0;for(O=this.length;da<O;da++)u(I,this[da],!0);da=0;for(O=r.length;da<O;da++)u(I,r[da],!0);return I.$keys()},wa.$$arity=1);a.def(E,"$*",Ba=function(r){if(d(r["$respond_to?"]("to_str")))return this.$join(r.$to_str());r=l(r,p(F,"Integer"),"to_int");d(0>r)&&this.$raise(p(F,
"ArgumentError"),"negative argument");for(var I=[],O=this.$to_a(),da=0;da<r;da++)I=I.concat(O);return b(I,this.$class())},Ba.$$arity=1);a.def(E,"$+",Ka=function(r){r=d(p(F,"Array")["$==="](r))?r.$to_a():l(r,p(F,"Array"),"to_ary").$to_a();return this.concat(r)},Ka.$$arity=1);a.def(E,"$-",oa=function(r){r=d(p(F,"Array")["$==="](r))?r.$to_a():l(r,p(F,"Array"),"to_ary").$to_a();if(d(0===this.length))return[];if(d(0===r.length))return this.slice();var I=[],O=n([],{}),da;var ha=0;for(da=r.length;ha<da;ha++)u(O,
r[ha],!0);ha=0;for(da=this.length;ha<da;ha++)r=this[ha],void 0===m(O,r)&&I.push(r);return I},oa.$$arity=1);a.def(E,"$<<",S=function(r){this.push(r);return this},S.$$arity=1);a.def(E,"$<=>",ta=function(r){if(d(p(F,"Array")["$==="](r)))r=r.$to_a();else if(d(r["$respond_to?"]("to_ary")))r=r.$to_ary().$to_a();else return w;if(this.$hash()===r.$hash())return 0;for(var I=Math.min(this.length,r.length),O=0;O<I;O++){var da=this[O]["$<=>"](r[O]);if(0!==da)return da}return this.length["$<=>"](r.length)},ta.$$arity=
1);a.def(E,"$==",ja=function(r){function I(da,ha){var ra;if(da===ha)return!0;if(!ha.$$is_array)return H(ha,"$to_ary")?ha["$=="](da):!1;da.$$constructor!==Array&&(da=da.$to_a());ha.$$constructor!==Array&&(ha=ha.$to_a());if(da.length!==ha.length)return!1;O[da.$object_id()]=!0;var Pa=0;for(ra=da.length;Pa<ra;Pa++){var fb=da[Pa];var Za=ha[Pa];if(fb.$$is_array){if(Za.$$is_array&&Za.length!==fb.length||!O.hasOwnProperty(fb.$object_id())&&!I(fb,Za))return!1}else if(!fb["$=="](Za))return!1}return!0}var O=
{};return I(this,r)},ja.$$arity=1);a.def(E,"$[]",na=function(r,I){return r.$$is_range?f(this,r):q(this,r,I)},na.$$arity=-2);a.def(E,"$[]=",V=function(r,I,O){var da=w;var ha=this.length;if(d(p(F,"Range")["$==="](r))){da=d(p(F,"Array")["$==="](I))?I.$to_a():d(I["$respond_to?"]("to_ary"))?I.$to_ary().$to_a():[I];var ra=r.excl;O=l(r.begin,p(F,"Integer"),"to_int");var Pa=l(r.end,p(F,"Integer"),"to_int");0>O&&(O+=ha,0>O&&this.$raise(p(F,"RangeError"),""+r.$inspect()+" out of range"));0>Pa&&(Pa+=ha);ra||
(Pa+=1);if(O>ha)for(;ha<O;ha++)this[ha]=w;0>Pa?this.splice.apply(this,[O,0].concat(da)):this.splice.apply(this,[O,Pa-O].concat(da))}else{d(void 0===O)?Pa=1:(Pa=I,I=O,da=d(p(F,"Array")["$==="](I))?I.$to_a():d(I["$respond_to?"]("to_ary"))?I.$to_ary().$to_a():[I]);r=l(r,p(F,"Integer"),"to_int");Pa=l(Pa,p(F,"Integer"),"to_int");0>r&&(ra=r,r+=ha,0>r&&this.$raise(p(F,"IndexError"),"index "+ra+" too small for array; minimum "+-this.length));0>Pa&&this.$raise(p(F,"IndexError"),"negative length ("+Pa+")");
if(r>ha)for(;ha<r;ha++)this[ha]=w;void 0===O?this[r]=I:this.splice.apply(this,[r,Pa].concat(da))}return I},V.$$arity=-3);a.def(E,"$any?",Q=function(r){var I=Q.$$p,O;I&&(Q.$$p=null);var da=0;var ha=arguments.length;for(O=Array(ha);da<ha;da++)O[da]=arguments[da];I&&(Q.$$p=null);return 0===this.length?!1:J(this,a.find_super_dispatcher(this,"any?",Q,!1,!0),"any?",O,I)},Q.$$arity=-1);a.def(E,"$assoc",Y=function(r){for(var I=0,O=this.length,da;I<O;I++)if(da=this[I],da.length&&da[0]["$=="](r))return da;
return w},Y.$$arity=1);a.def(E,"$at",pa=function(r){r=l(r,p(F,"Integer"),"to_int");0>r&&(r+=this.length);return 0>r||r>=this.length?w:this[r]},pa.$$arity=1);a.def(E,"$bsearch_index",za=function(){var r=za.$$p,I=r||w;r&&(za.$$p=null);r&&(za.$$p=null);if(I===w)return this.$enum_for("bsearch_index");r=0;for(var O=this.length,da,ha,ra=!1,Pa=w;r<O;){da=r+Math.floor((O-r)/2);ha=this[da];ha=k(I,ha);if(!0===ha)Pa=da,ra=!0;else if(!1===ha||ha===w)ra=!1;else if(ha.$$is_number){if(0===ha)return da;ra=0>ha}else this.$raise(p(F,
"TypeError"),"wrong argument type "+ha.$class()+" (must be numeric, true, false or nil)");ra?O=da:r=da+1}return Pa},za.$$arity=0);a.def(E,"$bsearch",la=function(){var r=la.$$p,I=r||w;r&&(la.$$p=null);r&&(la.$$p=null);if(I===w)return this.$enum_for("bsearch");r=D(this,"bsearch_index",[],I.$to_proc());return null!=r&&r.$$is_number?this[r]:r},la.$$arity=0);a.def(E,"$cycle",xa=function(r){var I=xa.$$p,O=I||w,da,ha=w;I&&(xa.$$p=null);I&&(xa.$$p=null);null==r&&(r=w);if(O===w)return D(this,"enum_for",["cycle",
r],(da=function(){var ra=null==da.$$s?this:da.$$s;if(d(r["$nil?"]()))return A(p(F,"Float"),"INFINITY");r=p(F,"Opal")["$coerce_to!"](r,p(F,"Integer"),"to_int");return d(y(r,0))?(ra=ra.$enumerator_size(),"number"===typeof ra&&"number"===typeof r?ra*r:ra["$*"](r)):0},da.$$s=this,da.$$arity=0,da));if(d(d(ha=this["$empty?"]())?ha:r["$=="](0)))return w;if(r===w)for(;;)for(I=0,ha=this.length;I<ha;I++)k(O,this[I]);else{r=p(F,"Opal")["$coerce_to!"](r,p(F,"Integer"),"to_int");if(0>=r)return this;for(;0<r;){I=
0;for(ha=this.length;I<ha;I++)k(O,this[I]);r--}}return this},xa.$$arity=-1);a.def(E,"$clear",Ea=function(){this.splice(0,this.length);return this},Ea.$$arity=0);a.def(E,"$count",Fa=function(r){var I=Fa.$$p,O=I||w,da=w,ha;I&&(Fa.$$p=null);var ra=0;var Pa=arguments.length;for(ha=Array(Pa);ra<Pa;ra++)ha[ra]=arguments[ra];I&&(Fa.$$p=null);null==r&&(r=w);return d(d(da=r)?da:O)?J(this,a.find_super_dispatcher(this,"count",Fa,!1,!0),"count",ha,I):this.$size()},Fa.$$arity=-1);a.def(E,"$initialize_copy",Sa=
function(r){return this.$replace(r)},Sa.$$arity=1);a.def(E,"$collect",Ra=function(){var r=Ra.$$p,I=r||w,O;r&&(Ra.$$p=null);r&&(Ra.$$p=null);if(I===w)return D(this,"enum_for",["collect"],(O=function(){return(null==O.$$s?this:O.$$s).$size()},O.$$s=this,O.$$arity=0,O));r=[];for(var da=0,ha=this.length;da<ha;da++){var ra=k(I,this[da]);r.push(ra)}return r},Ra.$$arity=0);a.def(E,"$collect!",Na=function(){var r=Na.$$p,I=r||w,O;r&&(Na.$$p=null);r&&(Na.$$p=null);if(I===w)return D(this,"enum_for",["collect!"],
(O=function(){return(null==O.$$s?this:O.$$s).$size()},O.$$s=this,O.$$arity=0,O));r=0;for(var da=this.length;r<da;r++){var ha=k(I,this[r]);this[r]=ha}return this},Na.$$arity=0);a.def(E,"$combination",Qa=function(r){var I,O=Qa.$$p,da=O||w,ha=w;O&&(Qa.$$p=null);ha=p(F,"Opal")["$coerce_to!"](r,p(F,"Integer"),"to_int");if(da===w)return D(this,"enum_for",["combination",ha],(I=function(){return z((null==I.$$s?this:I.$$s).length,ha)},I.$$s=this,I.$$arity=0,I));if(0===ha)a.yield1(da,[]);else if(1===ha)for(O=
0,r=this.length;O<r;O++)a.yield1(da,[this[O]]);else if(ha===this.length)a.yield1(da,this.slice());else if(0<=ha&&ha<this.length){r=[];for(O=0;O<=ha+1;O++)r.push(0);O=[];var ra=0;var Pa=!1;for(r[0]=-1;!Pa;){for(O[ra]=this[r[ra+1]];ra<ha-1;)ra++,Pa=r[ra+1]=r[ra]+1,O[ra]=this[Pa];a.yield1(da,O.slice());ra++;do Pa=0===ra,r[ra]++,ra--;while(r[ra+1]+ha===this.length+ra+1)}}return this},Qa.$$arity=1);a.def(E,"$repeated_combination",lb=function(r){function I(Pa,fb,Za,kb){if(Za.length==Pa)Pa=Za.slice(),a.yield1(ha,
Pa);else for(;fb<kb.length;fb++)Za.push(kb[fb]),I(Pa,fb,Za,kb),Za.pop()}var O,da=lb.$$p,ha=da||w,ra=w;da&&(lb.$$p=null);ra=p(F,"Opal")["$coerce_to!"](r,p(F,"Integer"),"to_int");if(ha===w)return D(this,"enum_for",["repeated_combination",ra],(O=function(){return z((null==O.$$s?this:O.$$s).length+ra-1,ra)},O.$$s=this,O.$$arity=0,O));0<=ra&&I(ra,0,[],this);return this},lb.$$arity=1);a.def(E,"$compact",W=function(){for(var r=[],I=0,O=this.length,da;I<O;I++)(da=this[I])!==w&&r.push(da);return r},W.$$arity=
0);a.def(E,"$compact!",ya=function(){for(var r=this.length,I=0,O=this.length;I<O;I++)this[I]===w&&(this.splice(I,1),O--,I--);return this.length===r?w:this},ya.$$arity=0);a.def(E,"$concat",Da=function(r){var I,O;var da=a.slice.call(arguments,0,arguments.length);da=D(da,"map",[],(I=function(ha){var ra=null==I.$$s?this:I.$$s;null==ha&&(ha=w);ha=d(p(F,"Array")["$==="](ha))?ha.$to_a():l(ha,p(F,"Array"),"to_ary").$to_a();d(ha["$equal?"](ra))&&(ha=ha.$dup());return ha},I.$$s=this,I.$$arity=1,I));D(da,"each",
[],(O=function(ha){var ra=null==O.$$s?this:O.$$s;null==ha&&(ha=w);for(var Pa=0,fb=ha.length;Pa<fb;Pa++)ra.push(ha[Pa])},O.$$s=this,O.$$arity=1,O));return this},Da.$$arity=-1);a.def(E,"$delete",Va=function(r){var I=Va.$$p,O=I||w;I&&(Va.$$p=null);I=this.length;for(var da=0,ha=I;da<ha;da++)this[da]["$=="](r)&&(this.splice(da,1),ha--,da--);return this.length===I?O!==w?a.yieldX(O,[]):w:r},Va.$$arity=1);a.def(E,"$delete_at",ib=function(r){r=l(r,p(F,"Integer"),"to_int");0>r&&(r+=this.length);if(0>r||r>=
this.length)return w;var I=this[r];this.splice(r,1);return I},ib.$$arity=1);a.def(E,"$delete_if",db=function(){var r=db.$$p,I=r||w,O;r&&(db.$$p=null);r&&(db.$$p=null);if(I===w)return D(this,"enum_for",["delete_if"],(O=function(){return(null==O.$$s?this:O.$$s).$size()},O.$$s=this,O.$$arity=0,O));h(this,G,I);return this},db.$$arity=0);a.alias(E,"difference","-");a.def(E,"$dig",$a=function(r,I){var O=a.slice.call(arguments,1,arguments.length);var da=this["$[]"](r);if(da===w||0===O.length)return da;d(da["$respond_to?"]("dig"))||
this.$raise(p(F,"TypeError"),""+da.$class()+" does not have #dig method");return D(da,"dig",a.to_a(O))},$a.$$arity=-2);a.def(E,"$drop",ab=function(r){0>r&&this.$raise(p(F,"ArgumentError"));return this.slice(r)},ab.$$arity=1);a.def(E,"$dup",Aa=function(){var r=Aa.$$p,I;r&&(Aa.$$p=null);var O=0;var da=arguments.length;for(I=Array(da);O<da;O++)I[O]=arguments[O];return this.$$class===a.Array&&this.$$class.$allocate.$$pristine&&this.$copy_instance_variables.$$pristine&&this.$initialize_dup.$$pristine?
this.slice(0):J(this,a.find_super_dispatcher(this,"dup",Aa,!1,!0),"dup",I,r)},Aa.$$arity=0);a.def(E,"$each",ua=function(){var r=ua.$$p,I=r||w,O;r&&(ua.$$p=null);r&&(ua.$$p=null);if(I===w)return D(this,"enum_for",["each"],(O=function(){return(null==O.$$s?this:O.$$s).$size()},O.$$s=this,O.$$arity=0,O));r=0;for(var da=this.length;r<da;r++)k(I,this[r]);return this},ua.$$arity=0);a.def(E,"$each_index",La=function(){var r=La.$$p,I=r||w,O;r&&(La.$$p=null);r&&(La.$$p=null);if(I===w)return D(this,"enum_for",
["each_index"],(O=function(){return(null==O.$$s?this:O.$$s).$size()},O.$$s=this,O.$$arity=0,O));r=0;for(var da=this.length;r<da;r++)k(I,r);return this},La.$$arity=0);a.def(E,"$empty?",Ta=function(){return 0===this.length},Ta.$$arity=0);a.def(E,"$eql?",Ya=function(r){function I(da,ha){var ra;if(!ha.$$is_array)return!1;ha=ha.$to_a();if(da.length!==ha.length)return!1;O[da.$object_id()]=!0;var Pa=0;for(ra=da.length;Pa<ra;Pa++){var fb=da[Pa];var Za=ha[Pa];if(fb.$$is_array){if(Za.$$is_array&&Za.length!==
fb.length||!O.hasOwnProperty(fb.$object_id())&&!I(fb,Za))return!1}else if(!fb["$eql?"](Za))return!1}return!0}var O={};return I(this,r)},Ya.$$arity=1);a.def(E,"$fetch",Ga=function(r,I){var O=Ga.$$p,da=O||w;O&&(Ga.$$p=null);O&&(Ga.$$p=null);O=r;r=l(r,p(F,"Integer"),"to_int");0>r&&(r+=this.length);if(0<=r&&r<this.length)return this[r];da!==w&&null!=I&&this.$warn("warning: block supersedes default value argument");if(da!==w)return da(O);if(null!=I)return I;0===this.length?this.$raise(p(F,"IndexError"),
"index "+O+" outside of array bounds: 0...0"):this.$raise(p(F,"IndexError"),"index "+O+" outside of array bounds: -"+this.length+"..."+this.length)},Ga.$$arity=-2);a.def(E,"$fill",Z=function(r){var I=Z.$$p,O=I||w,da=w;I&&(Z.$$p=null);I&&(Z.$$p=null);I=a.slice.call(arguments,0,arguments.length);if(d(O)){d(2<I.length)&&this.$raise(p(F,"ArgumentError"),"wrong number of arguments ("+I.$length()+" for 0..2)");var ha=I;var ra=a.to_ary(ha);I=null==ra[0]?w:ra[0];ra=null==ra[1]?w:ra[1]}else d(0==I.length)?
this.$raise(p(F,"ArgumentError"),"wrong number of arguments (0 for 1..3)"):d(3<I.length)&&this.$raise(p(F,"ArgumentError"),"wrong number of arguments ("+I.$length()+" for 1..3)"),ha=I,ra=a.to_ary(ha),da=null==ra[0]?w:ra[0],I=null==ra[1]?w:ra[1],ra=null==ra[2]?w:ra[2];ha;if(d(p(F,"Range")["$==="](I))){if(d(ra)&&this.$raise(p(F,"TypeError"),"length invalid with range"),ha=l(I.begin,p(F,"Integer"),"to_int"),d(0>ha)&&(ha+=this.length),d(0>ha)&&this.$raise(p(F,"RangeError"),""+I.$inspect()+" out of range"),
ra=l(I.end,p(F,"Integer"),"to_int"),d(0>ra)&&(ra+=this.length),d(I["$exclude_end?"]())||(ra+=1),d(ra<=ha))return this}else if(d(I))if(ha=l(I,p(F,"Integer"),"to_int"),d(0>ha)&&(ha+=this.length),d(0>ha)&&(ha=0),d(ra)){ra=l(ra,p(F,"Integer"),"to_int");if(d(0==ra))return this;ra+=ha}else ra=this.length;else ha=0,ra=this.length;if(d(ha>this.length))for(I=this.length;I<ra;I++)this[I]=w;d(ra>this.length)&&(this.length=ra);if(d(O))for(;ha<ra;ha++)da=O(ha),this[ha]=da;else for(;ha<ra;ha++)this[ha]=da;return this},
Z.$$arity=-1);a.def(E,"$first",P=function(r){if(null==r)return 0===this.length?w:this[0];r=l(r,p(F,"Integer"),"to_int");0>r&&this.$raise(p(F,"ArgumentError"),"negative array size");return this.slice(0,r)},P.$$arity=-1);a.def(E,"$flatten",aa=function(r){function I(da,ha){var ra=[],Pa;da=da.$to_a();var fb=0;for(Pa=da.length;fb<Pa;fb++){var Za=da[fb];if(H(Za,"$to_ary",!0)){var kb=Za.$to_ary();if(kb===w)ra.push(Za);else switch(kb.$$is_array||O.$raise(p(F,"TypeError")),kb===O&&O.$raise(p(F,"ArgumentError")),
ha){case void 0:ra=ra.concat(I(kb));break;case 0:ra.push(kb);break;default:ra.push.apply(ra,I(kb,ha-1))}}else ra.push(Za)}return ra}var O=this;void 0!==r&&(r=l(r,p(F,"Integer"),"to_int"));return b(I(O,r),O.$class())},aa.$$arity=-1);a.def(E,"$flatten!",T=function(r){r=this.$flatten(r);if(this.length==r.length){for(var I=0,O=this.length;I<O&&this[I]===r[I];I++);if(I==O)return w}this.$replace(r);return this},T.$$arity=-1);a.def(E,"$hash",fa=function(){var r=void 0===x,I=["A"],O=this.$object_id(),da,
ha;try{r&&(x=Object.create(null));if(x[O])return"self";for(ha in x){var ra=x[ha];if(this["$eql?"](ra))return"self"}x[O]=this;for(da=0;da<this.length;da++)ra=this[da],I.push(ra.$hash());return I.join(",")}finally{r&&(x=void 0)}},fa.$$arity=0);a.def(E,"$include?",ka=function(r){for(var I=0,O=this.length;I<O;I++)if(this[I]["$=="](r))return!0;return!1},ka.$$arity=1);a.def(E,"$index",g=function(r){var I=g.$$p,O=I||w;I&&(g.$$p=null);I&&(g.$$p=null);var da;null!=r&&O!==w&&this.$warn("warning: given block not used");
if(null!=r)for(I=0,da=this.length;I<da;I++){if(this[I]["$=="](r))return I}else if(O!==w)for(I=0,da=this.length;I<da;I++){if(r=O(this[I]),!1!==r&&r!==w)return I}else return this.$enum_for("index");return w},g.$$arity=-1);a.def(E,"$insert",C=function(r,I){var O=a.slice.call(arguments,1,arguments.length);r=l(r,p(F,"Integer"),"to_int");if(0<O.length){0>r&&(r+=this.length+1,0>r&&this.$raise(p(F,"IndexError"),""+r+" is out of bounds"));if(r>this.length)for(var da=this.length;da<r;da++)this.push(w);this.splice.apply(this,
[r,0].concat(O))}return this},C.$$arity=-2);a.def(E,"$inspect",M=function(){for(var r=[],I=this.$__id__(),O=0,da=this.length;O<da;O++){var ha=this["$[]"](O);ha.$__id__()===I?r.push("[...]"):r.push(ha.$inspect())}return"["+r.join(", ")+"]"},M.$$arity=0);a.alias(E,"intersection","&");a.def(E,"$join",ba=function(r){null==R[","]&&(R[","]=w);null==r&&(r=w);if(d(0===this.length))return"";d(r===w)&&(r=R[","]);var I=[],O;var da=0;for(O=this.length;da<O;da++){var ha=this[da];if(H(ha,"$to_str")){var ra=ha.$to_str();
if(ra!==w){I.push(ra.$to_s());continue}}if(H(ha,"$to_ary")&&(ra=ha.$to_ary(),ra===this&&this.$raise(p(F,"ArgumentError")),ra!==w)){I.push(ra.$join(r));continue}if(H(ha,"$to_s")&&(ra=ha.$to_s(),ra!==w)){I.push(ra);continue}this.$raise(p(F,"NoMethodError").$new(""+a.inspect(ha)+" doesn't respond to #to_str, #to_ary or #to_s","to_str"))}return r===w?I.join(""):I.join(p(F,"Opal")["$coerce_to!"](r,p(F,"String"),"to_str").$to_s())},ba.$$arity=-1);a.def(E,"$keep_if",v=function(){var r=v.$$p,I=r||w,O;r&&
(v.$$p=null);r&&(v.$$p=null);if(I===w)return D(this,"enum_for",["keep_if"],(O=function(){return(null==O.$$s?this:O.$$s).$size()},O.$$s=this,O.$$arity=0,O));h(this,d,I);return this},v.$$arity=0);a.def(E,"$last",U=function(r){if(null==r)return 0===this.length?w:this[this.length-1];r=l(r,p(F,"Integer"),"to_int");0>r&&this.$raise(p(F,"ArgumentError"),"negative array size");r>this.length&&(r=this.length);return this.slice(this.length-r,this.length)},U.$$arity=-1);a.def(E,"$length",qa=function(){return this.length},
qa.$$arity=0);a.alias(E,"map","collect");a.alias(E,"map!","collect!");a.def(E,"$max",Ja=function(r){var I=Ja.$$p,O=I||w;I&&(Ja.$$p=null);I&&(Ja.$$p=null);return D(this.$each(),"max",[r],O.$to_proc())},Ja.$$arity=-1);a.def(E,"$min",jb=function(){var r=jb.$$p,I=r||w;r&&(jb.$$p=null);r&&(jb.$$p=null);return D(this.$each(),"min",[],I.$to_proc())},jb.$$arity=0);a.def(E,"$permutation",ob=function(r){var I=ob.$$p,O=I||w,da,ha=this,ra=w,Pa=w;I&&(ob.$$p=null);I&&(ob.$$p=null);if(O===w)return D(ha,"enum_for",
["permutation",r],(da=function(){var kb=null==da.$$s?this:da.$$s,vb=kb.length;kb=void 0===r?kb.length:r;for(var yb=0<=kb?1:0;kb;)yb*=vb,vb--,kb--;return yb},da.$$s=ha,da.$$arity=0,da));var fb;r=void 0===r?ha.length:l(r,p(F,"Integer"),"to_int");if(!(0>r||ha.length<r))if(0===r)a.yield1(O,[]);else if(1===r)for(ra=0;ra<ha.length;ra++)a.yield1(O,[ha[ra]]);else{ra=p(F,"Array").$new(r);Pa=p(F,"Array").$new(ha.length,!1);var Za=function(kb,vb,yb,Hb,Pb){ha=this;for(var zb=0;zb<ha.length;zb++)if(Hb["$[]"](zb)["$!"]())if(vb[yb]=
zb,yb<kb-1)Hb[zb]=!0,Za.call(ha,kb,vb,yb+1,Hb,Pb),Hb[zb]=!1;else{fb=[];for(var Ib=0;Ib<vb.length;Ib++)fb.push(ha[vb[Ib]]);k(Pb,fb)}};O!==w?(I=ha.slice(),Za.call(I,r,ra,0,Pa,O)):Za.call(ha,r,ra,0,Pa,O)}return ha},ob.$$arity=-1);a.def(E,"$repeated_permutation",mb=function(r){function I(Pa,fb,Za){if(fb.length==Pa)Pa=fb.slice(),a.yield1(ha,Pa);else for(var kb=0;kb<Za.length;kb++)fb.push(Za[kb]),I(Pa,fb,Za),fb.pop()}var O,da=mb.$$p,ha=da||w,ra=w;da&&(mb.$$p=null);ra=p(F,"Opal")["$coerce_to!"](r,p(F,"Integer"),
"to_int");if(ha===w)return D(this,"enum_for",["repeated_permutation",ra],(O=function(){var Pa=null==O.$$s?this:O.$$s;return d("number"===typeof ra?0<=ra:ra["$>="](0))?Pa.$size()["$**"](ra):0},O.$$s=this,O.$$arity=0,O));I(ra,[],this.slice());return this},mb.$$arity=1);a.def(E,"$pop",sb=function(r){if(d(void 0===r))return d(0===this.length)?w:this.pop();r=l(r,p(F,"Integer"),"to_int");d(0>r)&&this.$raise(p(F,"ArgumentError"),"negative array size");return d(0===this.length)?[]:d(1===r)?[this.pop()]:d(r>
this.length)?this.splice(0,this.length):this.splice(this.length-r,this.length)},sb.$$arity=-1);a.def(E,"$product",tb=function(r){var I=tb.$$p,O=I||w;I&&(tb.$$p=null);I&&(tb.$$p=null);var da=a.slice.call(arguments,0,arguments.length);I=O!==w?null:[];var ha=da.length+1,ra=Array(ha),Pa=Array(ha),fb=Array(ha),Za;var kb=1;fb[0]=this;for(Za=1;Za<ha;Za++)fb[Za]=l(da[Za-1],p(F,"Array"),"to_ary");for(Za=0;Za<ha;Za++){da=fb[Za].length;if(0===da)return I||this;kb*=da;2147483647<kb&&this.$raise(p(F,"RangeError"),
"too big to product");Pa[Za]=da;ra[Za]=0}a:for(;;){kb=[];for(Za=0;Za<ha;Za++)kb.push(fb[Za][ra[Za]]);I?I.push(kb):a.yield1(O,kb);Za=ha-1;for(ra[Za]++;ra[Za]===Pa[Za];){ra[Za]=0;if(0>--Za)break a;ra[Za]++}}return I||this},tb.$$arity=-1);a.def(E,"$push",wb=function(r){var I=a.slice.call(arguments,0,arguments.length);for(var O=0,da=I.length;O<da;O++)this.push(I[O]);return this},wb.$$arity=-1);a.alias(E,"append","push");a.def(E,"$rassoc",xb=function(r){for(var I=0,O=this.length,da;I<O;I++)if(da=this[I],
da.length&&void 0!==da[1]&&da[1]["$=="](r))return da;return w},xb.$$arity=1);a.def(E,"$reject",ub=function(){var r=ub.$$p,I=r||w,O;r&&(ub.$$p=null);r&&(ub.$$p=null);if(I===w)return D(this,"enum_for",["reject"],(O=function(){return(null==O.$$s?this:O.$$s).$size()},O.$$s=this,O.$$arity=0,O));r=[];for(var da=0,ha=this.length,ra;da<ha;da++)ra=I(this[da]),!1!==ra&&ra!==w||r.push(this[da]);return r},ub.$$arity=0);a.def(E,"$reject!",X=function(){var r=X.$$p,I=r||w,O,da=w;r&&(X.$$p=null);r&&(X.$$p=null);
if(I===w)return D(this,"enum_for",["reject!"],(O=function(){return(null==O.$$s?this:O.$$s).$size()},O.$$s=this,O.$$arity=0,O));da=this.$length();D(this,"delete_if",[],I.$to_proc());return this.$length()["$=="](da)?w:this},X.$$arity=0);a.def(E,"$replace",Ma=function(r){r=d(p(F,"Array")["$==="](r))?r.$to_a():l(r,p(F,"Array"),"to_ary").$to_a();this.splice(0,this.length);this.push.apply(this,r);return this},Ma.$$arity=1);a.def(E,"$reverse",bb=function(){return this.slice(0).reverse()},bb.$$arity=0);a.def(E,
"$reverse!",B=function(){return this.reverse()},B.$$arity=0);a.def(E,"$reverse_each",N=function(){var r=N.$$p,I=r||w,O;r&&(N.$$p=null);r&&(N.$$p=null);if(I===w)return D(this,"enum_for",["reverse_each"],(O=function(){return(null==O.$$s?this:O.$$s).$size()},O.$$s=this,O.$$arity=0,O));D(this.$reverse(),"each",[],I.$to_proc());return this},N.$$arity=0);a.def(E,"$rindex",sa=function(r){var I=sa.$$p,O=I||w;I&&(sa.$$p=null);I&&(sa.$$p=null);null!=r&&O!==w&&this.$warn("warning: given block not used");if(null!=
r)for(I=this.length-1;0<=I&&!(I>=this.length);I--){if(this[I]["$=="](r))return I}else if(O!==w)for(I=this.length-1;0<=I&&!(I>=this.length);I--){if(r=O(this[I]),!1!==r&&r!==w)return I}else if(null==r)return this.$enum_for("rindex");return w},sa.$$arity=-1);a.def(E,"$rotate",Ha=function(r){null==r&&(r=1);r=l(r,p(F,"Integer"),"to_int");if(1===this.length)return this.slice();if(0===this.length)return[];var I=this.slice();var O=r%I.length;r=I.slice(O);I=I.slice(0,O);return r.concat(I)},Ha.$$arity=-1);
a.def(E,"$rotate!",Ca=function(r){null==r&&(r=1);if(0===this.length||1===this.length)return this;r=l(r,p(F,"Integer"),"to_int");r=this.$rotate(r);return this.$replace(r)},Ca.$$arity=-1);(function(r,$super,O){r=e(r,$super,"SampleRandom");var da=[r].concat(O),ha,ra;r.$$prototype.rng=w;a.def(r,"$initialize",ha=function(Pa){return this.rng=Pa},ha.$$arity=1);return(a.def(r,"$rand",ra=function(Pa){var fb=l(this.rng.$rand(Pa),p(da,"Integer"),"to_int");d(0>fb)&&this.$raise(p(da,"RangeError"),"random value must be >= 0");
d(fb<Pa)||this.$raise(p(da,"RangeError"),"random value must be less than Array size");return fb},ra.$$arity=1),w)&&"rand"})(F[0],null,F);a.def(E,"$sample",Ia=function(r,I){var O=w,da=w,ha=w;if(d(void 0===r))return this.$at(p(F,"Kernel").$rand(this.length));d(void 0===I)?d(I=p(F,"Opal")["$coerce_to?"](r,p(F,"Hash"),"to_hash"))?r=w:(I=w,r=l(r,p(F,"Integer"),"to_int")):(r=l(r,p(F,"Integer"),"to_int"),I=l(I,p(F,"Hash"),"to_hash"));d(d(O=r)?0>r:O)&&this.$raise(p(F,"ArgumentError"),"count must be greater than 0");
d(I)&&(da=I["$[]"]("random"));da=d(d(ha=da)?da["$respond_to?"]("rand"):ha)?p(F,"SampleRandom").$new(da):p(F,"Kernel");if(!d(r))return this[da.$rand(this.length)];r>this.length&&(r=this.length);switch(r){case 0:return[];case 1:return[this[da.$rand(this.length)]];case 2:var ra=da.$rand(this.length);var Pa=da.$rand(this.length);ra===Pa&&(Pa=0===ra?ra+1:ra-1);return[this[ra],this[Pa]];default:if(3<this.length/r){ha=!1;I=0;O=p(F,"Array").$new(r);ra=1;for(O[0]=da.$rand(this.length);ra<r;){var fb=da.$rand(this.length);
for(Pa=0;Pa<ra;){for(;fb===O[Pa];){I++;if(100<I){ha=!0;break}fb=da.$rand(this.length)}if(ha)break;Pa++}if(ha)break;O[ra]=fb;ra++}if(!ha){for(ra=0;ra<r;)O[ra]=this[O[ra]],ra++;return O}}O=this.slice();for(ra=0;ra<r;ra++)ha=da.$rand(this.length),I=O[ra],O[ra]=O[ha],O[ha]=I;return r===this.length?O:O["$[]"](0,r)}},Ia.$$arity=-1);a.def(E,"$select",Wa=function(){var r=Wa.$$p,I=r||w,O;r&&(Wa.$$p=null);r&&(Wa.$$p=null);if(I===w)return D(this,"enum_for",["select"],(O=function(){return(null==O.$$s?this:O.$$s).$size()},
O.$$s=this,O.$$arity=0,O));r=[];for(var da=0,ha=this.length,ra,Pa;da<ha;da++)ra=this[da],Pa=k(I,ra),d(Pa)&&r.push(ra);return r},Wa.$$arity=0);a.def(E,"$select!",hb=function(){var r=hb.$$p,I=r||w,O;r&&(hb.$$p=null);r&&(hb.$$p=null);if(I===w)return D(this,"enum_for",["select!"],(O=function(){return(null==O.$$s?this:O.$$s).$size()},O.$$s=this,O.$$arity=0,O));r=this.length;D(this,"keep_if",[],I.$to_proc());return this.length===r?w:this},hb.$$arity=0);a.alias(E,"filter","select");a.alias(E,"filter!","select!");
a.def(E,"$shift",eb=function(r){if(d(void 0===r)){if(d(0===this.length))return w;r=this[0];for(var I=1,O=this.length;I<O;I++)this[I-1]=this[I];this.pop();return r}r=l(r,p(F,"Integer"),"to_int");d(0>r)&&this.$raise(p(F,"ArgumentError"),"negative array size");return d(0===this.length)?[]:this.splice(0,r)},eb.$$arity=-1);a.alias(E,"size","length");a.def(E,"$shuffle",Ua=function(r){return this.$dup().$to_a()["$shuffle!"](r)},Ua.$$arity=-1);a.def(E,"$shuffle!",Xa=function(r){var I,O=this.length;void 0!==
r&&(r=p(F,"Opal")["$coerce_to?"](r,p(F,"Hash"),"to_hash"),r!==w&&(r=r["$[]"]("random"),r!==w&&r["$respond_to?"]("rand")&&(I=r)));for(;O;){I?(r=I.$rand(O).$to_int(),0>r&&this.$raise(p(F,"RangeError"),"random number too small "+r),r>=O&&this.$raise(p(F,"RangeError"),"random number too big "+r)):r=this.$rand(O);var da=this[--O];this[O]=this[r];this[r]=da}return this},Xa.$$arity=-1);a.alias(E,"slice","[]");a.def(E,"$slice!",gb=function(r,I){if(d(void 0===I))if(d(p(F,"Range")["$==="](r))){var O=this["$[]"](r);
I=l(r.begin,p(F,"Integer"),"to_int");var da=l(r.end,p(F,"Integer"),"to_int");0>I&&(I+=this.length);0>da?da+=this.length:da>=this.length&&(da=this.length-1,r.excl&&(da+=1));var ha=da-I;r.excl?--da:ha+=1;I<this.length&&0<=I&&da<this.length&&0<=da&&0<ha&&this.splice(I,ha)}else{r=l(r,p(F,"Integer"),"to_int");0>r&&(r+=this.length);if(0>r||r>=this.length)return w;O=this[r];0===r?this.shift():this.splice(r,1)}else{r=l(r,p(F,"Integer"),"to_int");I=l(I,p(F,"Integer"),"to_int");if(0>I)return w;O=this["$[]"](r,
I);0>r&&(r+=this.length);r+I>this.length&&(I=this.length-r);r<this.length&&0<=r&&this.splice(r,I)}return O},gb.$$arity=-2);a.def(E,"$sort",qb=function(){var r=qb.$$p,I=r||w,O=this;r&&(qb.$$p=null);r&&(qb.$$p=null);if(!d(1<O.length))return O;I===w&&(I=function(da,ha){return da["$<=>"](ha)});return O.slice().sort(function(da,ha){var ra=I(da,ha);ra===w&&O.$raise(p(F,"ArgumentError"),"comparison of "+da.$inspect()+" with "+ha.$inspect()+" failed");return y(ra,0)?1:("number"===typeof ra?0>ra:ra["$<"](0))?
-1:0})},qb.$$arity=0);a.def(E,"$sort!",nb=function(){var r=nb.$$p,I=r||w;r&&(nb.$$p=null);r&&(nb.$$p=null);r=I!==w?D(this.slice(),"sort",[],I.$to_proc()):this.slice().$sort();I=this.length=0;for(var O=r.length;I<O;I++)this.push(r[I]);return this},nb.$$arity=0);a.def(E,"$sort_by!",pb=function(){var r=pb.$$p,I=r||w,O;r&&(pb.$$p=null);r&&(pb.$$p=null);return I===w?D(this,"enum_for",["sort_by!"],(O=function(){return(null==O.$$s?this:O.$$s).$size()},O.$$s=this,O.$$arity=0,O)):this.$replace(D(this,"sort_by",
[],I.$to_proc()))},pb.$$arity=0);a.def(E,"$take",Gb=function(r){0>r&&this.$raise(p(F,"ArgumentError"));return this.slice(0,r)},Gb.$$arity=1);a.def(E,"$take_while",Ab=function(){var r=Ab.$$p,I=r||w;r&&(Ab.$$p=null);r&&(Ab.$$p=null);r=[];for(var O=0,da=this.length,ha,ra;O<da;O++){ha=this[O];ra=I(ha);if(!1===ra||ra===w)break;r.push(ha)}return r},Ab.$$arity=0);a.def(E,"$to_a",Jb=function(){return this},Jb.$$arity=0);a.alias(E,"to_ary","to_a");a.def(E,"$to_h",Bb=function(){var r=Bb.$$p,I=r||w;r&&(Bb.$$p=
null);r&&(Bb.$$p=null);r=this;I!==w&&(r=D(r,"map",[],I.$to_proc()));var O=r.length,da=n([],{});for(I=0;I<O;I++){var ha=p(F,"Opal")["$coerce_to?"](r[I],p(F,"Array"),"to_ary");ha.$$is_array||this.$raise(p(F,"TypeError"),"wrong element type "+ha.$class()+" at "+I+" (expected array)");2!==ha.length&&this.$raise(p(F,"ArgumentError"),"wrong array length at "+I+" (expected 2, was "+ha.$length()+")");var ra=ha[0];ha=ha[1];u(da,ra,ha)}return da},Bb.$$arity=0);a.alias(E,"to_s","inspect");a.def(E,"$transpose",
Kb=function(){var r,I=w,O=w;if(d(this["$empty?"]()))return[];I=[];O=w;D(this,"each",[],(r=function(da){var ha=null==r.$$s?this:r.$$s,ra,Pa=w;null==da&&(da=w);da=d(p(F,"Array")["$==="](da))?da.$to_a():l(da,p(F,"Array"),"to_ary").$to_a();O=d(Pa=O)?Pa:da.length;d(da.length["$!="](O))&&ha.$raise(p(F,"IndexError"),"element size differs ("+da.length+" should be "+O+")");return D(da.length,"times",[],(ra=function(fb){var Za;null==fb&&(fb=w);if(!d(Za=I["$[]"](fb))){Za=[fb,[]];D(I,"[]=",a.to_a(Za));var kb=
Za.length;kb="number"===typeof kb?kb-1:kb["$-"](1);Za=Za[kb]}return Za["$<<"](da.$at(fb))},ra.$$s=ha,ra.$$arity=1,ra))},r.$$s=this,r.$$arity=1,r));return I},Kb.$$arity=0);a.alias(E,"union","|");a.def(E,"$uniq",Cb=function(){var r=Cb.$$p,I=r||w;r&&(Cb.$$p=null);r&&(Cb.$$p=null);r=n([],{});var O;if(I===w){var da=0;for(O=this.length;da<O;da++){var ha=this[da];void 0===m(r,ha)&&u(r,ha,ha)}}else for(da=0,O=this.length;da<O;da++){ha=this[da];var ra=k(I,ha);void 0===m(r,ra)&&u(r,ra,ha)}return b(r.$values(),
this.$class())},Cb.$$arity=0);a.def(E,"$uniq!",Db=function(){var r=Db.$$p,I=r||w;r&&(Db.$$p=null);r&&(Db.$$p=null);r=this.length;var O=n([],{}),da;var ha=0;for(da=r;ha<da;ha++){var ra=this[ha];var Pa=I===w?ra:k(I,ra);void 0===m(O,Pa)?u(O,Pa,ra):(this.splice(ha,1),da--,ha--)}return this.length===r?w:this},Db.$$arity=0);a.def(E,"$unshift",Lb=function(r){var I=a.slice.call(arguments,0,arguments.length);for(var O=I.length-1;0<=O;O--)this.unshift(I[O]);return this},Lb.$$arity=-1);a.alias(E,"prepend","unshift");
a.def(E,"$values_at",Mb=function(r){var I,O=w;var da=a.slice.call(arguments,0,arguments.length);O=[];D(da,"each",[],(I=function(ha){var ra=null==I.$$s?this:I.$$s,Pa,fb=w,Za=w;fb=w;null==ha&&(ha=w);if(d(ha["$is_a?"](p(F,"Range")))){fb=l(ha.$last(),p(F,"Integer"),"to_int");Za=l(ha.$first(),p(F,"Integer"),"to_int");if(0>Za)return Za+=ra.length,w;0>fb&&(fb+=ra.length);ha["$exclude_end?"]()&&fb--;return fb<Za?w:D(Za,"upto",[fb],(Pa=function(kb){var vb=null==Pa.$$s?this:Pa.$$s;null==kb&&(kb=w);return O["$<<"](vb.$at(kb))},
Pa.$$s=ra,Pa.$$arity=1,Pa))}fb=l(ha,p(F,"Integer"),"to_int");return O["$<<"](ra.$at(fb))},I.$$s=this,I.$$arity=1,I));return O},Mb.$$arity=-1);a.def(E,"$zip",Eb=function(r){var I=Eb.$$p,O=I||w,da=w;I&&(Eb.$$p=null);I&&(Eb.$$p=null);I=a.slice.call(arguments,0,arguments.length);var ha=[],ra=this.length,Pa,fb;var Za=0;for(fb=I.length;Za<fb;Za++){var kb=I[Za];kb.$$is_array||(kb.$$is_enumerator?Infinity===kb.$size()?I[Za]=kb.$take(ra):I[Za]=kb.$to_a():I[Za]=(d(da=p(F,"Opal")["$coerce_to?"](kb,p(F,"Array"),
"to_ary"))?da:p(F,"Opal")["$coerce_to!"](kb,p(F,"Enumerator"),"to_enum","each")).$to_a())}for(Pa=0;Pa<ra;Pa++){da=[this[Pa]];Za=0;for(fb=I.length;Za<fb;Za++)kb=I[Za][Pa],null==kb&&(kb=w),da[Za+1]=kb;ha[Pa]=da}if(O!==w){for(Pa=0;Pa<ra;Pa++)O(ha[Pa]);return w}return ha},Eb.$$arity=-1);a.defs(E,"$inherited",Nb=function(r){r.$$prototype.$to_a=function(){return this.slice(0,this.length)}},Nb.$$arity=1);a.def(E,"$instance_variables",Fb=function(){var r,I=Fb.$$p,O=w,da=w,ha=w;I&&(Fb.$$p=null);da=0;ha=arguments.length;
for(O=Array(ha);da<ha;da++)O[da]=arguments[da];return D(J(this,a.find_super_dispatcher(this,"instance_variables",Fb,!1,!0),"instance_variables",O,I),"reject",[],(r=function(ra){var Pa;null==ra&&(ra=w);return d(Pa=/^@\d+$/.test(ra))?Pa:ra["$=="]("@length")},r.$$s=this,r.$$arity=1,r))},Fb.$$arity=0);p(F,"Opal").$pristine(E.$singleton_class(),"allocate");p(F,"Opal").$pristine(E,"copy_instance_variables","initialize_dup");return(a.def(E,"$pack",Ob=function(r){a.slice.call(arguments,0,arguments.length);
return this.$raise("To use Array#pack, you must first require 'corelib/array/pack'.")},Ob.$$arity=-1),w)&&"pack"}(t[0],Array,t)};
Opal.modules["corelib/hash"]=function(a){function y(k,m){return"number"===typeof k&&"number"===typeof m?k>=m:k["$>="](m)}var K=a.top,t=[],w=a.nil,A=a.$$,p=a.klass,d=a.send,G=a.hash2,x=a.truthy;a.add_stubs("$require $include $coerce_to? $[] $merge! $allocate $raise $coerce_to! $each $fetch $>= $> $== $compare_by_identity $lambda? $abs $arity $enum_for $size $respond_to? $class $dig $new $inspect $map $to_proc $flatten $eql? $default $dup $default_proc $default_proc= $- $default= $to_h $proc".split(" "));K.$require("corelib/enumerable");
return function(k,$super,u){k=p(k,$super,"Hash");var c=[k].concat(u),l,H,e,n,J,D,R,ia,ea,ma,b,h,f,q,z,E,F,L,ca,va,Oa,wa,Ba,Ka,oa,S,ta,ja,na,V,Q,Y,pa,za,la,xa,Ea,Fa,Sa,Ra,Na,Qa,lb,W,ya,Da,Va,ib,db,$a,ab,Aa,ua,La,Ta,Ya,Ga,Z,P,aa,T,fa;k.$include(A(c,"Enumerable"));k.$$prototype.$$is_hash=!0;a.defs(k,"$[]",l=function(g){var C=a.slice.call(arguments,0,arguments.length);var M=C.length,ba;if(1===M){var v=A(c,"Opal")["$coerce_to?"](C["$[]"](0),A(c,"Hash"),"to_hash");if(v!==w)return this.$allocate()["$merge!"](v);
C=A(c,"Opal")["$coerce_to?"](C["$[]"](0),A(c,"Array"),"to_ary");C===w&&this.$raise(A(c,"ArgumentError"),"odd number of arguments for Hash");M=C.length;v=this.$allocate();for(ba=0;ba<M;ba++)if(C[ba].$$is_array)switch(C[ba].length){case 1:v.$store(C[ba][0],w);break;case 2:v.$store(C[ba][0],C[ba][1]);break;default:this.$raise(A(c,"ArgumentError"),"invalid number of elements ("+C[ba].length+" for 1..2)")}return v}0!==M%2&&this.$raise(A(c,"ArgumentError"),"odd number of arguments for Hash");v=this.$allocate();
for(ba=0;ba<M;ba+=2)v.$store(C[ba],C[ba+1]);return v},l.$$arity=-1);a.defs(k,"$allocate",H=function(){var g=new this.$$constructor;a.hash_init(g);g.$$none=w;g.$$proc=w;return g},H.$$arity=0);a.defs(k,"$try_convert",e=function(g){return A(c,"Opal")["$coerce_to?"](g,A(c,"Hash"),"to_hash")},e.$$arity=1);a.def(k,"$initialize",n=function(g){var C=n.$$p,M=C||w;C&&(n.$$p=null);C&&(n.$$p=null);void 0!==g&&M!==w&&this.$raise(A(c,"ArgumentError"),"wrong number of arguments (1 for 0)");this.$$none=void 0===
g?w:g;this.$$proc=M;return this},n.$$arity=-1);a.def(k,"$==",J=function(g){if(this===g)return!0;if(!g.$$is_hash||this.$$keys.length!==g.$$keys.length)return!1;for(var C=0,M=this.$$keys,ba=M.length,v,U;C<ba;C++)if(v=M[C],v.$$is_string?(U=this.$$smap[v],v=g.$$smap[v]):(U=v.value,v=a.hash_get(g,v.key)),void 0===v||!U["$eql?"](v))return!1;return!0},J.$$arity=1);a.def(k,"$>=",D=function(g){var C,M=w;g=A(c,"Opal")["$coerce_to!"](g,A(c,"Hash"),"to_hash");if(this.$$keys.length<g.$$keys.length)return!1;M=
!0;d(g,"each",[],(C=function(ba,v){var U=null==C.$$s?this:C.$$s;null==ba&&(ba=w);null==v&&(v=w);ba=U.$fetch(ba,null);if(null==ba||ba!==v)M=!1},C.$$s=this,C.$$arity=2,C));return M},D.$$arity=1);a.def(k,"$>",R=function(g){g=A(c,"Opal")["$coerce_to!"](g,A(c,"Hash"),"to_hash");return this.$$keys.length<=g.$$keys.length?!1:y(this,g)},R.$$arity=1);a.def(k,"$<",ia=function(g){g=A(c,"Opal")["$coerce_to!"](g,A(c,"Hash"),"to_hash");return"number"===typeof g&&"number"===typeof this?g>this:g["$>"](this)},ia.$$arity=
1);a.def(k,"$<=",ea=function(g){g=A(c,"Opal")["$coerce_to!"](g,A(c,"Hash"),"to_hash");return y(g,this)},ea.$$arity=1);a.def(k,"$[]",ma=function(g){var C=a.hash_get(this,g);return void 0!==C?C:this.$default(g)},ma.$$arity=1);a.def(k,"$[]=",b=function(g,C){a.hash_put(this,g,C);return C},b.$$arity=2);a.def(k,"$assoc",h=function(g){for(var C=0,M=this.$$keys,ba=M.length,v;C<ba;C++)if(v=M[C],v.$$is_string){if(v["$=="](g))return[v,this.$$smap[v]]}else if(v.key["$=="](g))return[v.key,v.value];return w},h.$$arity=
1);a.def(k,"$clear",f=function(){a.hash_init(this);return this},f.$$arity=0);a.def(k,"$clone",q=function(){var g=new this.$$class;a.hash_init(g);a.hash_clone(this,g);return g},q.$$arity=0);a.def(k,"$compact",z=function(){for(var g=a.hash(),C=0,M=this.$$keys,ba=M.length,v,U;C<ba;C++)v=M[C],v.$$is_string?U=this.$$smap[v]:(U=v.value,v=v.key),U!==w&&a.hash_put(g,v,U);return g},z.$$arity=0);a.def(k,"$compact!",E=function(){for(var g=!1,C=0,M=this.$$keys,ba=M.length,v,U;C<ba;C++)v=M[C],v.$$is_string?U=
this.$$smap[v]:(U=v.value,v=v.key),U===w&&void 0!==a.hash_delete(this,v)&&(g=!0,ba--,C--);return g?this:w},E.$$arity=0);a.def(k,"$compare_by_identity",F=function(){var g,C=this.$$keys;if(this.$$by_identity)return this;if(0===this.$$keys.length)return this.$$by_identity=!0,this;var M=G([],{}).$compare_by_identity();var ba=0;for(g=C.length;ba<g;ba++){var v=C[ba];v.$$is_string||(v=v.key);a.hash_put(M,v,a.hash_get(this,v))}this.$$by_identity=!0;this.$$map=M.$$map;this.$$smap=M.$$smap;return this},F.$$arity=
0);a.def(k,"$compare_by_identity?",L=function(){return!0===this.$$by_identity},L.$$arity=0);a.def(k,"$default",ca=function(g){return void 0!==g&&this.$$proc!==w&&void 0!==this.$$proc?this.$$proc.$call(this,g):void 0===this.$$none?w:this.$$none},ca.$$arity=-1);a.def(k,"$default=",va=function(g){this.$$proc=w;return this.$$none=g},va.$$arity=1);a.def(k,"$default_proc",Oa=function(){return void 0!==this.$$proc?this.$$proc:w},Oa.$$arity=0);a.def(k,"$default_proc=",wa=function(g){var C=g;C!==w&&(C=A(c,
"Opal")["$coerce_to!"](C,A(c,"Proc"),"to_proc"),C["$lambda?"]()&&2!==C.$arity().$abs()&&this.$raise(A(c,"TypeError"),"default_proc takes two arguments"));this.$$none=w;this.$$proc=C;return g},wa.$$arity=1);a.def(k,"$delete",Ba=function(g){var C=Ba.$$p,M=C||w;C&&(Ba.$$p=null);C&&(Ba.$$p=null);C=a.hash_delete(this,g);return void 0!==C?C:M!==w?a.yield1(M,g):w},Ba.$$arity=1);a.def(k,"$delete_if",Ka=function(){var g=Ka.$$p,C=g||w,M;g&&(Ka.$$p=null);g&&(Ka.$$p=null);if(!x(C))return d(this,"enum_for",["delete_if"],
(M=function(){return(null==M.$$s?this:M.$$s).$size()},M.$$s=this,M.$$arity=0,M));g=0;for(var ba=this.$$keys,v=ba.length,U,qa;g<v;g++)U=ba[g],U.$$is_string?qa=this.$$smap[U]:(qa=U.value,U=U.key),qa=C(U,qa),!1!==qa&&qa!==w&&void 0!==a.hash_delete(this,U)&&(v--,g--);return this},Ka.$$arity=0);a.alias(k,"dup","clone");a.def(k,"$dig",oa=function(g,C){var M=a.slice.call(arguments,1,arguments.length);var ba=this["$[]"](g);if(ba===w||0===M.length)return ba;x(ba["$respond_to?"]("dig"))||this.$raise(A(c,"TypeError"),
""+ba.$class()+" does not have #dig method");return d(ba,"dig",a.to_a(M))},oa.$$arity=-2);a.def(k,"$each",S=function(){var g=S.$$p,C=g||w,M;g&&(S.$$p=null);g&&(S.$$p=null);if(!x(C))return d(this,"enum_for",["each"],(M=function(){return(null==M.$$s?this:M.$$s).$size()},M.$$s=this,M.$$arity=0,M));g=0;for(var ba=this.$$keys,v=ba.length,U,qa;g<v;g++)U=ba[g],U.$$is_string?qa=this.$$smap[U]:(qa=U.value,U=U.key),a.yield1(C,[U,qa]);return this},S.$$arity=0);a.def(k,"$each_key",ta=function(){var g=ta.$$p,
C=g||w,M;g&&(ta.$$p=null);g&&(ta.$$p=null);if(!x(C))return d(this,"enum_for",["each_key"],(M=function(){return(null==M.$$s?this:M.$$s).$size()},M.$$s=this,M.$$arity=0,M));g=0;for(var ba=this.$$keys,v=ba.length,U;g<v;g++)U=ba[g],C(U.$$is_string?U:U.key);return this},ta.$$arity=0);a.alias(k,"each_pair","each");a.def(k,"$each_value",ja=function(){var g=ja.$$p,C=g||w,M;g&&(ja.$$p=null);g&&(ja.$$p=null);if(!x(C))return d(this,"enum_for",["each_value"],(M=function(){return(null==M.$$s?this:M.$$s).$size()},
M.$$s=this,M.$$arity=0,M));g=0;for(var ba=this.$$keys,v=ba.length,U;g<v;g++)U=ba[g],C(U.$$is_string?this.$$smap[U]:U.value);return this},ja.$$arity=0);a.def(k,"$empty?",na=function(){return 0===this.$$keys.length},na.$$arity=0);a.alias(k,"eql?","==");a.def(k,"$fetch",V=function(g,C){var M=V.$$p,ba=M||w;M&&(V.$$p=null);M&&(V.$$p=null);M=a.hash_get(this,g);return void 0!==M?M:ba!==w?ba(g):void 0!==C?C:this.$raise(A(c,"KeyError").$new("key not found: "+g.$inspect(),G(["key","receiver"],{key:g,receiver:this})))},
V.$$arity=-2);a.def(k,"$fetch_values",Q=function(g){var C=Q.$$p,M=C||w,ba;C&&(Q.$$p=null);C&&(Q.$$p=null);C=a.slice.call(arguments,0,arguments.length);return d(C,"map",[],(ba=function(v){var U=null==ba.$$s?this:ba.$$s;null==v&&(v=w);return d(U,"fetch",[v],M.$to_proc())},ba.$$s=this,ba.$$arity=1,ba))},Q.$$arity=-1);a.def(k,"$flatten",Y=function(g){null==g&&(g=1);g=A(c,"Opal")["$coerce_to!"](g,A(c,"Integer"),"to_int");for(var C=[],M=0,ba=this.$$keys,v=ba.length,U,qa;M<v;M++)U=ba[M],U.$$is_string?qa=
this.$$smap[U]:(qa=U.value,U=U.key),C.push(U),qa.$$is_array?1===g?C.push(qa):C=C.concat(qa.$flatten(g-2)):C.push(qa);return C},Y.$$arity=-1);a.def(k,"$has_key?",pa=function(g){return void 0!==a.hash_get(this,g)},pa.$$arity=1);a.def(k,"$has_value?",za=function(g){for(var C=0,M=this.$$keys,ba=M.length,v;C<ba;C++)if(v=M[C],(v.$$is_string?this.$$smap[v]:v.value)["$=="](g))return!0;return!1},za.$$arity=1);a.def(k,"$hash",la=function(){var g=void 0===a.hash_ids,C=this.$object_id(),M=["Hash"];try{g&&(a.hash_ids=
Object.create(null));if(a[C])return"self";for(qa in a.hash_ids){var ba=a.hash_ids[qa];if(this["$eql?"](ba))return"self"}a.hash_ids[C]=this;C=0;for(var v=this.$$keys,U=v.length;C<U;C++){var qa=v[C];qa.$$is_string?M.push([qa,this.$$smap[qa].$hash()]):M.push([qa.key_hash,qa.value.$hash()])}return M.sort().join()}finally{g&&(a.hash_ids=void 0)}},la.$$arity=0);a.alias(k,"include?","has_key?");a.def(k,"$index",xa=function(g){for(var C=0,M=this.$$keys,ba=M.length,v,U;C<ba;C++)if(v=M[C],v.$$is_string?U=this.$$smap[v]:
(U=v.value,v=v.key),U["$=="](g))return v;return w},xa.$$arity=1);a.def(k,"$indexes",Ea=function(g){var C=a.slice.call(arguments,0,arguments.length);for(var M=[],ba=0,v=C.length,U;ba<v;ba++)U=C[ba],U=a.hash_get(this,U),void 0===U?M.push(this.$default()):M.push(U);return M},Ea.$$arity=-1);a.alias(k,"indices","indexes");var ka;a.def(k,"$inspect",Fa=function(){var g=void 0===ka,C=this.$object_id(),M=[];try{g&&(ka={});if(ka.hasOwnProperty(C))return"{...}";ka[C]=!0;C=0;for(var ba=this.$$keys,v=ba.length,
U,qa;C<v;C++)U=ba[C],U.$$is_string?qa=this.$$smap[U]:(qa=U.value,U=U.key),M.push(U.$inspect()+"=>"+qa.$inspect());return"{"+M.join(", ")+"}"}finally{g&&(ka=void 0)}},Fa.$$arity=0);a.def(k,"$invert",Sa=function(){for(var g=a.hash(),C=0,M=this.$$keys,ba=M.length,v,U;C<ba;C++)v=M[C],v.$$is_string?U=this.$$smap[v]:(U=v.value,v=v.key),a.hash_put(g,U,v);return g},Sa.$$arity=0);a.def(k,"$keep_if",Ra=function(){var g=Ra.$$p,C=g||w,M;g&&(Ra.$$p=null);g&&(Ra.$$p=null);if(!x(C))return d(this,"enum_for",["keep_if"],
(M=function(){return(null==M.$$s?this:M.$$s).$size()},M.$$s=this,M.$$arity=0,M));g=0;for(var ba=this.$$keys,v=ba.length,U,qa;g<v;g++)U=ba[g],U.$$is_string?qa=this.$$smap[U]:(qa=U.value,U=U.key),qa=C(U,qa),!1!==qa&&qa!==w||void 0===a.hash_delete(this,U)||(v--,g--);return this},Ra.$$arity=0);a.alias(k,"key","index");a.alias(k,"key?","has_key?");a.def(k,"$keys",Na=function(){for(var g=[],C=0,M=this.$$keys,ba=M.length,v;C<ba;C++)v=M[C],v.$$is_string?g.push(v):g.push(v.key);return g},Na.$$arity=0);a.def(k,
"$length",Qa=function(){return this.$$keys.length},Qa.$$arity=0);a.alias(k,"member?","has_key?");a.def(k,"$merge",lb=function(g){var C=lb.$$p,M=C||w;C&&(lb.$$p=null);C&&(lb.$$p=null);return d(this.$dup(),"merge!",[g],M.$to_proc())},lb.$$arity=1);a.def(k,"$merge!",W=function(g){var C=W.$$p,M=C||w;C&&(W.$$p=null);C&&(W.$$p=null);g.$$is_hash||(g=A(c,"Opal")["$coerce_to!"](g,A(c,"Hash"),"to_hash"));var ba=g.$$keys,v=ba.length;if(M===w){for(C=0;C<v;C++){var U=ba[C];if(U.$$is_string)var qa=g.$$smap[U];
else qa=U.value,U=U.key;a.hash_put(this,U,qa)}return this}for(C=0;C<v;C++){U=ba[C];U.$$is_string?qa=g.$$smap[U]:(qa=U.value,U=U.key);var Ja=a.hash_get(this,U);void 0===Ja?a.hash_put(this,U,qa):a.hash_put(this,U,M(U,Ja,qa))}return this},W.$$arity=1);a.def(k,"$rassoc",ya=function(g){for(var C=0,M=this.$$keys,ba=M.length,v,U;C<ba;C++)if(v=M[C],v.$$is_string?U=this.$$smap[v]:(U=v.value,v=v.key),U["$=="](g))return[v,U];return w},ya.$$arity=1);a.def(k,"$rehash",Da=function(){a.hash_rehash(this);return this},
Da.$$arity=0);a.def(k,"$reject",Va=function(){var g=Va.$$p,C=g||w,M;g&&(Va.$$p=null);g&&(Va.$$p=null);if(!x(C))return d(this,"enum_for",["reject"],(M=function(){return(null==M.$$s?this:M.$$s).$size()},M.$$s=this,M.$$arity=0,M));g=a.hash();for(var ba=0,v=this.$$keys,U=v.length,qa,Ja,jb;ba<U;ba++)qa=v[ba],qa.$$is_string?Ja=this.$$smap[qa]:(Ja=qa.value,qa=qa.key),jb=C(qa,Ja),!1!==jb&&jb!==w||a.hash_put(g,qa,Ja);return g},Va.$$arity=0);a.def(k,"$reject!",ib=function(){var g=ib.$$p,C=g||w,M;g&&(ib.$$p=
null);g&&(ib.$$p=null);if(!x(C))return d(this,"enum_for",["reject!"],(M=function(){return(null==M.$$s?this:M.$$s).$size()},M.$$s=this,M.$$arity=0,M));g=!1;for(var ba=0,v=this.$$keys,U=v.length,qa,Ja;ba<U;ba++)qa=v[ba],qa.$$is_string?Ja=this.$$smap[qa]:(Ja=qa.value,qa=qa.key),Ja=C(qa,Ja),!1!==Ja&&Ja!==w&&void 0!==a.hash_delete(this,qa)&&(g=!0,U--,ba--);return g?this:w},ib.$$arity=0);a.def(k,"$replace",db=function(g){g=A(c,"Opal")["$coerce_to!"](g,A(c,"Hash"),"to_hash");a.hash_init(this);var C=0;for(var M=
g.$$keys,ba=M.length,v,U;C<ba;C++)v=M[C],v.$$is_string?U=g.$$smap[v]:(U=v.value,v=v.key),a.hash_put(this,v,U);x(g.$default_proc())?(C=[g.$default_proc()],d(this,"default_proc=",a.to_a(C))):(C=[g.$default()],d(this,"default=",a.to_a(C)));g=C;C=C.length;C="number"===typeof C?C-1:C["$-"](1);g[C];return this},db.$$arity=1);a.def(k,"$select",$a=function(){var g=$a.$$p,C=g||w,M;g&&($a.$$p=null);g&&($a.$$p=null);if(!x(C))return d(this,"enum_for",["select"],(M=function(){return(null==M.$$s?this:M.$$s).$size()},
M.$$s=this,M.$$arity=0,M));g=a.hash();for(var ba=0,v=this.$$keys,U=v.length,qa,Ja,jb;ba<U;ba++)qa=v[ba],qa.$$is_string?Ja=this.$$smap[qa]:(Ja=qa.value,qa=qa.key),jb=C(qa,Ja),!1!==jb&&jb!==w&&a.hash_put(g,qa,Ja);return g},$a.$$arity=0);a.def(k,"$select!",ab=function(){var g=ab.$$p,C=g||w,M;g&&(ab.$$p=null);g&&(ab.$$p=null);if(!x(C))return d(this,"enum_for",["select!"],(M=function(){return(null==M.$$s?this:M.$$s).$size()},M.$$s=this,M.$$arity=0,M));g=w;for(var ba=0,v=this.$$keys,U=v.length,qa,Ja;ba<
U;ba++)if(qa=v[ba],qa.$$is_string?Ja=this.$$smap[qa]:(Ja=qa.value,qa=qa.key),Ja=C(qa,Ja),!1===Ja||Ja===w)void 0!==a.hash_delete(this,qa)&&(U--,ba--),g=this;return g},ab.$$arity=0);a.alias(k,"filter","select");a.alias(k,"filter!","select!");a.def(k,"$shift",Aa=function(){var g=this.$$keys;return 0<g.length?(g=g[0],g=g.$$is_string?g:g.key,[g,a.hash_delete(this,g)]):this.$default(w)},Aa.$$arity=0);a.alias(k,"size","length");a.def(k,"$slice",ua=function(g){var C=a.slice.call(arguments,0,arguments.length);
for(var M=a.hash(),ba=0,v=C.length;ba<v;ba++){var U=C[ba],qa=a.hash_get(this,U);void 0!==qa&&a.hash_put(M,U,qa)}return M},ua.$$arity=-1);a.alias(k,"store","[]=");a.def(k,"$to_a",La=function(){for(var g=[],C=0,M=this.$$keys,ba=M.length,v,U;C<ba;C++)v=M[C],v.$$is_string?U=this.$$smap[v]:(U=v.value,v=v.key),g.push([v,U]);return g},La.$$arity=0);a.def(k,"$to_h",Ta=function(){var g=Ta.$$p,C=g||w;g&&(Ta.$$p=null);g&&(Ta.$$p=null);if(C!==w)return d(this,"map",[],C.$to_proc()).$to_h();if(this.$$class===a.Hash)return this;
g=new a.Hash;a.hash_init(g);a.hash_clone(this,g);return g},Ta.$$arity=0);a.def(k,"$to_hash",Ya=function(){return this},Ya.$$arity=0);a.def(k,"$to_proc",Ga=function(){var g;return d(this,"proc",[],(g=function(C){var M=null==g.$$s?this:g.$$s;null==C&&M.$raise(A(c,"ArgumentError"),"no key given");return M["$[]"](C)},g.$$s=this,g.$$arity=-1,g))},Ga.$$arity=0);a.alias(k,"to_s","inspect");a.def(k,"$transform_keys",Z=function(){var g=Z.$$p,C=g||w,M;g&&(Z.$$p=null);g&&(Z.$$p=null);if(!x(C))return d(this,
"enum_for",["transform_keys"],(M=function(){return(null==M.$$s?this:M.$$s).$size()},M.$$s=this,M.$$arity=0,M));g=a.hash();for(var ba=0,v=this.$$keys,U=v.length,qa,Ja;ba<U;ba++)qa=v[ba],qa.$$is_string?Ja=this.$$smap[qa]:(Ja=qa.value,qa=qa.key),qa=a.yield1(C,qa),a.hash_put(g,qa,Ja);return g},Z.$$arity=0);a.def(k,"$transform_keys!",P=function(){var g=P.$$p,C=g||w,M;g&&(P.$$p=null);g&&(P.$$p=null);if(!x(C))return d(this,"enum_for",["transform_keys!"],(M=function(){return(null==M.$$s?this:M.$$s).$size()},
M.$$s=this,M.$$arity=0,M));g=a.slice.call(this.$$keys);var ba,v=g.length;for(ba=0;ba<v;ba++){var U=g[ba];if(U.$$is_string)var qa=this.$$smap[U];else qa=U.value,U=U.key;var Ja=a.yield1(C,U);a.hash_delete(this,U);a.hash_put(this,Ja,qa)}return this},P.$$arity=0);a.def(k,"$transform_values",aa=function(){var g=aa.$$p,C=g||w,M;g&&(aa.$$p=null);g&&(aa.$$p=null);if(!x(C))return d(this,"enum_for",["transform_values"],(M=function(){return(null==M.$$s?this:M.$$s).$size()},M.$$s=this,M.$$arity=0,M));g=a.hash();
for(var ba=0,v=this.$$keys,U=v.length,qa,Ja;ba<U;ba++)qa=v[ba],qa.$$is_string?Ja=this.$$smap[qa]:(Ja=qa.value,qa=qa.key),Ja=a.yield1(C,Ja),a.hash_put(g,qa,Ja);return g},aa.$$arity=0);a.def(k,"$transform_values!",T=function(){var g=T.$$p,C=g||w,M;g&&(T.$$p=null);g&&(T.$$p=null);if(!x(C))return d(this,"enum_for",["transform_values!"],(M=function(){return(null==M.$$s?this:M.$$s).$size()},M.$$s=this,M.$$arity=0,M));g=0;for(var ba=this.$$keys,v=ba.length,U,qa;g<v;g++)U=ba[g],U.$$is_string?qa=this.$$smap[U]:
(qa=U.value,U=U.key),qa=a.yield1(C,qa),a.hash_put(this,U,qa);return this},T.$$arity=0);a.alias(k,"update","merge!");a.alias(k,"value?","has_value?");a.alias(k,"values_at","indexes");return(a.def(k,"$values",fa=function(){for(var g=[],C=0,M=this.$$keys,ba=M.length,v;C<ba;C++)v=M[C],v.$$is_string?g.push(this.$$smap[v]):g.push(v.value);return g},fa.$$arity=0),w)&&"values"}(t[0],null,t)};
Opal.modules["corelib/number"]=function(a){function y(n,J){return"number"===typeof n&&"number"===typeof J?n>J:n["$>"](J)}function K(n,J){return"number"===typeof n&&"number"===typeof J?n<J:n["$<"](J)}function t(n,J){return"number"===typeof n&&"number"===typeof J?n+J:n["$+"](J)}function w(n,J){return"number"===typeof n&&"number"===typeof J?n-J:n["$-"](J)}function A(n,J){return"number"===typeof n&&"number"===typeof J?n/J:n["$/"](J)}function p(n,J){return"number"===typeof n&&"number"===typeof J?n*J:n["$*"](J)}
var d=a.top,G=[],x=a.nil,k=a.$$$,m=a.$$,u=a.klass,c=a.truthy,l=a.send2,H=a.send,e=a.hash2;a.add_stubs("$require $bridge $raise $name $class $Float $respond_to? $coerce_to! $__coerced__ $=== $! $> $** $new $< $to_f $== $nan? $infinite? $enum_for $+ $- $gcd $lcm $% $/ $frexp $to_i $ldexp $rationalize $* $<< $to_r $truncate $-@ $size $<= $>= $<=> $compare $any?".split(" "));d.$require("corelib/numeric");(function(n,$super,D){n=u(n,$super,"Number");var R=[n].concat(D),ia,ea,ma,b,h,f,q,z,E,F,L,ca,va,Oa,
wa,Ba,Ka,oa,S,ta,ja,na,V,Q,Y,pa,za,la,xa,Ea,Fa,Sa,Ra,Na,Qa,lb,W,ya,Da,Va,ib,db,$a,ab,Aa,ua,La,Ta,Ya,Ga,Z,P,aa,T,fa,ka,g,C,M,ba,v,U,qa,Ja,jb,ob,mb,sb,tb,wb,xb,ub;m(R,"Opal").$bridge(Number,n);a.defineProperty(n.$$prototype,"$$is_number",!0);n.$$is_number_class=!0;(function(X,Ma){var bb=[X].concat(Ma),B;a.def(X,"$allocate",B=function(){return this.$raise(m(bb,"TypeError"),"allocator undefined for "+this.$name())},B.$$arity=0);a.udef(X,"$new");return x})(a.get_singleton_class(n),R);a.def(n,"$coerce",
ia=function(X){if(X!==x){if(X.$$is_string)return[this.$Float(X),this];if(X["$respond_to?"]("to_f"))return[m(R,"Opal")["$coerce_to!"](X,m(R,"Float"),"to_f"),this];if(X.$$is_number)return[X,this]}this.$raise(m(R,"TypeError"),"can't convert "+X.$class()+" into Float")},ia.$$arity=1);a.def(n,"$__id__",ea=function(){return 2*this+1},ea.$$arity=0);a.alias(n,"object_id","__id__");a.def(n,"$+",ma=function(X){return X.$$is_number?this+X:this.$__coerced__("+",X)},ma.$$arity=1);a.def(n,"$-",b=function(X){return X.$$is_number?
this-X:this.$__coerced__("-",X)},b.$$arity=1);a.def(n,"$*",h=function(X){return X.$$is_number?this*X:this.$__coerced__("*",X)},h.$$arity=1);a.def(n,"$/",f=function(X){return X.$$is_number?this/X:this.$__coerced__("/",X)},f.$$arity=1);a.alias(n,"fdiv","/");a.def(n,"$%",q=function(X){if(X.$$is_number){if(-Infinity==X)return X;if(0==X)this.$raise(m(R,"ZeroDivisionError"),"divided by 0");else return 0>X||0>this?(this%X+X)%X:this%X}else return this.$__coerced__("%",X)},q.$$arity=1);a.def(n,"$&",z=function(X){return X.$$is_number?
this&X:this.$__coerced__("&",X)},z.$$arity=1);a.def(n,"$|",E=function(X){return X.$$is_number?this|X:this.$__coerced__("|",X)},E.$$arity=1);a.def(n,"$^",F=function(X){return X.$$is_number?this^X:this.$__coerced__("^",X)},F.$$arity=1);a.def(n,"$<",L=function(X){return X.$$is_number?this<X:this.$__coerced__("<",X)},L.$$arity=1);a.def(n,"$<=",ca=function(X){return X.$$is_number?this<=X:this.$__coerced__("<=",X)},ca.$$arity=1);a.def(n,"$>",va=function(X){return X.$$is_number?this>X:this.$__coerced__(">",
X)},va.$$arity=1);a.def(n,"$>=",Oa=function(X){return X.$$is_number?this>=X:this.$__coerced__(">=",X)},Oa.$$arity=1);a.def(n,"$<=>",wa=function(X){try{return X.$$is_number?isNaN(this)||isNaN(X)?x:this>X?1:this<X?-1:0:this.$__coerced__("<=>",X)}catch(Ma){if(a.rescue(Ma,[m(R,"ArgumentError")]))try{return x}finally{a.pop_exception()}else throw Ma;}},wa.$$arity=1);a.def(n,"$<<",Ba=function(X){X=m(R,"Opal")["$coerce_to!"](X,m(R,"Integer"),"to_int");return 0<X?this<<X:this>>-X},Ba.$$arity=1);a.def(n,"$>>",
Ka=function(X){X=m(R,"Opal")["$coerce_to!"](X,m(R,"Integer"),"to_int");return 0<X?this>>X:this<<-X},Ka.$$arity=1);a.def(n,"$[]",oa=function(X){X=m(R,"Opal")["$coerce_to!"](X,m(R,"Integer"),"to_int");return 0>X?0:32<=X?0>this?1:0:this>>X&1},oa.$$arity=1);a.def(n,"$+@",S=function(){return+this},S.$$arity=0);a.def(n,"$-@",ta=function(){return-this},ta.$$arity=0);a.def(n,"$~",ja=function(){return~this},ja.$$arity=0);a.def(n,"$**",na=function(X){var Ma=x,bb=x,B=x;return c(m(R,"Integer")["$==="](X))?c(c(Ma=
m(R,"Integer")["$==="](this)["$!"]())?Ma:y(X,0))?Math.pow(this,X):m(R,"Rational").$new(this,1)["$**"](X):c(c(bb=K(this,0))?c(B=m(R,"Float")["$==="](X))?B:m(R,"Rational")["$==="](X):bb)?m(R,"Complex").$new(this,0)["$**"](X.$to_f()):c(null!=X.$$is_number)?Math.pow(this,X):this.$__coerced__("**",X)},na.$$arity=1);a.def(n,"$===",V=function(X){return X.$$is_number?this.valueOf()===X.valueOf():X["$respond_to?"]("==")?X["$=="](this):!1},V.$$arity=1);a.def(n,"$==",Q=function(X){return X.$$is_number?this.valueOf()===
X.valueOf():X["$respond_to?"]("==")?X["$=="](this):!1},Q.$$arity=1);a.def(n,"$abs",Y=function(){return Math.abs(this)},Y.$$arity=0);a.def(n,"$abs2",pa=function(){return Math.abs(this*this)},pa.$$arity=0);a.def(n,"$allbits?",za=function(X){X=m(R,"Opal")["$coerce_to!"](X,m(R,"Integer"),"to_int");return(this&X)==X},za.$$arity=1);a.def(n,"$anybits?",la=function(X){X=m(R,"Opal")["$coerce_to!"](X,m(R,"Integer"),"to_int");return 0!==(this&X)},la.$$arity=1);a.def(n,"$angle",xa=function(){return c(this["$nan?"]())?
this:0==this?0<1/this?0:Math.PI:0>this?Math.PI:0},xa.$$arity=0);a.alias(n,"arg","angle");a.alias(n,"phase","angle");a.def(n,"$bit_length",Ea=function(){c(m(R,"Integer")["$==="](this))||this.$raise(m(R,"NoMethodError").$new("undefined method `bit_length` for "+this+":Float","bit_length"));if(0===this||-1===this)return 0;for(var X=0,Ma=0>this?~this:this;0!=Ma;)X+=1,Ma>>>=1;return X},Ea.$$arity=0);a.def(n,"$ceil",Fa=function(X){null==X&&(X=0);var Ma=this.$to_f();if(0===Ma%1&&0<=X)return Ma;X=Math.pow(10,
X);X=Math.ceil(Ma*X)/X;0===Ma%1&&(X=Math.round(X));return X},Fa.$$arity=-1);a.def(n,"$chr",Sa=function(){return String.fromCharCode(this)},Sa.$$arity=-1);a.def(n,"$denominator",Ra=function(){var X=Ra.$$p,Ma=x,bb;X&&(Ra.$$p=null);var B=0;var N=arguments.length;for(bb=Array(N);B<N;B++)bb[B]=arguments[B];return c(c(Ma=this["$nan?"]())?Ma:this["$infinite?"]())?1:l(this,a.find_super_dispatcher(this,"denominator",Ra,!1,!0),"denominator",bb,X)},Ra.$$arity=0);a.def(n,"$downto",Na=function(X){var Ma=Na.$$p,
bb=Ma||x,B;Ma&&(Na.$$p=null);Ma&&(Na.$$p=null);if(bb===x)return H(this,"enum_for",["downto",X],(B=function(){var N=null==B.$$s?this:B.$$s;c(m(R,"Numeric")["$==="](X))||N.$raise(m(R,"ArgumentError"),"comparison of "+N.$class()+" with "+X.$class()+" failed");return c(y(X,N))?0:t(w(N,X),1)},B.$$s=this,B.$$arity=0,B));X.$$is_number||this.$raise(m(R,"ArgumentError"),"comparison of "+this.$class()+" with "+X.$class()+" failed");for(Ma=this;Ma>=X;Ma--)bb(Ma);return this},Na.$$arity=1);a.alias(n,"eql?","==");
a.def(n,"$equal?",Qa=function(X){var Ma;return c(Ma=this["$=="](X))?Ma:isNaN(this)&&isNaN(X)},Qa.$$arity=1);a.def(n,"$even?",lb=function(){return 0===this%2},lb.$$arity=0);a.def(n,"$floor",W=function(X){null==X&&(X=0);var Ma=this.$to_f();if(0===Ma%1&&0<=X)return Ma;X=Math.pow(10,X);X=Math.floor(Ma*X)/X;0===Ma%1&&(X=Math.round(X));return X},W.$$arity=-1);a.def(n,"$gcd",ya=function(X){c(m(R,"Integer")["$==="](X))||this.$raise(m(R,"TypeError"),"not an integer");var Ma=Math.abs(this);for(X=Math.abs(X);0<
Ma;){var bb=Ma;Ma=X%Ma;X=bb}return X},ya.$$arity=1);a.def(n,"$gcdlcm",Da=function(X){return[this.$gcd(X),this.$lcm(X)]},Da.$$arity=1);a.def(n,"$integer?",Va=function(){return 0===this%1},Va.$$arity=0);a.def(n,"$is_a?",ib=function(X){var Ma=ib.$$p,bb=x,B=x,N=x,sa;Ma&&(ib.$$p=null);var Ha=0;var Ca=arguments.length;for(sa=Array(Ca);Ha<Ca;Ha++)sa[Ha]=arguments[Ha];return c(c(bb=X["$=="](m(R,"Integer")))?m(R,"Integer")["$==="](this):bb)||c(c(B=X["$=="](m(R,"Integer")))?m(R,"Integer")["$==="](this):B)||
c(c(N=X["$=="](m(R,"Float")))?m(R,"Float")["$==="](this):N)?!0:l(this,a.find_super_dispatcher(this,"is_a?",ib,!1,!0),"is_a?",sa,Ma)},ib.$$arity=1);a.alias(n,"kind_of?","is_a?");a.def(n,"$instance_of?",db=function(X){var Ma=db.$$p,bb=x,B=x,N=x,sa;Ma&&(db.$$p=null);var Ha=0;var Ca=arguments.length;for(sa=Array(Ca);Ha<Ca;Ha++)sa[Ha]=arguments[Ha];return c(c(bb=X["$=="](m(R,"Integer")))?m(R,"Integer")["$==="](this):bb)||c(c(B=X["$=="](m(R,"Integer")))?m(R,"Integer")["$==="](this):B)||c(c(N=X["$=="](m(R,
"Float")))?m(R,"Float")["$==="](this):N)?!0:l(this,a.find_super_dispatcher(this,"instance_of?",db,!1,!0),"instance_of?",sa,Ma)},db.$$arity=1);a.def(n,"$lcm",$a=function(X){c(m(R,"Integer")["$==="](X))||this.$raise(m(R,"TypeError"),"not an integer");return 0==this||0==X?0:Math.abs(this*X/this.$gcd(X))},$a.$$arity=1);a.alias(n,"magnitude","abs");a.alias(n,"modulo","%");a.def(n,"$next",ab=function(){return this+1},ab.$$arity=0);a.def(n,"$nobits?",Aa=function(X){X=m(R,"Opal")["$coerce_to!"](X,m(R,"Integer"),
"to_int");return 0==(this&X)},Aa.$$arity=1);a.def(n,"$nonzero?",ua=function(){return 0==this?x:this},ua.$$arity=0);a.def(n,"$numerator",La=function(){var X=La.$$p,Ma=x,bb;X&&(La.$$p=null);var B=0;var N=arguments.length;for(bb=Array(N);B<N;B++)bb[B]=arguments[B];return c(c(Ma=this["$nan?"]())?Ma:this["$infinite?"]())?this:l(this,a.find_super_dispatcher(this,"numerator",La,!1,!0),"numerator",bb,X)},La.$$arity=0);a.def(n,"$odd?",Ta=function(){return 0!==this%2},Ta.$$arity=0);a.def(n,"$ord",Ya=function(){return this},
Ya.$$arity=0);a.def(n,"$pow",Ga=function(X,Ma){0==this&&this.$raise(m(R,"ZeroDivisionError"),"divided by 0");if(void 0===Ma)return this["$**"](X);m(R,"Integer")["$==="](X)||this.$raise(m(R,"TypeError"),"Integer#pow() 2nd argument not allowed unless a 1st argument is integer");0>X&&this.$raise(m(R,"TypeError"),"Integer#pow() 1st argument cannot be negative when 2nd argument specified");m(R,"Integer")["$==="](Ma)||this.$raise(m(R,"TypeError"),"Integer#pow() 2nd argument not allowed unless all arguments are integers");
0===Ma&&this.$raise(m(R,"ZeroDivisionError"),"divided by 0");return this["$**"](X)["$%"](Ma)},Ga.$$arity=-2);a.def(n,"$pred",Z=function(){return this-1},Z.$$arity=0);a.def(n,"$quo",P=function(X){var Ma=P.$$p,bb;Ma&&(P.$$p=null);var B=0;var N=arguments.length;for(bb=Array(N);B<N;B++)bb[B]=arguments[B];return c(m(R,"Integer")["$==="](this))?l(this,a.find_super_dispatcher(this,"quo",P,!1,!0),"quo",bb,Ma):A(this,X)},P.$$arity=1);a.def(n,"$rationalize",aa=function(X){1<arguments.length&&this.$raise(m(R,
"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)");if(c(m(R,"Integer")["$==="](this)))return m(R,"Rational").$new(this,1);if(c(this["$infinite?"]()))return this.$raise(m(R,"FloatDomainError"),"Infinity");if(c(this["$nan?"]()))return this.$raise(m(R,"FloatDomainError"),"NaN");if(c(null==X)){var Ma=m(R,"Math").$frexp(this);var bb=a.to_ary(Ma);var B=null==bb[0]?x:bb[0];bb=null==bb[1]?x:bb[1];Ma;B=m(R,"Math").$ldexp(B,k(m(R,"Float"),"MANT_DIG")).$to_i();bb=w(bb,k(m(R,"Float"),
"MANT_DIG"));return m(R,"Rational").$new(p(2,B),1["$<<"](w(1,bb))).$rationalize(m(R,"Rational").$new(1,1["$<<"](w(1,bb))))}return this.$to_r().$rationalize(X)},aa.$$arity=-1);a.def(n,"$remainder",T=function(X){return w(this,p(X,A(this,X).$truncate()))},T.$$arity=1);a.def(n,"$round",fa=function(X){var Ma,bb,B=bb=Ma=x;if(c(m(R,"Integer")["$==="](this))){if(c(null==X))return this;c(c(Ma=m(R,"Float")["$==="](X))?X["$infinite?"]():Ma)&&this.$raise(m(R,"RangeError"),"Infinity");X=m(R,"Opal")["$coerce_to!"](X,
m(R,"Integer"),"to_int");c(K(X,k(m(R,"Integer"),"MIN")))&&this.$raise(m(R,"RangeError"),"out of bounds");if(c(0<=X))return this;X=X["$-@"]();if(.415241*X-.125>this.$size())return 0;X=Math.pow(10,X);X*=Math.floor((Math.abs(this)+X/2)/X);return 0>this?-X:X}c(c(bb=this["$nan?"]())?null==X:bb)&&this.$raise(m(R,"FloatDomainError"),"NaN");X=m(R,"Opal")["$coerce_to!"](X||0,m(R,"Integer"),"to_int");if(c("number"===typeof X?0>=X:X["$<="](0)))c(this["$nan?"]())?this.$raise(m(R,"RangeError"),"NaN"):c(this["$infinite?"]())&&
this.$raise(m(R,"FloatDomainError"),"Infinity");else{if(X["$=="](0))return Math.round(this);if(c(c(B=this["$nan?"]())?B:this["$infinite?"]()))return this}bb=m(R,"Math").$frexp(this);Ma=a.to_ary(bb);Ma=null==Ma[1]?x:Ma[1];bb;bb=w(t(k(m(R,"Float"),"DIG"),2),c(y(Ma,0))?A(Ma,4):w(A(Ma,3),1));bb="number"===typeof X&&"number"===typeof bb?X>=bb:X["$>="](bb);return c(bb)?this:c(K(X,(c(y(Ma,0))?t(A(Ma,3),1):A(Ma,4))["$-@"]()))?0:Math.round(this*Math.pow(10,X))/Math.pow(10,X)},fa.$$arity=-1);a.def(n,"$step",
ka=function(X,Ma,bb){function B(){void 0!==gb&&(Ua=gb);void 0===Ua&&(Ua=x);Xa===x&&hb.$raise(m(R,"TypeError"),"step must be numeric");0===Xa&&hb.$raise(m(R,"ArgumentError"),"step can't be 0");void 0!==qb&&(Xa=qb);if(Xa===x||null==Xa)Xa=1;var nb=Xa["$<=>"](0);nb===x&&hb.$raise(m(R,"ArgumentError"),"0 can't be coerced into "+Xa.$class());if(Ua===x||null==Ua)Ua=0<nb?k(m(R,"Float"),"INFINITY"):k(m(R,"Float"),"INFINITY")["$-@"]();m(R,"Opal").$compare(hb,Ua)}function N(){if(0<Xa&&hb>Ua||0>Xa&&hb<Ua)return 0;
if(Infinity===Xa||-Infinity===Xa)return 1;var nb=Math.abs,pb=Math.floor;nb=(nb(hb)+nb(Ua)+nb(Ua-hb))/nb(Xa)*k(m(R,"Float"),"EPSILON");if(Infinity===nb||-Infinity===nb)return 0;.5<nb&&(nb=.5);return pb((Ua-hb)/Xa+nb)+1}function sa(){B();if(0===Xa)return Infinity;if(0!==Xa%1)return N();if(0<Xa&&hb>Ua||0>Xa&&hb<Ua)return 0;var nb=Math.ceil,pb=Math.abs,Gb=pb(hb-Ua)+1;pb=pb(Xa);return nb(Gb/pb)}var Ha=ka.$$p,Ca=Ha||x,Ia,Wa,hb=this,eb=Ia=x;Ha&&(ka.$$p=null);Ha&&(ka.$$p=null);Ha=a.slice.call(arguments,0,
arguments.length);Ia=a.extract_kwargs(Ha);if(null==Ia)Ia=e([],{});else if(!Ia.$$is_hash)throw a.ArgumentError.$new("expected kwargs");if(0<Ha.length){var Ua=Ha[0];Ha.splice(0,1)}if(0<Ha.length){var Xa=Ha[0];Ha.splice(0,1)}var gb=Ia.$$smap.to;var qb=Ia.$$smap.by;void 0!==Ua&&void 0!==gb&&hb.$raise(m(R,"ArgumentError"),"to is given twice");void 0!==Xa&&void 0!==qb&&hb.$raise(m(R,"ArgumentError"),"step is given twice");if(Ca===x)return Ia=[],eb=e([],{}),void 0!==Ua&&Ia.push(Ua),void 0!==Xa&&Ia.push(Xa),
void 0!==gb&&a.hash_put(eb,"to",gb),void 0!==qb&&a.hash_put(eb,"by",qb),eb["$any?"]()&&Ia.push(eb),H(hb,"enum_for",["step"].concat(a.to_a(Ia)),(Wa=function(){return sa()},Wa.$$s=hb,Wa.$$arity=0,Wa));B();if(0===Xa)for(;;)Ca(hb);if(0!==hb%1||0!==Ua%1||0!==Xa%1){if(Wa=N(),0<Wa)if(Infinity===Xa||-Infinity===Xa)Ca(hb);else if(Ha=0,0<Xa)for(;Ha<Wa;)Ia=Ha*Xa+hb,Ua<Ia&&(Ia=Ua),Ca(Ia),Ha+=1;else for(;Ha<Wa;)Ia=Ha*Xa+hb,Ua>Ia&&(Ia=Ua),Ca(Ia),Ha+=1}else if(Wa=hb,0<Xa)for(;Wa<=Ua;)Ca(Wa),Wa+=Xa;else for(;Wa>=
Ua;)Ca(Wa),Wa+=Xa;return hb},ka.$$arity=-1);a.alias(n,"succ","next");a.def(n,"$times",g=function(){var X=g.$$p,Ma=X||x,bb;X&&(g.$$p=null);X&&(g.$$p=null);if(!c(Ma))return H(this,"enum_for",["times"],(bb=function(){return null==bb.$$s?this:bb.$$s},bb.$$s=this,bb.$$arity=0,bb));for(X=0;X<this;X++)Ma(X);return this},g.$$arity=0);a.def(n,"$to_f",C=function(){return this},C.$$arity=0);a.def(n,"$to_i",M=function(){return parseInt(this,10)},M.$$arity=0);a.alias(n,"to_int","to_i");a.def(n,"$to_r",ba=function(){if(c(m(R,
"Integer")["$==="](this)))return m(R,"Rational").$new(this,1);var X=m(R,"Math").$frexp(this);var Ma=a.to_ary(X);var bb=null==Ma[0]?x:Ma[0];Ma=null==Ma[1]?x:Ma[1];X;bb=m(R,"Math").$ldexp(bb,k(m(R,"Float"),"MANT_DIG")).$to_i();Ma=w(Ma,k(m(R,"Float"),"MANT_DIG"));return p(bb,k(m(R,"Float"),"RADIX")["$**"](Ma)).$to_r()},ba.$$arity=0);a.def(n,"$to_s",v=function(X){var Ma=x;null==X&&(X=10);X=m(R,"Opal")["$coerce_to!"](X,m(R,"Integer"),"to_int");c(c(Ma=K(X,2))?Ma:y(X,36))&&this.$raise(m(R,"ArgumentError"),
"invalid radix "+X);return this.toString(X)},v.$$arity=-1);a.def(n,"$truncate",U=function(X){null==X&&(X=0);var Ma=this.$to_f();if(0===Ma%1&&0<=X)return Ma;X=Math.pow(10,X);X=parseInt(Ma*X,10)/X;0===Ma%1&&(X=Math.round(X));return X},U.$$arity=-1);a.alias(n,"inspect","to_s");a.def(n,"$digits",qa=function(X){null==X&&(X=10);K(this,0)&&this.$raise(k(m(R,"Math"),"DomainError"),"out of domain");X=m(R,"Opal")["$coerce_to!"](X,m(R,"Integer"),"to_int");c(K(X,2))&&this.$raise(m(R,"ArgumentError"),"invalid radix "+
X);for(var Ma=this,bb=[];0!==Ma;)bb.push(Ma%X),Ma=parseInt(Ma/X,10);return bb},qa.$$arity=-1);a.def(n,"$divmod",Ja=function(X){var Ma=Ja.$$p,bb=x,B;Ma&&(Ja.$$p=null);var N=0;var sa=arguments.length;for(B=Array(sa);N<sa;N++)B[N]=arguments[N];return c(c(bb=this["$nan?"]())?bb:X["$nan?"]())?this.$raise(m(R,"FloatDomainError"),"NaN"):c(this["$infinite?"]())?this.$raise(m(R,"FloatDomainError"),"Infinity"):l(this,a.find_super_dispatcher(this,"divmod",Ja,!1,!0),"divmod",B,Ma)},Ja.$$arity=1);a.def(n,"$upto",
jb=function(X){var Ma=jb.$$p,bb=Ma||x,B;Ma&&(jb.$$p=null);Ma&&(jb.$$p=null);if(bb===x)return H(this,"enum_for",["upto",X],(B=function(){var N=null==B.$$s?this:B.$$s;c(m(R,"Numeric")["$==="](X))||N.$raise(m(R,"ArgumentError"),"comparison of "+N.$class()+" with "+X.$class()+" failed");return c(K(X,N))?0:t(w(X,N),1)},B.$$s=this,B.$$arity=0,B));X.$$is_number||this.$raise(m(R,"ArgumentError"),"comparison of "+this.$class()+" with "+X.$class()+" failed");for(Ma=this;Ma<=X;Ma++)bb(Ma);return this},jb.$$arity=
1);a.def(n,"$zero?",ob=function(){return 0==this},ob.$$arity=0);a.def(n,"$size",mb=function(){return 4},mb.$$arity=0);a.def(n,"$nan?",sb=function(){return isNaN(this)},sb.$$arity=0);a.def(n,"$finite?",tb=function(){return Infinity!=this&&-Infinity!=this&&!isNaN(this)},tb.$$arity=0);a.def(n,"$infinite?",wb=function(){return Infinity==this?1:-Infinity==this?-1:x},wb.$$arity=0);a.def(n,"$positive?",xb=function(){return 0!=this&&(Infinity==this||0<1/this)},xb.$$arity=0);return(a.def(n,"$negative?",ub=
function(){return-Infinity==this||0>1/this},ub.$$arity=0),x)&&"negative?"})(G[0],m(G,"Numeric"),G);a.const_set(G[0],"Fixnum",m(G,"Number"));(function(n,$super,D){n=u(n,$super,"Integer");D=[n].concat(D);n.$$is_number_class=!0;n.$$is_integer_class=!0;(function(R,ia){var ea=[R].concat(ia),ma,b;a.def(R,"$allocate",ma=function(){return this.$raise(m(ea,"TypeError"),"allocator undefined for "+this.$name())},ma.$$arity=0);a.udef(R,"$new");return(a.def(R,"$sqrt",b=function(h){h=m(ea,"Opal")["$coerce_to!"](h,
m(ea,"Integer"),"to_int");0>h&&this.$raise(k(m(ea,"Math"),"DomainError"),'Numerical argument is out of domain - "isqrt"');return parseInt(Math.sqrt(h),10)},b.$$arity=1),x)&&"sqrt"})(a.get_singleton_class(n),D);a.const_set(D[0],"MAX",Math.pow(2,30)-1);return a.const_set(D[0],"MIN",-Math.pow(2,30))})(G[0],m(G,"Numeric"),G);return function(n,$super,D){n=u(n,$super,"Float");D=[n].concat(D);n.$$is_number_class=!0;(function(R,ia){var ea=[R].concat(ia),ma,b;a.def(R,"$allocate",ma=function(){return this.$raise(m(ea,
"TypeError"),"allocator undefined for "+this.$name())},ma.$$arity=0);a.udef(R,"$new");return(a.def(R,"$===",b=function(h){return!!h.$$is_number},b.$$arity=1),x)&&"==="})(a.get_singleton_class(n),D);a.const_set(D[0],"INFINITY",Infinity);a.const_set(D[0],"MAX",Number.MAX_VALUE);a.const_set(D[0],"MIN",Number.MIN_VALUE);a.const_set(D[0],"NAN",NaN);a.const_set(D[0],"DIG",15);a.const_set(D[0],"MANT_DIG",53);a.const_set(D[0],"RADIX",2);return a.const_set(D[0],"EPSILON",Number.EPSILON||2.220446049250313E-16)}(G[0],
m(G,"Numeric"),G)};
Opal.modules["corelib/range"]=function(a){function y(l,H){return"number"===typeof l&&"number"===typeof H?l<=H:l["$<="](H)}function K(l,H){return"number"===typeof l&&"number"===typeof H?l<H:l["$<"](H)}function t(l,H){return"number"===typeof l&&"number"===typeof H?l>H:l["$>"](H)}function w(l,H){return"number"===typeof l&&"number"===typeof H?l+H:l["$+"](H)}var A=a.top,p=[],d=a.nil,G=a.$$$,x=a.$$,k=a.klass,m=a.truthy,u=a.send,c=a.send2;a.add_stubs("$require $include $attr_reader $raise $<=> $include? $<= $< $enum_for $size $upto $to_proc $respond_to? $class $succ $! $== $=== $exclude_end? $eql? $begin $end $last $to_a $> $- $abs $to_i $coerce_to! $ceil $/ $loop $+ $* $>= $each_with_index $% $bsearch $inspect $[] $hash".split(" "));A.$require("corelib/enumerable");
return function(l,$super,e){l=k(l,$super,"Range");var n=[l].concat(e),J,D,R,ia,ea,ma,b,h,f,q,z,E,F,L,ca,va,Oa;l.$$prototype.begin=l.$$prototype.end=l.$$prototype.excl=d;l.$include(x(n,"Enumerable"));l.$$prototype.$$is_range=!0;l.$attr_reader("begin","end");a.def(l,"$initialize",J=function(wa,Ba,Ka){null==Ka&&(Ka=!1);m(this.begin)&&this.$raise(x(n,"NameError"),"'initialize' called twice");m(wa["$<=>"](Ba))||this.$raise(x(n,"ArgumentError"),"bad value for range");this.begin=wa;this.end=Ba;return this.excl=
Ka},J.$$arity=-3);a.def(l,"$===",D=function(wa){return this["$include?"](wa)},D.$$arity=1);a.def(l,"$cover?",R=function(wa){var Ba=d,Ka=d,oa=d;var S=this.begin["$<=>"](wa);if(!m(m(Ba=S)?y(S,0):Ba))return!1;wa=wa["$<=>"](this.end);return m(this.excl)?m(Ka=wa)?K(wa,0):Ka:m(oa=wa)?y(wa,0):oa},R.$$arity=1);a.def(l,"$each",ia=function(){var wa=ia.$$p,Ba=wa||d,Ka,oa=d,S=d,ta=d;wa&&(ia.$$p=null);wa&&(ia.$$p=null);if(Ba===d)return u(this,"enum_for",["each"],(Ka=function(){return(null==Ka.$$s?this:Ka.$$s).$size()},
Ka.$$s=this,Ka.$$arity=0,Ka));if(this.begin.$$is_number&&this.end.$$is_number){0===this.begin%1&&0===this.end%1||this.$raise(x(n,"TypeError"),"can't iterate from Float");wa=this.begin;for(oa=this.end+(m(this.excl)?0:1);wa<oa;wa++)Ba(wa);return this}if(this.begin.$$is_string&&this.end.$$is_string)return u(this.begin,"upto",[this.end,this.excl],Ba.$to_proc()),this;oa=this.begin;S=this.end;for(m(oa["$respond_to?"]("succ"))||this.$raise(x(n,"TypeError"),"can't iterate from "+oa.$class());m(K(oa["$<=>"](S),
0));)a.yield1(Ba,oa),oa=oa.$succ();m(m(ta=this.excl["$!"]())?oa["$=="](S):ta)&&a.yield1(Ba,oa);return this},ia.$$arity=0);a.def(l,"$eql?",ea=function(wa){var Ba=d,Ka=d;return m(x(n,"Range")["$==="](wa))?m(Ba=m(Ka=this.excl["$==="](wa["$exclude_end?"]()))?this.begin["$eql?"](wa.$begin()):Ka)?this.end["$eql?"](wa.$end()):Ba:!1},ea.$$arity=1);a.alias(l,"==","eql?");a.def(l,"$exclude_end?",ma=function(){return this.excl},ma.$$arity=0);a.def(l,"$first",b=function(wa){var Ba=b.$$p,Ka;Ba&&(b.$$p=null);var oa=
0;var S=arguments.length;for(Ka=Array(S);oa<S;oa++)Ka[oa]=arguments[oa];return m(null==wa)?this.begin:c(this,a.find_super_dispatcher(this,"first",b,!1,!0),"first",Ka,Ba)},b.$$arity=-1);a.alias(l,"include?","cover?");a.def(l,"$last",h=function(wa){return m(null==wa)?this.end:this.$to_a().$last(wa)},h.$$arity=-1);a.def(l,"$max",f=function(){var wa=f.$$p,Ba=wa||d,Ka=d,oa;wa&&(f.$$p=null);var S=0;var ta=arguments.length;for(oa=Array(ta);S<ta;S++)oa[S]=arguments[S];return Ba!==d?c(this,a.find_super_dispatcher(this,
"max",f,!1,!0),"max",oa,wa):m(t(this.begin,this.end))?d:m(m(Ka=this.excl)?this.begin["$=="](this.end):Ka)?d:this.excl?this.end-1:this.end},f.$$arity=0);a.alias(l,"member?","cover?");a.def(l,"$min",q=function(){var wa=q.$$p,Ba=wa||d,Ka=d,oa;wa&&(q.$$p=null);var S=0;var ta=arguments.length;for(oa=Array(ta);S<ta;S++)oa[S]=arguments[S];return Ba!==d?c(this,a.find_super_dispatcher(this,"min",q,!1,!0),"min",oa,wa):m(t(this.begin,this.end))?d:m(m(Ka=this.excl)?this.begin["$=="](this.end):Ka)?d:this.begin},
q.$$arity=0);a.def(l,"$size",z=function(){var wa=d;var Ba=this.begin;var Ka=this.end;m(this.excl)&&(Ka="number"===typeof Ka?Ka-1:Ka["$-"](1));if(!m(m(wa=x(n,"Numeric")["$==="](Ba))?x(n,"Numeric")["$==="](Ka):wa))return d;if(m(K(Ka,Ba)))return 0;wa=G(x(n,"Float"),"INFINITY");return m([Ba.$abs(),Ka.$abs()]["$include?"](wa))?wa:(Math.abs(Ka-Ba)+1).$to_i()},z.$$arity=0);a.def(l,"$step",E=function(wa){function Ba(){wa.$$is_number||(wa=x(n,"Opal")["$coerce_to!"](wa,x(n,"Integer"),"to_int"));0>wa?V.$raise(x(n,
"ArgumentError"),"step can't be negative"):0===wa&&V.$raise(x(n,"ArgumentError"),"step can't be 0")}function Ka(){if(!V.begin["$respond_to?"]("succ")||V.begin.$$is_string&&V.end.$$is_string)return d;if(0===wa%1){var Y=V.$size();return("number"===typeof Y&&"number"===typeof wa?Y/wa:Y["$/"](wa)).$ceil()}Y=V.begin;var pa=V.end,za=Math.abs,la=Math.floor;za=(za(Y)+za(pa)+za(pa-Y))/za(wa)*G(x(n,"Float"),"EPSILON");.5<za&&(za=.5);V.excl?(la=la((pa-Y)/wa-za),la*wa+Y<pa&&la++):la=la((pa-Y)/wa+za)+1;return la}
var oa,S,ta,ja=E.$$p,na=ja||d,V=this,Q=d;ja&&(E.$$p=null);null==wa&&(wa=1);if(na===d)return u(V,"enum_for",["step",wa],(oa=function(){Ba();return Ka()},oa.$$s=V,oa.$$arity=0,oa));Ba();m(V.begin.$$is_number&&V.end.$$is_number)?(Q=0,function(){var Y=a.new_brk();try{return u(V,"loop",[],(S=function(){var pa=null==S.$$s?this:S.$$s;null==pa.begin&&(pa.begin=d);null==pa.excl&&(pa.excl=d);null==pa.end&&(pa.end=d);var za=w(pa.begin,"number"===typeof Q&&"number"===typeof wa?Q*wa:Q["$*"](wa));m(pa.excl)?(pa=
pa.end,pa="number"===typeof za&&"number"===typeof pa?za>=pa:za["$>="](pa),m(pa)&&a.brk(d,Y)):m(t(za,pa.end))&&a.brk(d,Y);a.yield1(na,za);return Q=w(Q,1)},S.$$s=V,S.$$brk=Y,S.$$arity=0,S))}catch(pa){if(pa===Y)return pa.$v;throw pa;}}()):(V.begin.$$is_string&&V.end.$$is_string&&0!==wa%1&&V.$raise(x(n,"TypeError"),"no implicit conversion to float from string"),u(V,"each_with_index",[],(ta=function(Y,pa){null==Y&&(Y=d);null==pa&&(pa=d);return pa["$%"](wa)["$=="](0)?a.yield1(na,Y):d},ta.$$s=V,ta.$$arity=
2,ta)));return V},E.$$arity=-1);a.def(l,"$bsearch",F=function(){var wa=F.$$p,Ba=wa||d;wa&&(F.$$p=null);wa&&(F.$$p=null);if(Ba===d)return this.$enum_for("bsearch");m(this.begin.$$is_number&&this.end.$$is_number)||this.$raise(x(n,"TypeError"),"can't do binary search for "+this.begin.$class());return u(this.$to_a(),"bsearch",[],Ba.$to_proc())},F.$$arity=0);a.def(l,"$to_s",L=function(){return""+this.begin+(m(this.excl)?"...":"..")+this.end},L.$$arity=0);a.def(l,"$inspect",ca=function(){return""+this.begin.$inspect()+
(m(this.excl)?"...":"..")+this.end.$inspect()},ca.$$arity=0);a.def(l,"$marshal_load",va=function(wa){this.begin=wa["$[]"]("begin");this.end=wa["$[]"]("end");return this.excl=wa["$[]"]("excl")},va.$$arity=1);return(a.def(l,"$hash",Oa=function(){return[this.begin,this.end,this.excl].$hash()},Oa.$$arity=0),d)&&"hash"}(p[0],null,p)};
Opal.modules["corelib/proc"]=function(a){var y=[],K=a.nil,t=a.$$,w=a.slice,A=a.klass,p=a.truthy,d=a.send;a.add_stubs(["$raise","$proc","$call","$to_proc","$coerce_to!"]);return function(G,$super,k){G=A(G,$super,"Proc");var m=[G].concat(k),u,c,l,H,e,n,J,D,R,ia,ea,ma;a.defineProperty(G.$$prototype,"$$is_proc",!0);a.defineProperty(G.$$prototype,"$$is_lambda",!1);a.defs(G,"$new",u=function(){var b=u.$$p,h=b||K;b&&(u.$$p=null);b&&(u.$$p=null);p(h)||this.$raise(t(m,"ArgumentError"),"tried to create a Proc object without a block");
return h},u.$$arity=0);a.def(G,"$call",c=function(b){var h=c.$$p,f=h||K;h&&(c.$$p=null);h&&(c.$$p=null);h=a.slice.call(arguments,0,arguments.length);f!==K&&(this.$$p=f);if(f=this.$$brk)try{var q=this.$$is_lambda?this.apply(null,h):a.yieldX(this,h)}catch(z){if(z===f)return f.$v;throw z;}else q=this.$$is_lambda?this.apply(null,h):a.yieldX(this,h);return q},c.$$arity=-1);a.alias(G,"[]","call");a.alias(G,"===","call");a.alias(G,"yield","call");a.def(G,"$>>",l=function(b){var h;l.$$p&&(l.$$p=null);return d(this,
"proc",[],(h=function(f){var q=null==h.$$s?this:h.$$s,z=h.$$p,E=z||K;z&&(h.$$p=null);z=a.slice.call(arguments,0,arguments.length);q=d(q,"call",a.to_a(z),E.$to_proc());return b.$call(q)},h.$$s=this,h.$$arity=-1,h))},l.$$arity=1);a.def(G,"$<<",H=function(b){var h;H.$$p&&(H.$$p=null);return d(this,"proc",[],(h=function(f){var q=null==h.$$s?this:h.$$s,z=h.$$p,E=z||K;z&&(h.$$p=null);z=a.slice.call(arguments,0,arguments.length);E=d(b,"call",a.to_a(z),E.$to_proc());return q.$call(E)},h.$$s=this,h.$$arity=
-1,h))},H.$$arity=1);a.def(G,"$to_proc",e=function(){return this},e.$$arity=0);a.def(G,"$lambda?",n=function(){return!!this.$$is_lambda},n.$$arity=0);a.def(G,"$arity",J=function(){return this.$$is_curried?-1:this.$$arity},J.$$arity=0);a.def(G,"$source_location",D=function(){return K},D.$$arity=0);a.def(G,"$binding",R=function(){this.$$is_curried&&this.$raise(t(m,"ArgumentError"),"Can't create Binding");return K},R.$$arity=0);a.def(G,"$parameters",ia=function(){if(this.$$is_curried)return[["rest"]];
if(this.$$parameters){if(this.$$is_lambda)return this.$$parameters;var b=[],h;var f=0;for(h=this.$$parameters.length;f<h;f++){var q=this.$$parameters[f];"req"===q[0]&&(q=["opt",q[1]]);b.push(q)}return b}return[]},ia.$$arity=0);a.def(G,"$curry",ea=function(b){function h(){var q=w.call(arguments),z=q.length;z>b&&f.$$is_lambda&&!f.$$is_curried&&f.$raise(t(m,"ArgumentError"),"wrong number of arguments ("+z+" for "+b+")");if(z>=b)return f.$call.apply(f,q);z=function(){return h.apply(null,q.concat(w.call(arguments)))};
z.$$is_lambda=f.$$is_lambda;z.$$is_curried=!0;return z}var f=this;void 0===b?b=f.length:(b=t(m,"Opal")["$coerce_to!"](b,t(m,"Integer"),"to_int"),f.$$is_lambda&&b!==f.length&&f.$raise(t(m,"ArgumentError"),"wrong number of arguments ("+b+" for "+f.length+")"));h.$$is_lambda=f.$$is_lambda;h.$$is_curried=!0;return h},ea.$$arity=-1);a.def(G,"$dup",ma=function(){function b(){return h.apply(this,arguments)}var h=this.$$original_proc||this,f;for(f in this)this.hasOwnProperty(f)&&(b[f]=this[f]);return b},
ma.$$arity=0);return a.alias(G,"clone","dup")}(y[0],Function,y)};
Opal.modules["corelib/method"]=function(a){var y=[],K=a.nil,t=a.$$,w=a.klass,A=a.truthy;a.add_stubs("$attr_reader $arity $>> $<< $new $class $join $source_location $raise".split(" "));(function(p,$super,G){p=w(p,$super,"Method");var x=[p].concat(G),k,m,u,c,l,H,e,n,J,D,R;p.$$prototype.method=p.$$prototype.receiver=p.$$prototype.owner=p.$$prototype.name=K;p.$attr_reader("owner","receiver","name");a.def(p,"$initialize",k=function(ia,ea,ma,b){this.receiver=ia;this.owner=ea;this.name=b;return this.method=
ma},k.$$arity=4);a.def(p,"$arity",m=function(){return this.method.$arity()},m.$$arity=0);a.def(p,"$parameters",u=function(){return this.method.$$parameters},u.$$arity=0);a.def(p,"$source_location",c=function(){var ia;return A(ia=this.method.$$source_location)?ia:["(eval)",0]},c.$$arity=0);a.def(p,"$comments",l=function(){var ia;return A(ia=this.method.$$comments)?ia:[]},l.$$arity=0);a.def(p,"$call",H=function(ia){var ea=H.$$p,ma=ea||K;ea&&(H.$$p=null);ea&&(H.$$p=null);ea=a.slice.call(arguments,0,
arguments.length);this.method.$$p=ma;return this.method.apply(this.receiver,ea)},H.$$arity=-1);a.alias(p,"[]","call");a.def(p,"$>>",e=function(ia){return this.method["$>>"](ia)},e.$$arity=1);a.def(p,"$<<",n=function(ia){return this.method["$<<"](ia)},n.$$arity=1);a.def(p,"$unbind",J=function(){return t(x,"UnboundMethod").$new(this.receiver.$class(),this.owner,this.method,this.name)},J.$$arity=0);a.def(p,"$to_proc",D=function(){var ia=this.$call.bind(this);ia.$$unbound=this.method;ia.$$is_lambda=!0;
ia.$$arity=this.method.$$arity;ia.$$parameters=this.method.$$parameters;return ia},D.$$arity=0);return(a.def(p,"$inspect",R=function(){return"#<"+this.$class()+": "+this.receiver.$class()+"#"+this.name+" (defined in "+this.owner+" in "+this.$source_location().$join(":")+")>"},R.$$arity=0),K)&&"inspect"})(y[0],null,y);return function(p,$super,G){p=w(p,$super,"UnboundMethod");var x=[p].concat(G),k,m,u,c,l,H,e;p.$$prototype.method=p.$$prototype.owner=p.$$prototype.name=p.$$prototype.source=K;p.$attr_reader("source",
"owner","name");a.def(p,"$initialize",k=function(n,J,D,R){this.source=n;this.owner=J;this.method=D;return this.name=R},k.$$arity=4);a.def(p,"$arity",m=function(){return this.method.$arity()},m.$$arity=0);a.def(p,"$parameters",u=function(){return this.method.$$parameters},u.$$arity=0);a.def(p,"$source_location",c=function(){var n;return A(n=this.method.$$source_location)?n:["(eval)",0]},c.$$arity=0);a.def(p,"$comments",l=function(){var n;return A(n=this.method.$$comments)?n:[]},l.$$arity=0);a.def(p,
"$bind",H=function(n){if(this.owner.$$is_module||a.is_a(n,this.owner))return t(x,"Method").$new(n,this.owner,this.method,this.name);this.$raise(t(x,"TypeError"),"can't bind singleton method to a different class (expected "+n+".kind_of?("+this.owner+" to be true)")},H.$$arity=1);return(a.def(p,"$inspect",e=function(){return"#<"+this.$class()+": "+this.source+"#"+this.name+" (defined in "+this.owner+" in "+this.$source_location().$join(":")+")>"},e.$$arity=0),K)&&"inspect"}(y[0],null,y)};
Opal.modules["corelib/variables"]=function(a){var y=[],K=a.nil,t=a.$$,w=a.gvars,A=a.hash2;a.add_stubs(["$new"]);w["&"]=w["~"]=w["`"]=w["'"]=K;w.LOADED_FEATURES=w['"']=a.loaded_features;w.LOAD_PATH=w[":"]=[];w["/"]="\n";w[","]=K;a.const_set(y[0],"ARGV",[]);a.const_set(y[0],"ARGF",t(y,"Object").$new());a.const_set(y[0],"ENV",A([],{}));w.VERBOSE=!1;w.DEBUG=!1;return w.SAFE=0};
Opal.modules["corelib/io"]=function(a){function y(u,c){return"number"===typeof u&&"number"===typeof c?u-c:u["$-"](c)}var K=[],t=a.nil,w=a.$$$,A=a.$$,p=a.klass,d=a.module,G=a.gvars,x=a.send,k=t;a.add_stubs("$attr_accessor $size $write $String $chomp $getbyte $getc $raise $new $write_proc= $- $extend".split(" "));(function(u,$super,l){u=p(u,$super,"IO");l=[u].concat(l);var H,e,n,J;u.$$prototype.tty=u.$$prototype.closed=t;a.const_set(l[0],"SEEK_SET",0);a.const_set(l[0],"SEEK_CUR",1);a.const_set(l[0],
"SEEK_END",2);a.def(u,"$tty?",H=function(){return this.tty},H.$$arity=0);a.def(u,"$closed?",e=function(){return this.closed},e.$$arity=0);u.$attr_accessor("write_proc");a.def(u,"$write",n=function(D){this.write_proc(D);return D.$size()},n.$$arity=1);u.$attr_accessor("sync","tty");a.def(u,"$flush",J=function(){return t},J.$$arity=0);(function(D,R){D=d(D,"Writable");[D].concat(R);var ia,ea,ma;a.def(D,"$<<",ia=function(b){this.$write(b);return this},ia.$$arity=1);a.def(D,"$print",ea=function(b){null==
G[","]&&(G[","]=t);var h=a.slice.call(arguments,0,arguments.length);for(var f=0,q=h.length;f<q;f++)h[f]=this.$String(h[f]);this.$write(h.join(G[","]));return t},ea.$$arity=-1);a.def(D,"$puts",ma=function(b){null==G["/"]&&(G["/"]=t);var h=a.slice.call(arguments,0,arguments.length);for(var f=0,q=h.length;f<q;f++)h[f]=this.$String(h[f]).$chomp();this.$write(h.concat([t]).join(G["/"]));return t},ma.$$arity=-1)})(l[0],l);return function(D,R){D=d(D,"Readable");var ia=[D].concat(R),ea,ma,b,h;a.def(D,"$readbyte",
ea=function(){return this.$getbyte()},ea.$$arity=0);a.def(D,"$readchar",ma=function(){return this.$getc()},ma.$$arity=0);a.def(D,"$readline",b=function(){null==G["/"]&&(G["/"]=t);return this.$raise(A(ia,"NotImplementedError"))},b.$$arity=-1);a.def(D,"$readpartial",h=function(){return this.$raise(A(ia,"NotImplementedError"))},h.$$arity=-2)}(l[0],l)})(K[0],null,K);a.const_set(K[0],"STDERR",G.stderr=A(K,"IO").$new());a.const_set(K[0],"STDIN",G.stdin=A(K,"IO").$new());a.const_set(K[0],"STDOUT",G.stdout=
A(K,"IO").$new());var m=a.global.console;k=["object"===typeof process&&"object"===typeof process.stdout?function(u){process.stdout.write(u)}:function(u){m.log(u)}];x(A(K,"STDOUT"),"write_proc=",a.to_a(k));k[y(k.length,1)];k=["object"===typeof process&&"object"===typeof process.stderr?function(u){process.stderr.write(u)}:function(u){m.warn(u)}];x(A(K,"STDERR"),"write_proc=",a.to_a(k));k[y(k.length,1)];A(K,"STDOUT").$extend(w(A(K,"IO"),"Writable"));return A(K,"STDERR").$extend(w(A(K,"IO"),"Writable"))};
Opal.modules["opal/regexp_anchors"]=function(a){var y=[],K=a.nil,t=a.$$,w=a.module;a.add_stubs(["$==","$new"]);y=[w(y[0],"Opal")].concat(y);a.const_set(y[0],"REGEXP_START",t(y,"RUBY_ENGINE")["$=="]("opal")?"^":K);a.const_set(y[0],"REGEXP_END",t(y,"RUBY_ENGINE")["$=="]("opal")?"$":K);a.const_set(y[0],"FORBIDDEN_STARTING_IDENTIFIER_CHARS","\\u0001-\\u002F\\u003A-\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F");a.const_set(y[0],"FORBIDDEN_ENDING_IDENTIFIER_CHARS","\\u0001-\\u0020\\u0022-\\u002F\\u003A-\\u003E\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F");
a.const_set(y[0],"INLINE_IDENTIFIER_REGEXP",t(y,"Regexp").$new("[^"+t(y,"FORBIDDEN_STARTING_IDENTIFIER_CHARS")+"]*[^"+t(y,"FORBIDDEN_ENDING_IDENTIFIER_CHARS")+"]"));a.const_set(y[0],"FORBIDDEN_CONST_NAME_CHARS","\\u0001-\\u0020\\u0021-\\u002F\\u003B-\\u003F\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F");a.const_set(y[0],"CONST_NAME_REGEXP",t(y,"Regexp").$new(""+t(y,"REGEXP_START")+"(::)?[A-Z][^"+t(y,"FORBIDDEN_CONST_NAME_CHARS")+"]*"+t(y,"REGEXP_END")))};
Opal.modules["opal/mini"]=function(a){var y=a.top;a.add_stubs(["$require"]);y.$require("opal/base");y.$require("corelib/nil");y.$require("corelib/boolean");y.$require("corelib/string");y.$require("corelib/comparable");y.$require("corelib/enumerable");y.$require("corelib/enumerator");y.$require("corelib/array");y.$require("corelib/hash");y.$require("corelib/number");y.$require("corelib/range");y.$require("corelib/proc");y.$require("corelib/method");y.$require("corelib/regexp");y.$require("corelib/variables");
y.$require("corelib/io");return y.$require("opal/regexp_anchors")};
Opal.modules["corelib/kernel/format"]=function(a){var y=[],K=a.nil,t=a.$$,w=a.coerce_to,A=a.module,p=a.truthy,d=a.gvars;a.add_stubs("$== $length $respond_to? $[] $coerce_to? $nil? $to_a $raise $to_int $fetch $Integer $Float $to_ary $to_str $inspect $to_s".split(" "));return function(G,x){G=A(G,"Kernel");var k=[G].concat(x),m;a.def(G,"$format",m=function(u,c){function l(){ca&32&&ea.$raise(t(k,"ArgumentError"),"flag after width");ca&128&&ea.$raise(t(k,"ArgumentError"),"flag after precision")}function H(){ca&
32&&ea.$raise(t(k,"ArgumentError"),"width given twice");ca&128&&ea.$raise(t(k,"ArgumentError"),"width after precision")}function e(na){na>=h.length&&ea.$raise(t(k,"ArgumentError"),"too few arguments");return h[na]}function n(){switch(F){case -1:ea.$raise(t(k,"ArgumentError"),"unnumbered("+E+") mixed with numbered");case -2:ea.$raise(t(k,"ArgumentError"),"unnumbered("+E+") mixed with named")}F=E++;return e(F-1)}function J(na){0<F&&ea.$raise(t(k,"ArgumentError"),"numbered("+na+") after unnumbered("+
F+")");-2===F&&ea.$raise(t(k,"ArgumentError"),"numbered("+na+") after named");1>na&&ea.$raise(t(k,"ArgumentError"),"invalid index - "+na+"$");F=-1;return e(na-1)}function D(){return void 0===Oa?n():Oa}function R(na){var V;for(V="";;f++){f===q&&ea.$raise(t(k,"ArgumentError"),"malformed format string - %*[0-9]");if(48>u.charCodeAt(f)||57<u.charCodeAt(f))return f--,V=parseInt(V,10)||0,2147483647<V&&ea.$raise(t(k,"ArgumentError"),""+na+" too big"),V;V+=u.charAt(f)}}function ia(na){na=R(na);"$"===u.charAt(f+
1)?(f++,na=J(na)):na=n();return na.$to_int()}var ea=this,ma=K,b=K;null==d.DEBUG&&(d.DEBUG=K);var h=a.slice.call(arguments,1,arguments.length);p(p(ma=h.$length()["$=="](1))?h["$[]"](0)["$respond_to?"]("to_ary"):ma)&&(b=t(k,"Opal")["$coerce_to?"](h["$[]"](0),t(k,"Array"),"to_ary"),p(b["$nil?"]())||(h=b.$to_a()));ma="";b=0;var f,q=u.length,z,E=1,F=0;for(f=u.indexOf("%");-1!==f;f=u.indexOf("%",f)){var L=void 0;var ca=0;var va=z=-1;var Oa=void 0;var wa=f;f++;switch(u.charAt(f)){case "%":b=f;case "":case "\n":case "\x00":f++;
continue}a:for(;f<q;f++)switch(u.charAt(f)){case " ":l();ca|=16;continue a;case "#":l();ca|=1;continue a;case "+":l();ca|=4;continue a;case "-":l();ca|=2;continue a;case "0":l();ca|=8;continue a;case "1":case "2":case "3":case "4":case "5":case "6":case "7":case "8":case "9":var Ba=R("width");if("$"===u.charAt(f+1)){if(f+2===q){L="%";f++;break a}void 0!==Oa&&ea.$raise(t(k,"ArgumentError"),"value given twice - %"+Ba+"$");Oa=J(Ba);f++}else H(),ca|=32,z=Ba;continue a;case "<":case "{":var Ka="<"===u.charAt(f)?
">":"}";Ba="";for(f++;;f++){f===q&&ea.$raise(t(k,"ArgumentError"),"malformed name - unmatched parenthesis");if(u.charAt(f)===Ka)if(0<F&&ea.$raise(t(k,"ArgumentError"),"named "+Ba+" after unnumbered("+F+")"),-1===F&&ea.$raise(t(k,"ArgumentError"),"named "+Ba+" after numbered"),F=-2,void 0!==h[0]&&h[0].$$is_hash||ea.$raise(t(k,"ArgumentError"),"one hash required"),Oa=h[0].$fetch(Ba),">"===Ka)continue a;else{L=Oa.toString();-1!==va&&(L=L.slice(0,va));if(ca&2)for(;L.length<z;)L+=" ";else for(;L.length<
z;)L=" "+L;break a}Ba+=u.charAt(f)}case "*":f++;H();ca|=32;z=ia("width");0>z&&(ca|=2,z=-z);continue a;case ".":ca&128&&ea.$raise(t(k,"ArgumentError"),"precision given twice");ca|=192;va=0;f++;if("*"===u.charAt(f)){f++;va=ia("precision");0>va&&(ca&=-65);continue a}va=R("precision");continue a;case "d":case "i":case "u":Ba=ea.$Integer(D());if(0<=Ba){for(L=Ba.toString();L.length<va;)L="0"+L;if(ca&2){if(ca&4||ca&16)L=(ca&4?"+":" ")+L;for(;L.length<z;)L+=" "}else if(ca&8&&-1===va){for(;L.length<z-(ca&
4||ca&16?1:0);)L="0"+L;if(ca&4||ca&16)L=(ca&4?"+":" ")+L}else{if(ca&4||ca&16)L=(ca&4?"+":" ")+L;for(;L.length<z;)L=" "+L}}else{for(L=(-Ba).toString();L.length<va;)L="0"+L;if(ca&2)for(L="-"+L;L.length<z;)L+=" ";else if(ca&8&&-1===va){for(;L.length<z-1;)L="0"+L;L="-"+L}else for(L="-"+L;L.length<z;)L=" "+L}break a;case "b":case "B":case "o":case "x":case "X":switch(u.charAt(f)){case "b":case "B":var oa=2;var S="0b";var ta=/^1+/;var ja="1";break;case "o":oa=8;S="0";ta=/^3?7+/;ja="7";break;case "x":case "X":oa=
16,S="0x",ta=/^f+/,ja="f"}Ba=ea.$Integer(D());if(0<=Ba){for(L=Ba.toString(oa);L.length<va;)L="0"+L;if(ca&2){if(ca&4||ca&16)L=(ca&4?"+":" ")+L;for(ca&1&&0!==Ba&&(L=S+L);L.length<z;)L+=" "}else if(ca&8&&-1===va){for(;L.length<z-(ca&4||ca&16?1:0)-(ca&1&&0!==Ba?S.length:0);)L="0"+L;ca&1&&0!==Ba&&(L=S+L);if(ca&4||ca&16)L=(ca&4?"+":" ")+L}else{ca&1&&0!==Ba&&(L=S+L);if(ca&4||ca&16)L=(ca&4?"+":" ")+L;for(;L.length<z;)L=" "+L}}else if(ca&4||ca&16){for(L=(-Ba).toString(oa);L.length<va;)L="0"+L;if(ca&2)for(ca&
1&&(L=S+L),L="-"+L;L.length<z;)L+=" ";else if(ca&8&&-1===va){for(;L.length<z-1-(ca&1?2:0);)L="0"+L;ca&1&&(L=S+L);L="-"+L}else for(ca&1&&(L=S+L),L="-"+L;L.length<z;)L=" "+L}else{for(L=(Ba>>>0).toString(oa).replace(ta,ja);L.length<va-2;)L=ja+L;if(ca&2)for(L=".."+L,ca&1&&(L=S+L);L.length<z;)L+=" ";else if(ca&8&&-1===va){for(;L.length<z-2-(ca&1?S.length:0);)L=ja+L;L=".."+L;ca&1&&(L=S+L)}else for(L=".."+L,ca&1&&(L=S+L);L.length<z;)L=" "+L}u.charAt(f)===u.charAt(f).toUpperCase()&&(L=L.toUpperCase());break a;
case "f":case "e":case "E":case "g":case "G":Ba=ea.$Float(D());if(0<=Ba||isNaN(Ba)){if(Infinity===Ba)L="Inf";else switch(u.charAt(f)){case "f":L=Ba.toFixed(-1===va?6:va);break;case "e":case "E":L=Ba.toExponential(-1===va?6:va);break;case "g":case "G":L=Ba.toExponential(),Ka=parseInt(L.split("e")[1],10),-4>Ka||Ka>=(-1===va?6:va)||(L=Ba.toPrecision(-1===va?ca&1?6:void 0:va))}if(ca&2){if(ca&4||ca&16)L=(ca&4?"+":" ")+L;for(;L.length<z;)L+=" "}else if(ca&8&&Infinity!==Ba&&!isNaN(Ba)){for(;L.length<z-(ca&
4||ca&16?1:0);)L="0"+L;if(ca&4||ca&16)L=(ca&4?"+":" ")+L}else{if(ca&4||ca&16)L=(ca&4?"+":" ")+L;for(;L.length<z;)L=" "+L}}else{if(-Infinity===Ba)L="Inf";else switch(u.charAt(f)){case "f":L=(-Ba).toFixed(-1===va?6:va);break;case "e":case "E":L=(-Ba).toExponential(-1===va?6:va);break;case "g":case "G":L=(-Ba).toExponential(),Ka=parseInt(L.split("e")[1],10),-4>Ka||Ka>=(-1===va?6:va)||(L=(-Ba).toPrecision(-1===va?ca&1?6:void 0:va))}if(ca&2)for(L="-"+L;L.length<z;)L+=" ";else if(ca&8&&-Infinity!==Ba){for(;L.length<
z-1;)L="0"+L;L="-"+L}else for(L="-"+L;L.length<z;)L=" "+L}u.charAt(f)!==u.charAt(f).toUpperCase()||Infinity===Ba||-Infinity===Ba||isNaN(Ba)||(L=L.toUpperCase());L=L.replace(/([eE][-+]?)([0-9])$/,"$10$2");break a;case "a":case "A":ea.$raise(t(k,"NotImplementedError"),"`A` and `a` format field types are not implemented in Opal yet");case "c":Ba=D();Ba["$respond_to?"]("to_ary")&&(Ba=Ba.$to_ary()[0]);L=Ba["$respond_to?"]("to_str")?Ba.$to_str():String.fromCharCode(w(Ba,t(k,"Integer"),"to_int"));1!==L.length&&
ea.$raise(t(k,"ArgumentError"),"%c requires a character");if(ca&2)for(;L.length<z;)L+=" ";else for(;L.length<z;)L=" "+L;break a;case "p":L=D().$inspect();-1!==va&&(L=L.slice(0,va));if(ca&2)for(;L.length<z;)L+=" ";else for(;L.length<z;)L=" "+L;break a;case "s":L=D().$to_s();-1!==va&&(L=L.slice(0,va));if(ca&2)for(;L.length<z;)L+=" ";else for(;L.length<z;)L=" "+L;break a;default:ea.$raise(t(k,"ArgumentError"),"malformed format string - %"+u.charAt(f))}void 0===L&&ea.$raise(t(k,"ArgumentError"),"malformed format string - %");
ma+=u.slice(b,wa)+L;b=f+1}d.DEBUG&&0<=F&&E<h.length&&ea.$raise(t(k,"ArgumentError"),"too many arguments for format string");return ma+u.slice(b)},m.$$arity=-2);a.alias(G,"sprintf","format")}(y[0],y)};
Opal.modules["corelib/string/encoding"]=function(a){function y(n,J){return"number"===typeof n&&"number"===typeof J?n+J:n["$+"](J)}var K,t,w,A,p,d=a.top,G=[],x=a.nil,k=a.$$$,m=a.$$,u=a.klass,c=a.hash2,l=a.truthy,H=a.send,e=x;a.add_stubs("$require $+ $[] $new $instance_eval $to_proc $each $const_set $sub $== $default_external $upcase $raise $attr_accessor $singleton_class $attr_reader $register $length $bytes $to_a $each_byte $dup $bytesize $enum_for $each_codepoint $coerce_to! $find $< $default_external= $-".split(" "));d.$require("corelib/string");
(function(n,$super,D){n=u(n,$super,"Encoding");var R=[n].concat(D),ia,ea,ma,b,h,f,q,z,E;n.$$prototype.ascii=n.$$prototype.dummy=n.$$prototype.name=x;a.defs(n,"$register",ia=function(F,L){var ca=ia.$$p,va=ca||x,Oa,wa=x,Ba=x,Ka=x,oa=x,S=x,ta=x,ja=x,na=x;ca&&(ia.$$p=null);ca&&(ia.$$p=null);null==L&&(L=c([],{}));wa=y([F],l(Ba=L["$[]"]("aliases"))?Ba:[]);Ka=l(oa=L["$[]"]("ascii"))?oa:!1;S=l(ta=L["$[]"]("dummy"))?ta:!1;ja=this.$new(F,wa,Ka,S);H(ja,"instance_eval",[],va.$to_proc());na=a.encodings;return H(wa,
"each",[],(Oa=function(V){var Q=null==Oa.$$s?this:Oa.$$s;null==V&&(V=x);Q.$const_set(V.$sub("-","_"),ja);return na[V]=ja},Oa.$$s=this,Oa.$$arity=1,Oa))},ia.$$arity=-2);a.defs(n,"$find",ea=function(F){var L=x;if(F["$=="]("default_external"))return this.$default_external();var ca=a.encodings;ca=l(L=ca[F])?L:ca[F.$upcase()];l(ca)||this.$raise(m(R,"ArgumentError"),"unknown encoding name - "+F);return ca},ea.$$arity=1);n.$singleton_class().$attr_accessor("default_external");n.$attr_reader("name","names");
a.def(n,"$initialize",ma=function(F,L,ca,va){this.name=F;this.names=L;this.ascii=ca;return this.dummy=va},ma.$$arity=4);a.def(n,"$ascii_compatible?",b=function(){return this.ascii},b.$$arity=0);a.def(n,"$dummy?",h=function(){return this.dummy},h.$$arity=0);a.def(n,"$to_s",f=function(){return this.name},f.$$arity=0);a.def(n,"$inspect",q=function(){return"#<Encoding:"+this.name+(l(this.dummy)?" (dummy)":x)+">"},q.$$arity=0);a.def(n,"$each_byte",z=function(F){a.slice.call(arguments,0,arguments.length);
return this.$raise(m(R,"NotImplementedError"))},z.$$arity=-1);a.def(n,"$bytesize",E=function(F){a.slice.call(arguments,0,arguments.length);return this.$raise(m(R,"NotImplementedError"))},E.$$arity=-1);(function(F,$super,ca){[u(F,$super,"EncodingError")].concat(ca);return x})(R[0],m(R,"StandardError"),R);return function(F,$super,ca){[u(F,$super,"CompatibilityError")].concat(ca);return x}(R[0],m(R,"EncodingError"),R)})(G[0],null,G);H(m(G,"Encoding"),"register",["UTF-8",c(["aliases","ascii"],{aliases:["CP65001"],
ascii:!0})],(K=function(){var n=null==K.$$s?this:K.$$s,J,D;a.def(n,"$each_byte",J=function(R){var ia=J.$$p,ea=ia||x;ia&&(J.$$p=null);ia&&(J.$$p=null);ia=Infinity;for(var ma,b=R.length,h=null,f=0;f<b;++f){ma=R.charCodeAt(f);if(55295<ma&&57344>ma){if(!h){if(56319<ma){-1<(ia-=3)&&(a.yield1(ea,239),a.yield1(ea,191),a.yield1(ea,189));continue}else if(f+1===b){-1<(ia-=3)&&(a.yield1(ea,239),a.yield1(ea,191),a.yield1(ea,189));continue}h=ma;continue}if(56320>ma){-1<(ia-=3)&&(a.yield1(ea,239),a.yield1(ea,191),
a.yield1(ea,189));h=ma;continue}ma=(h-55296<<10|ma-56320)+65536}else h&&-1<(ia-=3)&&(a.yield1(ea,239),a.yield1(ea,191),a.yield1(ea,189));h=null;if(128>ma){if(0>--ia)break;a.yield1(ea,ma)}else if(2048>ma){if(0>(ia-=2))break;a.yield1(ea,ma>>6|192);a.yield1(ea,ma&63|128)}else if(65536>ma){if(0>(ia-=3))break;a.yield1(ea,ma>>12|224);a.yield1(ea,ma>>6&63|128);a.yield1(ea,ma&63|128)}else if(1114112>ma){if(0>(ia-=4))break;a.yield1(ea,ma>>18|240);a.yield1(ea,ma>>12&63|128);a.yield1(ea,ma>>6&63|128);a.yield1(ea,
ma&63|128)}}},J.$$arity=1);return(a.def(n,"$bytesize",D=function(R){return R.$bytes().$length()},D.$$arity=1),x)&&"bytesize"},K.$$s=d,K.$$arity=0,K));H(m(G,"Encoding"),"register",["UTF-16LE"],(t=function(){var n=null==t.$$s?this:t.$$s,J,D;a.def(n,"$each_byte",J=function(R){var ia=J.$$p,ea=ia||x;ia&&(J.$$p=null);ia&&(J.$$p=null);ia=0;for(var ma=R.length;ia<ma;ia++){var b=R.charCodeAt(ia);a.yield1(ea,b&255);a.yield1(ea,b>>8)}},J.$$arity=1);return(a.def(n,"$bytesize",D=function(R){return R.$bytes().$length()},
D.$$arity=1),x)&&"bytesize"},t.$$s=d,t.$$arity=0,t));H(m(G,"Encoding"),"register",["UTF-16BE"],(w=function(){var n=null==w.$$s?this:w.$$s,J,D;a.def(n,"$each_byte",J=function(R){var ia=J.$$p,ea=ia||x;ia&&(J.$$p=null);ia&&(J.$$p=null);ia=0;for(var ma=R.length;ia<ma;ia++){var b=R.charCodeAt(ia);a.yield1(ea,b>>8);a.yield1(ea,b&255)}},J.$$arity=1);return(a.def(n,"$bytesize",D=function(R){return R.$bytes().$length()},D.$$arity=1),x)&&"bytesize"},w.$$s=d,w.$$arity=0,w));H(m(G,"Encoding"),"register",["UTF-32LE"],
(A=function(){var n=null==A.$$s?this:A.$$s,J,D;a.def(n,"$each_byte",J=function(R){var ia=J.$$p,ea=ia||x;ia&&(J.$$p=null);ia&&(J.$$p=null);ia=0;for(var ma=R.length;ia<ma;ia++){var b=R.charCodeAt(ia);a.yield1(ea,b&255);a.yield1(ea,b>>8)}},J.$$arity=1);return(a.def(n,"$bytesize",D=function(R){return R.$bytes().$length()},D.$$arity=1),x)&&"bytesize"},A.$$s=d,A.$$arity=0,A));H(m(G,"Encoding"),"register",["ASCII-8BIT",c(["aliases","ascii","dummy"],{aliases:["BINARY","US-ASCII","ASCII"],ascii:!0,dummy:!0})],
(p=function(){var n=null==p.$$s?this:p.$$s,J,D;a.def(n,"$each_byte",J=function(R){var ia=J.$$p,ea=ia||x;ia&&(J.$$p=null);ia&&(J.$$p=null);ia=0;for(var ma=R.length;ia<ma;ia++){var b=R.charCodeAt(ia);a.yield1(ea,b&255);a.yield1(ea,b>>8)}},J.$$arity=1);return(a.def(n,"$bytesize",D=function(R){return R.$bytes().$length()},D.$$arity=1),x)&&"bytesize"},p.$$s=d,p.$$arity=0,p));(function(n,$super,D){n=u(n,$super,"String");var R=[n].concat(D),ia,ea,ma,b,h,f,q,z,E;n.$$prototype.bytes=n.$$prototype.internal_encoding=
x;n.$attr_reader("encoding");n.$attr_reader("internal_encoding");a.defineProperty(String.prototype,"bytes",x);a.defineProperty(String.prototype,"encoding",k(m(R,"Encoding"),"UTF_8"));a.defineProperty(String.prototype,"internal_encoding",k(m(R,"Encoding"),"UTF_8"));a.def(n,"$bytes",ia=function(){var F=x;this.bytes=l(F=this.bytes)?F:this.$each_byte().$to_a();return this.bytes.$dup()},ia.$$arity=0);a.def(n,"$bytesize",ea=function(){return this.internal_encoding.$bytesize(this)},ea.$$arity=0);a.def(n,
"$each_byte",ma=function(){var F=ma.$$p,L=F||x;F&&(ma.$$p=null);F&&(ma.$$p=null);if(L===x)return this.$enum_for("each_byte");H(this.internal_encoding,"each_byte",[this],L.$to_proc());return this},ma.$$arity=0);a.def(n,"$each_codepoint",b=function(){var F=b.$$p,L=F||x;F&&(b.$$p=null);F&&(b.$$p=null);if(L===x)return this.$enum_for("each_codepoint");F=0;for(var ca=this.length;F<ca;F++)a.yield1(L,this.codePointAt(F));return this},b.$$arity=0);a.def(n,"$codepoints",h=function(){var F=h.$$p,L=F||x;F&&(h.$$p=
null);F&&(h.$$p=null);return L!==x?H(this,"each_codepoint",[],L.$to_proc()):this.$each_codepoint().$to_a()},h.$$arity=0);a.def(n,"$encode",f=function(F){return a.enc(this,F)},f.$$arity=1);a.def(n,"$force_encoding",q=function(F){if(F===this.encoding)return this;F=m(R,"Opal")["$coerce_to!"](F,m(R,"String"),"to_s");F=m(R,"Encoding").$find(F);if(F===this.encoding)return this;a.set_encoding(this,F);return this},q.$$arity=1);a.def(n,"$getbyte",z=function(F){var L=this.$bytes();F=m(R,"Opal")["$coerce_to!"](F,
m(R,"Integer"),"to_int");var ca=L.$length();ca="number"===typeof ca&&"number"===typeof F?ca<F:ca["$<"](F);return l(ca)?x:L["$[]"](F)},z.$$arity=1);return(a.def(n,"$valid_encoding?",E=function(){return!0},E.$$arity=0),x)&&"valid_encoding?"})(G[0],null,G);e=[k(m(G,"Encoding"),"UTF_8")];H(m(G,"Encoding"),"default_external=",a.to_a(e));return e[function(n,J){return"number"===typeof n&&"number"===typeof J?n-J:n["$-"](J)}(e.length,1)]};
Opal.modules["corelib/math"]=function(a){var y=[],K=a.$$$,t=a.$$,w=a.type_error,A=a.module,p=a.truthy;a.add_stubs("$new $raise $Float $Integer $module_function $checked $float! $=== $gamma $- $integer! $/ $infinite?".split(" "));return function(d,G){d=A(d,"Math");var x=[d].concat(G),k,m,u,c,l,H,e,n,J,D,R,ia,ea,ma,b,h,f,q,z,E,F,L,ca,va,Oa,wa,Ba,Ka,oa;a.const_set(x[0],"E",Math.E);a.const_set(x[0],"PI",Math.PI);a.const_set(x[0],"DomainError",t(x,"Class").$new(t(x,"StandardError")));a.defs(d,"$checked",
k=function(S,ta){var ja=a.slice.call(arguments,1,arguments.length);if(isNaN(ja[0])||2==ja.length&&isNaN(ja[1]))return NaN;ja=Math[S].apply(null,ja);isNaN(ja)&&this.$raise(t(x,"DomainError"),'Numerical argument is out of domain - "'+S+'"');return ja},k.$$arity=-2);a.defs(d,"$float!",m=function(S){try{return this.$Float(S)}catch(ta){if(a.rescue(ta,[t(x,"ArgumentError")]))try{return this.$raise(w(S,t(x,"Float")))}finally{a.pop_exception()}else throw ta;}},m.$$arity=1);a.defs(d,"$integer!",u=function(S){try{return this.$Integer(S)}catch(ta){if(a.rescue(ta,
[t(x,"ArgumentError")]))try{return this.$raise(w(S,t(x,"Integer")))}finally{a.pop_exception()}else throw ta;}},u.$$arity=1);d.$module_function();a.def(d,"$acos",c=function(S){return t(x,"Math").$checked("acos",t(x,"Math")["$float!"](S))},c.$$arity=1);p("undefined"!==typeof Math.acosh)||(Math.acosh=function(S){return Math.log(S+Math.sqrt(S*S-1))});a.def(d,"$acosh",l=function(S){return t(x,"Math").$checked("acosh",t(x,"Math")["$float!"](S))},l.$$arity=1);a.def(d,"$asin",H=function(S){return t(x,"Math").$checked("asin",
t(x,"Math")["$float!"](S))},H.$$arity=1);p("undefined"!==typeof Math.asinh)||(Math.asinh=function(S){return Math.log(S+Math.sqrt(S*S+1))});a.def(d,"$asinh",e=function(S){return t(x,"Math").$checked("asinh",t(x,"Math")["$float!"](S))},e.$$arity=1);a.def(d,"$atan",n=function(S){return t(x,"Math").$checked("atan",t(x,"Math")["$float!"](S))},n.$$arity=1);a.def(d,"$atan2",J=function(S,ta){return t(x,"Math").$checked("atan2",t(x,"Math")["$float!"](S),t(x,"Math")["$float!"](ta))},J.$$arity=2);p("undefined"!==
typeof Math.atanh)||(Math.atanh=function(S){return.5*Math.log((1+S)/(1-S))});a.def(d,"$atanh",D=function(S){return t(x,"Math").$checked("atanh",t(x,"Math")["$float!"](S))},D.$$arity=1);p("undefined"!==typeof Math.cbrt)||(Math.cbrt=function(S){if(0==S)return 0;if(0>S)return-Math.cbrt(-S);for(var ta=S,ja=0;.125>ta;)ta*=8,ja--;for(;1<ta;)ta*=.125,ja++;for(ta=(-.46946116*ta+1.072302)*ta+.3812513;0>ja;)ta*=.5,ja++;for(;0<ja;)ta*=2,ja--;ta=2/3*ta+1/3*S/(ta*ta);ta=2/3*ta+1/3*S/(ta*ta);ta=2/3*ta+1/3*S/(ta*
ta);return 2/3*ta+1/3*S/(ta*ta)});a.def(d,"$cbrt",R=function(S){return t(x,"Math").$checked("cbrt",t(x,"Math")["$float!"](S))},R.$$arity=1);a.def(d,"$cos",ia=function(S){return t(x,"Math").$checked("cos",t(x,"Math")["$float!"](S))},ia.$$arity=1);p("undefined"!==typeof Math.cosh)||(Math.cosh=function(S){return(Math.exp(S)+Math.exp(-S))/2});a.def(d,"$cosh",ea=function(S){return t(x,"Math").$checked("cosh",t(x,"Math")["$float!"](S))},ea.$$arity=1);p("undefined"!==typeof Math.erf)||a.defineProperty(Math,
"erf",function(S){var ta=1;0>S&&(ta=-1);S=Math.abs(S);var ja=1/(1+.3275911*S);return ta*(1-((((1.061405429*ja+-1.453152027)*ja+1.421413741)*ja+-.284496736)*ja+.254829592)*ja*Math.exp(-S*S))});a.def(d,"$erf",ma=function(S){return t(x,"Math").$checked("erf",t(x,"Math")["$float!"](S))},ma.$$arity=1);p("undefined"!==typeof Math.erfc)||a.defineProperty(Math,"erfc",function(S){var ta=Math.abs(S),ja=1/(.5*ta+1);ta=ja*Math.exp(-ta*ta-1.26551223+ja*(ja*(ja*(ja*(ja*(ja*(ja*(ja*(.17087277*ja+-.82215223)+1.48851587)+
-1.13520398)+.27886807)+-.18628806)+.09678418)+.37409196)+1.00002368));return 0>S?2-ta:ta});a.def(d,"$erfc",b=function(S){return t(x,"Math").$checked("erfc",t(x,"Math")["$float!"](S))},b.$$arity=1);a.def(d,"$exp",h=function(S){return t(x,"Math").$checked("exp",t(x,"Math")["$float!"](S))},h.$$arity=1);a.def(d,"$frexp",f=function(S){S=t(x,"Math")["$float!"](S);if(isNaN(S))return[NaN,0];var ta=Math.floor(Math.log(Math.abs(S))/Math.log(2))+1;return[S/Math.pow(2,ta),ta]},f.$$arity=1);a.def(d,"$gamma",
q=function(S){S=t(x,"Math")["$float!"](S);var ta=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3.399464998481189E-5,4.652362892704858E-5,-9.837447530487956E-5,1.580887032249125E-4,-2.1026444172410488E-4,2.1743961811521265E-4,-1.643181065367639E-4,8.441822398385275E-5,-2.6190838401581408E-5,3.6899182659531625E-6];if(isNaN(S))return NaN;if(0===S&&0>1/S)return-Infinity;-1!==S&&-Infinity!==S||this.$raise(t(x,"DomainError"),'Numerical argument is out of domain - "gamma"');
if(t(x,"Integer")["$==="](S)){if(0>=S)return isFinite(S)?Infinity:NaN;if(171<S)return Infinity;var ja=S-2;for(--S;1<ja;)S*=ja,ja--;0==S&&(S=1);return S}if(.5>S)return Math.PI/(Math.sin(Math.PI*S)*t(x,"Math").$gamma("number"===typeof S?1-S:1["$-"](S)));if(171.35<=S)return Infinity;if(85<S){ja=S*S;var na=ja*S;ta=na*S;var V=ta*S;return Math.sqrt(2*Math.PI/S)*Math.pow(S/Math.E,S)*(1+1/(12*S)+1/(288*ja)-139/(51840*na)-571/(2488320*ta)+163879/(209018880*V)+5246819/(75246796800*V*S))}--S;ja=ta[0];for(na=
1;na<ta.length;++na)ja+=ta[na]/(S+na);na=S+4.7421875+.5;return Math.sqrt(2*Math.PI)*Math.pow(na,S+.5)*Math.exp(-na)*ja},q.$$arity=1);p("undefined"!==typeof Math.hypot)||(Math.hypot=function(S,ta){return Math.sqrt(S*S+ta*ta)});a.def(d,"$hypot",z=function(S,ta){return t(x,"Math").$checked("hypot",t(x,"Math")["$float!"](S),t(x,"Math")["$float!"](ta))},z.$$arity=2);a.def(d,"$ldexp",E=function(S,ta){S=t(x,"Math")["$float!"](S);ta=t(x,"Math")["$integer!"](ta);isNaN(ta)&&this.$raise(t(x,"RangeError"),"float NaN out of range of integer");
return S*Math.pow(2,ta)},E.$$arity=2);a.def(d,"$lgamma",F=function(S){return-1==S?[Infinity,1]:[Math.log(Math.abs(t(x,"Math").$gamma(S))),0>t(x,"Math").$gamma(S)?-1:1]},F.$$arity=1);a.def(d,"$log",L=function(S,ta){p(t(x,"String")["$==="](S))&&this.$raise(w(S,t(x,"Float")));if(p(null==ta))return t(x,"Math").$checked("log",t(x,"Math")["$float!"](S));p(t(x,"String")["$==="](ta))&&this.$raise(w(ta,t(x,"Float")));S=t(x,"Math").$checked("log",t(x,"Math")["$float!"](S));ta=t(x,"Math").$checked("log",t(x,
"Math")["$float!"](ta));return"number"===typeof S&&"number"===typeof ta?S/ta:S["$/"](ta)},L.$$arity=-2);p("undefined"!==typeof Math.log10)||(Math.log10=function(S){return Math.log(S)/Math.LN10});a.def(d,"$log10",ca=function(S){p(t(x,"String")["$==="](S))&&this.$raise(w(S,t(x,"Float")));return t(x,"Math").$checked("log10",t(x,"Math")["$float!"](S))},ca.$$arity=1);p("undefined"!==typeof Math.log2)||(Math.log2=function(S){return Math.log(S)/Math.LN2});a.def(d,"$log2",va=function(S){p(t(x,"String")["$==="](S))&&
this.$raise(w(S,t(x,"Float")));return t(x,"Math").$checked("log2",t(x,"Math")["$float!"](S))},va.$$arity=1);a.def(d,"$sin",Oa=function(S){return t(x,"Math").$checked("sin",t(x,"Math")["$float!"](S))},Oa.$$arity=1);p("undefined"!==typeof Math.sinh)||(Math.sinh=function(S){return(Math.exp(S)-Math.exp(-S))/2});a.def(d,"$sinh",wa=function(S){return t(x,"Math").$checked("sinh",t(x,"Math")["$float!"](S))},wa.$$arity=1);a.def(d,"$sqrt",Ba=function(S){return t(x,"Math").$checked("sqrt",t(x,"Math")["$float!"](S))},
Ba.$$arity=1);a.def(d,"$tan",Ka=function(S){S=t(x,"Math")["$float!"](S);return p(S["$infinite?"]())?K(t(x,"Float"),"NAN"):t(x,"Math").$checked("tan",t(x,"Math")["$float!"](S))},Ka.$$arity=1);p("undefined"!==typeof Math.tanh)||(Math.tanh=function(S){return Infinity==S?1:-Infinity==S?-1:(Math.exp(S)-Math.exp(-S))/(Math.exp(S)+Math.exp(-S))});a.def(d,"$tanh",oa=function(S){return t(x,"Math").$checked("tanh",t(x,"Math")["$float!"](S))},oa.$$arity=1)}(y[0],y)};
Opal.modules["corelib/complex"]=function(a){function y(c,l){return"number"===typeof c&&"number"===typeof l?c*l:c["$*"](l)}function K(c,l){return"number"===typeof c&&"number"===typeof l?c+l:c["$+"](l)}function t(c,l){return"number"===typeof c&&"number"===typeof l?c-l:c["$-"](l)}function w(c,l){return"number"===typeof c&&"number"===typeof l?c/l:c["$/"](l)}var A=a.top,p=[],d=a.nil,G=a.$$$,x=a.$$,k=a.klass,m=a.truthy,u=a.module;a.add_stubs("$require $=== $real? $raise $new $* $cos $sin $attr_reader $class $== $real $imag $Complex $-@ $+ $__coerced__ $- $nan? $/ $conj $abs2 $quo $polar $exp $log $> $!= $divmod $** $hypot $atan2 $lcm $denominator $finite? $infinite? $numerator $abs $arg $rationalize $to_f $to_i $to_r $inspect $positive? $zero? $Rational".split(" "));
A.$require("corelib/numeric");(function(c,$super,H){c=k(c,$super,"Complex");var e=[c].concat(H),n,J,D,R,ia,ea,ma,b,h,f,q,z,E,F,L,ca,va,Oa,wa,Ba,Ka,oa,S,ta,ja,na,V,Q,Y,pa,za;c.$$prototype.real=c.$$prototype.imag=d;a.defs(c,"$rect",n=function(la,xa){var Ea=d,Fa=d,Sa=d;null==xa&&(xa=0);m(m(Ea=m(Fa=m(Sa=x(e,"Numeric")["$==="](la))?la["$real?"]():Sa)?x(e,"Numeric")["$==="](xa):Fa)?xa["$real?"]():Ea)||this.$raise(x(e,"TypeError"),"not a real");return this.$new(la,xa)},n.$$arity=-2);(function(la,xa){[la].concat(xa);
return a.alias(la,"rectangular","rect")})(a.get_singleton_class(c),e);a.defs(c,"$polar",J=function(la,xa){var Ea=d,Fa=d,Sa=d;null==xa&&(xa=0);m(m(Ea=m(Fa=m(Sa=x(e,"Numeric")["$==="](la))?la["$real?"]():Sa)?x(e,"Numeric")["$==="](xa):Fa)?xa["$real?"]():Ea)||this.$raise(x(e,"TypeError"),"not a real");return this.$new(y(la,x(e,"Math").$cos(xa)),y(la,x(e,"Math").$sin(xa)))},J.$$arity=-2);c.$attr_reader("real","imag");a.def(c,"$initialize",D=function(la,xa){null==xa&&(xa=0);this.real=la;return this.imag=
xa},D.$$arity=-2);a.def(c,"$coerce",R=function(la){var xa=d;return m(x(e,"Complex")["$==="](la))?[la,this]:m(m(xa=x(e,"Numeric")["$==="](la))?la["$real?"]():xa)?[x(e,"Complex").$new(la,0),this]:this.$raise(x(e,"TypeError"),""+la.$class()+" can't be coerced into Complex")},R.$$arity=1);a.def(c,"$==",ia=function(la){var xa=d,Ea=d,Fa=d;return m(x(e,"Complex")["$==="](la))?m(xa=this.real["$=="](la.$real()))?this.imag["$=="](la.$imag()):xa:m(m(Ea=x(e,"Numeric")["$==="](la))?la["$real?"]():Ea)?m(Fa=this.real["$=="](la))?
this.imag["$=="](0):Fa:la["$=="](this)},ia.$$arity=1);a.def(c,"$-@",ea=function(){return this.$Complex(this.real["$-@"](),this.imag["$-@"]())},ea.$$arity=0);a.def(c,"$+",ma=function(la){var xa=d;return m(x(e,"Complex")["$==="](la))?this.$Complex(K(this.real,la.$real()),K(this.imag,la.$imag())):m(m(xa=x(e,"Numeric")["$==="](la))?la["$real?"]():xa)?this.$Complex(K(this.real,la),this.imag):this.$__coerced__("+",la)},ma.$$arity=1);a.def(c,"$-",b=function(la){var xa=d;return m(x(e,"Complex")["$==="](la))?
this.$Complex(t(this.real,la.$real()),t(this.imag,la.$imag())):m(m(xa=x(e,"Numeric")["$==="](la))?la["$real?"]():xa)?this.$Complex(t(this.real,la),this.imag):this.$__coerced__("-",la)},b.$$arity=1);a.def(c,"$*",h=function(la){var xa=d;return m(x(e,"Complex")["$==="](la))?this.$Complex(t(y(this.real,la.$real()),y(this.imag,la.$imag())),K(y(this.real,la.$imag()),y(this.imag,la.$real()))):m(m(xa=x(e,"Numeric")["$==="](la))?la["$real?"]():xa)?this.$Complex(y(this.real,la),y(this.imag,la)):this.$__coerced__("*",
la)},h.$$arity=1);a.def(c,"$/",f=function(la){var xa=d,Ea=d,Fa=d,Sa=d,Ra=d,Na=d,Qa=d,lb=d;return m(x(e,"Complex")["$==="](la))?m(m(xa=m(Ea=m(Fa=m(Sa=x(e,"Number")["$==="](this.real))?this.real["$nan?"]():Sa)?Fa:m(Ra=x(e,"Number")["$==="](this.imag))?this.imag["$nan?"]():Ra)?Ea:m(Na=x(e,"Number")["$==="](la.$real()))?la.$real()["$nan?"]():Na)?xa:m(Qa=x(e,"Number")["$==="](la.$imag()))?la.$imag()["$nan?"]():Qa)?x(e,"Complex").$new(G(x(e,"Float"),"NAN"),G(x(e,"Float"),"NAN")):w(y(this,la.$conj()),la.$abs2()):
m(m(lb=x(e,"Numeric")["$==="](la))?la["$real?"]():lb)?this.$Complex(this.real.$quo(la),this.imag.$quo(la)):this.$__coerced__("/",la)},f.$$arity=1);a.def(c,"$**",q=function(la){var xa=d;if(la["$=="](0))return x(e,"Complex").$new(1,0);if(m(x(e,"Complex")["$==="](la))){xa=this.$polar();var Ea=a.to_ary(xa);var Fa=null==Ea[0]?d:Ea[0];Ea=null==Ea[1]?d:Ea[1];xa;xa=la.$real();var Sa=la.$imag();la=x(e,"Math").$exp(t(y(xa,x(e,"Math").$log(Fa)),y(Sa,Ea)));xa=K(y(Ea,xa),y(Sa,x(e,"Math").$log(Fa)));return x(e,
"Complex").$polar(la,xa)}if(m(x(e,"Integer")["$==="](la))){if(m("number"===typeof la?0<la:la["$>"](0))){Ea=Fa=this;for(Sa=t(la,1);m(Sa["$!="](0));){la=Sa.$divmod(2);xa=a.to_ary(la);var Ra=null==xa[0]?d:xa[0];var Na=null==xa[1]?d:xa[1];for(la;Na["$=="](0);)Fa=this.$Complex(t(y(Fa.$real(),Fa.$real()),y(Fa.$imag(),Fa.$imag())),y(y(2,Fa.$real()),Fa.$imag())),Sa=Ra,xa=Sa.$divmod(2),la=a.to_ary(xa),Ra=null==la[0]?d:la[0],Na=null==la[1]?d:la[1],xa;Ea=y(Ea,Fa);Sa=t(Sa,1)}return Ea}return w(x(e,"Rational").$new(1,
1),this)["$**"](la["$-@"]())}return m(m(xa=x(e,"Float")["$==="](la))?xa:x(e,"Rational")["$==="](la))?(xa=this.$polar(),Ea=a.to_ary(xa),Fa=null==Ea[0]?d:Ea[0],Ea=null==Ea[1]?d:Ea[1],xa,x(e,"Complex").$polar(Fa["$**"](la),y(Ea,la))):this.$__coerced__("**",la)},q.$$arity=1);a.def(c,"$abs",z=function(){return x(e,"Math").$hypot(this.real,this.imag)},z.$$arity=0);a.def(c,"$abs2",E=function(){return K(y(this.real,this.real),y(this.imag,this.imag))},E.$$arity=0);a.def(c,"$angle",F=function(){return x(e,
"Math").$atan2(this.imag,this.real)},F.$$arity=0);a.alias(c,"arg","angle");a.def(c,"$conj",L=function(){return this.$Complex(this.real,this.imag["$-@"]())},L.$$arity=0);a.alias(c,"conjugate","conj");a.def(c,"$denominator",ca=function(){return this.real.$denominator().$lcm(this.imag.$denominator())},ca.$$arity=0);a.alias(c,"divide","/");a.def(c,"$eql?",va=function(la){var xa=d,Ea=d;return m(xa=m(Ea=x(e,"Complex")["$==="](la))?this.real.$class()["$=="](this.imag.$class()):Ea)?this["$=="](la):xa},va.$$arity=
1);a.def(c,"$fdiv",Oa=function(la){m(x(e,"Numeric")["$==="](la))||this.$raise(x(e,"TypeError"),""+la.$class()+" can't be coerced into Complex");return w(this,la)},Oa.$$arity=1);a.def(c,"$finite?",wa=function(){var la;return m(la=this.real["$finite?"]())?this.imag["$finite?"]():la},wa.$$arity=0);a.def(c,"$hash",Ba=function(){return"Complex:"+this.real+":"+this.imag},Ba.$$arity=0);a.alias(c,"imaginary","imag");a.def(c,"$infinite?",Ka=function(){var la;return m(la=this.real["$infinite?"]())?la:this.imag["$infinite?"]()},
Ka.$$arity=0);a.def(c,"$inspect",oa=function(){return"("+this+")"},oa.$$arity=0);a.alias(c,"magnitude","abs");a.udef(c,"$negative?");a.def(c,"$numerator",S=function(){var la=this.$denominator();return this.$Complex(y(this.real.$numerator(),w(la,this.real.$denominator())),y(this.imag.$numerator(),w(la,this.imag.$denominator())))},S.$$arity=0);a.alias(c,"phase","arg");a.def(c,"$polar",ta=function(){return[this.$abs(),this.$arg()]},ta.$$arity=0);a.udef(c,"$positive?");a.alias(c,"quo","/");a.def(c,"$rationalize",
ja=function(la){1<arguments.length&&this.$raise(x(e,"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)");m(this.imag["$!="](0))&&this.$raise(x(e,"RangeError"),"can't' convert "+this+" into Rational");return this.$real().$rationalize(la)},ja.$$arity=-1);a.def(c,"$real?",na=function(){return!1},na.$$arity=0);a.def(c,"$rect",V=function(){return[this.real,this.imag]},V.$$arity=0);a.alias(c,"rectangular","rect");a.def(c,"$to_f",Q=function(){this.imag["$=="](0)||this.$raise(x(e,
"RangeError"),"can't convert "+this+" into Float");return this.real.$to_f()},Q.$$arity=0);a.def(c,"$to_i",Y=function(){this.imag["$=="](0)||this.$raise(x(e,"RangeError"),"can't convert "+this+" into Integer");return this.real.$to_i()},Y.$$arity=0);a.def(c,"$to_r",pa=function(){this.imag["$=="](0)||this.$raise(x(e,"RangeError"),"can't convert "+this+" into Rational");return this.real.$to_r()},pa.$$arity=0);a.def(c,"$to_s",za=function(){var la=d,xa=d,Ea=d,Fa=d,Sa=d;var Ra=this.real.$inspect();Ra=K(Ra,
m(m(la=m(xa=m(Ea=x(e,"Number")["$==="](this.imag))?this.imag["$nan?"]():Ea)?xa:this.imag["$positive?"]())?la:this.imag["$zero?"]())?"+":"-");Ra=K(Ra,this.imag.$abs().$inspect());m(m(Fa=x(e,"Number")["$==="](this.imag))?m(Sa=this.imag["$nan?"]())?Sa:this.imag["$infinite?"]():Fa)&&(Ra=K(Ra,"*"));return K(Ra,"i")},za.$$arity=0);return a.const_set(e[0],"I",c.$new(0,1))})(p[0],x(p,"Numeric"),p);(function(c,l){c=u(c,"Kernel");var H=[c].concat(l),e;a.def(c,"$Complex",e=function(n,J){null==J&&(J=d);return m(J)?
x(H,"Complex").$new(n,J):x(H,"Complex").$new(n,0)},e.$$arity=-2)})(p[0],p);return function(c,$super,H){c=k(c,$super,"String");[c].concat(H);var e;return(a.def(c,"$to_c",e=function(){function n(){var b=R.match(ia)[0];R=R.slice(b.length);return b.replace(/_/g,"")}function J(){if(ia.test(R)){var b=parseFloat(n());if("/"===R[0]){R=R.slice(1);if(ia.test(R)){var h=parseFloat(n());return D.$Rational(b,h)}R="/"+R}return b}return null}var D=this,R=D,ia=/[+-]?[\d_]+(\.[\d_]+)?(e\d+)?/;R.match(ia);var ea;var ma=
J();return ma?(ea=J())?D.$Complex(ma,ea):"i"===R[0]?D.$Complex(0,ma):D.$Complex(ma,0):"i"===R[0]?D.$Complex(0,1):"-"===R[0]&&"i"===R[1]?D.$Complex(0,-1):"+"===R[0]&&"i"===R[1]?D.$Complex(0,1):D.$Complex(0,0)},e.$$arity=0),d)&&"to_c"}(p[0],null,p)};
Opal.modules["corelib/rational"]=function(a){function y(l,H){return"number"===typeof l&&"number"===typeof H?l<H:l["$<"](H)}function K(l,H){return"number"===typeof l&&"number"===typeof H?l/H:l["$/"](H)}function t(l,H){return"number"===typeof l&&"number"===typeof H?l-H:l["$-"](H)}function w(l,H){return"number"===typeof l&&"number"===typeof H?l*H:l["$*"](H)}function A(l,H){return"number"===typeof l&&"number"===typeof H?l+H:l["$+"](H)}var p=a.top,d=[],G=a.nil,x=a.$$$,k=a.$$,m=a.klass,u=a.truthy,c=a.module;
a.add_stubs("$require $to_i $== $raise $< $-@ $new $gcd $/ $nil? $=== $reduce $to_r $equal? $! $coerce_to! $to_f $numerator $denominator $<=> $- $* $__coerced__ $+ $Rational $> $** $abs $ceil $with_precision $floor $<= $truncate $send $convert".split(" "));p.$require("corelib/numeric");(function(l,$super,e){l=m(l,$super,"Rational");var n=[l].concat(e),J,D,R,ia,ea,ma,b,h,f,q,z,E,F,L,ca,va,Oa,wa,Ba,Ka,oa,S,ta,ja,na,V;l.$$prototype.num=l.$$prototype.den=G;a.defs(l,"$reduce",J=function(Q,Y){Q=Q.$to_i();
Y=Y.$to_i();if(Y["$=="](0))this.$raise(k(n,"ZeroDivisionError"),"divided by 0");else if(u(y(Y,0)))Q=Q["$-@"](),Y=Y["$-@"]();else if(Y["$=="](1))return this.$new(Q,Y);var pa=Q.$gcd(Y);return this.$new(K(Q,pa),K(Y,pa))},J.$$arity=2);a.defs(l,"$convert",D=function(Q,Y){var pa=G,za=G,la=G,xa=G,Ea=G,Fa=G,Sa=G,Ra=G;u(u(pa=Q["$nil?"]())?pa:Y["$nil?"]())&&this.$raise(k(n,"TypeError"),"cannot convert nil into Rational");if(u(u(za=k(n,"Integer")["$==="](Q))?k(n,"Integer")["$==="](Y):za))return this.$reduce(Q,
Y);u(u(la=u(xa=k(n,"Float")["$==="](Q))?xa:k(n,"String")["$==="](Q))?la:k(n,"Complex")["$==="](Q))&&(Q=Q.$to_r());u(u(Ea=u(Fa=k(n,"Float")["$==="](Y))?Fa:k(n,"String")["$==="](Y))?Ea:k(n,"Complex")["$==="](Y))&&(Y=Y.$to_r());return u(u(Sa=Y["$equal?"](1))?k(n,"Integer")["$==="](Q)["$!"]():Sa)?k(n,"Opal")["$coerce_to!"](Q,k(n,"Rational"),"to_r"):u(u(Ra=k(n,"Numeric")["$==="](Q))?k(n,"Numeric")["$==="](Y):Ra)?K(Q,Y):this.$reduce(Q,Y)},D.$$arity=2);a.def(l,"$initialize",R=function(Q,Y){this.num=Q;return this.den=
Y},R.$$arity=2);a.def(l,"$numerator",ia=function(){return this.num},ia.$$arity=0);a.def(l,"$denominator",ea=function(){return this.den},ea.$$arity=0);a.def(l,"$coerce",ma=function(Q){return k(n,"Rational")["$==="](Q)?[Q,this]:k(n,"Integer")["$==="](Q)?[Q.$to_r(),this]:k(n,"Float")["$==="](Q)?[Q,this.$to_f()]:G},ma.$$arity=1);a.def(l,"$==",b=function(Q){var Y=G,pa=G;return k(n,"Rational")["$==="](Q)?u(Y=this.num["$=="](Q.$numerator()))?this.den["$=="](Q.$denominator()):Y:k(n,"Integer")["$==="](Q)?
u(pa=this.num["$=="](Q))?this.den["$=="](1):pa:k(n,"Float")["$==="](Q)?this.$to_f()["$=="](Q):Q["$=="](this)},b.$$arity=1);a.def(l,"$<=>",h=function(Q){return k(n,"Rational")["$==="](Q)?t(w(this.num,Q.$denominator()),w(this.den,Q.$numerator()))["$<=>"](0):k(n,"Integer")["$==="](Q)?t(this.num,w(this.den,Q))["$<=>"](0):k(n,"Float")["$==="](Q)?this.$to_f()["$<=>"](Q):this.$__coerced__("<=>",Q)},h.$$arity=1);a.def(l,"$+",f=function(Q){if(k(n,"Rational")["$==="](Q)){var Y=A(w(this.num,Q.$denominator()),
w(this.den,Q.$numerator()));Q=w(this.den,Q.$denominator());Y=this.$Rational(Y,Q)}else Y=k(n,"Integer")["$==="](Q)?this.$Rational(A(this.num,w(Q,this.den)),this.den):k(n,"Float")["$==="](Q)?A(this.$to_f(),Q):this.$__coerced__("+",Q);return Y},f.$$arity=1);a.def(l,"$-",q=function(Q){if(k(n,"Rational")["$==="](Q)){var Y=t(w(this.num,Q.$denominator()),w(this.den,Q.$numerator()));Q=w(this.den,Q.$denominator());Y=this.$Rational(Y,Q)}else Y=k(n,"Integer")["$==="](Q)?this.$Rational(t(this.num,w(Q,this.den)),
this.den):k(n,"Float")["$==="](Q)?t(this.$to_f(),Q):this.$__coerced__("-",Q);return Y},q.$$arity=1);a.def(l,"$*",z=function(Q){if(k(n,"Rational")["$==="](Q)){var Y=w(this.num,Q.$numerator());Q=w(this.den,Q.$denominator());Y=this.$Rational(Y,Q)}else Y=k(n,"Integer")["$==="](Q)?this.$Rational(w(this.num,Q),this.den):k(n,"Float")["$==="](Q)?w(this.$to_f(),Q):this.$__coerced__("*",Q);return Y},z.$$arity=1);a.def(l,"$/",E=function(Q){if(k(n,"Rational")["$==="](Q)){var Y=w(this.num,Q.$denominator());Q=
w(this.den,Q.$numerator());Y=this.$Rational(Y,Q)}else Y=k(n,"Integer")["$==="](Q)?Q["$=="](0)?K(this.$to_f(),0):this.$Rational(this.num,w(this.den,Q)):k(n,"Float")["$==="](Q)?K(this.$to_f(),Q):this.$__coerced__("/",Q);return Y},E.$$arity=1);a.def(l,"$**",F=function(Q){var Y=G,pa=G;return k(n,"Integer")["$==="](Q)?u(u(Y=this["$=="](0))?y(Q,0):Y)?x(k(n,"Float"),"INFINITY"):u("number"===typeof Q?0<Q:Q["$>"](0))?this.$Rational(this.num["$**"](Q),this.den["$**"](Q)):u(y(Q,0))?this.$Rational(this.den["$**"](Q["$-@"]()),
this.num["$**"](Q["$-@"]())):this.$Rational(1,1):k(n,"Float")["$==="](Q)?this.$to_f()["$**"](Q):k(n,"Rational")["$==="](Q)?Q["$=="](0)?this.$Rational(1,1):Q.$denominator()["$=="](1)?u(y(Q,0))?this.$Rational(this.den["$**"](Q.$numerator().$abs()),this.num["$**"](Q.$numerator().$abs())):this.$Rational(this.num["$**"](Q.$numerator()),this.den["$**"](Q.$numerator())):u(u(pa=this["$=="](0))?y(Q,0):pa)?this.$raise(k(n,"ZeroDivisionError"),"divided by 0"):this.$to_f()["$**"](Q):this.$__coerced__("**",Q)},
F.$$arity=1);a.def(l,"$abs",L=function(){return this.$Rational(this.num.$abs(),this.den.$abs())},L.$$arity=0);a.def(l,"$ceil",ca=function(Q){null==Q&&(Q=0);return Q["$=="](0)?K(this.num["$-@"](),this.den)["$-@"]().$ceil():this.$with_precision("ceil",Q)},ca.$$arity=-1);a.alias(l,"divide","/");a.def(l,"$floor",va=function(Q){null==Q&&(Q=0);return Q["$=="](0)?K(this.num["$-@"](),this.den)["$-@"]().$floor():this.$with_precision("floor",Q)},va.$$arity=-1);a.def(l,"$hash",Oa=function(){return"Rational:"+
this.num+":"+this.den},Oa.$$arity=0);a.def(l,"$inspect",wa=function(){return"("+this+")"},wa.$$arity=0);a.alias(l,"quo","/");a.def(l,"$rationalize",Ba=function(Q){1<arguments.length&&this.$raise(k(n,"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)");if(null==Q)return this;var Y=Q.$abs(),pa=t(this,Y);Y=A(this,Y);for(var za=0,la=1,xa=1,Ea=0,Fa,Sa,Ra;;){Fa=pa.$ceil();if("number"===typeof Fa&&"number"===typeof Y?Fa<=Y:Fa["$<="](Y))break;Ra=Fa-1;Fa=Ra*la+za;Sa=Ra*Ea+xa;za=K(1,
t(Y,Ra));Y=K(1,t(pa,Ra));pa=za;za=la;xa=Ea;la=Fa;Ea=Sa}return this.$Rational(Fa*la+za,Fa*Ea+xa)},Ba.$$arity=-1);a.def(l,"$round",Ka=function(Q){null==Q&&(Q=0);if(!Q["$=="](0))return this.$with_precision("round",Q);if(this.num["$=="](0))return 0;if(this.den["$=="](1))return this.num;Q=A(w(this.num.$abs(),2),this.den);var Y=w(this.den,2);Q=K(Q,Y).$truncate();return u(y(this.num,0))?Q["$-@"]():Q},Ka.$$arity=-1);a.def(l,"$to_f",oa=function(){return K(this.num,this.den)},oa.$$arity=0);a.def(l,"$to_i",
S=function(){return this.$truncate()},S.$$arity=0);a.def(l,"$to_r",ta=function(){return this},ta.$$arity=0);a.def(l,"$to_s",ja=function(){return""+this.num+"/"+this.den},ja.$$arity=0);a.def(l,"$truncate",na=function(Q){null==Q&&(Q=0);return Q["$=="](0)?u(y(this.num,0))?this.$ceil():this.$floor():this.$with_precision("truncate",Q)},na.$$arity=-1);return(a.def(l,"$with_precision",V=function(Q,Y){u(k(n,"Integer")["$==="](Y))||this.$raise(k(n,"TypeError"),"not an Integer");var pa=10["$**"](Y);var za=
w(this,pa);return u(y(Y,1))?K(za.$send(Q),pa).$to_i():this.$Rational(za.$send(Q),pa)},V.$$arity=2),G)&&"with_precision"})(d[0],k(d,"Numeric"),d);(function(l,H){l=c(l,"Kernel");var e=[l].concat(H),n;a.def(l,"$Rational",n=function(J,D){null==D&&(D=1);return k(e,"Rational").$convert(J,D)},n.$$arity=-2)})(d[0],d);return function(l,$super,e){l=m(l,$super,"String");[l].concat(e);var n;return(a.def(l,"$to_r",n=function(){function J(){var ma=D.match(R)[0];D=D.slice(ma.length);return ma.replace(/_/g,"")}var D=
this.trimLeft(),R=/^[+-]?[\d_]+(\.[\d_]+)?/;D.match(R);if(R.test(D)){var ia=parseFloat(J());if("/"===D[0]&&(D=D.slice(1),R.test(D))){var ea=parseFloat(J());return this.$Rational(ia,ea)}return this.$Rational(ia,1)}return this.$Rational(0,1)},n.$$arity=0),G)&&"to_r"}(d[0],null,d)};
Opal.modules["corelib/time"]=function(a){function y(c,l){return"number"===typeof c&&"number"===typeof l?c+l:c["$+"](l)}function K(c,l){return"number"===typeof c&&"number"===typeof l?c/l:c["$/"](l)}function t(c,l){return"number"===typeof c&&"number"===typeof l?c-l:c["$-"](l)}function w(c,l){return"number"===typeof c&&"number"===typeof l?c<=l:c["$<="](l)}var A=a.top,p=[],d=a.nil,G=a.$$,x=a.slice,k=a.klass,m=a.truthy,u=a.range;a.add_stubs("$require $include $=== $raise $coerce_to! $respond_to? $to_str $to_i $new $<=> $to_f $nil? $> $< $strftime $year $month $day $+ $round $/ $- $copy_instance_variables $initialize_dup $is_a? $zero? $wday $utc? $mon $yday $hour $min $sec $rjust $ljust $zone $to_s $[] $cweek_cyear $isdst $<= $!= $== $ceil".split(" "));
A.$require("corelib/comparable");return function(c,$super,H){function e(Aa,ua,La,Ta,Ya,Ga){Aa=Aa.$$is_string?parseInt(Aa,10):G(J,"Opal")["$coerce_to!"](Aa,G(J,"Integer"),"to_int");if(ua===d)ua=1;else if(!ua.$$is_number)if(ua["$respond_to?"]("to_str"))switch(ua=ua.$to_str(),ua.toLowerCase()){case "jan":ua=1;break;case "feb":ua=2;break;case "mar":ua=3;break;case "apr":ua=4;break;case "may":ua=5;break;case "jun":ua=6;break;case "jul":ua=7;break;case "aug":ua=8;break;case "sep":ua=9;break;case "oct":ua=
10;break;case "nov":ua=11;break;case "dec":ua=12;break;default:ua=ua.$to_i()}else ua=G(J,"Opal")["$coerce_to!"](ua,G(J,"Integer"),"to_int");(1>ua||12<ua)&&n.$raise(G(J,"ArgumentError"),"month out of range: "+ua);--ua;La=La===d?1:La.$$is_string?parseInt(La,10):G(J,"Opal")["$coerce_to!"](La,G(J,"Integer"),"to_int");(1>La||31<La)&&n.$raise(G(J,"ArgumentError"),"day out of range: "+La);Ta=Ta===d?0:Ta.$$is_string?parseInt(Ta,10):G(J,"Opal")["$coerce_to!"](Ta,G(J,"Integer"),"to_int");(0>Ta||24<Ta)&&n.$raise(G(J,
"ArgumentError"),"hour out of range: "+Ta);Ya=Ya===d?0:Ya.$$is_string?parseInt(Ya,10):G(J,"Opal")["$coerce_to!"](Ya,G(J,"Integer"),"to_int");(0>Ya||59<Ya)&&n.$raise(G(J,"ArgumentError"),"min out of range: "+Ya);Ga===d?Ga=0:Ga.$$is_number||(Ga=Ga.$$is_string?parseInt(Ga,10):G(J,"Opal")["$coerce_to!"](Ga,G(J,"Integer"),"to_int"));(0>Ga||60<Ga)&&n.$raise(G(J,"ArgumentError"),"sec out of range: "+Ga);return[Aa,ua,La,Ta,Ya,Ga]}var n=k(c,$super,"Time"),J=[n].concat(H),D,R,ia,ea,ma,b,h,f,q,z,E,F,L,ca,va,
Oa,wa,Ba,Ka,oa,S,ta,ja,na,V,Q,Y,pa,za,la,xa,Ea,Fa,Sa,Ra,Na,Qa,lb,W,ya,Da,Va;n.$include(G(J,"Comparable"));var ib="Sunday Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "),db="Sun Mon Tue Wed Thu Fri Sat".split(" "),$a="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),ab="January February March April May June July August September October November December".split(" ");a.defs(n,"$at",D=function(Aa,ua){if(G(J,"Time")["$==="](Aa))return void 0!==ua&&this.$raise(G(J,"TypeError"),
"can't convert Time into an exact number"),ua=new Date(Aa.getTime()),ua.is_utc=Aa.is_utc,ua;Aa.$$is_number||(Aa=G(J,"Opal")["$coerce_to!"](Aa,G(J,"Integer"),"to_int"));if(void 0===ua)return new Date(1E3*Aa);ua.$$is_number||(ua=G(J,"Opal")["$coerce_to!"](ua,G(J,"Integer"),"to_int"));return new Date(1E3*Aa+ua/1E3)},D.$$arity=-2);a.defs(n,"$new",R=function(Aa,ua,La,Ta,Ya,Ga,Z){null==ua&&(ua=d);null==La&&(La=d);null==Ta&&(Ta=d);null==Ya&&(Ya=d);null==Ga&&(Ga=d);null==Z&&(Z=d);if(void 0===Aa)return new Date;
Z!==d&&this.$raise(G(J,"ArgumentError"),"Opal does not support explicitly specifying UTC offset for Time");Ga=e(Aa,ua,La,Ta,Ya,Ga);Aa=Ga[0];ua=Ga[1];La=Ga[2];Ta=Ga[3];Ya=Ga[4];Ga=Ga[5];ua=new Date(Aa,ua,La,Ta,Ya,0,1E3*Ga);100>Aa&&ua.setFullYear(Aa);return ua},R.$$arity=-1);a.defs(n,"$local",ia=function(Aa,ua,La,Ta,Ya,Ga,Z,P,aa,T){null==ua&&(ua=d);null==La&&(La=d);null==Ta&&(Ta=d);null==Ya&&(Ya=d);null==Ga&&(Ga=d);null==Z&&(Z=d);null==P&&(P=d);null==aa&&(aa=d);null==T&&(T=d);if(10===arguments.length){var fa=
x.call(arguments);Aa=fa[5];ua=fa[4];La=fa[3];Ta=fa[2];Ya=fa[1];Ga=fa[0]}fa=e(Aa,ua,La,Ta,Ya,Ga);Aa=fa[0];ua=fa[1];La=fa[2];Ta=fa[3];Ya=fa[4];Ga=fa[5];fa=new Date(Aa,ua,La,Ta,Ya,0,1E3*Ga);100>Aa&&fa.setFullYear(Aa);return fa},ia.$$arity=-2);a.defs(n,"$gm",ea=function(Aa,ua,La,Ta,Ya,Ga,Z,P,aa,T){null==ua&&(ua=d);null==La&&(La=d);null==Ta&&(Ta=d);null==Ya&&(Ya=d);null==Ga&&(Ga=d);null==Z&&(Z=d);null==P&&(P=d);null==aa&&(aa=d);null==T&&(T=d);if(10===arguments.length){var fa=x.call(arguments);Aa=fa[5];
ua=fa[4];La=fa[3];Ta=fa[2];Ya=fa[1];Ga=fa[0]}fa=e(Aa,ua,La,Ta,Ya,Ga);Aa=fa[0];ua=fa[1];La=fa[2];Ta=fa[3];Ya=fa[4];Ga=fa[5];fa=new Date(Date.UTC(Aa,ua,La,Ta,Ya,0,1E3*Ga));100>Aa&&fa.setUTCFullYear(Aa);fa.is_utc=!0;return fa},ea.$$arity=-2);(function(Aa,ua){[Aa].concat(ua);a.alias(Aa,"mktime","local");return a.alias(Aa,"utc","gm")})(a.get_singleton_class(n),J);a.defs(n,"$now",ma=function(){return this.$new()},ma.$$arity=0);a.def(n,"$+",b=function(Aa){m(G(J,"Time")["$==="](Aa))&&this.$raise(G(J,"TypeError"),
"time + time?");Aa.$$is_number||(Aa=G(J,"Opal")["$coerce_to!"](Aa,G(J,"Integer"),"to_int"));Aa=new Date(this.getTime()+1E3*Aa);Aa.is_utc=this.is_utc;return Aa},b.$$arity=1);a.def(n,"$-",h=function(Aa){if(m(G(J,"Time")["$==="](Aa)))return(this.getTime()-Aa.getTime())/1E3;Aa.$$is_number||(Aa=G(J,"Opal")["$coerce_to!"](Aa,G(J,"Integer"),"to_int"));Aa=new Date(this.getTime()-1E3*Aa);Aa.is_utc=this.is_utc;return Aa},h.$$arity=1);a.def(n,"$<=>",f=function(Aa){if(m(G(J,"Time")["$==="](Aa)))return this.$to_f()["$<=>"](Aa.$to_f());
Aa=Aa["$<=>"](this);return m(Aa["$nil?"]())?d:m("number"===typeof Aa?0<Aa:Aa["$>"](0))?-1:m("number"===typeof Aa?0>Aa:Aa["$<"](0))?1:0},f.$$arity=1);a.def(n,"$==",q=function(Aa){var ua;return m(ua=G(J,"Time")["$==="](Aa))?this.$to_f()===Aa.$to_f():ua},q.$$arity=1);a.def(n,"$asctime",z=function(){return this.$strftime("%a %b %e %H:%M:%S %Y")},z.$$arity=0);a.alias(n,"ctime","asctime");a.def(n,"$day",E=function(){return this.is_utc?this.getUTCDate():this.getDate()},E.$$arity=0);a.def(n,"$yday",F=function(){var Aa=
G(J,"Time").$new(this.$year()).$to_i();var ua=G(J,"Time").$new(this.$year(),this.$month(),this.$day()).$to_i();return y(K(t(ua,Aa),86400).$round(),1)},F.$$arity=0);a.def(n,"$isdst",L=function(){var Aa=new Date(this.getFullYear(),0,1),ua=new Date(this.getFullYear(),6,1);return this.getTimezoneOffset()<Math.max(Aa.getTimezoneOffset(),ua.getTimezoneOffset())},L.$$arity=0);a.alias(n,"dst?","isdst");a.def(n,"$dup",ca=function(){var Aa=new Date(this.getTime());Aa.$copy_instance_variables(this);Aa.$initialize_dup(this);
return Aa},ca.$$arity=0);a.def(n,"$eql?",va=function(Aa){var ua;return m(ua=Aa["$is_a?"](G(J,"Time")))?this["$<=>"](Aa)["$zero?"]():ua},va.$$arity=1);a.def(n,"$friday?",Oa=function(){return 5==this.$wday()},Oa.$$arity=0);a.def(n,"$hash",wa=function(){return"Time:"+this.getTime()},wa.$$arity=0);a.def(n,"$hour",Ba=function(){return this.is_utc?this.getUTCHours():this.getHours()},Ba.$$arity=0);a.def(n,"$inspect",Ka=function(){return m(this["$utc?"]())?this.$strftime("%Y-%m-%d %H:%M:%S UTC"):this.$strftime("%Y-%m-%d %H:%M:%S %z")},
Ka.$$arity=0);a.alias(n,"mday","day");a.def(n,"$min",oa=function(){return this.is_utc?this.getUTCMinutes():this.getMinutes()},oa.$$arity=0);a.def(n,"$mon",S=function(){return(this.is_utc?this.getUTCMonth():this.getMonth())+1},S.$$arity=0);a.def(n,"$monday?",ta=function(){return 1==this.$wday()},ta.$$arity=0);a.alias(n,"month","mon");a.def(n,"$saturday?",ja=function(){return 6==this.$wday()},ja.$$arity=0);a.def(n,"$sec",na=function(){return this.is_utc?this.getUTCSeconds():this.getSeconds()},na.$$arity=
0);a.def(n,"$succ",V=function(){var Aa=new Date(this.getTime()+1E3);Aa.is_utc=this.is_utc;return Aa},V.$$arity=0);a.def(n,"$usec",Q=function(){return 1E3*this.getMilliseconds()},Q.$$arity=0);a.def(n,"$zone",Y=function(){var Aa=this.toString();var ua=-1==Aa.indexOf("(")?Aa.match(/[A-Z]{3,4}/)[0]:Aa.match(/\((.+)\)(?:\s|$)/)[1];return"GMT"==ua&&/(GMT\W*\d{4})/.test(Aa)?RegExp.$1:ua},Y.$$arity=0);a.def(n,"$getgm",pa=function(){var Aa=new Date(this.getTime());Aa.is_utc=!0;return Aa},pa.$$arity=0);a.alias(n,
"getutc","getgm");a.def(n,"$gmtime",za=function(){this.is_utc=!0;return this},za.$$arity=0);a.alias(n,"utc","gmtime");a.def(n,"$gmt?",la=function(){return!0===this.is_utc},la.$$arity=0);a.def(n,"$gmt_offset",xa=function(){return this.is_utc?0:60*-this.getTimezoneOffset()},xa.$$arity=0);a.def(n,"$strftime",Ea=function(Aa){var ua=this;return Aa.replace(/%([\-_#^0]*:{0,2})(\d+)?([EO]*)(.)/g,function(La,Ta,Ya,Ga,Z){Ga="";var P=-1!==Ta.indexOf("0"),aa=-1===Ta.indexOf("-"),T=-1!==Ta.indexOf("_"),fa=-1!==
Ta.indexOf("^"),ka=-1!==Ta.indexOf("#"),g=(Ta.match(":")||[]).length;Ya=parseInt(Ya,10);P&&T&&(Ta.indexOf("0")<Ta.indexOf("_")?P=!1:T=!1);switch(Z){case "Y":Ga+=ua.$year();break;case "C":P=!T;Ga+=Math.round(ua.$year()/100);break;case "y":P=!T;Ga+=ua.$year()%100;break;case "m":P=!T;Ga+=ua.$mon();break;case "B":Ga+=ab[ua.$mon()-1];break;case "b":case "h":T=!P;Ga+=$a[ua.$mon()-1];break;case "d":P=!T;Ga+=ua.$day();break;case "e":T=!P;Ga+=ua.$day();break;case "j":P=!T;Ya=isNaN(Ya)?3:Ya;Ga+=ua.$yday();
break;case "H":P=!T;Ga+=ua.$hour();break;case "k":T=!P;Ga+=ua.$hour();break;case "I":P=!T;Ga+=ua.$hour()%12||12;break;case "l":T=!P;Ga+=ua.$hour()%12||12;break;case "P":Ga+=12<=ua.$hour()?"pm":"am";break;case "p":Ga+=12<=ua.$hour()?"PM":"AM";break;case "M":P=!T;Ga+=ua.$min();break;case "S":P=!T;Ga+=ua.$sec();break;case "L":P=!T;Ya=isNaN(Ya)?3:Ya;Ga+=ua.getMilliseconds();break;case "N":Ya=isNaN(Ya)?9:Ya;Ga+=ua.getMilliseconds().toString().$rjust(3,"0");Ga=Ga.$ljust(Ya,"0");break;case "z":La=ua.getTimezoneOffset();
Ta=Math.floor(Math.abs(La)/60);Z=Math.abs(La)%60;Ga=Ga+(0>La?"+":"-")+(10>Ta?"0":"")+Ta;0<g&&(Ga+=":");Ga+=10>Z?"0":"";Ga+=Z;1<g&&(Ga+=":00");break;case "Z":Ga+=ua.$zone();break;case "A":Ga+=ib[ua.$wday()];break;case "a":Ga+=db[ua.$wday()];break;case "u":Ga+=ua.$wday()+1;break;case "w":Ga+=ua.$wday();break;case "V":Ga+=ua.$cweek_cyear()["$[]"](0).$to_s().$rjust(2,"0");break;case "G":Ga+=ua.$cweek_cyear()["$[]"](1);break;case "g":Ga+=ua.$cweek_cyear()["$[]"](1)["$[]"](u(-2,-1,!1));break;case "s":Ga+=
ua.$to_i();break;case "n":Ga+="\n";break;case "t":Ga+="\t";break;case "%":Ga+="%";break;case "c":Ga+=ua.$strftime("%a %b %e %T %Y");break;case "D":case "x":Ga+=ua.$strftime("%m/%d/%y");break;case "F":Ga+=ua.$strftime("%Y-%m-%d");break;case "v":Ga+=ua.$strftime("%e-%^b-%4Y");break;case "r":Ga+=ua.$strftime("%I:%M:%S %p");break;case "R":Ga+=ua.$strftime("%H:%M");break;case "T":case "X":Ga+=ua.$strftime("%H:%M:%S");break;default:return La}fa&&(Ga=Ga.toUpperCase());ka&&(Ga=Ga.replace(/[A-Z]/,function(C){C.toLowerCase()}).replace(/[a-z]/,
function(C){C.toUpperCase()}));aa&&(P||T)&&(Ga=Ga.$rjust(isNaN(Ya)?2:Ya,T?" ":"0"));return Ga})},Ea.$$arity=1);a.def(n,"$sunday?",Fa=function(){return 0==this.$wday()},Fa.$$arity=0);a.def(n,"$thursday?",Sa=function(){return 4==this.$wday()},Sa.$$arity=0);a.def(n,"$to_a",Ra=function(){return[this.$sec(),this.$min(),this.$hour(),this.$day(),this.$month(),this.$year(),this.$wday(),this.$yday(),this.$isdst(),this.$zone()]},Ra.$$arity=0);a.def(n,"$to_f",Na=function(){return this.getTime()/1E3},Na.$$arity=
0);a.def(n,"$to_i",Qa=function(){return parseInt(this.getTime()/1E3,10)},Qa.$$arity=0);a.alias(n,"to_s","inspect");a.def(n,"$tuesday?",lb=function(){return 2==this.$wday()},lb.$$arity=0);a.alias(n,"tv_sec","to_i");a.alias(n,"tv_usec","usec");a.alias(n,"utc?","gmt?");a.alias(n,"gmtoff","gmt_offset");a.alias(n,"utc_offset","gmt_offset");a.def(n,"$wday",W=function(){return this.is_utc?this.getUTCDay():this.getDay()},W.$$arity=0);a.def(n,"$wednesday?",ya=function(){return 3==this.$wday()},ya.$$arity=
0);a.def(n,"$year",Da=function(){return this.is_utc?this.getUTCFullYear():this.getFullYear()},Da.$$arity=0);return(a.def(n,"$cweek_cyear",Va=function(){var Aa=d,ua=d;var La=G(J,"Time").$new(this.$year(),1,1).$wday();var Ta=this.$year();m(m(Aa=w(La,4))?La["$!="](0):Aa)?La=t(La,1):(La=t(t(La,7),1),La["$=="](-8)&&(La=-1));La=K(y(this.$yday(),La),7).$ceil();if(m(w(La,0)))return G(J,"Time").$new(t(this.$year(),1),12,31).$cweek_cyear();La["$=="](53)&&(Aa=G(J,"Time").$new(this.$year(),12,31),Aa=Aa.$wday(),
m(m(ua=w(Aa,3))?Aa["$!="](0):ua)&&(La=1,Ta=y(Ta,1)));return[La,Ta]},Va.$$arity=0),d)&&"cweek_cyear"}(p[0],Date,p)};
Opal.modules["corelib/struct"]=function(a){function y(l,H){return"number"===typeof l&&"number"===typeof H?l>H:l["$>"](H)}function K(l,H){return"number"===typeof l&&"number"===typeof H?l-H:l["$-"](H)}function t(l,H){return"number"===typeof l&&"number"===typeof H?l<H:l["$<"](H)}function w(l,H){return"number"===typeof l&&"number"===typeof H?l>=H:l["$>="](H)}function A(l,H){return"number"===typeof l&&"number"===typeof H?l+H:l["$+"](H)}var p=a.top,d=[],G=a.nil,x=a.$$,k=a.klass,m=a.hash2,u=a.truthy,c=a.send;
a.add_stubs("$require $include $const_name! $unshift $map $coerce_to! $new $each $define_struct_attribute $allocate $initialize $alias_method $module_eval $to_proc $const_set $== $raise $<< $members $define_method $instance_eval $class $last $> $length $- $keys $any? $join $[] $[]= $each_with_index $hash $=== $< $-@ $size $>= $include? $to_sym $instance_of? $__id__ $eql? $enum_for $name $+ $each_pair $inspect $to_h $args $each_with_object $flatten $to_a $respond_to? $dig".split(" "));p.$require("corelib/enumerable");
return function(l,$super,e){l=k(l,$super,"Struct");var n=[l].concat(e),J,D,R,ia,ea,ma,b,h,f,q,z,E,F,L,ca,va,Oa,wa,Ba,Ka;l.$include(x(n,"Enumerable"));a.defs(l,"$new",J=function(oa,S,ta){var ja=J.$$p,na=ja||G,V,Q;var Y=G;ja&&(J.$$p=null);ja&&(J.$$p=null);var pa=a.slice.call(arguments,1,arguments.length);Y=a.extract_kwargs(pa);if(null==Y)Y=m([],{});else if(!Y.$$is_hash)throw a.ArgumentError.$new("expected kwargs");ja=Y.$$smap.keyword_init;null==ja&&(ja=!1);if(u(oa))try{oa=x(n,"Opal")["$const_name!"](oa)}catch(za){if(a.rescue(za,
[x(n,"TypeError"),x(n,"NameError")]))try{pa.$unshift(oa),oa=G}finally{a.pop_exception()}else throw za;}c(pa,"map",[],(V=function(za){null==za&&(za=G);return x(n,"Opal")["$coerce_to!"](za,x(n,"String"),"to_str")},V.$$s=this,V.$$arity=1,V));Y=c(x(n,"Class"),"new",[this],(Q=function(){var za=null==Q.$$s?this:Q.$$s,la;c(pa,"each",[],(la=function(xa){var Ea=null==la.$$s?this:la.$$s;null==xa&&(xa=G);return Ea.$define_struct_attribute(xa)},la.$$s=za,la.$$arity=1,la));return function(xa,Ea){[xa].concat(Ea);
var Fa;a.def(xa,"$new",Fa=function(Sa){var Ra=a.slice.call(arguments,0,arguments.length);var Na=this.$allocate();Na.$$data={};c(Na,"initialize",a.to_a(Ra));return Na},Fa.$$arity=-1);return xa.$alias_method("[]","new")}(a.get_singleton_class(za),n)},Q.$$s=this,Q.$$arity=0,Q));u(na)&&c(Y,"module_eval",[],na.$to_proc());Y.$$keyword_init=ja;u(oa)&&x(n,"Struct").$const_set(oa,Y);return Y},J.$$arity=-2);a.defs(l,"$define_struct_attribute",D=function(oa){var S,ta;this["$=="](x(n,"Struct"))&&this.$raise(x(n,
"ArgumentError"),"you cannot define attributes to the Struct class");this.$members()["$<<"](oa);c(this,"define_method",[oa],(S=function(){return(null==S.$$s?this:S.$$s).$$data[oa]},S.$$s=this,S.$$arity=0,S));return c(this,"define_method",[""+oa+"="],(ta=function(ja){var na=null==ta.$$s?this:ta.$$s;null==ja&&(ja=G);return na.$$data[oa]=ja},ta.$$s=this,ta.$$arity=1,ta))},D.$$arity=1);a.defs(l,"$members",R=function(){var oa=G;null==this.members&&(this.members=G);this["$=="](x(n,"Struct"))&&this.$raise(x(n,
"ArgumentError"),"the Struct class has no members");return this.members=u(oa=this.members)?oa:[]},R.$$arity=0);a.defs(l,"$inherited",ia=function(oa){var S,ta=G;null==this.members&&(this.members=G);ta=this.members;return c(oa,"instance_eval",[],(S=function(){return(null==S.$$s?this:S.$$s).members=ta},S.$$s=this,S.$$arity=0,S))},ia.$$arity=1);a.def(l,"$initialize",ea=function(oa){var S,ta,ja=G,na=G,V=G,Q=G;var Y=a.slice.call(arguments,0,arguments.length);if(u(this.$class().$$keyword_init))return ja=
u(na=Y.$last())?na:m([],{}),u(u(V=y(Y.$length(),1))?V:1===Y.length&&!ja.$$is_hash)&&this.$raise(x(n,"ArgumentError"),"wrong number of arguments (given "+Y.$length()+", expected 0)"),Q=K(ja.$keys(),this.$class().$members()),u(Q["$any?"]())&&this.$raise(x(n,"ArgumentError"),"unknown keywords: "+Q.$join(", ")),c(this.$class().$members(),"each",[],(S=function(pa){var za=null==S.$$s?this:S.$$s;null==pa&&(pa=G);pa=[pa,ja["$[]"](pa)];c(za,"[]=",a.to_a(pa));return pa[K(pa.length,1)]},S.$$s=this,S.$$arity=
1,S));u(y(Y.$length(),this.$class().$members().$length()))&&this.$raise(x(n,"ArgumentError"),"struct size differs");return c(this.$class().$members(),"each_with_index",[],(ta=function(pa,za){var la=null==ta.$$s?this:ta.$$s;null==pa&&(pa=G);null==za&&(za=G);pa=[pa,Y["$[]"](za)];c(la,"[]=",a.to_a(pa));return pa[K(pa.length,1)]},ta.$$s=this,ta.$$arity=2,ta))},ea.$$arity=-1);a.def(l,"$initialize_copy",ma=function(oa){this.$$data={};var S=Object.keys(oa.$$data),ta;var ja=0;for(ta=S.length;ja<ta;ja++){var na=
S[ja];this.$$data[na]=oa.$$data[na]}},ma.$$arity=1);a.def(l,"$members",b=function(){return this.$class().$members()},b.$$arity=0);a.def(l,"$hash",h=function(){return x(n,"Hash").$new(this.$$data).$hash()},h.$$arity=0);a.def(l,"$[]",f=function(oa){u(x(n,"Integer")["$==="](oa))?(u(t(oa,this.$class().$members().$size()["$-@"]()))&&this.$raise(x(n,"IndexError"),"offset "+oa+" too small for struct(size:"+this.$class().$members().$size()+")"),u(w(oa,this.$class().$members().$size()))&&this.$raise(x(n,"IndexError"),
"offset "+oa+" too large for struct(size:"+this.$class().$members().$size()+")"),oa=this.$class().$members()["$[]"](oa)):u(x(n,"String")["$==="](oa))?this.$$data.hasOwnProperty(oa)||this.$raise(x(n,"NameError").$new("no member '"+oa+"' in struct",oa)):this.$raise(x(n,"TypeError"),"no implicit conversion of "+oa.$class()+" into Integer");oa=x(n,"Opal")["$coerce_to!"](oa,x(n,"String"),"to_str");return this.$$data[oa]},f.$$arity=1);a.def(l,"$[]=",q=function(oa,S){u(x(n,"Integer")["$==="](oa))?(u(t(oa,
this.$class().$members().$size()["$-@"]()))&&this.$raise(x(n,"IndexError"),"offset "+oa+" too small for struct(size:"+this.$class().$members().$size()+")"),u(w(oa,this.$class().$members().$size()))&&this.$raise(x(n,"IndexError"),"offset "+oa+" too large for struct(size:"+this.$class().$members().$size()+")"),oa=this.$class().$members()["$[]"](oa)):u(x(n,"String")["$==="](oa))?u(this.$class().$members()["$include?"](oa.$to_sym()))||this.$raise(x(n,"NameError").$new("no member '"+oa+"' in struct",oa)):
this.$raise(x(n,"TypeError"),"no implicit conversion of "+oa.$class()+" into Integer");oa=x(n,"Opal")["$coerce_to!"](oa,x(n,"String"),"to_str");return this.$$data[oa]=S},q.$$arity=2);a.def(l,"$==",z=function(oa){function S(na,V){var Q;ta[na.$__id__()]=!0;ja[V.$__id__()]=!0;for(Q in na.$$data){var Y=na.$$data[Q];var pa=V.$$data[Q];if(x(n,"Struct")["$==="](Y)){if(!(ta.hasOwnProperty(Y.$__id__())&&ja.hasOwnProperty(pa.$__id__())||S(Y,pa)))return!1}else if(!Y["$=="](pa))return!1}return!0}if(!u(oa["$instance_of?"](this.$class())))return!1;
var ta={},ja={};return S(this,oa)},z.$$arity=1);a.def(l,"$eql?",E=function(oa){function S(na,V){var Q;ta[na.$__id__()]=!0;ja[V.$__id__()]=!0;for(Q in na.$$data){var Y=na.$$data[Q];var pa=V.$$data[Q];if(x(n,"Struct")["$==="](Y)){if(!(ta.hasOwnProperty(Y.$__id__())&&ja.hasOwnProperty(pa.$__id__())||S(Y,pa)))return!1}else if(!Y["$eql?"](pa))return!1}return!0}if(!u(oa["$instance_of?"](this.$class())))return!1;var ta={},ja={};return S(this,oa)},E.$$arity=1);a.def(l,"$each",F=function(){var oa,S,ta=F.$$p,
ja=ta||G;ta&&(F.$$p=null);if(ja===G)return c(this,"enum_for",["each"],(oa=function(){return(null==oa.$$s?this:oa.$$s).$size()},oa.$$s=this,oa.$$arity=0,oa));c(this.$class().$members(),"each",[],(S=function(na){var V=null==S.$$s?this:S.$$s;null==na&&(na=G);return a.yield1(ja,V["$[]"](na))},S.$$s=this,S.$$arity=1,S));return this},F.$$arity=0);a.def(l,"$each_pair",L=function(){var oa,S,ta=L.$$p,ja=ta||G;ta&&(L.$$p=null);if(ja===G)return c(this,"enum_for",["each_pair"],(oa=function(){return(null==oa.$$s?
this:oa.$$s).$size()},oa.$$s=this,oa.$$arity=0,oa));c(this.$class().$members(),"each",[],(S=function(na){var V=null==S.$$s?this:S.$$s;null==na&&(na=G);return a.yield1(ja,[na,V["$[]"](na)])},S.$$s=this,S.$$arity=1,S));return this},L.$$arity=0);a.def(l,"$length",ca=function(){return this.$class().$members().$length()},ca.$$arity=0);a.alias(l,"size","length");a.def(l,"$to_a",va=function(){var oa;return c(this.$class().$members(),"map",[],(oa=function(S){var ta=null==oa.$$s?this:oa.$$s;null==S&&(S=G);
return ta["$[]"](S)},oa.$$s=this,oa.$$arity=1,oa))},va.$$arity=0);a.alias(l,"values","to_a");a.def(l,"$inspect",Oa=function(){var oa,S=G,ta=G;S="#<struct ";u(u(ta=x(n,"Struct")["$==="](this))?this.$class().$name():ta)&&(S=A(S,""+this.$class()+" "));S=A(S,c(this.$each_pair(),"map",[],(oa=function(ja,na){null==ja&&(ja=G);null==na&&(na=G);return""+ja+"="+na.$inspect()},oa.$$s=this,oa.$$arity=2,oa)).$join(", "));return S=A(S,">")},Oa.$$arity=0);a.alias(l,"to_s","inspect");a.def(l,"$to_h",wa=function(){var oa=
wa.$$p,S=oa||G,ta;oa&&(wa.$$p=null);oa&&(wa.$$p=null);return S!==G?c(c(this,"map",[],S.$to_proc()),"to_h",a.to_a(this.$args())):c(this.$class().$members(),"each_with_object",[m([],{})],(ta=function(ja,na){var V=null==ta.$$s?this:ta.$$s;null==ja&&(ja=G);null==na&&(na=G);ja=[ja,V["$[]"](ja)];c(na,"[]=",a.to_a(ja));return ja[K(ja.length,1)]},ta.$$s=this,ta.$$arity=2,ta))},wa.$$arity=0);a.def(l,"$values_at",Ba=function(oa){var S;var ta=a.slice.call(arguments,0,arguments.length);ta=c(ta,"map",[],(S=function(V){null==
V&&(V=G);return V.$$is_range?V.$to_a():V},S.$$s=this,S.$$arity=1,S)).$flatten();S=[];for(var ja=0,na=ta.length;ja<na;ja++)ta[ja].$$is_number||this.$raise(x(n,"TypeError"),"no implicit conversion of "+ta[ja].$class()+" into Integer"),S.push(this["$[]"](ta[ja]));return S},Ba.$$arity=-1);return(a.def(l,"$dig",Ka=function(oa,S){var ta=a.slice.call(arguments,1,arguments.length);var ja=u(oa.$$is_string&&this.$$data.hasOwnProperty(oa))?this.$$data[oa]||G:G;if(ja===G||0===ta.length)return ja;u(ja["$respond_to?"]("dig"))||
this.$raise(x(n,"TypeError"),""+ja.$class()+" does not have #dig method");return c(ja,"dig",a.to_a(ta))},Ka.$$arity=-2),G)&&"dig"}(d[0],null,d)};Opal.modules["corelib/main"]=function(a){var y,K,t=a.top,w=[],A=a.nil,p=a.$$;a.add_stubs(["$include"]);a.defs(t,"$to_s",y=function(){return"main"},y.$$arity=0);return(a.defs(t,"$include",K=function(d){return p(w,"Object").$include(d)},K.$$arity=1),A)&&"include"};
Opal.modules["corelib/dir"]=function(a){var y=[],K=a.nil,t=a.$$,w=a.klass,A=a.truthy;a.add_stubs(["$[]"]);return function(p,$super,G){p=w(p,$super,"Dir");G=[p].concat(G);return function(x,k){var m=[x].concat(k),u,c,l;a.def(x,"$chdir",u=function(H){var e=u.$$p,n=e||K,J=K;e&&(u.$$p=null);a:{try{J=a.current_dir;a.current_dir=H;var D=a.yieldX(n,[]);break a}finally{a.current_dir=J}D=void 0}return D},u.$$arity=1);a.def(x,"$pwd",c=function(){return a.current_dir||"."},c.$$arity=0);a.alias(x,"getwd","pwd");
return(a.def(x,"$home",l=function(){var H;return A(H=t(m,"ENV")["$[]"]("HOME"))?H:"."},l.$$arity=0),K)&&"home"}(a.get_singleton_class(p),G)}(y[0],null,y)};
Opal.modules["corelib/file"]=function(a){function y(x,k){return"number"===typeof x&&"number"===typeof k?x+k:x["$+"](k)}var K=[],t=a.nil,w=a.$$,A=a.truthy,p=a.klass,d=a.range,G=a.send;a.add_stubs("$respond_to? $to_path $pwd $split $sub $+ $unshift $join $home $raise $start_with? $absolute_path $coerce_to! $basename $empty? $rindex $[] $nil? $== $- $length $gsub $find $=~ $map $each_with_index $flatten $reject $to_proc $end_with?".split(" "));return function(x,$super,m){x=p(x,$super,"File");m=[x].concat(m);
var u=t;a.const_set(m[0],"Separator",a.const_set(m[0],"SEPARATOR","/"));a.const_set(m[0],"ALT_SEPARATOR",t);a.const_set(m[0],"PATH_SEPARATOR",":");a.const_set(m[0],"FNM_SYSCASE",0);u=/^[a-zA-Z]:(?:\\|\/)/;return function(c,l){function H(q){A(q["$respond_to?"]("to_path"))&&(q=q.$to_path());return q=w(n,"Opal")["$coerce_to!"](q,w(n,"String"),"to_str")}function e(){return w(n,"ALT_SEPARATOR")===t?a.escape_regexp(w(n,"SEPARATOR")):a.escape_regexp(y(w(n,"SEPARATOR"),w(n,"ALT_SEPARATOR")))}var n=[c].concat(l),
J,D,R,ia,ea,ma,b,h,f;a.def(c,"$absolute_path",J=function(q,z){var E=t;null==z&&(z=t);var F=w(n,"SEPARATOR");var L=e();var ca=[];q=A(q["$respond_to?"]("to_path"))?q.$to_path():q;z=A(E=z)?E:w(n,"Dir").$pwd();E=q.substr(0,F.length)===F||u.test(q);var va=z.substr(0,F.length)===F||u.test(z);A(E)?(E=q.$split(a.regexp(["[",L,"]"])),q=u.test(q)?"":q.$sub(a.regexp(["^([",L,"]+).*$"]),"\\1"),z=!0):(E=y(z.$split(a.regexp(["[",L,"]"])),q.$split(a.regexp(["[",L,"]"]))),q=u.test(z)?"":z.$sub(a.regexp(["^([",L,
"]+).*$"]),"\\1"),z=va);va=0;for(var Oa=E.length;va<Oa;va++)L=E[va],L===t||""===L&&(0===ca.length||z)||"."===L&&(0===ca.length||z)||(".."===L?ca.pop():ca.push(L));z||"."===E[0]||ca.$unshift(".");F=ca.$join(F);A(z)&&(F=y(q,F));return F},J.$$arity=-2);a.def(c,"$expand_path",D=function(q,z){null==z&&(z=t);var E=w(n,"SEPARATOR");var F=e();if(A("~"===q[0]||z&&"~"===z[0])){var L=w(n,"Dir").$home();A(L)||this.$raise(w(n,"ArgumentError"),"couldn't find HOME environment -- expanding `~'");F=u.test(L)?"":L.$sub(a.regexp(["^([",
F,"]+).*$"]),"\\1");A(L["$start_with?"](F))||this.$raise(w(n,"ArgumentError"),"non-absolute home");L=y(L,E);E=a.regexp(["^\\~(?:",E,"|$)"]);q=q.$sub(E,L);A(z)&&(z=z.$sub(E,L))}return this.$absolute_path(q,z)},D.$$arity=-2);a.alias(c,"realpath","expand_path");a.def(c,"$dirname",R=function(q){var z=e();q=H(q);var E=q.match(new RegExp("^["+z+"]"));q=q.replace(new RegExp("["+z+"]+$"),"");q=q.replace(new RegExp("[^"+z+"]+$"),"");q=q.replace(new RegExp("["+z+"]+$"),"");return""===q?E?"/":".":q},R.$$arity=
1);a.def(c,"$basename",ia=function(q,z){null==z&&(z=t);var E=e();q=H(q);if(0==q.length)return q;z=z!==t?w(n,"Opal")["$coerce_to!"](z,w(n,"String"),"to_str"):null;q=q.replace(new RegExp("(.)["+E+"]*$"),"$1");q=q.replace(new RegExp("^(?:.*["+E+"])?([^"+E+"]+)$"),"$1");".*"===z?q=q.replace(/\.[^\.]+$/,""):null!==z&&(z=a.escape_regexp(z),q=q.replace(new RegExp(""+z+"$"),""));return q},ia.$$arity=-2);a.def(c,"$extname",ea=function(q){var z;q=H(q);q=this.$basename(q);if(A(q["$empty?"]()))return"";var E=
q["$[]"](d(1,-1,!1)).$rindex(".");if(!A(z=E["$nil?"]())){z=y(E,1);var F=z["$=="];var L=q.$length();L="number"===typeof L?L-1:L["$-"](1);z=F.call(z,L)}return A(z)?"":q["$[]"](a.Range.$new(y(E,1),-1,!1))},ea.$$arity=1);a.def(c,"$exist?",ma=function(q){return null!=a.modules[q]},ma.$$arity=1);a.alias(c,"exists?","exist?");a.def(c,"$directory?",b=function(q){var z,E=t;E=t;E=[];for(var F in a.modules)E.push(F);q=q.$gsub(a.regexp(["(^.",w(n,"SEPARATOR"),"+|",w(n,"SEPARATOR"),"+$)"]));return E=G(E,"find",
[],(z=function(L){null==L&&(L=t);return L["$=~"](a.regexp(["^",q]))},z.$$s=this,z.$$arity=1,z))},b.$$arity=1);a.def(c,"$join",h=function(q){var z,E,F=t;var L=a.slice.call(arguments,0,arguments.length);if(A(L["$empty?"]()))return"";F="";L=G(L.$flatten().$each_with_index(),"map",[],(z=function(ca,va){var Oa=t,wa=t;null==ca&&(ca=t);null==va&&(va=t);return A(A(Oa=va["$=="](0))?ca["$empty?"]():Oa)?w(n,"SEPARATOR"):A(A(wa=L.$length()["$=="](y(va,1)))?ca["$empty?"]():wa)?w(n,"SEPARATOR"):ca},z.$$s=this,
z.$$arity=2,z));L=G(L,"reject",[],"empty?".$to_proc());G(L,"each_with_index",[],(E=function(ca,va){var Oa=t,wa=t;null==ca&&(ca=t);null==va&&(va=t);va=L["$[]"](y(va,1));if(A(va["$nil?"]()))return F=""+F+ca;A(A(Oa=ca["$end_with?"](w(n,"SEPARATOR")))?va["$start_with?"](w(n,"SEPARATOR")):Oa)&&(ca=ca.$sub(a.regexp([w(n,"SEPARATOR"),"+$"]),""));return F=A(A(wa=ca["$end_with?"](w(n,"SEPARATOR")))?wa:va["$start_with?"](w(n,"SEPARATOR")))?""+F+ca:""+F+ca+w(n,"SEPARATOR")},E.$$s=this,E.$$arity=2,E));return F},
h.$$arity=-1);return(a.def(c,"$split",f=function(q){return q.$split(w(n,"SEPARATOR"))},f.$$arity=1),t)&&"split"}(a.get_singleton_class(x),m)}(K[0],w(K,"IO"),K)};
Opal.modules["corelib/process"]=function(a){var y=[],K=a.nil,t=a.$$$,w=a.$$,A=a.klass,p=a.truthy;a.add_stubs("$const_set $size $<< $__register_clock__ $to_f $now $new $[] $raise".split(" "));(function(d,$super,x){d=A(d,$super,"Process");var k=[d].concat(x),m,u,c,l;x=K;d.__clocks__=[];a.defs(d,"$__register_clock__",m=function(e,n){null==this.__clocks__&&(this.__clocks__=K);this.$const_set(e,this.__clocks__.$size());return this.__clocks__["$<<"](n)},m.$$arity=2);d.$__register_clock__("CLOCK_REALTIME",
function(){return Date.now()});x=!1;if(a.global.performance)x=function(){return performance.now()};else if(a.global.process&&process.hrtime){var H=process.hrtime();x=function(){var e=process.hrtime(H);return 1E3*e[0]+(e[1]/1E3|0)/1E3}}p(x)&&d.$__register_clock__("CLOCK_MONOTONIC",x);a.defs(d,"$pid",u=function(){return 0},u.$$arity=0);a.defs(d,"$times",c=function(){var e=w(k,"Time").$now().$to_f();return t(w(k,"Benchmark"),"Tms").$new(e,e,e,e,e)},c.$$arity=0);return(a.defs(d,"$clock_gettime",l=function(e,
n){var J,D;null==this.__clocks__&&(this.__clocks__=K);null==n&&(n="float_second");p(J=D=this.__clocks__["$[]"](e))?J:this.$raise(t(w(k,"Errno"),"EINVAL"),"clock_gettime("+e+") "+this.__clocks__["$[]"](e));e=D();switch(n){case "float_second":return e/1E3;case "float_millisecond":return e/1;case "float_microsecond":return 1E3*e;case "second":return e/1E3|0;case "millisecond":return e/1|0;case "microsecond":return 1E3*e|0;case "nanosecond":return 1E6*e|0;default:this.$raise(w(k,"ArgumentError"),"unexpected unit: "+
n)}},l.$$arity=-2),K)&&"clock_gettime"})(y[0],null,y);(function(d,$super,x){d=A(d,$super,"Signal");[d].concat(x);var k;return(a.defs(d,"$trap",k=function(m){a.slice.call(arguments,0,arguments.length);return K},k.$$arity=-1),K)&&"trap"})(y[0],null,y);return function(d,$super,x){d=A(d,$super,"GC");[d].concat(x);var k;return(a.defs(d,"$start",k=function(){return K},k.$$arity=0),K)&&"start"}(y[0],null,y)};
Opal.modules["corelib/random"]=function(a){var y=[],K=a.nil,t=a.$$,w=a.klass,A=a.truthy,p=a.send;a.add_stubs("$attr_reader $new_seed $coerce_to! $reseed $rand $seed $< $raise $encode $join $new $chr $=== $== $state $const_defined? $const_set".split(" "));return function(d,$super,x){d=w(d,$super,"Random");var k=[d].concat(x),m,u,c,l,H,e,n,J,D,R;d.$attr_reader("seed","state");a.def(d,"$initialize",m=function(ia){null==ia&&(ia=t(k,"Random").$new_seed());this.state=ia=t(k,"Opal")["$coerce_to!"](ia,t(k,
"Integer"),"to_int");return this.$reseed(ia)},m.$$arity=-1);a.def(d,"$reseed",u=function(ia){this.seed=ia;return this.$rng=a.$$rand.reseed(ia)},u.$$arity=1);a.defs(d,"$new_seed",c=function(){return a.$$rand.new_seed()},c.$$arity=0);a.defs(d,"$rand",l=function(ia){return t(k,"DEFAULT").$rand(ia)},l.$$arity=-1);a.defs(d,"$srand",H=function(ia){null==ia&&(ia=t(k,"Random").$new_seed());ia=t(k,"Opal")["$coerce_to!"](ia,t(k,"Integer"),"to_int");var ea=t(k,"DEFAULT").$seed();t(k,"DEFAULT").$reseed(ia);return ea},
H.$$arity=-1);a.defs(d,"$urandom",e=function(ia){var ea;ia=t(k,"Opal")["$coerce_to!"](ia,t(k,"Integer"),"to_int");A("number"===typeof ia?0>ia:ia["$<"](0))&&this.$raise(t(k,"ArgumentError"),"negative string size (or size too big)");return p(t(k,"Array"),"new",[ia],(ea=function(){return(null==ea.$$s?this:ea.$$s).$rand(255).$chr()},ea.$$s=this,ea.$$arity=0,ea)).$join().$encode("ASCII-8BIT")},e.$$arity=1);a.def(d,"$==",n=function(ia){var ea;return A(t(k,"Random")["$==="](ia))?A(ea=this.$seed()["$=="](ia.$seed()))?
this.$state()["$=="](ia.$state()):ea:!1},n.$$arity=1);a.def(d,"$bytes",J=function(ia){var ea;ia=t(k,"Opal")["$coerce_to!"](ia,t(k,"Integer"),"to_int");return p(t(k,"Array"),"new",[ia],(ea=function(){return(null==ea.$$s?this:ea.$$s).$rand(255).$chr()},ea.$$s=this,ea.$$arity=0,ea)).$join().$encode("ASCII-8BIT")},J.$$arity=1);a.def(d,"$rand",D=function(ia){function ea(){b.state++;return a.$$rand.rand(b.$rng)}function ma(){var h=ia.begin,f=ia.end;if(h===K||f===K)return K;var q=f-h;if(0>q)return K;if(0===
q)return h;0!==f%1||0!==h%1||ia.excl||q++;return b.$rand(q)+h}var b=this;if(null==ia)return ea();if(ia.$$is_range)return ma();if(ia.$$is_number)return 0>=ia&&b.$raise(t(k,"ArgumentError"),"invalid argument - "+ia),0===ia%1?Math.floor(ea()*ia):ea()*ia;ia=t(k,"Opal")["$coerce_to!"](ia,t(k,"Integer"),"to_int");0>=ia&&b.$raise(t(k,"ArgumentError"),"invalid argument - "+ia);return Math.floor(ea()*ia)},D.$$arity=-1);return(a.defs(d,"$generator=",R=function(ia){a.$$rand=ia;return A(this["$const_defined?"]("DEFAULT"))?
t(k,"DEFAULT").$reseed():this.$const_set("DEFAULT",this.$new(this.$new_seed()))},R.$$arity=1),K)&&"generator="}(y[0],null,y)};
Opal.modules["corelib/random/mersenne_twister"]=function(a){function y(G,x){return"number"===typeof G&&"number"===typeof x?G-x:G["$-"](x)}var K=[],t=a.nil,w=a.$$,A=a.klass,p=a.send,d=t;a.add_stubs(["$generator=","$-"]);d=function(){function G(k,m){return(k&2147483648|m&2147483647)>>>1^(m&1?2567483615:0)}function x(k){if(0>=--k.left){var m=0,u=k.state,c;k.left=624;k.next=0;for(c=228;--c;m++)u[m]=u[m+397]^G(u[m+0],u[m+1]);for(c=397;--c;m++)u[m]=u[m+-227]^G(u[m+0],u[m+1]);u[m]=u[m+-227]^G(u[m+0],u[0])}k=
k.state[k.next++];k^=k>>>11;k^=k<<7&2636928640;k^=k<<15&4022730752;return(k^k>>>18)>>>0}return{genrand_real:function(k){var m=x(k);k=x(k);return 1.1102230246251565E-16*(67108864*(m>>>5)+(k>>>6))},init:function(k){var m={left:0,next:624,state:Array(624)};m.state[0]=k>>>0;for(k=1;624>k;k++)m.state[k]=1812433253*(m.state[k-1]^m.state[k-1]>>30>>>0)+k,m.state[k]&=4294967295;m.left=1;m.next=624;return m}}}();return function(G,$super,k){G=A(G,$super,"Random");k=[G].concat(k);var m=t,u=Number.MAX_SAFE_INTEGER||
Math.pow(2,53)-1;a.const_set(k[0],"MERSENNE_TWISTER_GENERATOR",{new_seed:function(){return Math.round(Math.random()*u)},reseed:function(c){return d.init(c)},rand:function(c){return d.genrand_real(c)}});m=[w(k,"MERSENNE_TWISTER_GENERATOR")];p(G,"generator=",a.to_a(m));return m[y(m.length,1)]}(K[0],null,K)};
Opal.modules["corelib/unsupported"]=function(a){function y(m){switch(a.config.unsupported_features_severity){case "error":d(A,"Kernel").$raise(d(A,"NotImplementedError"),m);break;case "warning":k[m]||(k[m]=!0,w.$warn(m))}}var K,t,w=a.top,A=[],p=a.nil,d=a.$$,G=a.klass,x=a.module;a.add_stubs(["$raise","$warn","$%"]);var k={};(function(m,$super,c){m=G(m,$super,"String");var l=[m].concat(c),H,e,n,J,D,R,ia,ea,ma,b,h,f,q,z,E,F,L,ca,va,Oa,wa,Ba,Ka;a.def(m,"$<<",H=function(oa){a.slice.call(arguments,0,arguments.length);
return this.$raise(d(l,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("<<"))},H.$$arity=-1);a.def(m,"$capitalize!",e=function(oa){a.slice.call(arguments,0,arguments.length);return this.$raise(d(l,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("capitalize!"))},e.$$arity=-1);a.def(m,"$chomp!",n=function(oa){a.slice.call(arguments,0,arguments.length);return this.$raise(d(l,"NotImplementedError"),
"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("chomp!"))},n.$$arity=-1);a.def(m,"$chop!",J=function(oa){a.slice.call(arguments,0,arguments.length);return this.$raise(d(l,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("chop!"))},J.$$arity=-1);a.def(m,"$downcase!",D=function(oa){a.slice.call(arguments,0,arguments.length);return this.$raise(d(l,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("downcase!"))},
D.$$arity=-1);a.def(m,"$gsub!",R=function(oa){a.slice.call(arguments,0,arguments.length);return this.$raise(d(l,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("gsub!"))},R.$$arity=-1);a.def(m,"$lstrip!",ia=function(oa){a.slice.call(arguments,0,arguments.length);return this.$raise(d(l,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("lstrip!"))},ia.$$arity=-1);a.def(m,"$next!",ea=function(oa){a.slice.call(arguments,
0,arguments.length);return this.$raise(d(l,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("next!"))},ea.$$arity=-1);a.def(m,"$reverse!",ma=function(oa){a.slice.call(arguments,0,arguments.length);return this.$raise(d(l,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("reverse!"))},ma.$$arity=-1);a.def(m,"$slice!",b=function(oa){a.slice.call(arguments,0,arguments.length);return this.$raise(d(l,
"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("slice!"))},b.$$arity=-1);a.def(m,"$squeeze!",h=function(oa){a.slice.call(arguments,0,arguments.length);return this.$raise(d(l,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("squeeze!"))},h.$$arity=-1);a.def(m,"$strip!",f=function(oa){a.slice.call(arguments,0,arguments.length);return this.$raise(d(l,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("strip!"))},
f.$$arity=-1);a.def(m,"$sub!",q=function(oa){a.slice.call(arguments,0,arguments.length);return this.$raise(d(l,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("sub!"))},q.$$arity=-1);a.def(m,"$succ!",z=function(oa){a.slice.call(arguments,0,arguments.length);return this.$raise(d(l,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("succ!"))},z.$$arity=-1);a.def(m,"$swapcase!",E=function(oa){a.slice.call(arguments,
0,arguments.length);return this.$raise(d(l,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("swapcase!"))},E.$$arity=-1);a.def(m,"$tr!",F=function(oa){a.slice.call(arguments,0,arguments.length);return this.$raise(d(l,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("tr!"))},F.$$arity=-1);a.def(m,"$tr_s!",L=function(oa){a.slice.call(arguments,0,arguments.length);return this.$raise(d(l,
"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("tr_s!"))},L.$$arity=-1);a.def(m,"$upcase!",ca=function(oa){a.slice.call(arguments,0,arguments.length);return this.$raise(d(l,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("upcase!"))},ca.$$arity=-1);a.def(m,"$prepend",va=function(oa){a.slice.call(arguments,0,arguments.length);return this.$raise(d(l,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("prepend"))},
va.$$arity=-1);a.def(m,"$[]=",Oa=function(oa){a.slice.call(arguments,0,arguments.length);return this.$raise(d(l,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("[]="))},Oa.$$arity=-1);a.def(m,"$clear",wa=function(oa){a.slice.call(arguments,0,arguments.length);return this.$raise(d(l,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("clear"))},wa.$$arity=-1);a.def(m,"$encode!",Ba=function(oa){a.slice.call(arguments,
0,arguments.length);return this.$raise(d(l,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("encode!"))},Ba.$$arity=-1);return(a.def(m,"$unicode_normalize!",Ka=function(oa){a.slice.call(arguments,0,arguments.length);return this.$raise(d(l,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("unicode_normalize!"))},Ka.$$arity=-1),p)&&"unicode_normalize!"})(A[0],null,A);(function(m,u){m=x(m,
"Kernel");[m].concat(u);var c,l;a.def(m,"$freeze",c=function(){y("Object freezing is not supported by Opal");return this},c.$$arity=0);a.def(m,"$frozen?",l=function(){y("Object freezing is not supported by Opal");return!1},l.$$arity=0)})(A[0],A);(function(m,u){m=x(m,"Kernel");[m].concat(u);var c,l,H;a.def(m,"$taint",c=function(){y("Object tainting is not supported by Opal");return this},c.$$arity=0);a.def(m,"$untaint",l=function(){y("Object tainting is not supported by Opal");return this},l.$$arity=
0);a.def(m,"$tainted?",H=function(){y("Object tainting is not supported by Opal");return!1},H.$$arity=0)})(A[0],A);(function(m,$super,c){m=G(m,$super,"Module");[m].concat(c);var l,H,e,n;a.def(m,"$public",l=function(J){0===a.slice.call(arguments,0,arguments.length).length&&(this.$$module_function=!1);return p},l.$$arity=-1);a.alias(m,"private","public");a.alias(m,"protected","public");a.alias(m,"nesting","public");a.def(m,"$private_class_method",H=function(J){a.slice.call(arguments,0,arguments.length);
return this},H.$$arity=-1);a.alias(m,"public_class_method","private_class_method");a.def(m,"$private_method_defined?",e=function(){return!1},e.$$arity=1);a.def(m,"$private_constant",n=function(J){a.slice.call(arguments,0,arguments.length);return p},n.$$arity=-1);a.alias(m,"protected_method_defined?","private_method_defined?");a.alias(m,"public_instance_methods","instance_methods");a.alias(m,"public_instance_method","instance_method");return a.alias(m,"public_method_defined?","method_defined?")})(A[0],
null,A);(function(m,u){m=x(m,"Kernel");[m].concat(u);var c;a.def(m,"$private_methods",c=function(l){a.slice.call(arguments,0,arguments.length);return[]},c.$$arity=-1);a.alias(m,"private_instance_methods","private_methods")})(A[0],A);(function(m,u){m=x(m,"Kernel");var c=[m].concat(u),l;a.def(m,"$eval",l=function(H){a.slice.call(arguments,0,arguments.length);return this.$raise(d(c,"NotImplementedError"),"To use Kernel#eval, you must first require 'opal-parser'. See https://github.com/opal/opal/blob/"+
(d(c,"RUBY_ENGINE_VERSION")+"/docs/opal_parser.md for details."))},l.$$arity=-1)})(A[0],A);a.defs(w,"$public",K=function(m){a.slice.call(arguments,0,arguments.length);return p},K.$$arity=-1);return(a.defs(w,"$private",t=function(m){a.slice.call(arguments,0,arguments.length);return p},t.$$arity=-1),p)&&"private"};var rb=Opal.top;Opal.add_stubs(["$require"]);rb.$require("opal/base");rb.$require("opal/mini");rb.$require("corelib/kernel/format");rb.$require("corelib/string/encoding");rb.$require("corelib/math");
rb.$require("corelib/complex");rb.$require("corelib/rational");rb.$require("corelib/time");rb.$require("corelib/struct");rb.$require("corelib/io");rb.$require("corelib/main");rb.$require("corelib/dir");rb.$require("corelib/file");rb.$require("corelib/process");rb.$require("corelib/random");rb.$require("corelib/random/mersenne_twister");rb.$require("corelib/unsupported");
(function(a){function y(u,c){return"number"===typeof u&&"number"===typeof c?u+c:u["$+"](c)}function K(u,c){return"number"===typeof u&&"number"===typeof c?u-c:u["$-"](c)}function t(u,c){return"number"===typeof u&&"number"===typeof c?u<c:u["$<"](c)}var w=[],A=a.nil,p=a.$$$,d=a.$$,G=a.klass,x=a.send2,k=a.truthy,m=a.send;a.add_stubs("$include $<=> $attr_reader $nonzero? $d $zero? $new $class $-@ $+@ $=== $coerce $== $> $+ $allocate $join $compact $map $to_proc $downcase $wrap $raise $clone $jd $>> $wday $year $month $day $- $to_s $to_i $< $* $reverse $step $abs $each".split(" "));
return function(u,$super,l){function H(W,ya){return[31,0===W%4&&0!==W%100||0===W%400?29:28,31,30,31,30,31,31,30,31,30,31][ya]}u=G(u,$super,"Date");var e=[u].concat(l),n,J,D,R,ia,ea,ma,b,h,f,q,z,E,F,L,ca,va,Oa,wa,Ba,Ka,oa,S,ta,ja,na,V,Q,Y,pa,za,la,xa,Ea,Fa,Sa,Ra,Na,Qa,lb;u.$$prototype.date=A;u.$include(d(e,"Comparable"));(function(W,$super,Da){W=G(W,$super,"Infinity");var Va=[W].concat(Da),ib,db,$a,ab,Aa,ua,La,Ta,Ya,Ga,Z;W.$$prototype.d=A;W.$include(d(Va,"Comparable"));a.def(W,"$initialize",ib=function(P){null==
P&&(P=1);return this.d=P["$<=>"](0)},ib.$$arity=-1);W.$attr_reader("d");a.def(W,"$zero?",db=function(){return!1},db.$$arity=0);a.def(W,"$finite?",$a=function(){return!1},$a.$$arity=0);a.def(W,"$infinite?",ab=function(){return this.$d()["$nonzero?"]()},ab.$$arity=0);a.def(W,"$nan?",Aa=function(){return this.$d()["$zero?"]()},Aa.$$arity=0);a.def(W,"$abs",ua=function(){return this.$class().$new()},ua.$$arity=0);a.def(W,"$-@",La=function(){return this.$class().$new(this.$d()["$-@"]())},La.$$arity=0);
a.def(W,"$+@",Ta=function(){return this.$class().$new(this.$d()["$+@"]())},Ta.$$arity=0);a.def(W,"$<=>",Ya=function(P){var aa,T,fa=this,ka=A,g=A,C=A;return function(){ka=P;if(d(Va,"Infinity")["$==="](ka))return fa.$d()["$<=>"](P.$d());if(d(Va,"Numeric")["$==="](ka))return fa.$d();try{return T=P.$coerce(fa),aa=a.to_ary(T),g=null==aa[0]?A:aa[0],C=null==aa[1]?A:aa[1],T,g["$<=>"](C)}catch(M){if(a.rescue(M,[d(Va,"NoMethodError")]))try{return A}finally{a.pop_exception()}else throw M;}}()},Ya.$$arity=1);
a.def(W,"$coerce",Ga=function(P){var aa=Ga.$$p,T;aa&&(Ga.$$p=null);var fa=0;var ka=arguments.length;for(T=Array(ka);fa<ka;fa++)T[fa]=arguments[fa];aa=d(Va,"Numeric")["$==="](P)?[this.$d()["$-@"](),this.$d()]:x(this,a.find_super_dispatcher(this,"coerce",Ga,!1,!0),"coerce",T,aa);return aa},Ga.$$arity=1);return(a.def(W,"$to_f",Z=function(){if(this.d["$=="](0))return 0;var P=this.d;P="number"===typeof P?0<P:P["$>"](0);return k(P)?p(d(Va,"Float"),"INFINITY"):p(d(Va,"Float"),"INFINITY")["$-@"]()},Z.$$arity=
0),A)&&"to_f"})(e[0],d(e,"Numeric"),e);a.const_set(e[0],"JULIAN",d(e,"Infinity").$new());a.const_set(e[0],"GREGORIAN",d(e,"Infinity").$new()["$-@"]());a.const_set(e[0],"ITALY",2299161);a.const_set(e[0],"ENGLAND",2361222);a.const_set(e[0],"MONTHNAMES",y([A],"January February March April May June July August September October November December".split(" ")));a.const_set(e[0],"ABBR_MONTHNAMES","jan feb mar apr may jun jul aug sep oct nov dec".split(" "));a.const_set(e[0],"DAYNAMES","Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "));
a.const_set(e[0],"ABBR_DAYNAMES","Sun Mon Tue Wed Thu Fri Sat".split(" "));(function(W,ya){var Da=[W].concat(ya),Va,ib,db,$a;a.alias(W,"civil","new");a.def(W,"$wrap",Va=function(ab){var Aa=this.$allocate();Aa.date=ab;return Aa},Va.$$arity=1);a.def(W,"$parse",ib=function(ab,Aa){function ua(ba){return ba[1]}function La(ba){return ba[2]}function Ta(ba){return ba[3]}function Ya(ba){return ba[4]}function Ga(ba){return function(v){v=ba(v);return 69<=v?v+1900:v+2E3}}function Z(ba){return function(v){v=ba(v).toLowerCase();
return d(Da,"ABBR_MONTHNAMES").indexOf(v)+1}}function P(ba){return function(v){v=ba(v);return parseInt(v,10)}}function aa(ba){return function(v){v=ba(v);return m(d(Da,"MONTHNAMES").$compact(),"map",[],"downcase".$to_proc()).indexOf(v.$downcase())+1}}null==Aa&&(Aa=!0);var T=new Date,fa=T.getDate(),ka=T.getMonth(),g=T.getFullYear(),C=T.getDay();T=d(Da,"MONTHNAMES").$compact().$join("|");T=[{regexp:/^(\d{2})$/,year:g,month:ka,day:P(ua)},{regexp:/^(\d{3})$/,year:g,month:0,day:P(ua)},{regexp:/^(\d{2})(\d{2})$/,
year:g,month:P(ua),day:P(La)},{regexp:/^(\d{2})(\d{3})$/,year:Ga(P(ua)),month:0,day:P(La)},{regexp:/^(\d{2})(\d{2})(\d{2})$/,year:Ga(P(ua)),month:P(La),day:P(Ta)},{regexp:/^(\d{4})(\d{3})$/,year:P(ua),month:0,day:P(La)},{regexp:/^(\d{4})(\d{2})(\d{2})$/,year:P(ua),month:P(La),day:P(Ta)},{regexp:/^([a-z]{3})[\s\.\/\-](\d{3,4})$/,year:P(La),month:Z(ua),day:1},{regexp:/^(\d{1,2})[\s\.\/\-]([a-z]{3})[\s\.\/\-](\d{3,4})$/i,year:P(Ta),month:Z(La),day:P(ua)},{regexp:/^([a-z]{3})[\s\.\/\-](\d{1,2})[\s\.\/\-](\d{3,4})$/i,
year:P(Ta),month:Z(ua),day:P(La)},{regexp:/^(\d{3,4})[\s\.\/\-]([a-z]{3})[\s\.\/\-](\d{1,2})$/i,year:P(ua),month:Z(La),day:P(Ta)},{regexp:/^(\-?\d{3,4})[\s\.\/\-](\d{1,2})[\s\.\/\-](\d{1,2})$/,year:P(ua),month:P(La),day:P(Ta)},{regexp:/^(\d{2})[\s\.\/\-](\d{1,2})[\s\.\/\-](\d{1,2})$/,year:function(ba){return function(v){v=ba(v);return Aa?v+2E3:v}}(P(ua)),month:P(La),day:P(Ta)},{regexp:/^(\d{1,2})[\s\.\/\-](\d{1,2})[\s\.\/\-](\-?\d{3,4})$/,year:P(Ta),month:P(La),day:P(ua)},{regexp:new RegExp("^("+
d(Da,"DAYNAMES").$join("|")+")$","i"),year:g,month:ka,day:function(ba){return function(v){v=ba(v);v=m(d(Da,"DAYNAMES"),"map",[],"downcase".$to_proc()).indexOf(v.$downcase());return fa-C+v}}(ua)},{regexp:new RegExp("^("+T+")[\\s\\.\\/\\-](\\d{1,2})(th|nd|rd)[\\s\\.\\/\\-](\\-?\\d{3,4})$","i"),year:P(Ya),month:aa(ua),day:P(La)},{regexp:new RegExp("^("+T+")[\\s\\.\\/\\-](\\d{1,2})(th|nd|rd)","i"),year:g,month:aa(ua),day:P(La)},{regexp:new RegExp("^(\\d{1,2})(th|nd|rd)[\\s\\.\\/\\-]("+T+")[\\s\\.\\/\\-](\\-?\\d{3,4})$",
"i"),year:P(Ya),month:aa(Ta),day:P(ua)},{regexp:new RegExp("^(\\-?\\d{3,4})[\\s\\.\\/\\-]("+T+")[\\s\\.\\/\\-](\\d{1,2})(th|nd|rd)$","i"),year:P(ua),month:aa(La),day:P(Ta)}];var M;for(M=0;M<T.length;M++)if(g=T[M],ka=g.regexp.exec(ab))return ab=g.year,"function"===typeof ab&&(ab=ab(ka)),T=g.month,"function"===typeof T&&(T=T(ka)-1),g=g.day,"function"===typeof g&&(g=g(ka)),ka=new Date(ab,T,g),0<=ab&&1970>=ab&&ka.setFullYear(ab),this.$wrap(ka);return this.$raise(d(Da,"ArgumentError"),"invalid date")},
ib.$$arity=-2);a.def(W,"$today",db=function(){return this.$wrap(new Date)},db.$$arity=0);return(a.def(W,"$gregorian_leap?",$a=function(ab){return 0===(new Date(ab,1,29)).getMonth()-1},$a.$$arity=1),A)&&"gregorian_leap?"})(a.get_singleton_class(u),e);a.def(u,"$initialize",n=function(W,ya,Da,Va){null==W&&(W=-4712);null==ya&&(ya=1);null==Da&&(Da=1);null==Va&&d(e,"ITALY");1582===W&&10===ya&&4<Da&&15>Da&&(Da=4);return this.date=new Date(W,ya-1,Da)},n.$$arity=-1);a.def(u,"$-",J=function(W){if(W.$$is_number){var ya=
this.$clone();ya.date.setDate(this.date.getDate()-W);return ya}if(W.date)return Math.round((this.date-W.date)/864E5);this.$raise(d(e,"TypeError"))},J.$$arity=1);a.def(u,"$+",D=function(W){if(W.$$is_number){var ya=this.$clone();ya.date.setDate(this.date.getDate()+W);return ya}this.$raise(d(e,"TypeError"))},D.$$arity=1);a.def(u,"$<",R=function(W){var ya=this.date;W=W.date;ya.setHours(0,0,0,0);W.setHours(0,0,0,0);return ya<W},R.$$arity=1);a.def(u,"$<=",ia=function(W){var ya=this.date;W=W.date;ya.setHours(0,
0,0,0);W.setHours(0,0,0,0);return ya<=W},ia.$$arity=1);a.def(u,"$>",ea=function(W){var ya=this.date;W=W.date;ya.setHours(0,0,0,0);W.setHours(0,0,0,0);return ya>W},ea.$$arity=1);a.def(u,"$>=",ma=function(W){var ya=this.date;W=W.date;ya.setHours(0,0,0,0);W.setHours(0,0,0,0);return ya>=W},ma.$$arity=1);a.def(u,"$<=>",b=function(W){if(W.$$is_number)return this.$jd()["$<=>"](W);if(d(e,"Date")["$==="](W)){var ya=this.date;W=W.date;ya.setHours(0,0,0,0);W.setHours(0,0,0,0);return ya<W?-1:ya>W?1:0}return A},
b.$$arity=1);a.def(u,"$>>",h=function(W){W.$$is_number||this.$raise(d(e,"TypeError"));var ya=this.$clone(),Da=ya.date,Va=Da.getDate();Da.setDate(1);Da.setMonth(Da.getMonth()+W);Da.setDate(Math.min(Va,H(Da.getFullYear(),Da.getMonth())));return ya},h.$$arity=1);a.def(u,"$<<",f=function(W){W.$$is_number||this.$raise(d(e,"TypeError"));return this["$>>"](-W)},f.$$arity=1);a.alias(u,"eql?","==");a.def(u,"$clone",q=function(){return d(e,"Date").$wrap(new Date(this.date.getTime()))},q.$$arity=0);a.def(u,
"$day",z=function(){return this.date.getDate()},z.$$arity=0);a.def(u,"$friday?",E=function(){return this.$wday()["$=="](5)},E.$$arity=0);a.def(u,"$jd",F=function(){var W=this.date.getMonth()+1,ya=this.date.getDate(),Da=this.date.getFullYear();var Va=1;1585>=Da&&(Va=0);var ib=-1*Math.floor(7*(Math.floor((W+9)/12)+Da)/4);var db=1;0>W-9&&(db=-1);db=Math.floor(Da+db*Math.floor(Math.abs(W-9)/7));db=-1*Math.floor(3*(Math.floor(db/100)+1)/4);ib=ib+Math.floor(275*W/9)+ya+Va*db;return ib+1721027+2*Va+367*
Da-.5+.5},F.$$arity=0);a.def(u,"$julian?",L=function(){return this.date<new Date(1582,9,15,12)},L.$$arity=0);a.def(u,"$monday?",ca=function(){return this.$wday()["$=="](1)},ca.$$arity=0);a.def(u,"$month",va=function(){return this.date.getMonth()+1},va.$$arity=0);a.def(u,"$next",Oa=function(){return y(this,1)},Oa.$$arity=0);a.def(u,"$next_day",wa=function(W){null==W&&(W=1);return y(this,W)},wa.$$arity=-1);a.def(u,"$next_month",Ba=function(W){null==W&&(W=1);var ya=this.$clone(),Da=ya.date,Va=Da.getDate();
Da.setDate(1);Da.setMonth(Da.getMonth()+W);Da.setDate(Math.min(Va,H(Da.getFullYear(),Da.getMonth())));return ya},Ba.$$arity=-1);a.def(u,"$next_year",Ka=function(W){null==W&&(W=1);return this.$class().$new(y(this.$year(),W),this.$month(),this.$day())},Ka.$$arity=-1);a.def(u,"$prev_day",oa=function(W){null==W&&(W=1);return K(this,W)},oa.$$arity=-1);a.def(u,"$prev_month",S=function(W){null==W&&(W=1);var ya=this.$clone(),Da=ya.date,Va=Da.getDate();Da.setDate(1);Da.setMonth(Da.getMonth()-W);Da.setDate(Math.min(Va,
H(Da.getFullYear(),Da.getMonth())));return ya},S.$$arity=-1);a.def(u,"$prev_year",ta=function(W){null==W&&(W=1);return this.$class().$new(K(this.$year(),W),this.$month(),this.$day())},ta.$$arity=-1);a.def(u,"$saturday?",ja=function(){return this.$wday()["$=="](6)},ja.$$arity=0);a.def(u,"$strftime",na=function(W){null==W&&(W="");return""==W?this.$to_s():this.date.$strftime(W)},na.$$arity=-1);a.alias(u,"succ","next");a.def(u,"$sunday?",V=function(){return this.$wday()["$=="](0)},V.$$arity=0);a.def(u,
"$thursday?",Q=function(){return this.$wday()["$=="](4)},Q.$$arity=0);a.def(u,"$to_s",Y=function(){var W=this.date,ya=W.getFullYear(),Da=W.getMonth()+1;W=W.getDate();10>Da&&(Da="0"+Da);10>W&&(W="0"+W);return ya+"-"+Da+"-"+W},Y.$$arity=0);a.def(u,"$to_time",pa=function(){return d(e,"Time").$new(this.$year(),this.$month(),this.$day())},pa.$$arity=0);a.def(u,"$to_n",za=function(){return this.date},za.$$arity=0);a.def(u,"$tuesday?",la=function(){return this.$wday()["$=="](2)},la.$$arity=0);a.def(u,"$step",
xa=function(W,ya){var Da=xa.$$p,Va=Da||A,ib,db,$a=A;$a=$a=A;Da&&(xa.$$p=null);Da&&(xa.$$p=null);null==ya&&(ya=1);$a=K(W,this).$to_i();$a=k(t("number"===typeof $a&&"number"===typeof ya?$a*ya:$a["$*"](ya),0))?[]:k(t($a,0))?m(a.Range.$new(0,$a["$-@"](),!1).$step(ya.$abs()),"map",[],"-@".$to_proc()).$reverse():a.Range.$new(0,$a,!1).$step(ya.$abs());$a=m($a,"map",[],(ib=function(ab){var Aa=null==ib.$$s?this:ib.$$s;null==ab&&(ab=A);return y(Aa,ab)},ib.$$s=this,ib.$$arity=1,ib));return Va!==A?(m($a,"each",
[],(db=function(ab){null==ab&&(ab=A);return a.yield1(Va,ab)},db.$$s=this,db.$$arity=1,db)),this):$a},xa.$$arity=-2);a.def(u,"$upto",Ea=function(W){var ya=Ea.$$p,Da=ya||A;ya&&(Ea.$$p=null);ya&&(Ea.$$p=null);return m(this,"step",[W,1],Da.$to_proc())},Ea.$$arity=1);a.def(u,"$downto",Fa=function(W){var ya=Fa.$$p,Da=ya||A;ya&&(Fa.$$p=null);ya&&(Fa.$$p=null);return m(this,"step",[W,-1],Da.$to_proc())},Fa.$$arity=1);a.def(u,"$wday",Sa=function(){return this.date.getDay()},Sa.$$arity=0);a.def(u,"$wednesday?",
Ra=function(){return this.$wday()["$=="](3)},Ra.$$arity=0);a.def(u,"$year",Na=function(){return this.date.getFullYear()},Na.$$arity=0);a.def(u,"$cwday",Qa=function(){return this.date.getDay()||7},Qa.$$arity=0);a.def(u,"$cweek",lb=function(){var W=new Date(this.date);W.setHours(0,0,0);W.setDate(W.getDate()+4-(W.getDay()||7));return Math.ceil(((W-new Date(W.getFullYear(),0,1))/864E5+1)/7)},lb.$$arity=0)}(w[0],null,w)})(Opal);
(function(a){function y(m,u){return"number"===typeof m&&"number"===typeof u?m-u:m["$-"](u)}var K=[],t=a.nil,w=a.$$$,A=a.$$,p=a.module,d=a.klass,G=a.send,x=a.hash2,k=a.truthy;a.add_stubs("$raise $new $push $[]= $- $[] $create_id $json_create $const_get $attr_accessor $create_id= $=== $parse $generate $from_object $merge $to_json $responds_to? $to_io $write $to_s $to_a $strftime".split(" "));(function(m,u){function c(f){try{return JSON.parse(f)}catch(q){H.$raise(w(A(e,"JSON"),"ParserError"),q.message)}}
function l(f,q){var z;switch(typeof f){case "string":return f;case "number":return f;case "boolean":return!!f;case "null":return t;case "object":if(!f)return t;if(f.$$is_array){var E=q.array_class.$new();var F=0;for(z=f.length;F<z;F++)E.$push(l(f[F],q));return E}F=q.object_class.$new();for(z in f)h.call(f,z)&&(b=[z,l(f[z],q)],G(F,"[]=",a.to_a(b)),b[y(b.length,1)]);return q.parse||(E=F["$[]"](A(e,"JSON").$create_id()))==t?F:w("::","Object").$const_get(E).$json_create(F)}}var H=p(m,"JSON"),e=[H].concat(u),
n,J,D,R,ia,ea,ma,b=t;(function(f,$super,z){[d(f,$super,"JSONError")].concat(z);return t})(e[0],A(e,"StandardError"),e);(function(f,$super,z){[d(f,$super,"ParserError")].concat(z);return t})(e[0],A(e,"JSONError"),e);var h=a.hasOwnProperty;(function(f,q){[f].concat(q);return f.$attr_accessor("create_id")})(a.get_singleton_class(H),e);b=["json_class"];G(H,"create_id=",a.to_a(b));b[y(b.length,1)];a.defs(H,"$[]",n=function(f,q){null==q&&(q=x([],{}));return k(A(e,"String")["$==="](f))?this.$parse(f,q):
this.$generate(f,q)},n.$$arity=-2);a.defs(H,"$parse",J=function(f,q){null==q&&(q=x([],{}));return this.$from_object(c(f),q.$merge(x(["parse"],{parse:!0})))},J.$$arity=-2);a.defs(H,"$parse!",D=function(f,q){null==q&&(q=x([],{}));return this.$parse(f,q)},D.$$arity=-2);a.defs(H,"$load",R=function(f,q){null==q&&(q=x([],{}));return this.$from_object(c(f),q)},R.$$arity=-2);a.defs(H,"$from_object",ia=function(f,q){var z;null==q&&(q=x([],{}));k(z=q["$[]"]("object_class"))?z:(z=["object_class",A(e,"Hash")],
G(q,"[]=",a.to_a(z)),z[y(z.length,1)]);k(z=q["$[]"]("array_class"))?z:(z=["array_class",A(e,"Array")],G(q,"[]=",a.to_a(z)),z[y(z.length,1)]);return l(f,q.$$smap)},ia.$$arity=-2);a.defs(H,"$generate",ea=function(f,q){null==q&&(q=x([],{}));return f.$to_json(q)},ea.$$arity=-2);a.defs(H,"$dump",ma=function(f,q){null==q&&(q=t);f=this.$generate(f);return k(q)?(k(q["$responds_to?"]("to_io"))&&(q=q.$to_io()),q.$write(f),q):f},ma.$$arity=-2)})(K[0],K);(function(m,$super,c){m=d(m,$super,"Object");[m].concat(c);
var l;return(a.def(m,"$to_json",l=function(){return this.$to_s().$to_json()},l.$$arity=0),t)&&"to_json"})(K[0],null,K);(function(m,u){m=p(m,"Enumerable");[m].concat(u);var c;a.def(m,"$to_json",c=function(){return this.$to_a().$to_json()},c.$$arity=0)})(K[0],K);(function(m,$super,c){m=d(m,$super,"Array");[m].concat(c);var l;return(a.def(m,"$to_json",l=function(){for(var H=[],e=0,n=this.length;e<n;e++)H.push(this[e].$to_json());return"["+H.join(", ")+"]"},l.$$arity=0),t)&&"to_json"})(K[0],null,K);(function(m,
$super,c){m=d(m,$super,"Boolean");[m].concat(c);var l;return(a.def(m,"$to_json",l=function(){return 1==this?"true":"false"},l.$$arity=0),t)&&"to_json"})(K[0],null,K);(function(m,$super,c){m=d(m,$super,"Hash");[m].concat(c);var l;return(a.def(m,"$to_json",l=function(){for(var H=[],e=0,n=this.$$keys,J=n.length,D,R;e<J;e++)D=n[e],D.$$is_string?R=this.$$smap[D]:(R=D.value,D=D.key),H.push(D.$to_s().$to_json()+":"+R.$to_json());return"{"+H.join(", ")+"}"},l.$$arity=0),t)&&"to_json"})(K[0],null,K);(function(m,
$super,c){m=d(m,$super,"NilClass");[m].concat(c);var l;return(a.def(m,"$to_json",l=function(){return"null"},l.$$arity=0),t)&&"to_json"})(K[0],null,K);(function(m,$super,c){m=d(m,$super,"Numeric");[m].concat(c);var l;return(a.def(m,"$to_json",l=function(){return this.toString()},l.$$arity=0),t)&&"to_json"})(K[0],null,K);(function(m,$super,c){m=d(m,$super,"String");[m].concat(c);return a.alias(m,"to_json","inspect")})(K[0],null,K);(function(m,$super,c){m=d(m,$super,"Time");[m].concat(c);var l;return(a.def(m,
"$to_json",l=function(){return this.$strftime("%FT%T%z").$to_json()},l.$$arity=0),t)&&"to_json"})(K[0],null,K);return function(m,$super,c){m=d(m,$super,"Date");[m].concat(c);var l,H;a.def(m,"$to_json",l=function(){return this.$to_s().$to_json()},l.$$arity=0);return(a.def(m,"$as_json",H=function(){return this.$to_s()},H.$$arity=0),t)&&"as_json"}(K[0],null,K)})(Opal);
Opal.modules.json=function(a){function y(m,u){return"number"===typeof m&&"number"===typeof u?m-u:m["$-"](u)}var K=[],t=a.nil,w=a.$$$,A=a.$$,p=a.module,d=a.klass,G=a.send,x=a.hash2,k=a.truthy;a.add_stubs("$raise $new $push $[]= $- $[] $create_id $json_create $const_get $attr_accessor $create_id= $=== $parse $generate $from_object $merge $to_json $responds_to? $to_io $write $to_s $to_a $strftime".split(" "));(function(m,u){function c(f){try{return JSON.parse(f)}catch(q){H.$raise(w(A(e,"JSON"),"ParserError"),
q.message)}}function l(f,q){var z;switch(typeof f){case "string":return f;case "number":return f;case "boolean":return!!f;case "null":return t;case "object":if(!f)return t;if(f.$$is_array){var E=q.array_class.$new();var F=0;for(z=f.length;F<z;F++)E.$push(l(f[F],q));return E}F=q.object_class.$new();for(z in f)h.call(f,z)&&(b=[z,l(f[z],q)],G(F,"[]=",a.to_a(b)),b[y(b.length,1)]);return q.parse||(E=F["$[]"](A(e,"JSON").$create_id()))==t?F:w("::","Object").$const_get(E).$json_create(F)}}var H=p(m,"JSON"),
e=[H].concat(u),n,J,D,R,ia,ea,ma,b=t;(function(f,$super,z){[d(f,$super,"JSONError")].concat(z);return t})(e[0],A(e,"StandardError"),e);(function(f,$super,z){[d(f,$super,"ParserError")].concat(z);return t})(e[0],A(e,"JSONError"),e);var h=a.hasOwnProperty;(function(f,q){[f].concat(q);return f.$attr_accessor("create_id")})(a.get_singleton_class(H),e);b=["json_class"];G(H,"create_id=",a.to_a(b));b[y(b.length,1)];a.defs(H,"$[]",n=function(f,q){null==q&&(q=x([],{}));return k(A(e,"String")["$==="](f))?this.$parse(f,
q):this.$generate(f,q)},n.$$arity=-2);a.defs(H,"$parse",J=function(f,q){null==q&&(q=x([],{}));return this.$from_object(c(f),q.$merge(x(["parse"],{parse:!0})))},J.$$arity=-2);a.defs(H,"$parse!",D=function(f,q){null==q&&(q=x([],{}));return this.$parse(f,q)},D.$$arity=-2);a.defs(H,"$load",R=function(f,q){null==q&&(q=x([],{}));return this.$from_object(c(f),q)},R.$$arity=-2);a.defs(H,"$from_object",ia=function(f,q){var z;null==q&&(q=x([],{}));k(z=q["$[]"]("object_class"))?z:(z=["object_class",A(e,"Hash")],
G(q,"[]=",a.to_a(z)),z[y(z.length,1)]);k(z=q["$[]"]("array_class"))?z:(z=["array_class",A(e,"Array")],G(q,"[]=",a.to_a(z)),z[y(z.length,1)]);return l(f,q.$$smap)},ia.$$arity=-2);a.defs(H,"$generate",ea=function(f,q){null==q&&(q=x([],{}));return f.$to_json(q)},ea.$$arity=-2);a.defs(H,"$dump",ma=function(f,q){null==q&&(q=t);f=this.$generate(f);return k(q)?(k(q["$responds_to?"]("to_io"))&&(q=q.$to_io()),q.$write(f),q):f},ma.$$arity=-2)})(K[0],K);(function(m,$super,c){m=d(m,$super,"Object");[m].concat(c);
var l;return(a.def(m,"$to_json",l=function(){return this.$to_s().$to_json()},l.$$arity=0),t)&&"to_json"})(K[0],null,K);(function(m,u){m=p(m,"Enumerable");[m].concat(u);var c;a.def(m,"$to_json",c=function(){return this.$to_a().$to_json()},c.$$arity=0)})(K[0],K);(function(m,$super,c){m=d(m,$super,"Array");[m].concat(c);var l;return(a.def(m,"$to_json",l=function(){for(var H=[],e=0,n=this.length;e<n;e++)H.push(this[e].$to_json());return"["+H.join(", ")+"]"},l.$$arity=0),t)&&"to_json"})(K[0],null,K);(function(m,
$super,c){m=d(m,$super,"Boolean");[m].concat(c);var l;return(a.def(m,"$to_json",l=function(){return 1==this?"true":"false"},l.$$arity=0),t)&&"to_json"})(K[0],null,K);(function(m,$super,c){m=d(m,$super,"Hash");[m].concat(c);var l;return(a.def(m,"$to_json",l=function(){for(var H=[],e=0,n=this.$$keys,J=n.length,D,R;e<J;e++)D=n[e],D.$$is_string?R=this.$$smap[D]:(R=D.value,D=D.key),H.push(D.$to_s().$to_json()+":"+R.$to_json());return"{"+H.join(", ")+"}"},l.$$arity=0),t)&&"to_json"})(K[0],null,K);(function(m,
$super,c){m=d(m,$super,"NilClass");[m].concat(c);var l;return(a.def(m,"$to_json",l=function(){return"null"},l.$$arity=0),t)&&"to_json"})(K[0],null,K);(function(m,$super,c){m=d(m,$super,"Numeric");[m].concat(c);var l;return(a.def(m,"$to_json",l=function(){return this.toString()},l.$$arity=0),t)&&"to_json"})(K[0],null,K);(function(m,$super,c){m=d(m,$super,"String");[m].concat(c);return a.alias(m,"to_json","inspect")})(K[0],null,K);(function(m,$super,c){m=d(m,$super,"Time");[m].concat(c);var l;return(a.def(m,
"$to_json",l=function(){return this.$strftime("%FT%T%z").$to_json()},l.$$arity=0),t)&&"to_json"})(K[0],null,K);return function(m,$super,c){m=d(m,$super,"Date");[m].concat(c);var l,H;a.def(m,"$to_json",l=function(){return this.$to_s().$to_json()},l.$$arity=0);return(a.def(m,"$as_json",H=function(){return this.$to_s()},H.$$arity=0),t)&&"as_json"}(K[0],null,K)};
Opal.modules.date=function(a){function y(u,c){return"number"===typeof u&&"number"===typeof c?u+c:u["$+"](c)}function K(u,c){return"number"===typeof u&&"number"===typeof c?u-c:u["$-"](c)}function t(u,c){return"number"===typeof u&&"number"===typeof c?u<c:u["$<"](c)}var w=[],A=a.nil,p=a.$$$,d=a.$$,G=a.klass,x=a.send2,k=a.truthy,m=a.send;a.add_stubs("$include $<=> $attr_reader $nonzero? $d $zero? $new $class $-@ $+@ $=== $coerce $== $> $+ $allocate $join $compact $map $to_proc $downcase $wrap $raise $clone $jd $>> $wday $year $month $day $- $to_s $to_i $< $* $reverse $step $abs $each".split(" "));
return function(u,$super,l){function H(W,ya){return[31,0===W%4&&0!==W%100||0===W%400?29:28,31,30,31,30,31,31,30,31,30,31][ya]}u=G(u,$super,"Date");var e=[u].concat(l),n,J,D,R,ia,ea,ma,b,h,f,q,z,E,F,L,ca,va,Oa,wa,Ba,Ka,oa,S,ta,ja,na,V,Q,Y,pa,za,la,xa,Ea,Fa,Sa,Ra,Na,Qa,lb;u.$$prototype.date=A;u.$include(d(e,"Comparable"));(function(W,$super,Da){W=G(W,$super,"Infinity");var Va=[W].concat(Da),ib,db,$a,ab,Aa,ua,La,Ta,Ya,Ga,Z;W.$$prototype.d=A;W.$include(d(Va,"Comparable"));a.def(W,"$initialize",ib=function(P){null==
P&&(P=1);return this.d=P["$<=>"](0)},ib.$$arity=-1);W.$attr_reader("d");a.def(W,"$zero?",db=function(){return!1},db.$$arity=0);a.def(W,"$finite?",$a=function(){return!1},$a.$$arity=0);a.def(W,"$infinite?",ab=function(){return this.$d()["$nonzero?"]()},ab.$$arity=0);a.def(W,"$nan?",Aa=function(){return this.$d()["$zero?"]()},Aa.$$arity=0);a.def(W,"$abs",ua=function(){return this.$class().$new()},ua.$$arity=0);a.def(W,"$-@",La=function(){return this.$class().$new(this.$d()["$-@"]())},La.$$arity=0);
a.def(W,"$+@",Ta=function(){return this.$class().$new(this.$d()["$+@"]())},Ta.$$arity=0);a.def(W,"$<=>",Ya=function(P){var aa,T,fa=this,ka=A,g=A,C=A;return function(){ka=P;if(d(Va,"Infinity")["$==="](ka))return fa.$d()["$<=>"](P.$d());if(d(Va,"Numeric")["$==="](ka))return fa.$d();try{return T=P.$coerce(fa),aa=a.to_ary(T),g=null==aa[0]?A:aa[0],C=null==aa[1]?A:aa[1],T,g["$<=>"](C)}catch(M){if(a.rescue(M,[d(Va,"NoMethodError")]))try{return A}finally{a.pop_exception()}else throw M;}}()},Ya.$$arity=1);
a.def(W,"$coerce",Ga=function(P){var aa=Ga.$$p,T;aa&&(Ga.$$p=null);var fa=0;var ka=arguments.length;for(T=Array(ka);fa<ka;fa++)T[fa]=arguments[fa];aa=d(Va,"Numeric")["$==="](P)?[this.$d()["$-@"](),this.$d()]:x(this,a.find_super_dispatcher(this,"coerce",Ga,!1,!0),"coerce",T,aa);return aa},Ga.$$arity=1);return(a.def(W,"$to_f",Z=function(){if(this.d["$=="](0))return 0;var P=this.d;P="number"===typeof P?0<P:P["$>"](0);return k(P)?p(d(Va,"Float"),"INFINITY"):p(d(Va,"Float"),"INFINITY")["$-@"]()},Z.$$arity=
0),A)&&"to_f"})(e[0],d(e,"Numeric"),e);a.const_set(e[0],"JULIAN",d(e,"Infinity").$new());a.const_set(e[0],"GREGORIAN",d(e,"Infinity").$new()["$-@"]());a.const_set(e[0],"ITALY",2299161);a.const_set(e[0],"ENGLAND",2361222);a.const_set(e[0],"MONTHNAMES",y([A],"January February March April May June July August September October November December".split(" ")));a.const_set(e[0],"ABBR_MONTHNAMES","jan feb mar apr may jun jul aug sep oct nov dec".split(" "));a.const_set(e[0],"DAYNAMES","Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "));
a.const_set(e[0],"ABBR_DAYNAMES","Sun Mon Tue Wed Thu Fri Sat".split(" "));(function(W,ya){var Da=[W].concat(ya),Va,ib,db,$a;a.alias(W,"civil","new");a.def(W,"$wrap",Va=function(ab){var Aa=this.$allocate();Aa.date=ab;return Aa},Va.$$arity=1);a.def(W,"$parse",ib=function(ab,Aa){function ua(ba){return ba[1]}function La(ba){return ba[2]}function Ta(ba){return ba[3]}function Ya(ba){return ba[4]}function Ga(ba){return function(v){v=ba(v);return 69<=v?v+1900:v+2E3}}function Z(ba){return function(v){v=ba(v).toLowerCase();
return d(Da,"ABBR_MONTHNAMES").indexOf(v)+1}}function P(ba){return function(v){v=ba(v);return parseInt(v,10)}}function aa(ba){return function(v){v=ba(v);return m(d(Da,"MONTHNAMES").$compact(),"map",[],"downcase".$to_proc()).indexOf(v.$downcase())+1}}null==Aa&&(Aa=!0);var T=new Date,fa=T.getDate(),ka=T.getMonth(),g=T.getFullYear(),C=T.getDay();T=d(Da,"MONTHNAMES").$compact().$join("|");T=[{regexp:/^(\d{2})$/,year:g,month:ka,day:P(ua)},{regexp:/^(\d{3})$/,year:g,month:0,day:P(ua)},{regexp:/^(\d{2})(\d{2})$/,
year:g,month:P(ua),day:P(La)},{regexp:/^(\d{2})(\d{3})$/,year:Ga(P(ua)),month:0,day:P(La)},{regexp:/^(\d{2})(\d{2})(\d{2})$/,year:Ga(P(ua)),month:P(La),day:P(Ta)},{regexp:/^(\d{4})(\d{3})$/,year:P(ua),month:0,day:P(La)},{regexp:/^(\d{4})(\d{2})(\d{2})$/,year:P(ua),month:P(La),day:P(Ta)},{regexp:/^([a-z]{3})[\s\.\/\-](\d{3,4})$/,year:P(La),month:Z(ua),day:1},{regexp:/^(\d{1,2})[\s\.\/\-]([a-z]{3})[\s\.\/\-](\d{3,4})$/i,year:P(Ta),month:Z(La),day:P(ua)},{regexp:/^([a-z]{3})[\s\.\/\-](\d{1,2})[\s\.\/\-](\d{3,4})$/i,
year:P(Ta),month:Z(ua),day:P(La)},{regexp:/^(\d{3,4})[\s\.\/\-]([a-z]{3})[\s\.\/\-](\d{1,2})$/i,year:P(ua),month:Z(La),day:P(Ta)},{regexp:/^(\-?\d{3,4})[\s\.\/\-](\d{1,2})[\s\.\/\-](\d{1,2})$/,year:P(ua),month:P(La),day:P(Ta)},{regexp:/^(\d{2})[\s\.\/\-](\d{1,2})[\s\.\/\-](\d{1,2})$/,year:function(ba){return function(v){v=ba(v);return Aa?v+2E3:v}}(P(ua)),month:P(La),day:P(Ta)},{regexp:/^(\d{1,2})[\s\.\/\-](\d{1,2})[\s\.\/\-](\-?\d{3,4})$/,year:P(Ta),month:P(La),day:P(ua)},{regexp:new RegExp("^("+
d(Da,"DAYNAMES").$join("|")+")$","i"),year:g,month:ka,day:function(ba){return function(v){v=ba(v);v=m(d(Da,"DAYNAMES"),"map",[],"downcase".$to_proc()).indexOf(v.$downcase());return fa-C+v}}(ua)},{regexp:new RegExp("^("+T+")[\\s\\.\\/\\-](\\d{1,2})(th|nd|rd)[\\s\\.\\/\\-](\\-?\\d{3,4})$","i"),year:P(Ya),month:aa(ua),day:P(La)},{regexp:new RegExp("^("+T+")[\\s\\.\\/\\-](\\d{1,2})(th|nd|rd)","i"),year:g,month:aa(ua),day:P(La)},{regexp:new RegExp("^(\\d{1,2})(th|nd|rd)[\\s\\.\\/\\-]("+T+")[\\s\\.\\/\\-](\\-?\\d{3,4})$",
"i"),year:P(Ya),month:aa(Ta),day:P(ua)},{regexp:new RegExp("^(\\-?\\d{3,4})[\\s\\.\\/\\-]("+T+")[\\s\\.\\/\\-](\\d{1,2})(th|nd|rd)$","i"),year:P(ua),month:aa(La),day:P(Ta)}];var M;for(M=0;M<T.length;M++)if(g=T[M],ka=g.regexp.exec(ab))return ab=g.year,"function"===typeof ab&&(ab=ab(ka)),T=g.month,"function"===typeof T&&(T=T(ka)-1),g=g.day,"function"===typeof g&&(g=g(ka)),ka=new Date(ab,T,g),0<=ab&&1970>=ab&&ka.setFullYear(ab),this.$wrap(ka);return this.$raise(d(Da,"ArgumentError"),"invalid date")},
ib.$$arity=-2);a.def(W,"$today",db=function(){return this.$wrap(new Date)},db.$$arity=0);return(a.def(W,"$gregorian_leap?",$a=function(ab){return 0===(new Date(ab,1,29)).getMonth()-1},$a.$$arity=1),A)&&"gregorian_leap?"})(a.get_singleton_class(u),e);a.def(u,"$initialize",n=function(W,ya,Da,Va){null==W&&(W=-4712);null==ya&&(ya=1);null==Da&&(Da=1);null==Va&&d(e,"ITALY");1582===W&&10===ya&&4<Da&&15>Da&&(Da=4);return this.date=new Date(W,ya-1,Da)},n.$$arity=-1);a.def(u,"$-",J=function(W){if(W.$$is_number){var ya=
this.$clone();ya.date.setDate(this.date.getDate()-W);return ya}if(W.date)return Math.round((this.date-W.date)/864E5);this.$raise(d(e,"TypeError"))},J.$$arity=1);a.def(u,"$+",D=function(W){if(W.$$is_number){var ya=this.$clone();ya.date.setDate(this.date.getDate()+W);return ya}this.$raise(d(e,"TypeError"))},D.$$arity=1);a.def(u,"$<",R=function(W){var ya=this.date;W=W.date;ya.setHours(0,0,0,0);W.setHours(0,0,0,0);return ya<W},R.$$arity=1);a.def(u,"$<=",ia=function(W){var ya=this.date;W=W.date;ya.setHours(0,
0,0,0);W.setHours(0,0,0,0);return ya<=W},ia.$$arity=1);a.def(u,"$>",ea=function(W){var ya=this.date;W=W.date;ya.setHours(0,0,0,0);W.setHours(0,0,0,0);return ya>W},ea.$$arity=1);a.def(u,"$>=",ma=function(W){var ya=this.date;W=W.date;ya.setHours(0,0,0,0);W.setHours(0,0,0,0);return ya>=W},ma.$$arity=1);a.def(u,"$<=>",b=function(W){if(W.$$is_number)return this.$jd()["$<=>"](W);if(d(e,"Date")["$==="](W)){var ya=this.date;W=W.date;ya.setHours(0,0,0,0);W.setHours(0,0,0,0);return ya<W?-1:ya>W?1:0}return A},
b.$$arity=1);a.def(u,"$>>",h=function(W){W.$$is_number||this.$raise(d(e,"TypeError"));var ya=this.$clone(),Da=ya.date,Va=Da.getDate();Da.setDate(1);Da.setMonth(Da.getMonth()+W);Da.setDate(Math.min(Va,H(Da.getFullYear(),Da.getMonth())));return ya},h.$$arity=1);a.def(u,"$<<",f=function(W){W.$$is_number||this.$raise(d(e,"TypeError"));return this["$>>"](-W)},f.$$arity=1);a.alias(u,"eql?","==");a.def(u,"$clone",q=function(){return d(e,"Date").$wrap(new Date(this.date.getTime()))},q.$$arity=0);a.def(u,
"$day",z=function(){return this.date.getDate()},z.$$arity=0);a.def(u,"$friday?",E=function(){return this.$wday()["$=="](5)},E.$$arity=0);a.def(u,"$jd",F=function(){var W=this.date.getMonth()+1,ya=this.date.getDate(),Da=this.date.getFullYear();var Va=1;1585>=Da&&(Va=0);var ib=-1*Math.floor(7*(Math.floor((W+9)/12)+Da)/4);var db=1;0>W-9&&(db=-1);db=Math.floor(Da+db*Math.floor(Math.abs(W-9)/7));db=-1*Math.floor(3*(Math.floor(db/100)+1)/4);ib=ib+Math.floor(275*W/9)+ya+Va*db;return ib+1721027+2*Va+367*
Da-.5+.5},F.$$arity=0);a.def(u,"$julian?",L=function(){return this.date<new Date(1582,9,15,12)},L.$$arity=0);a.def(u,"$monday?",ca=function(){return this.$wday()["$=="](1)},ca.$$arity=0);a.def(u,"$month",va=function(){return this.date.getMonth()+1},va.$$arity=0);a.def(u,"$next",Oa=function(){return y(this,1)},Oa.$$arity=0);a.def(u,"$next_day",wa=function(W){null==W&&(W=1);return y(this,W)},wa.$$arity=-1);a.def(u,"$next_month",Ba=function(W){null==W&&(W=1);var ya=this.$clone(),Da=ya.date,Va=Da.getDate();
Da.setDate(1);Da.setMonth(Da.getMonth()+W);Da.setDate(Math.min(Va,H(Da.getFullYear(),Da.getMonth())));return ya},Ba.$$arity=-1);a.def(u,"$next_year",Ka=function(W){null==W&&(W=1);return this.$class().$new(y(this.$year(),W),this.$month(),this.$day())},Ka.$$arity=-1);a.def(u,"$prev_day",oa=function(W){null==W&&(W=1);return K(this,W)},oa.$$arity=-1);a.def(u,"$prev_month",S=function(W){null==W&&(W=1);var ya=this.$clone(),Da=ya.date,Va=Da.getDate();Da.setDate(1);Da.setMonth(Da.getMonth()-W);Da.setDate(Math.min(Va,
H(Da.getFullYear(),Da.getMonth())));return ya},S.$$arity=-1);a.def(u,"$prev_year",ta=function(W){null==W&&(W=1);return this.$class().$new(K(this.$year(),W),this.$month(),this.$day())},ta.$$arity=-1);a.def(u,"$saturday?",ja=function(){return this.$wday()["$=="](6)},ja.$$arity=0);a.def(u,"$strftime",na=function(W){null==W&&(W="");return""==W?this.$to_s():this.date.$strftime(W)},na.$$arity=-1);a.alias(u,"succ","next");a.def(u,"$sunday?",V=function(){return this.$wday()["$=="](0)},V.$$arity=0);a.def(u,
"$thursday?",Q=function(){return this.$wday()["$=="](4)},Q.$$arity=0);a.def(u,"$to_s",Y=function(){var W=this.date,ya=W.getFullYear(),Da=W.getMonth()+1;W=W.getDate();10>Da&&(Da="0"+Da);10>W&&(W="0"+W);return ya+"-"+Da+"-"+W},Y.$$arity=0);a.def(u,"$to_time",pa=function(){return d(e,"Time").$new(this.$year(),this.$month(),this.$day())},pa.$$arity=0);a.def(u,"$to_n",za=function(){return this.date},za.$$arity=0);a.def(u,"$tuesday?",la=function(){return this.$wday()["$=="](2)},la.$$arity=0);a.def(u,"$step",
xa=function(W,ya){var Da=xa.$$p,Va=Da||A,ib,db,$a=A;$a=$a=A;Da&&(xa.$$p=null);Da&&(xa.$$p=null);null==ya&&(ya=1);$a=K(W,this).$to_i();$a=k(t("number"===typeof $a&&"number"===typeof ya?$a*ya:$a["$*"](ya),0))?[]:k(t($a,0))?m(a.Range.$new(0,$a["$-@"](),!1).$step(ya.$abs()),"map",[],"-@".$to_proc()).$reverse():a.Range.$new(0,$a,!1).$step(ya.$abs());$a=m($a,"map",[],(ib=function(ab){var Aa=null==ib.$$s?this:ib.$$s;null==ab&&(ab=A);return y(Aa,ab)},ib.$$s=this,ib.$$arity=1,ib));return Va!==A?(m($a,"each",
[],(db=function(ab){null==ab&&(ab=A);return a.yield1(Va,ab)},db.$$s=this,db.$$arity=1,db)),this):$a},xa.$$arity=-2);a.def(u,"$upto",Ea=function(W){var ya=Ea.$$p,Da=ya||A;ya&&(Ea.$$p=null);ya&&(Ea.$$p=null);return m(this,"step",[W,1],Da.$to_proc())},Ea.$$arity=1);a.def(u,"$downto",Fa=function(W){var ya=Fa.$$p,Da=ya||A;ya&&(Fa.$$p=null);ya&&(Fa.$$p=null);return m(this,"step",[W,-1],Da.$to_proc())},Fa.$$arity=1);a.def(u,"$wday",Sa=function(){return this.date.getDay()},Sa.$$arity=0);a.def(u,"$wednesday?",
Ra=function(){return this.$wday()["$=="](3)},Ra.$$arity=0);a.def(u,"$year",Na=function(){return this.date.getFullYear()},Na.$$arity=0);a.def(u,"$cwday",Qa=function(){return this.date.getDay()||7},Qa.$$arity=0);a.def(u,"$cweek",lb=function(){var W=new Date(this.date);W.setHours(0,0,0);W.setDate(W.getDate()+4-(W.getDay()||7));return Math.ceil(((W-new Date(W.getFullYear(),0,1))/864E5+1)/7)},lb.$$arity=0)}(w[0],null,w)};
(function(a){function y(H,e){return"number"===typeof H&&"number"===typeof e?H+e:H["$+"](e)}function K(H,e){return"number"===typeof H&&"number"===typeof e?H>e:H["$>"](e)}function t(H,e){return"number"===typeof H&&"number"===typeof e?H<e:H["$<"](e)}function w(H,e){return"number"===typeof H&&"number"===typeof e?H-e:H["$-"](e)}var A=a.top,p=[],d=a.nil,G=a.$$$,x=a.$$,k=a.klass,m=a.hash2,u=a.truthy,c=a.range,l=a.send;a.add_stubs("$require $setup $first $[] $=== $nil? $empty? $raise $+ $add $join $> $length $change_state $to_i $list $< $set_priority $due_date $append $rename $!= $delete $add_note $delete_note $show $puts $usage $cleanup $colorize $private $keys $map $select $parse $strftime $today $downcase $lambda $match $== $! $each $split $strip $chomp $[]= $- $has_key? $sort $generate $gsub $convert_due_date $postprocess_tags $load_tasks $call $write_tasks $update_task $push $max $size $to_s $filter_tasks $sort_by $start_with? $abs $rjust $kind_of? $to_a $index $execute $new".split(" "));
A.$require("json");A.$require("date");(function(H,$super,n){H=k(H,$super,"Todo");var J=[H].concat(n),D,R,ia,ea,ma,b,h,f,q,z,E,F,L,ca,va,Oa,wa,Ba,Ka,oa,S,ta;H.$$prototype.queries=H.$$prototype.today=H.$$prototype.due_date_days=d;a.const_set(J[0],"COLOR_CODES",m("black red green yellow blue magenta cyan white".split(" "),{black:30,red:31,green:32,yellow:33,blue:34,magenta:35,cyan:36,white:37}));a.const_set(J[0],"STATES",m(["new","done","started","blocked","default"],{"new":"[ ]",done:"[x]",started:"[>]",
blocked:"[!]","default":"[?]"}));a.const_set(J[0],"ORDER",m(["new","done","started","blocked","default"],{"new":3,done:4,started:2,blocked:1,"default":100}));a.const_set(J[0],"COLORS",m(["new","done","started","blocked","default"],{"new":"white",done:"blue",started:"green",blocked:"yellow","default":"magenta"}));a.const_set(J[0],"DATE_FORMAT","%Y-%m-%d");a.const_set(J[0],"DUE_DATE_DAYS_SIMPLE",["today","tomorrow"]);a.const_set(J[0],"DUE_DATE_TAG_PATTERN",/(^| )due:([a-zA-Z0-9-]+)/);a.const_set(J[0],
"CONTEXT_TAG_PATTERN",/(^| )[@+][\w-]+/);a.const_set(J[0],"PRIORITY_FLAG","*");a.const_set(J[0],"TODO_FILE",require("path").join(require("os").homedir(),"/todo.jsonl"));a.def(H,"$execute",D=function(ja){var na=d,V=d,Q=d,Y=d,pa=d,za=d,la=d,xa=d,Ea=d,Fa=d,Sa=d,Ra=d;try{this.$setup(),na=ja.$first(),V=u(Q=ja["$[]"](c(1,-1,!1)))?Q:[],Y=na,"add"["$==="](Y)?(u(u(pa=V["$nil?"]())?pa:V["$empty?"]())&&this.$raise(y(na," command requires at least one parameter")),this.$add(V.$join(" "))):"start"["$==="](Y)?
u(K(V.$length(),0))?this.$change_state(V.$first().$to_i(),"started",(u(za=V["$[]"](c(1,-1,!1)))?za:[]).$join(" ")):this.$list(d,[":started"]):"done"["$==="](Y)?u(K(V.$length(),0))?this.$change_state(V.$first().$to_i(),"done",(u(la=V["$[]"](c(1,-1,!1)))?la:[]).$join(" ")):this.$list(d,[":done"]):"block"["$==="](Y)?u(K(V.$length(),0))?this.$change_state(V.$first().$to_i(),"blocked",(u(xa=V["$[]"](c(1,-1,!1)))?xa:[]).$join(" ")):this.$list(d,[":blocked"]):"reset"["$==="](Y)?u(K(V.$length(),0))?this.$change_state(V.$first().$to_i(),
"new",(u(Ea=V["$[]"](c(1,-1,!1)))?Ea:[]).$join(" ")):this.$list(d,[":new"]):"prio"["$==="](Y)?(u(t(V.$length(),1))&&this.$raise(y(na," command requires at least one parameter")),this.$set_priority(V.$first().$to_i(),(u(Fa=V["$[]"](c(1,-1,!1)))?Fa:[]).$join(" "))):"due"["$==="](Y)?(u(t(V.$length(),1))&&this.$raise(y(na," command requires at least one parameter")),this.$due_date(V.$first().$to_i(),(u(Sa=V["$[]"](c(1,-1,!1)))?Sa:[]).$join(" "))):"append"["$==="](Y)?(u(t(V.$length(),2))&&this.$raise(y(na,
" command requires at least two parameters")),this.$append(V.$first().$to_i(),V["$[]"](c(1,-1,!1)).$join(" "))):"rename"["$==="](Y)?(u(t(V.$length(),2))&&this.$raise(y(na," command requires at least two parameters")),this.$rename(V.$first().$to_i(),V["$[]"](c(1,-1,!1)).$join(" "))):"del"["$==="](Y)?(u(V.$length()["$!="](1))&&this.$raise(y(na," command requires exactly one parameter")),this.$delete(V.$first().$to_i())):"note"["$==="](Y)?(u(t(V.$length(),2))&&this.$raise(y(na," command requires at least two parameters")),
this.$add_note(V.$first().$to_i(),V["$[]"](c(1,-1,!1)).$join(" "))):"delnote"["$==="](Y)?(u(V.$length()["$!="](1))&&this.$raise(y(na," command requires exactly one parameter")),this.$delete_note(V.$first().$to_i())):"list"["$==="](Y)?this.$list(d,V):"show"["$==="](Y)?(u(V.$length()["$!="](1))&&this.$raise(y(na," command requires exactly one parameter")),this.$show(V.$first().$to_i())):"help"["$==="](Y)?(u(K(V.$length(),0))&&this.$raise(y(na," command has no parameters")),this.$puts(this.$usage())):
"cleanup"["$==="](Y)?(u(u(Ra=V["$nil?"]())?Ra:V["$empty?"]())&&this.$raise(y(na," command requires at least one parameter")),this.$cleanup(V)):this.$list(d,ja)}catch(Na){if(a.rescue(Na,[G(x(J,"JS"),"Error"),x(J,"RuntimeError")])){ja=Na;try{this.$puts(""+this.$colorize("ERROR:","red")+" "+ja)}finally{a.pop_exception()}}else throw Na;}return this},D.$$arity=1);H.$private();a.def(H,"$usage",R=function(){var ja,na;return"Usage: todo <command> <arguments>\n\nCommands:\n* add <text>                     add new task\n* start <tasknumber> [text]      mark task as started, with optional note\n* done <tasknumber> [text]       mark task as completed, with optional note\n* block <tasknumber> [text]      mark task as blocked, with optional note\n* reset <tasknumber> [text]      reset task to new state, with optional note\n* prio <tasknumber> [text]       toggle high priority flag, with optional note\n* due <tasknumber> [date]        set/unset due date (in YYYY-MM-DD format)\n\n* append <tasknumber> <text>     append text to task title\n* rename <tasknumber> <text>     rename task\n* del <tasknumber>               delete task\n* note <tasknumber> <text>       add note to task\n* delnote <tasknumber>           delete all notes from task\n\n* list <regex> [regex...]        list tasks (only active tasks by default)\n* show <tasknumber>              show all task details\n* cleanup <regex> [regex...]     cleanup completed tasks by regex\n* help                           this help screen\n\nWith list command the following pre-defined regex patterns can be also used:\n"+
this.queries.$keys().$join(", ")+'\n\nDue dates can be also added via tags in task title: "due:YYYY-MM-DD"\n\nLegend:\n'+l(l(x(J,"STATES"),"select",[],(ja=function(V){null==V&&(V=d);return V["$!="]("default")},ja.$$s=this,ja.$$arity=2,ja)),"map",[],(na=function(V,Q){null==V&&(V=d);null==Q&&(Q=d);return""+V+" "+Q},na.$$s=this,na.$$arity=2,na)).$join(", ")+", priority "+x(J,"PRIORITY_FLAG")+"\n\nTodo file: "+x(J,"TODO_FILE")+"\n"},R.$$arity=0);a.def(H,"$setup",ia=function(){var ja,na,V,Q,Y,pa,za,la,
xa,Ea,Fa,Sa,Ra=d,Na=d;this.today=x(J,"Date").$parse(x(J,"Date").$today().$strftime(x(J,"DATE_FORMAT")));Ra=l(c(0,6,!1),"map",[],(ja=function(Qa){var lb=null==ja.$$s?this:ja.$$s;null==lb.today&&(lb.today=d);null==Qa&&(Qa=d);return y(lb.today,Qa)},ja.$$s=this,ja.$$arity=1,ja));this.due_date_days=l(Ra,"map",[],(na=function(Qa){null==Qa&&(Qa=d);return Qa.$strftime("%A").$downcase()},na.$$s=this,na.$$arity=1,na));Na=l(Ra,"map",[],(V=function(Qa){null==Qa&&(Qa=d);return Qa.$strftime(x(J,"DATE_FORMAT"))},
V.$$s=this,V.$$arity=1,V));return this.queries=m(":active :done :blocked :started :new :all :today :tomorrow :next7days".split(" "),{":active":l(this,"lambda",[],(Q=function(Qa){null==Qa&&(Qa=d);return/(new|started|blocked)/.$match(Qa["$[]"]("state"))},Q.$$s=this,Q.$$arity=1,Q)),":done":l(this,"lambda",[],(Y=function(Qa){null==Qa&&(Qa=d);return"done"["$=="](Qa["$[]"]("state"))},Y.$$s=this,Y.$$arity=1,Y)),":blocked":l(this,"lambda",[],(pa=function(Qa){null==Qa&&(Qa=d);return"blocked"["$=="](Qa["$[]"]("state"))},
pa.$$s=this,pa.$$arity=1,pa)),":started":l(this,"lambda",[],(za=function(Qa){null==Qa&&(Qa=d);return"started"["$=="](Qa["$[]"]("state"))},za.$$s=this,za.$$arity=1,za)),":new":l(this,"lambda",[],(la=function(Qa){null==Qa&&(Qa=d);return"new"["$=="](Qa["$[]"]("state"))},la.$$s=this,la.$$arity=1,la)),":all":l(this,"lambda",[],(xa=function(Qa){null==Qa&&(Qa=d);return/\w+/.$match(Qa["$[]"]("state"))},xa.$$s=this,xa.$$arity=1,xa)),":today":l(this,"lambda",[],(Ea=function(Qa){null==Qa&&(Qa=d);return Na["$[]"](0)["$=="](Qa["$[]"]("due"))},
Ea.$$s=this,Ea.$$arity=1,Ea)),":tomorrow":l(this,"lambda",[],(Fa=function(Qa){null==Qa&&(Qa=d);return Na["$[]"](1)["$=="](Qa["$[]"]("due"))},Fa.$$s=this,Fa.$$arity=1,Fa)),":next7days":l(this,"lambda",[],(Sa=function(Qa){null==Qa&&(Qa=d);return a.regexp(["(",Na.$join("|"),")"]).$match(Qa["$[]"]("due"))},Sa.$$s=this,Sa.$$arity=1,Sa))})},ia.$$arity=0);a.def(H,"$load_tasks",ea=function(ja){var na,V=d,Q=d,Y=d,pa=d;null==ja&&(ja=d);V=0;Q=m([],{});try{Y=require("fs").readFileSync(x(J,"TODO_FILE"),"utf8")}catch(za){Y=
""}u(Y["$empty?"]()["$!"]())&&l(Y.$split("\n"),"each",[],(na=function(za){null==za&&(za=d);if(za.$strip()["$=="](""))return d;V=y(V,1);za=[V,x(J,"JSON").$parse(za.$chomp(),m(["symbolize_names"],{symbolize_names:!0}))];l(Q,"[]=",a.to_a(za));return za[w(za.length,1)]},na.$$s=this,na.$$arity=1,na));u(u(pa=ja)?Q["$has_key?"](ja)["$!"]():pa)&&this.$raise(""+ja+": No such todo");return Q},ea.$$arity=-1);a.def(H,"$write_tasks",ma=function(ja){var na,V=d;V=y(l(ja.$keys().$sort(),"map",[],(na=function(Q){null==
Q&&(Q=d);return x(J,"JSON").$generate(ja["$[]"](Q))},na.$$s=this,na.$$arity=1,na)).$join("\n"),"\n");return require("fs").writeFileSync(x(J,"TODO_FILE"),V,{encoding:"utf8"})},ma.$$arity=1);a.def(H,"$postprocess_tags",b=function(ja){var na=ja["$[]"]("title").$match(x(J,"DUE_DATE_TAG_PATTERN"));if(u(na)){var V=["title",ja["$[]"]("title").$gsub(x(J,"DUE_DATE_TAG_PATTERN"),"")];l(ja,"[]=",a.to_a(V));V[w(V.length,1)];V=["due",this.$convert_due_date(na["$[]"](2))];l(ja,"[]=",a.to_a(V));V[w(V.length,1)]}return u(ja["$[]"]("title")["$empty?"]())?
this.$raise("title must not be empty"):d},b.$$arity=1);a.def(H,"$add",h=function(ja){ja=m(["state","title","modified"],{state:"new",title:ja,modified:this.today.$strftime(x(J,"DATE_FORMAT"))});this.$postprocess_tags(ja);try{var na=require("fs").readFileSync(x(J,"TODO_FILE"),"utf8")}catch(V){na=""}na+=x(J,"JSON").$generate(ja)+"\n";require("fs").writeFileSync(x(J,"TODO_FILE"),na,{encoding:"utf8"});return this.$list()},h.$$arity=1);a.def(H,"$update_task",f=function(ja,na,V){var Q=this.$load_tasks(ja);
V.$call(Q["$[]"](ja));V=["modified",this.today.$strftime(x(J,"DATE_FORMAT"))];l(Q["$[]"](ja),"[]=",a.to_a(V));V[w(V.length,1)];this.$write_tasks(Q);return"show"["$==="](na)?this.$show(ja,Q):"list"["$==="](na)?this.$list(Q):d},f.$$arity=3);a.def(H,"$append",q=function(ja,na){var V;null==na&&(na="");return this.$update_task(ja,"list",l(this,"lambda",[],(V=function(Q){var Y=null==V.$$s?this:V.$$s;null==Q&&(Q=d);var pa=["title",[Q["$[]"]("title"),na].$join(" ")];l(Q,"[]=",a.to_a(pa));pa[w(pa.length,1)];
return Y.$postprocess_tags(Q)},V.$$s=this,V.$$arity=1,V)))},q.$$arity=-2);a.def(H,"$rename",z=function(ja,na){var V;return this.$update_task(ja,"list",l(this,"lambda",[],(V=function(Q){var Y=null==V.$$s?this:V.$$s;null==Q&&(Q=d);var pa=["title",na];l(Q,"[]=",a.to_a(pa));pa[w(pa.length,1)];return Y.$postprocess_tags(Q)},V.$$s=this,V.$$arity=1,V)))},z.$$arity=2);a.def(H,"$delete",E=function(ja){var na=this.$load_tasks(ja);na.$delete(ja);this.$write_tasks(na);return this.$list()},E.$$arity=1);a.def(H,
"$change_state",F=function(ja,na,V){var Q;null==V&&(V=d);return this.$update_task(ja,"list",l(this,"lambda",[],(Q=function(Y){var pa=d;null==Y&&(Y=d);var za=["state",na];l(Y,"[]=",a.to_a(za));za[w(za.length,1)];return u(u(pa=V["$nil?"]()["$!"]())?V["$empty?"]()["$!"]():pa)?(u(za=Y["$[]"]("note"))?za:(za=["note",[]],l(Y,"[]=",a.to_a(za)),za[w(za.length,1)]),Y["$[]"]("note").$push(V)):d},Q.$$s=this,Q.$$arity=1,Q)))},F.$$arity=-3);a.def(H,"$set_priority",L=function(ja,na){var V;null==na&&(na=d);return this.$update_task(ja,
"list",l(this,"lambda",[],(V=function(Q){var Y=d;null==Q&&(Q=d);var pa=["priority",Q["$[]"]("priority")["$!"]()];l(Q,"[]=",a.to_a(pa));pa[w(pa.length,1)];u(Q["$[]"]("priority")["$!"]())&&Q.$delete("priority");return u(u(Y=na["$nil?"]()["$!"]())?na["$empty?"]()["$!"]():Y)?(u(pa=Q["$[]"]("note"))?pa:(pa=["note",[]],l(Q,"[]=",a.to_a(pa)),pa[w(pa.length,1)]),Q["$[]"]("note").$push(na)):d},V.$$s=this,V.$$arity=1,V)))},L.$$arity=-2);a.def(H,"$due_date",ca=function(ja,na){var V;null==na&&(na="");return this.$update_task(ja,
"list",l(this,"lambda",[],(V=function(Q){var Y=null==V.$$s?this:V.$$s;null==Q&&(Q=d);Y=["due",Y.$convert_due_date(na)];l(Q,"[]=",a.to_a(Y));Y[w(Y.length,1)];return u(Q["$[]"]("due")["$nil?"]())?Q.$delete("due"):d},V.$$s=this,V.$$arity=1,V)))},ca.$$arity=-2);a.def(H,"$list",va=function(ja,na){var V,Q,Y=d,pa=d,za=d,la=d;null==ja&&(ja=d);null==na&&(na=d);ja=u(Y=ja)?Y:this.$load_tasks();pa=[ja.$keys().$max().$to_s().$size(),4].$max();na=u(u(za=na["$nil?"]())?za:na["$empty?"]())?[":active"]:na;la=this.$filter_tasks(ja,
na);la=l(la,"sort_by",[],(V=function(xa,Ea){var Fa=d,Sa=d,Ra=d;null==xa&&(xa=d);null==Ea&&(Ea=d);return[u(u(Fa=Ea["$[]"]("priority"))?Ea["$[]"]("state")["$!="]("done"):Fa)?0:1,x(J,"ORDER")["$[]"](u(Sa=Ea["$[]"]("state"))?Sa:"default"),u(Ra=Ea["$[]"]("due"))?Ra:"n/a",xa]},V.$$s=this,V.$$arity=2,V));l(la,"each",[],(Q=function(xa,Ea){var Fa=null==Q.$$s?this:Q.$$s,Sa,Ra=d,Na=d,Qa=d,lb=Qa=d,W=d,ya=d,Da=d,Va=Ra=d,ib=d;null==Fa.today&&(Fa.today=d);null==Fa.due_date_days&&(Fa.due_date_days=d);null==xa&&(xa=
d);null==Ea&&(Ea=d);Ra=u(Na=Ea["$[]"]("state"))?Na:"default";Qa=x(J,"COLORS")["$[]"](Ra);Qa=Fa.$colorize(x(J,"STATES")["$[]"](Ra),Qa);lb=l(Ea["$[]"]("title"),"gsub",[x(J,"CONTEXT_TAG_PATTERN")],(Sa=function(db){var $a=null==Sa.$$s?this:Sa.$$s;null==db&&(db=d);return y(u(db["$start_with?"](" "))?" ":"",$a.$colorize(db.$strip(),"cyan"))},Sa.$$s=Fa,Sa.$$arity=1,Sa));W=u(Ea["$[]"]("priority"))?Fa.$colorize(x(J,"PRIORITY_FLAG"),"red"):" ";ya="";u(u(Da=Ea["$[]"]("due"))?Ra["$!="]("done"):Da)&&(Ra=w(x(J,
"Date").$parse(Ea["$[]"]("due")),Fa.today).$to_i(),u(t(Ra,0))?ya=Fa.$colorize("("+Ra.$abs()+"d overdue)","red"):u(u(Va=Ra["$=="](0))?Va:Ra["$=="](1))?ya=Fa.$colorize("("+x(J,"DUE_DATE_DAYS_SIMPLE")["$[]"](Ra)+")","yellow"):u(K(Ra,1))&&(ya=Fa.$colorize("("+(u(ib=Fa.due_date_days["$[]"](Ra))?ib:Ea["$[]"]("due"))+")","magenta")),ya=y(" ",ya));return Fa.$puts(""+xa.$to_s().$rjust(pa," ")+":"+W+Qa+" "+lb+ya)},Q.$$s=this,Q.$$arity=2,Q));return u(la["$empty?"]())?this.$puts("No todos found"):d},va.$$arity=
-1);a.def(H,"$add_note",Oa=function(ja,na){var V;return this.$update_task(ja,"show",l(this,"lambda",[],(V=function(Q){var Y;null==Q&&(Q=d);u(Y=Q["$[]"]("note"))?Y:(Y=["note",[]],l(Q,"[]=",a.to_a(Y)),Y[w(Y.length,1)]);return Q["$[]"]("note").$push(na)},V.$$s=this,V.$$arity=1,V)))},Oa.$$arity=2);a.def(H,"$delete_note",wa=function(ja){var na;return this.$update_task(ja,"show",l(this,"lambda",[],(na=function(V){null==V&&(V=d);return V.$delete("note")},na.$$s=this,na.$$arity=1,na)))},wa.$$arity=1);a.def(H,
"$show",Ba=function(ja,na){var V,Q=d;null==na&&(na=d);na=u(Q=na)?Q:this.$load_tasks(ja);return l(na["$[]"](ja),"each",[],(V=function(Y,pa){var za=null==V.$$s?this:V.$$s;null==Y&&(Y=d);null==pa&&(pa=d);pa=u(pa["$kind_of?"](x(J,"Array")))?y("\n",pa.$join("\n")):pa;return za.$puts(""+za.$colorize(y(Y.$to_s().$rjust(10," "),":"),"cyan")+" "+pa)},V.$$s=this,V.$$arity=2,V))},Ba.$$arity=-2);a.def(H,"$cleanup",Ka=function(ja){var na,V=d,Q=d;V=this.$load_tasks();ja=y([":done"],ja.$to_a());Q=this.$filter_tasks(V,
ja);l(Q.$keys(),"each",[],(na=function(Y){null==Y&&(Y=d);return V.$delete(Y)},na.$$s=this,na.$$arity=1,na));this.$write_tasks(V);return this.$puts("Deleted "+Q.$size()+" todo(s)")},Ka.$$arity=1);a.def(H,"$filter_tasks",oa=function(ja,na){var V,Q=d;Q=m([],{});l(ja,"each",[],(V=function(Y,pa){var za=null==V.$$s?this:V.$$s,la,xa=d,Ea=d;null==Y&&(Y=d);null==pa&&(pa=d);xa=!0;l(na,"each",[],(la=function(Fa){var Sa=null==la.$$s?this:la.$$s;null==Sa.queries&&(Sa.queries=d);null==Fa&&(Fa=d);return u(u(Sa.queries["$[]"](Fa))?
Sa.queries["$[]"](Fa).$call(pa):a.regexp([Fa],"i").$match(pa["$[]"]("title")))?d:xa=!1},la.$$s=za,la.$$arity=1,la));return u(xa)?(Ea=[Y,pa],l(Q,"[]=",a.to_a(Ea)),Ea[w(Ea.length,1)]):d},V.$$s=this,V.$$arity=2,V));return Q},oa.$$arity=2);a.def(H,"$colorize",S=function(ja,na){return"\u001b["+x(J,"COLOR_CODES")["$[]"](na)+"m"+ja+"\u001b[0m"},S.$$arity=2);return(a.def(H,"$convert_due_date",ta=function(ja){var na,V=this,Q=d,Y=Q=d,pa=d,za=d;Q=d;Q=function(){return u(Y=u(pa=V.due_date_days.$index(ja.$to_s().$downcase()))?
pa:x(J,"DUE_DATE_DAYS_SIMPLE").$index(ja.$to_s().$downcase()))?Y:l(V.due_date_days,"map",[],(na=function(la){null==la&&(la=d);return la["$[]"](c(0,2,!1))},na.$$s=V,na.$$arity=1,na)).$index(ja.$to_s().$downcase())}();return Q=u(Q)?y(V.today,Q).$strftime(x(J,"DATE_FORMAT")):u(u(za=ja["$nil?"]())?za:ja["$empty?"]())?d:x(J,"Date").$parse(ja).$strftime(x(J,"DATE_FORMAT"))},ta.$$arity=1),d)&&"convert_due_date"})(p[0],null,p);return x(p,"Todo").$new().$execute(process.argv.slice(2))})(Opal);var Qb=Opal.$$;
Opal.add_stubs(["$exit"]);Qb([],"Kernel").$exit();}).call(this);
