#!/usr/bin/env node
(function(){var ab=ab||{};ab.scope={};ab.ASSUME_ES5=!1;ab.ASSUME_NO_NATIVE_MAP=!1;ab.ASSUME_NO_NATIVE_SET=!1;ab.SIMPLE_FROUND_POLYFILL=!1;ab.ISOLATE_POLYFILLS=!1;ab.FORCE_POLYFILL_PROMISE=!1;ab.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION=!1;ab.defineProperty=ab.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,x,I){if(a==Array.prototype||a==Object.prototype)return a;a[x]=I.value;return a};
ab.getGlobal=function(a){a=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var x=0;x<a.length;++x){var I=a[x];if(I&&I.Math==Math)return I}throw Error("Cannot find global object");};ab.global=ab.getGlobal(this);ab.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");ab.TRUST_ES6_POLYFILLS=!ab.ISOLATE_POLYFILLS||ab.IS_SYMBOL_NATIVE;ab.polyfills={};ab.propertyToPolyfillSymbol={};
ab.POLYFILL_PREFIX="$jscp$";ab.polyfill=function(a,x,I,t){x&&(ab.ISOLATE_POLYFILLS?ab.polyfillIsolated(a,x,I,t):ab.polyfillUnisolated(a,x,I,t))};ab.polyfillUnisolated=function(a,x){var I=ab.global;a=a.split(".");for(var t=0;t<a.length-1;t++){var w=a[t];if(!(w in I))return;I=I[w]}a=a[a.length-1];t=I[a];x=x(t);x!=t&&null!=x&&ab.defineProperty(I,a,{configurable:!0,writable:!0,value:x})};
ab.polyfillIsolated=function(a,x,I){var t=a.split(".");a=1===t.length;var w=t[0];w=!a&&w in ab.polyfills?ab.polyfills:ab.global;for(var z=0;z<t.length-1;z++){var p=t[z];if(!(p in w))return;w=w[p]}t=t[t.length-1];I=ab.IS_SYMBOL_NATIVE&&"es6"===I?w[t]:null;x=x(I);null!=x&&(a?ab.defineProperty(ab.polyfills,t,{configurable:!0,writable:!0,value:x}):x!==I&&(void 0===ab.propertyToPolyfillSymbol[t]&&(ab.propertyToPolyfillSymbol[t]=ab.IS_SYMBOL_NATIVE?ab.global.Symbol(t):ab.POLYFILL_PREFIX+t),ab.defineProperty(w,
ab.propertyToPolyfillSymbol[t],{configurable:!0,writable:!0,value:x})))};ab.underscoreProtoCanBeSet=function(){var a={a:!0},x={};try{return x.__proto__=a,x.a}catch(I){}return!1};ab.setPrototypeOf=ab.TRUST_ES6_POLYFILLS&&"function"==typeof Object.setPrototypeOf?Object.setPrototypeOf:ab.underscoreProtoCanBeSet()?function(a,x){a.__proto__=x;if(a.__proto__!==x)throw new TypeError(a+" is not extensible");return a}:null;
ab.polyfill("Object.setPrototypeOf",function(a){return a||ab.setPrototypeOf},"es6","es5");ab.arrayIteratorImpl=function(a){var x=0;return function(){return x<a.length?{done:!1,value:a[x++]}:{done:!0}}};ab.arrayIterator=function(a){return{next:ab.arrayIteratorImpl(a)}};ab.initSymbol=function(){};
ab.polyfill("Symbol",function(a){function x(w){if(this instanceof x)throw new TypeError("Symbol is not a constructor");return new I("jscomp_symbol_"+(w||"")+"_"+t++,w)}function I(w,z){this.$jscomp$symbol$id_=w;ab.defineProperty(this,"description",{configurable:!0,writable:!0,value:z})}if(a)return a;I.prototype.toString=function(){return this.$jscomp$symbol$id_};var t=0;return x},"es6","es3");
ab.polyfill("Symbol.iterator",function(a){if(a)return a;a=Symbol("Symbol.iterator");for(var x="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),I=0;I<x.length;I++){var t=ab.global[x[I]];"function"===typeof t&&"function"!=typeof t.prototype[a]&&ab.defineProperty(t.prototype,a,{configurable:!0,writable:!0,value:function(){return ab.iteratorPrototype(ab.arrayIteratorImpl(this))}})}return a},"es6","es3");
ab.iteratorPrototype=function(a){a={next:a};a[Symbol.iterator]=function(){return this};return a};ab.iteratorFromArray=function(a,x){a instanceof String&&(a+="");var I=0,t=!1,w={next:function(){if(!t&&I<a.length){var z=I++;return{value:x(z,a[z]),done:!1}}t=!0;return{done:!0,value:void 0}}};w[Symbol.iterator]=function(){return w};return w};ab.polyfill("Array.prototype.keys",function(a){return a?a:function(){return ab.iteratorFromArray(this,function(x){return x})}},"es6","es3");
ab.owns=function(a,x){return Object.prototype.hasOwnProperty.call(a,x)};ab.assign=ab.TRUST_ES6_POLYFILLS&&"function"==typeof Object.assign?Object.assign:function(a,x){for(var I=1;I<arguments.length;I++){var t=arguments[I];if(t)for(var w in t)ab.owns(t,w)&&(a[w]=t[w])}return a};ab.polyfill("Object.assign",function(a){return a||ab.assign},"es6","es3");ab.polyfill("Number.EPSILON",function(){return Math.pow(2,-52)},"es6","es3");
ab.polyfill("Number.MAX_SAFE_INTEGER",function(){return 9007199254740991},"es6","es3");ab.checkStringArgs=function(a,x,I){if(null==a)throw new TypeError("The 'this' value for String.prototype."+I+" must not be null or undefined");if(x instanceof RegExp)throw new TypeError("First argument to String.prototype."+I+" must not be a regular expression");return a+""};
ab.polyfill("String.prototype.codePointAt",function(a){return a?a:function(x){var I=ab.checkStringArgs(this,null,"codePointAt"),t=I.length;x=Number(x)||0;if(0<=x&&x<t){x|=0;var w=I.charCodeAt(x);if(55296>w||56319<w||x+1===t)return w;x=I.charCodeAt(x+1);return 56320>x||57343<x?w:1024*(w-55296)+x+9216}}},"es6","es3");ab.polyfill("String.prototype.trimLeft",function(a){function x(){return this.replace(/^[\s\xa0]+/,"")}return a||x},"es_2019","es3");
ab.polyfill("Object.is",function(a){return a?a:function(x,I){return x===I?0!==x||1/x===1/I:x!==x&&I!==I}},"es6","es3");ab.polyfill("Array.prototype.includes",function(a){return a?a:function(x,I){var t=this;t instanceof String&&(t=String(t));var w=t.length;I=I||0;for(0>I&&(I=Math.max(I+w,0));I<w;I++){var z=t[I];if(z===x||Object.is(z,x))return!0}return!1}},"es7","es3");
ab.polyfill("String.prototype.includes",function(a){return a?a:function(x,I){return-1!==ab.checkStringArgs(this,x,"includes").indexOf(x,I||0)}},"es6","es3");
(function(a){function x(b,h,f){"string"===typeof b?b[h]=f:Object.defineProperty(b,h,{value:f,enumerable:!1,configurable:!0,writable:!0})}function I(b,h){if(b)return b.$$const[h]}function t(b,h){var f;if(null!=b){var q=d.ancestors(b);b=0;for(f=q.length;b<f;b++)if(q[b].$$const&&k.call(q[b].$$const,h))return q[b].$$const[h]}}function w(b,h,f){if(!f)return(b||n).$const_missing(h)}function z(b){return b.hasOwnProperty("$$iclass")&&b.hasOwnProperty("$$root")}function p(b){var h=m(b);b.$$is_module&&b.$$iclasses.push(h);
return h}function m(b){var h={},f=b.$$prototype;f.hasOwnProperty("$$dummy")&&(f=f.$$define_methods_on);var q=Object.getOwnPropertyNames(f),A=q.length,F;for(F=0;F<A;F++){var H=q[F];x(h,H,f[H])}x(h,"$$iclass",!0);x(h,"$$module",b);return h}function u(b){var h=b.length,f=b[0];x(f,"$$root",!0);if(1===h)return{first:f,last:f};for(var q=1;q<h;q++){var A=b[q];y(f,A);f=A}return{first:b[0],last:b[h-1]}}function D(b){if(!b.hasOwnProperty("$$dummy")){if(b.hasOwnProperty("$$iclass"))return b.$$module;if(b.hasOwnProperty("$$class"))return b.$$class}}
function e(b){return"function"===typeof b&&!b.$$stub}function l(){var b=d.slice.call(arguments,0,arguments.length),h=l.$$p;l.$$p=null;return d.send(n,"define_method",b,h)}"undefined"!==typeof globalThis?a=globalThis:"undefined"!==typeof global?a=global:"undefined"!==typeof window&&(a=window);var E="object"===typeof a.console?a.console:null==a.console?a.console={}:{};"log"in E||(E.log=function(){});"warn"in E||(E.warn=E.log);if("undefined"!==typeof a.Opal)return E.warn("Opal already loaded. Loading twice can cause troubles, please fix your setup."),
a.Opal;var c,n,G,d=a.Opal={};d.global=a;a.Opal=d;d.config={missing_require_severity:"error",unsupported_features_severity:"warning",enable_stack_trace:!0};var k=Object.hasOwnProperty,N=Function.prototype.bind,y=Object.setPrototypeOf,S=Array.prototype.slice,ja=Array.prototype.splice,da=4;d.uid=function(){return da+=2};d.id=function(b){if(b.$$is_number)return 2*b+1;if(null!=b.$$id)return b.$$id;x(b,"$$id",d.uid());return b.$$id};d.gvars={};d.exit=function(b){d.gvars.DEBUG&&E.log("Exited with status "+
b)};d.exceptions=[];d.pop_exception=function(){d.gvars["!"]=d.exceptions.pop()||ma};d.inspect=function(b){return void 0===b?"undefined":null===b?"null":b.$$class?b.$inspect():b.toString()};d.defineProperty=x;d.slice=S;d.truthy=function(b){return b!==ma&&null!=b&&(!b.$$is_boolean||1==b)};d.falsy=function(b){return b===ma||null==b||b.$$is_boolean&&0==b};d.type_error=function(b,h,f,q){b=b.$$class;return q&&f?(q=q.$$class,d.TypeError.$new("can't convert "+b+" into "+h+" ("+b+"#"+f+" gives "+q+")")):d.TypeError.$new("no implicit conversion of "+
b+" into "+h)};d.coerce_to=function(b,h,f,q){if(h["$==="](b))return b;if(!b["$respond_to?"](f))throw d.type_error(b,h);null==q&&(q=[]);return d.send(b,f,q)};d.respond_to=function(b,h,f){if(null==b||!b.$$class)return!1;f=!!f;var q=b[h];return b["$respond_to?"].$$pristine?b["$respond_to_missing?"].$$pristine?"function"===typeof q&&!q.$$stub:d.send(b,b["$respond_to_missing?"],[h.substr(1),f]):d.send(b,b["$respond_to?"],[h.substr(1),f])};d.const_get_local=function(b,h,f){if(null!=b){"::"===b&&(b=n);if(!b.$$is_module&&
!b.$$is_class)throw new d.TypeError(b.toString()+" is not a class/module");var q=I(b,h);if(null!=q)return q;q=w(b,h,f);if(null!=q)return q}};d.const_get_qualified=function(b,h,f){var q,A=d.const_cache_version;if(null!=b){"::"===b&&(b=n);if(!b.$$is_module&&!b.$$is_class)throw new d.TypeError(b.toString()+" is not a class/module");null==(q=b.$$const_cache)&&(x(b,"$$const_cache",Object.create(null)),q=b.$$const_cache);var F=q[h];null==F||F[0]!==A?(null!=(F=I(b,h))||null!=(F=t(b,h)),q[h]=[A,F]):F=F[1];
return null!=F?F:w(b,h,f)}};d.const_cache_version=1;d.const_get_relative=function(b,h,f){var q=b[0],A=d.const_cache_version,F;null==(F=b.$$const_cache)&&(x(b,"$$const_cache",Object.create(null)),F=b.$$const_cache);var H=F[h];if(null==H||H[0]!==A){var K;if(!(K=null!=(H=I(q,h)))){a:{if(0!==b.length)for(H=0,K=b.length;H<K;H++){var ba=b[H].$$const[h];if(null!=ba){b=ba;break a}}b=void 0}K=null!=(H=b)}K||null!=(H=t(q,h))||(b=null==q||q.$$is_module?t(n,h):void 0,null!=(H=b));F[h]=[A,H]}else H=H[1];return null!=
H?H:w(q,h,f)};d.const_set=function(b,h,f){if(null==b||"::"===b)b=n;if(f.$$is_a_module){if(null==f.$$name||f.$$name===ma)f.$$name=h;null==f.$$base_module&&(f.$$base_module=b)}b.$$const=b.$$const||Object.create(null);b.$$const[h]=f;b.$$=b.$$const;d.const_cache_version++;b===n&&(d[h]=f);x(b,h,f);return f};d.constants=function(b,h){null==h&&(h=!0);var f=[b],q,A={},F;h&&(f=f.concat(d.ancestors(b)));h&&b.$$is_module&&(f=f.concat([d.Object]).concat(d.ancestors(d.Object)));var H=0;for(q=f.length;H<q;H++){h=
f[H];if(b!==n&&h==n)break;for(F in h.$$const)A[F]=!0}return Object.keys(A)};d.const_remove=function(b,h){d.const_cache_version++;if(null!=b.$$const[h]){var f=b.$$const[h];delete b.$$const[h];return f}if(null!=b.$$autoload&&null!=b.$$autoload[h])return delete b.$$autoload[h],ma;throw d.NameError.$new("constant "+b+"::"+b.$name()+" not defined");};d.$$=d.const_get_relative;d.$$$=d.const_get_qualified;d.allocate_class=function(b,h){var f=null!=h&&h.$$bridge?function(){var A=S.call(arguments);A=new (N.apply(h.$$constructor,
[null].concat(A)));y(A,q.$$prototype);return A}:function(){};b&&x(f,"displayName","::"+b);var q=f;x(q,"$$name",b);x(q,"$$constructor",f);x(q,"$$prototype",f.prototype);x(q,"$$const",{});x(q,"$$is_class",!0);x(q,"$$is_a_module",!0);x(q,"$$super",h);x(q,"$$cvars",{});x(q,"$$own_included_modules",[]);x(q,"$$own_prepended_modules",[]);x(q,"$$ancestors",[]);x(q,"$$ancestors_cache_version",null);x(q.$$prototype,"$$class",q);d.Class&&y(q,d.Class.prototype);null!=h&&(y(q.$$prototype,h.$$prototype),h.$$meta&&
d.build_class_singleton_class(q));return q};d.klass=function(b,h,f){null==b?b=n:b.$$is_class||b.$$is_module||(b=b.$$class);if(null!=h&&!h.hasOwnProperty("$$is_class")){var q=h;h=n}var A;if(A=I(b,f)){if(!A.$$is_class)throw d.TypeError.$new(f+" is not a class");}else A=void 0;if(A){if(h&&A.$$super!==h)throw d.TypeError.$new("superclass mismatch for class "+A.$$name);return A}null==h&&(h=n);A=d.allocate_class(f,h);d.const_set(b,f,A);h.$inherited&&h.$inherited(A);q&&d.bridge(q,A);return A};d.allocate_module=
function(b){function h(){}b&&x(h,"displayName",b+".$$constructor");b&&x(h,"displayName",b+".constructor");x(h,"$$name",b);x(h,"$$prototype",h.prototype);x(h,"$$const",{});x(h,"$$is_module",!0);x(h,"$$is_a_module",!0);x(h,"$$cvars",{});x(h,"$$iclasses",[]);x(h,"$$own_included_modules",[]);x(h,"$$own_prepended_modules",[]);x(h,"$$ancestors",[h]);x(h,"$$ancestors_cache_version",null);y(h,d.Module.prototype);return h};d.module=function(b,h){null==b?b=n:b.$$is_class||b.$$is_module||(b=b.$$class);var f=
b;var q=I(f,h);null==q&&f===n&&(q=t(n,h));if(q&&!q.$$is_module&&q!==n)throw d.TypeError.$new(h+" is not a module");if(f=q)return f;f=d.allocate_module(h);d.const_set(b,h,f);return f};d.get_singleton_class=function(b){return b.$$meta?b.$$meta:b.hasOwnProperty("$$is_class")?d.build_class_singleton_class(b):b.hasOwnProperty("$$is_module")?d.build_module_singleton_class(b):d.build_object_singleton_class(b)};d.build_class_singleton_class=function(b){if(b.$$meta)return b.$$meta;var h=b===c?G:d.get_singleton_class(b.$$super);
h=d.allocate_class(null,h,function(){});x(h,"$$is_singleton",!0);x(h,"$$singleton_of",b);x(b,"$$meta",h);y(b,h.$$prototype);x(b,"$$class",d.Class);return h};d.build_module_singleton_class=function(b){if(b.$$meta)return b.$$meta;var h=d.allocate_class(null,d.Module,function(){});x(h,"$$is_singleton",!0);x(h,"$$singleton_of",b);x(b,"$$meta",h);y(b,h.$$prototype);x(b,"$$class",d.Module);return h};d.build_object_singleton_class=function(b){var h=d.allocate_class(ma,b.$$class,function(){});x(h,"$$is_singleton",
!0);x(h,"$$singleton_of",b);delete h.$$prototype.$$class;x(b,"$$meta",h);y(b,b.$$meta.$$prototype);return h};d.is_method=function(b){return"$"===b[0]&&"$"!==b[1]};d.instance_methods=function(b){var h=[],f=[];b=d.ancestors(b);for(var q=0,A=b.length;q<A;q++){var F=b[q].$$prototype;F.hasOwnProperty("$$dummy")&&(F=F.$$define_methods_on);for(var H=Object.getOwnPropertyNames(F),K=0,ba=H.length;K<ba;K++){var va=H[K];if(d.is_method(va)){var Pa=va.slice(1);va=F[va];va.$$stub&&-1===h.indexOf(Pa)&&h.push(Pa);
va.$$stub||-1!==f.indexOf(Pa)||-1!==h.indexOf(Pa)||f.push(Pa)}}}return f};d.own_instance_methods=function(b){var h=[];b=b.$$prototype;b.hasOwnProperty("$$dummy")&&(b=b.$$define_methods_on);for(var f=Object.getOwnPropertyNames(b),q=0,A=f.length;q<A;q++){var F=f[q];d.is_method(F)&&!b[F].$$stub&&(F=F.slice(1),h.push(F))}return h};d.methods=function(b){return d.instance_methods(d.get_singleton_class(b))};d.own_methods=function(b){return d.own_instance_methods(d.get_singleton_class(b))};d.receiver_methods=
function(b){var h=d.get_singleton_class(b);b=d.own_instance_methods(h);h=d.own_instance_methods(h.$$super);return b.concat(h)};d.class_variables=function(b){b=d.ancestors(b);var h,f={};for(h=b.length-1;0<=h;h--){var q=b[h],A;for(A in q.$$cvars)f[A]=q.$$cvars[A]}return f};d.class_variable_set=function(b,h,f){var q=d.ancestors(b),A;for(A=q.length-2;0<=A;A--){var F=q[A];if(k.call(F.$$cvars,h))return F.$$cvars[h]=f}return b.$$cvars[h]=f};d.append_features=function(b,h){var f=d.ancestors(b),q=[];if(-1!==
f.indexOf(h))throw d.ArgumentError.$new("cyclic include detected");for(var A=0,F=f.length;A<F;A++){var H=p(f[A]);x(H,"$$included",!0);q.push(H)}f=d.ancestors(h);q=u(q);if(-1===f.indexOf(b))b=h.$$prototype,f=Object.getPrototypeOf(h.$$prototype);else{f=h.$$prototype;for(A=Object.getPrototypeOf(f);null!=A&&(!z(A)||A.$$module!==b);)f=A,A=Object.getPrototypeOf(A);for(A=Object.getPrototypeOf(A);A.hasOwnProperty("$$iclass")&&!z(A);)A=Object.getPrototypeOf(A);b=f;f=A}y(b,q.first);y(q.last,f);b=[];for(f=Object.getPrototypeOf(h.$$prototype);f&&
!f.hasOwnProperty("$$class");)(q=D(f))&&b.push(q),f=Object.getPrototypeOf(f);h.$$own_included_modules=b;d.const_cache_version++};d.prepend_features=function(b,h){var f=d.ancestors(b),q=[];if(-1!==f.indexOf(h))throw d.ArgumentError.$new("cyclic prepend detected");for(var A=0,F=f.length;A<F;A++){var H=p(f[A]);x(H,"$$prepended",!0);q.push(H)}f=u(q);A=h.$$prototype;F=Object.getPrototypeOf(A);if(A.hasOwnProperty("$$dummy"))q=A.$$define_methods_on;else{q=m(h);H=h.$$prototype;for(var K=Object.getOwnPropertyNames(H),
ba=0;ba<K.length;ba++){var va=K[ba];d.is_method(va)&&delete H[va]}x(A,"$$dummy",!0);x(A,"$$define_methods_on",q);y(A,q);y(q,F)}if(-1===d.ancestors(h).indexOf(b))for(b=A,A=Object.getPrototypeOf(A);null!=A&&!A.hasOwnProperty("$$root")&&A!==q&&A.hasOwnProperty("$$iclass");)A=Object.getPrototypeOf(A);else throw d.RuntimeError.$new("Prepending a module multiple times is not supported");y(b,f.first);y(f.last,A);b=[];q=Object.getPrototypeOf(h.$$prototype);if(h.$$prototype.hasOwnProperty("$$dummy"))for(;q&&
q!==h.$$prototype.$$define_methods_on;)(f=D(q))&&b.push(f),q=Object.getPrototypeOf(q);h.$$own_prepended_modules=b;d.const_cache_version++};d.bridge=function(b,h){if(b.hasOwnProperty("$$bridge"))throw d.ArgumentError.$new("already bridged");x(b,"$$bridge",h);y(b.prototype,(h.$$super||d.Object).$$prototype);x(h,"$$prototype",b.prototype);x(h.$$prototype,"$$class",h);x(h,"$$constructor",b);x(h,"$$bridge",!0)};d.ancestors=function(b){if(!b)return[];if(b.$$ancestors_cache_version===d.const_cache_version)return b.$$ancestors;
var h=[],f;var q=0;var A=b.$$own_prepended_modules.concat([b]).concat(b.$$own_included_modules);for(f=A.length;q<f;q++)h.push(A[q]);if(b.$$super)for(q=0,A=d.ancestors(b.$$super),f=A.length;q<f;q++)h.push(A[q]);b.$$ancestors_cache_version=d.const_cache_version;return b.$$ancestors=h};d.included_modules=function(b){for(var h=[],f=Object.getPrototypeOf(b.$$prototype);f&&Object.getPrototypeOf(f);f=Object.getPrototypeOf(f))(b=D(f))&&b.$$is_module&&f.$$iclass&&f.$$included&&h.push(b);return h};d.add_stubs=
function(b){for(var h=d.BasicObject.$$prototype,f=0,q=b.length;f<q;f++){var A=b[f],F=h[A];(null==F||F.$$stub)&&d.add_stub_for(h,A)}};d.add_stub_for=function(b,h){var f=d.stub_for(h);x(b,h,f)};d.stub_for=function(b){function h(){this.$method_missing.$$p=h.$$p;h.$$p=null;for(var f=Array(arguments.length),q=0,A=f.length;q<A;q++)f[q]=arguments[q];return this.$method_missing.apply(this,[b.slice(1)].concat(f))}h.$$stub=!0;return h};d.ac=function(b,h,f,q){var A="";A=f.$$is_a_module?A+(f.$$name+"."):A+(f.$$class.$$name+
"#");throw d.ArgumentError.$new("["+(A+q)+"] wrong number of arguments("+b+" for "+h+")");};d.block_ac=function(b,h,f){throw d.ArgumentError.$new("`block in "+f+"': wrong number of arguments ("+b+" for "+h+")");};d.find_super_dispatcher=function(b,h,f,q,A){var F="$"+h;var H=b.hasOwnProperty("$$meta")?d.ancestors(b.$$meta):d.ancestors(b.$$class);for(f=H.indexOf(f.$$owner)+1;f<H.length;f++){var K=H[f].$$prototype;K.hasOwnProperty("$$dummy")&&(K=K.$$define_methods_on);if(K.hasOwnProperty(F)){var ba=
K[F];break}}if(!q&&ba&&ba.$$stub&&b.$method_missing.$$pristine)throw d.NoMethodError.$new("super: no superclass method `"+h+"' for "+b,h);return ba.$$stub&&!A?null:ba};d.find_iter_super_dispatcher=function(b,h,f,q,A){if(!f)throw d.RuntimeError.$new("super called outside of method");if(A&&f.$$define_meth)throw d.RuntimeError.$new("implicit argument passing of super from method defined by define_method() is not supported. Specify all arguments explicitly");f.$$def&&(h=f.$$jsid);return d.find_super_dispatcher(b,
h,f,q)};d.ret=function(b){d.returner.$v=b;throw d.returner;};d.brk=function(b,h){h.$v=b;throw h;};d.new_brk=function(){return Error("unexpected break")};d.yield1=function(b,h){if("function"!==typeof b)throw d.LocalJumpError.$new("no block given");var f=b.$$has_top_level_mlhs_arg,q=b.$$has_trailing_comma_in_args;if(1<b.length||(f||q)&&1===b.length)h=d.to_ary(h);return(1<b.length||q&&1===b.length)&&h.$$is_array?b.apply(null,h):b(h)};d.yieldX=function(b,h){if("function"!==typeof b)throw d.LocalJumpError.$new("no block given");
if(1<b.length&&1===h.length&&h[0].$$is_array)return b.apply(null,h[0]);if(!h.$$is_array){for(var f=Array(h.length),q=0,A=f.length;q<A;q++)f[q]=h[q];return b.apply(null,f)}return b.apply(null,h)};d.rescue=function(b,h){for(var f=0;f<h.length;f++){var q=h[f];if(q.$$is_array){if(q=d.rescue(b,q))return q}else if(q===d.JS.Error||q["$==="](b))return q}return null};d.is_a=function(b,h){if(null!=h&&b.$$meta===h||b.$$class===h)return!0;if(b.$$is_number&&h.$$is_number_class)return h.$$is_integer_class?0===
b%1:!0;var f,q=d.ancestors(b.$$is_class?d.get_singleton_class(b):b.$$meta||b.$$class);b=0;for(f=q.length;b<f;b++)if(q[b]===h)return!0;return!1};d.to_hash=function(b){if(b.$$is_hash)return b;if(b["$respond_to?"]("to_hash",!0)){var h=b.$to_hash();if(h.$$is_hash)return h;throw d.TypeError.$new("Can't convert "+b.$$class+" to Hash ("+b.$$class+"#to_hash gives "+h.$$class+")");}throw d.TypeError.$new("no implicit conversion of "+b.$$class+" into Hash");};d.to_ary=function(b){if(b.$$is_array)return b;if(b["$respond_to?"]("to_ary",
!0)){var h=b.$to_ary();if(h===ma)return[b];if(h.$$is_array)return h;throw d.TypeError.$new("Can't convert "+b.$$class+" to Array ("+b.$$class+"#to_ary gives "+h.$$class+")");}return[b]};d.to_a=function(b){if(b.$$is_array)return b.slice();if(b["$respond_to?"]("to_a",!0)){var h=b.$to_a();if(h===ma)return[b];if(h.$$is_array)return h;throw d.TypeError.$new("Can't convert "+b.$$class+" to Array ("+b.$$class+"#to_a gives "+h.$$class+")");}return[b]};d.extract_kwargs=function(b){var h=b[b.length-1];return null!=
h&&d.respond_to(h,"$to_hash",!0)?(ja.call(b,b.length-1,1),h.$to_hash()):d.hash2([],{})};d.kwrestargs=function(b,h){var f=[],q={},A;b=b.$$smap;for(A in b)h[A]||(f.push(A),q[A]=b[A]);return d.hash2(f,q)};d.send=function(b,h,f,q){if("function"===typeof h){var A=h;h=null}else if("string"===typeof h)A=b["$"+h];else throw d.NameError.$new("Passed method should be a string or a function");return d.send2(b,A,h,f,q)};d.send2=function(b,h,f,q,A){null==h&&null!=f&&b.$method_missing&&(h=b.$method_missing,q=[f].concat(q));
"function"===typeof A&&(h.$$p=A);return h.apply(b,q)};d.lambda=function(b){b.$$is_lambda=!0;return b};d.def=function(b,h,f){b===d.top?d.defn(d.Object,h,f):!b.$$eval&&b.$$is_a_module?d.defn(b,h,f):d.defs(b,h,f)};d.defn=function(b,h,f){f.displayName=h;f.$$owner=b;var q=b.$$prototype;q.hasOwnProperty("$$dummy")&&(q=q.$$define_methods_on);x(q,h,f);if(b.$$is_module){b.$$module_function&&d.defs(b,h,f);q=0;for(var A=b.$$iclasses,F=A.length;q<F;q++)x(A[q],h,f)}f=b.$$singleton_of;!b.$method_added||b.$method_added.$$stub||
f?f&&f.$singleton_method_added&&!f.$singleton_method_added.$$stub&&f.$singleton_method_added(h.substr(1)):b.$method_added(h.substr(1))};d.defs=function(b,h,f){if(b.$$is_string||b.$$is_number)throw d.TypeError.$new("can't define singleton");d.defn(d.get_singleton_class(b),h,f)};d.rdef=function(b,h){if(!k.call(b.$$prototype,h))throw d.NameError.$new("method '"+h.substr(1)+"' not defined in "+b.$name());delete b.$$prototype[h];b.$$is_singleton?b.$$prototype.$singleton_method_removed&&!b.$$prototype.$singleton_method_removed.$$stub&&
b.$$prototype.$singleton_method_removed(h.substr(1)):b.$method_removed&&!b.$method_removed.$$stub&&b.$method_removed(h.substr(1))};d.udef=function(b,h){if(!b.$$prototype[h]||b.$$prototype[h].$$stub)throw d.NameError.$new("method '"+h.substr(1)+"' not defined in "+b.$name());d.add_stub_for(b.$$prototype,h);b.$$is_singleton?b.$$prototype.$singleton_method_undefined&&!b.$$prototype.$singleton_method_undefined.$$stub&&b.$$prototype.$singleton_method_undefined(h.substr(1)):b.$method_undefined&&!b.$method_undefined.$$stub&&
b.$method_undefined(h.substr(1))};d.alias=function(b,h,f){var q="$"+h,A="$"+f,F=b.$$prototype["$"+f];if(b.$$eval)return d.alias(d.get_singleton_class(b),h,f);if(!e(F)){for(var H=b.$$super;"function"!==typeof F&&H;)F=H[A],H=H.$$super;!e(F)&&b.$$is_module&&(F=d.Object.$$prototype[A]);if(!e(F))throw d.NameError.$new("undefined method `"+f+"' for class `"+b.$name()+"'");}F.$$alias_of&&(F=F.$$alias_of);var K=function(){var ba=K.$$p,va;var Pa=Array(arguments.length);var wa=0;for(va=arguments.length;wa<
va;wa++)Pa[wa]=arguments[wa];null!=ba&&(K.$$p=null);return d.send(this,F,Pa,ba)};try{Object.defineProperty(K,"length",{value:F.length})}catch(ba){}K.displayName=h;K.$$arity=F.$$arity;K.$$parameters=F.$$parameters;K.$$source_location=F.$$source_location;K.$$alias_of=F;K.$$alias_name=h;d.defn(b,q,K);return b};d.alias_native=function(b,h,f){h="$"+h;var q=b.$$prototype[f];if("function"!==typeof q||q.$$stub)throw d.NameError.$new("undefined native method `"+f+"' for class `"+b.$name()+"'");d.defn(b,h,
q);return b};d.hash_init=function(b){b.$$smap=Object.create(null);b.$$map=Object.create(null);b.$$keys=[]};d.hash_clone=function(b,h){h.$$none=b.$$none;h.$$proc=b.$$proc;var f=0,q=b.$$keys;b=b.$$smap;for(var A=q.length,F,H;f<A;f++)F=q[f],F.$$is_string?H=b[F]:(H=F.value,F=F.key),d.hash_put(h,F,H)};d.hash_put=function(b,h,f){if(h.$$is_string)k.call(b.$$smap,h)||b.$$keys.push(h),b.$$smap[h]=f;else{var q;var A=b.$$by_identity?d.id(h):h.$hash();if(k.call(b.$$map,A)){for(q=b.$$map[A];q;){if(h===q.key||
h["$eql?"](q.key)){var F=void 0;q.value=f;break}F=q;q=q.next}F&&(q={key:h,key_hash:A,value:f},b.$$keys.push(q),F.next=q)}else q={key:h,key_hash:A,value:f},b.$$keys.push(q),b.$$map[A]=q}};d.hash_get=function(b,h){if(h.$$is_string){if(k.call(b.$$smap,h))return b.$$smap[h]}else{var f=b.$$by_identity?d.id(h):h.$hash();if(k.call(b.$$map,f))for(b=b.$$map[f];b;){if(h===b.key||h["$eql?"](b.key))return b.value;b=b.next}}};d.hash_delete=function(b,h){var f,q=b.$$keys,A=q.length;if(h.$$is_string){"string"!==
typeof h&&(h=h.valueOf());if(!k.call(b.$$smap,h))return;for(f=0;f<A;f++)if(q[f]===h){q.splice(f,1);break}var F=b.$$smap[h];delete b.$$smap[h];return F}var H=h.$hash();if(k.call(b.$$map,H))for(var K=b.$$map[H],ba;K;){if(h===K.key||h["$eql?"](K.key)){F=K.value;for(f=0;f<A;f++)if(q[f]===K){q.splice(f,1);break}ba&&K.next?ba.next=K.next:ba?delete ba.next:K.next?b.$$map[H]=K.next:delete b.$$map[H];return F}ba=K;K=K.next}};d.hash_rehash=function(b){for(var h=0,f=b.$$keys.length,q,A,F;h<f;h++)if(!b.$$keys[h].$$is_string&&
(q=b.$$keys[h].key.$hash(),q!==b.$$keys[h].key_hash)){A=b.$$map[b.$$keys[h].key_hash];for(F=void 0;A;){if(A===b.$$keys[h]){F&&A.next?F.next=A.next:F?delete F.next:A.next?b.$$map[b.$$keys[h].key_hash]=A.next:delete b.$$map[b.$$keys[h].key_hash];break}F=A;A=A.next}b.$$keys[h].key_hash=q;if(k.call(b.$$map,q)){A=b.$$map[q];for(F=void 0;A;){if(A===b.$$keys[h]){F=void 0;break}F=A;A=A.next}F&&(F.next=b.$$keys[h])}else b.$$map[q]=b.$$keys[h]}};d.hash=function(){var b=arguments.length,h;if(1===b&&arguments[0].$$is_hash)return arguments[0];
var f=new d.Hash;d.hash_init(f);if(1===b&&arguments[0].$$is_array){b=arguments[0];var q=b.length;for(h=0;h<q;h++){if(2!==b[h].length)throw d.ArgumentError.$new("value not of length 2: "+b[h].$inspect());var A=b[h][0];var F=b[h][1];d.hash_put(f,A,F)}return f}if(1===b){b=arguments[0];for(A in b)k.call(b,A)&&(F=b[A],d.hash_put(f,A,F));return f}if(0!==b%2)throw d.ArgumentError.$new("odd number of arguments for Hash");for(h=0;h<b;h+=2)A=arguments[h],F=arguments[h+1],d.hash_put(f,A,F);return f};d.hash2=
function(b,h){var f=new d.Hash;f.$$smap=h;f.$$map=Object.create(null);f.$$keys=b;return f};d.range=function(b,h,f){var q=new d.Range;q.begin=b;q.end=h;q.excl=f;return q};d.ivar=function(b){return"constructor"===b||"displayName"===b||"__count__"===b||"__noSuchMethod__"===b||"__parent__"===b||"__proto__"===b||"hasOwnProperty"===b||"valueOf"===b?b+"$":b};d.escape_regexp=function(b){return b.replace(/([-[\]\/{}()*+?.^$\\| ])/g,"\\$1").replace(/[\n]/g,"\\n").replace(/[\r]/g,"\\r").replace(/[\f]/g,"\\f").replace(/[\t]/g,
"\\t")};d.global_regexp=function(b){if(b.global)return b;null==b.$$g?b.$$g=new RegExp(b.source,(b.multiline?"gm":"g")+(b.ignoreCase?"i":"")):b.$$g.lastIndex=null;return b.$$g};d.global_multiline_regexp=function(b){if(b.multiline){if(b.global)return b;b=null!=b.$$g?b.$$g:b.$$g=new RegExp(b.source,"gm"+(b.ignoreCase?"i":""))}else b=null!=b.$$gm?b.$$gm:b.$$gm=new RegExp(b.source,"gm"+(b.ignoreCase?"i":""));b.lastIndex=null;return b};d.regexp=function(b,h){for(var f,q="undefined"!==typeof h&&h&&0<=h.indexOf("i"),
A=0,F=b.length;A<F;A++)f=b[A],f instanceof RegExp&&(f.ignoreCase!==q&&d.Kernel.$warn("ignore case doesn't match for "+f.source.$inspect(),d.hash({uplevel:1})),f=f.source),""===f&&(f="(?:"+f+")"),b[A]=f;return h?new RegExp(b.join(""),h):new RegExp(b.join(""))};d.modules={};d.loaded_features=["corelib/runtime"];d.current_dir=".";d.require_table={"corelib/runtime":!0};d.normalize=function(b){var h=[];"."!==d.current_dir&&(b=d.current_dir.replace(/\/*$/,"/")+b);b=b.replace(/^\.\//,"");b=b.replace(/\.(rb|opal|js)$/,
"");b=b.split("/");for(var f=0,q=b.length;f<q;f++){var A=b[f];""!==A&&(".."===A?h.pop():h.push(A))}return h.join("/")};d.loaded=function(b){var h;var f=0;for(h=b.length;f<h;f++){var q=d.normalize(b[f]);d.require_table[q]||(d.loaded_features.push(q),d.require_table[q]=!0)}};d.load=function(b){b=d.normalize(b);d.loaded([b]);var h=d.modules[b];if(h)h(d);else{h=d.config.missing_require_severity;b="cannot load such file -- "+b;if("error"===h){if(d.LoadError)throw d.LoadError.$new(b);throw b;}"warning"===
h&&E.warn("WARNING: LoadError: "+b)}return!0};d.require=function(b){b=d.normalize(b);return d.require_table[b]?!1:d.load(b)};d.encodings=Object.create(null);d.set_encoding=function(b,h){if("string"===typeof b)throw d.FrozenError.$new("can't modify frozen String");h=d.encodings[h];if(h===b.encoding)return b;b.encoding=h;return b};d.enc=function(b,h){b=new String(b);d.set_encoding(b,h);b.internal_encoding=b.encoding;return b};d.BasicObject=c=d.allocate_class("BasicObject",null,function(){});d.Object=
n=d.allocate_class("Object",d.BasicObject,function(){});d.Module=a=d.allocate_class("Module",d.Object,function(){});d.Class=G=d.allocate_class("Class",d.Module,function(){});y(d.BasicObject,d.Class.$$prototype);y(d.Object,d.Class.$$prototype);y(d.Module,d.Class.$$prototype);y(d.Class,d.Class.$$prototype);c.$$const.BasicObject=c;d.const_set(n,"BasicObject",c);d.const_set(n,"Object",n);d.const_set(n,"Module",a);d.const_set(n,"Class",G);c.$$class=G;n.$$class=G;a.$$class=G;G.$$class=G;x(n.$$prototype,
"toString",function(){var b=this.$to_s();return b.$$is_string&&"object"===typeof b?b.valueOf():b});x(n.$$prototype,"$require",d.require);d.top=new n;d.top.$to_s=d.top.$inspect=function(){return"main"};d.top.$define_method=l;d.NilClass=d.allocate_class("NilClass",d.Object,function(){});d.const_set(n,"NilClass",d.NilClass);var ma=d.nil=new d.NilClass;ma.$$id=4;ma.call=ma.apply=function(){throw d.LocalJumpError.$new("no block given");};d.breaker=Error("unexpected break (old)");d.returner=Error("unexpected return");
TypeError.$$super=Error}).call(this);Opal.loaded(["corelib/runtime.js"]);
Opal.modules["corelib/helpers"]=function(a){var x=[],I=a.nil,t=a.$$,w=a.type_error,z=a.coerce_to,p=a.module,m=a.truthy;a.add_stubs("$=== $raise $respond_to? $nil? $__send__ $<=> $class $coerce_to! $new $!= $[] $upcase".split(" "));return function(u,D){u=p(u,"Opal");var e=[u].concat(D),l,E,c,n,G,d,k,N,y,S,ja;a.defs(u,"$bridge",l=function(da,ma){return a.bridge(da,ma)},l.$$arity=2);a.defs(u,"$coerce_to!",E=function(da,ma,b,h){var f=a.slice.call(arguments,3,arguments.length);f=z(da,ma,b,f);m(ma["$==="](f))||
this.$raise(w(da,ma,b,f));return f},E.$$arity=-4);a.defs(u,"$coerce_to?",c=function(da,ma,b,h){var f=a.slice.call(arguments,3,arguments.length);if(!m(da["$respond_to?"](b)))return I;f=z(da,ma,b,f);if(m(f["$nil?"]()))return I;m(ma["$==="](f))||this.$raise(w(da,ma,b,f));return f},c.$$arity=-4);a.defs(u,"$try_convert",n=function(da,ma,b){return m(ma["$==="](da))?da:m(da["$respond_to?"](b))?da.$__send__(b):I},n.$$arity=3);a.defs(u,"$compare",G=function(da,ma){var b=da["$<=>"](ma);m(b===I)&&this.$raise(t(e,
"ArgumentError"),"comparison of "+da.$class()+" with "+ma.$class()+" failed");return b},G.$$arity=2);a.defs(u,"$destructure",d=function(da){if(1==da.length)return da[0];if(da.$$is_array)return da;for(var ma=Array(da.length),b=0,h=ma.length;b<h;b++)ma[b]=da[b];return ma},d.$$arity=1);a.defs(u,"$respond_to?",k=function(da,ma,b){null==b&&(b=!1);return null!=da&&da.$$class?da["$respond_to?"](ma,b):!1},k.$$arity=-3);a.defs(u,"$instance_variable_name!",N=function(da){da=t(e,"Opal")["$coerce_to!"](da,t(e,
"String"),"to_str");m(/^@[a-zA-Z_][a-zA-Z0-9_]*?$/.test(da))||this.$raise(t(e,"NameError").$new("'"+da+"' is not allowed as an instance variable name",da));return da},N.$$arity=1);a.defs(u,"$class_variable_name!",y=function(da){da=t(e,"Opal")["$coerce_to!"](da,t(e,"String"),"to_str");m(3>da.length||"@@"!==da.slice(0,2))&&this.$raise(t(e,"NameError").$new("`"+da+"' is not allowed as a class variable name",da));return da},y.$$arity=1);a.defs(u,"$const_name!",S=function(da){da=t(e,"Opal")["$coerce_to!"](da,
t(e,"String"),"to_str");m(da["$[]"](0)["$!="](da["$[]"](0).$upcase()))&&this.$raise(t(e,"NameError"),"wrong constant name "+da);return da},S.$$arity=1);a.defs(u,"$pristine",ja=function(da,ma){var b=a.slice.call(arguments,1,arguments.length);for(var h,f=b.length-1;0<=f;f--)h=b[f],(h=da.$$prototype["$"+h])&&!h.$$stub&&(h.$$pristine=!0);return I},ja.$$arity=-2)}(x[0],x)};
Opal.modules["corelib/module"]=function(a){function x(n,G){return"number"===typeof n&&"number"===typeof G?n<G:n["$<"](G)}var I=[],t=a.nil,w=a.$$$,z=a.$$,p=a.truthy,m=a.coerce_to,u=a.klass,D=a.send,e=a.hash2,l=a.lambda,E=a.range,c=a.send2;a.add_stubs("$module_eval $to_proc $=== $raise $equal? $< $> $nil? $attr_reader $attr_writer $warn $attr_accessor $class_variable_name! $new $const_name! $=~ $inject $split $const_get $== $!~ $start_with? $bind $call $class $append_features $included $name $cover? $size $merge $compile $proc $any? $prepend_features $prepended $to_s $__id__ $constants $include? $copy_class_variables $copy_constants".split(" "));
return function(n,$super,d){n=u(n,$super,"Module");var k=[n].concat(d),N,y,S,ja,da,ma,b,h,f,q,A,F,H,K,ba,va,Pa,wa,Aa,Ma,na,T,sa,xa,Ja,ka,M,L,fa,oa,ea,ta,Ea,Ha,Ra,Sa,Ka,eb,kb,W,ya,Ba,Va,bb,db,Ca,Wa,za,ua,Na,Ta,Za,Fa,Y,R,Z,U,ha,la;a.defs(n,"$allocate",N=function(){var g=a.allocate_module(t,function(){});this!==a.Module&&Object.setPrototypeOf(g,this.$$prototype);return g},N.$$arity=0);a.def(n,"$initialize",y=function(){var g=y.$$p,C=g||t;g&&(y.$$p=null);g&&(y.$$p=null);return C!==t?D(this,"module_eval",
[],C.$to_proc()):t},y.$$arity=0);a.def(n,"$===",S=function(g){return p(null==g)?!1:a.is_a(g,this)},S.$$arity=1);a.def(n,"$<",ja=function(g){p(z(k,"Module")["$==="](g))||this.$raise(z(k,"TypeError"),"compared with non class/module");var C;if(this===g)return!1;var O=0;var aa=a.ancestors(this);for(C=aa.length;O<C;O++)if(aa[O]===g)return!0;O=0;aa=a.ancestors(g);for(C=aa.length;O<C;O++)if(aa[O]===this)return!1;return t},ja.$$arity=1);a.def(n,"$<=",da=function(g){var C;return p(C=this["$equal?"](g))?C:
x(this,g)},da.$$arity=1);a.def(n,"$>",ma=function(g){p(z(k,"Module")["$==="](g))||this.$raise(z(k,"TypeError"),"compared with non class/module");return x(g,this)},ma.$$arity=1);a.def(n,"$>=",b=function(g){var C;return p(C=this["$equal?"](g))?C:"number"===typeof this&&"number"===typeof g?this>g:this["$>"](g)},b.$$arity=1);a.def(n,"$<=>",h=function(g){if(this===g)return 0;if(!p(z(k,"Module")["$==="](g)))return t;g=x(this,g);return p(g["$nil?"]())?t:p(g)?-1:1},h.$$arity=1);a.def(n,"$alias_method",f=
function(g,C){g=m(g,z(k,"String"),"to_str");C=m(C,z(k,"String"),"to_str");a.alias(this,g,C);return this},f.$$arity=2);a.def(n,"$alias_native",q=function(g,C){null==C&&(C=g);a.alias_native(this,g,C);return this},q.$$arity=-2);a.def(n,"$ancestors",A=function(){return a.ancestors(this)},A.$$arity=0);a.def(n,"$append_features",F=function(g){a.append_features(this,g);return this},F.$$arity=1);a.def(n,"$attr_accessor",H=function(g){var C=a.slice.call(arguments,0,arguments.length);D(this,"attr_reader",a.to_a(C));
return D(this,"attr_writer",a.to_a(C))},H.$$arity=-1);a.def(n,"$attr",K=function(g){var C=a.slice.call(arguments,0,arguments.length);return 2!=C.length||!0!==C[1]&&!1!==C[1]?D(this,"attr_reader",a.to_a(C)):(this.$warn("optional boolean argument is obsoleted",e(["uplevel"],{uplevel:1})),C[1]?this.$attr_accessor(C[0]):this.$attr_reader(C[0]),t)},K.$$arity=-1);a.def(n,"$attr_reader",ba=function(g){var C=a.slice.call(arguments,0,arguments.length);for(var O=this.$$prototype,aa=C.length-1;0<=aa;aa--){var v=
C[aa],V="$"+v;v=a.ivar(v);var pa=function(La){return function(){return null==this[La]?t:this[La]}}(v);a.defineProperty(O,v,t);pa.$$parameters=[];pa.$$arity=0;a.defn(this,V,pa)}return t},ba.$$arity=-1);a.def(n,"$attr_writer",va=function(g){var C=a.slice.call(arguments,0,arguments.length);for(var O=this.$$prototype,aa=C.length-1;0<=aa;aa--){var v=C[aa],V="$"+v+"=";v=a.ivar(v);var pa=function(La){return function(jb){return this[La]=jb}}(v);pa.$$parameters=[["req"]];pa.$$arity=1;a.defineProperty(O,v,
t);a.defn(this,V,pa)}return t},va.$$arity=-1);a.def(n,"$autoload",Pa=function(g,C){null==this.$$autoload&&(this.$$autoload={});a.const_cache_version++;this.$$autoload[g]=C;return t},Pa.$$arity=2);a.def(n,"$class_variables",wa=function(){return Object.keys(a.class_variables(this))},wa.$$arity=0);a.def(n,"$class_variable_get",Aa=function(g){g=z(k,"Opal")["$class_variable_name!"](g);var C=a.class_variables(this)[g];null==C&&this.$raise(z(k,"NameError").$new("uninitialized class variable "+g+" in "+this,
g));return C},Aa.$$arity=1);a.def(n,"$class_variable_set",Ma=function(g,C){g=z(k,"Opal")["$class_variable_name!"](g);return a.class_variable_set(this,g,C)},Ma.$$arity=2);a.def(n,"$class_variable_defined?",na=function(g){g=z(k,"Opal")["$class_variable_name!"](g);return a.class_variables(this).hasOwnProperty(g)},na.$$arity=1);a.def(n,"$remove_class_variable",T=function(g){g=z(k,"Opal")["$class_variable_name!"](g);if(a.hasOwnProperty.call(this.$$cvars,g)){var C=this.$$cvars[g];delete this.$$cvars[g];
return C}this.$raise(z(k,"NameError"),"cannot remove "+g+" for "+this)},T.$$arity=1);a.def(n,"$constants",sa=function(g){null==g&&(g=!0);return a.constants(this,g)},sa.$$arity=-1);a.defs(n,"$constants",xa=function(g){if(null==g){g=(this.$$nesting||[]).concat(a.Object);var C,O={},aa;var v=0;for(aa=g.length;v<aa;v++)for(C in g[v].$$const)O[C]=!0;return Object.keys(O)}return a.constants(this,g)},xa.$$arity=-1);a.defs(n,"$nesting",Ja=function(){return this.$$nesting||[]},Ja.$$arity=0);a.def(n,"$const_defined?",
ka=function(g,C){null==C&&(C=!0);g=z(k,"Opal")["$const_name!"](g);p(g["$=~"](w(z(k,"Opal"),"CONST_NAME_REGEXP")))||this.$raise(z(k,"NameError").$new("wrong constant name "+g,g));var O=[this],aa;C&&(O=O.concat(a.ancestors(this)),this.$$is_module&&(O=O.concat([a.Object]).concat(a.ancestors(a.Object))));var v=0;for(aa=O.length;v<aa;v++)if(C=O[v],null!=C.$$const[g])return!0;return!1},ka.$$arity=-2);a.def(n,"$const_get",M=function(g,C){var O;null==C&&(C=!0);g=z(k,"Opal")["$const_name!"](g);0===g.indexOf("::")&&
"::"!==g&&(g=g.slice(2));if(p(-1!=g.indexOf("::")&&"::"!=g))return D(g.$split("::"),"inject",[this],(O=function(aa,v){null==aa&&(aa=t);null==v&&(v=t);return aa.$const_get(v)},O.$$s=this,O.$$arity=2,O));p(g["$=~"](w(z(k,"Opal"),"CONST_NAME_REGEXP")))||this.$raise(z(k,"NameError").$new("wrong constant name "+g,g));return C?z([this],g):a.const_get_local(this,g)},M.$$arity=-2);a.def(n,"$const_missing",L=function(g){var C;if(this.$$autoload&&(C=this.$$autoload[g]))return this.$require(C),this.$const_get(g);
C=this["$=="](z(k,"Object"))?g:""+this+"::"+g;return this.$raise(z(k,"NameError").$new("uninitialized constant "+C,g))},L.$$arity=1);a.def(n,"$const_set",fa=function(g,C){var O=t;g=z(k,"Opal")["$const_name!"](g);p(p(O=g["$!~"](w(z(k,"Opal"),"CONST_NAME_REGEXP")))?O:g["$start_with?"]("::"))&&this.$raise(z(k,"NameError").$new("wrong constant name "+g,g));a.const_set(this,g,C);return C},fa.$$arity=2);a.def(n,"$public_constant",oa=function(){return t},oa.$$arity=1);a.def(n,"$define_method",ea=function(g,
C){var O=ea.$$p,aa=O||t,v,V=this,pa=t,La=t;O&&(ea.$$p=null);O&&(ea.$$p=null);p(void 0===C&&aa===t)&&V.$raise(z(k,"ArgumentError"),"tried to create a Proc object without a block");aa=function(){return p(pa=aa)?pa:function(){La=C;return z(k,"Proc")["$==="](La)?C:z(k,"Method")["$==="](La)?C.$to_proc().$$unbound:z(k,"UnboundMethod")["$==="](La)?l((v=function(jb){var ob=null==v.$$s?this:v.$$s;var mb=a.slice.call(arguments,0,arguments.length);ob=C.$bind(ob);return D(ob,"call",a.to_a(mb))},v.$$s=V,v.$$arity=
-1,v)):V.$raise(z(k,"TypeError"),"wrong argument type "+aa.$class()+" (expected Proc/Method)")}()}();aa.$$jsid=g;aa.$$s=null;aa.$$def=aa;aa.$$define_meth=!0;a.defn(V,"$"+g,aa);return g},ea.$$arity=-2);a.def(n,"$remove_method",ta=function(g){var C=a.slice.call(arguments,0,arguments.length);for(var O=0,aa=C.length;O<aa;O++)a.rdef(this,"$"+C[O]);return this},ta.$$arity=-1);a.def(n,"$singleton_class?",Ea=function(){return!!this.$$is_singleton},Ea.$$arity=0);a.def(n,"$include",Ha=function(g){var C=a.slice.call(arguments,
0,arguments.length);for(var O=C.length-1;0<=O;O--){var aa=C[O];aa.$$is_module||this.$raise(z(k,"TypeError"),"wrong argument type "+aa.$class()+" (expected Module)");aa.$append_features(this);aa.$included(this)}return this},Ha.$$arity=-1);a.def(n,"$included_modules",Ra=function(){return a.included_modules(this)},Ra.$$arity=0);a.def(n,"$include?",Sa=function(g){g.$$is_module||this.$raise(z(k,"TypeError"),"wrong argument type "+g.$class()+" (expected Module)");var C,O=a.ancestors(this);var aa=0;for(C=
O.length;aa<C;aa++){var v=O[aa];if(v===g&&v!==this)return!0}return!1},Sa.$$arity=1);a.def(n,"$instance_method",Ka=function(g){var C=this.$$prototype["$"+g];C&&!C.$$stub||this.$raise(z(k,"NameError").$new("undefined method `"+g+"' for class `"+this.$name()+"'",g));return z(k,"UnboundMethod").$new(this,C.$$owner||this,C,g)},Ka.$$arity=1);a.def(n,"$instance_methods",eb=function(g){null==g&&(g=!0);return p(g)?a.instance_methods(this):a.own_instance_methods(this)},eb.$$arity=-1);a.def(n,"$included",kb=
function(){return t},kb.$$arity=1);a.def(n,"$extended",W=function(){return t},W.$$arity=1);a.def(n,"$extend_object",ya=function(){return t},ya.$$arity=1);a.def(n,"$method_added",Ba=function(g){a.slice.call(arguments,0,arguments.length);return t},Ba.$$arity=-1);a.def(n,"$method_removed",Va=function(g){a.slice.call(arguments,0,arguments.length);return t},Va.$$arity=-1);a.def(n,"$method_undefined",bb=function(g){a.slice.call(arguments,0,arguments.length);return t},bb.$$arity=-1);a.def(n,"$module_eval",
db=function(g){var C=db.$$p,O=C||t,aa,v,V=t,pa=aa=t,La=pa=t,jb=pa=t;C&&(db.$$p=null);C&&(db.$$p=null);aa=a.slice.call(arguments,0,arguments.length);p(p(V=O["$nil?"]())?!!a.compile:V)?(p(E(1,3,!1)["$cover?"](aa.$size()))||z(k,"Kernel").$raise(z(k,"ArgumentError"),"wrong number of arguments (0 for 1..3)"),O=[].concat(a.to_a(aa)),aa=null==O[0]?t:O[0],pa=null==O[1]?t:O[1],O,pa=e(["file","eval"],{file:p(La=pa)?La:"(eval)",eval:!0}),pa=a.hash({arity_check:!1}).$merge(pa),jb=z(k,"Opal").$compile(aa,pa),
O=D(z(k,"Kernel"),"proc",[],(v=function(){return function(){return eval(jb)}(null==v.$$s?this:v.$$s)},v.$$s=this,v.$$arity=0,v))):p(aa["$any?"]())&&z(k,"Kernel").$raise(z(k,"ArgumentError"),"wrong number of arguments ("+aa.$size()+" for 0)\n\n  NOTE:If you want to enable passing a String argument please add \"require 'opal-parser'\" to your script\n");La=O.$$s;O.$$s=null;V=O.apply(this,[this]);O.$$s=La;return V},db.$$arity=-1);a.alias(n,"class_eval","module_eval");a.def(n,"$module_exec",Ca=function(g){var C=
Ca.$$p,O=C||t;C&&(Ca.$$p=null);C&&(Ca.$$p=null);var aa=a.slice.call(arguments,0,arguments.length);O===t&&this.$raise(z(k,"LocalJumpError"),"no block given");C=O.$$s;O.$$s=null;aa=O.apply(this,aa);O.$$s=C;return aa},Ca.$$arity=-1);a.alias(n,"class_exec","module_exec");a.def(n,"$method_defined?",Wa=function(g){g=this.$$prototype["$"+g];return!!g&&!g.$$stub},Wa.$$arity=1);a.def(n,"$module_function",za=function(g){var C=a.slice.call(arguments,0,arguments.length);if(0===C.length)this.$$module_function=
!0;else for(var O=0,aa=C.length;O<aa;O++){var v="$"+C[O];a.defs(this,v,this.$$prototype[v])}return this},za.$$arity=-1);a.def(n,"$name",ua=function(){if(this.$$full_name)return this.$$full_name;for(var g=[],C=this;C;){if(C.$$name===t||null==C.$$name)return t;g.unshift(C.$$name);C=C.$$base_module;if(C===a.Object)break}return 0===g.length?t:this.$$full_name=g.join("::")},ua.$$arity=0);a.def(n,"$prepend",Na=function(g){var C=a.slice.call(arguments,0,arguments.length);0===C.length&&this.$raise(z(k,"ArgumentError"),
"wrong number of arguments (given 0, expected 1+)");for(var O=C.length-1;0<=O;O--){var aa=C[O];aa.$$is_module||this.$raise(z(k,"TypeError"),"wrong argument type "+aa.$class()+" (expected Module)");aa.$prepend_features(this);aa.$prepended(this)}return this},Na.$$arity=-1);a.def(n,"$prepend_features",Ta=function(g){this.$$is_module||this.$raise(z(k,"TypeError"),"wrong argument type "+this.$class()+" (expected Module)");a.prepend_features(this,g);return this},Ta.$$arity=1);a.def(n,"$prepended",Za=function(){return t},
Za.$$arity=1);a.def(n,"$remove_const",Fa=function(g){return a.const_remove(this,g)},Fa.$$arity=1);a.def(n,"$to_s",Y=function(){var g;return p(g=a.Module.$name.call(this))?g:"#<"+(this.$$is_module?"Module":"Class")+":0x"+this.$__id__().$to_s(16)+">"},Y.$$arity=0);a.def(n,"$undef_method",R=function(g){var C=a.slice.call(arguments,0,arguments.length);for(var O=0,aa=C.length;O<aa;O++)a.udef(this,"$"+C[O]);return this},R.$$arity=-1);a.def(n,"$instance_variables",Z=function(){var g=(a.Module.$$nesting=
k,this.$constants());var C=[],O;for(O in this)this.hasOwnProperty(O)&&"$"!==O.charAt(0)&&"constructor"!==O&&!g["$include?"](O)&&C.push("@"+O);return C},Z.$$arity=0);a.def(n,"$dup",U=function(){var g=U.$$p,C;g&&(U.$$p=null);var O=0;var aa=arguments.length;for(C=Array(aa);O<aa;O++)C[O]=arguments[O];g=c(this,a.find_super_dispatcher(this,"dup",U,!1,!0),"dup",C,g);g.$copy_class_variables(this);g.$copy_constants(this);return g},U.$$arity=0);a.def(n,"$copy_class_variables",ha=function(g){for(var C in g.$$cvars)this.$$cvars[C]=
g.$$cvars[C]},ha.$$arity=1);return(a.def(n,"$copy_constants",la=function(g){var C;g=g.$$const;for(C in g)a.const_set(this,C,g[C])},la.$$arity=1),t)&&"copy_constants"}(I[0],null,I)};
Opal.modules["corelib/class"]=function(a){var x=a.top,I=[],t=a.nil,w=a.$$,z=a.klass,p=a.send,m=a.send2;a.add_stubs("$require $class_eval $to_proc $initialize_copy $allocate $name $to_s".split(" "));x.$require("corelib/module");return function(u,$super,e){u=z(u,$super,"Class");var l=[u].concat(e),E,c,n,G,d,k,N;a.defs(u,"$new",E=function(y){var S=E.$$p,ja=S||t;S&&(E.$$p=null);S&&(E.$$p=null);null==y&&(y=w(l,"Object"));if(!y.$$is_class)throw a.TypeError.$new("superclass must be a Class");S=a.allocate_class(t,
y);y.$inherited(S);ja!==t&&p(S,"class_eval",[],ja.$to_proc());return S},E.$$arity=-1);a.def(u,"$allocate",c=function(){var y=new this.$$constructor;y.$$id=a.uid();return y},c.$$arity=0);a.def(u,"$inherited",n=function(){return t},n.$$arity=1);a.def(u,"$initialize_dup",G=function(y){this.$initialize_copy(y);this.$$full_name=this.$$name=null},G.$$arity=1);a.def(u,"$new",d=function(y){var S=d.$$p,ja=S||t;S&&(d.$$p=null);S&&(d.$$p=null);S=a.slice.call(arguments,0,arguments.length);var da=this.$allocate();
a.send(da,da.$initialize,S,ja);return da},d.$$arity=-1);a.def(u,"$superclass",k=function(){return this.$$super||t},k.$$arity=0);return(a.def(u,"$to_s",N=function(){N.$$p&&(N.$$p=null);var y=this.$$singleton_of;return y&&y.$$is_a_module?"#<Class:"+y.$name()+">":y?"#<Class:#<"+y.$$class.$name()+":0x"+a.id(y).$to_s(16)+">>":m(this,a.find_super_dispatcher(this,"to_s",N,!1,!0),"to_s",[],null)},N.$$arity=0),t)&&"to_s"}(I[0],null,I)};
Opal.modules["corelib/basic_object"]=function(a){var x=[],I=a.nil,t=a.$$$,w=a.klass,z=a.truthy,p=a.range,m=a.hash2,u=a.send;a.add_stubs("$== $! $nil? $cover? $size $raise $merge $compile $proc $any? $inspect $new".split(" "));return function(D,$super,l){D=w(D,$super,"BasicObject");[D].concat(l);var E,c,n,G,d,k,N,y,S,ja,da,ma,b,h;a.def(D,"$initialize",E=function(f){a.slice.call(arguments,0,arguments.length);return I},E.$$arity=-1);a.def(D,"$==",c=function(f){return this===f},c.$$arity=1);a.def(D,"$eql?",
n=function(f){return this["$=="](f)},n.$$arity=1);a.alias(D,"equal?","==");a.def(D,"$__id__",G=function(){if(null!=this.$$id)return this.$$id;a.defineProperty(this,"$$id",a.uid());return this.$$id},G.$$arity=0);a.def(D,"$__send__",d=function(f,q){var A=d.$$p,F=A||I;A&&(d.$$p=null);A&&(d.$$p=null);A=a.slice.call(arguments,1,arguments.length);var H=this["$"+f];if(H)return F!==I&&(H.$$p=F),H.apply(this,A);F!==I&&(this.$method_missing.$$p=F);return this.$method_missing.apply(this,[f].concat(A))},d.$$arity=
-2);a.def(D,"$!",k=function(){return!1},k.$$arity=0);a.def(D,"$!=",N=function(f){return this["$=="](f)["$!"]()},N.$$arity=1);a.def(D,"$instance_eval",y=function(f){var q=y.$$p,A=q||I,F,H,K=I,ba=F=I,va=ba=I,Pa=ba=I;q&&(y.$$p=null);q&&(y.$$p=null);F=a.slice.call(arguments,0,arguments.length);z(z(K=A["$nil?"]())?!!a.compile:K)?(z(p(1,3,!1)["$cover?"](F.$size()))||t("::","Kernel").$raise(t("::","ArgumentError"),"wrong number of arguments (0 for 1..3)"),A=[].concat(a.to_a(F)),F=null==A[0]?I:A[0],ba=null==
A[1]?I:A[1],A,ba=m(["file","eval"],{file:z(va=ba)?va:"(eval)",eval:!0}),ba=a.hash({arity_check:!1}).$merge(ba),Pa=t("::","Opal").$compile(F,ba),A=u(t("::","Kernel"),"proc",[],(H=function(){return function(){return eval(Pa)}(null==H.$$s?this:H.$$s)},H.$$s=this,H.$$arity=0,H))):z(F["$any?"]())&&t("::","Kernel").$raise(t("::","ArgumentError"),"wrong number of arguments ("+F.$size()+" for 0)");va=A.$$s;A.$$s=null;if(this.$$is_a_module){this.$$eval=!0;try{var wa=A.call(this,this)}finally{this.$$eval=!1}}else wa=
A.call(this,this);A.$$s=va;return wa},y.$$arity=-1);a.def(D,"$instance_exec",S=function(f){var q=S.$$p,A=q||I;q&&(S.$$p=null);q&&(S.$$p=null);q=a.slice.call(arguments,0,arguments.length);z(A)||t("::","Kernel").$raise(t("::","ArgumentError"),"no block given");var F=A.$$s;A.$$s=null;if(this.$$is_a_module){this.$$eval=!0;try{var H=A.apply(this,q)}finally{this.$$eval=!1}}else H=A.apply(this,q);A.$$s=F;return H},S.$$arity=-1);a.def(D,"$singleton_method_added",ja=function(f){a.slice.call(arguments,0,arguments.length);
return I},ja.$$arity=-1);a.def(D,"$singleton_method_removed",da=function(f){a.slice.call(arguments,0,arguments.length);return I},da.$$arity=-1);a.def(D,"$singleton_method_undefined",ma=function(f){a.slice.call(arguments,0,arguments.length);return I},ma.$$arity=-1);a.def(D,"$method_missing",b=function(f,q){var A=b.$$p;A&&(b.$$p=null);A&&(b.$$p=null);a.slice.call(arguments,1,arguments.length);A=z(this.$inspect&&!this.$inspect.$$stub)?"undefined method `"+f+"' for "+this.$inspect()+":"+this.$$class:
"undefined method `"+f+"' for "+this.$$class;return t("::","Kernel").$raise(t("::","NoMethodError").$new(A,f))},b.$$arity=-2);return(a.def(D,"$respond_to_missing?",h=function(){return!1},h.$$arity=-2),I)&&"respond_to_missing?"}(x[0],null,x)};
Opal.modules["corelib/kernel"]=function(a){function x(c,n){return"number"===typeof c&&"number"===typeof n?c<=n:c["$<="](n)}var I=[],t=a.nil,w=a.$$$,z=a.$$,p=a.truthy,m=a.coerce_to,u=a.module,D=a.gvars,e=a.hash2,l=a.send,E=a.klass;a.add_stubs("$raise $new $inspect $! $=~ $== $object_id $class $coerce_to? $<< $allocate $copy_instance_variables $copy_singleton_methods $initialize_clone $initialize_copy $define_method $singleton_class $to_proc $initialize_dup $for $empty? $pop $call $append_features $extend_object $extended $__id__ $to_s $instance_variable_name! $respond_to? $to_int $coerce_to! $Integer $nil? $=== $enum_for $result $any? $print $format $puts $each $<= $length $[] $< $first $caller $+ $map $exception $is_a? $rand $respond_to_missing? $pristine $try_convert! $expand_path $join $start_with? $new_seed $srand $sym $arg $open $include".split(" "));(function(c,
n){c=u(c,"Kernel");var G=[c].concat(n),d,k,N,y,S,ja,da,ma,b,h,f,q,A,F,H,K,ba,va,Pa,wa,Aa,Ma,na,T,sa,xa,Ja,ka,M,L,fa,oa,ea,ta,Ea,Ha,Ra,Sa,Ka,eb,kb,W,ya,Ba,Va,bb,db,Ca,Wa,za,ua,Na,Ta,Za,Fa,Y,R,Z,U,ha,la,g,C,O,aa;a.def(c,"$method_missing",d=function(v,V){var pa=d.$$p;pa&&(d.$$p=null);pa&&(d.$$p=null);pa=a.slice.call(arguments,1,arguments.length);return this.$raise(z(G,"NoMethodError").$new("undefined method `"+v+"' for "+this.$inspect(),v,pa))},d.$$arity=-2);a.def(c,"$=~",k=function(){return!1},k.$$arity=
1);a.def(c,"$!~",N=function(v){return this["$=~"](v)["$!"]()},N.$$arity=1);a.def(c,"$===",y=function(v){var V;return p(V=this.$object_id()["$=="](v.$object_id()))?V:this["$=="](v)},y.$$arity=1);a.def(c,"$<=>",S=function(v){this.$$comparable=!0;return(v=this["$=="](v))&&v!==t?0:t},S.$$arity=1);a.def(c,"$method",ja=function(v){var V=this["$"+v];V&&!V.$$stub||this.$raise(z(G,"NameError").$new("undefined method `"+v+"' for class `"+this.$class()+"'",v));return z(G,"Method").$new(this,V.$$owner||this.$class(),
V,v)},ja.$$arity=1);a.def(c,"$methods",da=function(v){null==v&&(v=!0);return p(v)?a.methods(this):a.own_methods(this)},da.$$arity=-1);a.def(c,"$public_methods",ma=function(v){null==v&&(v=!0);return p(v)?a.methods(this):a.receiver_methods(this)},ma.$$arity=-1);a.def(c,"$Array",b=function(v){if(v===t)return[];if(v.$$is_array)return v;var V=z(G,"Opal")["$coerce_to?"](v,z(G,"Array"),"to_ary");if(V!==t)return V;V=z(G,"Opal")["$coerce_to?"](v,z(G,"Array"),"to_a");return V!==t?V:[v]},b.$$arity=1);a.def(c,
"$at_exit",h=function(){var v=h.$$p,V=v||t,pa=t;null==D.__at_exit__&&(D.__at_exit__=t);v&&(h.$$p=null);v&&(h.$$p=null);D.__at_exit__=p(pa=D.__at_exit__)?pa:[];D.__at_exit__["$<<"](V);return V},h.$$arity=0);a.def(c,"$caller",f=function(v,V){null==V&&(V=t);v=(Error().stack||"").split("\n");var pa=[];for(var La=3,jb=v.length;La<jb&&(v[La].match("runtime.js")||(pa.push(v[La].replace(/^ *\w+ +/,"")),!V||pa.length!=V));La++);return pa},f.$$arity=-1);a.def(c,"$class",q=function(){return this.$$class},q.$$arity=
0);a.def(c,"$copy_instance_variables",A=function(v){var V=Object.keys(v),pa;var La=0;for(pa=V.length;La<pa;La++){var jb=V[La];"$"!==jb.charAt(0)&&v.hasOwnProperty(jb)&&(this[jb]=v[jb])}},A.$$arity=1);a.def(c,"$copy_singleton_methods",F=function(v){var V;if(v.hasOwnProperty("$$meta")){var pa=a.get_singleton_class(v),La=a.get_singleton_class(this);var jb=Object.getOwnPropertyNames(pa.$$prototype);var ob=0;for(V=jb.length;ob<V;ob++){var mb=jb[ob];a.is_method(mb)&&(La.$$prototype[mb]=pa.$$prototype[mb])}La.$$const=
Object.assign({},pa.$$const);Object.setPrototypeOf(La.$$prototype,Object.getPrototypeOf(pa.$$prototype))}ob=0;jb=Object.getOwnPropertyNames(v);for(V=jb.length;ob<V;ob++)mb=jb[ob],"$"===mb.charAt(0)&&"$"!==mb.charAt(1)&&v.hasOwnProperty(mb)&&(this[mb]=v[mb])},F.$$arity=1);a.def(c,"$clone",H=function(v){if(null==v)e([],{});else if(!v.$$is_hash)throw a.ArgumentError.$new("expected kwargs");v=this.$class().$allocate();v.$copy_instance_variables(this);v.$copy_singleton_methods(this);v.$initialize_clone(this);
return v},H.$$arity=-1);a.def(c,"$initialize_clone",K=function(v){return this.$initialize_copy(v)},K.$$arity=1);a.def(c,"$define_singleton_method",ba=function(v,V){var pa=ba.$$p,La=pa||t;pa&&(ba.$$p=null);pa&&(ba.$$p=null);return l(this.$singleton_class(),"define_method",[v,V],La.$to_proc())},ba.$$arity=-2);a.def(c,"$dup",va=function(){var v=this.$class().$allocate();v.$copy_instance_variables(this);v.$initialize_dup(this);return v},va.$$arity=0);a.def(c,"$initialize_dup",Pa=function(v){return this.$initialize_copy(v)},
Pa.$$arity=1);a.def(c,"$enum_for",wa=function(v,V){var pa=wa.$$p,La=pa||t;pa&&(wa.$$p=null);pa&&(wa.$$p=null);pa=a.slice.call(arguments,0,arguments.length);if(0<pa.length){var jb=pa[0];pa.splice(0,1)}null==jb&&(jb="each");return l(z(G,"Enumerator"),"for",[this,jb].concat(a.to_a(pa)),La.$to_proc())},wa.$$arity=-1);a.alias(c,"to_enum","enum_for");a.def(c,"$equal?",Aa=function(v){return this===v},Aa.$$arity=1);a.def(c,"$exit",Ma=function(v){var V=t;null==D.__at_exit__&&(D.__at_exit__=t);null==v&&(v=
!0);for(D.__at_exit__=p(V=D.__at_exit__)?V:[];!p(D.__at_exit__["$empty?"]());)V=D.__at_exit__.$pop(),V.$call();v=v.$$is_boolean?v?0:1:m(v,z(G,"Integer"),"to_int");a.exit(v);return t},Ma.$$arity=-1);a.def(c,"$extend",na=function(v){var V=a.slice.call(arguments,0,arguments.length);for(var pa=this.$singleton_class(),La=V.length-1;0<=La;La--){var jb=V[La];jb.$$is_module||this.$raise(z(G,"TypeError"),"wrong argument type "+jb.$class()+" (expected Module)");jb.$append_features(pa);jb.$extend_object(this);
jb.$extended(this)}return this},na.$$arity=-1);a.def(c,"$hash",T=function(){return this.$__id__()},T.$$arity=0);a.def(c,"$initialize_copy",sa=function(){return t},sa.$$arity=1);a.def(c,"$inspect",xa=function(){return this.$to_s()},xa.$$arity=0);a.def(c,"$instance_of?",Ja=function(v){v.$$is_class||v.$$is_module||this.$raise(z(G,"TypeError"),"class or module required");return this.$$class===v},Ja.$$arity=1);a.def(c,"$instance_variable_defined?",ka=function(v){v=z(G,"Opal")["$instance_variable_name!"](v);
return a.hasOwnProperty.call(this,v.substr(1))},ka.$$arity=1);a.def(c,"$instance_variable_get",M=function(v){v=z(G,"Opal")["$instance_variable_name!"](v);v=this[a.ivar(v.substr(1))];return null==v?t:v},M.$$arity=1);a.def(c,"$instance_variable_set",L=function(v,V){v=z(G,"Opal")["$instance_variable_name!"](v);return this[a.ivar(v.substr(1))]=V},L.$$arity=2);a.def(c,"$remove_instance_variable",fa=function(v){v=z(G,"Opal")["$instance_variable_name!"](v);var V=a.ivar(v.substr(1));return this.hasOwnProperty(V)?
(v=this[V],delete this[V],v):this.$raise(z(G,"NameError"),"instance variable "+v+" not defined")},fa.$$arity=1);a.def(c,"$instance_variables",oa=function(){var v=[],V;for(V in this)if(this.hasOwnProperty(V)&&"$"!==V.charAt(0)){var pa="$"===V.substr(-1)?V.slice(0,V.length-1):V;v.push("@"+pa)}return v},oa.$$arity=0);a.def(c,"$Integer",ea=function(v,V){var pa=this;if(!v.$$is_string){void 0!==V&&pa.$raise(z(G,"ArgumentError"),"base specified for non string value");v===t&&pa.$raise(z(G,"TypeError"),"can't convert nil into Integer");
if(v.$$is_number)return(Infinity===v||-Infinity===v||isNaN(v))&&pa.$raise(z(G,"FloatDomainError"),v),Math.floor(v);if(v["$respond_to?"]("to_int")){var La=v.$to_int();if(La!==t)return La}return z(G,"Opal")["$coerce_to!"](v,z(G,"Integer"),"to_i")}if("0"===v)return 0;void 0===V?V=0:(V=m(V,z(G,"Integer"),"to_int"),(1===V||0>V||36<V)&&pa.$raise(z(G,"ArgumentError"),"invalid radix "+V));La=v.toLowerCase();La=La.replace(/(\d)_(?=\d)/g,"$1");La=La.replace(/^(\s*[+-]?)(0[bodx]?)/,function(ob,mb,sb){switch(sb){case "0b":if(0===
V||2===V)return V=2,mb;case "0":case "0o":if(0===V||8===V)return V=8,mb;case "0d":if(0===V||10===V)return V=10,mb;case "0x":if(0===V||16===V)return V=16,mb}pa.$raise(z(G,"ArgumentError"),'invalid value for Integer(): "'+v+'"')});V=0===V?10:V;var jb="0-"+(10>=V?V-1:"9a-"+String.fromCharCode(97+(V-11)));(new RegExp("^\\s*[+-]?["+jb+"]+\\s*$")).test(La)||pa.$raise(z(G,"ArgumentError"),'invalid value for Integer(): "'+v+'"');La=parseInt(La,V);isNaN(La)&&pa.$raise(z(G,"ArgumentError"),'invalid value for Integer(): "'+
v+'"');return La},ea.$$arity=-2);a.def(c,"$Float",ta=function(v){v===t&&this.$raise(z(G,"TypeError"),"can't convert nil into Float");if(v.$$is_string){var V=v.toString();V=V.replace(/(\d)_(?=\d)/g,"$1");if(/^\s*[-+]?0[xX][0-9a-fA-F]+\s*$/.test(V))return this.$Integer(V);/^\s*[-+]?[0-9]*\.?[0-9]+([eE][-+]?[0-9]+)?\s*$/.test(V)||this.$raise(z(G,"ArgumentError"),'invalid value for Float(): "'+v+'"');return parseFloat(V)}return z(G,"Opal")["$coerce_to!"](v,z(G,"Float"),"to_f")},ta.$$arity=1);a.def(c,
"$Hash",Ea=function(v){var V=t;return p(p(V=v["$nil?"]())?V:v["$=="]([]))?e([],{}):p(z(G,"Hash")["$==="](v))?v:z(G,"Opal")["$coerce_to!"](v,z(G,"Hash"),"to_hash")},Ea.$$arity=1);a.def(c,"$is_a?",Ha=function(v){v.$$is_class||v.$$is_module||this.$raise(z(G,"TypeError"),"class or module required");return a.is_a(this,v)},Ha.$$arity=1);a.def(c,"$itself",Ra=function(){return this},Ra.$$arity=0);a.alias(c,"kind_of?","is_a?");a.def(c,"$lambda",Sa=function(){var v=Sa.$$p,V=v||t;v&&(Sa.$$p=null);v&&(Sa.$$p=
null);return a.lambda(V)},Sa.$$arity=0);a.def(c,"$load",Ka=function(v){v=z(G,"Opal")["$coerce_to!"](v,z(G,"String"),"to_str");return a.load(v)},Ka.$$arity=1);a.def(c,"$loop",eb=function(){var v,V=eb.$$p,pa=V||t,La=t;V&&(eb.$$p=null);if(pa===t)return l(this,"enum_for",["loop"],(v=function(){return w(z(G,"Float"),"INFINITY")},v.$$s=this,v.$$arity=0,v));for(;p(!0);)try{a.yieldX(pa,[])}catch(jb){if(a.rescue(jb,[z(G,"StopIteration")])){La=jb;try{return La.$result()}finally{a.pop_exception()}}else throw jb;
}return this},eb.$$arity=0);a.def(c,"$nil?",kb=function(){return!1},kb.$$arity=0);a.alias(c,"object_id","__id__");a.def(c,"$printf",W=function(v){var V=a.slice.call(arguments,0,arguments.length);p(V["$any?"]())&&this.$print(l(this,"format",a.to_a(V)));return t},W.$$arity=-1);a.def(c,"$proc",ya=function(){var v=ya.$$p,V=v||t;v&&(ya.$$p=null);v&&(ya.$$p=null);p(V)||this.$raise(z(G,"ArgumentError"),"tried to create Proc object without a block");V.$$is_lambda=!1;return V},ya.$$arity=0);a.def(c,"$puts",
Ba=function(v){null==D.stdout&&(D.stdout=t);var V=a.slice.call(arguments,0,arguments.length);return l(D.stdout,"puts",a.to_a(V))},Ba.$$arity=-1);a.def(c,"$p",Va=function(v){var V;var pa=a.slice.call(arguments,0,arguments.length);l(pa,"each",[],(V=function(La){null==D.stdout&&(D.stdout=t);null==La&&(La=t);return D.stdout.$puts(La.$inspect())},V.$$s=this,V.$$arity=1,V));return p(x(pa.$length(),1))?pa["$[]"](0):pa},Va.$$arity=-1);a.def(c,"$print",bb=function(v){null==D.stdout&&(D.stdout=t);var V=a.slice.call(arguments,
0,arguments.length);return l(D.stdout,"print",a.to_a(V))},bb.$$arity=-1);a.def(c,"$warn",db=function(v,V){var pa,La=t,jb=t;null==D.VERBOSE&&(D.VERBOSE=t);null==D.stderr&&(D.stderr=t);var ob=a.slice.call(arguments,0,arguments.length);var mb=a.extract_kwargs(ob);if(null==mb)mb=e([],{});else if(!mb.$$is_hash)throw a.ArgumentError.$new("expected kwargs");mb=mb.$$smap.uplevel;null==mb&&(mb=t);p(mb)&&(mb=z(G,"Opal")["$coerce_to!"](mb,z(G,"Integer"),"to_str"),p("number"===typeof mb?0>mb:mb["$<"](0))&&this.$raise(z(G,
"ArgumentError"),"negative level ("+mb+")"),La=this.$caller("number"===typeof mb?mb+2:mb["$+"](2),1).$first(),p(La)&&(La=""+La+": "),ob=l(ob,"map",[],(pa=function(sb){null==sb&&(sb=t);return""+La+"warning: "+sb},pa.$$s=this,pa.$$arity=1,pa)));return p(p(jb=D.VERBOSE["$nil?"]())?jb:ob["$empty?"]())?t:l(D.stderr,"puts",a.to_a(ob))},db.$$arity=-1);a.def(c,"$raise",Ca=function(v,V){null==D["!"]&&(D["!"]=t);null==V&&(V=t);if(null==v&&D["!"]!==t)throw D["!"];null==v?v=z(G,"RuntimeError").$new():v.$$is_string?
v=z(G,"RuntimeError").$new(v):v.$$is_class&&v["$respond_to?"]("exception")?v=v.$exception(V):v["$is_a?"](z(G,"Exception"))||(v=z(G,"TypeError").$new("exception class/object expected"));D["!"]!==t&&a.exceptions.push(D["!"]);D["!"]=v;throw v;},Ca.$$arity=-1);a.alias(c,"fail","raise");a.def(c,"$rand",Wa=function(v){if(void 0===v)return w(z(G,"Random"),"DEFAULT").$rand();v.$$is_number&&(0>v&&(v=Math.abs(v)),0!==v%1&&(v=v.$to_i()),0===v&&(v=void 0));return w(z(G,"Random"),"DEFAULT").$rand(v)},Wa.$$arity=
-1);a.def(c,"$respond_to?",za=function(v,V){null==V&&(V=!1);var pa=this["$"+v];return"function"!==typeof pa||pa.$$stub?!0===this["$respond_to_missing?"].$$pristine?!1:this["$respond_to_missing?"](v,V):!0},za.$$arity=-2);a.def(c,"$respond_to_missing?",ua=function(){return!1},ua.$$arity=-2);z(G,"Opal").$pristine(c,"respond_to?","respond_to_missing?");a.def(c,"$require",Na=function(v){v=z(G,"Opal")["$coerce_to!"](v,z(G,"String"),"to_str");return a.require(v)},Na.$$arity=1);a.def(c,"$require_relative",
Ta=function(v){z(G,"Opal")["$try_convert!"](v,z(G,"String"),"to_str");v=z(G,"File").$expand_path(z(G,"File").$join(a.current_file,"..",v));return a.require(v)},Ta.$$arity=1);a.def(c,"$require_tree",Za=function(v){var V=[];v=z(G,"File").$expand_path(v);v=a.normalize(v);"."===v&&(v="");for(var pa in a.modules)pa["$start_with?"](v)&&V.push([pa,a.require(pa)]);return V},Za.$$arity=1);a.alias(c,"send","__send__");a.alias(c,"public_send","__send__");a.def(c,"$singleton_class",Fa=function(){return a.get_singleton_class(this)},
Fa.$$arity=0);a.def(c,"$sleep",Y=function(v){null==v&&(v=t);v===t&&this.$raise(z(G,"TypeError"),"can't convert NilClass into time interval");v.$$is_number||this.$raise(z(G,"TypeError"),"can't convert "+v.$class()+" into time interval");0>v&&this.$raise(z(G,"ArgumentError"),"time interval must be positive");for(var V=a.global.performance?function(){return performance.now()}:function(){return new Date},pa=V();V()-pa<=1E3*v;);return Math.round(v)},Y.$$arity=-1);a.def(c,"$srand",R=function(v){null==v&&
(v=z(G,"Random").$new_seed());return z(G,"Random").$srand(v)},R.$$arity=-1);a.def(c,"$String",Z=function(v){var V;return p(V=z(G,"Opal")["$coerce_to?"](v,z(G,"String"),"to_str"))?V:z(G,"Opal")["$coerce_to!"](v,z(G,"String"),"to_s")},Z.$$arity=1);a.def(c,"$tap",U=function(){var v=U.$$p,V=v||t;v&&(U.$$p=null);v&&(U.$$p=null);a.yield1(V,this);return this},U.$$arity=0);a.def(c,"$to_proc",ha=function(){return this},ha.$$arity=0);a.def(c,"$to_s",la=function(){return"#<"+this.$class()+":0x"+this.$__id__().$to_s(16)+
">"},la.$$arity=0);a.def(c,"$catch",g=function(v){var V=g.$$p,pa=V||t;V&&(g.$$p=null);try{return a.yieldX(pa,[])}catch(La){if(a.rescue(La,[z(G,"UncaughtThrowError")])){V=La;try{return V.$sym()["$=="](v)?V.$arg():this.$raise()}finally{a.pop_exception()}}else throw La;}},g.$$arity=1);a.def(c,"$throw",C=function(v){var V=a.slice.call(arguments,0,arguments.length);return this.$raise(z(G,"UncaughtThrowError"),V)},C.$$arity=-1);a.def(c,"$open",O=function(v){var V=O.$$p,pa=V||t;V&&(O.$$p=null);V&&(O.$$p=
null);V=a.slice.call(arguments,0,arguments.length);return l(z(G,"File"),"open",a.to_a(V),pa.$to_proc())},O.$$arity=-1);a.def(c,"$yield_self",aa=function(){var v,V=aa.$$p,pa=V||t;V&&(aa.$$p=null);return pa===t?l(this,"enum_for",["yield_self"],(v=function(){return 1},v.$$s=this,v.$$arity=0,v)):a.yield1(pa,this)},aa.$$arity=0);a.alias(c,"then","yield_self");z(G,"Opal").$pristine(c,"method_missing")})(I[0],I);return function(c,$super,G){c=E(c,$super,"Object");G=[c].concat(G);return c.$include(z(G,"Kernel"))}(I[0],
null,I)};
Opal.modules["corelib/error"]=function(a){var x=[],I=a.nil,t=a.$$,w=a.klass,z=a.send,p=a.truthy,m=a.module,u=a.send2,D=a.hash2;a.add_stubs("$new $clone $to_s $empty? $class $raise $+ $attr_reader $[] $> $length $inspect".split(" "));(function(e,$super,E){e=w(e,$super,"Exception");var c=[e].concat(E),n,G,d,k,N,y,S,ja,da;e.$$prototype.message=I;a.defs(e,"$new",n=function(b){var h=a.slice.call(arguments,0,arguments.length);var f=0<h.length?h[0]:I,q=new this.$$constructor(f);q.name=this.$$name;q.message=
f;a.send(q,q.$initialize,h);a.config.enable_stack_trace&&Error.captureStackTrace&&Error.captureStackTrace(q,ma);return q},n.$$arity=-1);var ma=e.$new;a.defs(e,"$exception",G=function(b){var h=a.slice.call(arguments,0,arguments.length);return z(this,"new",a.to_a(h))},G.$$arity=-1);a.def(e,"$initialize",d=function(b){var h=a.slice.call(arguments,0,arguments.length);return this.message=0<h.length?h[0]:I},d.$$arity=-1);a.def(e,"$backtrace",k=function(){if(this.backtrace)return this.backtrace;var b=this.stack;
return"string"===typeof b?b.split("\n").slice(0,15):b?b.slice(0,15):[]},k.$$arity=0);a.def(e,"$exception",N=function(b){null==b&&(b=I);if(b===I||this===b)return this;var h=this.$clone();h.message=b;h.stack=this.stack;return h},N.$$arity=-1);a.def(e,"$message",y=function(){return this.$to_s()},y.$$arity=0);a.def(e,"$inspect",S=function(){var b=this.$to_s();return p(b["$empty?"]())?this.$class().$to_s():"#<"+this.$class().$to_s()+": "+this.$to_s()+">"},S.$$arity=0);a.def(e,"$set_backtrace",ja=function(b){var h=
!0,f;if(b===I)this.backtrace=I,this.stack="";else if(b.$$is_string)this.backtrace=[b],this.stack=b;else{if(b.$$is_array){var q=0;for(f=b.length;q<f;q++)if(!b[q].$$is_string){h=!1;break}}else h=!1;!1===h&&this.$raise(t(c,"TypeError"),"backtrace must be Array of String");this.backtrace=b;this.stack=b.join("\n")}return b},ja.$$arity=1);return(a.def(e,"$to_s",da=function(){var b=I,h=I;return p(b=p(h=this.message)?this.message.$to_s():h)?b:this.$class().$to_s()},da.$$arity=0),I)&&"to_s"})(x[0],Error,x);
(function(e,$super,E){[w(e,$super,"ScriptError")].concat(E);return I})(x[0],t(x,"Exception"),x);(function(e,$super,E){[w(e,$super,"SyntaxError")].concat(E);return I})(x[0],t(x,"ScriptError"),x);(function(e,$super,E){[w(e,$super,"LoadError")].concat(E);return I})(x[0],t(x,"ScriptError"),x);(function(e,$super,E){[w(e,$super,"NotImplementedError")].concat(E);return I})(x[0],t(x,"ScriptError"),x);(function(e,$super,E){[w(e,$super,"SystemExit")].concat(E);return I})(x[0],t(x,"Exception"),x);(function(e,
$super,E){[w(e,$super,"NoMemoryError")].concat(E);return I})(x[0],t(x,"Exception"),x);(function(e,$super,E){[w(e,$super,"SignalException")].concat(E);return I})(x[0],t(x,"Exception"),x);(function(e,$super,E){[w(e,$super,"Interrupt")].concat(E);return I})(x[0],t(x,"Exception"),x);(function(e,$super,E){[w(e,$super,"SecurityError")].concat(E);return I})(x[0],t(x,"Exception"),x);(function(e,$super,E){[w(e,$super,"StandardError")].concat(E);return I})(x[0],t(x,"Exception"),x);(function(e,$super,E){[w(e,
$super,"EncodingError")].concat(E);return I})(x[0],t(x,"StandardError"),x);(function(e,$super,E){[w(e,$super,"ZeroDivisionError")].concat(E);return I})(x[0],t(x,"StandardError"),x);(function(e,$super,E){[w(e,$super,"NameError")].concat(E);return I})(x[0],t(x,"StandardError"),x);(function(e,$super,E){[w(e,$super,"NoMethodError")].concat(E);return I})(x[0],t(x,"NameError"),x);(function(e,$super,E){[w(e,$super,"RuntimeError")].concat(E);return I})(x[0],t(x,"StandardError"),x);(function(e,$super,E){[w(e,
$super,"FrozenError")].concat(E);return I})(x[0],t(x,"RuntimeError"),x);(function(e,$super,E){[w(e,$super,"LocalJumpError")].concat(E);return I})(x[0],t(x,"StandardError"),x);(function(e,$super,E){[w(e,$super,"TypeError")].concat(E);return I})(x[0],t(x,"StandardError"),x);(function(e,$super,E){[w(e,$super,"ArgumentError")].concat(E);return I})(x[0],t(x,"StandardError"),x);(function(e,$super,E){[w(e,$super,"IndexError")].concat(E);return I})(x[0],t(x,"StandardError"),x);(function(e,$super,E){[w(e,
$super,"StopIteration")].concat(E);return I})(x[0],t(x,"IndexError"),x);(function(e,$super,E){[w(e,$super,"KeyError")].concat(E);return I})(x[0],t(x,"IndexError"),x);(function(e,$super,E){[w(e,$super,"RangeError")].concat(E);return I})(x[0],t(x,"StandardError"),x);(function(e,$super,E){[w(e,$super,"FloatDomainError")].concat(E);return I})(x[0],t(x,"RangeError"),x);(function(e,$super,E){[w(e,$super,"IOError")].concat(E);return I})(x[0],t(x,"StandardError"),x);(function(e,$super,E){[w(e,$super,"SystemCallError")].concat(E);
return I})(x[0],t(x,"StandardError"),x);(function(e,l){e=[m(e,"Errno")].concat(l);(function(E,$super,n){E=w(E,$super,"EINVAL");[E].concat(n);var G;return(a.defs(E,"$new",G=function(d){G.$$p&&(G.$$p=null);null==d&&(d=I);var k="Invalid argument";p(d)&&(d=" - "+d,k="number"===typeof k&&"number"===typeof d?k+d:k["$+"](d));return u(this,a.find_super_dispatcher(this,"new",G,!1,!0),"new",[k],null)},G.$$arity=-1),I)&&"new"})(e[0],t(e,"SystemCallError"),e)})(x[0],x);(function(e,$super,E){e=w(e,$super,"UncaughtThrowError");
[e].concat(E);var c;e.$$prototype.sym=I;e.$attr_reader("sym","arg");return(a.def(e,"$initialize",c=function(n){c.$$p&&(c.$$p=null);this.sym=n["$[]"](0);var G=n.$length();G="number"===typeof G?1<G:G["$>"](1);p(G)&&(this.arg=n["$[]"](1));return u(this,a.find_super_dispatcher(this,"initialize",c,!1,!0),"initialize",["uncaught throw "+this.sym.$inspect()],null)},c.$$arity=1),I)&&"initialize"})(x[0],t(x,"ArgumentError"),x);(function(e,$super,E){e=w(e,$super,"NameError");[e].concat(E);var c;e.$attr_reader("name");
return(a.def(e,"$initialize",c=function(n,G){c.$$p&&(c.$$p=null);null==G&&(G=I);u(this,a.find_super_dispatcher(this,"initialize",c,!1,!0),"initialize",[n],null);return this.name=G},c.$$arity=-2),I)&&"initialize"})(x[0],null,x);(function(e,$super,E){e=w(e,$super,"NoMethodError");[e].concat(E);var c;e.$attr_reader("args");return(a.def(e,"$initialize",c=function(n,G,d){c.$$p&&(c.$$p=null);null==G&&(G=I);null==d&&(d=[]);u(this,a.find_super_dispatcher(this,"initialize",c,!1,!0),"initialize",[n,G],null);
return this.args=d},c.$$arity=-2),I)&&"initialize"})(x[0],null,x);(function(e,$super,E){e=w(e,$super,"StopIteration");[e].concat(E);return e.$attr_reader("result")})(x[0],null,x);(function(e,$super,E){e=w(e,$super,"KeyError");var c=[e].concat(E),n,G,d;e.$$prototype.receiver=e.$$prototype.key=I;a.def(e,"$initialize",n=function(k,N){n.$$p&&(n.$$p=null);if(null==N)N=D([],{});else if(!N.$$is_hash)throw a.ArgumentError.$new("expected kwargs");var y=N.$$smap.receiver;null==y&&(y=I);N=N.$$smap.key;null==
N&&(N=I);u(this,a.find_super_dispatcher(this,"initialize",n,!1,!0),"initialize",[k],null);this.receiver=y;return this.key=N},n.$$arity=-2);a.def(e,"$receiver",G=function(){var k;return p(k=this.receiver)?k:this.$raise(t(c,"ArgumentError"),"no receiver is available")},G.$$arity=0);return(a.def(e,"$key",d=function(){var k;return p(k=this.key)?k:this.$raise(t(c,"ArgumentError"),"no key is available")},d.$$arity=0),I)&&"key"})(x[0],null,x);return function(e,l){e=[m(e,"JS")].concat(l);[w(e[0],null,"Error")].concat(e)}(x[0],
x)};
Opal.modules["corelib/constants"]=function(a){var x=[],I=a.$$;a.const_set(x[0],"RUBY_PLATFORM","opal");a.const_set(x[0],"RUBY_ENGINE","opal");a.const_set(x[0],"RUBY_VERSION","3.0.0");a.const_set(x[0],"RUBY_ENGINE_VERSION","1.1.1");a.const_set(x[0],"RUBY_RELEASE_DATE","2021-02-23");a.const_set(x[0],"RUBY_PATCHLEVEL",0);a.const_set(x[0],"RUBY_REVISION","0");a.const_set(x[0],"RUBY_COPYRIGHT","opal - Copyright (C) 2013-2021 Adam Beynon and the Opal contributors");return a.const_set(x[0],"RUBY_DESCRIPTION","opal "+
I(x,"RUBY_ENGINE_VERSION")+" ("+I(x,"RUBY_RELEASE_DATE")+" revision "+I(x,"RUBY_REVISION")+")")};Opal.modules["opal/base"]=function(a){var x=a.top;a.add_stubs(["$require"]);x.$require("corelib/runtime");x.$require("corelib/helpers");x.$require("corelib/module");x.$require("corelib/class");x.$require("corelib/basic_object");x.$require("corelib/kernel");x.$require("corelib/error");return x.$require("corelib/constants")};
Opal.modules["corelib/nil"]=function(a){var x=[],I=a.nil,t=a.$$,w=a.klass,z=a.hash2,p=a.truthy;a.add_stubs("$raise $name $new $> $length $Rational".split(" "));(function(m,$super,D){m=w(m,$super,"NilClass");var e=[m].concat(D),l,E,c,n,G,d,k,N,y,S,ja,da,ma,b,h,f,q,A;m.$$prototype.$$meta=m;(function(F,H){var K=[F].concat(H),ba;a.def(F,"$allocate",ba=function(){return this.$raise(t(K,"TypeError"),"allocator undefined for "+this.$name())},ba.$$arity=0);a.udef(F,"$new");return I})(a.get_singleton_class(m),
e);a.def(m,"$!",l=function(){return!0},l.$$arity=0);a.def(m,"$&",E=function(){return!1},E.$$arity=1);a.def(m,"$|",c=function(F){return!1!==F&&F!==I},c.$$arity=1);a.def(m,"$^",n=function(F){return!1!==F&&F!==I},n.$$arity=1);a.def(m,"$==",G=function(F){return F===I},G.$$arity=1);a.def(m,"$dup",d=function(){return I},d.$$arity=0);a.def(m,"$clone",k=function(F){if(null==F)z([],{});else if(!F.$$is_hash)throw a.ArgumentError.$new("expected kwargs");return I},k.$$arity=-1);a.def(m,"$inspect",N=function(){return"nil"},
N.$$arity=0);a.def(m,"$nil?",y=function(){return!0},y.$$arity=0);a.def(m,"$singleton_class",S=function(){return t(e,"NilClass")},S.$$arity=0);a.def(m,"$to_a",ja=function(){return[]},ja.$$arity=0);a.def(m,"$to_h",da=function(){return a.hash()},da.$$arity=0);a.def(m,"$to_i",ma=function(){return 0},ma.$$arity=0);a.alias(m,"to_f","to_i");a.def(m,"$to_s",b=function(){return""},b.$$arity=0);a.def(m,"$to_c",h=function(){return t(e,"Complex").$new(0,0)},h.$$arity=0);a.def(m,"$rationalize",f=function(F){var H=
a.slice.call(arguments,0,arguments.length).$length();H="number"===typeof H?1<H:H["$>"](1);p(H)&&this.$raise(t(e,"ArgumentError"));return this.$Rational(0,1)},f.$$arity=-1);a.def(m,"$to_r",q=function(){return this.$Rational(0,1)},q.$$arity=0);return(a.def(m,"$instance_variables",A=function(){return[]},A.$$arity=0),I)&&"instance_variables"})(x[0],null,x);return a.const_set(x[0],"NIL",I)};
Opal.modules["corelib/boolean"]=function(a){var x=[],I=a.nil,t=a.$$,w=a.klass,z=a.hash2;a.add_stubs(["$raise","$name"]);(function(p,$super,u){p=w(p,$super,"Boolean");var D=[p].concat(u),e,l,E,c,n,G,d,k,N,y;a.defineProperty(p.$$prototype,"$$is_boolean",!0);a.defineProperty(p.$$prototype,"$$meta",p);(function(S,ja){var da=[S].concat(ja),ma;a.def(S,"$allocate",ma=function(){return this.$raise(t(da,"TypeError"),"allocator undefined for "+this.$name())},ma.$$arity=0);a.udef(S,"$new");return I})(a.get_singleton_class(p),
D);a.def(p,"$__id__",e=function(){return this.valueOf()?2:0},e.$$arity=0);a.alias(p,"object_id","__id__");a.def(p,"$!",l=function(){return 1!=this},l.$$arity=0);a.def(p,"$&",E=function(S){return 1==this?!1!==S&&S!==I:!1},E.$$arity=1);a.def(p,"$|",c=function(S){return 1==this?!0:!1!==S&&S!==I},c.$$arity=1);a.def(p,"$^",n=function(S){return 1==this?!1===S||S===I:!1!==S&&S!==I},n.$$arity=1);a.def(p,"$==",G=function(S){return 1==this===S.valueOf()},G.$$arity=1);a.alias(p,"equal?","==");a.alias(p,"eql?",
"==");a.def(p,"$singleton_class",d=function(){return t(D,"Boolean")},d.$$arity=0);a.def(p,"$to_s",k=function(){return 1==this?"true":"false"},k.$$arity=0);a.def(p,"$dup",N=function(){return this},N.$$arity=0);return(a.def(p,"$clone",y=function(S){if(null==S)z([],{});else if(!S.$$is_hash)throw a.ArgumentError.$new("expected kwargs");return this},y.$$arity=-1),I)&&"clone"})(x[0],Boolean,x);a.const_set(x[0],"TrueClass",t(x,"Boolean"));a.const_set(x[0],"FalseClass",t(x,"Boolean"));a.const_set(x[0],"TRUE",
!0);return a.const_set(x[0],"FALSE",!1)};
Opal.modules["corelib/comparable"]=function(a){function x(D,e){return"number"===typeof D&&"number"===typeof e?D>e:D["$>"](e)}function I(D,e){return"number"===typeof D&&"number"===typeof e?D<e:D["$<"](e)}var t=[],w=a.nil,z=a.$$,p=a.falsy,m=a.module,u=a.truthy;a.add_stubs("$> $< $=== $raise $class $<=> $equal?".split(" "));return function(D,e){function l(ma){return a.is_a(ma,a.Integer)?ma:x(ma,0)?1:I(ma,0)?-1:0}function E(ma,b){var h=ma["$<=>"](b);p(h)&&(da=b,b=w["$==="](da)||(!0)["$==="](da)||(!1)["$==="](da)||
z(n,"Integer")["$==="](da)||z(n,"Float")["$==="](da)?b.$inspect():b.$$class,c.$raise(z(n,"ArgumentError"),"comparison of "+ma.$class()+" with "+b+" failed"));return l(h)}var c=m(D,"Comparable"),n=[c].concat(e),G,d,k,N,y,S,ja,da=w;a.def(c,"$==",G=function(ma){var b;return u(this["$equal?"](ma))?!0:this["$<=>"]==a.Kernel["$<=>"]?!1:this.$$comparable?(delete this.$$comparable,!1):u(b=this["$<=>"](ma))?0==l(b):!1},G.$$arity=1);a.def(c,"$>",d=function(ma){return 0<E(this,ma)},d.$$arity=1);a.def(c,"$>=",
k=function(ma){return 0<=E(this,ma)},k.$$arity=1);a.def(c,"$<",N=function(ma){return 0>E(this,ma)},N.$$arity=1);a.def(c,"$<=",y=function(ma){return 0>=E(this,ma)},y.$$arity=1);a.def(c,"$between?",S=function(ma,b){return I(this,ma)||x(this,b)?!1:!0},S.$$arity=2);a.def(c,"$clamp",ja=function(ma,b){null==b&&(b=w);if(b===w){a.is_a(ma,a.Range)||this.$raise(z(n,"TypeError"),"wrong argument type "+ma.$class()+" (expected Range)");var h=ma.excl;b=ma.end;ma=ma.begin;b!==w&&h&&this.$raise(z(n,"ArgumentError"),
"cannot clamp with an exclusive range")}ma!==w&&b!==w&&0<E(ma,b)&&this.$raise(z(n,"ArgumentError"),"min argument must be smaller than max argument");if(ma!==w){h=E(this,ma);if(0==h)return this;if(0>h)return ma}return b!==w&&(h=E(this,b),0<h)?b:this},ja.$$arity=-2)}(t[0],t)};
Opal.modules["corelib/regexp"]=function(a){var x=[],I=a.nil,t=a.$$,w=a.coerce_to,z=a.klass,p=a.send2,m=a.truthy,u=a.gvars,D=a.send;a.add_stubs("$nil? $[] $raise $escape $options $to_str $new $join $coerce_to! $! $match $coerce_to? $begin $=~ $attr_reader $=== $inspect $to_a".split(" "));(function(e,$super,E){[z(e,$super,"RegexpError")].concat(E);return I})(x[0],t(x,"StandardError"),x);(function(e,$super,E){e=z(e,$super,"Regexp");var c=[e].concat(E),n,G,d,k,N,y,S,ja,da,ma;a.const_set(c[0],"IGNORECASE",
1);a.const_set(c[0],"EXTENDED",2);a.const_set(c[0],"MULTILINE",4);a.defineProperty(e.$$prototype,"$$is_regexp",!0);(function(b,h){var f=[b].concat(h),q,A,F,H,K;a.def(b,"$allocate",q=function(){var ba=q.$$p,va;ba&&(q.$$p=null);var Pa=0;var wa=arguments.length;for(va=Array(wa);Pa<wa;Pa++)va[Pa]=arguments[Pa];ba=p(this,a.find_super_dispatcher(this,"allocate",q,!1,!0),"allocate",va,ba);ba.uninitialized=!0;return ba},q.$$arity=0);a.def(b,"$escape",A=function(ba){return a.escape_regexp(ba)},A.$$arity=1);
a.def(b,"$last_match",F=function(ba){null==u["~"]&&(u["~"]=I);null==ba&&(ba=I);return m(ba["$nil?"]())?u["~"]:u["~"]["$[]"](ba)},F.$$arity=-1);a.alias(b,"quote","escape");a.def(b,"$union",H=function(ba){var va=a.slice.call(arguments,0,arguments.length);if(0==va.length)return/(?!)/;if(1==va.length&&va[0].$$is_regexp)return va[0];var Pa=va[0].$$is_array;1<va.length&&Pa&&this.$raise(t(f,"TypeError"),"no implicit conversion of Array into String");Pa&&(va=va[0]);var wa=void 0;Pa=[];for(var Aa=0;Aa<va.length;Aa++){var Ma=
va[Aa];if(Ma.$$is_string)Pa.push(this.$escape(Ma));else if(Ma.$$is_regexp){var na=Ma.$options();void 0!=wa&&wa!=na&&this.$raise(t(f,"TypeError"),"All expressions must use the same options");wa=na;Pa.push("("+Ma.source+")")}else Pa.push(this.$escape(Ma.$to_str()))}return this.$new(Pa.$join("|"),wa)},H.$$arity=-1);a.def(b,"$new",K=function(ba,va){if(ba.$$is_regexp)return new RegExp(ba);ba=t(f,"Opal")["$coerce_to!"](ba,t(f,"String"),"to_str");"\\"===ba.charAt(ba.length-1)&&"\\"!==ba.charAt(ba.length-
2)&&this.$raise(t(f,"RegexpError"),"too short escape sequence: /"+ba+"/");if(void 0===va||va["$!"]())return new RegExp(ba);if(va.$$is_number){var Pa="";t(f,"IGNORECASE")&va&&(Pa+="i");t(f,"MULTILINE")&va&&(Pa+="m");va=Pa}else va="i";return new RegExp(ba,va)},K.$$arity=-2);return a.alias(b,"compile","new")})(a.get_singleton_class(e),c);a.def(e,"$==",n=function(b){return b instanceof RegExp&&this.toString()===b.toString()},n.$$arity=1);a.def(e,"$===",G=function(b){return this.$match(t(c,"Opal")["$coerce_to?"](b,
t(c,"String"),"to_str"))!==I},G.$$arity=1);a.def(e,"$=~",d=function(b){var h;null==u["~"]&&(u["~"]=I);return m(h=this.$match(b))?u["~"].$begin(0):h},d.$$arity=1);a.alias(e,"eql?","==");a.def(e,"$inspect",k=function(){var b=this.toString(),h=/^\/(.*)\/([^\/]*)$/.exec(b);if(h){b=h[2];h=h[1].split("");for(var f=h.length,q=!1,A="",F=0;F<f;F++){var H=h[F];q||"/"!=H||(A=A.concat("\\"));A=A.concat(H);q="\\"==H?q?!1:!0:!1}return"/"+A+"/"+b}return b},k.$$arity=0);a.def(e,"$match",N=function(b,h){var f=N.$$p,
q=f||I;null==u["~"]&&(u["~"]=I);f&&(N.$$p=null);f&&(N.$$p=null);this.uninitialized&&this.$raise(t(c,"TypeError"),"uninitialized Regexp");if(void 0===h)return b===I?u["~"]=I:(b=this.exec(w(b,t(c,"String"),"to_str")))?(u["~"]=t(c,"MatchData").$new(this,b),q===I?u["~"]:a.yield1(q,u["~"])):u["~"]=I;h=w(h,t(c,"Integer"),"to_int");if(b===I)return u["~"]=I;b=w(b,t(c,"String"),"to_str");if(0>h&&(h+=b.length,0>h))return u["~"]=I;for(var A=a.global_regexp(this);;){f=A.exec(b);if(null===f)return u["~"]=I;if(f.index>=
h)return u["~"]=t(c,"MatchData").$new(A,f),q===I?u["~"]:a.yield1(q,u["~"]);A.lastIndex=f.index+1}},N.$$arity=-2);a.def(e,"$match?",y=function(b,h){this.uninitialized&&this.$raise(t(c,"TypeError"),"uninitialized Regexp");if(void 0===h)return b===I?!1:this.test(w(b,t(c,"String"),"to_str"));h=w(h,t(c,"Integer"),"to_int");if(b===I)return!1;b=w(b,t(c,"String"),"to_str");if(0>h&&(h+=b.length,0>h))return!1;b=a.global_regexp(this).exec(b);return null===b||b.index<h?!1:!0},y.$$arity=-2);a.def(e,"$~",S=function(){null==
u._&&(u._=I);return this["$=~"](u._)},S.$$arity=0);a.def(e,"$source",ja=function(){return this.source},ja.$$arity=0);a.def(e,"$options",da=function(){this.uninitialized&&this.$raise(t(c,"TypeError"),"uninitialized Regexp");var b=0;this.multiline&&(b|=t(c,"MULTILINE"));this.ignoreCase&&(b|=t(c,"IGNORECASE"));return b},da.$$arity=0);a.def(e,"$casefold?",ma=function(){return this.ignoreCase},ma.$$arity=0);return a.alias(e,"to_s","source")})(x[0],RegExp,x);return function(e,$super,E){e=z(e,$super,"MatchData");
var c=[e].concat(E),n,G,d,k,N,y,S,ja,da,ma,b,h;e.$$prototype.matches=I;e.$attr_reader("post_match","pre_match","regexp","string");a.def(e,"$initialize",n=function(f,q){u["~"]=this;this.regexp=f;this.begin=q.index;this.string=q.input;this.pre_match=q.input.slice(0,q.index);this.post_match=q.input.slice(q.index+q[0].length);this.matches=[];f=0;for(var A=q.length;f<A;f++){var F=q[f];null==F?this.matches.push(I):this.matches.push(F)}},n.$$arity=2);a.def(e,"$[]",G=function(f){var q=a.slice.call(arguments,
0,arguments.length);return D(this.matches,"[]",a.to_a(q))},G.$$arity=-1);a.def(e,"$offset",d=function(f){0!==f&&this.$raise(t(c,"ArgumentError"),"MatchData#offset only supports 0th element");return[this.begin,this.begin+this.matches[f].length]},d.$$arity=1);a.def(e,"$==",k=function(f){var q=I,A=I,F=I,H=I;return m(t(c,"MatchData")["$==="](f))?m(q=m(A=m(F=m(H=this.string==f.string)?this.regexp.toString()==f.regexp.toString():H)?this.pre_match==f.pre_match:F)?this.post_match==f.post_match:A)?this.begin==
f.begin:q:!1},k.$$arity=1);a.alias(e,"eql?","==");a.def(e,"$begin",N=function(f){0!==f&&this.$raise(t(c,"ArgumentError"),"MatchData#begin only supports 0th element");return this.begin},N.$$arity=1);a.def(e,"$end",y=function(f){0!==f&&this.$raise(t(c,"ArgumentError"),"MatchData#end only supports 0th element");return this.begin+this.matches[f].length},y.$$arity=1);a.def(e,"$captures",S=function(){return this.matches.slice(1)},S.$$arity=0);a.def(e,"$inspect",ja=function(){for(var f="#<MatchData "+this.matches[0].$inspect(),
q=1,A=this.matches.length;q<A;q++)f+=" "+q+":"+this.matches[q].$inspect();return f+">"},ja.$$arity=0);a.def(e,"$length",da=function(){return this.matches.length},da.$$arity=0);a.alias(e,"size","length");a.def(e,"$to_a",ma=function(){return this.matches},ma.$$arity=0);a.def(e,"$to_s",b=function(){return this.matches[0]},b.$$arity=0);return(a.def(e,"$values_at",h=function(f){var q=a.slice.call(arguments,0,arguments.length);var A,F=[];for(A=0;A<q.length;A++){if(q[A].$$is_range){var H=q[A].$to_a();H.unshift(A,
1);Array.prototype.splice.apply(q,H)}H=t(c,"Opal")["$coerce_to!"](q[A],t(c,"Integer"),"to_int");if(0>H&&(H+=this.matches.length,0>H)){F.push(I);continue}F.push(this.matches[H])}return F},h.$$arity=-1),I)&&"values_at"}(x[0],null,x)};
Opal.modules["corelib/string"]=function(a){function x(n,G){return"number"===typeof n&&"number"===typeof G?n/G:n["$/"](G)}function I(n,G){return"number"===typeof n&&"number"===typeof G?n+G:n["$+"](G)}var t=a.top,w=[],z=a.nil,p=a.$$$,m=a.$$,u=a.coerce_to,D=a.respond_to,e=a.klass,l=a.truthy,E=a.send,c=a.gvars;a.add_stubs("$require $include $coerce_to? $raise $=== $format $to_s $respond_to? $to_str $<=> $== $=~ $new $force_encoding $casecmp $empty? $ljust $ceil $/ $+ $rjust $floor $to_a $each_char $to_proc $coerce_to! $copy_singleton_methods $initialize_clone $initialize_dup $enum_for $size $chomp $[] $to_i $each_line $encoding $class $match $match? $captures $proc $succ $escape $include? $upcase $unicode_normalize".split(" "));
t.$require("corelib/comparable");t.$require("corelib/regexp");(function(n,$super,d){function k(B){function P(Ua){var Ya="",hb,qb=Ua.length;for(hb=0;hb<qb;hb++){var nb=Ua.charAt(hb);if("-"===nb&&0<hb&&hb<qb-1&&!pb){var pb=Ua.charCodeAt(hb-1);nb=Ua.charCodeAt(hb+1);pb>nb&&N.$raise(m(y,"ArgumentError"),'invalid range "'+pb+"-"+nb+'" in string transliteration');for(pb+=1;pb<nb+1;pb++)Ya+=String.fromCharCode(pb);pb=!0;hb++}else pb="\\"===nb,Ya+=nb}return Ya}function ra(Ua,Ya){if(0===Ua.length)return Ya;
var hb="",qb,nb=Ua.length;for(qb=0;qb<nb;qb++){var pb=Ua.charAt(qb);-1!==Ya.indexOf(pb)&&(hb+=pb)}return hb}var Ga,Da="",Ia="";var Xa=0;for(Ga=B.length;Xa<Ga;Xa++){var ib=u(B[Xa],m(y,"String"),"to_str");var fb="^"===ib.charAt(0)&&1<ib.length;ib=P(fb?ib.slice(1):ib);fb?Ia=ra(Ia,ib):Da=ra(Da,ib)}if(0<Da.length&&0<Ia.length){ib="";Xa=0;for(Ga=Da.length;Xa<Ga;Xa++)B=Da.charAt(Xa),-1===Ia.indexOf(B)&&(ib+=B);Da=ib;Ia=""}return 0<Da.length?"["+m(y,"Regexp").$escape(Da)+"]":0<Ia.length?"[^"+m(y,"Regexp").$escape(Ia)+
"]":null}var N=e(n,$super,"String"),y=[N].concat(d),S,ja,da,ma,b,h,f,q,A,F,H,K,ba,va,Pa,wa,Aa,Ma,na,T,sa,xa,Ja,ka,M,L,fa,oa,ea,ta,Ea,Ha,Ra,Sa,Ka,eb,kb,W,ya,Ba,Va,bb,db,Ca,Wa,za,ua,Na,Ta,Za,Fa,Y,R,Z,U,ha,la,g,C,O,aa,v,V,pa,La,jb,ob,mb,sb,tb,wb,xb,ub,X,Oa,cb;N.$include(m(y,"Comparable"));a.defineProperty(N.$$prototype,"$$is_string",!0);a.defineProperty(N.$$prototype,"$$cast",function(B){var P=this.$$class;return P.$$constructor===String?B:new P.$$constructor(B)});a.def(N,"$__id__",S=function(){return this.toString()},
S.$$arity=0);a.alias(N,"object_id","__id__");a.defs(N,"$try_convert",ja=function(B){return m(y,"Opal")["$coerce_to?"](B,m(y,"String"),"to_str")},ja.$$arity=1);a.defs(N,"$new",da=function(B){null==B&&(B="");B=u(B,m(y,"String"),"to_str");return new this.$$constructor(B)},da.$$arity=-1);a.def(N,"$initialize",ma=function(B){return void 0===B?this:this.$raise(m(y,"NotImplementedError"),"Mutable strings are not supported in Opal.")},ma.$$arity=-1);a.def(N,"$%",b=function(B){return l(m(y,"Array")["$==="](B))?
E(this,"format",[this].concat(a.to_a(B))):this.$format(this,B)},b.$$arity=1);a.def(N,"$*",h=function(B){B=u(B,m(y,"Integer"),"to_int");0>B&&this.$raise(m(y,"ArgumentError"),"negative argument");if(0===B)return this.$$cast("");var P="",ra=this.toString();for(268435456<=ra.length*B&&this.$raise(m(y,"RangeError"),"multiply count must not overflow maximum string size");;){1===(B&1)&&(P+=ra);B>>>=1;if(0===B)break;ra+=ra}return this.$$cast(P)},h.$$arity=1);a.def(N,"$+",f=function(B){B=u(B,m(y,"String"),
"to_str");return this+B.$to_s()},f.$$arity=1);a.def(N,"$<=>",q=function(B){if(l(B["$respond_to?"]("to_str")))return B=B.$to_str().$to_s(),this>B?1:this<B?-1:0;B=B["$<=>"](this);return B===z?z:0<B?-1:0>B?1:0},q.$$arity=1);a.def(N,"$==",A=function(B){return B.$$is_string?this.toString()===B.toString():D(B,"$to_str")?B["$=="](this):!1},A.$$arity=1);a.alias(N,"eql?","==");a.alias(N,"===","==");a.def(N,"$=~",F=function(B){B.$$is_string&&this.$raise(m(y,"TypeError"),"type mismatch: String given");return B["$=~"](this)},
F.$$arity=1);a.def(N,"$[]",H=function(B,P){var ra=this.length;if(B.$$is_range){var Ga=B.excl;P=u(B.end,m(y,"Integer"),"to_int");B=u(B.begin,m(y,"Integer"),"to_int");if(Math.abs(B)>ra)return z;0>B&&(B+=ra);0>P&&(P+=ra);Ga||(P+=1);P-=B;0>P&&(P=0);return this.$$cast(this.substr(B,P))}if(B.$$is_string)return null!=P&&this.$raise(m(y,"TypeError")),-1!==this.indexOf(B)?this.$$cast(B):z;if(B.$$is_regexp){ra=this.match(B);if(null===ra)return c["~"]=z;c["~"]=m(y,"MatchData").$new(B,ra);if(null==P)return this.$$cast(ra[0]);
P=u(P,m(y,"Integer"),"to_int");return 0>P&&-P<ra.length?this.$$cast(ra[P+ra.length]):0<=P&&P<ra.length?this.$$cast(ra[P]):z}B=u(B,m(y,"Integer"),"to_int");0>B&&(B+=ra);if(null==P)return B>=ra||0>B?z:this.$$cast(this.substr(B,1));P=u(P,m(y,"Integer"),"to_int");return 0>P||B>ra||0>B?z:this.$$cast(this.substr(B,P))},H.$$arity=-2);a.alias(N,"byteslice","[]");a.def(N,"$b",K=function(){return this.$force_encoding("binary")},K.$$arity=0);a.def(N,"$capitalize",ba=function(){return this.$$cast(this.charAt(0).toUpperCase()+
this.substr(1).toLowerCase())},ba.$$arity=0);a.def(N,"$casecmp",va=function(B){var P=this;if(!l(B["$respond_to?"]("to_str")))return z;B=u(B,m(y,"String"),"to_str").$to_s();var ra=/^[\x00-\x7F]*$/;ra.test(P)&&ra.test(B)&&(P=P.toLowerCase(),B=B.toLowerCase());return P["$<=>"](B)},va.$$arity=1);a.def(N,"$casecmp?",Pa=function(B){B=this.$casecmp(B);return B===z?z:0===B},Pa.$$arity=1);a.def(N,"$center",wa=function(B,P){null==P&&(P=" ");B=u(B,m(y,"Integer"),"to_int");P=u(P,m(y,"String"),"to_str").$to_s();
l(P["$empty?"]())&&this.$raise(m(y,"ArgumentError"),"zero width padding");if(l(B<=this.length))return this;var ra=this.$ljust(x(I(B,this.length),2).$ceil(),P);B=this.$rjust(x(I(B,this.length),2).$floor(),P);return this.$$cast(B+ra.slice(this.length))},wa.$$arity=-2);a.def(N,"$chars",Aa=function(){var B=Aa.$$p,P=B||z;B&&(Aa.$$p=null);B&&(Aa.$$p=null);return l(P)?E(this,"each_char",[],P.$to_proc()):this.$each_char().$to_a()},Aa.$$arity=0);a.def(N,"$chomp",Ma=function(B){null==c["/"]&&(c["/"]=z);null==
B&&(B=c["/"]);if(l(B===z||0===this.length))return this;B=m(y,"Opal")["$coerce_to!"](B,m(y,"String"),"to_str").$to_s();var P;"\n"===B?P=this.replace(/\r?\n?$/,""):""===B?P=this.replace(/(\r?\n)+$/,""):this.length>=B.length&&this.substr(this.length-B.length,B.length)===B&&(P=this.substr(0,this.length-B.length));return null!=P?this.$$cast(P):this},Ma.$$arity=-1);a.def(N,"$chop",na=function(){var B=this.length;B=1>=B?"":"\n"===this.charAt(B-1)&&"\r"===this.charAt(B-2)?this.substr(0,B-2):this.substr(0,
B-1);return this.$$cast(B)},na.$$arity=0);a.def(N,"$chr",T=function(){return this.charAt(0)},T.$$arity=0);a.def(N,"$clone",sa=function(){var B=new String(this);B.$copy_singleton_methods(this);B.$initialize_clone(this);return B},sa.$$arity=0);a.def(N,"$dup",xa=function(){var B=new String(this);B.$initialize_dup(this);return B},xa.$$arity=0);a.def(N,"$count",Ja=function(B){var P=a.slice.call(arguments,0,arguments.length);0===P.length&&this.$raise(m(y,"ArgumentError"),"ArgumentError: wrong number of arguments (0 for 1+)");
P=k(P);return null===P?0:this.length-this.replace(new RegExp(P,"g"),"").length},Ja.$$arity=-1);a.def(N,"$delete",ka=function(B){var P=a.slice.call(arguments,0,arguments.length);0===P.length&&this.$raise(m(y,"ArgumentError"),"ArgumentError: wrong number of arguments (0 for 1+)");P=k(P);return null===P?this:this.$$cast(this.replace(new RegExp(P,"g"),""))},ka.$$arity=-1);a.def(N,"$delete_prefix",M=function(B){B.$$is_string||(B=u(B,m(y,"String"),"to_str"));return this.slice(0,B.length)===B?this.$$cast(this.slice(B.length)):
this},M.$$arity=1);a.def(N,"$delete_suffix",L=function(B){B.$$is_string||(B=u(B,m(y,"String"),"to_str"));return this.slice(this.length-B.length)===B?this.$$cast(this.slice(0,this.length-B.length)):this},L.$$arity=1);a.def(N,"$downcase",fa=function(){return this.$$cast(this.toLowerCase())},fa.$$arity=0);a.def(N,"$each_char",oa=function(){var B=oa.$$p,P=B||z,ra;B&&(oa.$$p=null);B&&(oa.$$p=null);if(P===z)return E(this,"enum_for",["each_char"],(ra=function(){return(null==ra.$$s?this:ra.$$s).$size()},
ra.$$s=this,ra.$$arity=0,ra));B=0;for(var Ga=this.length;B<Ga;B++)a.yield1(P,this.charAt(B));return this},oa.$$arity=0);a.def(N,"$each_line",ea=function(B){var P=ea.$$p,ra=P||z;null==c["/"]&&(c["/"]=z);P&&(ea.$$p=null);P&&(ea.$$p=null);null==B&&(B=c["/"]);if(ra===z)return this.$enum_for("each_line",B);if(B===z)return a.yield1(ra,this),this;B=u(B,m(y,"String"),"to_str");var Ga,Da;if(0===B.length){B=this.split(/(\n{2,})/);P=0;for(Ga=B.length;P<Ga;P+=2)(B[P]||B[P+1])&&a.yield1(ra,this.$$cast((B[P]||
"")+(B[P+1]||"")));return this}P=this.$chomp(B);Ga=this.length!=P.length;var Ia=P.split(B);P=0;for(Da=Ia.length;P<Da;P++)P<Da-1||Ga?a.yield1(ra,this.$$cast(Ia[P]+B)):a.yield1(ra,this.$$cast(Ia[P]));return this},ea.$$arity=-1);a.def(N,"$empty?",ta=function(){return 0===this.length},ta.$$arity=0);a.def(N,"$end_with?",Ea=function(B){var P=a.slice.call(arguments,0,arguments.length);for(var ra=0,Ga=P.length;ra<Ga;ra++){var Da=u(P[ra],m(y,"String"),"to_str").$to_s();if(this.length>=Da.length&&this.substr(this.length-
Da.length,Da.length)==Da)return!0}return!1},Ea.$$arity=-1);a.alias(N,"equal?","===");a.def(N,"$gsub",Ha=function(B,P){var ra=Ha.$$p,Ga=ra||z,Da=this;ra&&(Ha.$$p=null);ra&&(Ha.$$p=null);if(void 0===P&&Ga===z)return Da.$enum_for("gsub",B);ra="";var Ia=z,Xa=0;B.$$is_regexp?B=a.global_multiline_regexp(B):(B=u(B,m(y,"String"),"to_str"),B=new RegExp(B.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));for(var ib;;){var fb=B.exec(Da);if(null===fb){c["~"]=z;ra+=Da.slice(Xa);break}Ia=m(y,"MatchData").$new(B,fb);
if(void 0===P){ib=B.lastIndex;var Ua=Ga(fb[0]);B.lastIndex=ib}else P.$$is_hash?Ua=P["$[]"](fb[0]).$to_s():(P.$$is_string||(P=u(P,m(y,"String"),"to_str")),Ua=P.replace(/([\\]+)([0-9+&`'])/g,function(Ya,hb,qb){if(0===hb.length%2)return Ya;switch(qb){case "+":for(Ya=fb.length-1;0<Ya;Ya--)if(void 0!==fb[Ya])return hb.slice(1)+fb[Ya];return"";case "&":return hb.slice(1)+fb[0];case "`":return hb.slice(1)+Da.slice(0,fb.index);case "'":return hb.slice(1)+Da.slice(fb.index+fb[0].length);default:return hb.slice(1)+
(fb[qb]||"")}}).replace(/\\\\/g,"\\"));B.lastIndex===fb.index?(ra+=Da.slice(Xa,fb.index)+Ua+(Da[fb.index]||""),B.lastIndex+=1):ra+=Da.slice(Xa,fb.index)+Ua;Xa=B.lastIndex}c["~"]=Ia;return Da.$$cast(ra)},Ha.$$arity=-2);a.def(N,"$hash",Ra=function(){return this.toString()},Ra.$$arity=0);a.def(N,"$hex",Sa=function(){return this.$to_i(16)},Sa.$$arity=0);a.def(N,"$include?",Ka=function(B){B.$$is_string||(B=u(B,m(y,"String"),"to_str"));return-1!==this.indexOf(B)},Ka.$$arity=1);a.def(N,"$index",eb=function(B,
P){var ra;if(void 0===P)P=0;else if(P=u(P,m(y,"Integer"),"to_int"),0>P&&(P+=this.length,0>P))return z;if(B.$$is_regexp)for(ra=a.global_multiline_regexp(B);;){B=ra.exec(this);if(null===B){c["~"]=z;P=-1;break}if(B.index>=P){c["~"]=m(y,"MatchData").$new(ra,B);P=B.index;break}ra.lastIndex=B.index+1}else B=u(B,m(y,"String"),"to_str"),P=0===B.length&&P>this.length?-1:this.indexOf(B,P);return-1===P?z:P},eb.$$arity=-2);a.def(N,"$inspect",kb=function(){var B={"\u0007":"\\a","\u001b":"\\e","\b":"\\b","\t":"\\t",
"\n":"\\n","\f":"\\f","\r":"\\r","\x0B":"\\v",'"':'\\"',"\\":"\\\\"};return'"'+this.replace(/[\\"\x00-\x1f\u007F-\u009F\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,function(P){return B[P]||"\\u"+("0000"+P.charCodeAt(0).toString(16).toUpperCase()).slice(-4)}).replace(/#[\$@\{]/g,"\\$&")+'"'},kb.$$arity=0);a.def(N,"$intern",W=function(){return this.toString()},W.$$arity=0);a.def(N,"$lines",ya=function(B){var P=ya.$$p,ra=P||z;null==c["/"]&&(c["/"]=z);P&&
(ya.$$p=null);P&&(ya.$$p=null);null==B&&(B=c["/"]);B=E(this,"each_line",[B],ra.$to_proc());return l(ra)?this:B.$to_a()},ya.$$arity=-1);a.def(N,"$length",Ba=function(){return this.length},Ba.$$arity=0);a.def(N,"$ljust",Va=function(B,P){null==P&&(P=" ");B=u(B,m(y,"Integer"),"to_int");P=u(P,m(y,"String"),"to_str").$to_s();l(P["$empty?"]())&&this.$raise(m(y,"ArgumentError"),"zero width padding");if(l(B<=this.length))return this;var ra=-1,Ga="";for(B-=this.length;++ra<B;)Ga+=P;return this.$$cast(this+
Ga.slice(0,B))},Va.$$arity=-2);a.def(N,"$lstrip",bb=function(){return this.replace(/^\s*/,"")},bb.$$arity=0);a.def(N,"$ascii_only?",db=function(){return this.$encoding()["$=="](p(m(y,"Encoding"),"UTF_16BE"))?!1:/^[\x00-\x7F]*$/.test(this)},db.$$arity=0);a.def(N,"$match",Ca=function(B,P){var ra=Ca.$$p,Ga=ra||z,Da=z;ra&&(Ca.$$p=null);ra&&(Ca.$$p=null);l(l(Da=m(y,"String")["$==="](B))?Da:B["$respond_to?"]("to_str"))&&(B=m(y,"Regexp").$new(B.$to_str()));l(m(y,"Regexp")["$==="](B))||this.$raise(m(y,"TypeError"),
"wrong argument type "+B.$class()+" (expected Regexp)");return E(B,"match",[this,P],Ga.$to_proc())},Ca.$$arity=-2);a.def(N,"$match?",Wa=function(B,P){var ra=z;l(l(ra=m(y,"String")["$==="](B))?ra:B["$respond_to?"]("to_str"))&&(B=m(y,"Regexp").$new(B.$to_str()));l(m(y,"Regexp")["$==="](B))||this.$raise(m(y,"TypeError"),"wrong argument type "+B.$class()+" (expected Regexp)");return B["$match?"](this,P)},Wa.$$arity=-2);a.def(N,"$next",za=function(){var B=this.length;if(0===B)return this.$$cast("");for(var P=
this,ra=this.search(/[a-zA-Z0-9]/),Ga,Da;B--;){Da=this.charCodeAt(B);if(48<=Da&&57>=Da||65<=Da&&90>=Da||97<=Da&&122>=Da)switch(Da){case 57:Ga=!0;Da=48;break;case 90:Ga=!0;Da=65;break;case 122:Ga=!0;Da=97;break;default:Ga=!1,Da+=1}else-1===ra?255===Da?(Ga=!0,Da=0):(Ga=!1,Da+=1):Ga=!0;P=P.slice(0,B)+String.fromCharCode(Da)+P.slice(B+1);if(Ga&&(0===B||B===ra)){switch(Da){case 65:break;case 97:break;default:Da+=1}P=0===B?String.fromCharCode(Da)+P:P.slice(0,B)+String.fromCharCode(Da)+P.slice(B);Ga=!1}if(!Ga)break}return this.$$cast(P)},
za.$$arity=0);a.def(N,"$oct",ua=function(){var B=this;var P=8;if(/^\s*_/.test(B))return 0;B=B.replace(/^(\s*[+-]?)(0[bodx]?)(.+)$/i,function(ra,Ga,Da,Ia){switch(Ia.charAt(0)){case "+":case "-":return ra;case "0":if("x"===Ia.charAt(1)&&"0x"===Da)return ra}switch(Da){case "0b":P=2;break;case "0":case "0o":P=8;break;case "0d":P=10;break;case "0x":P=16}return Ga+Ia});B=parseInt(B.replace(/_(?!_)/g,""),P);return isNaN(B)?0:B},ua.$$arity=0);a.def(N,"$ord",Na=function(){return this.charCodeAt(0)},Na.$$arity=
0);a.def(N,"$partition",Ta=function(B){if(B.$$is_regexp){var P=B.exec(this);null===P?P=-1:(m(y,"MatchData").$new(B,P),B=P[0],P=P.index)}else B=u(B,m(y,"String"),"to_str"),P=this.indexOf(B);return-1===P?[this,"",""]:[this.slice(0,P),this.slice(P,P+B.length),this.slice(P+B.length)]},Ta.$$arity=1);a.def(N,"$reverse",Za=function(){return this.split("").reverse().join("")},Za.$$arity=0);a.def(N,"$rindex",Fa=function(B,P){if(void 0===P)P=this.length;else if(P=u(P,m(y,"Integer"),"to_int"),0>P&&(P+=this.length,
0>P))return z;if(B.$$is_regexp){var ra=null;for(B=a.global_multiline_regexp(B);;){var Ga=B.exec(this);if(null===Ga||Ga.index>P)break;ra=Ga;B.lastIndex=ra.index+1}null===ra?(c["~"]=z,P=-1):(m(y,"MatchData").$new(B,ra),P=ra.index)}else B=u(B,m(y,"String"),"to_str"),P=this.lastIndexOf(B,P);return-1===P?z:P},Fa.$$arity=-2);a.def(N,"$rjust",Y=function(B,P){null==P&&(P=" ");B=u(B,m(y,"Integer"),"to_int");P=u(P,m(y,"String"),"to_str").$to_s();l(P["$empty?"]())&&this.$raise(m(y,"ArgumentError"),"zero width padding");
if(l(B<=this.length))return this;B=Math.floor(B-this.length);var ra=Array(Math.floor(B/P.length)+1).join(P);return this.$$cast(ra+P.slice(0,B-ra.length)+this)},Y.$$arity=-2);a.def(N,"$rpartition",R=function(B){var P;if(B.$$is_regexp){var ra=null;for(P=a.global_multiline_regexp(B);;){var Ga=P.exec(this);if(null===Ga)break;ra=Ga;P.lastIndex=ra.index+1}null===ra?ra=-1:(m(y,"MatchData").$new(P,ra),B=ra[0],ra=ra.index)}else B=u(B,m(y,"String"),"to_str"),ra=this.lastIndexOf(B);return-1===ra?["","",this]:
[this.slice(0,ra),this.slice(ra,ra+B.length),this.slice(ra+B.length)]},R.$$arity=1);a.def(N,"$rstrip",Z=function(){return this.replace(/[\s\u0000]*$/,"")},Z.$$arity=0);a.def(N,"$scan",U=function(B){var P=U.$$p,ra=P||z;P&&(U.$$p=null);P&&(U.$$p=null);P=[];var Ga=z,Da;B.$$is_regexp?B=a.global_multiline_regexp(B):(B=u(B,m(y,"String"),"to_str"),B=new RegExp(B.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));for(;null!=(Da=B.exec(this));)Ga=m(y,"MatchData").$new(B,Da),ra===z?1==Da.length?P.push(Da[0]):P.push(Ga.$captures()):
1==Da.length?ra(Da[0]):ra.call(this,Ga.$captures()),B.lastIndex===Da.index&&(B.lastIndex+=1);c["~"]=Ga;return ra!==z?this:P},U.$$arity=1);a.alias(N,"size","length");a.alias(N,"slice","[]");a.def(N,"$split",ha=function(B,P){function ra(){for(ib=0;ib<Ia.length;ib++)Ia[ib]=Ga.$$cast(Ia[ib])}var Ga=this,Da=z;null==c[";"]&&(c[";"]=z);if(0===Ga.length)return[];if(void 0===P)P=0;else if(P=m(y,"Opal")["$coerce_to!"](P,m(y,"Integer"),"to_int"),1===P)return[Ga];if(void 0===B||B===z)B=l(Da=c[";"])?Da:" ";var Ia=
[];Da=Ga.toString();var Xa=0,ib;B.$$is_regexp?B=a.global_multiline_regexp(B):(B=u(B,m(y,"String"),"to_str").$to_s()," "===B?(B=/\s+/gm,Da=Da.replace(/^\s+/,"")):B=new RegExp(B.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));Ia=Da.split(B);if(1===Ia.length&&Ia[0]===Da)return[Ga.$$cast(Ia[0])];for(;-1!==(ib=Ia.indexOf(void 0));)Ia.splice(ib,1);if(0===P){for(;""===Ia[Ia.length-1];)--Ia.length;ra();return Ia}var fb=B.exec(Da);if(0>P){if(null!==fb&&""===fb[0]&&-1===B.source.indexOf("(?="))for(ib=0,B=fb.length;ib<
B;ib++)Ia.push("");ra();return Ia}if(null!==fb&&""===fb[0])return Ia.splice(P-1,Ia.length-1,Ia.slice(P-1).join("")),ra(),Ia;if(P>=Ia.length)return ra(),Ia;for(ib=0;null!==fb;){ib++;Xa=B.lastIndex;if(ib+1===P)break;fb=B.exec(Da)}Ia.splice(P-1,Ia.length-1,Da.slice(Xa));ra();return Ia},ha.$$arity=-1);a.def(N,"$squeeze",la=function(B){var P=a.slice.call(arguments,0,arguments.length);if(0===P.length)return this.$$cast(this.replace(/(.)\1+/g,"$1"));P=k(P);return null===P?this:this.$$cast(this.replace(new RegExp("("+
P+")\\1+","g"),"$1"))},la.$$arity=-1);a.def(N,"$start_with?",g=function(B){var P=a.slice.call(arguments,0,arguments.length);for(var ra=0,Ga=P.length;ra<Ga;ra++){var Da=u(P[ra],m(y,"String"),"to_str").$to_s();if(0===this.indexOf(Da))return!0}return!1},g.$$arity=-1);a.def(N,"$strip",C=function(){return this.replace(/^\s*/,"").replace(/[\s\u0000]*$/,"")},C.$$arity=0);a.def(N,"$sub",O=function(B,P){var ra=O.$$p,Ga=ra||z,Da=this;ra&&(O.$$p=null);ra&&(O.$$p=null);B.$$is_regexp||(B=u(B,m(y,"String"),"to_str"),
B=new RegExp(B.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")));var Ia=B.exec(Da);null===Ia?(c["~"]=z,B=Da.toString()):(m(y,"MatchData").$new(B,Ia),void 0===P?(Ga===z&&Da.$raise(m(y,"ArgumentError"),"wrong number of arguments (1 for 2)"),B=Da.slice(0,Ia.index)+Ga(Ia[0])+Da.slice(Ia.index+Ia[0].length)):P.$$is_hash?B=Da.slice(0,Ia.index)+P["$[]"](Ia[0]).$to_s()+Da.slice(Ia.index+Ia[0].length):(P=u(P,m(y,"String"),"to_str"),P=P.replace(/([\\]+)([0-9+&`'])/g,function(Xa,ib,fb){if(0===ib.length%2)return Xa;switch(fb){case "+":for(Xa=
Ia.length-1;0<Xa;Xa--)if(void 0!==Ia[Xa])return ib.slice(1)+Ia[Xa];return"";case "&":return ib.slice(1)+Ia[0];case "`":return ib.slice(1)+Da.slice(0,Ia.index);case "'":return ib.slice(1)+Da.slice(Ia.index+Ia[0].length);default:return ib.slice(1)+(Ia[fb]||"")}}).replace(/\\\\/g,"\\"),B=Da.slice(0,Ia.index)+P+Da.slice(Ia.index+Ia[0].length)));return Da.$$cast(B)},O.$$arity=-2);a.alias(N,"succ","next");a.def(N,"$sum",aa=function(B){null==B&&(B=16);B=u(B,m(y,"Integer"),"to_int");for(var P=0,ra=this.length,
Ga=0;Ga<ra;Ga++)P+=this.charCodeAt(Ga);return 0>=B?P:P&Math.pow(2,B)-1},aa.$$arity=-1);a.def(N,"$swapcase",v=function(){var B=this.replace(/([a-z]+)|([A-Z]+)/g,function(P,ra){return ra?P.toUpperCase():P.toLowerCase()});return this.constructor===String?B:this.$class().$new(B)},v.$$arity=0);a.def(N,"$to_f",V=function(){if("_"===this.charAt(0))return 0;var B=parseFloat(this.replace(/_/g,""));return isNaN(B)||Infinity==B||-Infinity==B?0:B},V.$$arity=0);a.def(N,"$to_i",pa=function(B){null==B&&(B=10);var P=
this.toLowerCase(),ra=u(B,m(y,"Integer"),"to_int");(1===ra||0>ra||36<ra)&&this.$raise(m(y,"ArgumentError"),"invalid radix "+ra);if(/^\s*_/.test(P))return 0;P=P.replace(/^(\s*[+-]?)(0[bodx]?)(.+)$/,function(Ga,Da,Ia,Xa){switch(Xa.charAt(0)){case "+":case "-":return Ga;case "0":if("x"===Xa.charAt(1)&&"0x"===Ia&&(0===ra||16===ra))return Ga}switch(Ia){case "0b":if(0===ra||2===ra)return ra=2,Da+Xa;break;case "0":case "0o":if(0===ra||8===ra)return ra=8,Da+Xa;break;case "0d":if(0===ra||10===ra)return ra=
10,Da+Xa;break;case "0x":if(0===ra||16===ra)return ra=16,Da+Xa}return Ga});B=parseInt(P.replace(/_(?!_)/g,""),ra);return isNaN(B)?0:B},pa.$$arity=-1);a.def(N,"$to_proc",La=function(){var B,P=z;La.$$p&&(La.$$p=null);P=I("$",this.valueOf());return E(this,"proc",[],(B=function(ra){var Ga=null==B.$$s?this:B.$$s,Da=B.$$p,Ia=Da||z;Da&&(B.$$p=null);Da=a.slice.call(arguments,0,arguments.length);0===Da.length&&Ga.$raise(m(y,"ArgumentError"),"no receiver given");Ga=Da[0];null==Ga&&(Ga=z);var Xa=Ga[P];if(!Xa)return Ga.$method_missing.apply(Ga,
Da);"function"===typeof Ia&&(Xa.$$p=Ia);return 1===Da.length?Xa.call(Ga):Xa.apply(Ga,Da.slice(1))},B.$$s=this,B.$$arity=-1,B))},La.$$arity=0);a.def(N,"$to_s",jb=function(){return this.toString()},jb.$$arity=0);a.alias(N,"to_str","to_s");a.alias(N,"to_sym","intern");a.def(N,"$tr",ob=function(B,P){B=u(B,m(y,"String"),"to_str").$to_s();P=u(P,m(y,"String"),"to_str").$to_s();if(0==B.length||B===P)return this;var ra={};var Ga=B.split("");var Da=Ga.length,Ia=P.split(""),Xa=Ia.length;B=!1;var ib=null;"^"===
Ga[0]&&1<Ga.length&&(B=!0,Ga.shift(),ib=Ia[Xa-1],--Da);var fb=[];var Ua=null;var Ya=!1;for(P=0;P<Da;P++){var hb=Ga[P];if(null==Ua)Ua=hb,fb.push(hb);else if("-"===hb)"-"===Ua?(fb.push("-"),fb.push("-")):P==Da-1?fb.push("-"):Ya=!0;else if(Ya){Ua=Ua.charCodeAt(0);Ya=hb.charCodeAt(0);Ua>Ya&&this.$raise(m(y,"ArgumentError"),'invalid range "'+String.fromCharCode(Ua)+"-"+String.fromCharCode(Ya)+'" in string transliteration');for(Ua+=1;Ua<Ya;Ua++)fb.push(String.fromCharCode(Ua));fb.push(hb);Ua=Ya=null}else fb.push(hb)}Ga=
fb;Da=Ga.length;if(B)for(P=0;P<Da;P++)ra[Ga[P]]=!0;else{if(0<Xa){fb=[];Ua=null;Ya=!1;for(P=0;P<Xa;P++)if(hb=Ia[P],null==Ua)Ua=hb,fb.push(hb);else if("-"===hb)"-"===Ua?(fb.push("-"),fb.push("-")):P==Xa-1?fb.push("-"):Ya=!0;else if(Ya){Ua=Ua.charCodeAt(0);Ya=hb.charCodeAt(0);Ua>Ya&&this.$raise(m(y,"ArgumentError"),'invalid range "'+String.fromCharCode(Ua)+"-"+String.fromCharCode(Ya)+'" in string transliteration');for(Ua+=1;Ua<Ya;Ua++)fb.push(String.fromCharCode(Ua));fb.push(hb);Ua=Ya=null}else fb.push(hb);
Ia=fb;Xa=Ia.length}hb=Da-Xa;if(0<hb)for(Xa=0<Xa?Ia[Xa-1]:"",P=0;P<hb;P++)Ia.push(Xa);for(P=0;P<Da;P++)ra[Ga[P]]=Ia[P]}Da="";P=0;for(Ga=this.length;P<Ga;P++)hb=this.charAt(P),Ia=ra[hb],Da=B?Da+(null==Ia?ib:hb):Da+(null!=Ia?Ia:hb);return this.$$cast(Da)},ob.$$arity=2);a.def(N,"$tr_s",mb=function(B,P){B=u(B,m(y,"String"),"to_str").$to_s();P=u(P,m(y,"String"),"to_str").$to_s();if(0==B.length)return this;var ra={};var Ga=B.split("");var Da=Ga.length,Ia=P.split(""),Xa=Ia.length;B=!1;var ib=null;"^"===Ga[0]&&
1<Ga.length&&(B=!0,Ga.shift(),ib=Ia[Xa-1],--Da);var fb=[];var Ua=null;var Ya=!1;for(P=0;P<Da;P++){var hb=Ga[P];if(null==Ua)Ua=hb,fb.push(hb);else if("-"===hb)"-"===Ua?(fb.push("-"),fb.push("-")):P==Da-1?fb.push("-"):Ya=!0;else if(Ya){Ua=Ua.charCodeAt(0);Ya=hb.charCodeAt(0);Ua>Ya&&this.$raise(m(y,"ArgumentError"),'invalid range "'+String.fromCharCode(Ua)+"-"+String.fromCharCode(Ya)+'" in string transliteration');for(Ua+=1;Ua<Ya;Ua++)fb.push(String.fromCharCode(Ua));fb.push(hb);Ua=Ya=null}else fb.push(hb)}Ga=
fb;Da=Ga.length;if(B)for(P=0;P<Da;P++)ra[Ga[P]]=!0;else{if(0<Xa){fb=[];Ya=!1;for(P=0;P<Xa;P++)if(hb=Ia[P],null==Ua)Ua=hb,fb.push(hb);else if("-"===hb)P==Xa-1?fb.push("-"):Ya=!0;else if(Ya){Ua=Ua.charCodeAt(0);Ya=hb.charCodeAt(0);Ua>Ya&&this.$raise(m(y,"ArgumentError"),'invalid range "'+String.fromCharCode(Ua)+"-"+String.fromCharCode(Ya)+'" in string transliteration');for(Ua+=1;Ua<Ya;Ua++)fb.push(String.fromCharCode(Ua));fb.push(hb);Ua=Ya=null}else fb.push(hb);Ia=fb;Xa=Ia.length}hb=Da-Xa;if(0<hb)for(Xa=
0<Xa?Ia[Xa-1]:"",P=0;P<hb;P++)Ia.push(Xa);for(P=0;P<Da;P++)ra[Ga[P]]=Ia[P]}Da="";Ia=null;P=0;for(Ga=this.length;P<Ga;P++)if(hb=this.charAt(P),Xa=ra[hb],B)null==Xa?null==Ia&&(Da+=ib,Ia=!0):(Da+=hb,Ia=null);else if(null!=Xa){if(null==Ia||Ia!==Xa)Da+=Xa,Ia=Xa}else Da+=hb,Ia=null;return this.$$cast(Da)},mb.$$arity=2);a.def(N,"$upcase",sb=function(){return this.$$cast(this.toUpperCase())},sb.$$arity=0);a.def(N,"$upto",tb=function(B,P){var ra=tb.$$p,Ga=ra||z;ra&&(tb.$$p=null);ra&&(tb.$$p=null);null==P&&
(P=!1);if(Ga===z)return this.$enum_for("upto",B,P);ra=this.toString();B=u(B,m(y,"String"),"to_str");if(1===ra.length&&1===B.length)for(ra=ra.charCodeAt(0),B=B.charCodeAt(0);ra<=B&&(!P||ra!==B);)Ga(String.fromCharCode(ra)),ra+=1;else if(parseInt(ra,10).toString()===ra&&parseInt(B,10).toString()===B)for(ra=parseInt(ra,10),B=parseInt(B,10);ra<=B&&(!P||ra!==B);)Ga(ra.toString()),ra+=1;else for(;ra.length<=B.length&&ra<=B&&(!P||ra!==B);)Ga(ra),ra=ra.$succ();return this},tb.$$arity=-2);a.def(N,"$instance_variables",
wb=function(){return[]},wb.$$arity=0);a.defs(N,"$_load",xb=function(B){var P=a.slice.call(arguments,0,arguments.length);return E(this,"new",a.to_a(P))},xb.$$arity=-1);a.def(N,"$unicode_normalize",ub=function(B){null==B&&(B="nfc");l(["nfc","nfd","nfkc","nfkd"]["$include?"](B))||this.$raise(m(y,"ArgumentError"),"Invalid normalization form "+B);return this.normalize(B.$upcase())},ub.$$arity=-1);a.def(N,"$unicode_normalized?",X=function(B){null==B&&(B="nfc");return this.$unicode_normalize(B)["$=="](this)},
X.$$arity=-1);a.def(N,"$unpack",Oa=function(){return this.$raise("To use String#unpack, you must first require 'corelib/string/unpack'.")},Oa.$$arity=1);return(a.def(N,"$unpack1",cb=function(){return this.$raise("To use String#unpack1, you must first require 'corelib/string/unpack'.")},cb.$$arity=1),z)&&"unpack1"})(w[0],String,w);return a.const_set(w[0],"Symbol",m(w,"String"))};
Opal.modules["corelib/enumerable"]=function(a){function x(d,k){return"number"===typeof d&&"number"===typeof k?d>k:d["$>"](k)}function I(d,k){return"number"===typeof d&&"number"===typeof k?d+k:d["$+"](k)}function t(d,k){return"number"===typeof d&&"number"===typeof k?d-k:d["$-"](k)}function w(d,k){return"number"===typeof d&&"number"===typeof k?d<=k:d["$<="](k)}var z=[],p=a.nil,m=a.$$$,u=a.$$,D=a.falsy,e=a.truthy,l=a.coerce_to,E=a.module,c=a.send,n=a.hash2,G=a.lambda;a.add_stubs("$each $public_send $destructure $to_enum $enumerator_size $new $yield $raise $slice_when $! $enum_for $flatten $map $warn $proc $== $nil? $respond_to? $coerce_to! $> $* $try_convert $< $+ $- $ceil $/ $size $select $to_proc $__send__ $length $<= $[] $push $<< $[]= $=== $inspect $<=> $first $reverse $sort $take $sort_by $compare $call $dup $to_a $sort! $map! $key? $values $transform_values $group_by $to_h $coerce_to? $class $zip".split(" "));
return function(d,k){function N(Y){0===Y.length&&(Y=[p]);1<Y.length&&(Y=[Y]);return Y}d=E(d,"Enumerable");var y=[d].concat(k),S,ja,da,ma,b,h,f,q,A,F,H,K,ba,va,Pa,wa,Aa,Ma,na,T,sa,xa,Ja,ka,M,L,fa,oa,ea,ta,Ea,Ha,Ra,Sa,Ka,eb,kb,W,ya,Ba,Va,bb,db,Ca,Wa,za,ua,Na,Ta,Za,Fa;a.def(d,"$all?",S=function(Y){try{var R=S.$$p,Z=R||p,U,ha,la;R&&(S.$$p=null);R&&(S.$$p=null);e(void 0!==Y)?c(this,"each",[],(U=function(g){var C=a.slice.call(arguments,0,arguments.length);C=N(C);if(e(c(Y,"public_send",["==="].concat(a.to_a(C)))))return p;
a.ret(!1)},U.$$s=this,U.$$arity=-1,U)):Z!==p?c(this,"each",[],(ha=function(g){var C=a.slice.call(arguments,0,arguments.length);if(e(a.yieldX(Z,a.to_a(C))))return p;a.ret(!1)},ha.$$s=this,ha.$$arity=-1,ha)):c(this,"each",[],(la=function(g){var C=a.slice.call(arguments,0,arguments.length);if(e(u(y,"Opal").$destructure(C)))return p;a.ret(!1)},la.$$s=this,la.$$arity=-1,la));return!0}catch(g){if(g===a.returner)return g.$v;throw g;}},S.$$arity=-1);a.def(d,"$any?",ja=function(Y){try{var R=ja.$$p,Z=R||p,
U,ha,la;R&&(ja.$$p=null);R&&(ja.$$p=null);e(void 0!==Y)?c(this,"each",[],(U=function(g){var C=a.slice.call(arguments,0,arguments.length);C=N(C);if(e(c(Y,"public_send",["==="].concat(a.to_a(C)))))a.ret(!0);else return p},U.$$s=this,U.$$arity=-1,U)):Z!==p?c(this,"each",[],(ha=function(g){var C=a.slice.call(arguments,0,arguments.length);if(e(a.yieldX(Z,a.to_a(C))))a.ret(!0);else return p},ha.$$s=this,ha.$$arity=-1,ha)):c(this,"each",[],(la=function(g){var C=a.slice.call(arguments,0,arguments.length);
if(e(u(y,"Opal").$destructure(C)))a.ret(!0);else return p},la.$$s=this,la.$$arity=-1,la));return!1}catch(g){if(g===a.returner)return g.$v;throw g;}},ja.$$arity=-1);a.def(d,"$chunk",da=function(){var Y=da.$$p,R=Y||p,Z,U;Y&&(da.$$p=null);Y&&(da.$$p=null);return R===p?c(this,"to_enum",["chunk"],(Z=function(){return(null==Z.$$s?this:Z.$$s).$enumerator_size()},Z.$$s=this,Z.$$arity=0,Z)):c(m("::","Enumerator"),"new",[],(U=function(ha){function la(){0<O.length&&ha.$yield(C,O)}var g=null==U.$$s?this:U.$$s;
null==ha&&(ha=p);var C=p,O=[];g.$each.$$p=function(aa){var v=a.yield1(R,aa);v===p?(la(),O=[],C=p):(C===p||C===v?O.push(aa):(la(),O=[aa]),C=v)};g.$each();la()},U.$$s=this,U.$$arity=1,U))},da.$$arity=0);a.def(d,"$chunk_while",ma=function(){var Y=ma.$$p,R=Y||p,Z;Y&&(ma.$$p=null);Y&&(ma.$$p=null);R===p&&this.$raise(u(y,"ArgumentError"),"no block given");return c(this,"slice_when",[],(Z=function(U,ha){null==U&&(U=p);null==ha&&(ha=p);return a.yieldX(R,[U,ha])["$!"]()},Z.$$s=this,Z.$$arity=2,Z))},ma.$$arity=
0);a.def(d,"$collect",b=function(){var Y=b.$$p,R=Y||p,Z;Y&&(b.$$p=null);Y&&(b.$$p=null);if(R===p)return c(this,"enum_for",["collect"],(Z=function(){return(null==Z.$$s?this:Z.$$s).$enumerator_size()},Z.$$s=this,Z.$$arity=0,Z));var U=[];this.$each.$$p=function(){var ha=a.yieldX(R,arguments);U.push(ha)};this.$each();return U},b.$$arity=0);a.def(d,"$collect_concat",h=function(){var Y=h.$$p,R=Y||p,Z,U;Y&&(h.$$p=null);Y&&(h.$$p=null);return R===p?c(this,"enum_for",["collect_concat"],(Z=function(){return(null==
Z.$$s?this:Z.$$s).$enumerator_size()},Z.$$s=this,Z.$$arity=0,Z)):c(this,"map",[],(U=function(ha){null==ha&&(ha=p);return a.yield1(R,ha)},U.$$s=this,U.$$arity=1,U)).$flatten(1)},h.$$arity=0);a.def(d,"$count",f=function(Y){var R=f.$$p,Z=R||p,U,ha,la,g=p;R&&(f.$$p=null);R&&(f.$$p=null);g=0;null!=Y&&Z!==p&&this.$warn("warning: given block not used");e(null!=Y)?Z=c(this,"proc",[],(U=function(C){var O=a.slice.call(arguments,0,arguments.length);return u(y,"Opal").$destructure(O)["$=="](Y)},U.$$s=this,U.$$arity=
-1,U)):e(Z["$nil?"]())&&(Z=c(this,"proc",[],(ha=function(){return!0},ha.$$s=this,ha.$$arity=0,ha)));c(this,"each",[],(la=function(C){var O=a.slice.call(arguments,0,arguments.length);return e(a.yieldX(Z,O))?g++:p},la.$$s=this,la.$$arity=-1,la));return g},f.$$arity=-1);a.def(d,"$cycle",q=function(Y){var R=q.$$p,Z=R||p,U;R&&(q.$$p=null);R&&(q.$$p=null);null==Y&&(Y=p);if(Z===p)return c(this,"enum_for",["cycle",Y],(U=function(){var g=null==U.$$s?this:U.$$s;if(e(Y["$nil?"]()))return e(g["$respond_to?"]("size"))?
m(u(y,"Float"),"INFINITY"):p;Y=u(y,"Opal")["$coerce_to!"](Y,u(y,"Integer"),"to_int");return e(x(Y,0))?(g=g.$enumerator_size(),"number"===typeof g&&"number"===typeof Y?g*Y:g["$*"](Y)):0},U.$$s=this,U.$$arity=0,U));if(!e(Y["$nil?"]())&&(Y=u(y,"Opal")["$coerce_to!"](Y,u(y,"Integer"),"to_int"),e(0>=Y)))return p;var ha=[],la;this.$each.$$p=function(){var g=u(y,"Opal").$destructure(arguments);a.yield1(Z,g);ha.push(g)};this.$each();if(0===ha.length)return p;if(Y===p)for(;;)for(R=0,la=ha.length;R<la;R++)a.yield1(Z,
ha[R]);else for(;1<Y;){R=0;for(la=ha.length;R<la;R++)a.yield1(Z,ha[R]);Y--}},q.$$arity=-1);a.def(d,"$detect",A=function(Y){try{var R=A.$$p,Z=R||p,U;R&&(A.$$p=null);R&&(A.$$p=null);if(Z===p)return this.$enum_for("detect",Y);c(this,"each",[],(U=function(ha){var la=a.slice.call(arguments,0,arguments.length);la=u(y,"Opal").$destructure(la);if(e(a.yield1(Z,la)))a.ret(la);else return p},U.$$s=this,U.$$arity=-1,U));return void 0!==Y?"function"===typeof Y?Y():Y:p}catch(ha){if(ha===a.returner)return ha.$v;
throw ha;}},A.$$arity=-1);a.def(d,"$drop",F=function(Y){Y=l(Y,u(y,"Integer"),"to_int");e(0>Y)&&this.$raise(u(y,"ArgumentError"),"attempt to drop negative size");var R=[],Z=0;this.$each.$$p=function(){Y<=Z&&R.push(u(y,"Opal").$destructure(arguments));Z++};this.$each();return R},F.$$arity=1);a.def(d,"$drop_while",H=function(){var Y=H.$$p,R=Y||p;Y&&(H.$$p=null);Y&&(H.$$p=null);if(R===p)return this.$enum_for("drop_while");var Z=[],U=!0;this.$each.$$p=function(){var ha=u(y,"Opal").$destructure(arguments);
if(U){var la=a.yield1(R,ha);D(la)&&(U=!1,Z.push(ha))}else Z.push(ha)};this.$each();return Z},H.$$arity=0);a.def(d,"$each_cons",K=function(Y){var R=K.$$p,Z=R||p,U;R&&(K.$$p=null);R&&(K.$$p=null);e(1!=arguments.length)&&this.$raise(u(y,"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 1)");Y=u(y,"Opal").$try_convert(Y,u(y,"Integer"),"to_int");e(0>=Y)&&this.$raise(u(y,"ArgumentError"),"invalid size");if(Z===p)return c(this,"enum_for",["each_cons",Y],(U=function(){var la=p;var g=(null==
U.$$s?this:U.$$s).$enumerator_size();return e(g["$nil?"]())?p:e(e(la=g["$=="](0))?la:"number"===typeof g&&"number"===typeof Y?g<Y:g["$<"](Y))?0:I(t(g,Y),1)},U.$$s=this,U.$$arity=0,U));var ha=[];this.$each.$$p=function(){var la=u(y,"Opal").$destructure(arguments);ha.push(la);ha.length>Y&&ha.shift();ha.length==Y&&a.yield1(Z,ha.slice(0,Y))};this.$each();return p},K.$$arity=1);a.def(d,"$each_entry",ba=function(Y){var R=ba.$$p,Z=R||p,U;R&&(ba.$$p=null);R&&(ba.$$p=null);R=a.slice.call(arguments,0,arguments.length);
if(Z===p)return c(this,"to_enum",["each_entry"].concat(a.to_a(R)),(U=function(){return(null==U.$$s?this:U.$$s).$enumerator_size()},U.$$s=this,U.$$arity=0,U));this.$each.$$p=function(){var ha=u(y,"Opal").$destructure(arguments);a.yield1(Z,ha)};this.$each.apply(this,R);return this},ba.$$arity=-1);a.def(d,"$each_slice",va=function(Y){var R=va.$$p,Z=R||p,U;R&&(va.$$p=null);R&&(va.$$p=null);Y=l(Y,u(y,"Integer"),"to_int");e(0>=Y)&&this.$raise(u(y,"ArgumentError"),"invalid slice size");if(Z===p)return c(this,
"enum_for",["each_slice",Y],(U=function(){var la=null==U.$$s?this:U.$$s;return e(la["$respond_to?"]("size"))?(la=la.$size(),("number"===typeof la&&"number"===typeof Y?la/Y:la["$/"](Y)).$ceil()):p},U.$$s=this,U.$$arity=0,U));var ha=[];this.$each.$$p=function(){var la=u(y,"Opal").$destructure(arguments);ha.push(la);ha.length===Y&&(a.yield1(Z,ha),ha=[])};this.$each();0<ha.length&&a.yield1(Z,ha);return p},va.$$arity=1);a.def(d,"$each_with_index",Pa=function(Y){var R=Pa.$$p,Z=R||p,U;R&&(Pa.$$p=null);R&&
(Pa.$$p=null);R=a.slice.call(arguments,0,arguments.length);if(Z===p)return c(this,"enum_for",["each_with_index"].concat(a.to_a(R)),(U=function(){return(null==U.$$s?this:U.$$s).$enumerator_size()},U.$$s=this,U.$$arity=0,U));var ha=0;this.$each.$$p=function(){var la=u(y,"Opal").$destructure(arguments);Z(la,ha);ha++};this.$each.apply(this,R);return this},Pa.$$arity=-1);a.def(d,"$each_with_object",wa=function(Y){var R=wa.$$p,Z=R||p,U;R&&(wa.$$p=null);R&&(wa.$$p=null);if(Z===p)return c(this,"enum_for",
["each_with_object",Y],(U=function(){return(null==U.$$s?this:U.$$s).$enumerator_size()},U.$$s=this,U.$$arity=0,U));this.$each.$$p=function(){var ha=u(y,"Opal").$destructure(arguments);Z(ha,Y)};this.$each();return Y},wa.$$arity=1);a.def(d,"$entries",Aa=function(Y){var R=a.slice.call(arguments,0,arguments.length);var Z=[];this.$each.$$p=function(){Z.push(u(y,"Opal").$destructure(arguments))};this.$each.apply(this,R);return Z},Aa.$$arity=-1);a.def(d,"$filter_map",Ma=function(){var Y=Ma.$$p,R=Y||p,Z;
Y&&(Ma.$$p=null);Y&&(Ma.$$p=null);return R===p?c(this,"enum_for",["filter_map"],(Z=function(){return(null==Z.$$s?this:Z.$$s).$enumerator_size()},Z.$$s=this,Z.$$arity=0,Z)):c(c(this,"map",[],R.$to_proc()),"select",[],"itself".$to_proc())},Ma.$$arity=0);a.alias(d,"find","detect");a.def(d,"$find_all",na=function(){var Y=na.$$p,R=Y||p,Z;Y&&(na.$$p=null);Y&&(na.$$p=null);if(R===p)return c(this,"enum_for",["find_all"],(Z=function(){return(null==Z.$$s?this:Z.$$s).$enumerator_size()},Z.$$s=this,Z.$$arity=
0,Z));var U=[];this.$each.$$p=function(){var ha=u(y,"Opal").$destructure(arguments),la=a.yield1(R,ha);e(la)&&U.push(ha)};this.$each();return U},na.$$arity=0);a.alias(d,"filter","find_all");a.def(d,"$find_index",T=function(Y){try{var R=T.$$p,Z=R||p,U,ha,la=p;R&&(T.$$p=null);R&&(T.$$p=null);if(e(void 0===Y&&Z===p))return this.$enum_for("find_index");null!=Y&&Z!==p&&this.$warn("warning: given block not used");la=0;e(null!=Y)?c(this,"each",[],(U=function(g){var C=a.slice.call(arguments,0,arguments.length);
u(y,"Opal").$destructure(C)["$=="](Y)&&a.ret(la);return la+=1},U.$$s=this,U.$$arity=-1,U)):c(this,"each",[],(ha=function(g){var C=a.slice.call(arguments,0,arguments.length);e(a.yieldX(Z,a.to_a(C)))&&a.ret(la);return la+=1},ha.$$s=this,ha.$$arity=-1,ha));return p}catch(g){if(g===a.returner)return g.$v;throw g;}},T.$$arity=-1);a.def(d,"$first",sa=function(Y){try{var R,Z,U=p,ha=p;if(e(void 0===Y))return c(this,"each",[],(R=function(la){null==la&&(la=p);a.ret(la)},R.$$s=this,R.$$arity=1,R));U=[];Y=l(Y,
u(y,"Integer"),"to_int");e(0>Y)&&this.$raise(u(y,"ArgumentError"),"attempt to take negative size");if(e(0==Y))return[];ha=0;c(this,"each",[],(Z=function(la){var g=a.slice.call(arguments,0,arguments.length);U.push(u(y,"Opal").$destructure(g));if(e(Y<=++ha))a.ret(U);else return p},Z.$$s=this,Z.$$arity=-1,Z));return U}catch(la){if(la===a.returner)return la.$v;throw la;}},sa.$$arity=-1);a.alias(d,"flat_map","collect_concat");a.def(d,"$grep",xa=function(Y){var R=xa.$$p,Z=R||p,U,ha=p;R&&(xa.$$p=null);R&&
(xa.$$p=null);ha=[];c(this,"each",[],(U=function(la){var g=a.slice.call(arguments,0,arguments.length);var C=N(g);if(!e(c(Y,"__send__",["==="].concat(a.to_a(C)))))return p;Z!==p?(e(x(g.$length(),1))&&(g=[g]),g=a.yieldX(Z,a.to_a(g))):e(w(g.$length(),1))&&(g=g["$[]"](0));return ha.$push(g)},U.$$s=this,U.$$arity=-1,U));return ha},xa.$$arity=1);a.def(d,"$grep_v",Ja=function(Y){var R=Ja.$$p,Z=R||p,U,ha=p;R&&(Ja.$$p=null);R&&(Ja.$$p=null);ha=[];c(this,"each",[],(U=function(la){var g=a.slice.call(arguments,
0,arguments.length);var C=N(g);if(e(c(Y,"__send__",["==="].concat(a.to_a(C)))))return p;Z!==p?(e(x(g.$length(),1))&&(g=[g]),g=a.yieldX(Z,a.to_a(g))):e(w(g.$length(),1))&&(g=g["$[]"](0));return ha.$push(g)},U.$$s=this,U.$$arity=-1,U));return ha},Ja.$$arity=1);a.def(d,"$group_by",ka=function(){var Y=ka.$$p,R=Y||p,Z,U=p,ha=p,la=p;Y&&(ka.$$p=null);Y&&(ka.$$p=null);if(R===p)return c(this,"enum_for",["group_by"],(Z=function(){return(null==Z.$$s?this:Z.$$s).$enumerator_size()},Z.$$s=this,Z.$$arity=0,Z));
U=n([],{});this.$each.$$p=function(){var g=u(y,"Opal").$destructure(arguments),C=a.yield1(R,g);e(ha=U["$[]"](C))?C=ha:(la=[C,[]],c(U,"[]=",a.to_a(la)),C=la[t(la.length,1)]);C["$<<"](g)};this.$each();return U},ka.$$arity=0);a.def(d,"$include?",M=function(Y){try{var R;c(this,"each",[],(R=function(Z){var U=a.slice.call(arguments,0,arguments.length);if(u(y,"Opal").$destructure(U)["$=="](Y))a.ret(!0);else return p},R.$$s=this,R.$$arity=-1,R));return!1}catch(Z){if(Z===a.returner)return Z.$v;throw Z;}},
M.$$arity=1);a.def(d,"$inject",L=function(Y,R){var Z=L.$$p,U=Z||p;Z&&(L.$$p=null);Z&&(L.$$p=null);var ha=Y;U!==p&&void 0===R?this.$each.$$p=function(){var la=u(y,"Opal").$destructure(arguments);void 0!==ha&&(la=a.yieldX(U,[ha,la]));ha=la}:(void 0===R&&(u(y,"Symbol")["$==="](Y)||this.$raise(u(y,"TypeError"),""+Y.$inspect()+" is not a Symbol"),R=Y,ha=void 0),this.$each.$$p=function(){var la=u(y,"Opal").$destructure(arguments);ha=void 0===ha?la:ha.$__send__(R,la)});this.$each();return void 0==ha?p:ha},
L.$$arity=-1);a.def(d,"$lazy",fa=function(){var Y;return c(m(u(y,"Enumerator"),"Lazy"),"new",[this,this.$enumerator_size()],(Y=function(R,Z){null==R&&(R=p);var U=a.slice.call(arguments,1,arguments.length);return c(R,"yield",a.to_a(U))},Y.$$s=this,Y.$$arity=-2,Y))},fa.$$arity=0);a.def(d,"$enumerator_size",oa=function(){return e(this["$respond_to?"]("size"))?this.$size():p},oa.$$arity=0);a.alias(d,"map","collect");a.def(d,"$max",ea=function(Y){var R=ea.$$p,Z=R||p,U=this;R&&(ea.$$p=null);R&&(ea.$$p=
null);if(void 0===Y||Y===p){var ha,la;U.$each.$$p=function(){var g=u(y,"Opal").$destructure(arguments);void 0===ha?ha=g:(la=Z!==p?a.yieldX(Z,[g,ha]):g["$<=>"](ha),la===p&&U.$raise(u(y,"ArgumentError"),"comparison failed"),0<la&&(ha=g))};U.$each();return void 0===ha?p:ha}Y=l(Y,u(y,"Integer"),"to_int");return c(U,"sort",[],Z.$to_proc()).$reverse().$first(Y)},ea.$$arity=-1);a.def(d,"$max_by",ta=function(Y){var R=ta.$$p,Z=R||p,U;R&&(ta.$$p=null);R&&(ta.$$p=null);null==Y&&(Y=p);if(!e(Z))return c(this,
"enum_for",["max_by",Y],(U=function(){return(null==U.$$s?this:U.$$s).$enumerator_size()},U.$$s=this,U.$$arity=0,U));if(!e(Y["$nil?"]()))return c(this,"sort_by",[],Z.$to_proc()).$reverse().$take(Y);var ha,la;this.$each.$$p=function(){var g=u(y,"Opal").$destructure(arguments),C=a.yield1(Z,g);void 0===ha?(ha=g,la=C):0<C["$<=>"](la)&&(ha=g,la=C)};this.$each();return void 0===ha?p:ha},ta.$$arity=-1);a.alias(d,"member?","include?");a.def(d,"$min",Ea=function(Y){var R=Ea.$$p,Z=R||p,U,ha=this;R&&(Ea.$$p=
null);R&&(Ea.$$p=null);null==Y&&(Y=p);if(!e(Y["$nil?"]()))return Z!==p?c(ha,"sort",[],(U=function(g,C){null==g&&(g=p);null==C&&(C=p);return a.yieldX(Z,[g,C])},U.$$s=ha,U.$$arity=2,U)).$take(Y):ha.$sort().$take(Y);var la;ha.$each.$$p=Z!==p?function(){var g=u(y,"Opal").$destructure(arguments);if(void 0===la)la=g;else{var C=Z(g,la);C===p&&ha.$raise(u(y,"ArgumentError"),"comparison failed");0>C&&(la=g)}}:function(){var g=u(y,"Opal").$destructure(arguments);void 0===la?la=g:0>u(y,"Opal").$compare(g,la)&&
(la=g)};ha.$each();return void 0===la?p:la},Ea.$$arity=-1);a.def(d,"$min_by",Ha=function(Y){var R=Ha.$$p,Z=R||p,U;R&&(Ha.$$p=null);R&&(Ha.$$p=null);null==Y&&(Y=p);if(!e(Z))return c(this,"enum_for",["min_by",Y],(U=function(){return(null==U.$$s?this:U.$$s).$enumerator_size()},U.$$s=this,U.$$arity=0,U));if(!e(Y["$nil?"]()))return c(this,"sort_by",[],Z.$to_proc()).$take(Y);var ha,la;this.$each.$$p=function(){var g=u(y,"Opal").$destructure(arguments),C=a.yield1(Z,g);void 0===ha?(ha=g,la=C):0>C["$<=>"](la)&&
(ha=g,la=C)};this.$each();return void 0===ha?p:ha},Ha.$$arity=-1);a.def(d,"$minmax",Ra=function(){var Y=Ra.$$p,R=Y||p,Z,U=this,ha=p;Y&&(Ra.$$p=null);Y&&(Ra.$$p=null);R=function(){return e(ha=R)?ha:c(U,"proc",[],(Z=function(O,aa){null==O&&(O=p);null==aa&&(aa=p);return O["$<=>"](aa)},Z.$$s=U,Z.$$arity=2,Z))}();var la=p,g=p,C=!0;U.$each.$$p=function(){var O=u(y,"Opal").$destructure(arguments);if(C)la=g=O,C=!1;else{var aa=R.$call(la,O);aa===p?U.$raise(u(y,"ArgumentError"),"comparison failed"):0<aa&&(la=
O);aa=R.$call(g,O);aa===p?U.$raise(u(y,"ArgumentError"),"comparison failed"):0>aa&&(g=O)}};U.$each();return[la,g]},Ra.$$arity=0);a.def(d,"$minmax_by",Sa=function(){var Y=Sa.$$p,R=Y||p,Z;Y&&(Sa.$$p=null);Y&&(Sa.$$p=null);if(!e(R))return c(this,"enum_for",["minmax_by"],(Z=function(){return(null==Z.$$s?this:Z.$$s).$enumerator_size()},Z.$$s=this,Z.$$arity=0,Z));var U=p,ha=p,la,g;this.$each.$$p=function(){var C=u(y,"Opal").$destructure(arguments),O=a.yield1(R,C);if(void 0===la||0>O["$<=>"](la))U=C,la=
O;if(void 0===g||0<O["$<=>"](g))ha=C,g=O};this.$each();return[U,ha]},Sa.$$arity=0);a.def(d,"$none?",Ka=function(Y){try{var R=Ka.$$p,Z=R||p,U,ha,la;R&&(Ka.$$p=null);R&&(Ka.$$p=null);e(void 0!==Y)?c(this,"each",[],(U=function(g){var C=a.slice.call(arguments,0,arguments.length);C=N(C);if(e(c(Y,"public_send",["==="].concat(a.to_a(C)))))a.ret(!1);else return p},U.$$s=this,U.$$arity=-1,U)):Z!==p?c(this,"each",[],(ha=function(g){var C=a.slice.call(arguments,0,arguments.length);if(e(a.yieldX(Z,a.to_a(C))))a.ret(!1);
else return p},ha.$$s=this,ha.$$arity=-1,ha)):c(this,"each",[],(la=function(g){var C=a.slice.call(arguments,0,arguments.length);C=u(y,"Opal").$destructure(C);if(e(C))a.ret(!1);else return p},la.$$s=this,la.$$arity=-1,la));return!0}catch(g){if(g===a.returner)return g.$v;throw g;}},Ka.$$arity=-1);a.def(d,"$one?",eb=function(Y){try{var R=eb.$$p,Z=R||p,U,ha,la,g=p;R&&(eb.$$p=null);R&&(eb.$$p=null);g=0;e(void 0!==Y)?c(this,"each",[],(U=function(C){var O=a.slice.call(arguments,0,arguments.length);O=N(O);
if(e(c(Y,"public_send",["==="].concat(a.to_a(O)))))if(g=I(g,1),e(x(g,1)))a.ret(!1);else return p;else return p},U.$$s=this,U.$$arity=-1,U)):Z!==p?c(this,"each",[],(ha=function(C){var O=a.slice.call(arguments,0,arguments.length);if(!e(a.yieldX(Z,a.to_a(O))))return p;g=I(g,1);if(e(x(g,1)))a.ret(!1);else return p},ha.$$s=this,ha.$$arity=-1,ha)):c(this,"each",[],(la=function(C){var O=a.slice.call(arguments,0,arguments.length);if(!e(u(y,"Opal").$destructure(O)))return p;g=I(g,1);if(e(x(g,1)))a.ret(!1);
else return p},la.$$s=this,la.$$arity=-1,la));return g["$=="](1)}catch(C){if(C===a.returner)return C.$v;throw C;}},eb.$$arity=-1);a.def(d,"$partition",kb=function(){var Y=kb.$$p,R=Y||p,Z;Y&&(kb.$$p=null);Y&&(kb.$$p=null);if(R===p)return c(this,"enum_for",["partition"],(Z=function(){return(null==Z.$$s?this:Z.$$s).$enumerator_size()},Z.$$s=this,Z.$$arity=0,Z));var U=[],ha=[];this.$each.$$p=function(){var la=u(y,"Opal").$destructure(arguments),g=a.yield1(R,la);e(g)?U.push(la):ha.push(la)};this.$each();
return[U,ha]},kb.$$arity=0);a.alias(d,"reduce","inject");a.def(d,"$reject",W=function(){var Y=W.$$p,R=Y||p,Z;Y&&(W.$$p=null);Y&&(W.$$p=null);if(R===p)return c(this,"enum_for",["reject"],(Z=function(){return(null==Z.$$s?this:Z.$$s).$enumerator_size()},Z.$$s=this,Z.$$arity=0,Z));var U=[];this.$each.$$p=function(){var ha=u(y,"Opal").$destructure(arguments),la=a.yield1(R,ha);D(la)&&U.push(ha)};this.$each();return U},W.$$arity=0);a.def(d,"$reverse_each",ya=function(){var Y=ya.$$p,R=Y||p,Z;Y&&(ya.$$p=null);
Y&&(ya.$$p=null);if(R===p)return c(this,"enum_for",["reverse_each"],(Z=function(){return(null==Z.$$s?this:Z.$$s).$enumerator_size()},Z.$$s=this,Z.$$arity=0,Z));var U=[];this.$each.$$p=function(){U.push(arguments)};this.$each();for(Y=U.length-1;0<=Y;Y--)a.yieldX(R,U[Y]);return U},ya.$$arity=0);a.alias(d,"select","find_all");a.def(d,"$slice_before",Ba=function(Y){var R=Ba.$$p,Z=R||p,U;R&&(Ba.$$p=null);R&&(Ba.$$p=null);e(void 0===Y&&Z===p)&&this.$raise(u(y,"ArgumentError"),"both pattern and block are given");
e(void 0!==Y&&Z!==p||1<arguments.length)&&this.$raise(u(y,"ArgumentError"),"wrong number of arguments ("+arguments.length+" expected 1)");return c(u(y,"Enumerator"),"new",[],(U=function(ha){var la=null==U.$$s?this:U.$$s;null==ha&&(ha=p);var g=[];la.$each.$$p=Z!==p?void 0===Y?function(){var C=u(y,"Opal").$destructure(arguments),O=a.yield1(Z,C);e(O)&&0<g.length&&(ha["$<<"](g),g=[]);g.push(C)}:function(){var C=u(y,"Opal").$destructure(arguments),O=Z(C,Y.$dup());e(O)&&0<g.length&&(ha["$<<"](g),g=[]);
g.push(C)}:function(){var C=u(y,"Opal").$destructure(arguments),O=Y["$==="](C);e(O)&&0<g.length&&(ha["$<<"](g),g=[]);g.push(C)};la.$each();if(0<g.length)ha["$<<"](g)},U.$$s=this,U.$$arity=1,U))},Ba.$$arity=-1);a.def(d,"$slice_after",Va=function(Y){var R=Va.$$p,Z=R||p,U,ha;R&&(Va.$$p=null);R&&(Va.$$p=null);e(void 0===Y&&Z===p)&&this.$raise(u(y,"ArgumentError"),"both pattern and block are given");e(void 0!==Y&&Z!==p||1<arguments.length)&&this.$raise(u(y,"ArgumentError"),"wrong number of arguments ("+
arguments.length+" expected 1)");e(void 0!==Y)&&(Z=c(this,"proc",[],(U=function(la){null==la&&(la=p);return Y["$==="](la)},U.$$s=this,U.$$arity=1,U)));return c(u(y,"Enumerator"),"new",[],(ha=function(la){var g=null==ha.$$s?this:ha.$$s;null==la&&(la=p);var C;g.$each.$$p=function(){var O=u(y,"Opal").$destructure(arguments),aa=a.yield1(Z,O);null==C&&(C=[]);e(aa)?(C.push(O),la.$yield(C),C=null):C.push(O)};g.$each();null!=C&&la.$yield(C)},ha.$$s=this,ha.$$arity=1,ha))},Va.$$arity=-1);a.def(d,"$slice_when",
bb=function(){var Y=bb.$$p,R=Y||p,Z;Y&&(bb.$$p=null);Y&&(bb.$$p=null);R===p&&this.$raise(u(y,"ArgumentError"),"wrong number of arguments (0 for 1)");return c(u(y,"Enumerator"),"new",[],(Z=function(U){var ha=null==Z.$$s?this:Z.$$s;null==U&&(U=p);var la=p,g=p;ha.$each_cons.$$p=function(){var C=u(y,"Opal").$destructure(arguments),O=C[0];C=C[1];var aa=a.yieldX(R,[O,C]);g=C;la===p&&(la=[]);e(aa)?(la.push(O),U.$yield(la),la=[]):la.push(O)};ha.$each_cons(2);la!==p&&(la.push(g),U.$yield(la))},Z.$$s=this,
Z.$$arity=1,Z))},bb.$$arity=0);a.def(d,"$sort",db=function(){var Y=db.$$p,R=Y||p,Z,U=p;Y&&(db.$$p=null);Y&&(db.$$p=null);U=this.$to_a();R===p&&(R=G((Z=function(ha,la){null==ha&&(ha=p);null==la&&(la=p);return ha["$<=>"](la)},Z.$$s=this,Z.$$arity=2,Z)));return c(U,"sort",[],R.$to_proc())},db.$$arity=0);a.def(d,"$sort_by",Ca=function(){var Y=Ca.$$p,R=Y||p,Z,U,ha,la,g=p;Y&&(Ca.$$p=null);Y&&(Ca.$$p=null);if(R===p)return c(this,"enum_for",["sort_by"],(Z=function(){return(null==Z.$$s?this:Z.$$s).$enumerator_size()},
Z.$$s=this,Z.$$arity=0,Z));g=c(this,"map",[],(U=function(){var C=u(y,"Opal").$destructure(arguments);return[a.yield1(R,C),C]},U.$$s=this,U.$$arity=0,U));c(g,"sort!",[],(ha=function(C,O){null==C&&(C=p);null==O&&(O=p);return C[0]["$<=>"](O[0])},ha.$$s=this,ha.$$arity=2,ha));return c(g,"map!",[],(la=function(C){null==C&&(C=p);return C[1]},la.$$s=this,la.$$arity=1,la))},Ca.$$arity=0);a.def(d,"$sum",Wa=function(Y){var R,Z=Wa.$$p,U=Z||p,ha=p;Z&&(Wa.$$p=null);null==Y&&(Y=0);ha=Y;c(this,"each",[],(R=function(la){var g=
a.slice.call(arguments,0,arguments.length);g=U!==p?a.yieldX(U,a.to_a(g)):u(y,"Opal").$destructure(g);return ha=I(ha,g)},R.$$s=this,R.$$arity=-1,R));return ha},Wa.$$arity=-1);a.def(d,"$take",za=function(Y){return this.$first(Y)},za.$$arity=1);a.def(d,"$take_while",ua=function(){try{var Y=ua.$$p,R=Y||p,Z,U=p;Y&&(ua.$$p=null);Y&&(ua.$$p=null);if(!e(R))return this.$enum_for("take_while");U=[];return c(this,"each",[],(Z=function(ha){var la=a.slice.call(arguments,0,arguments.length);la=u(y,"Opal").$destructure(la);
e(a.yield1(R,la))||a.ret(U);return U.push(la)},Z.$$s=this,Z.$$arity=-1,Z))}catch(ha){if(ha===a.returner)return ha.$v;throw ha;}},ua.$$arity=0);a.def(d,"$uniq",Na=function(){var Y=Na.$$p,R=Y||p,Z,U=p;Y&&(Na.$$p=null);Y&&(Na.$$p=null);U=n([],{});c(this,"each",[],(Z=function(ha){var la=a.slice.call(arguments,0,arguments.length);la=u(y,"Opal").$destructure(la);var g=R!==p?a.yield1(R,la):la;if(e(U["$key?"](g)))return p;la=[g,la];c(U,"[]=",a.to_a(la));return la[t(la.length,1)]},Z.$$s=this,Z.$$arity=-1,
Z));return U.$values()},Na.$$arity=0);a.def(d,"$tally",Ta=function(){return c(c(this,"group_by",[],"itself".$to_proc()),"transform_values",[],"count".$to_proc())},Ta.$$arity=0);a.alias(d,"to_a","entries");a.def(d,"$to_h",Za=function(Y){var R=Za.$$p,Z=R||p,U=this;R&&(Za.$$p=null);R&&(Za.$$p=null);R=a.slice.call(arguments,0,arguments.length);if(Z!==p)return c(c(U,"map",[],Z.$to_proc()),"to_h",a.to_a(R));var ha=n([],{});U.$each.$$p=function(){var la=u(y,"Opal").$destructure(arguments);la=u(y,"Opal")["$coerce_to?"](la,
u(y,"Array"),"to_ary");la.$$is_array||U.$raise(u(y,"TypeError"),"wrong element type "+la.$class()+" (expected array)");2!==la.length&&U.$raise(u(y,"ArgumentError"),"wrong array length (expected 2, was "+la.$length()+")");a.hash_put(ha,la[0],la[1])};U.$each.apply(U,R);return ha},Za.$$arity=-1);a.def(d,"$zip",Fa=function(Y){var R=Fa.$$p;R&&(Fa.$$p=null);R&&(Fa.$$p=null);R=a.slice.call(arguments,0,arguments.length);return c(this.$to_a(),"zip",a.to_a(R))},Fa.$$arity=-1)}(z[0],z)};
Opal.modules["corelib/enumerator"]=function(a){function x(G,d){return"number"===typeof G&&"number"===typeof d?G+d:G["$+"](d)}function I(G,d){return"number"===typeof G&&"number"===typeof d?G<d:G["$<"](d)}var t=a.top,w=[],z=a.nil,p=a.$$,m=a.breaker,u=a.slice,D=a.falsy,e=a.truthy,l=a.coerce_to,E=a.klass,c=a.send,n=a.send2;a.add_stubs("$require $include $allocate $new $to_proc $! $respond_to? $nil? $empty? $+ $class $__send__ $call $enum_for $size $destructure $inspect $any? $[] $raise $yield $each $enumerator_size $try_convert $< $=== $for".split(" "));
t.$require("corelib/enumerable");return function(G,$super,k){G=E(G,$super,"Enumerator");var N=[G].concat(k),y,S,ja,da,ma,b,h;G.$$prototype.size=G.$$prototype.args=G.$$prototype.object=G.$$prototype.method=z;G.$include(p(N,"Enumerable"));G.$$prototype.$$is_enumerator=!0;a.defs(G,"$for",y=function(f,q,A){var F=y.$$p,H=F||z;F&&(y.$$p=null);F&&(y.$$p=null);F=a.slice.call(arguments,1,arguments.length);if(0<F.length){var K=F[0];F.splice(0,1)}null==K&&(K="each");var ba=this.$allocate();ba.object=f;ba.size=
H;ba.method=K;ba.args=F;return ba},y.$$arity=-2);a.def(G,"$initialize",S=function(f){var q=S.$$p,A=q||z,F=z;q&&(S.$$p=null);q&&(S.$$p=null);a.slice.call(arguments,0,arguments.length);if(e(A))return this.object=c(p(N,"Generator"),"new",[],A.$to_proc()),this.method="each",this.args=[],this.size=arguments[0]||z,e(e(F=this.size)?this.size["$respond_to?"]("call")["$!"]():F)?this.size=l(this.size,p(N,"Integer"),"to_int"):z;this.object=arguments[0];this.method=arguments[1]||"each";this.args=u.call(arguments,
2);return this.size=z},S.$$arity=-1);a.def(G,"$each",ja=function(f){var q=ja.$$p,A=q||z,F=z;q&&(ja.$$p=null);q&&(ja.$$p=null);q=a.slice.call(arguments,0,arguments.length);if(e(e(F=A["$nil?"]())?q["$empty?"]():F))return this;q=x(this.args,q);return e(A["$nil?"]())?c(this.$class(),"new",[this.object,this.method].concat(a.to_a(q))):c(this.object,"__send__",[this.method].concat(a.to_a(q)),A.$to_proc())},ja.$$arity=-1);a.def(G,"$size",da=function(){return e(this.size["$respond_to?"]("call"))?c(this.size,
"call",a.to_a(this.args)):this.size},da.$$arity=0);a.def(G,"$with_index",ma=function(f){var q=ma.$$p,A=q||z,F;q&&(ma.$$p=null);q&&(ma.$$p=null);null==f&&(f=0);f=e(f)?l(f,p(N,"Integer"),"to_int"):0;if(!e(A))return c(this,"enum_for",["with_index",f],(F=function(){return(null==F.$$s?this:F.$$s).$size()},F.$$s=this,F.$$arity=0,F));var H=f;this.$each.$$p=function(){var K=p(N,"Opal").$destructure(arguments);K=A(K,H);H++;return K};return this.$each()},ma.$$arity=-1);a.alias(G,"with_object","each_with_object");
a.def(G,"$each_with_index",b=function(){var f=b.$$p,q=f||z,A,F=z,H=z,K=z;f&&(b.$$p=null);H=0;K=arguments.length;for(F=Array(K);H<K;H++)F[H]=arguments[H];f&&(b.$$p=null);if(q===z)return c(this,"enum_for",["each_with_index"],(A=function(){return(null==A.$$s?this:A.$$s).$size()},A.$$s=this,A.$$arity=0,A));n(this,a.find_super_dispatcher(this,"each_with_index",b,!1,!0),"each_with_index",F,f);return this.object},b.$$arity=0);a.def(G,"$inspect",h=function(){var f="#<"+this.$class()+": "+this.object.$inspect()+
":"+this.method;e(this.args["$any?"]())&&(f=x(f,"("+this.args.$inspect()["$[]"](p(N,"Range").$new(1,-2))+")"));return x(f,">")},h.$$arity=0);(function(f,$super,A){f=E(f,$super,"Generator");var F=[f].concat(A),H,K;f.$$prototype.block=z;f.$include(p(F,"Enumerable"));a.def(f,"$initialize",H=function(){var ba=H.$$p,va=ba||z;ba&&(H.$$p=null);ba&&(H.$$p=null);e(va)||this.$raise(p(F,"LocalJumpError"),"no block given");return this.block=va},H.$$arity=0);return(a.def(f,"$each",K=function(ba){var va=K.$$p,
Pa=va||z;va&&(K.$$p=null);va&&(K.$$p=null);va=a.slice.call(arguments,0,arguments.length);Pa=c(p(F,"Yielder"),"new",[],Pa.$to_proc());try{va.unshift(Pa),a.yieldX(this.block,va)}catch(wa){if(wa===m)return m.$v;throw wa;}return this},K.$$arity=-1),z)&&"each"})(N[0],null,N);(function(f,$super,A){f=E(f,$super,"Yielder");[f].concat(A);var F,H,K;f.$$prototype.block=z;a.def(f,"$initialize",F=function(){var ba=F.$$p,va=ba||z;ba&&(F.$$p=null);ba&&(F.$$p=null);return this.block=va},F.$$arity=0);a.def(f,"$yield",
H=function(ba){var va=a.slice.call(arguments,0,arguments.length);va=a.yieldX(this.block,va);if(va===m)throw m;return va},H.$$arity=-1);return(a.def(f,"$<<",K=function(ba){var va=a.slice.call(arguments,0,arguments.length);c(this,"yield",a.to_a(va));return this},K.$$arity=-1),z)&&"<<"})(N[0],null,N);(function(f,$super,A){f=E(f,$super,"Lazy");var F=[f].concat(A),H,K,ba,va,Pa,wa,Aa,Ma,na,T,sa,xa,Ja;f.$$prototype.enumerator=z;(function(ka,$super,L){[E(ka,$super,"StopLazyError")].concat(L);return z})(F[0],
p(F,"Exception"),F);a.def(f,"$initialize",H=function(ka,M){var L=H.$$p,fa=L||z,oa;L&&(H.$$p=null);L&&(H.$$p=null);null==M&&(M=z);fa===z&&this.$raise(p(F,"ArgumentError"),"tried to call lazy new without a block");this.enumerator=ka;return n(this,a.find_super_dispatcher(this,"initialize",H,!1,!0),"initialize",[M],(oa=function(ea,ta){var Ea=null==oa.$$s?this:oa.$$s,Ha;null==ea&&(ea=z);var Ra=a.slice.call(arguments,1,arguments.length);try{return c(ka,"each",a.to_a(Ra),(Ha=function(Sa){var Ka=a.slice.call(arguments,
0,arguments.length);Ka.unshift(ea);a.yieldX(fa,Ka)},Ha.$$s=Ea,Ha.$$arity=-1,Ha))}catch(Sa){if(a.rescue(Sa,[p(F,"Exception")]))try{return z}finally{a.pop_exception()}else throw Sa;}},oa.$$s=this,oa.$$arity=-2,oa))},H.$$arity=-2);a.alias(f,"force","to_a");a.def(f,"$lazy",K=function(){return this},K.$$arity=0);a.def(f,"$collect",ba=function(){var ka=ba.$$p,M=ka||z,L;ka&&(ba.$$p=null);ka&&(ba.$$p=null);e(M)||this.$raise(p(F,"ArgumentError"),"tried to call lazy map without a block");return c(p(F,"Lazy"),
"new",[this,this.$enumerator_size()],(L=function(fa,oa){null==fa&&(fa=z);var ea=a.slice.call(arguments,1,arguments.length);ea=a.yieldX(M,ea);fa.$yield(ea)},L.$$s=this,L.$$arity=-2,L))},ba.$$arity=0);a.def(f,"$collect_concat",va=function(){var ka=va.$$p,M=ka||z,L;ka&&(va.$$p=null);ka&&(va.$$p=null);e(M)||this.$raise(p(F,"ArgumentError"),"tried to call lazy map without a block");return c(p(F,"Lazy"),"new",[this,z],(L=function(fa,oa){var ea=null==L.$$s?this:L.$$s,ta,Ea;null==fa&&(fa=z);var Ha=a.slice.call(arguments,
1,arguments.length);Ha=a.yieldX(M,Ha);Ha["$respond_to?"]("force")&&Ha["$respond_to?"]("each")?c(Ha,"each",[],(ta=function(Ra){null==Ra&&(Ra=z);return fa.$yield(Ra)},ta.$$s=ea,ta.$$arity=1,ta)):p(F,"Opal").$try_convert(Ha,p(F,"Array"),"to_ary")===z?fa.$yield(Ha):c(Ha,"each",[],(Ea=function(Ra){null==Ra&&(Ra=z);return fa.$yield(Ra)},Ea.$$s=ea,Ea.$$arity=1,Ea))},L.$$s=this,L.$$arity=-2,L))},va.$$arity=0);a.def(f,"$drop",Pa=function(ka){var M,L=z,fa=L=z;ka=l(ka,p(F,"Integer"),"to_int");e(I(ka,0))&&this.$raise(p(F,
"ArgumentError"),"attempt to drop negative size");L=this.$enumerator_size();L=e(p(F,"Integer")["$==="](L))?e(I(ka,L))?ka:L:L;fa=0;return c(p(F,"Lazy"),"new",[this,L],(M=function(oa,ea){null==oa&&(oa=z);var ta=a.slice.call(arguments,1,arguments.length);return e(I(fa,ka))?fa=x(fa,1):c(oa,"yield",a.to_a(ta))},M.$$s=this,M.$$arity=-2,M))},Pa.$$arity=1);a.def(f,"$drop_while",wa=function(){var ka=wa.$$p,M=ka||z,L,fa=z;ka&&(wa.$$p=null);ka&&(wa.$$p=null);e(M)||this.$raise(p(F,"ArgumentError"),"tried to call lazy drop_while without a block");
fa=!0;return c(p(F,"Lazy"),"new",[this,z],(L=function(oa,ea){null==oa&&(oa=z);var ta=a.slice.call(arguments,1,arguments.length);if(e(fa)){var Ea=a.yieldX(M,ta);D(Ea)&&(fa=!1,c(oa,"yield",a.to_a(ta)))}else return c(oa,"yield",a.to_a(ta))},L.$$s=this,L.$$arity=-2,L))},wa.$$arity=0);a.def(f,"$enum_for",Aa=function(ka,M){var L=Aa.$$p,fa=L||z;L&&(Aa.$$p=null);L&&(Aa.$$p=null);L=a.slice.call(arguments,0,arguments.length);if(0<L.length){var oa=L[0];L.splice(0,1)}null==oa&&(oa="each");return c(this.$class(),
"for",[this,oa].concat(a.to_a(L)),fa.$to_proc())},Aa.$$arity=-1);a.alias(f,"filter","find_all");a.def(f,"$find_all",Ma=function(){var ka=Ma.$$p,M=ka||z,L;ka&&(Ma.$$p=null);ka&&(Ma.$$p=null);e(M)||this.$raise(p(F,"ArgumentError"),"tried to call lazy select without a block");return c(p(F,"Lazy"),"new",[this,z],(L=function(fa,oa){null==fa&&(fa=z);var ea=a.slice.call(arguments,1,arguments.length);var ta=a.yieldX(M,ea);e(ta)&&c(fa,"yield",a.to_a(ea))},L.$$s=this,L.$$arity=-2,L))},Ma.$$arity=0);a.alias(f,
"flat_map","collect_concat");a.def(f,"$grep",na=function(ka){var M=na.$$p,L=M||z,fa,oa;M&&(na.$$p=null);M&&(na.$$p=null);return e(L)?c(p(F,"Lazy"),"new",[this,z],(fa=function(ea,ta){null==ea&&(ea=z);var Ea=a.slice.call(arguments,1,arguments.length);Ea=p(F,"Opal").$destructure(Ea);var Ha=ka["$==="](Ea);e(Ha)&&(a.yield1(L,Ea),ea.$yield(a.yield1(L,Ea)))},fa.$$s=this,fa.$$arity=-2,fa)):c(p(F,"Lazy"),"new",[this,z],(oa=function(ea,ta){null==ea&&(ea=z);var Ea=a.slice.call(arguments,1,arguments.length);
Ea=p(F,"Opal").$destructure(Ea);var Ha=ka["$==="](Ea);e(Ha)&&ea.$yield(Ea)},oa.$$s=this,oa.$$arity=-2,oa))},na.$$arity=1);a.alias(f,"map","collect");a.alias(f,"select","find_all");a.def(f,"$reject",T=function(){var ka=T.$$p,M=ka||z,L;ka&&(T.$$p=null);ka&&(T.$$p=null);e(M)||this.$raise(p(F,"ArgumentError"),"tried to call lazy reject without a block");return c(p(F,"Lazy"),"new",[this,z],(L=function(fa,oa){null==fa&&(fa=z);var ea=a.slice.call(arguments,1,arguments.length);var ta=a.yieldX(M,ea);D(ta)&&
c(fa,"yield",a.to_a(ea))},L.$$s=this,L.$$arity=-2,L))},T.$$arity=0);a.def(f,"$take",sa=function(ka){var M,L=z,fa=L=z;ka=l(ka,p(F,"Integer"),"to_int");e(I(ka,0))&&this.$raise(p(F,"ArgumentError"),"attempt to take negative size");L=this.$enumerator_size();L=e(p(F,"Integer")["$==="](L))?e(I(ka,L))?ka:L:L;fa=0;return c(p(F,"Lazy"),"new",[this,L],(M=function(oa,ea){var ta=null==M.$$s?this:M.$$s;null==oa&&(oa=z);var Ea=a.slice.call(arguments,1,arguments.length);return e(I(fa,ka))?(c(oa,"yield",a.to_a(Ea)),
fa=x(fa,1)):ta.$raise(p(F,"StopLazyError"))},M.$$s=this,M.$$arity=-2,M))},sa.$$arity=1);a.def(f,"$take_while",xa=function(){var ka=xa.$$p,M=ka||z,L;ka&&(xa.$$p=null);ka&&(xa.$$p=null);e(M)||this.$raise(p(F,"ArgumentError"),"tried to call lazy take_while without a block");return c(p(F,"Lazy"),"new",[this,z],(L=function(fa,oa){var ea=null==L.$$s?this:L.$$s;null==fa&&(fa=z);var ta=a.slice.call(arguments,1,arguments.length);var Ea=a.yieldX(M,ta);e(Ea)?c(fa,"yield",a.to_a(ta)):ea.$raise(p(F,"StopLazyError"))},
L.$$s=this,L.$$arity=-2,L))},xa.$$arity=0);a.alias(f,"to_enum","enum_for");return(a.def(f,"$inspect",Ja=function(){return"#<"+this.$class()+": "+this.enumerator.$inspect()+">"},Ja.$$arity=0),z)&&"inspect"})(N[0],G,N);return function(f,$super,A){[E(f,$super,"ArithmeticSequence")].concat(A);return z}(N[0],G,N)}(w[0],null,w)};
Opal.modules["corelib/numeric"]=function(a){function x(c,n){return"number"===typeof c&&"number"===typeof n?c-n:c["$-"](n)}function I(c,n){return"number"===typeof c&&"number"===typeof n?c*n:c["$*"](n)}function t(c,n){return"number"===typeof c&&"number"===typeof n?c<n:c["$<"](n)}function w(c,n){return"number"===typeof c&&"number"===typeof n?c/n:c["$/"](n)}var z=a.top,p=[],m=a.nil,u=a.$$$,D=a.$$,e=a.klass,l=a.truthy,E=a.hash2;a.add_stubs("$require $include $instance_of? $class $Float $respond_to? $coerce $__send__ $=== $raise $equal? $- $* $div $< $-@ $ceil $to_f $denominator $to_r $== $floor $/ $% $Complex $zero? $numerator $abs $arg $coerce_to! $round $to_i $truncate $>".split(" "));
z.$require("corelib/comparable");return function(c,$super,G){c=e(c,$super,"Numeric");var d=[c].concat(G),k,N,y,S,ja,da,ma,b,h,f,q,A,F,H,K,ba,va,Pa,wa,Aa,Ma,na,T,sa,xa,Ja,ka,M,L,fa,oa,ea,ta,Ea,Ha,Ra,Sa;c.$include(D(d,"Comparable"));a.def(c,"$coerce",k=function(Ka){return l(Ka["$instance_of?"](this.$class()))?[Ka,this]:[this.$Float(Ka),this.$Float(this)]},k.$$arity=1);a.def(c,"$__coerced__",N=function(Ka,eb){if(l(eb["$respond_to?"]("coerce"))){eb=eb.$coerce(this);var kb=a.to_ary(eb);var W=null==kb[0]?
m:kb[0];kb=null==kb[1]?m:kb[1];eb;return W.$__send__(Ka,kb)}return"+"["$==="](Ka)||"-"["$==="](Ka)||"*"["$==="](Ka)||"/"["$==="](Ka)||"%"["$==="](Ka)||"&"["$==="](Ka)||"|"["$==="](Ka)||"^"["$==="](Ka)||"**"["$==="](Ka)?this.$raise(D(d,"TypeError"),""+eb.$class()+" can't be coerced into Numeric"):">"["$==="](Ka)||">="["$==="](Ka)||"<"["$==="](Ka)||"<="["$==="](Ka)||"<=>"["$==="](Ka)?this.$raise(D(d,"ArgumentError"),"comparison of "+this.$class()+" with "+eb.$class()+" failed"):m},N.$$arity=2);a.def(c,
"$<=>",y=function(Ka){return l(this["$equal?"](Ka))?0:m},y.$$arity=1);a.def(c,"$+@",S=function(){return this},S.$$arity=0);a.def(c,"$-@",ja=function(){return x(0,this)},ja.$$arity=0);a.def(c,"$%",da=function(Ka){return x(this,I(Ka,this.$div(Ka)))},da.$$arity=1);a.def(c,"$abs",ma=function(){return t(this,0)?this["$-@"]():this},ma.$$arity=0);a.def(c,"$abs2",b=function(){return I(this,this)},b.$$arity=0);a.def(c,"$angle",h=function(){return t(this,0)?u(D(d,"Math"),"PI"):0},h.$$arity=0);a.alias(c,"arg",
"angle");a.def(c,"$ceil",f=function(Ka){null==Ka&&(Ka=0);return this.$to_f().$ceil(Ka)},f.$$arity=-1);a.def(c,"$conj",q=function(){return this},q.$$arity=0);a.alias(c,"conjugate","conj");a.def(c,"$denominator",A=function(){return this.$to_r().$denominator()},A.$$arity=0);a.def(c,"$div",F=function(Ka){Ka["$=="](0)&&this.$raise(D(d,"ZeroDivisionError"),"divided by o");return w(this,Ka).$floor()},F.$$arity=1);a.def(c,"$divmod",H=function(Ka){return[this.$div(Ka),this["$%"](Ka)]},H.$$arity=1);a.def(c,
"$fdiv",K=function(Ka){return w(this.$to_f(),Ka)},K.$$arity=1);a.def(c,"$floor",ba=function(Ka){null==Ka&&(Ka=0);return this.$to_f().$floor(Ka)},ba.$$arity=-1);a.def(c,"$i",va=function(){return this.$Complex(0,this)},va.$$arity=0);a.def(c,"$imag",Pa=function(){return 0},Pa.$$arity=0);a.alias(c,"imaginary","imag");a.def(c,"$integer?",wa=function(){return!1},wa.$$arity=0);a.alias(c,"magnitude","abs");a.alias(c,"modulo","%");a.def(c,"$nonzero?",Aa=function(){return l(this["$zero?"]())?m:this},Aa.$$arity=
0);a.def(c,"$numerator",Ma=function(){return this.$to_r().$numerator()},Ma.$$arity=0);a.alias(c,"phase","arg");a.def(c,"$polar",na=function(){return[this.$abs(),this.$arg()]},na.$$arity=0);a.def(c,"$quo",T=function(Ka){return w(D(d,"Opal")["$coerce_to!"](this,D(d,"Rational"),"to_r"),Ka)},T.$$arity=1);a.def(c,"$real",sa=function(){return this},sa.$$arity=0);a.def(c,"$real?",xa=function(){return!0},xa.$$arity=0);a.def(c,"$rect",Ja=function(){return[this,0]},Ja.$$arity=0);a.alias(c,"rectangular","rect");
a.def(c,"$round",ka=function(Ka){return this.$to_f().$round(Ka)},ka.$$arity=-1);a.def(c,"$to_c",M=function(){return this.$Complex(this,0)},M.$$arity=0);a.def(c,"$to_int",L=function(){return this.$to_i()},L.$$arity=0);a.def(c,"$truncate",fa=function(Ka){null==Ka&&(Ka=0);return this.$to_f().$truncate(Ka)},fa.$$arity=-1);a.def(c,"$zero?",oa=function(){return this["$=="](0)},oa.$$arity=0);a.def(c,"$positive?",ea=function(){return"number"===typeof this?0<this:this["$>"](0)},ea.$$arity=0);a.def(c,"$negative?",
ta=function(){return t(this,0)},ta.$$arity=0);a.def(c,"$dup",Ea=function(){return this},Ea.$$arity=0);a.def(c,"$clone",Ha=function(Ka){if(null==Ka)E([],{});else if(!Ka.$$is_hash)throw a.ArgumentError.$new("expected kwargs");return this},Ha.$$arity=-1);a.def(c,"$finite?",Ra=function(){return!0},Ra.$$arity=0);return(a.def(c,"$infinite?",Sa=function(){return m},Sa.$$arity=0),m)&&"infinite?"}(p[0],null,p)};
Opal.modules["corelib/array"]=function(a){function x(ja,da){return"number"===typeof ja&&"number"===typeof da?ja>da:ja["$>"](da)}var I=a.top,t=[],w=a.nil,z=a.$$$,p=a.$$,m=a.truthy,u=a.falsy,D=a.hash_ids,e=a.yield1,l=a.hash_get,E=a.hash_put,c=a.hash_delete,n=a.coerce_to,G=a.respond_to,d=a.klass,k=a.hash2,N=a.send2,y=a.send,S=a.gvars;a.add_stubs("$require $include $to_a $warn $raise $replace $respond_to? $to_ary $coerce_to? $=== $join $to_str $class $hash $<=> $== $object_id $inspect $enum_for $bsearch_index $to_proc $nil? $coerce_to! $> $* $enumerator_size $empty? $size $map $equal? $dup $each $[] $dig $eql? $length $exclude_end? $flatten $__id__ $to_s $new $max $min $! $>= $** $delete_if $reverse $rotate $rand $at $keep_if $shuffle! $< $sort $sort_by $!= $times $[]= $- $<< $values $is_a? $last $first $upto $reject $pristine $singleton_class".split(" "));
I.$require("corelib/enumerable");I.$require("corelib/numeric");return function(ja,$super,ma){function b(r,J){return J.$$name===a.Array?r:J.$allocate().$replace(r.$to_a())}function h(r,J,Q){for(var ca,ia=null,qa=Array(r.length),Qa=0,gb=0,$a=r.length;Qa<$a;Qa++){if(!ia)try{ca=e(Q,r[Qa])}catch(lb){ia=lb}if(ia||J(ca))qa[gb]=r[Qa],gb+=1}gb!==Qa&&(r.splice.apply(r,[0,qa.length].concat(qa)),r.splice(gb,qa.length));if(ia)throw ia;}function f(r,J){var Q=r.length;var ca=J.excl;var ia=n(J.begin,a.Integer,"to_int");
J=n(J.end,a.Integer,"to_int");if(0>ia&&(ia+=Q,0>ia)||ia>Q)return w;if(0>J&&(J+=Q,0>J))return[];ca||(J+=1);Q=r.slice(ia,J);return b(Q,r.$class())}function q(r,J,Q){var ca=r.length;J=n(J,a.Integer,"to_int");if(0>J&&(J+=ca,0>J))return w;if(void 0===Q)return J>=ca||0>J?w:r[J];Q=n(Q,a.Integer,"to_int");if(0>Q||J>ca||0>J)return w;J=r.slice(J,J+Q);return b(J,r.$class())}function A(r,J){return r===J||0===J?1:0<J&&r>J?A(r-1,J-1)+A(r-1,J):0}var F=d(ja,$super,"Array"),H=[F].concat(ma),K,ba,va,Pa,wa,Aa,Ma,na,
T,sa,xa,Ja,ka,M,L,fa,oa,ea,ta,Ea,Ha,Ra,Sa,Ka,eb,kb,W,ya,Ba,Va,bb,db,Ca,Wa,za,ua,Na,Ta,Za,Fa,Y,R,Z,U,ha,la,g,C,O,aa,v,V,pa,La,jb,ob,mb,sb,tb,wb,xb,ub,X,Oa,cb,B,P,ra,Ga,Da,Ia,Xa,ib,fb,Ua,Ya,hb,qb,nb,pb,Gb,Ab,Jb,Bb,Kb,Cb,Db,Lb,Mb,Eb,Nb,Fb,Ob;F.$include(p(H,"Enumerable"));a.defineProperty(F.$$prototype,"$$is_array",!0);a.defs(F,"$[]",K=function(r){var J=a.slice.call(arguments,0,arguments.length);return b(J,this)},K.$$arity=-1);a.def(F,"$initialize",ba=function(r,J){var Q=ba.$$p,ca=Q||w;Q&&(ba.$$p=null);
Q&&(ba.$$p=null);null==r&&(r=w);null==J&&(J=w);J!==w&&ca!==w&&this.$warn("warning: block supersedes default value argument");r>z(p(H,"Integer"),"MAX")&&this.$raise(p(H,"ArgumentError"),"array size too big");2<arguments.length&&this.$raise(p(H,"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..2)");if(0===arguments.length)return this.splice(0,this.length),this;if(1===arguments.length){if(r.$$is_array)return this.$replace(r.$to_a()),this;if(r["$respond_to?"]("to_ary"))return this.$replace(r.$to_ary()),
this}r=n(r,p(H,"Integer"),"to_int");0>r&&this.$raise(p(H,"ArgumentError"),"negative array size");this.splice(0,this.length);if(ca===w)for(Q=0;Q<r;Q++)this.push(J);else for(Q=0,ia;Q<r;Q++){var ia=ca(Q);this[Q]=ia}return this},ba.$$arity=-1);a.defs(F,"$try_convert",va=function(r){return p(H,"Opal")["$coerce_to?"](r,p(H,"Array"),"to_ary")},va.$$arity=1);a.def(F,"$&",Pa=function(r){r=m(p(H,"Array")["$==="](r))?r.$to_a():n(r,p(H,"Array"),"to_ary").$to_a();var J=[],Q=k([],{}),ca;var ia=0;for(ca=r.length;ia<
ca;ia++)E(Q,r[ia],!0);ia=0;for(ca=this.length;ia<ca;ia++)r=this[ia],void 0!==c(Q,r)&&J.push(r);return J},Pa.$$arity=1);a.def(F,"$|",wa=function(r){r=m(p(H,"Array")["$==="](r))?r.$to_a():n(r,p(H,"Array"),"to_ary").$to_a();var J=k([],{}),Q;var ca=0;for(Q=this.length;ca<Q;ca++)E(J,this[ca],!0);ca=0;for(Q=r.length;ca<Q;ca++)E(J,r[ca],!0);return J.$keys()},wa.$$arity=1);a.def(F,"$*",Aa=function(r){if(m(r["$respond_to?"]("to_str")))return this.$join(r.$to_str());r=n(r,p(H,"Integer"),"to_int");m(0>r)&&this.$raise(p(H,
"ArgumentError"),"negative argument");for(var J=[],Q=this.$to_a(),ca=0;ca<r;ca++)J=J.concat(Q);return b(J,this.$class())},Aa.$$arity=1);a.def(F,"$+",Ma=function(r){r=m(p(H,"Array")["$==="](r))?r.$to_a():n(r,p(H,"Array"),"to_ary").$to_a();return this.concat(r)},Ma.$$arity=1);a.def(F,"$-",na=function(r){r=m(p(H,"Array")["$==="](r))?r.$to_a():n(r,p(H,"Array"),"to_ary").$to_a();if(m(0===this.length))return[];if(m(0===r.length))return this.slice();var J=[],Q=k([],{}),ca;var ia=0;for(ca=r.length;ia<ca;ia++)E(Q,
r[ia],!0);ia=0;for(ca=this.length;ia<ca;ia++)r=this[ia],void 0===l(Q,r)&&J.push(r);return J},na.$$arity=1);a.def(F,"$<<",T=function(r){this.push(r);return this},T.$$arity=1);a.def(F,"$<=>",sa=function(r){if(m(p(H,"Array")["$==="](r)))r=r.$to_a();else if(m(r["$respond_to?"]("to_ary")))r=r.$to_ary().$to_a();else return w;if(this.$hash()===r.$hash())return 0;for(var J=Math.min(this.length,r.length),Q=0;Q<J;Q++){var ca=this[Q]["$<=>"](r[Q]);if(0!==ca)return ca}return this.length["$<=>"](r.length)},sa.$$arity=
1);a.def(F,"$==",xa=function(r){function J(ca,ia){var qa;if(ca===ia)return!0;if(!ia.$$is_array)return G(ia,"$to_ary")?ia["$=="](ca):!1;ca.$$constructor!==Array&&(ca=ca.$to_a());ia.$$constructor!==Array&&(ia=ia.$to_a());if(ca.length!==ia.length)return!1;Q[ca.$object_id()]=!0;var Qa=0;for(qa=ca.length;Qa<qa;Qa++){var gb=ca[Qa];var $a=ia[Qa];if(gb.$$is_array){if($a.$$is_array&&$a.length!==gb.length||!Q.hasOwnProperty(gb.$object_id())&&!J(gb,$a))return!1}else if(!gb["$=="]($a))return!1}return!0}var Q=
{};return J(this,r)},xa.$$arity=1);a.def(F,"$[]",Ja=function(r,J){return r.$$is_range?f(this,r):q(this,r,J)},Ja.$$arity=-2);a.def(F,"$[]=",ka=function(r,J,Q){var ca=w;var ia=this.length;if(m(p(H,"Range")["$==="](r))){ca=m(p(H,"Array")["$==="](J))?J.$to_a():m(J["$respond_to?"]("to_ary"))?J.$to_ary().$to_a():[J];var qa=r.excl;Q=n(r.begin,p(H,"Integer"),"to_int");var Qa=n(r.end,p(H,"Integer"),"to_int");0>Q&&(Q+=ia,0>Q&&this.$raise(p(H,"RangeError"),""+r.$inspect()+" out of range"));0>Qa&&(Qa+=ia);qa||
(Qa+=1);if(Q>ia)for(;ia<Q;ia++)this[ia]=w;0>Qa?this.splice.apply(this,[Q,0].concat(ca)):this.splice.apply(this,[Q,Qa-Q].concat(ca))}else{m(void 0===Q)?Qa=1:(Qa=J,J=Q,ca=m(p(H,"Array")["$==="](J))?J.$to_a():m(J["$respond_to?"]("to_ary"))?J.$to_ary().$to_a():[J]);r=n(r,p(H,"Integer"),"to_int");Qa=n(Qa,p(H,"Integer"),"to_int");0>r&&(qa=r,r+=ia,0>r&&this.$raise(p(H,"IndexError"),"index "+qa+" too small for array; minimum "+-this.length));0>Qa&&this.$raise(p(H,"IndexError"),"negative length ("+Qa+")");
if(r>ia)for(;ia<r;ia++)this[ia]=w;void 0===Q?this[r]=J:this.splice.apply(this,[r,Qa].concat(ca))}return J},ka.$$arity=-3);a.def(F,"$any?",M=function(r){var J=M.$$p,Q;J&&(M.$$p=null);var ca=0;var ia=arguments.length;for(Q=Array(ia);ca<ia;ca++)Q[ca]=arguments[ca];J&&(M.$$p=null);return 0===this.length?!1:N(this,a.find_super_dispatcher(this,"any?",M,!1,!0),"any?",Q,J)},M.$$arity=-1);a.def(F,"$assoc",L=function(r){for(var J=0,Q=this.length,ca;J<Q;J++)if(ca=this[J],ca.length&&ca[0]["$=="](r))return ca;
return w},L.$$arity=1);a.def(F,"$at",fa=function(r){r=n(r,p(H,"Integer"),"to_int");0>r&&(r+=this.length);return 0>r||r>=this.length?w:this[r]},fa.$$arity=1);a.def(F,"$bsearch_index",oa=function(){var r=oa.$$p,J=r||w;r&&(oa.$$p=null);r&&(oa.$$p=null);if(J===w)return this.$enum_for("bsearch_index");r=0;for(var Q=this.length,ca,ia,qa=!1,Qa=w;r<Q;){ca=r+Math.floor((Q-r)/2);ia=this[ca];ia=e(J,ia);if(!0===ia)Qa=ca,qa=!0;else if(!1===ia||ia===w)qa=!1;else if(ia.$$is_number){if(0===ia)return ca;qa=0>ia}else this.$raise(p(H,
"TypeError"),"wrong argument type "+ia.$class()+" (must be numeric, true, false or nil)");qa?Q=ca:r=ca+1}return Qa},oa.$$arity=0);a.def(F,"$bsearch",ea=function(){var r=ea.$$p,J=r||w;r&&(ea.$$p=null);r&&(ea.$$p=null);if(J===w)return this.$enum_for("bsearch");r=y(this,"bsearch_index",[],J.$to_proc());return null!=r&&r.$$is_number?this[r]:r},ea.$$arity=0);a.def(F,"$cycle",ta=function(r){var J=ta.$$p,Q=J||w,ca,ia=w;J&&(ta.$$p=null);J&&(ta.$$p=null);null==r&&(r=w);if(Q===w)return y(this,"enum_for",["cycle",
r],(ca=function(){var qa=null==ca.$$s?this:ca.$$s;if(m(r["$nil?"]()))return z(p(H,"Float"),"INFINITY");r=p(H,"Opal")["$coerce_to!"](r,p(H,"Integer"),"to_int");return m(x(r,0))?(qa=qa.$enumerator_size(),"number"===typeof qa&&"number"===typeof r?qa*r:qa["$*"](r)):0},ca.$$s=this,ca.$$arity=0,ca));if(m(m(ia=this["$empty?"]())?ia:r["$=="](0)))return w;if(r===w)for(;;)for(J=0,ia=this.length;J<ia;J++)e(Q,this[J]);else{r=p(H,"Opal")["$coerce_to!"](r,p(H,"Integer"),"to_int");if(0>=r)return this;for(;0<r;){J=
0;for(ia=this.length;J<ia;J++)e(Q,this[J]);r--}}return this},ta.$$arity=-1);a.def(F,"$clear",Ea=function(){this.splice(0,this.length);return this},Ea.$$arity=0);a.def(F,"$count",Ha=function(r){var J=Ha.$$p,Q=J||w,ca=w,ia;J&&(Ha.$$p=null);var qa=0;var Qa=arguments.length;for(ia=Array(Qa);qa<Qa;qa++)ia[qa]=arguments[qa];J&&(Ha.$$p=null);null==r&&(r=w);return m(m(ca=r)?ca:Q)?N(this,a.find_super_dispatcher(this,"count",Ha,!1,!0),"count",ia,J):this.$size()},Ha.$$arity=-1);a.def(F,"$initialize_copy",Ra=
function(r){return this.$replace(r)},Ra.$$arity=1);a.def(F,"$collect",Sa=function(){var r=Sa.$$p,J=r||w,Q;r&&(Sa.$$p=null);r&&(Sa.$$p=null);if(J===w)return y(this,"enum_for",["collect"],(Q=function(){return(null==Q.$$s?this:Q.$$s).$size()},Q.$$s=this,Q.$$arity=0,Q));r=[];for(var ca=0,ia=this.length;ca<ia;ca++){var qa=e(J,this[ca]);r.push(qa)}return r},Sa.$$arity=0);a.def(F,"$collect!",Ka=function(){var r=Ka.$$p,J=r||w,Q;r&&(Ka.$$p=null);r&&(Ka.$$p=null);if(J===w)return y(this,"enum_for",["collect!"],
(Q=function(){return(null==Q.$$s?this:Q.$$s).$size()},Q.$$s=this,Q.$$arity=0,Q));r=0;for(var ca=this.length;r<ca;r++){var ia=e(J,this[r]);this[r]=ia}return this},Ka.$$arity=0);a.def(F,"$combination",eb=function(r){var J,Q=eb.$$p,ca=Q||w,ia=w;Q&&(eb.$$p=null);ia=p(H,"Opal")["$coerce_to!"](r,p(H,"Integer"),"to_int");if(ca===w)return y(this,"enum_for",["combination",ia],(J=function(){return A((null==J.$$s?this:J.$$s).length,ia)},J.$$s=this,J.$$arity=0,J));if(0===ia)a.yield1(ca,[]);else if(1===ia)for(Q=
0,r=this.length;Q<r;Q++)a.yield1(ca,[this[Q]]);else if(ia===this.length)a.yield1(ca,this.slice());else if(0<=ia&&ia<this.length){r=[];for(Q=0;Q<=ia+1;Q++)r.push(0);Q=[];var qa=0;var Qa=!1;for(r[0]=-1;!Qa;){for(Q[qa]=this[r[qa+1]];qa<ia-1;)qa++,Qa=r[qa+1]=r[qa]+1,Q[qa]=this[Qa];a.yield1(ca,Q.slice());qa++;do Qa=0===qa,r[qa]++,qa--;while(r[qa+1]+ia===this.length+qa+1)}}return this},eb.$$arity=1);a.def(F,"$repeated_combination",kb=function(r){function J(Qa,gb,$a,lb){if($a.length==Qa)Qa=$a.slice(),a.yield1(ia,
Qa);else for(;gb<lb.length;gb++)$a.push(lb[gb]),J(Qa,gb,$a,lb),$a.pop()}var Q,ca=kb.$$p,ia=ca||w,qa=w;ca&&(kb.$$p=null);qa=p(H,"Opal")["$coerce_to!"](r,p(H,"Integer"),"to_int");if(ia===w)return y(this,"enum_for",["repeated_combination",qa],(Q=function(){return A((null==Q.$$s?this:Q.$$s).length+qa-1,qa)},Q.$$s=this,Q.$$arity=0,Q));0<=qa&&J(qa,0,[],this);return this},kb.$$arity=1);a.def(F,"$compact",W=function(){for(var r=[],J=0,Q=this.length,ca;J<Q;J++)(ca=this[J])!==w&&r.push(ca);return r},W.$$arity=
0);a.def(F,"$compact!",ya=function(){for(var r=this.length,J=0,Q=this.length;J<Q;J++)this[J]===w&&(this.splice(J,1),Q--,J--);return this.length===r?w:this},ya.$$arity=0);a.def(F,"$concat",Ba=function(r){var J,Q;var ca=a.slice.call(arguments,0,arguments.length);ca=y(ca,"map",[],(J=function(ia){var qa=null==J.$$s?this:J.$$s;null==ia&&(ia=w);ia=m(p(H,"Array")["$==="](ia))?ia.$to_a():n(ia,p(H,"Array"),"to_ary").$to_a();m(ia["$equal?"](qa))&&(ia=ia.$dup());return ia},J.$$s=this,J.$$arity=1,J));y(ca,"each",
[],(Q=function(ia){var qa=null==Q.$$s?this:Q.$$s;null==ia&&(ia=w);for(var Qa=0,gb=ia.length;Qa<gb;Qa++)qa.push(ia[Qa])},Q.$$s=this,Q.$$arity=1,Q));return this},Ba.$$arity=-1);a.def(F,"$delete",Va=function(r){var J=Va.$$p,Q=J||w;J&&(Va.$$p=null);J=this.length;for(var ca=0,ia=J;ca<ia;ca++)this[ca]["$=="](r)&&(this.splice(ca,1),ia--,ca--);return this.length===J?Q!==w?a.yieldX(Q,[]):w:r},Va.$$arity=1);a.def(F,"$delete_at",bb=function(r){r=n(r,p(H,"Integer"),"to_int");0>r&&(r+=this.length);if(0>r||r>=
this.length)return w;var J=this[r];this.splice(r,1);return J},bb.$$arity=1);a.def(F,"$delete_if",db=function(){var r=db.$$p,J=r||w,Q;r&&(db.$$p=null);r&&(db.$$p=null);if(J===w)return y(this,"enum_for",["delete_if"],(Q=function(){return(null==Q.$$s?this:Q.$$s).$size()},Q.$$s=this,Q.$$arity=0,Q));h(this,u,J);return this},db.$$arity=0);a.alias(F,"difference","-");a.def(F,"$dig",Ca=function(r,J){var Q=a.slice.call(arguments,1,arguments.length);var ca=this["$[]"](r);if(ca===w||0===Q.length)return ca;m(ca["$respond_to?"]("dig"))||
this.$raise(p(H,"TypeError"),""+ca.$class()+" does not have #dig method");return y(ca,"dig",a.to_a(Q))},Ca.$$arity=-2);a.def(F,"$drop",Wa=function(r){0>r&&this.$raise(p(H,"ArgumentError"));return this.slice(r)},Wa.$$arity=1);a.def(F,"$dup",za=function(){var r=za.$$p,J;r&&(za.$$p=null);var Q=0;var ca=arguments.length;for(J=Array(ca);Q<ca;Q++)J[Q]=arguments[Q];return this.$$class===a.Array&&this.$$class.$allocate.$$pristine&&this.$copy_instance_variables.$$pristine&&this.$initialize_dup.$$pristine?
this.slice(0):N(this,a.find_super_dispatcher(this,"dup",za,!1,!0),"dup",J,r)},za.$$arity=0);a.def(F,"$each",ua=function(){var r=ua.$$p,J=r||w,Q;r&&(ua.$$p=null);r&&(ua.$$p=null);if(J===w)return y(this,"enum_for",["each"],(Q=function(){return(null==Q.$$s?this:Q.$$s).$size()},Q.$$s=this,Q.$$arity=0,Q));r=0;for(var ca=this.length;r<ca;r++)e(J,this[r]);return this},ua.$$arity=0);a.def(F,"$each_index",Na=function(){var r=Na.$$p,J=r||w,Q;r&&(Na.$$p=null);r&&(Na.$$p=null);if(J===w)return y(this,"enum_for",
["each_index"],(Q=function(){return(null==Q.$$s?this:Q.$$s).$size()},Q.$$s=this,Q.$$arity=0,Q));r=0;for(var ca=this.length;r<ca;r++)e(J,r);return this},Na.$$arity=0);a.def(F,"$empty?",Ta=function(){return 0===this.length},Ta.$$arity=0);a.def(F,"$eql?",Za=function(r){function J(ca,ia){var qa;if(!ia.$$is_array)return!1;ia=ia.$to_a();if(ca.length!==ia.length)return!1;Q[ca.$object_id()]=!0;var Qa=0;for(qa=ca.length;Qa<qa;Qa++){var gb=ca[Qa];var $a=ia[Qa];if(gb.$$is_array){if($a.$$is_array&&$a.length!==
gb.length||!Q.hasOwnProperty(gb.$object_id())&&!J(gb,$a))return!1}else if(!gb["$eql?"]($a))return!1}return!0}var Q={};return J(this,r)},Za.$$arity=1);a.def(F,"$fetch",Fa=function(r,J){var Q=Fa.$$p,ca=Q||w;Q&&(Fa.$$p=null);Q&&(Fa.$$p=null);Q=r;r=n(r,p(H,"Integer"),"to_int");0>r&&(r+=this.length);if(0<=r&&r<this.length)return this[r];ca!==w&&null!=J&&this.$warn("warning: block supersedes default value argument");if(ca!==w)return ca(Q);if(null!=J)return J;0===this.length?this.$raise(p(H,"IndexError"),
"index "+Q+" outside of array bounds: 0...0"):this.$raise(p(H,"IndexError"),"index "+Q+" outside of array bounds: -"+this.length+"..."+this.length)},Fa.$$arity=-2);a.def(F,"$fill",Y=function(r){var J=Y.$$p,Q=J||w,ca=w;J&&(Y.$$p=null);J&&(Y.$$p=null);J=a.slice.call(arguments,0,arguments.length);if(m(Q)){m(2<J.length)&&this.$raise(p(H,"ArgumentError"),"wrong number of arguments ("+J.$length()+" for 0..2)");var ia=J;var qa=a.to_ary(ia);J=null==qa[0]?w:qa[0];qa=null==qa[1]?w:qa[1]}else m(0==J.length)?
this.$raise(p(H,"ArgumentError"),"wrong number of arguments (0 for 1..3)"):m(3<J.length)&&this.$raise(p(H,"ArgumentError"),"wrong number of arguments ("+J.$length()+" for 1..3)"),ia=J,qa=a.to_ary(ia),ca=null==qa[0]?w:qa[0],J=null==qa[1]?w:qa[1],qa=null==qa[2]?w:qa[2];ia;if(m(p(H,"Range")["$==="](J))){if(m(qa)&&this.$raise(p(H,"TypeError"),"length invalid with range"),ia=n(J.begin,p(H,"Integer"),"to_int"),m(0>ia)&&(ia+=this.length),m(0>ia)&&this.$raise(p(H,"RangeError"),""+J.$inspect()+" out of range"),
qa=n(J.end,p(H,"Integer"),"to_int"),m(0>qa)&&(qa+=this.length),m(J["$exclude_end?"]())||(qa+=1),m(qa<=ia))return this}else if(m(J))if(ia=n(J,p(H,"Integer"),"to_int"),m(0>ia)&&(ia+=this.length),m(0>ia)&&(ia=0),m(qa)){qa=n(qa,p(H,"Integer"),"to_int");if(m(0==qa))return this;qa+=ia}else qa=this.length;else ia=0,qa=this.length;if(m(ia>this.length))for(J=this.length;J<qa;J++)this[J]=w;m(qa>this.length)&&(this.length=qa);if(m(Q))for(;ia<qa;ia++)ca=Q(ia),this[ia]=ca;else for(;ia<qa;ia++)this[ia]=ca;return this},
Y.$$arity=-1);a.def(F,"$first",R=function(r){if(null==r)return 0===this.length?w:this[0];r=n(r,p(H,"Integer"),"to_int");0>r&&this.$raise(p(H,"ArgumentError"),"negative array size");return this.slice(0,r)},R.$$arity=-1);a.def(F,"$flatten",Z=function(r){function J(ca,ia){var qa=[],Qa;ca=ca.$to_a();var gb=0;for(Qa=ca.length;gb<Qa;gb++){var $a=ca[gb];if(G($a,"$to_ary",!0)){var lb=$a.$to_ary();if(lb===w)qa.push($a);else switch(lb.$$is_array||Q.$raise(p(H,"TypeError")),lb===Q&&Q.$raise(p(H,"ArgumentError")),
ia){case void 0:qa=qa.concat(J(lb));break;case 0:qa.push(lb);break;default:qa.push.apply(qa,J(lb,ia-1))}}else qa.push($a)}return qa}var Q=this;void 0!==r&&(r=n(r,p(H,"Integer"),"to_int"));return b(J(Q,r),Q.$class())},Z.$$arity=-1);a.def(F,"$flatten!",U=function(r){r=this.$flatten(r);if(this.length==r.length){for(var J=0,Q=this.length;J<Q&&this[J]===r[J];J++);if(J==Q)return w}this.$replace(r);return this},U.$$arity=-1);a.def(F,"$hash",ha=function(){var r=void 0===D,J=["A"],Q=this.$object_id(),ca,ia;
try{r&&(D=Object.create(null));if(D[Q])return"self";for(ia in D){var qa=D[ia];if(this["$eql?"](qa))return"self"}D[Q]=this;for(ca=0;ca<this.length;ca++)qa=this[ca],J.push(qa.$hash());return J.join(",")}finally{r&&(D=void 0)}},ha.$$arity=0);a.def(F,"$include?",la=function(r){for(var J=0,Q=this.length;J<Q;J++)if(this[J]["$=="](r))return!0;return!1},la.$$arity=1);a.def(F,"$index",g=function(r){var J=g.$$p,Q=J||w;J&&(g.$$p=null);J&&(g.$$p=null);var ca;null!=r&&Q!==w&&this.$warn("warning: given block not used");
if(null!=r)for(J=0,ca=this.length;J<ca;J++){if(this[J]["$=="](r))return J}else if(Q!==w)for(J=0,ca=this.length;J<ca;J++){if(r=Q(this[J]),!1!==r&&r!==w)return J}else return this.$enum_for("index");return w},g.$$arity=-1);a.def(F,"$insert",C=function(r,J){var Q=a.slice.call(arguments,1,arguments.length);r=n(r,p(H,"Integer"),"to_int");if(0<Q.length){0>r&&(r+=this.length+1,0>r&&this.$raise(p(H,"IndexError"),""+r+" is out of bounds"));if(r>this.length)for(var ca=this.length;ca<r;ca++)this.push(w);this.splice.apply(this,
[r,0].concat(Q))}return this},C.$$arity=-2);a.def(F,"$inspect",O=function(){for(var r=[],J=this.$__id__(),Q=0,ca=this.length;Q<ca;Q++){var ia=this["$[]"](Q);ia.$__id__()===J?r.push("[...]"):r.push(ia.$inspect())}return"["+r.join(", ")+"]"},O.$$arity=0);a.alias(F,"intersection","&");a.def(F,"$join",aa=function(r){null==S[","]&&(S[","]=w);null==r&&(r=w);if(m(0===this.length))return"";m(r===w)&&(r=S[","]);var J=[],Q;var ca=0;for(Q=this.length;ca<Q;ca++){var ia=this[ca];if(G(ia,"$to_str")){var qa=ia.$to_str();
if(qa!==w){J.push(qa.$to_s());continue}}if(G(ia,"$to_ary")&&(qa=ia.$to_ary(),qa===this&&this.$raise(p(H,"ArgumentError")),qa!==w)){J.push(qa.$join(r));continue}if(G(ia,"$to_s")&&(qa=ia.$to_s(),qa!==w)){J.push(qa);continue}this.$raise(p(H,"NoMethodError").$new(""+a.inspect(ia)+" doesn't respond to #to_str, #to_ary or #to_s","to_str"))}return r===w?J.join(""):J.join(p(H,"Opal")["$coerce_to!"](r,p(H,"String"),"to_str").$to_s())},aa.$$arity=-1);a.def(F,"$keep_if",v=function(){var r=v.$$p,J=r||w,Q;r&&
(v.$$p=null);r&&(v.$$p=null);if(J===w)return y(this,"enum_for",["keep_if"],(Q=function(){return(null==Q.$$s?this:Q.$$s).$size()},Q.$$s=this,Q.$$arity=0,Q));h(this,m,J);return this},v.$$arity=0);a.def(F,"$last",V=function(r){if(null==r)return 0===this.length?w:this[this.length-1];r=n(r,p(H,"Integer"),"to_int");0>r&&this.$raise(p(H,"ArgumentError"),"negative array size");r>this.length&&(r=this.length);return this.slice(this.length-r,this.length)},V.$$arity=-1);a.def(F,"$length",pa=function(){return this.length},
pa.$$arity=0);a.alias(F,"map","collect");a.alias(F,"map!","collect!");a.def(F,"$max",La=function(r){var J=La.$$p,Q=J||w;J&&(La.$$p=null);J&&(La.$$p=null);return y(this.$each(),"max",[r],Q.$to_proc())},La.$$arity=-1);a.def(F,"$min",jb=function(){var r=jb.$$p,J=r||w;r&&(jb.$$p=null);r&&(jb.$$p=null);return y(this.$each(),"min",[],J.$to_proc())},jb.$$arity=0);a.def(F,"$permutation",ob=function(r){var J=ob.$$p,Q=J||w,ca,ia=this,qa=w,Qa=w;J&&(ob.$$p=null);J&&(ob.$$p=null);if(Q===w)return y(ia,"enum_for",
["permutation",r],(ca=function(){var lb=null==ca.$$s?this:ca.$$s,vb=lb.length;lb=void 0===r?lb.length:r;for(var yb=0<=lb?1:0;lb;)yb*=vb,vb--,lb--;return yb},ca.$$s=ia,ca.$$arity=0,ca));var gb;r=void 0===r?ia.length:n(r,p(H,"Integer"),"to_int");if(!(0>r||ia.length<r))if(0===r)a.yield1(Q,[]);else if(1===r)for(qa=0;qa<ia.length;qa++)a.yield1(Q,[ia[qa]]);else{qa=p(H,"Array").$new(r);Qa=p(H,"Array").$new(ia.length,!1);var $a=function(lb,vb,yb,Hb,Pb){ia=this;for(var zb=0;zb<ia.length;zb++)if(Hb["$[]"](zb)["$!"]())if(vb[yb]=
zb,yb<lb-1)Hb[zb]=!0,$a.call(ia,lb,vb,yb+1,Hb,Pb),Hb[zb]=!1;else{gb=[];for(var Ib=0;Ib<vb.length;Ib++)gb.push(ia[vb[Ib]]);e(Pb,gb)}};Q!==w?(J=ia.slice(),$a.call(J,r,qa,0,Qa,Q)):$a.call(ia,r,qa,0,Qa,Q)}return ia},ob.$$arity=-1);a.def(F,"$repeated_permutation",mb=function(r){function J(Qa,gb,$a){if(gb.length==Qa)Qa=gb.slice(),a.yield1(ia,Qa);else for(var lb=0;lb<$a.length;lb++)gb.push($a[lb]),J(Qa,gb,$a),gb.pop()}var Q,ca=mb.$$p,ia=ca||w,qa=w;ca&&(mb.$$p=null);qa=p(H,"Opal")["$coerce_to!"](r,p(H,"Integer"),
"to_int");if(ia===w)return y(this,"enum_for",["repeated_permutation",qa],(Q=function(){var Qa=null==Q.$$s?this:Q.$$s;return m("number"===typeof qa?0<=qa:qa["$>="](0))?Qa.$size()["$**"](qa):0},Q.$$s=this,Q.$$arity=0,Q));J(qa,[],this.slice());return this},mb.$$arity=1);a.def(F,"$pop",sb=function(r){if(m(void 0===r))return m(0===this.length)?w:this.pop();r=n(r,p(H,"Integer"),"to_int");m(0>r)&&this.$raise(p(H,"ArgumentError"),"negative array size");return m(0===this.length)?[]:m(1===r)?[this.pop()]:m(r>
this.length)?this.splice(0,this.length):this.splice(this.length-r,this.length)},sb.$$arity=-1);a.def(F,"$product",tb=function(r){var J=tb.$$p,Q=J||w;J&&(tb.$$p=null);J&&(tb.$$p=null);var ca=a.slice.call(arguments,0,arguments.length);J=Q!==w?null:[];var ia=ca.length+1,qa=Array(ia),Qa=Array(ia),gb=Array(ia),$a;var lb=1;gb[0]=this;for($a=1;$a<ia;$a++)gb[$a]=n(ca[$a-1],p(H,"Array"),"to_ary");for($a=0;$a<ia;$a++){ca=gb[$a].length;if(0===ca)return J||this;lb*=ca;2147483647<lb&&this.$raise(p(H,"RangeError"),
"too big to product");Qa[$a]=ca;qa[$a]=0}a:for(;;){lb=[];for($a=0;$a<ia;$a++)lb.push(gb[$a][qa[$a]]);J?J.push(lb):a.yield1(Q,lb);$a=ia-1;for(qa[$a]++;qa[$a]===Qa[$a];){qa[$a]=0;if(0>--$a)break a;qa[$a]++}}return J||this},tb.$$arity=-1);a.def(F,"$push",wb=function(r){var J=a.slice.call(arguments,0,arguments.length);for(var Q=0,ca=J.length;Q<ca;Q++)this.push(J[Q]);return this},wb.$$arity=-1);a.alias(F,"append","push");a.def(F,"$rassoc",xb=function(r){for(var J=0,Q=this.length,ca;J<Q;J++)if(ca=this[J],
ca.length&&void 0!==ca[1]&&ca[1]["$=="](r))return ca;return w},xb.$$arity=1);a.def(F,"$reject",ub=function(){var r=ub.$$p,J=r||w,Q;r&&(ub.$$p=null);r&&(ub.$$p=null);if(J===w)return y(this,"enum_for",["reject"],(Q=function(){return(null==Q.$$s?this:Q.$$s).$size()},Q.$$s=this,Q.$$arity=0,Q));r=[];for(var ca=0,ia=this.length,qa;ca<ia;ca++)qa=J(this[ca]),!1!==qa&&qa!==w||r.push(this[ca]);return r},ub.$$arity=0);a.def(F,"$reject!",X=function(){var r=X.$$p,J=r||w,Q,ca=w;r&&(X.$$p=null);r&&(X.$$p=null);
if(J===w)return y(this,"enum_for",["reject!"],(Q=function(){return(null==Q.$$s?this:Q.$$s).$size()},Q.$$s=this,Q.$$arity=0,Q));ca=this.$length();y(this,"delete_if",[],J.$to_proc());return this.$length()["$=="](ca)?w:this},X.$$arity=0);a.def(F,"$replace",Oa=function(r){r=m(p(H,"Array")["$==="](r))?r.$to_a():n(r,p(H,"Array"),"to_ary").$to_a();this.splice(0,this.length);this.push.apply(this,r);return this},Oa.$$arity=1);a.def(F,"$reverse",cb=function(){return this.slice(0).reverse()},cb.$$arity=0);a.def(F,
"$reverse!",B=function(){return this.reverse()},B.$$arity=0);a.def(F,"$reverse_each",P=function(){var r=P.$$p,J=r||w,Q;r&&(P.$$p=null);r&&(P.$$p=null);if(J===w)return y(this,"enum_for",["reverse_each"],(Q=function(){return(null==Q.$$s?this:Q.$$s).$size()},Q.$$s=this,Q.$$arity=0,Q));y(this.$reverse(),"each",[],J.$to_proc());return this},P.$$arity=0);a.def(F,"$rindex",ra=function(r){var J=ra.$$p,Q=J||w;J&&(ra.$$p=null);J&&(ra.$$p=null);null!=r&&Q!==w&&this.$warn("warning: given block not used");if(null!=
r)for(J=this.length-1;0<=J&&!(J>=this.length);J--){if(this[J]["$=="](r))return J}else if(Q!==w)for(J=this.length-1;0<=J&&!(J>=this.length);J--){if(r=Q(this[J]),!1!==r&&r!==w)return J}else if(null==r)return this.$enum_for("rindex");return w},ra.$$arity=-1);a.def(F,"$rotate",Ga=function(r){null==r&&(r=1);r=n(r,p(H,"Integer"),"to_int");if(1===this.length)return this.slice();if(0===this.length)return[];var J=this.slice();var Q=r%J.length;r=J.slice(Q);J=J.slice(0,Q);return r.concat(J)},Ga.$$arity=-1);
a.def(F,"$rotate!",Da=function(r){null==r&&(r=1);if(0===this.length||1===this.length)return this;r=n(r,p(H,"Integer"),"to_int");r=this.$rotate(r);return this.$replace(r)},Da.$$arity=-1);(function(r,$super,Q){r=d(r,$super,"SampleRandom");var ca=[r].concat(Q),ia,qa;r.$$prototype.rng=w;a.def(r,"$initialize",ia=function(Qa){return this.rng=Qa},ia.$$arity=1);return(a.def(r,"$rand",qa=function(Qa){var gb=n(this.rng.$rand(Qa),p(ca,"Integer"),"to_int");m(0>gb)&&this.$raise(p(ca,"RangeError"),"random value must be >= 0");
m(gb<Qa)||this.$raise(p(ca,"RangeError"),"random value must be less than Array size");return gb},qa.$$arity=1),w)&&"rand"})(H[0],null,H);a.def(F,"$sample",Ia=function(r,J){var Q=w,ca=w,ia=w;if(m(void 0===r))return this.$at(p(H,"Kernel").$rand(this.length));m(void 0===J)?m(J=p(H,"Opal")["$coerce_to?"](r,p(H,"Hash"),"to_hash"))?r=w:(J=w,r=n(r,p(H,"Integer"),"to_int")):(r=n(r,p(H,"Integer"),"to_int"),J=n(J,p(H,"Hash"),"to_hash"));m(m(Q=r)?0>r:Q)&&this.$raise(p(H,"ArgumentError"),"count must be greater than 0");
m(J)&&(ca=J["$[]"]("random"));ca=m(m(ia=ca)?ca["$respond_to?"]("rand"):ia)?p(H,"SampleRandom").$new(ca):p(H,"Kernel");if(!m(r))return this[ca.$rand(this.length)];r>this.length&&(r=this.length);switch(r){case 0:return[];case 1:return[this[ca.$rand(this.length)]];case 2:var qa=ca.$rand(this.length);var Qa=ca.$rand(this.length);qa===Qa&&(Qa=0===qa?qa+1:qa-1);return[this[qa],this[Qa]];default:if(3<this.length/r){ia=!1;J=0;Q=p(H,"Array").$new(r);qa=1;for(Q[0]=ca.$rand(this.length);qa<r;){var gb=ca.$rand(this.length);
for(Qa=0;Qa<qa;){for(;gb===Q[Qa];){J++;if(100<J){ia=!0;break}gb=ca.$rand(this.length)}if(ia)break;Qa++}if(ia)break;Q[qa]=gb;qa++}if(!ia){for(qa=0;qa<r;)Q[qa]=this[Q[qa]],qa++;return Q}}Q=this.slice();for(qa=0;qa<r;qa++)ia=ca.$rand(this.length),J=Q[qa],Q[qa]=Q[ia],Q[ia]=J;return r===this.length?Q:Q["$[]"](0,r)}},Ia.$$arity=-1);a.def(F,"$select",Xa=function(){var r=Xa.$$p,J=r||w,Q;r&&(Xa.$$p=null);r&&(Xa.$$p=null);if(J===w)return y(this,"enum_for",["select"],(Q=function(){return(null==Q.$$s?this:Q.$$s).$size()},
Q.$$s=this,Q.$$arity=0,Q));r=[];for(var ca=0,ia=this.length,qa,Qa;ca<ia;ca++)qa=this[ca],Qa=e(J,qa),m(Qa)&&r.push(qa);return r},Xa.$$arity=0);a.def(F,"$select!",ib=function(){var r=ib.$$p,J=r||w,Q;r&&(ib.$$p=null);r&&(ib.$$p=null);if(J===w)return y(this,"enum_for",["select!"],(Q=function(){return(null==Q.$$s?this:Q.$$s).$size()},Q.$$s=this,Q.$$arity=0,Q));r=this.length;y(this,"keep_if",[],J.$to_proc());return this.length===r?w:this},ib.$$arity=0);a.alias(F,"filter","select");a.alias(F,"filter!","select!");
a.def(F,"$shift",fb=function(r){if(m(void 0===r)){if(m(0===this.length))return w;r=this[0];for(var J=1,Q=this.length;J<Q;J++)this[J-1]=this[J];this.pop();return r}r=n(r,p(H,"Integer"),"to_int");m(0>r)&&this.$raise(p(H,"ArgumentError"),"negative array size");return m(0===this.length)?[]:this.splice(0,r)},fb.$$arity=-1);a.alias(F,"size","length");a.def(F,"$shuffle",Ua=function(r){return this.$dup().$to_a()["$shuffle!"](r)},Ua.$$arity=-1);a.def(F,"$shuffle!",Ya=function(r){var J,Q=this.length;void 0!==
r&&(r=p(H,"Opal")["$coerce_to?"](r,p(H,"Hash"),"to_hash"),r!==w&&(r=r["$[]"]("random"),r!==w&&r["$respond_to?"]("rand")&&(J=r)));for(;Q;){J?(r=J.$rand(Q).$to_int(),0>r&&this.$raise(p(H,"RangeError"),"random number too small "+r),r>=Q&&this.$raise(p(H,"RangeError"),"random number too big "+r)):r=this.$rand(Q);var ca=this[--Q];this[Q]=this[r];this[r]=ca}return this},Ya.$$arity=-1);a.alias(F,"slice","[]");a.def(F,"$slice!",hb=function(r,J){if(m(void 0===J))if(m(p(H,"Range")["$==="](r))){var Q=this["$[]"](r);
J=n(r.begin,p(H,"Integer"),"to_int");var ca=n(r.end,p(H,"Integer"),"to_int");0>J&&(J+=this.length);0>ca?ca+=this.length:ca>=this.length&&(ca=this.length-1,r.excl&&(ca+=1));var ia=ca-J;r.excl?--ca:ia+=1;J<this.length&&0<=J&&ca<this.length&&0<=ca&&0<ia&&this.splice(J,ia)}else{r=n(r,p(H,"Integer"),"to_int");0>r&&(r+=this.length);if(0>r||r>=this.length)return w;Q=this[r];0===r?this.shift():this.splice(r,1)}else{r=n(r,p(H,"Integer"),"to_int");J=n(J,p(H,"Integer"),"to_int");if(0>J)return w;Q=this["$[]"](r,
J);0>r&&(r+=this.length);r+J>this.length&&(J=this.length-r);r<this.length&&0<=r&&this.splice(r,J)}return Q},hb.$$arity=-2);a.def(F,"$sort",qb=function(){var r=qb.$$p,J=r||w,Q=this;r&&(qb.$$p=null);r&&(qb.$$p=null);if(!m(1<Q.length))return Q;J===w&&(J=function(ca,ia){return ca["$<=>"](ia)});return Q.slice().sort(function(ca,ia){var qa=J(ca,ia);qa===w&&Q.$raise(p(H,"ArgumentError"),"comparison of "+ca.$inspect()+" with "+ia.$inspect()+" failed");return x(qa,0)?1:("number"===typeof qa?0>qa:qa["$<"](0))?
-1:0})},qb.$$arity=0);a.def(F,"$sort!",nb=function(){var r=nb.$$p,J=r||w;r&&(nb.$$p=null);r&&(nb.$$p=null);r=J!==w?y(this.slice(),"sort",[],J.$to_proc()):this.slice().$sort();J=this.length=0;for(var Q=r.length;J<Q;J++)this.push(r[J]);return this},nb.$$arity=0);a.def(F,"$sort_by!",pb=function(){var r=pb.$$p,J=r||w,Q;r&&(pb.$$p=null);r&&(pb.$$p=null);return J===w?y(this,"enum_for",["sort_by!"],(Q=function(){return(null==Q.$$s?this:Q.$$s).$size()},Q.$$s=this,Q.$$arity=0,Q)):this.$replace(y(this,"sort_by",
[],J.$to_proc()))},pb.$$arity=0);a.def(F,"$take",Gb=function(r){0>r&&this.$raise(p(H,"ArgumentError"));return this.slice(0,r)},Gb.$$arity=1);a.def(F,"$take_while",Ab=function(){var r=Ab.$$p,J=r||w;r&&(Ab.$$p=null);r&&(Ab.$$p=null);r=[];for(var Q=0,ca=this.length,ia,qa;Q<ca;Q++){ia=this[Q];qa=J(ia);if(!1===qa||qa===w)break;r.push(ia)}return r},Ab.$$arity=0);a.def(F,"$to_a",Jb=function(){return this},Jb.$$arity=0);a.alias(F,"to_ary","to_a");a.def(F,"$to_h",Bb=function(){var r=Bb.$$p,J=r||w;r&&(Bb.$$p=
null);r&&(Bb.$$p=null);r=this;J!==w&&(r=y(r,"map",[],J.$to_proc()));var Q=r.length,ca=k([],{});for(J=0;J<Q;J++){var ia=p(H,"Opal")["$coerce_to?"](r[J],p(H,"Array"),"to_ary");ia.$$is_array||this.$raise(p(H,"TypeError"),"wrong element type "+ia.$class()+" at "+J+" (expected array)");2!==ia.length&&this.$raise(p(H,"ArgumentError"),"wrong array length at "+J+" (expected 2, was "+ia.$length()+")");var qa=ia[0];ia=ia[1];E(ca,qa,ia)}return ca},Bb.$$arity=0);a.alias(F,"to_s","inspect");a.def(F,"$transpose",
Kb=function(){var r,J=w,Q=w;if(m(this["$empty?"]()))return[];J=[];Q=w;y(this,"each",[],(r=function(ca){var ia=null==r.$$s?this:r.$$s,qa,Qa=w;null==ca&&(ca=w);ca=m(p(H,"Array")["$==="](ca))?ca.$to_a():n(ca,p(H,"Array"),"to_ary").$to_a();Q=m(Qa=Q)?Qa:ca.length;m(ca.length["$!="](Q))&&ia.$raise(p(H,"IndexError"),"element size differs ("+ca.length+" should be "+Q+")");return y(ca.length,"times",[],(qa=function(gb){var $a;null==gb&&(gb=w);if(!m($a=J["$[]"](gb))){$a=[gb,[]];y(J,"[]=",a.to_a($a));var lb=
$a.length;lb="number"===typeof lb?lb-1:lb["$-"](1);$a=$a[lb]}return $a["$<<"](ca.$at(gb))},qa.$$s=ia,qa.$$arity=1,qa))},r.$$s=this,r.$$arity=1,r));return J},Kb.$$arity=0);a.alias(F,"union","|");a.def(F,"$uniq",Cb=function(){var r=Cb.$$p,J=r||w;r&&(Cb.$$p=null);r&&(Cb.$$p=null);r=k([],{});var Q;if(J===w){var ca=0;for(Q=this.length;ca<Q;ca++){var ia=this[ca];void 0===l(r,ia)&&E(r,ia,ia)}}else for(ca=0,Q=this.length;ca<Q;ca++){ia=this[ca];var qa=e(J,ia);void 0===l(r,qa)&&E(r,qa,ia)}return b(r.$values(),
this.$class())},Cb.$$arity=0);a.def(F,"$uniq!",Db=function(){var r=Db.$$p,J=r||w;r&&(Db.$$p=null);r&&(Db.$$p=null);r=this.length;var Q=k([],{}),ca;var ia=0;for(ca=r;ia<ca;ia++){var qa=this[ia];var Qa=J===w?qa:e(J,qa);void 0===l(Q,Qa)?E(Q,Qa,qa):(this.splice(ia,1),ca--,ia--)}return this.length===r?w:this},Db.$$arity=0);a.def(F,"$unshift",Lb=function(r){var J=a.slice.call(arguments,0,arguments.length);for(var Q=J.length-1;0<=Q;Q--)this.unshift(J[Q]);return this},Lb.$$arity=-1);a.alias(F,"prepend","unshift");
a.def(F,"$values_at",Mb=function(r){var J,Q=w;var ca=a.slice.call(arguments,0,arguments.length);Q=[];y(ca,"each",[],(J=function(ia){var qa=null==J.$$s?this:J.$$s,Qa,gb=w,$a=w;gb=w;null==ia&&(ia=w);if(m(ia["$is_a?"](p(H,"Range")))){gb=n(ia.$last(),p(H,"Integer"),"to_int");$a=n(ia.$first(),p(H,"Integer"),"to_int");if(0>$a)return $a+=qa.length,w;0>gb&&(gb+=qa.length);ia["$exclude_end?"]()&&gb--;return gb<$a?w:y($a,"upto",[gb],(Qa=function(lb){var vb=null==Qa.$$s?this:Qa.$$s;null==lb&&(lb=w);return Q["$<<"](vb.$at(lb))},
Qa.$$s=qa,Qa.$$arity=1,Qa))}gb=n(ia,p(H,"Integer"),"to_int");return Q["$<<"](qa.$at(gb))},J.$$s=this,J.$$arity=1,J));return Q},Mb.$$arity=-1);a.def(F,"$zip",Eb=function(r){var J=Eb.$$p,Q=J||w,ca=w;J&&(Eb.$$p=null);J&&(Eb.$$p=null);J=a.slice.call(arguments,0,arguments.length);var ia=[],qa=this.length,Qa,gb;var $a=0;for(gb=J.length;$a<gb;$a++){var lb=J[$a];lb.$$is_array||(lb.$$is_enumerator?Infinity===lb.$size()?J[$a]=lb.$take(qa):J[$a]=lb.$to_a():J[$a]=(m(ca=p(H,"Opal")["$coerce_to?"](lb,p(H,"Array"),
"to_ary"))?ca:p(H,"Opal")["$coerce_to!"](lb,p(H,"Enumerator"),"to_enum","each")).$to_a())}for(Qa=0;Qa<qa;Qa++){ca=[this[Qa]];$a=0;for(gb=J.length;$a<gb;$a++)lb=J[$a][Qa],null==lb&&(lb=w),ca[$a+1]=lb;ia[Qa]=ca}if(Q!==w){for(Qa=0;Qa<qa;Qa++)Q(ia[Qa]);return w}return ia},Eb.$$arity=-1);a.defs(F,"$inherited",Nb=function(r){r.$$prototype.$to_a=function(){return this.slice(0,this.length)}},Nb.$$arity=1);a.def(F,"$instance_variables",Fb=function(){var r,J=Fb.$$p,Q=w,ca=w,ia=w;J&&(Fb.$$p=null);ca=0;ia=arguments.length;
for(Q=Array(ia);ca<ia;ca++)Q[ca]=arguments[ca];return y(N(this,a.find_super_dispatcher(this,"instance_variables",Fb,!1,!0),"instance_variables",Q,J),"reject",[],(r=function(qa){var Qa;null==qa&&(qa=w);return m(Qa=/^@\d+$/.test(qa))?Qa:qa["$=="]("@length")},r.$$s=this,r.$$arity=1,r))},Fb.$$arity=0);p(H,"Opal").$pristine(F.$singleton_class(),"allocate");p(H,"Opal").$pristine(F,"copy_instance_variables","initialize_dup");return(a.def(F,"$pack",Ob=function(r){a.slice.call(arguments,0,arguments.length);
return this.$raise("To use Array#pack, you must first require 'corelib/array/pack'.")},Ob.$$arity=-1),w)&&"pack"}(t[0],Array,t)};
Opal.modules["corelib/hash"]=function(a){function x(e,l){return"number"===typeof e&&"number"===typeof l?e>=l:e["$>="](l)}var I=a.top,t=[],w=a.nil,z=a.$$,p=a.klass,m=a.send,u=a.hash2,D=a.truthy;a.add_stubs("$require $include $coerce_to? $[] $merge! $allocate $raise $coerce_to! $each $fetch $>= $> $== $compare_by_identity $lambda? $abs $arity $enum_for $size $respond_to? $class $dig $new $inspect $map $to_proc $flatten $eql? $default $dup $default_proc $default_proc= $- $default= $to_h $proc".split(" "));I.$require("corelib/enumerable");
return function(e,$super,E){e=p(e,$super,"Hash");var c=[e].concat(E),n,G,d,k,N,y,S,ja,da,ma,b,h,f,q,A,F,H,K,ba,va,Pa,wa,Aa,Ma,na,T,sa,xa,Ja,ka,M,L,fa,oa,ea,ta,Ea,Ha,Ra,Sa,Ka,eb,kb,W,ya,Ba,Va,bb,db,Ca,Wa,za,ua,Na,Ta,Za,Fa,Y,R,Z,U,ha;e.$include(z(c,"Enumerable"));e.$$prototype.$$is_hash=!0;a.defs(e,"$[]",n=function(g){var C=a.slice.call(arguments,0,arguments.length);var O=C.length,aa;if(1===O){var v=z(c,"Opal")["$coerce_to?"](C["$[]"](0),z(c,"Hash"),"to_hash");if(v!==w)return this.$allocate()["$merge!"](v);
C=z(c,"Opal")["$coerce_to?"](C["$[]"](0),z(c,"Array"),"to_ary");C===w&&this.$raise(z(c,"ArgumentError"),"odd number of arguments for Hash");O=C.length;v=this.$allocate();for(aa=0;aa<O;aa++)if(C[aa].$$is_array)switch(C[aa].length){case 1:v.$store(C[aa][0],w);break;case 2:v.$store(C[aa][0],C[aa][1]);break;default:this.$raise(z(c,"ArgumentError"),"invalid number of elements ("+C[aa].length+" for 1..2)")}return v}0!==O%2&&this.$raise(z(c,"ArgumentError"),"odd number of arguments for Hash");v=this.$allocate();
for(aa=0;aa<O;aa+=2)v.$store(C[aa],C[aa+1]);return v},n.$$arity=-1);a.defs(e,"$allocate",G=function(){var g=new this.$$constructor;a.hash_init(g);g.$$none=w;g.$$proc=w;return g},G.$$arity=0);a.defs(e,"$try_convert",d=function(g){return z(c,"Opal")["$coerce_to?"](g,z(c,"Hash"),"to_hash")},d.$$arity=1);a.def(e,"$initialize",k=function(g){var C=k.$$p,O=C||w;C&&(k.$$p=null);C&&(k.$$p=null);void 0!==g&&O!==w&&this.$raise(z(c,"ArgumentError"),"wrong number of arguments (1 for 0)");this.$$none=void 0===
g?w:g;this.$$proc=O;return this},k.$$arity=-1);a.def(e,"$==",N=function(g){if(this===g)return!0;if(!g.$$is_hash||this.$$keys.length!==g.$$keys.length)return!1;for(var C=0,O=this.$$keys,aa=O.length,v,V;C<aa;C++)if(v=O[C],v.$$is_string?(V=this.$$smap[v],v=g.$$smap[v]):(V=v.value,v=a.hash_get(g,v.key)),void 0===v||!V["$eql?"](v))return!1;return!0},N.$$arity=1);a.def(e,"$>=",y=function(g){var C,O=w;g=z(c,"Opal")["$coerce_to!"](g,z(c,"Hash"),"to_hash");if(this.$$keys.length<g.$$keys.length)return!1;O=
!0;m(g,"each",[],(C=function(aa,v){var V=null==C.$$s?this:C.$$s;null==aa&&(aa=w);null==v&&(v=w);aa=V.$fetch(aa,null);if(null==aa||aa!==v)O=!1},C.$$s=this,C.$$arity=2,C));return O},y.$$arity=1);a.def(e,"$>",S=function(g){g=z(c,"Opal")["$coerce_to!"](g,z(c,"Hash"),"to_hash");return this.$$keys.length<=g.$$keys.length?!1:x(this,g)},S.$$arity=1);a.def(e,"$<",ja=function(g){g=z(c,"Opal")["$coerce_to!"](g,z(c,"Hash"),"to_hash");return"number"===typeof g&&"number"===typeof this?g>this:g["$>"](this)},ja.$$arity=
1);a.def(e,"$<=",da=function(g){g=z(c,"Opal")["$coerce_to!"](g,z(c,"Hash"),"to_hash");return x(g,this)},da.$$arity=1);a.def(e,"$[]",ma=function(g){var C=a.hash_get(this,g);return void 0!==C?C:this.$default(g)},ma.$$arity=1);a.def(e,"$[]=",b=function(g,C){a.hash_put(this,g,C);return C},b.$$arity=2);a.def(e,"$assoc",h=function(g){for(var C=0,O=this.$$keys,aa=O.length,v;C<aa;C++)if(v=O[C],v.$$is_string){if(v["$=="](g))return[v,this.$$smap[v]]}else if(v.key["$=="](g))return[v.key,v.value];return w},h.$$arity=
1);a.def(e,"$clear",f=function(){a.hash_init(this);return this},f.$$arity=0);a.def(e,"$clone",q=function(){var g=new this.$$class;a.hash_init(g);a.hash_clone(this,g);return g},q.$$arity=0);a.def(e,"$compact",A=function(){for(var g=a.hash(),C=0,O=this.$$keys,aa=O.length,v,V;C<aa;C++)v=O[C],v.$$is_string?V=this.$$smap[v]:(V=v.value,v=v.key),V!==w&&a.hash_put(g,v,V);return g},A.$$arity=0);a.def(e,"$compact!",F=function(){for(var g=!1,C=0,O=this.$$keys,aa=O.length,v,V;C<aa;C++)v=O[C],v.$$is_string?V=
this.$$smap[v]:(V=v.value,v=v.key),V===w&&void 0!==a.hash_delete(this,v)&&(g=!0,aa--,C--);return g?this:w},F.$$arity=0);a.def(e,"$compare_by_identity",H=function(){var g,C=this.$$keys;if(this.$$by_identity)return this;if(0===this.$$keys.length)return this.$$by_identity=!0,this;var O=u([],{}).$compare_by_identity();var aa=0;for(g=C.length;aa<g;aa++){var v=C[aa];v.$$is_string||(v=v.key);a.hash_put(O,v,a.hash_get(this,v))}this.$$by_identity=!0;this.$$map=O.$$map;this.$$smap=O.$$smap;return this},H.$$arity=
0);a.def(e,"$compare_by_identity?",K=function(){return!0===this.$$by_identity},K.$$arity=0);a.def(e,"$default",ba=function(g){return void 0!==g&&this.$$proc!==w&&void 0!==this.$$proc?this.$$proc.$call(this,g):void 0===this.$$none?w:this.$$none},ba.$$arity=-1);a.def(e,"$default=",va=function(g){this.$$proc=w;return this.$$none=g},va.$$arity=1);a.def(e,"$default_proc",Pa=function(){return void 0!==this.$$proc?this.$$proc:w},Pa.$$arity=0);a.def(e,"$default_proc=",wa=function(g){var C=g;C!==w&&(C=z(c,
"Opal")["$coerce_to!"](C,z(c,"Proc"),"to_proc"),C["$lambda?"]()&&2!==C.$arity().$abs()&&this.$raise(z(c,"TypeError"),"default_proc takes two arguments"));this.$$none=w;this.$$proc=C;return g},wa.$$arity=1);a.def(e,"$delete",Aa=function(g){var C=Aa.$$p,O=C||w;C&&(Aa.$$p=null);C&&(Aa.$$p=null);C=a.hash_delete(this,g);return void 0!==C?C:O!==w?a.yield1(O,g):w},Aa.$$arity=1);a.def(e,"$delete_if",Ma=function(){var g=Ma.$$p,C=g||w,O;g&&(Ma.$$p=null);g&&(Ma.$$p=null);if(!D(C))return m(this,"enum_for",["delete_if"],
(O=function(){return(null==O.$$s?this:O.$$s).$size()},O.$$s=this,O.$$arity=0,O));g=0;for(var aa=this.$$keys,v=aa.length,V,pa;g<v;g++)V=aa[g],V.$$is_string?pa=this.$$smap[V]:(pa=V.value,V=V.key),pa=C(V,pa),!1!==pa&&pa!==w&&void 0!==a.hash_delete(this,V)&&(v--,g--);return this},Ma.$$arity=0);a.alias(e,"dup","clone");a.def(e,"$dig",na=function(g,C){var O=a.slice.call(arguments,1,arguments.length);var aa=this["$[]"](g);if(aa===w||0===O.length)return aa;D(aa["$respond_to?"]("dig"))||this.$raise(z(c,"TypeError"),
""+aa.$class()+" does not have #dig method");return m(aa,"dig",a.to_a(O))},na.$$arity=-2);a.def(e,"$each",T=function(){var g=T.$$p,C=g||w,O;g&&(T.$$p=null);g&&(T.$$p=null);if(!D(C))return m(this,"enum_for",["each"],(O=function(){return(null==O.$$s?this:O.$$s).$size()},O.$$s=this,O.$$arity=0,O));g=0;for(var aa=this.$$keys,v=aa.length,V,pa;g<v;g++)V=aa[g],V.$$is_string?pa=this.$$smap[V]:(pa=V.value,V=V.key),a.yield1(C,[V,pa]);return this},T.$$arity=0);a.def(e,"$each_key",sa=function(){var g=sa.$$p,
C=g||w,O;g&&(sa.$$p=null);g&&(sa.$$p=null);if(!D(C))return m(this,"enum_for",["each_key"],(O=function(){return(null==O.$$s?this:O.$$s).$size()},O.$$s=this,O.$$arity=0,O));g=0;for(var aa=this.$$keys,v=aa.length,V;g<v;g++)V=aa[g],C(V.$$is_string?V:V.key);return this},sa.$$arity=0);a.alias(e,"each_pair","each");a.def(e,"$each_value",xa=function(){var g=xa.$$p,C=g||w,O;g&&(xa.$$p=null);g&&(xa.$$p=null);if(!D(C))return m(this,"enum_for",["each_value"],(O=function(){return(null==O.$$s?this:O.$$s).$size()},
O.$$s=this,O.$$arity=0,O));g=0;for(var aa=this.$$keys,v=aa.length,V;g<v;g++)V=aa[g],C(V.$$is_string?this.$$smap[V]:V.value);return this},xa.$$arity=0);a.def(e,"$empty?",Ja=function(){return 0===this.$$keys.length},Ja.$$arity=0);a.alias(e,"eql?","==");a.def(e,"$fetch",ka=function(g,C){var O=ka.$$p,aa=O||w;O&&(ka.$$p=null);O&&(ka.$$p=null);O=a.hash_get(this,g);return void 0!==O?O:aa!==w?aa(g):void 0!==C?C:this.$raise(z(c,"KeyError").$new("key not found: "+g.$inspect(),u(["key","receiver"],{key:g,receiver:this})))},
ka.$$arity=-2);a.def(e,"$fetch_values",M=function(g){var C=M.$$p,O=C||w,aa;C&&(M.$$p=null);C&&(M.$$p=null);C=a.slice.call(arguments,0,arguments.length);return m(C,"map",[],(aa=function(v){var V=null==aa.$$s?this:aa.$$s;null==v&&(v=w);return m(V,"fetch",[v],O.$to_proc())},aa.$$s=this,aa.$$arity=1,aa))},M.$$arity=-1);a.def(e,"$flatten",L=function(g){null==g&&(g=1);g=z(c,"Opal")["$coerce_to!"](g,z(c,"Integer"),"to_int");for(var C=[],O=0,aa=this.$$keys,v=aa.length,V,pa;O<v;O++)V=aa[O],V.$$is_string?pa=
this.$$smap[V]:(pa=V.value,V=V.key),C.push(V),pa.$$is_array?1===g?C.push(pa):C=C.concat(pa.$flatten(g-2)):C.push(pa);return C},L.$$arity=-1);a.def(e,"$has_key?",fa=function(g){return void 0!==a.hash_get(this,g)},fa.$$arity=1);a.def(e,"$has_value?",oa=function(g){for(var C=0,O=this.$$keys,aa=O.length,v;C<aa;C++)if(v=O[C],(v.$$is_string?this.$$smap[v]:v.value)["$=="](g))return!0;return!1},oa.$$arity=1);a.def(e,"$hash",ea=function(){var g=void 0===a.hash_ids,C=this.$object_id(),O=["Hash"];try{g&&(a.hash_ids=
Object.create(null));if(a[C])return"self";for(pa in a.hash_ids){var aa=a.hash_ids[pa];if(this["$eql?"](aa))return"self"}a.hash_ids[C]=this;C=0;for(var v=this.$$keys,V=v.length;C<V;C++){var pa=v[C];pa.$$is_string?O.push([pa,this.$$smap[pa].$hash()]):O.push([pa.key_hash,pa.value.$hash()])}return O.sort().join()}finally{g&&(a.hash_ids=void 0)}},ea.$$arity=0);a.alias(e,"include?","has_key?");a.def(e,"$index",ta=function(g){for(var C=0,O=this.$$keys,aa=O.length,v,V;C<aa;C++)if(v=O[C],v.$$is_string?V=this.$$smap[v]:
(V=v.value,v=v.key),V["$=="](g))return v;return w},ta.$$arity=1);a.def(e,"$indexes",Ea=function(g){var C=a.slice.call(arguments,0,arguments.length);for(var O=[],aa=0,v=C.length,V;aa<v;aa++)V=C[aa],V=a.hash_get(this,V),void 0===V?O.push(this.$default()):O.push(V);return O},Ea.$$arity=-1);a.alias(e,"indices","indexes");var la;a.def(e,"$inspect",Ha=function(){var g=void 0===la,C=this.$object_id(),O=[];try{g&&(la={});if(la.hasOwnProperty(C))return"{...}";la[C]=!0;C=0;for(var aa=this.$$keys,v=aa.length,
V,pa;C<v;C++)V=aa[C],V.$$is_string?pa=this.$$smap[V]:(pa=V.value,V=V.key),O.push(V.$inspect()+"=>"+pa.$inspect());return"{"+O.join(", ")+"}"}finally{g&&(la=void 0)}},Ha.$$arity=0);a.def(e,"$invert",Ra=function(){for(var g=a.hash(),C=0,O=this.$$keys,aa=O.length,v,V;C<aa;C++)v=O[C],v.$$is_string?V=this.$$smap[v]:(V=v.value,v=v.key),a.hash_put(g,V,v);return g},Ra.$$arity=0);a.def(e,"$keep_if",Sa=function(){var g=Sa.$$p,C=g||w,O;g&&(Sa.$$p=null);g&&(Sa.$$p=null);if(!D(C))return m(this,"enum_for",["keep_if"],
(O=function(){return(null==O.$$s?this:O.$$s).$size()},O.$$s=this,O.$$arity=0,O));g=0;for(var aa=this.$$keys,v=aa.length,V,pa;g<v;g++)V=aa[g],V.$$is_string?pa=this.$$smap[V]:(pa=V.value,V=V.key),pa=C(V,pa),!1!==pa&&pa!==w||void 0===a.hash_delete(this,V)||(v--,g--);return this},Sa.$$arity=0);a.alias(e,"key","index");a.alias(e,"key?","has_key?");a.def(e,"$keys",Ka=function(){for(var g=[],C=0,O=this.$$keys,aa=O.length,v;C<aa;C++)v=O[C],v.$$is_string?g.push(v):g.push(v.key);return g},Ka.$$arity=0);a.def(e,
"$length",eb=function(){return this.$$keys.length},eb.$$arity=0);a.alias(e,"member?","has_key?");a.def(e,"$merge",kb=function(g){var C=kb.$$p,O=C||w;C&&(kb.$$p=null);C&&(kb.$$p=null);return m(this.$dup(),"merge!",[g],O.$to_proc())},kb.$$arity=1);a.def(e,"$merge!",W=function(g){var C=W.$$p,O=C||w;C&&(W.$$p=null);C&&(W.$$p=null);g.$$is_hash||(g=z(c,"Opal")["$coerce_to!"](g,z(c,"Hash"),"to_hash"));var aa=g.$$keys,v=aa.length;if(O===w){for(C=0;C<v;C++){var V=aa[C];if(V.$$is_string)var pa=g.$$smap[V];
else pa=V.value,V=V.key;a.hash_put(this,V,pa)}return this}for(C=0;C<v;C++){V=aa[C];V.$$is_string?pa=g.$$smap[V]:(pa=V.value,V=V.key);var La=a.hash_get(this,V);void 0===La?a.hash_put(this,V,pa):a.hash_put(this,V,O(V,La,pa))}return this},W.$$arity=1);a.def(e,"$rassoc",ya=function(g){for(var C=0,O=this.$$keys,aa=O.length,v,V;C<aa;C++)if(v=O[C],v.$$is_string?V=this.$$smap[v]:(V=v.value,v=v.key),V["$=="](g))return[v,V];return w},ya.$$arity=1);a.def(e,"$rehash",Ba=function(){a.hash_rehash(this);return this},
Ba.$$arity=0);a.def(e,"$reject",Va=function(){var g=Va.$$p,C=g||w,O;g&&(Va.$$p=null);g&&(Va.$$p=null);if(!D(C))return m(this,"enum_for",["reject"],(O=function(){return(null==O.$$s?this:O.$$s).$size()},O.$$s=this,O.$$arity=0,O));g=a.hash();for(var aa=0,v=this.$$keys,V=v.length,pa,La,jb;aa<V;aa++)pa=v[aa],pa.$$is_string?La=this.$$smap[pa]:(La=pa.value,pa=pa.key),jb=C(pa,La),!1!==jb&&jb!==w||a.hash_put(g,pa,La);return g},Va.$$arity=0);a.def(e,"$reject!",bb=function(){var g=bb.$$p,C=g||w,O;g&&(bb.$$p=
null);g&&(bb.$$p=null);if(!D(C))return m(this,"enum_for",["reject!"],(O=function(){return(null==O.$$s?this:O.$$s).$size()},O.$$s=this,O.$$arity=0,O));g=!1;for(var aa=0,v=this.$$keys,V=v.length,pa,La;aa<V;aa++)pa=v[aa],pa.$$is_string?La=this.$$smap[pa]:(La=pa.value,pa=pa.key),La=C(pa,La),!1!==La&&La!==w&&void 0!==a.hash_delete(this,pa)&&(g=!0,V--,aa--);return g?this:w},bb.$$arity=0);a.def(e,"$replace",db=function(g){g=z(c,"Opal")["$coerce_to!"](g,z(c,"Hash"),"to_hash");a.hash_init(this);var C=0;for(var O=
g.$$keys,aa=O.length,v,V;C<aa;C++)v=O[C],v.$$is_string?V=g.$$smap[v]:(V=v.value,v=v.key),a.hash_put(this,v,V);D(g.$default_proc())?(C=[g.$default_proc()],m(this,"default_proc=",a.to_a(C))):(C=[g.$default()],m(this,"default=",a.to_a(C)));g=C;C=C.length;C="number"===typeof C?C-1:C["$-"](1);g[C];return this},db.$$arity=1);a.def(e,"$select",Ca=function(){var g=Ca.$$p,C=g||w,O;g&&(Ca.$$p=null);g&&(Ca.$$p=null);if(!D(C))return m(this,"enum_for",["select"],(O=function(){return(null==O.$$s?this:O.$$s).$size()},
O.$$s=this,O.$$arity=0,O));g=a.hash();for(var aa=0,v=this.$$keys,V=v.length,pa,La,jb;aa<V;aa++)pa=v[aa],pa.$$is_string?La=this.$$smap[pa]:(La=pa.value,pa=pa.key),jb=C(pa,La),!1!==jb&&jb!==w&&a.hash_put(g,pa,La);return g},Ca.$$arity=0);a.def(e,"$select!",Wa=function(){var g=Wa.$$p,C=g||w,O;g&&(Wa.$$p=null);g&&(Wa.$$p=null);if(!D(C))return m(this,"enum_for",["select!"],(O=function(){return(null==O.$$s?this:O.$$s).$size()},O.$$s=this,O.$$arity=0,O));g=w;for(var aa=0,v=this.$$keys,V=v.length,pa,La;aa<
V;aa++)if(pa=v[aa],pa.$$is_string?La=this.$$smap[pa]:(La=pa.value,pa=pa.key),La=C(pa,La),!1===La||La===w)void 0!==a.hash_delete(this,pa)&&(V--,aa--),g=this;return g},Wa.$$arity=0);a.alias(e,"filter","select");a.alias(e,"filter!","select!");a.def(e,"$shift",za=function(){var g=this.$$keys;return 0<g.length?(g=g[0],g=g.$$is_string?g:g.key,[g,a.hash_delete(this,g)]):this.$default(w)},za.$$arity=0);a.alias(e,"size","length");a.def(e,"$slice",ua=function(g){var C=a.slice.call(arguments,0,arguments.length);
for(var O=a.hash(),aa=0,v=C.length;aa<v;aa++){var V=C[aa],pa=a.hash_get(this,V);void 0!==pa&&a.hash_put(O,V,pa)}return O},ua.$$arity=-1);a.alias(e,"store","[]=");a.def(e,"$to_a",Na=function(){for(var g=[],C=0,O=this.$$keys,aa=O.length,v,V;C<aa;C++)v=O[C],v.$$is_string?V=this.$$smap[v]:(V=v.value,v=v.key),g.push([v,V]);return g},Na.$$arity=0);a.def(e,"$to_h",Ta=function(){var g=Ta.$$p,C=g||w;g&&(Ta.$$p=null);g&&(Ta.$$p=null);if(C!==w)return m(this,"map",[],C.$to_proc()).$to_h();if(this.$$class===a.Hash)return this;
g=new a.Hash;a.hash_init(g);a.hash_clone(this,g);return g},Ta.$$arity=0);a.def(e,"$to_hash",Za=function(){return this},Za.$$arity=0);a.def(e,"$to_proc",Fa=function(){var g;return m(this,"proc",[],(g=function(C){var O=null==g.$$s?this:g.$$s;null==C&&O.$raise(z(c,"ArgumentError"),"no key given");return O["$[]"](C)},g.$$s=this,g.$$arity=-1,g))},Fa.$$arity=0);a.alias(e,"to_s","inspect");a.def(e,"$transform_keys",Y=function(){var g=Y.$$p,C=g||w,O;g&&(Y.$$p=null);g&&(Y.$$p=null);if(!D(C))return m(this,
"enum_for",["transform_keys"],(O=function(){return(null==O.$$s?this:O.$$s).$size()},O.$$s=this,O.$$arity=0,O));g=a.hash();for(var aa=0,v=this.$$keys,V=v.length,pa,La;aa<V;aa++)pa=v[aa],pa.$$is_string?La=this.$$smap[pa]:(La=pa.value,pa=pa.key),pa=a.yield1(C,pa),a.hash_put(g,pa,La);return g},Y.$$arity=0);a.def(e,"$transform_keys!",R=function(){var g=R.$$p,C=g||w,O;g&&(R.$$p=null);g&&(R.$$p=null);if(!D(C))return m(this,"enum_for",["transform_keys!"],(O=function(){return(null==O.$$s?this:O.$$s).$size()},
O.$$s=this,O.$$arity=0,O));g=a.slice.call(this.$$keys);var aa,v=g.length;for(aa=0;aa<v;aa++){var V=g[aa];if(V.$$is_string)var pa=this.$$smap[V];else pa=V.value,V=V.key;var La=a.yield1(C,V);a.hash_delete(this,V);a.hash_put(this,La,pa)}return this},R.$$arity=0);a.def(e,"$transform_values",Z=function(){var g=Z.$$p,C=g||w,O;g&&(Z.$$p=null);g&&(Z.$$p=null);if(!D(C))return m(this,"enum_for",["transform_values"],(O=function(){return(null==O.$$s?this:O.$$s).$size()},O.$$s=this,O.$$arity=0,O));g=a.hash();
for(var aa=0,v=this.$$keys,V=v.length,pa,La;aa<V;aa++)pa=v[aa],pa.$$is_string?La=this.$$smap[pa]:(La=pa.value,pa=pa.key),La=a.yield1(C,La),a.hash_put(g,pa,La);return g},Z.$$arity=0);a.def(e,"$transform_values!",U=function(){var g=U.$$p,C=g||w,O;g&&(U.$$p=null);g&&(U.$$p=null);if(!D(C))return m(this,"enum_for",["transform_values!"],(O=function(){return(null==O.$$s?this:O.$$s).$size()},O.$$s=this,O.$$arity=0,O));g=0;for(var aa=this.$$keys,v=aa.length,V,pa;g<v;g++)V=aa[g],V.$$is_string?pa=this.$$smap[V]:
(pa=V.value,V=V.key),pa=a.yield1(C,pa),a.hash_put(this,V,pa);return this},U.$$arity=0);a.alias(e,"update","merge!");a.alias(e,"value?","has_value?");a.alias(e,"values_at","indexes");return(a.def(e,"$values",ha=function(){for(var g=[],C=0,O=this.$$keys,aa=O.length,v;C<aa;C++)v=O[C],v.$$is_string?g.push(this.$$smap[v]):g.push(v.value);return g},ha.$$arity=0),w)&&"values"}(t[0],null,t)};
Opal.modules["corelib/number"]=function(a){function x(k,N){return"number"===typeof k&&"number"===typeof N?k>N:k["$>"](N)}function I(k,N){return"number"===typeof k&&"number"===typeof N?k<N:k["$<"](N)}function t(k,N){return"number"===typeof k&&"number"===typeof N?k+N:k["$+"](N)}function w(k,N){return"number"===typeof k&&"number"===typeof N?k-N:k["$-"](N)}function z(k,N){return"number"===typeof k&&"number"===typeof N?k/N:k["$/"](N)}function p(k,N){return"number"===typeof k&&"number"===typeof N?k*N:k["$*"](N)}
var m=a.top,u=[],D=a.nil,e=a.$$$,l=a.$$,E=a.klass,c=a.truthy,n=a.send2,G=a.send,d=a.hash2;a.add_stubs("$require $bridge $raise $name $class $Float $respond_to? $coerce_to! $__coerced__ $=== $! $> $** $new $< $to_f $== $nan? $infinite? $enum_for $+ $- $gcd $lcm $% $/ $frexp $to_i $ldexp $rationalize $* $<< $to_r $truncate $-@ $size $<= $>= $<=> $compare $any?".split(" "));m.$require("corelib/numeric");(function(k,$super,y){k=E(k,$super,"Number");var S=[k].concat(y),ja,da,ma,b,h,f,q,A,F,H,K,ba,va,Pa,
wa,Aa,Ma,na,T,sa,xa,Ja,ka,M,L,fa,oa,ea,ta,Ea,Ha,Ra,Sa,Ka,eb,kb,W,ya,Ba,Va,bb,db,Ca,Wa,za,ua,Na,Ta,Za,Fa,Y,R,Z,U,ha,la,g,C,O,aa,v,V,pa,La,jb,ob,mb,sb,tb,wb,xb,ub;l(S,"Opal").$bridge(Number,k);a.defineProperty(k.$$prototype,"$$is_number",!0);k.$$is_number_class=!0;(function(X,Oa){var cb=[X].concat(Oa),B;a.def(X,"$allocate",B=function(){return this.$raise(l(cb,"TypeError"),"allocator undefined for "+this.$name())},B.$$arity=0);a.udef(X,"$new");return D})(a.get_singleton_class(k),S);a.def(k,"$coerce",
ja=function(X){if(X!==D){if(X.$$is_string)return[this.$Float(X),this];if(X["$respond_to?"]("to_f"))return[l(S,"Opal")["$coerce_to!"](X,l(S,"Float"),"to_f"),this];if(X.$$is_number)return[X,this]}this.$raise(l(S,"TypeError"),"can't convert "+X.$class()+" into Float")},ja.$$arity=1);a.def(k,"$__id__",da=function(){return 2*this+1},da.$$arity=0);a.alias(k,"object_id","__id__");a.def(k,"$+",ma=function(X){return X.$$is_number?this+X:this.$__coerced__("+",X)},ma.$$arity=1);a.def(k,"$-",b=function(X){return X.$$is_number?
this-X:this.$__coerced__("-",X)},b.$$arity=1);a.def(k,"$*",h=function(X){return X.$$is_number?this*X:this.$__coerced__("*",X)},h.$$arity=1);a.def(k,"$/",f=function(X){return X.$$is_number?this/X:this.$__coerced__("/",X)},f.$$arity=1);a.alias(k,"fdiv","/");a.def(k,"$%",q=function(X){if(X.$$is_number){if(-Infinity==X)return X;if(0==X)this.$raise(l(S,"ZeroDivisionError"),"divided by 0");else return 0>X||0>this?(this%X+X)%X:this%X}else return this.$__coerced__("%",X)},q.$$arity=1);a.def(k,"$&",A=function(X){return X.$$is_number?
this&X:this.$__coerced__("&",X)},A.$$arity=1);a.def(k,"$|",F=function(X){return X.$$is_number?this|X:this.$__coerced__("|",X)},F.$$arity=1);a.def(k,"$^",H=function(X){return X.$$is_number?this^X:this.$__coerced__("^",X)},H.$$arity=1);a.def(k,"$<",K=function(X){return X.$$is_number?this<X:this.$__coerced__("<",X)},K.$$arity=1);a.def(k,"$<=",ba=function(X){return X.$$is_number?this<=X:this.$__coerced__("<=",X)},ba.$$arity=1);a.def(k,"$>",va=function(X){return X.$$is_number?this>X:this.$__coerced__(">",
X)},va.$$arity=1);a.def(k,"$>=",Pa=function(X){return X.$$is_number?this>=X:this.$__coerced__(">=",X)},Pa.$$arity=1);a.def(k,"$<=>",wa=function(X){try{return X.$$is_number?isNaN(this)||isNaN(X)?D:this>X?1:this<X?-1:0:this.$__coerced__("<=>",X)}catch(Oa){if(a.rescue(Oa,[l(S,"ArgumentError")]))try{return D}finally{a.pop_exception()}else throw Oa;}},wa.$$arity=1);a.def(k,"$<<",Aa=function(X){X=l(S,"Opal")["$coerce_to!"](X,l(S,"Integer"),"to_int");return 0<X?this<<X:this>>-X},Aa.$$arity=1);a.def(k,"$>>",
Ma=function(X){X=l(S,"Opal")["$coerce_to!"](X,l(S,"Integer"),"to_int");return 0<X?this>>X:this<<-X},Ma.$$arity=1);a.def(k,"$[]",na=function(X){X=l(S,"Opal")["$coerce_to!"](X,l(S,"Integer"),"to_int");return 0>X?0:32<=X?0>this?1:0:this>>X&1},na.$$arity=1);a.def(k,"$+@",T=function(){return+this},T.$$arity=0);a.def(k,"$-@",sa=function(){return-this},sa.$$arity=0);a.def(k,"$~",xa=function(){return~this},xa.$$arity=0);a.def(k,"$**",Ja=function(X){var Oa=D,cb=D,B=D;return c(l(S,"Integer")["$==="](X))?c(c(Oa=
l(S,"Integer")["$==="](this)["$!"]())?Oa:x(X,0))?Math.pow(this,X):l(S,"Rational").$new(this,1)["$**"](X):c(c(cb=I(this,0))?c(B=l(S,"Float")["$==="](X))?B:l(S,"Rational")["$==="](X):cb)?l(S,"Complex").$new(this,0)["$**"](X.$to_f()):c(null!=X.$$is_number)?Math.pow(this,X):this.$__coerced__("**",X)},Ja.$$arity=1);a.def(k,"$===",ka=function(X){return X.$$is_number?this.valueOf()===X.valueOf():X["$respond_to?"]("==")?X["$=="](this):!1},ka.$$arity=1);a.def(k,"$==",M=function(X){return X.$$is_number?this.valueOf()===
X.valueOf():X["$respond_to?"]("==")?X["$=="](this):!1},M.$$arity=1);a.def(k,"$abs",L=function(){return Math.abs(this)},L.$$arity=0);a.def(k,"$abs2",fa=function(){return Math.abs(this*this)},fa.$$arity=0);a.def(k,"$allbits?",oa=function(X){X=l(S,"Opal")["$coerce_to!"](X,l(S,"Integer"),"to_int");return(this&X)==X},oa.$$arity=1);a.def(k,"$anybits?",ea=function(X){X=l(S,"Opal")["$coerce_to!"](X,l(S,"Integer"),"to_int");return 0!==(this&X)},ea.$$arity=1);a.def(k,"$angle",ta=function(){return c(this["$nan?"]())?
this:0==this?0<1/this?0:Math.PI:0>this?Math.PI:0},ta.$$arity=0);a.alias(k,"arg","angle");a.alias(k,"phase","angle");a.def(k,"$bit_length",Ea=function(){c(l(S,"Integer")["$==="](this))||this.$raise(l(S,"NoMethodError").$new("undefined method `bit_length` for "+this+":Float","bit_length"));if(0===this||-1===this)return 0;for(var X=0,Oa=0>this?~this:this;0!=Oa;)X+=1,Oa>>>=1;return X},Ea.$$arity=0);a.def(k,"$ceil",Ha=function(X){null==X&&(X=0);var Oa=this.$to_f();if(0===Oa%1&&0<=X)return Oa;X=Math.pow(10,
X);X=Math.ceil(Oa*X)/X;0===Oa%1&&(X=Math.round(X));return X},Ha.$$arity=-1);a.def(k,"$chr",Ra=function(){return String.fromCharCode(this)},Ra.$$arity=-1);a.def(k,"$denominator",Sa=function(){var X=Sa.$$p,Oa=D,cb;X&&(Sa.$$p=null);var B=0;var P=arguments.length;for(cb=Array(P);B<P;B++)cb[B]=arguments[B];return c(c(Oa=this["$nan?"]())?Oa:this["$infinite?"]())?1:n(this,a.find_super_dispatcher(this,"denominator",Sa,!1,!0),"denominator",cb,X)},Sa.$$arity=0);a.def(k,"$downto",Ka=function(X){var Oa=Ka.$$p,
cb=Oa||D,B;Oa&&(Ka.$$p=null);Oa&&(Ka.$$p=null);if(cb===D)return G(this,"enum_for",["downto",X],(B=function(){var P=null==B.$$s?this:B.$$s;c(l(S,"Numeric")["$==="](X))||P.$raise(l(S,"ArgumentError"),"comparison of "+P.$class()+" with "+X.$class()+" failed");return c(x(X,P))?0:t(w(P,X),1)},B.$$s=this,B.$$arity=0,B));X.$$is_number||this.$raise(l(S,"ArgumentError"),"comparison of "+this.$class()+" with "+X.$class()+" failed");for(Oa=this;Oa>=X;Oa--)cb(Oa);return this},Ka.$$arity=1);a.alias(k,"eql?","==");
a.def(k,"$equal?",eb=function(X){var Oa;return c(Oa=this["$=="](X))?Oa:isNaN(this)&&isNaN(X)},eb.$$arity=1);a.def(k,"$even?",kb=function(){return 0===this%2},kb.$$arity=0);a.def(k,"$floor",W=function(X){null==X&&(X=0);var Oa=this.$to_f();if(0===Oa%1&&0<=X)return Oa;X=Math.pow(10,X);X=Math.floor(Oa*X)/X;0===Oa%1&&(X=Math.round(X));return X},W.$$arity=-1);a.def(k,"$gcd",ya=function(X){c(l(S,"Integer")["$==="](X))||this.$raise(l(S,"TypeError"),"not an integer");var Oa=Math.abs(this);for(X=Math.abs(X);0<
Oa;){var cb=Oa;Oa=X%Oa;X=cb}return X},ya.$$arity=1);a.def(k,"$gcdlcm",Ba=function(X){return[this.$gcd(X),this.$lcm(X)]},Ba.$$arity=1);a.def(k,"$integer?",Va=function(){return 0===this%1},Va.$$arity=0);a.def(k,"$is_a?",bb=function(X){var Oa=bb.$$p,cb=D,B=D,P=D,ra;Oa&&(bb.$$p=null);var Ga=0;var Da=arguments.length;for(ra=Array(Da);Ga<Da;Ga++)ra[Ga]=arguments[Ga];return c(c(cb=X["$=="](l(S,"Integer")))?l(S,"Integer")["$==="](this):cb)||c(c(B=X["$=="](l(S,"Integer")))?l(S,"Integer")["$==="](this):B)||
c(c(P=X["$=="](l(S,"Float")))?l(S,"Float")["$==="](this):P)?!0:n(this,a.find_super_dispatcher(this,"is_a?",bb,!1,!0),"is_a?",ra,Oa)},bb.$$arity=1);a.alias(k,"kind_of?","is_a?");a.def(k,"$instance_of?",db=function(X){var Oa=db.$$p,cb=D,B=D,P=D,ra;Oa&&(db.$$p=null);var Ga=0;var Da=arguments.length;for(ra=Array(Da);Ga<Da;Ga++)ra[Ga]=arguments[Ga];return c(c(cb=X["$=="](l(S,"Integer")))?l(S,"Integer")["$==="](this):cb)||c(c(B=X["$=="](l(S,"Integer")))?l(S,"Integer")["$==="](this):B)||c(c(P=X["$=="](l(S,
"Float")))?l(S,"Float")["$==="](this):P)?!0:n(this,a.find_super_dispatcher(this,"instance_of?",db,!1,!0),"instance_of?",ra,Oa)},db.$$arity=1);a.def(k,"$lcm",Ca=function(X){c(l(S,"Integer")["$==="](X))||this.$raise(l(S,"TypeError"),"not an integer");return 0==this||0==X?0:Math.abs(this*X/this.$gcd(X))},Ca.$$arity=1);a.alias(k,"magnitude","abs");a.alias(k,"modulo","%");a.def(k,"$next",Wa=function(){return this+1},Wa.$$arity=0);a.def(k,"$nobits?",za=function(X){X=l(S,"Opal")["$coerce_to!"](X,l(S,"Integer"),
"to_int");return 0==(this&X)},za.$$arity=1);a.def(k,"$nonzero?",ua=function(){return 0==this?D:this},ua.$$arity=0);a.def(k,"$numerator",Na=function(){var X=Na.$$p,Oa=D,cb;X&&(Na.$$p=null);var B=0;var P=arguments.length;for(cb=Array(P);B<P;B++)cb[B]=arguments[B];return c(c(Oa=this["$nan?"]())?Oa:this["$infinite?"]())?this:n(this,a.find_super_dispatcher(this,"numerator",Na,!1,!0),"numerator",cb,X)},Na.$$arity=0);a.def(k,"$odd?",Ta=function(){return 0!==this%2},Ta.$$arity=0);a.def(k,"$ord",Za=function(){return this},
Za.$$arity=0);a.def(k,"$pow",Fa=function(X,Oa){0==this&&this.$raise(l(S,"ZeroDivisionError"),"divided by 0");if(void 0===Oa)return this["$**"](X);l(S,"Integer")["$==="](X)||this.$raise(l(S,"TypeError"),"Integer#pow() 2nd argument not allowed unless a 1st argument is integer");0>X&&this.$raise(l(S,"TypeError"),"Integer#pow() 1st argument cannot be negative when 2nd argument specified");l(S,"Integer")["$==="](Oa)||this.$raise(l(S,"TypeError"),"Integer#pow() 2nd argument not allowed unless all arguments are integers");
0===Oa&&this.$raise(l(S,"ZeroDivisionError"),"divided by 0");return this["$**"](X)["$%"](Oa)},Fa.$$arity=-2);a.def(k,"$pred",Y=function(){return this-1},Y.$$arity=0);a.def(k,"$quo",R=function(X){var Oa=R.$$p,cb;Oa&&(R.$$p=null);var B=0;var P=arguments.length;for(cb=Array(P);B<P;B++)cb[B]=arguments[B];return c(l(S,"Integer")["$==="](this))?n(this,a.find_super_dispatcher(this,"quo",R,!1,!0),"quo",cb,Oa):z(this,X)},R.$$arity=1);a.def(k,"$rationalize",Z=function(X){1<arguments.length&&this.$raise(l(S,
"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)");if(c(l(S,"Integer")["$==="](this)))return l(S,"Rational").$new(this,1);if(c(this["$infinite?"]()))return this.$raise(l(S,"FloatDomainError"),"Infinity");if(c(this["$nan?"]()))return this.$raise(l(S,"FloatDomainError"),"NaN");if(c(null==X)){var Oa=l(S,"Math").$frexp(this);var cb=a.to_ary(Oa);var B=null==cb[0]?D:cb[0];cb=null==cb[1]?D:cb[1];Oa;B=l(S,"Math").$ldexp(B,e(l(S,"Float"),"MANT_DIG")).$to_i();cb=w(cb,e(l(S,"Float"),
"MANT_DIG"));return l(S,"Rational").$new(p(2,B),1["$<<"](w(1,cb))).$rationalize(l(S,"Rational").$new(1,1["$<<"](w(1,cb))))}return this.$to_r().$rationalize(X)},Z.$$arity=-1);a.def(k,"$remainder",U=function(X){return w(this,p(X,z(this,X).$truncate()))},U.$$arity=1);a.def(k,"$round",ha=function(X){var Oa,cb,B=cb=Oa=D;if(c(l(S,"Integer")["$==="](this))){if(c(null==X))return this;c(c(Oa=l(S,"Float")["$==="](X))?X["$infinite?"]():Oa)&&this.$raise(l(S,"RangeError"),"Infinity");X=l(S,"Opal")["$coerce_to!"](X,
l(S,"Integer"),"to_int");c(I(X,e(l(S,"Integer"),"MIN")))&&this.$raise(l(S,"RangeError"),"out of bounds");if(c(0<=X))return this;X=X["$-@"]();if(.415241*X-.125>this.$size())return 0;X=Math.pow(10,X);X*=Math.floor((Math.abs(this)+X/2)/X);return 0>this?-X:X}c(c(cb=this["$nan?"]())?null==X:cb)&&this.$raise(l(S,"FloatDomainError"),"NaN");X=l(S,"Opal")["$coerce_to!"](X||0,l(S,"Integer"),"to_int");if(c("number"===typeof X?0>=X:X["$<="](0)))c(this["$nan?"]())?this.$raise(l(S,"RangeError"),"NaN"):c(this["$infinite?"]())&&
this.$raise(l(S,"FloatDomainError"),"Infinity");else{if(X["$=="](0))return Math.round(this);if(c(c(B=this["$nan?"]())?B:this["$infinite?"]()))return this}cb=l(S,"Math").$frexp(this);Oa=a.to_ary(cb);Oa=null==Oa[1]?D:Oa[1];cb;cb=w(t(e(l(S,"Float"),"DIG"),2),c(x(Oa,0))?z(Oa,4):w(z(Oa,3),1));cb="number"===typeof X&&"number"===typeof cb?X>=cb:X["$>="](cb);return c(cb)?this:c(I(X,(c(x(Oa,0))?t(z(Oa,3),1):z(Oa,4))["$-@"]()))?0:Math.round(this*Math.pow(10,X))/Math.pow(10,X)},ha.$$arity=-1);a.def(k,"$step",
la=function(X,Oa,cb){function B(){void 0!==hb&&(Ua=hb);void 0===Ua&&(Ua=D);Ya===D&&ib.$raise(l(S,"TypeError"),"step must be numeric");0===Ya&&ib.$raise(l(S,"ArgumentError"),"step can't be 0");void 0!==qb&&(Ya=qb);if(Ya===D||null==Ya)Ya=1;var nb=Ya["$<=>"](0);nb===D&&ib.$raise(l(S,"ArgumentError"),"0 can't be coerced into "+Ya.$class());if(Ua===D||null==Ua)Ua=0<nb?e(l(S,"Float"),"INFINITY"):e(l(S,"Float"),"INFINITY")["$-@"]();l(S,"Opal").$compare(ib,Ua)}function P(){if(0<Ya&&ib>Ua||0>Ya&&ib<Ua)return 0;
if(Infinity===Ya||-Infinity===Ya)return 1;var nb=Math.abs,pb=Math.floor;nb=(nb(ib)+nb(Ua)+nb(Ua-ib))/nb(Ya)*e(l(S,"Float"),"EPSILON");if(Infinity===nb||-Infinity===nb)return 0;.5<nb&&(nb=.5);return pb((Ua-ib)/Ya+nb)+1}function ra(){B();if(0===Ya)return Infinity;if(0!==Ya%1)return P();if(0<Ya&&ib>Ua||0>Ya&&ib<Ua)return 0;var nb=Math.ceil,pb=Math.abs,Gb=pb(ib-Ua)+1;pb=pb(Ya);return nb(Gb/pb)}var Ga=la.$$p,Da=Ga||D,Ia,Xa,ib=this,fb=Ia=D;Ga&&(la.$$p=null);Ga&&(la.$$p=null);Ga=a.slice.call(arguments,0,
arguments.length);Ia=a.extract_kwargs(Ga);if(null==Ia)Ia=d([],{});else if(!Ia.$$is_hash)throw a.ArgumentError.$new("expected kwargs");if(0<Ga.length){var Ua=Ga[0];Ga.splice(0,1)}if(0<Ga.length){var Ya=Ga[0];Ga.splice(0,1)}var hb=Ia.$$smap.to;var qb=Ia.$$smap.by;void 0!==Ua&&void 0!==hb&&ib.$raise(l(S,"ArgumentError"),"to is given twice");void 0!==Ya&&void 0!==qb&&ib.$raise(l(S,"ArgumentError"),"step is given twice");if(Da===D)return Ia=[],fb=d([],{}),void 0!==Ua&&Ia.push(Ua),void 0!==Ya&&Ia.push(Ya),
void 0!==hb&&a.hash_put(fb,"to",hb),void 0!==qb&&a.hash_put(fb,"by",qb),fb["$any?"]()&&Ia.push(fb),G(ib,"enum_for",["step"].concat(a.to_a(Ia)),(Xa=function(){return ra()},Xa.$$s=ib,Xa.$$arity=0,Xa));B();if(0===Ya)for(;;)Da(ib);if(0!==ib%1||0!==Ua%1||0!==Ya%1){if(Xa=P(),0<Xa)if(Infinity===Ya||-Infinity===Ya)Da(ib);else if(Ga=0,0<Ya)for(;Ga<Xa;)Ia=Ga*Ya+ib,Ua<Ia&&(Ia=Ua),Da(Ia),Ga+=1;else for(;Ga<Xa;)Ia=Ga*Ya+ib,Ua>Ia&&(Ia=Ua),Da(Ia),Ga+=1}else if(Xa=ib,0<Ya)for(;Xa<=Ua;)Da(Xa),Xa+=Ya;else for(;Xa>=
Ua;)Da(Xa),Xa+=Ya;return ib},la.$$arity=-1);a.alias(k,"succ","next");a.def(k,"$times",g=function(){var X=g.$$p,Oa=X||D,cb;X&&(g.$$p=null);X&&(g.$$p=null);if(!c(Oa))return G(this,"enum_for",["times"],(cb=function(){return null==cb.$$s?this:cb.$$s},cb.$$s=this,cb.$$arity=0,cb));for(X=0;X<this;X++)Oa(X);return this},g.$$arity=0);a.def(k,"$to_f",C=function(){return this},C.$$arity=0);a.def(k,"$to_i",O=function(){return parseInt(this,10)},O.$$arity=0);a.alias(k,"to_int","to_i");a.def(k,"$to_r",aa=function(){if(c(l(S,
"Integer")["$==="](this)))return l(S,"Rational").$new(this,1);var X=l(S,"Math").$frexp(this);var Oa=a.to_ary(X);var cb=null==Oa[0]?D:Oa[0];Oa=null==Oa[1]?D:Oa[1];X;cb=l(S,"Math").$ldexp(cb,e(l(S,"Float"),"MANT_DIG")).$to_i();Oa=w(Oa,e(l(S,"Float"),"MANT_DIG"));return p(cb,e(l(S,"Float"),"RADIX")["$**"](Oa)).$to_r()},aa.$$arity=0);a.def(k,"$to_s",v=function(X){var Oa=D;null==X&&(X=10);X=l(S,"Opal")["$coerce_to!"](X,l(S,"Integer"),"to_int");c(c(Oa=I(X,2))?Oa:x(X,36))&&this.$raise(l(S,"ArgumentError"),
"invalid radix "+X);return this.toString(X)},v.$$arity=-1);a.def(k,"$truncate",V=function(X){null==X&&(X=0);var Oa=this.$to_f();if(0===Oa%1&&0<=X)return Oa;X=Math.pow(10,X);X=parseInt(Oa*X,10)/X;0===Oa%1&&(X=Math.round(X));return X},V.$$arity=-1);a.alias(k,"inspect","to_s");a.def(k,"$digits",pa=function(X){null==X&&(X=10);I(this,0)&&this.$raise(e(l(S,"Math"),"DomainError"),"out of domain");X=l(S,"Opal")["$coerce_to!"](X,l(S,"Integer"),"to_int");c(I(X,2))&&this.$raise(l(S,"ArgumentError"),"invalid radix "+
X);for(var Oa=this,cb=[];0!==Oa;)cb.push(Oa%X),Oa=parseInt(Oa/X,10);return cb},pa.$$arity=-1);a.def(k,"$divmod",La=function(X){var Oa=La.$$p,cb=D,B;Oa&&(La.$$p=null);var P=0;var ra=arguments.length;for(B=Array(ra);P<ra;P++)B[P]=arguments[P];return c(c(cb=this["$nan?"]())?cb:X["$nan?"]())?this.$raise(l(S,"FloatDomainError"),"NaN"):c(this["$infinite?"]())?this.$raise(l(S,"FloatDomainError"),"Infinity"):n(this,a.find_super_dispatcher(this,"divmod",La,!1,!0),"divmod",B,Oa)},La.$$arity=1);a.def(k,"$upto",
jb=function(X){var Oa=jb.$$p,cb=Oa||D,B;Oa&&(jb.$$p=null);Oa&&(jb.$$p=null);if(cb===D)return G(this,"enum_for",["upto",X],(B=function(){var P=null==B.$$s?this:B.$$s;c(l(S,"Numeric")["$==="](X))||P.$raise(l(S,"ArgumentError"),"comparison of "+P.$class()+" with "+X.$class()+" failed");return c(I(X,P))?0:t(w(X,P),1)},B.$$s=this,B.$$arity=0,B));X.$$is_number||this.$raise(l(S,"ArgumentError"),"comparison of "+this.$class()+" with "+X.$class()+" failed");for(Oa=this;Oa<=X;Oa++)cb(Oa);return this},jb.$$arity=
1);a.def(k,"$zero?",ob=function(){return 0==this},ob.$$arity=0);a.def(k,"$size",mb=function(){return 4},mb.$$arity=0);a.def(k,"$nan?",sb=function(){return isNaN(this)},sb.$$arity=0);a.def(k,"$finite?",tb=function(){return Infinity!=this&&-Infinity!=this&&!isNaN(this)},tb.$$arity=0);a.def(k,"$infinite?",wb=function(){return Infinity==this?1:-Infinity==this?-1:D},wb.$$arity=0);a.def(k,"$positive?",xb=function(){return 0!=this&&(Infinity==this||0<1/this)},xb.$$arity=0);return(a.def(k,"$negative?",ub=
function(){return-Infinity==this||0>1/this},ub.$$arity=0),D)&&"negative?"})(u[0],l(u,"Numeric"),u);a.const_set(u[0],"Fixnum",l(u,"Number"));(function(k,$super,y){k=E(k,$super,"Integer");y=[k].concat(y);k.$$is_number_class=!0;k.$$is_integer_class=!0;(function(S,ja){var da=[S].concat(ja),ma,b;a.def(S,"$allocate",ma=function(){return this.$raise(l(da,"TypeError"),"allocator undefined for "+this.$name())},ma.$$arity=0);a.udef(S,"$new");return(a.def(S,"$sqrt",b=function(h){h=l(da,"Opal")["$coerce_to!"](h,
l(da,"Integer"),"to_int");0>h&&this.$raise(e(l(da,"Math"),"DomainError"),'Numerical argument is out of domain - "isqrt"');return parseInt(Math.sqrt(h),10)},b.$$arity=1),D)&&"sqrt"})(a.get_singleton_class(k),y);a.const_set(y[0],"MAX",Math.pow(2,30)-1);return a.const_set(y[0],"MIN",-Math.pow(2,30))})(u[0],l(u,"Numeric"),u);return function(k,$super,y){k=E(k,$super,"Float");y=[k].concat(y);k.$$is_number_class=!0;(function(S,ja){var da=[S].concat(ja),ma,b;a.def(S,"$allocate",ma=function(){return this.$raise(l(da,
"TypeError"),"allocator undefined for "+this.$name())},ma.$$arity=0);a.udef(S,"$new");return(a.def(S,"$===",b=function(h){return!!h.$$is_number},b.$$arity=1),D)&&"==="})(a.get_singleton_class(k),y);a.const_set(y[0],"INFINITY",Infinity);a.const_set(y[0],"MAX",Number.MAX_VALUE);a.const_set(y[0],"MIN",Number.MIN_VALUE);a.const_set(y[0],"NAN",NaN);a.const_set(y[0],"DIG",15);a.const_set(y[0],"MANT_DIG",53);a.const_set(y[0],"RADIX",2);return a.const_set(y[0],"EPSILON",Number.EPSILON||2.220446049250313E-16)}(u[0],
l(u,"Numeric"),u)};
Opal.modules["corelib/range"]=function(a){function x(n,G){return"number"===typeof n&&"number"===typeof G?n<=G:n["$<="](G)}function I(n,G){return"number"===typeof n&&"number"===typeof G?n<G:n["$<"](G)}function t(n,G){return"number"===typeof n&&"number"===typeof G?n>G:n["$>"](G)}function w(n,G){return"number"===typeof n&&"number"===typeof G?n+G:n["$+"](G)}var z=a.top,p=[],m=a.nil,u=a.$$$,D=a.$$,e=a.klass,l=a.truthy,E=a.send,c=a.send2;a.add_stubs("$require $include $attr_reader $raise $<=> $include? $<= $< $enum_for $size $upto $to_proc $respond_to? $class $succ $! $== $=== $exclude_end? $eql? $begin $end $last $to_a $> $- $abs $to_i $coerce_to! $ceil $/ $loop $+ $* $>= $each_with_index $% $bsearch $inspect $[] $hash".split(" "));z.$require("corelib/enumerable");
return function(n,$super,d){n=e(n,$super,"Range");var k=[n].concat(d),N,y,S,ja,da,ma,b,h,f,q,A,F,H,K,ba,va,Pa;n.$$prototype.begin=n.$$prototype.end=n.$$prototype.excl=m;n.$include(D(k,"Enumerable"));n.$$prototype.$$is_range=!0;n.$attr_reader("begin","end");a.def(n,"$initialize",N=function(wa,Aa,Ma){null==Ma&&(Ma=!1);l(this.begin)&&this.$raise(D(k,"NameError"),"'initialize' called twice");l(wa["$<=>"](Aa))||this.$raise(D(k,"ArgumentError"),"bad value for range");this.begin=wa;this.end=Aa;return this.excl=
Ma},N.$$arity=-3);a.def(n,"$===",y=function(wa){return this["$include?"](wa)},y.$$arity=1);a.def(n,"$cover?",S=function(wa){var Aa=m,Ma=m,na=m;var T=this.begin["$<=>"](wa);if(!l(l(Aa=T)?x(T,0):Aa))return!1;wa=wa["$<=>"](this.end);return l(this.excl)?l(Ma=wa)?I(wa,0):Ma:l(na=wa)?x(wa,0):na},S.$$arity=1);a.def(n,"$each",ja=function(){var wa=ja.$$p,Aa=wa||m,Ma,na=m,T=m,sa=m;wa&&(ja.$$p=null);wa&&(ja.$$p=null);if(Aa===m)return E(this,"enum_for",["each"],(Ma=function(){return(null==Ma.$$s?this:Ma.$$s).$size()},
Ma.$$s=this,Ma.$$arity=0,Ma));if(this.begin.$$is_number&&this.end.$$is_number){0===this.begin%1&&0===this.end%1||this.$raise(D(k,"TypeError"),"can't iterate from Float");wa=this.begin;for(na=this.end+(l(this.excl)?0:1);wa<na;wa++)Aa(wa);return this}if(this.begin.$$is_string&&this.end.$$is_string)return E(this.begin,"upto",[this.end,this.excl],Aa.$to_proc()),this;na=this.begin;T=this.end;for(l(na["$respond_to?"]("succ"))||this.$raise(D(k,"TypeError"),"can't iterate from "+na.$class());l(I(na["$<=>"](T),
0));)a.yield1(Aa,na),na=na.$succ();l(l(sa=this.excl["$!"]())?na["$=="](T):sa)&&a.yield1(Aa,na);return this},ja.$$arity=0);a.def(n,"$eql?",da=function(wa){var Aa=m,Ma=m;return l(D(k,"Range")["$==="](wa))?l(Aa=l(Ma=this.excl["$==="](wa["$exclude_end?"]()))?this.begin["$eql?"](wa.$begin()):Ma)?this.end["$eql?"](wa.$end()):Aa:!1},da.$$arity=1);a.alias(n,"==","eql?");a.def(n,"$exclude_end?",ma=function(){return this.excl},ma.$$arity=0);a.def(n,"$first",b=function(wa){var Aa=b.$$p,Ma;Aa&&(b.$$p=null);var na=
0;var T=arguments.length;for(Ma=Array(T);na<T;na++)Ma[na]=arguments[na];return l(null==wa)?this.begin:c(this,a.find_super_dispatcher(this,"first",b,!1,!0),"first",Ma,Aa)},b.$$arity=-1);a.alias(n,"include?","cover?");a.def(n,"$last",h=function(wa){return l(null==wa)?this.end:this.$to_a().$last(wa)},h.$$arity=-1);a.def(n,"$max",f=function(){var wa=f.$$p,Aa=wa||m,Ma=m,na;wa&&(f.$$p=null);var T=0;var sa=arguments.length;for(na=Array(sa);T<sa;T++)na[T]=arguments[T];return Aa!==m?c(this,a.find_super_dispatcher(this,
"max",f,!1,!0),"max",na,wa):l(t(this.begin,this.end))?m:l(l(Ma=this.excl)?this.begin["$=="](this.end):Ma)?m:this.excl?this.end-1:this.end},f.$$arity=0);a.alias(n,"member?","cover?");a.def(n,"$min",q=function(){var wa=q.$$p,Aa=wa||m,Ma=m,na;wa&&(q.$$p=null);var T=0;var sa=arguments.length;for(na=Array(sa);T<sa;T++)na[T]=arguments[T];return Aa!==m?c(this,a.find_super_dispatcher(this,"min",q,!1,!0),"min",na,wa):l(t(this.begin,this.end))?m:l(l(Ma=this.excl)?this.begin["$=="](this.end):Ma)?m:this.begin},
q.$$arity=0);a.def(n,"$size",A=function(){var wa=m;var Aa=this.begin;var Ma=this.end;l(this.excl)&&(Ma="number"===typeof Ma?Ma-1:Ma["$-"](1));if(!l(l(wa=D(k,"Numeric")["$==="](Aa))?D(k,"Numeric")["$==="](Ma):wa))return m;if(l(I(Ma,Aa)))return 0;wa=u(D(k,"Float"),"INFINITY");return l([Aa.$abs(),Ma.$abs()]["$include?"](wa))?wa:(Math.abs(Ma-Aa)+1).$to_i()},A.$$arity=0);a.def(n,"$step",F=function(wa){function Aa(){wa.$$is_number||(wa=D(k,"Opal")["$coerce_to!"](wa,D(k,"Integer"),"to_int"));0>wa?ka.$raise(D(k,
"ArgumentError"),"step can't be negative"):0===wa&&ka.$raise(D(k,"ArgumentError"),"step can't be 0")}function Ma(){if(!ka.begin["$respond_to?"]("succ")||ka.begin.$$is_string&&ka.end.$$is_string)return m;if(0===wa%1){var L=ka.$size();return("number"===typeof L&&"number"===typeof wa?L/wa:L["$/"](wa)).$ceil()}L=ka.begin;var fa=ka.end,oa=Math.abs,ea=Math.floor;oa=(oa(L)+oa(fa)+oa(fa-L))/oa(wa)*u(D(k,"Float"),"EPSILON");.5<oa&&(oa=.5);ka.excl?(ea=ea((fa-L)/wa-oa),ea*wa+L<fa&&ea++):ea=ea((fa-L)/wa+oa)+
1;return ea}var na,T,sa,xa=F.$$p,Ja=xa||m,ka=this,M=m;xa&&(F.$$p=null);null==wa&&(wa=1);if(Ja===m)return E(ka,"enum_for",["step",wa],(na=function(){Aa();return Ma()},na.$$s=ka,na.$$arity=0,na));Aa();l(ka.begin.$$is_number&&ka.end.$$is_number)?(M=0,function(){var L=a.new_brk();try{return E(ka,"loop",[],(T=function(){var fa=null==T.$$s?this:T.$$s;null==fa.begin&&(fa.begin=m);null==fa.excl&&(fa.excl=m);null==fa.end&&(fa.end=m);var oa=w(fa.begin,"number"===typeof M&&"number"===typeof wa?M*wa:M["$*"](wa));
l(fa.excl)?(fa=fa.end,fa="number"===typeof oa&&"number"===typeof fa?oa>=fa:oa["$>="](fa),l(fa)&&a.brk(m,L)):l(t(oa,fa.end))&&a.brk(m,L);a.yield1(Ja,oa);return M=w(M,1)},T.$$s=ka,T.$$brk=L,T.$$arity=0,T))}catch(fa){if(fa===L)return fa.$v;throw fa;}}()):(ka.begin.$$is_string&&ka.end.$$is_string&&0!==wa%1&&ka.$raise(D(k,"TypeError"),"no implicit conversion to float from string"),E(ka,"each_with_index",[],(sa=function(L,fa){null==L&&(L=m);null==fa&&(fa=m);return fa["$%"](wa)["$=="](0)?a.yield1(Ja,L):
m},sa.$$s=ka,sa.$$arity=2,sa)));return ka},F.$$arity=-1);a.def(n,"$bsearch",H=function(){var wa=H.$$p,Aa=wa||m;wa&&(H.$$p=null);wa&&(H.$$p=null);if(Aa===m)return this.$enum_for("bsearch");l(this.begin.$$is_number&&this.end.$$is_number)||this.$raise(D(k,"TypeError"),"can't do binary search for "+this.begin.$class());return E(this.$to_a(),"bsearch",[],Aa.$to_proc())},H.$$arity=0);a.def(n,"$to_s",K=function(){return""+this.begin+(l(this.excl)?"...":"..")+this.end},K.$$arity=0);a.def(n,"$inspect",ba=
function(){return""+this.begin.$inspect()+(l(this.excl)?"...":"..")+this.end.$inspect()},ba.$$arity=0);a.def(n,"$marshal_load",va=function(wa){this.begin=wa["$[]"]("begin");this.end=wa["$[]"]("end");return this.excl=wa["$[]"]("excl")},va.$$arity=1);return(a.def(n,"$hash",Pa=function(){return[this.begin,this.end,this.excl].$hash()},Pa.$$arity=0),m)&&"hash"}(p[0],null,p)};
Opal.modules["corelib/proc"]=function(a){var x=[],I=a.nil,t=a.$$,w=a.slice,z=a.klass,p=a.truthy,m=a.send;a.add_stubs(["$raise","$proc","$call","$to_proc","$coerce_to!"]);return function(u,$super,e){u=z(u,$super,"Proc");var l=[u].concat(e),E,c,n,G,d,k,N,y,S,ja,da,ma;a.defineProperty(u.$$prototype,"$$is_proc",!0);a.defineProperty(u.$$prototype,"$$is_lambda",!1);a.defs(u,"$new",E=function(){var b=E.$$p,h=b||I;b&&(E.$$p=null);b&&(E.$$p=null);p(h)||this.$raise(t(l,"ArgumentError"),"tried to create a Proc object without a block");
return h},E.$$arity=0);a.def(u,"$call",c=function(b){var h=c.$$p,f=h||I;h&&(c.$$p=null);h&&(c.$$p=null);h=a.slice.call(arguments,0,arguments.length);f!==I&&(this.$$p=f);if(f=this.$$brk)try{var q=this.$$is_lambda?this.apply(null,h):a.yieldX(this,h)}catch(A){if(A===f)return f.$v;throw A;}else q=this.$$is_lambda?this.apply(null,h):a.yieldX(this,h);return q},c.$$arity=-1);a.alias(u,"[]","call");a.alias(u,"===","call");a.alias(u,"yield","call");a.def(u,"$>>",n=function(b){var h;n.$$p&&(n.$$p=null);return m(this,
"proc",[],(h=function(f){var q=null==h.$$s?this:h.$$s,A=h.$$p,F=A||I;A&&(h.$$p=null);A=a.slice.call(arguments,0,arguments.length);q=m(q,"call",a.to_a(A),F.$to_proc());return b.$call(q)},h.$$s=this,h.$$arity=-1,h))},n.$$arity=1);a.def(u,"$<<",G=function(b){var h;G.$$p&&(G.$$p=null);return m(this,"proc",[],(h=function(f){var q=null==h.$$s?this:h.$$s,A=h.$$p,F=A||I;A&&(h.$$p=null);A=a.slice.call(arguments,0,arguments.length);F=m(b,"call",a.to_a(A),F.$to_proc());return q.$call(F)},h.$$s=this,h.$$arity=
-1,h))},G.$$arity=1);a.def(u,"$to_proc",d=function(){return this},d.$$arity=0);a.def(u,"$lambda?",k=function(){return!!this.$$is_lambda},k.$$arity=0);a.def(u,"$arity",N=function(){return this.$$is_curried?-1:this.$$arity},N.$$arity=0);a.def(u,"$source_location",y=function(){return I},y.$$arity=0);a.def(u,"$binding",S=function(){this.$$is_curried&&this.$raise(t(l,"ArgumentError"),"Can't create Binding");return I},S.$$arity=0);a.def(u,"$parameters",ja=function(){if(this.$$is_curried)return[["rest"]];
if(this.$$parameters){if(this.$$is_lambda)return this.$$parameters;var b=[],h;var f=0;for(h=this.$$parameters.length;f<h;f++){var q=this.$$parameters[f];"req"===q[0]&&(q=["opt",q[1]]);b.push(q)}return b}return[]},ja.$$arity=0);a.def(u,"$curry",da=function(b){function h(){var q=w.call(arguments),A=q.length;A>b&&f.$$is_lambda&&!f.$$is_curried&&f.$raise(t(l,"ArgumentError"),"wrong number of arguments ("+A+" for "+b+")");if(A>=b)return f.$call.apply(f,q);A=function(){return h.apply(null,q.concat(w.call(arguments)))};
A.$$is_lambda=f.$$is_lambda;A.$$is_curried=!0;return A}var f=this;void 0===b?b=f.length:(b=t(l,"Opal")["$coerce_to!"](b,t(l,"Integer"),"to_int"),f.$$is_lambda&&b!==f.length&&f.$raise(t(l,"ArgumentError"),"wrong number of arguments ("+b+" for "+f.length+")"));h.$$is_lambda=f.$$is_lambda;h.$$is_curried=!0;return h},da.$$arity=-1);a.def(u,"$dup",ma=function(){function b(){return h.apply(this,arguments)}var h=this.$$original_proc||this,f;for(f in this)this.hasOwnProperty(f)&&(b[f]=this[f]);return b},
ma.$$arity=0);return a.alias(u,"clone","dup")}(x[0],Function,x)};
Opal.modules["corelib/method"]=function(a){var x=[],I=a.nil,t=a.$$,w=a.klass,z=a.truthy;a.add_stubs("$attr_reader $arity $>> $<< $new $class $join $source_location $raise".split(" "));(function(p,$super,u){p=w(p,$super,"Method");var D=[p].concat(u),e,l,E,c,n,G,d,k,N,y,S;p.$$prototype.method=p.$$prototype.receiver=p.$$prototype.owner=p.$$prototype.name=I;p.$attr_reader("owner","receiver","name");a.def(p,"$initialize",e=function(ja,da,ma,b){this.receiver=ja;this.owner=da;this.name=b;return this.method=
ma},e.$$arity=4);a.def(p,"$arity",l=function(){return this.method.$arity()},l.$$arity=0);a.def(p,"$parameters",E=function(){return this.method.$$parameters},E.$$arity=0);a.def(p,"$source_location",c=function(){var ja;return z(ja=this.method.$$source_location)?ja:["(eval)",0]},c.$$arity=0);a.def(p,"$comments",n=function(){var ja;return z(ja=this.method.$$comments)?ja:[]},n.$$arity=0);a.def(p,"$call",G=function(ja){var da=G.$$p,ma=da||I;da&&(G.$$p=null);da&&(G.$$p=null);da=a.slice.call(arguments,0,
arguments.length);this.method.$$p=ma;return this.method.apply(this.receiver,da)},G.$$arity=-1);a.alias(p,"[]","call");a.def(p,"$>>",d=function(ja){return this.method["$>>"](ja)},d.$$arity=1);a.def(p,"$<<",k=function(ja){return this.method["$<<"](ja)},k.$$arity=1);a.def(p,"$unbind",N=function(){return t(D,"UnboundMethod").$new(this.receiver.$class(),this.owner,this.method,this.name)},N.$$arity=0);a.def(p,"$to_proc",y=function(){var ja=this.$call.bind(this);ja.$$unbound=this.method;ja.$$is_lambda=!0;
ja.$$arity=this.method.$$arity;ja.$$parameters=this.method.$$parameters;return ja},y.$$arity=0);return(a.def(p,"$inspect",S=function(){return"#<"+this.$class()+": "+this.receiver.$class()+"#"+this.name+" (defined in "+this.owner+" in "+this.$source_location().$join(":")+")>"},S.$$arity=0),I)&&"inspect"})(x[0],null,x);return function(p,$super,u){p=w(p,$super,"UnboundMethod");var D=[p].concat(u),e,l,E,c,n,G,d;p.$$prototype.method=p.$$prototype.owner=p.$$prototype.name=p.$$prototype.source=I;p.$attr_reader("source",
"owner","name");a.def(p,"$initialize",e=function(k,N,y,S){this.source=k;this.owner=N;this.method=y;return this.name=S},e.$$arity=4);a.def(p,"$arity",l=function(){return this.method.$arity()},l.$$arity=0);a.def(p,"$parameters",E=function(){return this.method.$$parameters},E.$$arity=0);a.def(p,"$source_location",c=function(){var k;return z(k=this.method.$$source_location)?k:["(eval)",0]},c.$$arity=0);a.def(p,"$comments",n=function(){var k;return z(k=this.method.$$comments)?k:[]},n.$$arity=0);a.def(p,
"$bind",G=function(k){if(this.owner.$$is_module||a.is_a(k,this.owner))return t(D,"Method").$new(k,this.owner,this.method,this.name);this.$raise(t(D,"TypeError"),"can't bind singleton method to a different class (expected "+k+".kind_of?("+this.owner+" to be true)")},G.$$arity=1);return(a.def(p,"$inspect",d=function(){return"#<"+this.$class()+": "+this.source+"#"+this.name+" (defined in "+this.owner+" in "+this.$source_location().$join(":")+")>"},d.$$arity=0),I)&&"inspect"}(x[0],null,x)};
Opal.modules["corelib/variables"]=function(a){var x=[],I=a.nil,t=a.$$,w=a.gvars,z=a.hash2;a.add_stubs(["$new"]);w["&"]=w["~"]=w["`"]=w["'"]=I;w.LOADED_FEATURES=w['"']=a.loaded_features;w.LOAD_PATH=w[":"]=[];w["/"]="\n";w[","]=I;a.const_set(x[0],"ARGV",[]);a.const_set(x[0],"ARGF",t(x,"Object").$new());a.const_set(x[0],"ENV",z([],{}));w.VERBOSE=!1;w.DEBUG=!1;return w.SAFE=0};
Opal.modules["corelib/io"]=function(a){function x(E,c){return"number"===typeof E&&"number"===typeof c?E-c:E["$-"](c)}var I=[],t=a.nil,w=a.$$$,z=a.$$,p=a.klass,m=a.module,u=a.gvars,D=a.send,e=t;a.add_stubs("$attr_accessor $size $write $String $chomp $getbyte $getc $raise $new $write_proc= $- $extend".split(" "));(function(E,$super,n){E=p(E,$super,"IO");n=[E].concat(n);var G,d,k,N;E.$$prototype.tty=E.$$prototype.closed=t;a.const_set(n[0],"SEEK_SET",0);a.const_set(n[0],"SEEK_CUR",1);a.const_set(n[0],
"SEEK_END",2);a.def(E,"$tty?",G=function(){return this.tty},G.$$arity=0);a.def(E,"$closed?",d=function(){return this.closed},d.$$arity=0);E.$attr_accessor("write_proc");a.def(E,"$write",k=function(y){this.write_proc(y);return y.$size()},k.$$arity=1);E.$attr_accessor("sync","tty");a.def(E,"$flush",N=function(){return t},N.$$arity=0);(function(y,S){y=m(y,"Writable");[y].concat(S);var ja,da,ma;a.def(y,"$<<",ja=function(b){this.$write(b);return this},ja.$$arity=1);a.def(y,"$print",da=function(b){null==
u[","]&&(u[","]=t);var h=a.slice.call(arguments,0,arguments.length);for(var f=0,q=h.length;f<q;f++)h[f]=this.$String(h[f]);this.$write(h.join(u[","]));return t},da.$$arity=-1);a.def(y,"$puts",ma=function(b){null==u["/"]&&(u["/"]=t);var h=a.slice.call(arguments,0,arguments.length);for(var f=0,q=h.length;f<q;f++)h[f]=this.$String(h[f]).$chomp();this.$write(h.concat([t]).join(u["/"]));return t},ma.$$arity=-1)})(n[0],n);return function(y,S){y=m(y,"Readable");var ja=[y].concat(S),da,ma,b,h;a.def(y,"$readbyte",
da=function(){return this.$getbyte()},da.$$arity=0);a.def(y,"$readchar",ma=function(){return this.$getc()},ma.$$arity=0);a.def(y,"$readline",b=function(){null==u["/"]&&(u["/"]=t);return this.$raise(z(ja,"NotImplementedError"))},b.$$arity=-1);a.def(y,"$readpartial",h=function(){return this.$raise(z(ja,"NotImplementedError"))},h.$$arity=-2)}(n[0],n)})(I[0],null,I);a.const_set(I[0],"STDERR",u.stderr=z(I,"IO").$new());a.const_set(I[0],"STDIN",u.stdin=z(I,"IO").$new());a.const_set(I[0],"STDOUT",u.stdout=
z(I,"IO").$new());var l=a.global.console;e=["object"===typeof process&&"object"===typeof process.stdout?function(E){process.stdout.write(E)}:function(E){l.log(E)}];D(z(I,"STDOUT"),"write_proc=",a.to_a(e));e[x(e.length,1)];e=["object"===typeof process&&"object"===typeof process.stderr?function(E){process.stderr.write(E)}:function(E){l.warn(E)}];D(z(I,"STDERR"),"write_proc=",a.to_a(e));e[x(e.length,1)];z(I,"STDOUT").$extend(w(z(I,"IO"),"Writable"));return z(I,"STDERR").$extend(w(z(I,"IO"),"Writable"))};
Opal.modules["opal/regexp_anchors"]=function(a){var x=[],I=a.nil,t=a.$$,w=a.module;a.add_stubs(["$==","$new"]);x=[w(x[0],"Opal")].concat(x);a.const_set(x[0],"REGEXP_START",t(x,"RUBY_ENGINE")["$=="]("opal")?"^":I);a.const_set(x[0],"REGEXP_END",t(x,"RUBY_ENGINE")["$=="]("opal")?"$":I);a.const_set(x[0],"FORBIDDEN_STARTING_IDENTIFIER_CHARS","\\u0001-\\u002F\\u003A-\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F");a.const_set(x[0],"FORBIDDEN_ENDING_IDENTIFIER_CHARS","\\u0001-\\u0020\\u0022-\\u002F\\u003A-\\u003E\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F");
a.const_set(x[0],"INLINE_IDENTIFIER_REGEXP",t(x,"Regexp").$new("[^"+t(x,"FORBIDDEN_STARTING_IDENTIFIER_CHARS")+"]*[^"+t(x,"FORBIDDEN_ENDING_IDENTIFIER_CHARS")+"]"));a.const_set(x[0],"FORBIDDEN_CONST_NAME_CHARS","\\u0001-\\u0020\\u0021-\\u002F\\u003B-\\u003F\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F");a.const_set(x[0],"CONST_NAME_REGEXP",t(x,"Regexp").$new(""+t(x,"REGEXP_START")+"(::)?[A-Z][^"+t(x,"FORBIDDEN_CONST_NAME_CHARS")+"]*"+t(x,"REGEXP_END")))};
Opal.modules["opal/mini"]=function(a){var x=a.top;a.add_stubs(["$require"]);x.$require("opal/base");x.$require("corelib/nil");x.$require("corelib/boolean");x.$require("corelib/string");x.$require("corelib/comparable");x.$require("corelib/enumerable");x.$require("corelib/enumerator");x.$require("corelib/array");x.$require("corelib/hash");x.$require("corelib/number");x.$require("corelib/range");x.$require("corelib/proc");x.$require("corelib/method");x.$require("corelib/regexp");x.$require("corelib/variables");
x.$require("corelib/io");return x.$require("opal/regexp_anchors")};
Opal.modules["corelib/kernel/format"]=function(a){var x=[],I=a.nil,t=a.$$,w=a.coerce_to,z=a.module,p=a.truthy,m=a.gvars;a.add_stubs("$== $length $respond_to? $[] $coerce_to? $nil? $to_a $raise $to_int $fetch $Integer $Float $to_ary $to_str $inspect $to_s".split(" "));return function(u,D){u=z(u,"Kernel");var e=[u].concat(D),l;a.def(u,"$format",l=function(E,c){function n(){ba&32&&da.$raise(t(e,"ArgumentError"),"flag after width");ba&128&&da.$raise(t(e,"ArgumentError"),"flag after precision")}function G(){ba&
32&&da.$raise(t(e,"ArgumentError"),"width given twice");ba&128&&da.$raise(t(e,"ArgumentError"),"width after precision")}function d(Ja){Ja>=h.length&&da.$raise(t(e,"ArgumentError"),"too few arguments");return h[Ja]}function k(){switch(H){case -1:da.$raise(t(e,"ArgumentError"),"unnumbered("+F+") mixed with numbered");case -2:da.$raise(t(e,"ArgumentError"),"unnumbered("+F+") mixed with named")}H=F++;return d(H-1)}function N(Ja){0<H&&da.$raise(t(e,"ArgumentError"),"numbered("+Ja+") after unnumbered("+
H+")");-2===H&&da.$raise(t(e,"ArgumentError"),"numbered("+Ja+") after named");1>Ja&&da.$raise(t(e,"ArgumentError"),"invalid index - "+Ja+"$");H=-1;return d(Ja-1)}function y(){return void 0===Pa?k():Pa}function S(Ja){var ka;for(ka="";;f++){f===q&&da.$raise(t(e,"ArgumentError"),"malformed format string - %*[0-9]");if(48>E.charCodeAt(f)||57<E.charCodeAt(f))return f--,ka=parseInt(ka,10)||0,2147483647<ka&&da.$raise(t(e,"ArgumentError"),""+Ja+" too big"),ka;ka+=E.charAt(f)}}function ja(Ja){Ja=S(Ja);"$"===
E.charAt(f+1)?(f++,Ja=N(Ja)):Ja=k();return Ja.$to_int()}var da=this,ma=I,b=I;null==m.DEBUG&&(m.DEBUG=I);var h=a.slice.call(arguments,1,arguments.length);p(p(ma=h.$length()["$=="](1))?h["$[]"](0)["$respond_to?"]("to_ary"):ma)&&(b=t(e,"Opal")["$coerce_to?"](h["$[]"](0),t(e,"Array"),"to_ary"),p(b["$nil?"]())||(h=b.$to_a()));ma="";b=0;var f,q=E.length,A,F=1,H=0;for(f=E.indexOf("%");-1!==f;f=E.indexOf("%",f)){var K=void 0;var ba=0;var va=A=-1;var Pa=void 0;var wa=f;f++;switch(E.charAt(f)){case "%":b=f;
case "":case "\n":case "\x00":f++;continue}a:for(;f<q;f++)switch(E.charAt(f)){case " ":n();ba|=16;continue a;case "#":n();ba|=1;continue a;case "+":n();ba|=4;continue a;case "-":n();ba|=2;continue a;case "0":n();ba|=8;continue a;case "1":case "2":case "3":case "4":case "5":case "6":case "7":case "8":case "9":var Aa=S("width");if("$"===E.charAt(f+1)){if(f+2===q){K="%";f++;break a}void 0!==Pa&&da.$raise(t(e,"ArgumentError"),"value given twice - %"+Aa+"$");Pa=N(Aa);f++}else G(),ba|=32,A=Aa;continue a;
case "<":case "{":var Ma="<"===E.charAt(f)?">":"}";Aa="";for(f++;;f++){f===q&&da.$raise(t(e,"ArgumentError"),"malformed name - unmatched parenthesis");if(E.charAt(f)===Ma)if(0<H&&da.$raise(t(e,"ArgumentError"),"named "+Aa+" after unnumbered("+H+")"),-1===H&&da.$raise(t(e,"ArgumentError"),"named "+Aa+" after numbered"),H=-2,void 0!==h[0]&&h[0].$$is_hash||da.$raise(t(e,"ArgumentError"),"one hash required"),Pa=h[0].$fetch(Aa),">"===Ma)continue a;else{K=Pa.toString();-1!==va&&(K=K.slice(0,va));if(ba&
2)for(;K.length<A;)K+=" ";else for(;K.length<A;)K=" "+K;break a}Aa+=E.charAt(f)}case "*":f++;G();ba|=32;A=ja("width");0>A&&(ba|=2,A=-A);continue a;case ".":ba&128&&da.$raise(t(e,"ArgumentError"),"precision given twice");ba|=192;va=0;f++;if("*"===E.charAt(f)){f++;va=ja("precision");0>va&&(ba&=-65);continue a}va=S("precision");continue a;case "d":case "i":case "u":Aa=da.$Integer(y());if(0<=Aa){for(K=Aa.toString();K.length<va;)K="0"+K;if(ba&2){if(ba&4||ba&16)K=(ba&4?"+":" ")+K;for(;K.length<A;)K+=" "}else if(ba&
8&&-1===va){for(;K.length<A-(ba&4||ba&16?1:0);)K="0"+K;if(ba&4||ba&16)K=(ba&4?"+":" ")+K}else{if(ba&4||ba&16)K=(ba&4?"+":" ")+K;for(;K.length<A;)K=" "+K}}else{for(K=(-Aa).toString();K.length<va;)K="0"+K;if(ba&2)for(K="-"+K;K.length<A;)K+=" ";else if(ba&8&&-1===va){for(;K.length<A-1;)K="0"+K;K="-"+K}else for(K="-"+K;K.length<A;)K=" "+K}break a;case "b":case "B":case "o":case "x":case "X":switch(E.charAt(f)){case "b":case "B":var na=2;var T="0b";var sa=/^1+/;var xa="1";break;case "o":na=8;T="0";sa=
/^3?7+/;xa="7";break;case "x":case "X":na=16,T="0x",sa=/^f+/,xa="f"}Aa=da.$Integer(y());if(0<=Aa){for(K=Aa.toString(na);K.length<va;)K="0"+K;if(ba&2){if(ba&4||ba&16)K=(ba&4?"+":" ")+K;for(ba&1&&0!==Aa&&(K=T+K);K.length<A;)K+=" "}else if(ba&8&&-1===va){for(;K.length<A-(ba&4||ba&16?1:0)-(ba&1&&0!==Aa?T.length:0);)K="0"+K;ba&1&&0!==Aa&&(K=T+K);if(ba&4||ba&16)K=(ba&4?"+":" ")+K}else{ba&1&&0!==Aa&&(K=T+K);if(ba&4||ba&16)K=(ba&4?"+":" ")+K;for(;K.length<A;)K=" "+K}}else if(ba&4||ba&16){for(K=(-Aa).toString(na);K.length<
va;)K="0"+K;if(ba&2)for(ba&1&&(K=T+K),K="-"+K;K.length<A;)K+=" ";else if(ba&8&&-1===va){for(;K.length<A-1-(ba&1?2:0);)K="0"+K;ba&1&&(K=T+K);K="-"+K}else for(ba&1&&(K=T+K),K="-"+K;K.length<A;)K=" "+K}else{for(K=(Aa>>>0).toString(na).replace(sa,xa);K.length<va-2;)K=xa+K;if(ba&2)for(K=".."+K,ba&1&&(K=T+K);K.length<A;)K+=" ";else if(ba&8&&-1===va){for(;K.length<A-2-(ba&1?T.length:0);)K=xa+K;K=".."+K;ba&1&&(K=T+K)}else for(K=".."+K,ba&1&&(K=T+K);K.length<A;)K=" "+K}E.charAt(f)===E.charAt(f).toUpperCase()&&
(K=K.toUpperCase());break a;case "f":case "e":case "E":case "g":case "G":Aa=da.$Float(y());if(0<=Aa||isNaN(Aa)){if(Infinity===Aa)K="Inf";else switch(E.charAt(f)){case "f":K=Aa.toFixed(-1===va?6:va);break;case "e":case "E":K=Aa.toExponential(-1===va?6:va);break;case "g":case "G":K=Aa.toExponential(),Ma=parseInt(K.split("e")[1],10),-4>Ma||Ma>=(-1===va?6:va)||(K=Aa.toPrecision(-1===va?ba&1?6:void 0:va))}if(ba&2){if(ba&4||ba&16)K=(ba&4?"+":" ")+K;for(;K.length<A;)K+=" "}else if(ba&8&&Infinity!==Aa&&!isNaN(Aa)){for(;K.length<
A-(ba&4||ba&16?1:0);)K="0"+K;if(ba&4||ba&16)K=(ba&4?"+":" ")+K}else{if(ba&4||ba&16)K=(ba&4?"+":" ")+K;for(;K.length<A;)K=" "+K}}else{if(-Infinity===Aa)K="Inf";else switch(E.charAt(f)){case "f":K=(-Aa).toFixed(-1===va?6:va);break;case "e":case "E":K=(-Aa).toExponential(-1===va?6:va);break;case "g":case "G":K=(-Aa).toExponential(),Ma=parseInt(K.split("e")[1],10),-4>Ma||Ma>=(-1===va?6:va)||(K=(-Aa).toPrecision(-1===va?ba&1?6:void 0:va))}if(ba&2)for(K="-"+K;K.length<A;)K+=" ";else if(ba&8&&-Infinity!==
Aa){for(;K.length<A-1;)K="0"+K;K="-"+K}else for(K="-"+K;K.length<A;)K=" "+K}E.charAt(f)!==E.charAt(f).toUpperCase()||Infinity===Aa||-Infinity===Aa||isNaN(Aa)||(K=K.toUpperCase());K=K.replace(/([eE][-+]?)([0-9])$/,"$10$2");break a;case "a":case "A":da.$raise(t(e,"NotImplementedError"),"`A` and `a` format field types are not implemented in Opal yet");case "c":Aa=y();Aa["$respond_to?"]("to_ary")&&(Aa=Aa.$to_ary()[0]);K=Aa["$respond_to?"]("to_str")?Aa.$to_str():String.fromCharCode(w(Aa,t(e,"Integer"),
"to_int"));1!==K.length&&da.$raise(t(e,"ArgumentError"),"%c requires a character");if(ba&2)for(;K.length<A;)K+=" ";else for(;K.length<A;)K=" "+K;break a;case "p":K=y().$inspect();-1!==va&&(K=K.slice(0,va));if(ba&2)for(;K.length<A;)K+=" ";else for(;K.length<A;)K=" "+K;break a;case "s":K=y().$to_s();-1!==va&&(K=K.slice(0,va));if(ba&2)for(;K.length<A;)K+=" ";else for(;K.length<A;)K=" "+K;break a;default:da.$raise(t(e,"ArgumentError"),"malformed format string - %"+E.charAt(f))}void 0===K&&da.$raise(t(e,
"ArgumentError"),"malformed format string - %");ma+=E.slice(b,wa)+K;b=f+1}m.DEBUG&&0<=H&&F<h.length&&da.$raise(t(e,"ArgumentError"),"too many arguments for format string");return ma+E.slice(b)},l.$$arity=-2);a.alias(u,"sprintf","format")}(x[0],x)};
Opal.modules["corelib/string/encoding"]=function(a){function x(k,N){return"number"===typeof k&&"number"===typeof N?k+N:k["$+"](N)}var I,t,w,z,p,m=a.top,u=[],D=a.nil,e=a.$$$,l=a.$$,E=a.klass,c=a.hash2,n=a.truthy,G=a.send,d=D;a.add_stubs("$require $+ $[] $new $instance_eval $to_proc $each $const_set $sub $== $default_external $upcase $raise $attr_accessor $singleton_class $attr_reader $register $length $bytes $to_a $each_byte $dup $bytesize $enum_for $each_codepoint $coerce_to! $find $< $default_external= $-".split(" "));m.$require("corelib/string");
(function(k,$super,y){k=E(k,$super,"Encoding");var S=[k].concat(y),ja,da,ma,b,h,f,q,A,F;k.$$prototype.ascii=k.$$prototype.dummy=k.$$prototype.name=D;a.defs(k,"$register",ja=function(H,K){var ba=ja.$$p,va=ba||D,Pa,wa=D,Aa=D,Ma=D,na=D,T=D,sa=D,xa=D,Ja=D;ba&&(ja.$$p=null);ba&&(ja.$$p=null);null==K&&(K=c([],{}));wa=x([H],n(Aa=K["$[]"]("aliases"))?Aa:[]);Ma=n(na=K["$[]"]("ascii"))?na:!1;T=n(sa=K["$[]"]("dummy"))?sa:!1;xa=this.$new(H,wa,Ma,T);G(xa,"instance_eval",[],va.$to_proc());Ja=a.encodings;return G(wa,
"each",[],(Pa=function(ka){var M=null==Pa.$$s?this:Pa.$$s;null==ka&&(ka=D);M.$const_set(ka.$sub("-","_"),xa);return Ja[ka]=xa},Pa.$$s=this,Pa.$$arity=1,Pa))},ja.$$arity=-2);a.defs(k,"$find",da=function(H){var K=D;if(H["$=="]("default_external"))return this.$default_external();var ba=a.encodings;ba=n(K=ba[H])?K:ba[H.$upcase()];n(ba)||this.$raise(l(S,"ArgumentError"),"unknown encoding name - "+H);return ba},da.$$arity=1);k.$singleton_class().$attr_accessor("default_external");k.$attr_reader("name",
"names");a.def(k,"$initialize",ma=function(H,K,ba,va){this.name=H;this.names=K;this.ascii=ba;return this.dummy=va},ma.$$arity=4);a.def(k,"$ascii_compatible?",b=function(){return this.ascii},b.$$arity=0);a.def(k,"$dummy?",h=function(){return this.dummy},h.$$arity=0);a.def(k,"$to_s",f=function(){return this.name},f.$$arity=0);a.def(k,"$inspect",q=function(){return"#<Encoding:"+this.name+(n(this.dummy)?" (dummy)":D)+">"},q.$$arity=0);a.def(k,"$each_byte",A=function(H){a.slice.call(arguments,0,arguments.length);
return this.$raise(l(S,"NotImplementedError"))},A.$$arity=-1);a.def(k,"$bytesize",F=function(H){a.slice.call(arguments,0,arguments.length);return this.$raise(l(S,"NotImplementedError"))},F.$$arity=-1);(function(H,$super,ba){[E(H,$super,"EncodingError")].concat(ba);return D})(S[0],l(S,"StandardError"),S);return function(H,$super,ba){[E(H,$super,"CompatibilityError")].concat(ba);return D}(S[0],l(S,"EncodingError"),S)})(u[0],null,u);G(l(u,"Encoding"),"register",["UTF-8",c(["aliases","ascii"],{aliases:["CP65001"],
ascii:!0})],(I=function(){var k=null==I.$$s?this:I.$$s,N,y;a.def(k,"$each_byte",N=function(S){var ja=N.$$p,da=ja||D;ja&&(N.$$p=null);ja&&(N.$$p=null);ja=Infinity;for(var ma,b=S.length,h=null,f=0;f<b;++f){ma=S.charCodeAt(f);if(55295<ma&&57344>ma){if(!h){if(56319<ma){-1<(ja-=3)&&(a.yield1(da,239),a.yield1(da,191),a.yield1(da,189));continue}else if(f+1===b){-1<(ja-=3)&&(a.yield1(da,239),a.yield1(da,191),a.yield1(da,189));continue}h=ma;continue}if(56320>ma){-1<(ja-=3)&&(a.yield1(da,239),a.yield1(da,191),
a.yield1(da,189));h=ma;continue}ma=(h-55296<<10|ma-56320)+65536}else h&&-1<(ja-=3)&&(a.yield1(da,239),a.yield1(da,191),a.yield1(da,189));h=null;if(128>ma){if(0>--ja)break;a.yield1(da,ma)}else if(2048>ma){if(0>(ja-=2))break;a.yield1(da,ma>>6|192);a.yield1(da,ma&63|128)}else if(65536>ma){if(0>(ja-=3))break;a.yield1(da,ma>>12|224);a.yield1(da,ma>>6&63|128);a.yield1(da,ma&63|128)}else if(1114112>ma){if(0>(ja-=4))break;a.yield1(da,ma>>18|240);a.yield1(da,ma>>12&63|128);a.yield1(da,ma>>6&63|128);a.yield1(da,
ma&63|128)}}},N.$$arity=1);return(a.def(k,"$bytesize",y=function(S){return S.$bytes().$length()},y.$$arity=1),D)&&"bytesize"},I.$$s=m,I.$$arity=0,I));G(l(u,"Encoding"),"register",["UTF-16LE"],(t=function(){var k=null==t.$$s?this:t.$$s,N,y;a.def(k,"$each_byte",N=function(S){var ja=N.$$p,da=ja||D;ja&&(N.$$p=null);ja&&(N.$$p=null);ja=0;for(var ma=S.length;ja<ma;ja++){var b=S.charCodeAt(ja);a.yield1(da,b&255);a.yield1(da,b>>8)}},N.$$arity=1);return(a.def(k,"$bytesize",y=function(S){return S.$bytes().$length()},
y.$$arity=1),D)&&"bytesize"},t.$$s=m,t.$$arity=0,t));G(l(u,"Encoding"),"register",["UTF-16BE"],(w=function(){var k=null==w.$$s?this:w.$$s,N,y;a.def(k,"$each_byte",N=function(S){var ja=N.$$p,da=ja||D;ja&&(N.$$p=null);ja&&(N.$$p=null);ja=0;for(var ma=S.length;ja<ma;ja++){var b=S.charCodeAt(ja);a.yield1(da,b>>8);a.yield1(da,b&255)}},N.$$arity=1);return(a.def(k,"$bytesize",y=function(S){return S.$bytes().$length()},y.$$arity=1),D)&&"bytesize"},w.$$s=m,w.$$arity=0,w));G(l(u,"Encoding"),"register",["UTF-32LE"],
(z=function(){var k=null==z.$$s?this:z.$$s,N,y;a.def(k,"$each_byte",N=function(S){var ja=N.$$p,da=ja||D;ja&&(N.$$p=null);ja&&(N.$$p=null);ja=0;for(var ma=S.length;ja<ma;ja++){var b=S.charCodeAt(ja);a.yield1(da,b&255);a.yield1(da,b>>8)}},N.$$arity=1);return(a.def(k,"$bytesize",y=function(S){return S.$bytes().$length()},y.$$arity=1),D)&&"bytesize"},z.$$s=m,z.$$arity=0,z));G(l(u,"Encoding"),"register",["ASCII-8BIT",c(["aliases","ascii","dummy"],{aliases:["BINARY","US-ASCII","ASCII"],ascii:!0,dummy:!0})],
(p=function(){var k=null==p.$$s?this:p.$$s,N,y;a.def(k,"$each_byte",N=function(S){var ja=N.$$p,da=ja||D;ja&&(N.$$p=null);ja&&(N.$$p=null);ja=0;for(var ma=S.length;ja<ma;ja++){var b=S.charCodeAt(ja);a.yield1(da,b&255);a.yield1(da,b>>8)}},N.$$arity=1);return(a.def(k,"$bytesize",y=function(S){return S.$bytes().$length()},y.$$arity=1),D)&&"bytesize"},p.$$s=m,p.$$arity=0,p));(function(k,$super,y){k=E(k,$super,"String");var S=[k].concat(y),ja,da,ma,b,h,f,q,A,F;k.$$prototype.bytes=k.$$prototype.internal_encoding=
D;k.$attr_reader("encoding");k.$attr_reader("internal_encoding");a.defineProperty(String.prototype,"bytes",D);a.defineProperty(String.prototype,"encoding",e(l(S,"Encoding"),"UTF_8"));a.defineProperty(String.prototype,"internal_encoding",e(l(S,"Encoding"),"UTF_8"));a.def(k,"$bytes",ja=function(){var H=D;this.bytes=n(H=this.bytes)?H:this.$each_byte().$to_a();return this.bytes.$dup()},ja.$$arity=0);a.def(k,"$bytesize",da=function(){return this.internal_encoding.$bytesize(this)},da.$$arity=0);a.def(k,
"$each_byte",ma=function(){var H=ma.$$p,K=H||D;H&&(ma.$$p=null);H&&(ma.$$p=null);if(K===D)return this.$enum_for("each_byte");G(this.internal_encoding,"each_byte",[this],K.$to_proc());return this},ma.$$arity=0);a.def(k,"$each_codepoint",b=function(){var H=b.$$p,K=H||D;H&&(b.$$p=null);H&&(b.$$p=null);if(K===D)return this.$enum_for("each_codepoint");H=0;for(var ba=this.length;H<ba;H++)a.yield1(K,this.codePointAt(H));return this},b.$$arity=0);a.def(k,"$codepoints",h=function(){var H=h.$$p,K=H||D;H&&(h.$$p=
null);H&&(h.$$p=null);return K!==D?G(this,"each_codepoint",[],K.$to_proc()):this.$each_codepoint().$to_a()},h.$$arity=0);a.def(k,"$encode",f=function(H){return a.enc(this,H)},f.$$arity=1);a.def(k,"$force_encoding",q=function(H){if(H===this.encoding)return this;H=l(S,"Opal")["$coerce_to!"](H,l(S,"String"),"to_s");H=l(S,"Encoding").$find(H);if(H===this.encoding)return this;a.set_encoding(this,H);return this},q.$$arity=1);a.def(k,"$getbyte",A=function(H){var K=this.$bytes();H=l(S,"Opal")["$coerce_to!"](H,
l(S,"Integer"),"to_int");var ba=K.$length();ba="number"===typeof ba&&"number"===typeof H?ba<H:ba["$<"](H);return n(ba)?D:K["$[]"](H)},A.$$arity=1);return(a.def(k,"$valid_encoding?",F=function(){return!0},F.$$arity=0),D)&&"valid_encoding?"})(u[0],null,u);d=[e(l(u,"Encoding"),"UTF_8")];G(l(u,"Encoding"),"default_external=",a.to_a(d));return d[function(k,N){return"number"===typeof k&&"number"===typeof N?k-N:k["$-"](N)}(d.length,1)]};
Opal.modules["corelib/math"]=function(a){var x=[],I=a.$$$,t=a.$$,w=a.type_error,z=a.module,p=a.truthy;a.add_stubs("$new $raise $Float $Integer $module_function $checked $float! $=== $gamma $- $integer! $/ $infinite?".split(" "));return function(m,u){m=z(m,"Math");var D=[m].concat(u),e,l,E,c,n,G,d,k,N,y,S,ja,da,ma,b,h,f,q,A,F,H,K,ba,va,Pa,wa,Aa,Ma,na;a.const_set(D[0],"E",Math.E);a.const_set(D[0],"PI",Math.PI);a.const_set(D[0],"DomainError",t(D,"Class").$new(t(D,"StandardError")));a.defs(m,"$checked",
e=function(T,sa){var xa=a.slice.call(arguments,1,arguments.length);if(isNaN(xa[0])||2==xa.length&&isNaN(xa[1]))return NaN;xa=Math[T].apply(null,xa);isNaN(xa)&&this.$raise(t(D,"DomainError"),'Numerical argument is out of domain - "'+T+'"');return xa},e.$$arity=-2);a.defs(m,"$float!",l=function(T){try{return this.$Float(T)}catch(sa){if(a.rescue(sa,[t(D,"ArgumentError")]))try{return this.$raise(w(T,t(D,"Float")))}finally{a.pop_exception()}else throw sa;}},l.$$arity=1);a.defs(m,"$integer!",E=function(T){try{return this.$Integer(T)}catch(sa){if(a.rescue(sa,
[t(D,"ArgumentError")]))try{return this.$raise(w(T,t(D,"Integer")))}finally{a.pop_exception()}else throw sa;}},E.$$arity=1);m.$module_function();a.def(m,"$acos",c=function(T){return t(D,"Math").$checked("acos",t(D,"Math")["$float!"](T))},c.$$arity=1);p("undefined"!==typeof Math.acosh)||(Math.acosh=function(T){return Math.log(T+Math.sqrt(T*T-1))});a.def(m,"$acosh",n=function(T){return t(D,"Math").$checked("acosh",t(D,"Math")["$float!"](T))},n.$$arity=1);a.def(m,"$asin",G=function(T){return t(D,"Math").$checked("asin",
t(D,"Math")["$float!"](T))},G.$$arity=1);p("undefined"!==typeof Math.asinh)||(Math.asinh=function(T){return Math.log(T+Math.sqrt(T*T+1))});a.def(m,"$asinh",d=function(T){return t(D,"Math").$checked("asinh",t(D,"Math")["$float!"](T))},d.$$arity=1);a.def(m,"$atan",k=function(T){return t(D,"Math").$checked("atan",t(D,"Math")["$float!"](T))},k.$$arity=1);a.def(m,"$atan2",N=function(T,sa){return t(D,"Math").$checked("atan2",t(D,"Math")["$float!"](T),t(D,"Math")["$float!"](sa))},N.$$arity=2);p("undefined"!==
typeof Math.atanh)||(Math.atanh=function(T){return.5*Math.log((1+T)/(1-T))});a.def(m,"$atanh",y=function(T){return t(D,"Math").$checked("atanh",t(D,"Math")["$float!"](T))},y.$$arity=1);p("undefined"!==typeof Math.cbrt)||(Math.cbrt=function(T){if(0==T)return 0;if(0>T)return-Math.cbrt(-T);for(var sa=T,xa=0;.125>sa;)sa*=8,xa--;for(;1<sa;)sa*=.125,xa++;for(sa=(-.46946116*sa+1.072302)*sa+.3812513;0>xa;)sa*=.5,xa++;for(;0<xa;)sa*=2,xa--;sa=2/3*sa+1/3*T/(sa*sa);sa=2/3*sa+1/3*T/(sa*sa);sa=2/3*sa+1/3*T/(sa*
sa);return 2/3*sa+1/3*T/(sa*sa)});a.def(m,"$cbrt",S=function(T){return t(D,"Math").$checked("cbrt",t(D,"Math")["$float!"](T))},S.$$arity=1);a.def(m,"$cos",ja=function(T){return t(D,"Math").$checked("cos",t(D,"Math")["$float!"](T))},ja.$$arity=1);p("undefined"!==typeof Math.cosh)||(Math.cosh=function(T){return(Math.exp(T)+Math.exp(-T))/2});a.def(m,"$cosh",da=function(T){return t(D,"Math").$checked("cosh",t(D,"Math")["$float!"](T))},da.$$arity=1);p("undefined"!==typeof Math.erf)||a.defineProperty(Math,
"erf",function(T){var sa=1;0>T&&(sa=-1);T=Math.abs(T);var xa=1/(1+.3275911*T);return sa*(1-((((1.061405429*xa+-1.453152027)*xa+1.421413741)*xa+-.284496736)*xa+.254829592)*xa*Math.exp(-T*T))});a.def(m,"$erf",ma=function(T){return t(D,"Math").$checked("erf",t(D,"Math")["$float!"](T))},ma.$$arity=1);p("undefined"!==typeof Math.erfc)||a.defineProperty(Math,"erfc",function(T){var sa=Math.abs(T),xa=1/(.5*sa+1);sa=xa*Math.exp(-sa*sa-1.26551223+xa*(xa*(xa*(xa*(xa*(xa*(xa*(xa*(.17087277*xa+-.82215223)+1.48851587)+
-1.13520398)+.27886807)+-.18628806)+.09678418)+.37409196)+1.00002368));return 0>T?2-sa:sa});a.def(m,"$erfc",b=function(T){return t(D,"Math").$checked("erfc",t(D,"Math")["$float!"](T))},b.$$arity=1);a.def(m,"$exp",h=function(T){return t(D,"Math").$checked("exp",t(D,"Math")["$float!"](T))},h.$$arity=1);a.def(m,"$frexp",f=function(T){T=t(D,"Math")["$float!"](T);if(isNaN(T))return[NaN,0];var sa=Math.floor(Math.log(Math.abs(T))/Math.log(2))+1;return[T/Math.pow(2,sa),sa]},f.$$arity=1);a.def(m,"$gamma",
q=function(T){T=t(D,"Math")["$float!"](T);var sa=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3.399464998481189E-5,4.652362892704858E-5,-9.837447530487956E-5,1.580887032249125E-4,-2.1026444172410488E-4,2.1743961811521265E-4,-1.643181065367639E-4,8.441822398385275E-5,-2.6190838401581408E-5,3.6899182659531625E-6];if(isNaN(T))return NaN;if(0===T&&0>1/T)return-Infinity;-1!==T&&-Infinity!==T||this.$raise(t(D,"DomainError"),'Numerical argument is out of domain - "gamma"');
if(t(D,"Integer")["$==="](T)){if(0>=T)return isFinite(T)?Infinity:NaN;if(171<T)return Infinity;var xa=T-2;for(--T;1<xa;)T*=xa,xa--;0==T&&(T=1);return T}if(.5>T)return Math.PI/(Math.sin(Math.PI*T)*t(D,"Math").$gamma("number"===typeof T?1-T:1["$-"](T)));if(171.35<=T)return Infinity;if(85<T){xa=T*T;var Ja=xa*T;sa=Ja*T;var ka=sa*T;return Math.sqrt(2*Math.PI/T)*Math.pow(T/Math.E,T)*(1+1/(12*T)+1/(288*xa)-139/(51840*Ja)-571/(2488320*sa)+163879/(209018880*ka)+5246819/(75246796800*ka*T))}--T;xa=sa[0];for(Ja=
1;Ja<sa.length;++Ja)xa+=sa[Ja]/(T+Ja);Ja=T+4.7421875+.5;return Math.sqrt(2*Math.PI)*Math.pow(Ja,T+.5)*Math.exp(-Ja)*xa},q.$$arity=1);p("undefined"!==typeof Math.hypot)||(Math.hypot=function(T,sa){return Math.sqrt(T*T+sa*sa)});a.def(m,"$hypot",A=function(T,sa){return t(D,"Math").$checked("hypot",t(D,"Math")["$float!"](T),t(D,"Math")["$float!"](sa))},A.$$arity=2);a.def(m,"$ldexp",F=function(T,sa){T=t(D,"Math")["$float!"](T);sa=t(D,"Math")["$integer!"](sa);isNaN(sa)&&this.$raise(t(D,"RangeError"),"float NaN out of range of integer");
return T*Math.pow(2,sa)},F.$$arity=2);a.def(m,"$lgamma",H=function(T){return-1==T?[Infinity,1]:[Math.log(Math.abs(t(D,"Math").$gamma(T))),0>t(D,"Math").$gamma(T)?-1:1]},H.$$arity=1);a.def(m,"$log",K=function(T,sa){p(t(D,"String")["$==="](T))&&this.$raise(w(T,t(D,"Float")));if(p(null==sa))return t(D,"Math").$checked("log",t(D,"Math")["$float!"](T));p(t(D,"String")["$==="](sa))&&this.$raise(w(sa,t(D,"Float")));T=t(D,"Math").$checked("log",t(D,"Math")["$float!"](T));sa=t(D,"Math").$checked("log",t(D,
"Math")["$float!"](sa));return"number"===typeof T&&"number"===typeof sa?T/sa:T["$/"](sa)},K.$$arity=-2);p("undefined"!==typeof Math.log10)||(Math.log10=function(T){return Math.log(T)/Math.LN10});a.def(m,"$log10",ba=function(T){p(t(D,"String")["$==="](T))&&this.$raise(w(T,t(D,"Float")));return t(D,"Math").$checked("log10",t(D,"Math")["$float!"](T))},ba.$$arity=1);p("undefined"!==typeof Math.log2)||(Math.log2=function(T){return Math.log(T)/Math.LN2});a.def(m,"$log2",va=function(T){p(t(D,"String")["$==="](T))&&
this.$raise(w(T,t(D,"Float")));return t(D,"Math").$checked("log2",t(D,"Math")["$float!"](T))},va.$$arity=1);a.def(m,"$sin",Pa=function(T){return t(D,"Math").$checked("sin",t(D,"Math")["$float!"](T))},Pa.$$arity=1);p("undefined"!==typeof Math.sinh)||(Math.sinh=function(T){return(Math.exp(T)-Math.exp(-T))/2});a.def(m,"$sinh",wa=function(T){return t(D,"Math").$checked("sinh",t(D,"Math")["$float!"](T))},wa.$$arity=1);a.def(m,"$sqrt",Aa=function(T){return t(D,"Math").$checked("sqrt",t(D,"Math")["$float!"](T))},
Aa.$$arity=1);a.def(m,"$tan",Ma=function(T){T=t(D,"Math")["$float!"](T);return p(T["$infinite?"]())?I(t(D,"Float"),"NAN"):t(D,"Math").$checked("tan",t(D,"Math")["$float!"](T))},Ma.$$arity=1);p("undefined"!==typeof Math.tanh)||(Math.tanh=function(T){return Infinity==T?1:-Infinity==T?-1:(Math.exp(T)-Math.exp(-T))/(Math.exp(T)+Math.exp(-T))});a.def(m,"$tanh",na=function(T){return t(D,"Math").$checked("tanh",t(D,"Math")["$float!"](T))},na.$$arity=1)}(x[0],x)};
Opal.modules["corelib/complex"]=function(a){function x(c,n){return"number"===typeof c&&"number"===typeof n?c*n:c["$*"](n)}function I(c,n){return"number"===typeof c&&"number"===typeof n?c+n:c["$+"](n)}function t(c,n){return"number"===typeof c&&"number"===typeof n?c-n:c["$-"](n)}function w(c,n){return"number"===typeof c&&"number"===typeof n?c/n:c["$/"](n)}var z=a.top,p=[],m=a.nil,u=a.$$$,D=a.$$,e=a.klass,l=a.truthy,E=a.module;a.add_stubs("$require $=== $real? $raise $new $* $cos $sin $attr_reader $class $== $real $imag $Complex $-@ $+ $__coerced__ $- $nan? $/ $conj $abs2 $quo $polar $exp $log $> $!= $divmod $** $hypot $atan2 $lcm $denominator $finite? $infinite? $numerator $abs $arg $rationalize $to_f $to_i $to_r $inspect $positive? $zero? $Rational".split(" "));
z.$require("corelib/numeric");(function(c,$super,G){c=e(c,$super,"Complex");var d=[c].concat(G),k,N,y,S,ja,da,ma,b,h,f,q,A,F,H,K,ba,va,Pa,wa,Aa,Ma,na,T,sa,xa,Ja,ka,M,L,fa,oa;c.$$prototype.real=c.$$prototype.imag=m;a.defs(c,"$rect",k=function(ea,ta){var Ea=m,Ha=m,Ra=m;null==ta&&(ta=0);l(l(Ea=l(Ha=l(Ra=D(d,"Numeric")["$==="](ea))?ea["$real?"]():Ra)?D(d,"Numeric")["$==="](ta):Ha)?ta["$real?"]():Ea)||this.$raise(D(d,"TypeError"),"not a real");return this.$new(ea,ta)},k.$$arity=-2);(function(ea,ta){[ea].concat(ta);
return a.alias(ea,"rectangular","rect")})(a.get_singleton_class(c),d);a.defs(c,"$polar",N=function(ea,ta){var Ea=m,Ha=m,Ra=m;null==ta&&(ta=0);l(l(Ea=l(Ha=l(Ra=D(d,"Numeric")["$==="](ea))?ea["$real?"]():Ra)?D(d,"Numeric")["$==="](ta):Ha)?ta["$real?"]():Ea)||this.$raise(D(d,"TypeError"),"not a real");return this.$new(x(ea,D(d,"Math").$cos(ta)),x(ea,D(d,"Math").$sin(ta)))},N.$$arity=-2);c.$attr_reader("real","imag");a.def(c,"$initialize",y=function(ea,ta){null==ta&&(ta=0);this.real=ea;return this.imag=
ta},y.$$arity=-2);a.def(c,"$coerce",S=function(ea){var ta=m;return l(D(d,"Complex")["$==="](ea))?[ea,this]:l(l(ta=D(d,"Numeric")["$==="](ea))?ea["$real?"]():ta)?[D(d,"Complex").$new(ea,0),this]:this.$raise(D(d,"TypeError"),""+ea.$class()+" can't be coerced into Complex")},S.$$arity=1);a.def(c,"$==",ja=function(ea){var ta=m,Ea=m,Ha=m;return l(D(d,"Complex")["$==="](ea))?l(ta=this.real["$=="](ea.$real()))?this.imag["$=="](ea.$imag()):ta:l(l(Ea=D(d,"Numeric")["$==="](ea))?ea["$real?"]():Ea)?l(Ha=this.real["$=="](ea))?
this.imag["$=="](0):Ha:ea["$=="](this)},ja.$$arity=1);a.def(c,"$-@",da=function(){return this.$Complex(this.real["$-@"](),this.imag["$-@"]())},da.$$arity=0);a.def(c,"$+",ma=function(ea){var ta=m;return l(D(d,"Complex")["$==="](ea))?this.$Complex(I(this.real,ea.$real()),I(this.imag,ea.$imag())):l(l(ta=D(d,"Numeric")["$==="](ea))?ea["$real?"]():ta)?this.$Complex(I(this.real,ea),this.imag):this.$__coerced__("+",ea)},ma.$$arity=1);a.def(c,"$-",b=function(ea){var ta=m;return l(D(d,"Complex")["$==="](ea))?
this.$Complex(t(this.real,ea.$real()),t(this.imag,ea.$imag())):l(l(ta=D(d,"Numeric")["$==="](ea))?ea["$real?"]():ta)?this.$Complex(t(this.real,ea),this.imag):this.$__coerced__("-",ea)},b.$$arity=1);a.def(c,"$*",h=function(ea){var ta=m;return l(D(d,"Complex")["$==="](ea))?this.$Complex(t(x(this.real,ea.$real()),x(this.imag,ea.$imag())),I(x(this.real,ea.$imag()),x(this.imag,ea.$real()))):l(l(ta=D(d,"Numeric")["$==="](ea))?ea["$real?"]():ta)?this.$Complex(x(this.real,ea),x(this.imag,ea)):this.$__coerced__("*",
ea)},h.$$arity=1);a.def(c,"$/",f=function(ea){var ta=m,Ea=m,Ha=m,Ra=m,Sa=m,Ka=m,eb=m,kb=m;return l(D(d,"Complex")["$==="](ea))?l(l(ta=l(Ea=l(Ha=l(Ra=D(d,"Number")["$==="](this.real))?this.real["$nan?"]():Ra)?Ha:l(Sa=D(d,"Number")["$==="](this.imag))?this.imag["$nan?"]():Sa)?Ea:l(Ka=D(d,"Number")["$==="](ea.$real()))?ea.$real()["$nan?"]():Ka)?ta:l(eb=D(d,"Number")["$==="](ea.$imag()))?ea.$imag()["$nan?"]():eb)?D(d,"Complex").$new(u(D(d,"Float"),"NAN"),u(D(d,"Float"),"NAN")):w(x(this,ea.$conj()),ea.$abs2()):
l(l(kb=D(d,"Numeric")["$==="](ea))?ea["$real?"]():kb)?this.$Complex(this.real.$quo(ea),this.imag.$quo(ea)):this.$__coerced__("/",ea)},f.$$arity=1);a.def(c,"$**",q=function(ea){var ta=m;if(ea["$=="](0))return D(d,"Complex").$new(1,0);if(l(D(d,"Complex")["$==="](ea))){ta=this.$polar();var Ea=a.to_ary(ta);var Ha=null==Ea[0]?m:Ea[0];Ea=null==Ea[1]?m:Ea[1];ta;ta=ea.$real();var Ra=ea.$imag();ea=D(d,"Math").$exp(t(x(ta,D(d,"Math").$log(Ha)),x(Ra,Ea)));ta=I(x(Ea,ta),x(Ra,D(d,"Math").$log(Ha)));return D(d,
"Complex").$polar(ea,ta)}if(l(D(d,"Integer")["$==="](ea))){if(l("number"===typeof ea?0<ea:ea["$>"](0))){Ea=Ha=this;for(Ra=t(ea,1);l(Ra["$!="](0));){ea=Ra.$divmod(2);ta=a.to_ary(ea);var Sa=null==ta[0]?m:ta[0];var Ka=null==ta[1]?m:ta[1];for(ea;Ka["$=="](0);)Ha=this.$Complex(t(x(Ha.$real(),Ha.$real()),x(Ha.$imag(),Ha.$imag())),x(x(2,Ha.$real()),Ha.$imag())),Ra=Sa,ta=Ra.$divmod(2),ea=a.to_ary(ta),Sa=null==ea[0]?m:ea[0],Ka=null==ea[1]?m:ea[1],ta;Ea=x(Ea,Ha);Ra=t(Ra,1)}return Ea}return w(D(d,"Rational").$new(1,
1),this)["$**"](ea["$-@"]())}return l(l(ta=D(d,"Float")["$==="](ea))?ta:D(d,"Rational")["$==="](ea))?(ta=this.$polar(),Ea=a.to_ary(ta),Ha=null==Ea[0]?m:Ea[0],Ea=null==Ea[1]?m:Ea[1],ta,D(d,"Complex").$polar(Ha["$**"](ea),x(Ea,ea))):this.$__coerced__("**",ea)},q.$$arity=1);a.def(c,"$abs",A=function(){return D(d,"Math").$hypot(this.real,this.imag)},A.$$arity=0);a.def(c,"$abs2",F=function(){return I(x(this.real,this.real),x(this.imag,this.imag))},F.$$arity=0);a.def(c,"$angle",H=function(){return D(d,
"Math").$atan2(this.imag,this.real)},H.$$arity=0);a.alias(c,"arg","angle");a.def(c,"$conj",K=function(){return this.$Complex(this.real,this.imag["$-@"]())},K.$$arity=0);a.alias(c,"conjugate","conj");a.def(c,"$denominator",ba=function(){return this.real.$denominator().$lcm(this.imag.$denominator())},ba.$$arity=0);a.alias(c,"divide","/");a.def(c,"$eql?",va=function(ea){var ta=m,Ea=m;return l(ta=l(Ea=D(d,"Complex")["$==="](ea))?this.real.$class()["$=="](this.imag.$class()):Ea)?this["$=="](ea):ta},va.$$arity=
1);a.def(c,"$fdiv",Pa=function(ea){l(D(d,"Numeric")["$==="](ea))||this.$raise(D(d,"TypeError"),""+ea.$class()+" can't be coerced into Complex");return w(this,ea)},Pa.$$arity=1);a.def(c,"$finite?",wa=function(){var ea;return l(ea=this.real["$finite?"]())?this.imag["$finite?"]():ea},wa.$$arity=0);a.def(c,"$hash",Aa=function(){return"Complex:"+this.real+":"+this.imag},Aa.$$arity=0);a.alias(c,"imaginary","imag");a.def(c,"$infinite?",Ma=function(){var ea;return l(ea=this.real["$infinite?"]())?ea:this.imag["$infinite?"]()},
Ma.$$arity=0);a.def(c,"$inspect",na=function(){return"("+this+")"},na.$$arity=0);a.alias(c,"magnitude","abs");a.udef(c,"$negative?");a.def(c,"$numerator",T=function(){var ea=this.$denominator();return this.$Complex(x(this.real.$numerator(),w(ea,this.real.$denominator())),x(this.imag.$numerator(),w(ea,this.imag.$denominator())))},T.$$arity=0);a.alias(c,"phase","arg");a.def(c,"$polar",sa=function(){return[this.$abs(),this.$arg()]},sa.$$arity=0);a.udef(c,"$positive?");a.alias(c,"quo","/");a.def(c,"$rationalize",
xa=function(ea){1<arguments.length&&this.$raise(D(d,"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)");l(this.imag["$!="](0))&&this.$raise(D(d,"RangeError"),"can't' convert "+this+" into Rational");return this.$real().$rationalize(ea)},xa.$$arity=-1);a.def(c,"$real?",Ja=function(){return!1},Ja.$$arity=0);a.def(c,"$rect",ka=function(){return[this.real,this.imag]},ka.$$arity=0);a.alias(c,"rectangular","rect");a.def(c,"$to_f",M=function(){this.imag["$=="](0)||this.$raise(D(d,
"RangeError"),"can't convert "+this+" into Float");return this.real.$to_f()},M.$$arity=0);a.def(c,"$to_i",L=function(){this.imag["$=="](0)||this.$raise(D(d,"RangeError"),"can't convert "+this+" into Integer");return this.real.$to_i()},L.$$arity=0);a.def(c,"$to_r",fa=function(){this.imag["$=="](0)||this.$raise(D(d,"RangeError"),"can't convert "+this+" into Rational");return this.real.$to_r()},fa.$$arity=0);a.def(c,"$to_s",oa=function(){var ea=m,ta=m,Ea=m,Ha=m,Ra=m;var Sa=this.real.$inspect();Sa=I(Sa,
l(l(ea=l(ta=l(Ea=D(d,"Number")["$==="](this.imag))?this.imag["$nan?"]():Ea)?ta:this.imag["$positive?"]())?ea:this.imag["$zero?"]())?"+":"-");Sa=I(Sa,this.imag.$abs().$inspect());l(l(Ha=D(d,"Number")["$==="](this.imag))?l(Ra=this.imag["$nan?"]())?Ra:this.imag["$infinite?"]():Ha)&&(Sa=I(Sa,"*"));return I(Sa,"i")},oa.$$arity=0);return a.const_set(d[0],"I",c.$new(0,1))})(p[0],D(p,"Numeric"),p);(function(c,n){c=E(c,"Kernel");var G=[c].concat(n),d;a.def(c,"$Complex",d=function(k,N){null==N&&(N=m);return l(N)?
D(G,"Complex").$new(k,N):D(G,"Complex").$new(k,0)},d.$$arity=-2)})(p[0],p);return function(c,$super,G){c=e(c,$super,"String");[c].concat(G);var d;return(a.def(c,"$to_c",d=function(){function k(){var b=S.match(ja)[0];S=S.slice(b.length);return b.replace(/_/g,"")}function N(){if(ja.test(S)){var b=parseFloat(k());if("/"===S[0]){S=S.slice(1);if(ja.test(S)){var h=parseFloat(k());return y.$Rational(b,h)}S="/"+S}return b}return null}var y=this,S=y,ja=/[+-]?[\d_]+(\.[\d_]+)?(e\d+)?/;S.match(ja);var da;var ma=
N();return ma?(da=N())?y.$Complex(ma,da):"i"===S[0]?y.$Complex(0,ma):y.$Complex(ma,0):"i"===S[0]?y.$Complex(0,1):"-"===S[0]&&"i"===S[1]?y.$Complex(0,-1):"+"===S[0]&&"i"===S[1]?y.$Complex(0,1):y.$Complex(0,0)},d.$$arity=0),m)&&"to_c"}(p[0],null,p)};
Opal.modules["corelib/rational"]=function(a){function x(n,G){return"number"===typeof n&&"number"===typeof G?n<G:n["$<"](G)}function I(n,G){return"number"===typeof n&&"number"===typeof G?n/G:n["$/"](G)}function t(n,G){return"number"===typeof n&&"number"===typeof G?n-G:n["$-"](G)}function w(n,G){return"number"===typeof n&&"number"===typeof G?n*G:n["$*"](G)}function z(n,G){return"number"===typeof n&&"number"===typeof G?n+G:n["$+"](G)}var p=a.top,m=[],u=a.nil,D=a.$$$,e=a.$$,l=a.klass,E=a.truthy,c=a.module;
a.add_stubs("$require $to_i $== $raise $< $-@ $new $gcd $/ $nil? $=== $reduce $to_r $equal? $! $coerce_to! $to_f $numerator $denominator $<=> $- $* $__coerced__ $+ $Rational $> $** $abs $ceil $with_precision $floor $<= $truncate $send $convert".split(" "));p.$require("corelib/numeric");(function(n,$super,d){n=l(n,$super,"Rational");var k=[n].concat(d),N,y,S,ja,da,ma,b,h,f,q,A,F,H,K,ba,va,Pa,wa,Aa,Ma,na,T,sa,xa,Ja,ka;n.$$prototype.num=n.$$prototype.den=u;a.defs(n,"$reduce",N=function(M,L){M=M.$to_i();
L=L.$to_i();if(L["$=="](0))this.$raise(e(k,"ZeroDivisionError"),"divided by 0");else if(E(x(L,0)))M=M["$-@"](),L=L["$-@"]();else if(L["$=="](1))return this.$new(M,L);var fa=M.$gcd(L);return this.$new(I(M,fa),I(L,fa))},N.$$arity=2);a.defs(n,"$convert",y=function(M,L){var fa=u,oa=u,ea=u,ta=u,Ea=u,Ha=u,Ra=u,Sa=u;E(E(fa=M["$nil?"]())?fa:L["$nil?"]())&&this.$raise(e(k,"TypeError"),"cannot convert nil into Rational");if(E(E(oa=e(k,"Integer")["$==="](M))?e(k,"Integer")["$==="](L):oa))return this.$reduce(M,
L);E(E(ea=E(ta=e(k,"Float")["$==="](M))?ta:e(k,"String")["$==="](M))?ea:e(k,"Complex")["$==="](M))&&(M=M.$to_r());E(E(Ea=E(Ha=e(k,"Float")["$==="](L))?Ha:e(k,"String")["$==="](L))?Ea:e(k,"Complex")["$==="](L))&&(L=L.$to_r());return E(E(Ra=L["$equal?"](1))?e(k,"Integer")["$==="](M)["$!"]():Ra)?e(k,"Opal")["$coerce_to!"](M,e(k,"Rational"),"to_r"):E(E(Sa=e(k,"Numeric")["$==="](M))?e(k,"Numeric")["$==="](L):Sa)?I(M,L):this.$reduce(M,L)},y.$$arity=2);a.def(n,"$initialize",S=function(M,L){this.num=M;return this.den=
L},S.$$arity=2);a.def(n,"$numerator",ja=function(){return this.num},ja.$$arity=0);a.def(n,"$denominator",da=function(){return this.den},da.$$arity=0);a.def(n,"$coerce",ma=function(M){return e(k,"Rational")["$==="](M)?[M,this]:e(k,"Integer")["$==="](M)?[M.$to_r(),this]:e(k,"Float")["$==="](M)?[M,this.$to_f()]:u},ma.$$arity=1);a.def(n,"$==",b=function(M){var L=u,fa=u;return e(k,"Rational")["$==="](M)?E(L=this.num["$=="](M.$numerator()))?this.den["$=="](M.$denominator()):L:e(k,"Integer")["$==="](M)?
E(fa=this.num["$=="](M))?this.den["$=="](1):fa:e(k,"Float")["$==="](M)?this.$to_f()["$=="](M):M["$=="](this)},b.$$arity=1);a.def(n,"$<=>",h=function(M){return e(k,"Rational")["$==="](M)?t(w(this.num,M.$denominator()),w(this.den,M.$numerator()))["$<=>"](0):e(k,"Integer")["$==="](M)?t(this.num,w(this.den,M))["$<=>"](0):e(k,"Float")["$==="](M)?this.$to_f()["$<=>"](M):this.$__coerced__("<=>",M)},h.$$arity=1);a.def(n,"$+",f=function(M){if(e(k,"Rational")["$==="](M)){var L=z(w(this.num,M.$denominator()),
w(this.den,M.$numerator()));M=w(this.den,M.$denominator());L=this.$Rational(L,M)}else L=e(k,"Integer")["$==="](M)?this.$Rational(z(this.num,w(M,this.den)),this.den):e(k,"Float")["$==="](M)?z(this.$to_f(),M):this.$__coerced__("+",M);return L},f.$$arity=1);a.def(n,"$-",q=function(M){if(e(k,"Rational")["$==="](M)){var L=t(w(this.num,M.$denominator()),w(this.den,M.$numerator()));M=w(this.den,M.$denominator());L=this.$Rational(L,M)}else L=e(k,"Integer")["$==="](M)?this.$Rational(t(this.num,w(M,this.den)),
this.den):e(k,"Float")["$==="](M)?t(this.$to_f(),M):this.$__coerced__("-",M);return L},q.$$arity=1);a.def(n,"$*",A=function(M){if(e(k,"Rational")["$==="](M)){var L=w(this.num,M.$numerator());M=w(this.den,M.$denominator());L=this.$Rational(L,M)}else L=e(k,"Integer")["$==="](M)?this.$Rational(w(this.num,M),this.den):e(k,"Float")["$==="](M)?w(this.$to_f(),M):this.$__coerced__("*",M);return L},A.$$arity=1);a.def(n,"$/",F=function(M){if(e(k,"Rational")["$==="](M)){var L=w(this.num,M.$denominator());M=
w(this.den,M.$numerator());L=this.$Rational(L,M)}else L=e(k,"Integer")["$==="](M)?M["$=="](0)?I(this.$to_f(),0):this.$Rational(this.num,w(this.den,M)):e(k,"Float")["$==="](M)?I(this.$to_f(),M):this.$__coerced__("/",M);return L},F.$$arity=1);a.def(n,"$**",H=function(M){var L=u,fa=u;return e(k,"Integer")["$==="](M)?E(E(L=this["$=="](0))?x(M,0):L)?D(e(k,"Float"),"INFINITY"):E("number"===typeof M?0<M:M["$>"](0))?this.$Rational(this.num["$**"](M),this.den["$**"](M)):E(x(M,0))?this.$Rational(this.den["$**"](M["$-@"]()),
this.num["$**"](M["$-@"]())):this.$Rational(1,1):e(k,"Float")["$==="](M)?this.$to_f()["$**"](M):e(k,"Rational")["$==="](M)?M["$=="](0)?this.$Rational(1,1):M.$denominator()["$=="](1)?E(x(M,0))?this.$Rational(this.den["$**"](M.$numerator().$abs()),this.num["$**"](M.$numerator().$abs())):this.$Rational(this.num["$**"](M.$numerator()),this.den["$**"](M.$numerator())):E(E(fa=this["$=="](0))?x(M,0):fa)?this.$raise(e(k,"ZeroDivisionError"),"divided by 0"):this.$to_f()["$**"](M):this.$__coerced__("**",M)},
H.$$arity=1);a.def(n,"$abs",K=function(){return this.$Rational(this.num.$abs(),this.den.$abs())},K.$$arity=0);a.def(n,"$ceil",ba=function(M){null==M&&(M=0);return M["$=="](0)?I(this.num["$-@"](),this.den)["$-@"]().$ceil():this.$with_precision("ceil",M)},ba.$$arity=-1);a.alias(n,"divide","/");a.def(n,"$floor",va=function(M){null==M&&(M=0);return M["$=="](0)?I(this.num["$-@"](),this.den)["$-@"]().$floor():this.$with_precision("floor",M)},va.$$arity=-1);a.def(n,"$hash",Pa=function(){return"Rational:"+
this.num+":"+this.den},Pa.$$arity=0);a.def(n,"$inspect",wa=function(){return"("+this+")"},wa.$$arity=0);a.alias(n,"quo","/");a.def(n,"$rationalize",Aa=function(M){1<arguments.length&&this.$raise(e(k,"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)");if(null==M)return this;var L=M.$abs(),fa=t(this,L);L=z(this,L);for(var oa=0,ea=1,ta=1,Ea=0,Ha,Ra,Sa;;){Ha=fa.$ceil();if("number"===typeof Ha&&"number"===typeof L?Ha<=L:Ha["$<="](L))break;Sa=Ha-1;Ha=Sa*ea+oa;Ra=Sa*Ea+ta;oa=I(1,
t(L,Sa));L=I(1,t(fa,Sa));fa=oa;oa=ea;ta=Ea;ea=Ha;Ea=Ra}return this.$Rational(Ha*ea+oa,Ha*Ea+ta)},Aa.$$arity=-1);a.def(n,"$round",Ma=function(M){null==M&&(M=0);if(!M["$=="](0))return this.$with_precision("round",M);if(this.num["$=="](0))return 0;if(this.den["$=="](1))return this.num;M=z(w(this.num.$abs(),2),this.den);var L=w(this.den,2);M=I(M,L).$truncate();return E(x(this.num,0))?M["$-@"]():M},Ma.$$arity=-1);a.def(n,"$to_f",na=function(){return I(this.num,this.den)},na.$$arity=0);a.def(n,"$to_i",
T=function(){return this.$truncate()},T.$$arity=0);a.def(n,"$to_r",sa=function(){return this},sa.$$arity=0);a.def(n,"$to_s",xa=function(){return""+this.num+"/"+this.den},xa.$$arity=0);a.def(n,"$truncate",Ja=function(M){null==M&&(M=0);return M["$=="](0)?E(x(this.num,0))?this.$ceil():this.$floor():this.$with_precision("truncate",M)},Ja.$$arity=-1);return(a.def(n,"$with_precision",ka=function(M,L){E(e(k,"Integer")["$==="](L))||this.$raise(e(k,"TypeError"),"not an Integer");var fa=10["$**"](L);var oa=
w(this,fa);return E(x(L,1))?I(oa.$send(M),fa).$to_i():this.$Rational(oa.$send(M),fa)},ka.$$arity=2),u)&&"with_precision"})(m[0],e(m,"Numeric"),m);(function(n,G){n=c(n,"Kernel");var d=[n].concat(G),k;a.def(n,"$Rational",k=function(N,y){null==y&&(y=1);return e(d,"Rational").$convert(N,y)},k.$$arity=-2)})(m[0],m);return function(n,$super,d){n=l(n,$super,"String");[n].concat(d);var k;return(a.def(n,"$to_r",k=function(){function N(){var ma=y.match(S)[0];y=y.slice(ma.length);return ma.replace(/_/g,"")}
var y=this.trimLeft(),S=/^[+-]?[\d_]+(\.[\d_]+)?/;y.match(S);if(S.test(y)){var ja=parseFloat(N());if("/"===y[0]&&(y=y.slice(1),S.test(y))){var da=parseFloat(N());return this.$Rational(ja,da)}return this.$Rational(ja,1)}return this.$Rational(0,1)},k.$$arity=0),u)&&"to_r"}(m[0],null,m)};
Opal.modules["corelib/time"]=function(a){function x(c,n){return"number"===typeof c&&"number"===typeof n?c+n:c["$+"](n)}function I(c,n){return"number"===typeof c&&"number"===typeof n?c/n:c["$/"](n)}function t(c,n){return"number"===typeof c&&"number"===typeof n?c-n:c["$-"](n)}function w(c,n){return"number"===typeof c&&"number"===typeof n?c<=n:c["$<="](n)}var z=a.top,p=[],m=a.nil,u=a.$$,D=a.slice,e=a.klass,l=a.truthy,E=a.range;a.add_stubs("$require $include $=== $raise $coerce_to! $respond_to? $to_str $to_i $new $<=> $to_f $nil? $> $< $strftime $year $month $day $+ $round $/ $- $copy_instance_variables $initialize_dup $is_a? $zero? $wday $utc? $mon $yday $hour $min $sec $rjust $ljust $zone $to_s $[] $cweek_cyear $isdst $<= $!= $== $ceil".split(" "));
z.$require("corelib/comparable");return function(c,$super,G){function d(za,ua,Na,Ta,Za,Fa){za=za.$$is_string?parseInt(za,10):u(N,"Opal")["$coerce_to!"](za,u(N,"Integer"),"to_int");if(ua===m)ua=1;else if(!ua.$$is_number)if(ua["$respond_to?"]("to_str"))switch(ua=ua.$to_str(),ua.toLowerCase()){case "jan":ua=1;break;case "feb":ua=2;break;case "mar":ua=3;break;case "apr":ua=4;break;case "may":ua=5;break;case "jun":ua=6;break;case "jul":ua=7;break;case "aug":ua=8;break;case "sep":ua=9;break;case "oct":ua=
10;break;case "nov":ua=11;break;case "dec":ua=12;break;default:ua=ua.$to_i()}else ua=u(N,"Opal")["$coerce_to!"](ua,u(N,"Integer"),"to_int");(1>ua||12<ua)&&k.$raise(u(N,"ArgumentError"),"month out of range: "+ua);--ua;Na=Na===m?1:Na.$$is_string?parseInt(Na,10):u(N,"Opal")["$coerce_to!"](Na,u(N,"Integer"),"to_int");(1>Na||31<Na)&&k.$raise(u(N,"ArgumentError"),"day out of range: "+Na);Ta=Ta===m?0:Ta.$$is_string?parseInt(Ta,10):u(N,"Opal")["$coerce_to!"](Ta,u(N,"Integer"),"to_int");(0>Ta||24<Ta)&&k.$raise(u(N,
"ArgumentError"),"hour out of range: "+Ta);Za=Za===m?0:Za.$$is_string?parseInt(Za,10):u(N,"Opal")["$coerce_to!"](Za,u(N,"Integer"),"to_int");(0>Za||59<Za)&&k.$raise(u(N,"ArgumentError"),"min out of range: "+Za);Fa===m?Fa=0:Fa.$$is_number||(Fa=Fa.$$is_string?parseInt(Fa,10):u(N,"Opal")["$coerce_to!"](Fa,u(N,"Integer"),"to_int"));(0>Fa||60<Fa)&&k.$raise(u(N,"ArgumentError"),"sec out of range: "+Fa);return[za,ua,Na,Ta,Za,Fa]}var k=e(c,$super,"Time"),N=[k].concat(G),y,S,ja,da,ma,b,h,f,q,A,F,H,K,ba,va,
Pa,wa,Aa,Ma,na,T,sa,xa,Ja,ka,M,L,fa,oa,ea,ta,Ea,Ha,Ra,Sa,Ka,eb,kb,W,ya,Ba,Va;k.$include(u(N,"Comparable"));var bb="Sunday Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "),db="Sun Mon Tue Wed Thu Fri Sat".split(" "),Ca="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),Wa="January February March April May June July August September October November December".split(" ");a.defs(k,"$at",y=function(za,ua){if(u(N,"Time")["$==="](za))return void 0!==ua&&this.$raise(u(N,"TypeError"),
"can't convert Time into an exact number"),ua=new Date(za.getTime()),ua.is_utc=za.is_utc,ua;za.$$is_number||(za=u(N,"Opal")["$coerce_to!"](za,u(N,"Integer"),"to_int"));if(void 0===ua)return new Date(1E3*za);ua.$$is_number||(ua=u(N,"Opal")["$coerce_to!"](ua,u(N,"Integer"),"to_int"));return new Date(1E3*za+ua/1E3)},y.$$arity=-2);a.defs(k,"$new",S=function(za,ua,Na,Ta,Za,Fa,Y){null==ua&&(ua=m);null==Na&&(Na=m);null==Ta&&(Ta=m);null==Za&&(Za=m);null==Fa&&(Fa=m);null==Y&&(Y=m);if(void 0===za)return new Date;
Y!==m&&this.$raise(u(N,"ArgumentError"),"Opal does not support explicitly specifying UTC offset for Time");Fa=d(za,ua,Na,Ta,Za,Fa);za=Fa[0];ua=Fa[1];Na=Fa[2];Ta=Fa[3];Za=Fa[4];Fa=Fa[5];ua=new Date(za,ua,Na,Ta,Za,0,1E3*Fa);100>za&&ua.setFullYear(za);return ua},S.$$arity=-1);a.defs(k,"$local",ja=function(za,ua,Na,Ta,Za,Fa,Y,R,Z,U){null==ua&&(ua=m);null==Na&&(Na=m);null==Ta&&(Ta=m);null==Za&&(Za=m);null==Fa&&(Fa=m);null==Y&&(Y=m);null==R&&(R=m);null==Z&&(Z=m);null==U&&(U=m);if(10===arguments.length){var ha=
D.call(arguments);za=ha[5];ua=ha[4];Na=ha[3];Ta=ha[2];Za=ha[1];Fa=ha[0]}ha=d(za,ua,Na,Ta,Za,Fa);za=ha[0];ua=ha[1];Na=ha[2];Ta=ha[3];Za=ha[4];Fa=ha[5];ha=new Date(za,ua,Na,Ta,Za,0,1E3*Fa);100>za&&ha.setFullYear(za);return ha},ja.$$arity=-2);a.defs(k,"$gm",da=function(za,ua,Na,Ta,Za,Fa,Y,R,Z,U){null==ua&&(ua=m);null==Na&&(Na=m);null==Ta&&(Ta=m);null==Za&&(Za=m);null==Fa&&(Fa=m);null==Y&&(Y=m);null==R&&(R=m);null==Z&&(Z=m);null==U&&(U=m);if(10===arguments.length){var ha=D.call(arguments);za=ha[5];ua=
ha[4];Na=ha[3];Ta=ha[2];Za=ha[1];Fa=ha[0]}ha=d(za,ua,Na,Ta,Za,Fa);za=ha[0];ua=ha[1];Na=ha[2];Ta=ha[3];Za=ha[4];Fa=ha[5];ha=new Date(Date.UTC(za,ua,Na,Ta,Za,0,1E3*Fa));100>za&&ha.setUTCFullYear(za);ha.is_utc=!0;return ha},da.$$arity=-2);(function(za,ua){[za].concat(ua);a.alias(za,"mktime","local");return a.alias(za,"utc","gm")})(a.get_singleton_class(k),N);a.defs(k,"$now",ma=function(){return this.$new()},ma.$$arity=0);a.def(k,"$+",b=function(za){l(u(N,"Time")["$==="](za))&&this.$raise(u(N,"TypeError"),
"time + time?");za.$$is_number||(za=u(N,"Opal")["$coerce_to!"](za,u(N,"Integer"),"to_int"));za=new Date(this.getTime()+1E3*za);za.is_utc=this.is_utc;return za},b.$$arity=1);a.def(k,"$-",h=function(za){if(l(u(N,"Time")["$==="](za)))return(this.getTime()-za.getTime())/1E3;za.$$is_number||(za=u(N,"Opal")["$coerce_to!"](za,u(N,"Integer"),"to_int"));za=new Date(this.getTime()-1E3*za);za.is_utc=this.is_utc;return za},h.$$arity=1);a.def(k,"$<=>",f=function(za){if(l(u(N,"Time")["$==="](za)))return this.$to_f()["$<=>"](za.$to_f());
za=za["$<=>"](this);return l(za["$nil?"]())?m:l("number"===typeof za?0<za:za["$>"](0))?-1:l("number"===typeof za?0>za:za["$<"](0))?1:0},f.$$arity=1);a.def(k,"$==",q=function(za){var ua;return l(ua=u(N,"Time")["$==="](za))?this.$to_f()===za.$to_f():ua},q.$$arity=1);a.def(k,"$asctime",A=function(){return this.$strftime("%a %b %e %H:%M:%S %Y")},A.$$arity=0);a.alias(k,"ctime","asctime");a.def(k,"$day",F=function(){return this.is_utc?this.getUTCDate():this.getDate()},F.$$arity=0);a.def(k,"$yday",H=function(){var za=
u(N,"Time").$new(this.$year()).$to_i();var ua=u(N,"Time").$new(this.$year(),this.$month(),this.$day()).$to_i();return x(I(t(ua,za),86400).$round(),1)},H.$$arity=0);a.def(k,"$isdst",K=function(){var za=new Date(this.getFullYear(),0,1),ua=new Date(this.getFullYear(),6,1);return this.getTimezoneOffset()<Math.max(za.getTimezoneOffset(),ua.getTimezoneOffset())},K.$$arity=0);a.alias(k,"dst?","isdst");a.def(k,"$dup",ba=function(){var za=new Date(this.getTime());za.$copy_instance_variables(this);za.$initialize_dup(this);
return za},ba.$$arity=0);a.def(k,"$eql?",va=function(za){var ua;return l(ua=za["$is_a?"](u(N,"Time")))?this["$<=>"](za)["$zero?"]():ua},va.$$arity=1);a.def(k,"$friday?",Pa=function(){return 5==this.$wday()},Pa.$$arity=0);a.def(k,"$hash",wa=function(){return"Time:"+this.getTime()},wa.$$arity=0);a.def(k,"$hour",Aa=function(){return this.is_utc?this.getUTCHours():this.getHours()},Aa.$$arity=0);a.def(k,"$inspect",Ma=function(){return l(this["$utc?"]())?this.$strftime("%Y-%m-%d %H:%M:%S UTC"):this.$strftime("%Y-%m-%d %H:%M:%S %z")},
Ma.$$arity=0);a.alias(k,"mday","day");a.def(k,"$min",na=function(){return this.is_utc?this.getUTCMinutes():this.getMinutes()},na.$$arity=0);a.def(k,"$mon",T=function(){return(this.is_utc?this.getUTCMonth():this.getMonth())+1},T.$$arity=0);a.def(k,"$monday?",sa=function(){return 1==this.$wday()},sa.$$arity=0);a.alias(k,"month","mon");a.def(k,"$saturday?",xa=function(){return 6==this.$wday()},xa.$$arity=0);a.def(k,"$sec",Ja=function(){return this.is_utc?this.getUTCSeconds():this.getSeconds()},Ja.$$arity=
0);a.def(k,"$succ",ka=function(){var za=new Date(this.getTime()+1E3);za.is_utc=this.is_utc;return za},ka.$$arity=0);a.def(k,"$usec",M=function(){return 1E3*this.getMilliseconds()},M.$$arity=0);a.def(k,"$zone",L=function(){var za=this.toString();var ua=-1==za.indexOf("(")?za.match(/[A-Z]{3,4}/)[0]:za.match(/\((.+)\)(?:\s|$)/)[1];return"GMT"==ua&&/(GMT\W*\d{4})/.test(za)?RegExp.$1:ua},L.$$arity=0);a.def(k,"$getgm",fa=function(){var za=new Date(this.getTime());za.is_utc=!0;return za},fa.$$arity=0);a.alias(k,
"getutc","getgm");a.def(k,"$gmtime",oa=function(){this.is_utc=!0;return this},oa.$$arity=0);a.alias(k,"utc","gmtime");a.def(k,"$gmt?",ea=function(){return!0===this.is_utc},ea.$$arity=0);a.def(k,"$gmt_offset",ta=function(){return this.is_utc?0:60*-this.getTimezoneOffset()},ta.$$arity=0);a.def(k,"$strftime",Ea=function(za){var ua=this;return za.replace(/%([\-_#^0]*:{0,2})(\d+)?([EO]*)(.)/g,function(Na,Ta,Za,Fa,Y){Fa="";var R=-1!==Ta.indexOf("0"),Z=-1===Ta.indexOf("-"),U=-1!==Ta.indexOf("_"),ha=-1!==
Ta.indexOf("^"),la=-1!==Ta.indexOf("#"),g=(Ta.match(":")||[]).length;Za=parseInt(Za,10);R&&U&&(Ta.indexOf("0")<Ta.indexOf("_")?R=!1:U=!1);switch(Y){case "Y":Fa+=ua.$year();break;case "C":R=!U;Fa+=Math.round(ua.$year()/100);break;case "y":R=!U;Fa+=ua.$year()%100;break;case "m":R=!U;Fa+=ua.$mon();break;case "B":Fa+=Wa[ua.$mon()-1];break;case "b":case "h":U=!R;Fa+=Ca[ua.$mon()-1];break;case "d":R=!U;Fa+=ua.$day();break;case "e":U=!R;Fa+=ua.$day();break;case "j":R=!U;Za=isNaN(Za)?3:Za;Fa+=ua.$yday();
break;case "H":R=!U;Fa+=ua.$hour();break;case "k":U=!R;Fa+=ua.$hour();break;case "I":R=!U;Fa+=ua.$hour()%12||12;break;case "l":U=!R;Fa+=ua.$hour()%12||12;break;case "P":Fa+=12<=ua.$hour()?"pm":"am";break;case "p":Fa+=12<=ua.$hour()?"PM":"AM";break;case "M":R=!U;Fa+=ua.$min();break;case "S":R=!U;Fa+=ua.$sec();break;case "L":R=!U;Za=isNaN(Za)?3:Za;Fa+=ua.getMilliseconds();break;case "N":Za=isNaN(Za)?9:Za;Fa+=ua.getMilliseconds().toString().$rjust(3,"0");Fa=Fa.$ljust(Za,"0");break;case "z":Na=ua.getTimezoneOffset();
Ta=Math.floor(Math.abs(Na)/60);Y=Math.abs(Na)%60;Fa=Fa+(0>Na?"+":"-")+(10>Ta?"0":"")+Ta;0<g&&(Fa+=":");Fa+=10>Y?"0":"";Fa+=Y;1<g&&(Fa+=":00");break;case "Z":Fa+=ua.$zone();break;case "A":Fa+=bb[ua.$wday()];break;case "a":Fa+=db[ua.$wday()];break;case "u":Fa+=ua.$wday()+1;break;case "w":Fa+=ua.$wday();break;case "V":Fa+=ua.$cweek_cyear()["$[]"](0).$to_s().$rjust(2,"0");break;case "G":Fa+=ua.$cweek_cyear()["$[]"](1);break;case "g":Fa+=ua.$cweek_cyear()["$[]"](1)["$[]"](E(-2,-1,!1));break;case "s":Fa+=
ua.$to_i();break;case "n":Fa+="\n";break;case "t":Fa+="\t";break;case "%":Fa+="%";break;case "c":Fa+=ua.$strftime("%a %b %e %T %Y");break;case "D":case "x":Fa+=ua.$strftime("%m/%d/%y");break;case "F":Fa+=ua.$strftime("%Y-%m-%d");break;case "v":Fa+=ua.$strftime("%e-%^b-%4Y");break;case "r":Fa+=ua.$strftime("%I:%M:%S %p");break;case "R":Fa+=ua.$strftime("%H:%M");break;case "T":case "X":Fa+=ua.$strftime("%H:%M:%S");break;default:return Na}ha&&(Fa=Fa.toUpperCase());la&&(Fa=Fa.replace(/[A-Z]/,function(C){C.toLowerCase()}).replace(/[a-z]/,
function(C){C.toUpperCase()}));Z&&(R||U)&&(Fa=Fa.$rjust(isNaN(Za)?2:Za,U?" ":"0"));return Fa})},Ea.$$arity=1);a.def(k,"$sunday?",Ha=function(){return 0==this.$wday()},Ha.$$arity=0);a.def(k,"$thursday?",Ra=function(){return 4==this.$wday()},Ra.$$arity=0);a.def(k,"$to_a",Sa=function(){return[this.$sec(),this.$min(),this.$hour(),this.$day(),this.$month(),this.$year(),this.$wday(),this.$yday(),this.$isdst(),this.$zone()]},Sa.$$arity=0);a.def(k,"$to_f",Ka=function(){return this.getTime()/1E3},Ka.$$arity=
0);a.def(k,"$to_i",eb=function(){return parseInt(this.getTime()/1E3,10)},eb.$$arity=0);a.alias(k,"to_s","inspect");a.def(k,"$tuesday?",kb=function(){return 2==this.$wday()},kb.$$arity=0);a.alias(k,"tv_sec","to_i");a.alias(k,"tv_usec","usec");a.alias(k,"utc?","gmt?");a.alias(k,"gmtoff","gmt_offset");a.alias(k,"utc_offset","gmt_offset");a.def(k,"$wday",W=function(){return this.is_utc?this.getUTCDay():this.getDay()},W.$$arity=0);a.def(k,"$wednesday?",ya=function(){return 3==this.$wday()},ya.$$arity=
0);a.def(k,"$year",Ba=function(){return this.is_utc?this.getUTCFullYear():this.getFullYear()},Ba.$$arity=0);return(a.def(k,"$cweek_cyear",Va=function(){var za=m,ua=m;var Na=u(N,"Time").$new(this.$year(),1,1).$wday();var Ta=this.$year();l(l(za=w(Na,4))?Na["$!="](0):za)?Na=t(Na,1):(Na=t(t(Na,7),1),Na["$=="](-8)&&(Na=-1));Na=I(x(this.$yday(),Na),7).$ceil();if(l(w(Na,0)))return u(N,"Time").$new(t(this.$year(),1),12,31).$cweek_cyear();Na["$=="](53)&&(za=u(N,"Time").$new(this.$year(),12,31),za=za.$wday(),
l(l(ua=w(za,3))?za["$!="](0):ua)&&(Na=1,Ta=x(Ta,1)));return[Na,Ta]},Va.$$arity=0),m)&&"cweek_cyear"}(p[0],Date,p)};
Opal.modules["corelib/struct"]=function(a){function x(n,G){return"number"===typeof n&&"number"===typeof G?n>G:n["$>"](G)}function I(n,G){return"number"===typeof n&&"number"===typeof G?n-G:n["$-"](G)}function t(n,G){return"number"===typeof n&&"number"===typeof G?n<G:n["$<"](G)}function w(n,G){return"number"===typeof n&&"number"===typeof G?n>=G:n["$>="](G)}function z(n,G){return"number"===typeof n&&"number"===typeof G?n+G:n["$+"](G)}var p=a.top,m=[],u=a.nil,D=a.$$,e=a.klass,l=a.hash2,E=a.truthy,c=a.send;
a.add_stubs("$require $include $const_name! $unshift $map $coerce_to! $new $each $define_struct_attribute $allocate $initialize $alias_method $module_eval $to_proc $const_set $== $raise $<< $members $define_method $instance_eval $class $last $> $length $- $keys $any? $join $[] $[]= $each_with_index $hash $=== $< $-@ $size $>= $include? $to_sym $instance_of? $__id__ $eql? $enum_for $name $+ $each_pair $inspect $to_h $args $each_with_object $flatten $to_a $respond_to? $dig".split(" "));p.$require("corelib/enumerable");
return function(n,$super,d){n=e(n,$super,"Struct");var k=[n].concat(d),N,y,S,ja,da,ma,b,h,f,q,A,F,H,K,ba,va,Pa,wa,Aa,Ma;n.$include(D(k,"Enumerable"));a.defs(n,"$new",N=function(na,T,sa){var xa=N.$$p,Ja=xa||u,ka,M;var L=u;xa&&(N.$$p=null);xa&&(N.$$p=null);var fa=a.slice.call(arguments,1,arguments.length);L=a.extract_kwargs(fa);if(null==L)L=l([],{});else if(!L.$$is_hash)throw a.ArgumentError.$new("expected kwargs");xa=L.$$smap.keyword_init;null==xa&&(xa=!1);if(E(na))try{na=D(k,"Opal")["$const_name!"](na)}catch(oa){if(a.rescue(oa,
[D(k,"TypeError"),D(k,"NameError")]))try{fa.$unshift(na),na=u}finally{a.pop_exception()}else throw oa;}c(fa,"map",[],(ka=function(oa){null==oa&&(oa=u);return D(k,"Opal")["$coerce_to!"](oa,D(k,"String"),"to_str")},ka.$$s=this,ka.$$arity=1,ka));L=c(D(k,"Class"),"new",[this],(M=function(){var oa=null==M.$$s?this:M.$$s,ea;c(fa,"each",[],(ea=function(ta){var Ea=null==ea.$$s?this:ea.$$s;null==ta&&(ta=u);return Ea.$define_struct_attribute(ta)},ea.$$s=oa,ea.$$arity=1,ea));return function(ta,Ea){[ta].concat(Ea);
var Ha;a.def(ta,"$new",Ha=function(Ra){var Sa=a.slice.call(arguments,0,arguments.length);var Ka=this.$allocate();Ka.$$data={};c(Ka,"initialize",a.to_a(Sa));return Ka},Ha.$$arity=-1);return ta.$alias_method("[]","new")}(a.get_singleton_class(oa),k)},M.$$s=this,M.$$arity=0,M));E(Ja)&&c(L,"module_eval",[],Ja.$to_proc());L.$$keyword_init=xa;E(na)&&D(k,"Struct").$const_set(na,L);return L},N.$$arity=-2);a.defs(n,"$define_struct_attribute",y=function(na){var T,sa;this["$=="](D(k,"Struct"))&&this.$raise(D(k,
"ArgumentError"),"you cannot define attributes to the Struct class");this.$members()["$<<"](na);c(this,"define_method",[na],(T=function(){return(null==T.$$s?this:T.$$s).$$data[na]},T.$$s=this,T.$$arity=0,T));return c(this,"define_method",[""+na+"="],(sa=function(xa){var Ja=null==sa.$$s?this:sa.$$s;null==xa&&(xa=u);return Ja.$$data[na]=xa},sa.$$s=this,sa.$$arity=1,sa))},y.$$arity=1);a.defs(n,"$members",S=function(){var na=u;null==this.members&&(this.members=u);this["$=="](D(k,"Struct"))&&this.$raise(D(k,
"ArgumentError"),"the Struct class has no members");return this.members=E(na=this.members)?na:[]},S.$$arity=0);a.defs(n,"$inherited",ja=function(na){var T,sa=u;null==this.members&&(this.members=u);sa=this.members;return c(na,"instance_eval",[],(T=function(){return(null==T.$$s?this:T.$$s).members=sa},T.$$s=this,T.$$arity=0,T))},ja.$$arity=1);a.def(n,"$initialize",da=function(na){var T,sa,xa=u,Ja=u,ka=u,M=u;var L=a.slice.call(arguments,0,arguments.length);if(E(this.$class().$$keyword_init))return xa=
E(Ja=L.$last())?Ja:l([],{}),E(E(ka=x(L.$length(),1))?ka:1===L.length&&!xa.$$is_hash)&&this.$raise(D(k,"ArgumentError"),"wrong number of arguments (given "+L.$length()+", expected 0)"),M=I(xa.$keys(),this.$class().$members()),E(M["$any?"]())&&this.$raise(D(k,"ArgumentError"),"unknown keywords: "+M.$join(", ")),c(this.$class().$members(),"each",[],(T=function(fa){var oa=null==T.$$s?this:T.$$s;null==fa&&(fa=u);fa=[fa,xa["$[]"](fa)];c(oa,"[]=",a.to_a(fa));return fa[I(fa.length,1)]},T.$$s=this,T.$$arity=
1,T));E(x(L.$length(),this.$class().$members().$length()))&&this.$raise(D(k,"ArgumentError"),"struct size differs");return c(this.$class().$members(),"each_with_index",[],(sa=function(fa,oa){var ea=null==sa.$$s?this:sa.$$s;null==fa&&(fa=u);null==oa&&(oa=u);fa=[fa,L["$[]"](oa)];c(ea,"[]=",a.to_a(fa));return fa[I(fa.length,1)]},sa.$$s=this,sa.$$arity=2,sa))},da.$$arity=-1);a.def(n,"$initialize_copy",ma=function(na){this.$$data={};var T=Object.keys(na.$$data),sa;var xa=0;for(sa=T.length;xa<sa;xa++){var Ja=
T[xa];this.$$data[Ja]=na.$$data[Ja]}},ma.$$arity=1);a.def(n,"$members",b=function(){return this.$class().$members()},b.$$arity=0);a.def(n,"$hash",h=function(){return D(k,"Hash").$new(this.$$data).$hash()},h.$$arity=0);a.def(n,"$[]",f=function(na){E(D(k,"Integer")["$==="](na))?(E(t(na,this.$class().$members().$size()["$-@"]()))&&this.$raise(D(k,"IndexError"),"offset "+na+" too small for struct(size:"+this.$class().$members().$size()+")"),E(w(na,this.$class().$members().$size()))&&this.$raise(D(k,"IndexError"),
"offset "+na+" too large for struct(size:"+this.$class().$members().$size()+")"),na=this.$class().$members()["$[]"](na)):E(D(k,"String")["$==="](na))?this.$$data.hasOwnProperty(na)||this.$raise(D(k,"NameError").$new("no member '"+na+"' in struct",na)):this.$raise(D(k,"TypeError"),"no implicit conversion of "+na.$class()+" into Integer");na=D(k,"Opal")["$coerce_to!"](na,D(k,"String"),"to_str");return this.$$data[na]},f.$$arity=1);a.def(n,"$[]=",q=function(na,T){E(D(k,"Integer")["$==="](na))?(E(t(na,
this.$class().$members().$size()["$-@"]()))&&this.$raise(D(k,"IndexError"),"offset "+na+" too small for struct(size:"+this.$class().$members().$size()+")"),E(w(na,this.$class().$members().$size()))&&this.$raise(D(k,"IndexError"),"offset "+na+" too large for struct(size:"+this.$class().$members().$size()+")"),na=this.$class().$members()["$[]"](na)):E(D(k,"String")["$==="](na))?E(this.$class().$members()["$include?"](na.$to_sym()))||this.$raise(D(k,"NameError").$new("no member '"+na+"' in struct",na)):
this.$raise(D(k,"TypeError"),"no implicit conversion of "+na.$class()+" into Integer");na=D(k,"Opal")["$coerce_to!"](na,D(k,"String"),"to_str");return this.$$data[na]=T},q.$$arity=2);a.def(n,"$==",A=function(na){function T(Ja,ka){var M;sa[Ja.$__id__()]=!0;xa[ka.$__id__()]=!0;for(M in Ja.$$data){var L=Ja.$$data[M];var fa=ka.$$data[M];if(D(k,"Struct")["$==="](L)){if(!(sa.hasOwnProperty(L.$__id__())&&xa.hasOwnProperty(fa.$__id__())||T(L,fa)))return!1}else if(!L["$=="](fa))return!1}return!0}if(!E(na["$instance_of?"](this.$class())))return!1;
var sa={},xa={};return T(this,na)},A.$$arity=1);a.def(n,"$eql?",F=function(na){function T(Ja,ka){var M;sa[Ja.$__id__()]=!0;xa[ka.$__id__()]=!0;for(M in Ja.$$data){var L=Ja.$$data[M];var fa=ka.$$data[M];if(D(k,"Struct")["$==="](L)){if(!(sa.hasOwnProperty(L.$__id__())&&xa.hasOwnProperty(fa.$__id__())||T(L,fa)))return!1}else if(!L["$eql?"](fa))return!1}return!0}if(!E(na["$instance_of?"](this.$class())))return!1;var sa={},xa={};return T(this,na)},F.$$arity=1);a.def(n,"$each",H=function(){var na,T,sa=
H.$$p,xa=sa||u;sa&&(H.$$p=null);if(xa===u)return c(this,"enum_for",["each"],(na=function(){return(null==na.$$s?this:na.$$s).$size()},na.$$s=this,na.$$arity=0,na));c(this.$class().$members(),"each",[],(T=function(Ja){var ka=null==T.$$s?this:T.$$s;null==Ja&&(Ja=u);return a.yield1(xa,ka["$[]"](Ja))},T.$$s=this,T.$$arity=1,T));return this},H.$$arity=0);a.def(n,"$each_pair",K=function(){var na,T,sa=K.$$p,xa=sa||u;sa&&(K.$$p=null);if(xa===u)return c(this,"enum_for",["each_pair"],(na=function(){return(null==
na.$$s?this:na.$$s).$size()},na.$$s=this,na.$$arity=0,na));c(this.$class().$members(),"each",[],(T=function(Ja){var ka=null==T.$$s?this:T.$$s;null==Ja&&(Ja=u);return a.yield1(xa,[Ja,ka["$[]"](Ja)])},T.$$s=this,T.$$arity=1,T));return this},K.$$arity=0);a.def(n,"$length",ba=function(){return this.$class().$members().$length()},ba.$$arity=0);a.alias(n,"size","length");a.def(n,"$to_a",va=function(){var na;return c(this.$class().$members(),"map",[],(na=function(T){var sa=null==na.$$s?this:na.$$s;null==
T&&(T=u);return sa["$[]"](T)},na.$$s=this,na.$$arity=1,na))},va.$$arity=0);a.alias(n,"values","to_a");a.def(n,"$inspect",Pa=function(){var na,T=u,sa=u;T="#<struct ";E(E(sa=D(k,"Struct")["$==="](this))?this.$class().$name():sa)&&(T=z(T,""+this.$class()+" "));T=z(T,c(this.$each_pair(),"map",[],(na=function(xa,Ja){null==xa&&(xa=u);null==Ja&&(Ja=u);return""+xa+"="+Ja.$inspect()},na.$$s=this,na.$$arity=2,na)).$join(", "));return T=z(T,">")},Pa.$$arity=0);a.alias(n,"to_s","inspect");a.def(n,"$to_h",wa=
function(){var na=wa.$$p,T=na||u,sa;na&&(wa.$$p=null);na&&(wa.$$p=null);return T!==u?c(c(this,"map",[],T.$to_proc()),"to_h",a.to_a(this.$args())):c(this.$class().$members(),"each_with_object",[l([],{})],(sa=function(xa,Ja){var ka=null==sa.$$s?this:sa.$$s;null==xa&&(xa=u);null==Ja&&(Ja=u);xa=[xa,ka["$[]"](xa)];c(Ja,"[]=",a.to_a(xa));return xa[I(xa.length,1)]},sa.$$s=this,sa.$$arity=2,sa))},wa.$$arity=0);a.def(n,"$values_at",Aa=function(na){var T;var sa=a.slice.call(arguments,0,arguments.length);sa=
c(sa,"map",[],(T=function(ka){null==ka&&(ka=u);return ka.$$is_range?ka.$to_a():ka},T.$$s=this,T.$$arity=1,T)).$flatten();T=[];for(var xa=0,Ja=sa.length;xa<Ja;xa++)sa[xa].$$is_number||this.$raise(D(k,"TypeError"),"no implicit conversion of "+sa[xa].$class()+" into Integer"),T.push(this["$[]"](sa[xa]));return T},Aa.$$arity=-1);return(a.def(n,"$dig",Ma=function(na,T){var sa=a.slice.call(arguments,1,arguments.length);var xa=E(na.$$is_string&&this.$$data.hasOwnProperty(na))?this.$$data[na]||u:u;if(xa===
u||0===sa.length)return xa;E(xa["$respond_to?"]("dig"))||this.$raise(D(k,"TypeError"),""+xa.$class()+" does not have #dig method");return c(xa,"dig",a.to_a(sa))},Ma.$$arity=-2),u)&&"dig"}(m[0],null,m)};Opal.modules["corelib/main"]=function(a){var x,I,t=a.top,w=[],z=a.nil,p=a.$$;a.add_stubs(["$include"]);a.defs(t,"$to_s",x=function(){return"main"},x.$$arity=0);return(a.defs(t,"$include",I=function(m){return p(w,"Object").$include(m)},I.$$arity=1),z)&&"include"};
Opal.modules["corelib/dir"]=function(a){var x=[],I=a.nil,t=a.$$,w=a.klass,z=a.truthy;a.add_stubs(["$[]"]);return function(p,$super,u){p=w(p,$super,"Dir");u=[p].concat(u);return function(D,e){var l=[D].concat(e),E,c,n;a.def(D,"$chdir",E=function(G){var d=E.$$p,k=d||I,N=I;d&&(E.$$p=null);a:{try{N=a.current_dir;a.current_dir=G;var y=a.yieldX(k,[]);break a}finally{a.current_dir=N}y=void 0}return y},E.$$arity=1);a.def(D,"$pwd",c=function(){return a.current_dir||"."},c.$$arity=0);a.alias(D,"getwd","pwd");
return(a.def(D,"$home",n=function(){var G;return z(G=t(l,"ENV")["$[]"]("HOME"))?G:"."},n.$$arity=0),I)&&"home"}(a.get_singleton_class(p),u)}(x[0],null,x)};
Opal.modules["corelib/file"]=function(a){function x(D,e){return"number"===typeof D&&"number"===typeof e?D+e:D["$+"](e)}var I=[],t=a.nil,w=a.$$,z=a.truthy,p=a.klass,m=a.range,u=a.send;a.add_stubs("$respond_to? $to_path $pwd $split $sub $+ $unshift $join $home $raise $start_with? $absolute_path $coerce_to! $basename $empty? $rindex $[] $nil? $== $- $length $gsub $find $=~ $map $each_with_index $flatten $reject $to_proc $end_with?".split(" "));return function(D,$super,l){D=p(D,$super,"File");l=[D].concat(l);
var E=t;a.const_set(l[0],"Separator",a.const_set(l[0],"SEPARATOR","/"));a.const_set(l[0],"ALT_SEPARATOR",t);a.const_set(l[0],"PATH_SEPARATOR",":");a.const_set(l[0],"FNM_SYSCASE",0);E=/^[a-zA-Z]:(?:\\|\/)/;return function(c,n){function G(q){z(q["$respond_to?"]("to_path"))&&(q=q.$to_path());return q=w(k,"Opal")["$coerce_to!"](q,w(k,"String"),"to_str")}function d(){return w(k,"ALT_SEPARATOR")===t?a.escape_regexp(w(k,"SEPARATOR")):a.escape_regexp(x(w(k,"SEPARATOR"),w(k,"ALT_SEPARATOR")))}var k=[c].concat(n),
N,y,S,ja,da,ma,b,h,f;a.def(c,"$absolute_path",N=function(q,A){var F=t;null==A&&(A=t);var H=w(k,"SEPARATOR");var K=d();var ba=[];q=z(q["$respond_to?"]("to_path"))?q.$to_path():q;A=z(F=A)?F:w(k,"Dir").$pwd();F=q.substr(0,H.length)===H||E.test(q);var va=A.substr(0,H.length)===H||E.test(A);z(F)?(F=q.$split(a.regexp(["[",K,"]"])),q=E.test(q)?"":q.$sub(a.regexp(["^([",K,"]+).*$"]),"\\1"),A=!0):(F=x(A.$split(a.regexp(["[",K,"]"])),q.$split(a.regexp(["[",K,"]"]))),q=E.test(A)?"":A.$sub(a.regexp(["^([",K,
"]+).*$"]),"\\1"),A=va);va=0;for(var Pa=F.length;va<Pa;va++)K=F[va],K===t||""===K&&(0===ba.length||A)||"."===K&&(0===ba.length||A)||(".."===K?ba.pop():ba.push(K));A||"."===F[0]||ba.$unshift(".");H=ba.$join(H);z(A)&&(H=x(q,H));return H},N.$$arity=-2);a.def(c,"$expand_path",y=function(q,A){null==A&&(A=t);var F=w(k,"SEPARATOR");var H=d();if(z("~"===q[0]||A&&"~"===A[0])){var K=w(k,"Dir").$home();z(K)||this.$raise(w(k,"ArgumentError"),"couldn't find HOME environment -- expanding `~'");H=E.test(K)?"":K.$sub(a.regexp(["^([",
H,"]+).*$"]),"\\1");z(K["$start_with?"](H))||this.$raise(w(k,"ArgumentError"),"non-absolute home");K=x(K,F);F=a.regexp(["^\\~(?:",F,"|$)"]);q=q.$sub(F,K);z(A)&&(A=A.$sub(F,K))}return this.$absolute_path(q,A)},y.$$arity=-2);a.alias(c,"realpath","expand_path");a.def(c,"$dirname",S=function(q){var A=d();q=G(q);var F=q.match(new RegExp("^["+A+"]"));q=q.replace(new RegExp("["+A+"]+$"),"");q=q.replace(new RegExp("[^"+A+"]+$"),"");q=q.replace(new RegExp("["+A+"]+$"),"");return""===q?F?"/":".":q},S.$$arity=
1);a.def(c,"$basename",ja=function(q,A){null==A&&(A=t);var F=d();q=G(q);if(0==q.length)return q;A=A!==t?w(k,"Opal")["$coerce_to!"](A,w(k,"String"),"to_str"):null;q=q.replace(new RegExp("(.)["+F+"]*$"),"$1");q=q.replace(new RegExp("^(?:.*["+F+"])?([^"+F+"]+)$"),"$1");".*"===A?q=q.replace(/\.[^\.]+$/,""):null!==A&&(A=a.escape_regexp(A),q=q.replace(new RegExp(""+A+"$"),""));return q},ja.$$arity=-2);a.def(c,"$extname",da=function(q){var A;q=G(q);q=this.$basename(q);if(z(q["$empty?"]()))return"";var F=
q["$[]"](m(1,-1,!1)).$rindex(".");if(!z(A=F["$nil?"]())){A=x(F,1);var H=A["$=="];var K=q.$length();K="number"===typeof K?K-1:K["$-"](1);A=H.call(A,K)}return z(A)?"":q["$[]"](a.Range.$new(x(F,1),-1,!1))},da.$$arity=1);a.def(c,"$exist?",ma=function(q){return null!=a.modules[q]},ma.$$arity=1);a.alias(c,"exists?","exist?");a.def(c,"$directory?",b=function(q){var A,F=t;F=t;F=[];for(var H in a.modules)F.push(H);q=q.$gsub(a.regexp(["(^.",w(k,"SEPARATOR"),"+|",w(k,"SEPARATOR"),"+$)"]));return F=u(F,"find",
[],(A=function(K){null==K&&(K=t);return K["$=~"](a.regexp(["^",q]))},A.$$s=this,A.$$arity=1,A))},b.$$arity=1);a.def(c,"$join",h=function(q){var A,F,H=t;var K=a.slice.call(arguments,0,arguments.length);if(z(K["$empty?"]()))return"";H="";K=u(K.$flatten().$each_with_index(),"map",[],(A=function(ba,va){var Pa=t,wa=t;null==ba&&(ba=t);null==va&&(va=t);return z(z(Pa=va["$=="](0))?ba["$empty?"]():Pa)?w(k,"SEPARATOR"):z(z(wa=K.$length()["$=="](x(va,1)))?ba["$empty?"]():wa)?w(k,"SEPARATOR"):ba},A.$$s=this,
A.$$arity=2,A));K=u(K,"reject",[],"empty?".$to_proc());u(K,"each_with_index",[],(F=function(ba,va){var Pa=t,wa=t;null==ba&&(ba=t);null==va&&(va=t);va=K["$[]"](x(va,1));if(z(va["$nil?"]()))return H=""+H+ba;z(z(Pa=ba["$end_with?"](w(k,"SEPARATOR")))?va["$start_with?"](w(k,"SEPARATOR")):Pa)&&(ba=ba.$sub(a.regexp([w(k,"SEPARATOR"),"+$"]),""));return H=z(z(wa=ba["$end_with?"](w(k,"SEPARATOR")))?wa:va["$start_with?"](w(k,"SEPARATOR")))?""+H+ba:""+H+ba+w(k,"SEPARATOR")},F.$$s=this,F.$$arity=2,F));return H},
h.$$arity=-1);return(a.def(c,"$split",f=function(q){return q.$split(w(k,"SEPARATOR"))},f.$$arity=1),t)&&"split"}(a.get_singleton_class(D),l)}(I[0],w(I,"IO"),I)};
Opal.modules["corelib/process"]=function(a){var x=[],I=a.nil,t=a.$$$,w=a.$$,z=a.klass,p=a.truthy;a.add_stubs("$const_set $size $<< $__register_clock__ $to_f $now $new $[] $raise".split(" "));(function(m,$super,D){m=z(m,$super,"Process");var e=[m].concat(D),l,E,c,n;D=I;m.__clocks__=[];a.defs(m,"$__register_clock__",l=function(d,k){null==this.__clocks__&&(this.__clocks__=I);this.$const_set(d,this.__clocks__.$size());return this.__clocks__["$<<"](k)},l.$$arity=2);m.$__register_clock__("CLOCK_REALTIME",
function(){return Date.now()});D=!1;if(a.global.performance)D=function(){return performance.now()};else if(a.global.process&&process.hrtime){var G=process.hrtime();D=function(){var d=process.hrtime(G);return 1E3*d[0]+(d[1]/1E3|0)/1E3}}p(D)&&m.$__register_clock__("CLOCK_MONOTONIC",D);a.defs(m,"$pid",E=function(){return 0},E.$$arity=0);a.defs(m,"$times",c=function(){var d=w(e,"Time").$now().$to_f();return t(w(e,"Benchmark"),"Tms").$new(d,d,d,d,d)},c.$$arity=0);return(a.defs(m,"$clock_gettime",n=function(d,
k){var N,y;null==this.__clocks__&&(this.__clocks__=I);null==k&&(k="float_second");p(N=y=this.__clocks__["$[]"](d))?N:this.$raise(t(w(e,"Errno"),"EINVAL"),"clock_gettime("+d+") "+this.__clocks__["$[]"](d));d=y();switch(k){case "float_second":return d/1E3;case "float_millisecond":return d/1;case "float_microsecond":return 1E3*d;case "second":return d/1E3|0;case "millisecond":return d/1|0;case "microsecond":return 1E3*d|0;case "nanosecond":return 1E6*d|0;default:this.$raise(w(e,"ArgumentError"),"unexpected unit: "+
k)}},n.$$arity=-2),I)&&"clock_gettime"})(x[0],null,x);(function(m,$super,D){m=z(m,$super,"Signal");[m].concat(D);var e;return(a.defs(m,"$trap",e=function(l){a.slice.call(arguments,0,arguments.length);return I},e.$$arity=-1),I)&&"trap"})(x[0],null,x);return function(m,$super,D){m=z(m,$super,"GC");[m].concat(D);var e;return(a.defs(m,"$start",e=function(){return I},e.$$arity=0),I)&&"start"}(x[0],null,x)};
Opal.modules["corelib/random"]=function(a){var x=[],I=a.nil,t=a.$$,w=a.klass,z=a.truthy,p=a.send;a.add_stubs("$attr_reader $new_seed $coerce_to! $reseed $rand $seed $< $raise $encode $join $new $chr $=== $== $state $const_defined? $const_set".split(" "));return function(m,$super,D){m=w(m,$super,"Random");var e=[m].concat(D),l,E,c,n,G,d,k,N,y,S;m.$attr_reader("seed","state");a.def(m,"$initialize",l=function(ja){null==ja&&(ja=t(e,"Random").$new_seed());this.state=ja=t(e,"Opal")["$coerce_to!"](ja,t(e,
"Integer"),"to_int");return this.$reseed(ja)},l.$$arity=-1);a.def(m,"$reseed",E=function(ja){this.seed=ja;return this.$rng=a.$$rand.reseed(ja)},E.$$arity=1);a.defs(m,"$new_seed",c=function(){return a.$$rand.new_seed()},c.$$arity=0);a.defs(m,"$rand",n=function(ja){return t(e,"DEFAULT").$rand(ja)},n.$$arity=-1);a.defs(m,"$srand",G=function(ja){null==ja&&(ja=t(e,"Random").$new_seed());ja=t(e,"Opal")["$coerce_to!"](ja,t(e,"Integer"),"to_int");var da=t(e,"DEFAULT").$seed();t(e,"DEFAULT").$reseed(ja);return da},
G.$$arity=-1);a.defs(m,"$urandom",d=function(ja){var da;ja=t(e,"Opal")["$coerce_to!"](ja,t(e,"Integer"),"to_int");z("number"===typeof ja?0>ja:ja["$<"](0))&&this.$raise(t(e,"ArgumentError"),"negative string size (or size too big)");return p(t(e,"Array"),"new",[ja],(da=function(){return(null==da.$$s?this:da.$$s).$rand(255).$chr()},da.$$s=this,da.$$arity=0,da)).$join().$encode("ASCII-8BIT")},d.$$arity=1);a.def(m,"$==",k=function(ja){var da;return z(t(e,"Random")["$==="](ja))?z(da=this.$seed()["$=="](ja.$seed()))?
this.$state()["$=="](ja.$state()):da:!1},k.$$arity=1);a.def(m,"$bytes",N=function(ja){var da;ja=t(e,"Opal")["$coerce_to!"](ja,t(e,"Integer"),"to_int");return p(t(e,"Array"),"new",[ja],(da=function(){return(null==da.$$s?this:da.$$s).$rand(255).$chr()},da.$$s=this,da.$$arity=0,da)).$join().$encode("ASCII-8BIT")},N.$$arity=1);a.def(m,"$rand",y=function(ja){function da(){b.state++;return a.$$rand.rand(b.$rng)}function ma(){var h=ja.begin,f=ja.end;if(h===I||f===I)return I;var q=f-h;if(0>q)return I;if(0===
q)return h;0!==f%1||0!==h%1||ja.excl||q++;return b.$rand(q)+h}var b=this;if(null==ja)return da();if(ja.$$is_range)return ma();if(ja.$$is_number)return 0>=ja&&b.$raise(t(e,"ArgumentError"),"invalid argument - "+ja),0===ja%1?Math.floor(da()*ja):da()*ja;ja=t(e,"Opal")["$coerce_to!"](ja,t(e,"Integer"),"to_int");0>=ja&&b.$raise(t(e,"ArgumentError"),"invalid argument - "+ja);return Math.floor(da()*ja)},y.$$arity=-1);return(a.defs(m,"$generator=",S=function(ja){a.$$rand=ja;return z(this["$const_defined?"]("DEFAULT"))?
t(e,"DEFAULT").$reseed():this.$const_set("DEFAULT",this.$new(this.$new_seed()))},S.$$arity=1),I)&&"generator="}(x[0],null,x)};
Opal.modules["corelib/random/mersenne_twister"]=function(a){function x(u,D){return"number"===typeof u&&"number"===typeof D?u-D:u["$-"](D)}var I=[],t=a.nil,w=a.$$,z=a.klass,p=a.send,m=t;a.add_stubs(["$generator=","$-"]);m=function(){function u(e,l){return(e&2147483648|l&2147483647)>>>1^(l&1?2567483615:0)}function D(e){if(0>=--e.left){var l=0,E=e.state,c;e.left=624;e.next=0;for(c=228;--c;l++)E[l]=E[l+397]^u(E[l+0],E[l+1]);for(c=397;--c;l++)E[l]=E[l+-227]^u(E[l+0],E[l+1]);E[l]=E[l+-227]^u(E[l+0],E[0])}e=
e.state[e.next++];e^=e>>>11;e^=e<<7&2636928640;e^=e<<15&4022730752;return(e^e>>>18)>>>0}return{genrand_real:function(e){var l=D(e);e=D(e);return 1.1102230246251565E-16*(67108864*(l>>>5)+(e>>>6))},init:function(e){var l={left:0,next:624,state:Array(624)};l.state[0]=e>>>0;for(e=1;624>e;e++)l.state[e]=1812433253*(l.state[e-1]^l.state[e-1]>>30>>>0)+e,l.state[e]&=4294967295;l.left=1;l.next=624;return l}}}();return function(u,$super,e){u=z(u,$super,"Random");e=[u].concat(e);var l=t,E=Number.MAX_SAFE_INTEGER||
Math.pow(2,53)-1;a.const_set(e[0],"MERSENNE_TWISTER_GENERATOR",{new_seed:function(){return Math.round(Math.random()*E)},reseed:function(c){return m.init(c)},rand:function(c){return m.genrand_real(c)}});l=[w(e,"MERSENNE_TWISTER_GENERATOR")];p(u,"generator=",a.to_a(l));return l[x(l.length,1)]}(I[0],null,I)};
Opal.modules["corelib/unsupported"]=function(a){function x(l){switch(a.config.unsupported_features_severity){case "error":m(z,"Kernel").$raise(m(z,"NotImplementedError"),l);break;case "warning":e[l]||(e[l]=!0,w.$warn(l))}}var I,t,w=a.top,z=[],p=a.nil,m=a.$$,u=a.klass,D=a.module;a.add_stubs(["$raise","$warn","$%"]);var e={};(function(l,$super,c){l=u(l,$super,"String");var n=[l].concat(c),G,d,k,N,y,S,ja,da,ma,b,h,f,q,A,F,H,K,ba,va,Pa,wa,Aa,Ma;a.def(l,"$<<",G=function(na){a.slice.call(arguments,0,arguments.length);
return this.$raise(m(n,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("<<"))},G.$$arity=-1);a.def(l,"$capitalize!",d=function(na){a.slice.call(arguments,0,arguments.length);return this.$raise(m(n,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("capitalize!"))},d.$$arity=-1);a.def(l,"$chomp!",k=function(na){a.slice.call(arguments,0,arguments.length);return this.$raise(m(n,"NotImplementedError"),
"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("chomp!"))},k.$$arity=-1);a.def(l,"$chop!",N=function(na){a.slice.call(arguments,0,arguments.length);return this.$raise(m(n,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("chop!"))},N.$$arity=-1);a.def(l,"$downcase!",y=function(na){a.slice.call(arguments,0,arguments.length);return this.$raise(m(n,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("downcase!"))},
y.$$arity=-1);a.def(l,"$gsub!",S=function(na){a.slice.call(arguments,0,arguments.length);return this.$raise(m(n,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("gsub!"))},S.$$arity=-1);a.def(l,"$lstrip!",ja=function(na){a.slice.call(arguments,0,arguments.length);return this.$raise(m(n,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("lstrip!"))},ja.$$arity=-1);a.def(l,"$next!",da=function(na){a.slice.call(arguments,
0,arguments.length);return this.$raise(m(n,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("next!"))},da.$$arity=-1);a.def(l,"$reverse!",ma=function(na){a.slice.call(arguments,0,arguments.length);return this.$raise(m(n,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("reverse!"))},ma.$$arity=-1);a.def(l,"$slice!",b=function(na){a.slice.call(arguments,0,arguments.length);return this.$raise(m(n,
"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("slice!"))},b.$$arity=-1);a.def(l,"$squeeze!",h=function(na){a.slice.call(arguments,0,arguments.length);return this.$raise(m(n,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("squeeze!"))},h.$$arity=-1);a.def(l,"$strip!",f=function(na){a.slice.call(arguments,0,arguments.length);return this.$raise(m(n,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("strip!"))},
f.$$arity=-1);a.def(l,"$sub!",q=function(na){a.slice.call(arguments,0,arguments.length);return this.$raise(m(n,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("sub!"))},q.$$arity=-1);a.def(l,"$succ!",A=function(na){a.slice.call(arguments,0,arguments.length);return this.$raise(m(n,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("succ!"))},A.$$arity=-1);a.def(l,"$swapcase!",F=function(na){a.slice.call(arguments,
0,arguments.length);return this.$raise(m(n,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("swapcase!"))},F.$$arity=-1);a.def(l,"$tr!",H=function(na){a.slice.call(arguments,0,arguments.length);return this.$raise(m(n,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("tr!"))},H.$$arity=-1);a.def(l,"$tr_s!",K=function(na){a.slice.call(arguments,0,arguments.length);return this.$raise(m(n,
"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("tr_s!"))},K.$$arity=-1);a.def(l,"$upcase!",ba=function(na){a.slice.call(arguments,0,arguments.length);return this.$raise(m(n,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("upcase!"))},ba.$$arity=-1);a.def(l,"$prepend",va=function(na){a.slice.call(arguments,0,arguments.length);return this.$raise(m(n,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("prepend"))},
va.$$arity=-1);a.def(l,"$[]=",Pa=function(na){a.slice.call(arguments,0,arguments.length);return this.$raise(m(n,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("[]="))},Pa.$$arity=-1);a.def(l,"$clear",wa=function(na){a.slice.call(arguments,0,arguments.length);return this.$raise(m(n,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("clear"))},wa.$$arity=-1);a.def(l,"$encode!",Aa=function(na){a.slice.call(arguments,
0,arguments.length);return this.$raise(m(n,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("encode!"))},Aa.$$arity=-1);return(a.def(l,"$unicode_normalize!",Ma=function(na){a.slice.call(arguments,0,arguments.length);return this.$raise(m(n,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("unicode_normalize!"))},Ma.$$arity=-1),p)&&"unicode_normalize!"})(z[0],null,z);(function(l,E){l=D(l,
"Kernel");[l].concat(E);var c,n;a.def(l,"$freeze",c=function(){x("Object freezing is not supported by Opal");return this},c.$$arity=0);a.def(l,"$frozen?",n=function(){x("Object freezing is not supported by Opal");return!1},n.$$arity=0)})(z[0],z);(function(l,E){l=D(l,"Kernel");[l].concat(E);var c,n,G;a.def(l,"$taint",c=function(){x("Object tainting is not supported by Opal");return this},c.$$arity=0);a.def(l,"$untaint",n=function(){x("Object tainting is not supported by Opal");return this},n.$$arity=
0);a.def(l,"$tainted?",G=function(){x("Object tainting is not supported by Opal");return!1},G.$$arity=0)})(z[0],z);(function(l,$super,c){l=u(l,$super,"Module");[l].concat(c);var n,G,d,k;a.def(l,"$public",n=function(N){0===a.slice.call(arguments,0,arguments.length).length&&(this.$$module_function=!1);return p},n.$$arity=-1);a.alias(l,"private","public");a.alias(l,"protected","public");a.alias(l,"nesting","public");a.def(l,"$private_class_method",G=function(N){a.slice.call(arguments,0,arguments.length);
return this},G.$$arity=-1);a.alias(l,"public_class_method","private_class_method");a.def(l,"$private_method_defined?",d=function(){return!1},d.$$arity=1);a.def(l,"$private_constant",k=function(N){a.slice.call(arguments,0,arguments.length);return p},k.$$arity=-1);a.alias(l,"protected_method_defined?","private_method_defined?");a.alias(l,"public_instance_methods","instance_methods");a.alias(l,"public_instance_method","instance_method");return a.alias(l,"public_method_defined?","method_defined?")})(z[0],
null,z);(function(l,E){l=D(l,"Kernel");[l].concat(E);var c;a.def(l,"$private_methods",c=function(n){a.slice.call(arguments,0,arguments.length);return[]},c.$$arity=-1);a.alias(l,"private_instance_methods","private_methods")})(z[0],z);(function(l,E){l=D(l,"Kernel");var c=[l].concat(E),n;a.def(l,"$eval",n=function(G){a.slice.call(arguments,0,arguments.length);return this.$raise(m(c,"NotImplementedError"),"To use Kernel#eval, you must first require 'opal-parser'. See https://github.com/opal/opal/blob/"+
(m(c,"RUBY_ENGINE_VERSION")+"/docs/opal_parser.md for details."))},n.$$arity=-1)})(z[0],z);a.defs(w,"$public",I=function(l){a.slice.call(arguments,0,arguments.length);return p},I.$$arity=-1);return(a.defs(w,"$private",t=function(l){a.slice.call(arguments,0,arguments.length);return p},t.$$arity=-1),p)&&"private"};var rb=Opal.top;Opal.add_stubs(["$require"]);rb.$require("opal/base");rb.$require("opal/mini");rb.$require("corelib/kernel/format");rb.$require("corelib/string/encoding");rb.$require("corelib/math");
rb.$require("corelib/complex");rb.$require("corelib/rational");rb.$require("corelib/time");rb.$require("corelib/struct");rb.$require("corelib/io");rb.$require("corelib/main");rb.$require("corelib/dir");rb.$require("corelib/file");rb.$require("corelib/process");rb.$require("corelib/random");rb.$require("corelib/random/mersenne_twister");rb.$require("corelib/unsupported");
(function(a){function x(E,c){return"number"===typeof E&&"number"===typeof c?E+c:E["$+"](c)}function I(E,c){return"number"===typeof E&&"number"===typeof c?E-c:E["$-"](c)}function t(E,c){return"number"===typeof E&&"number"===typeof c?E<c:E["$<"](c)}var w=[],z=a.nil,p=a.$$$,m=a.$$,u=a.klass,D=a.send2,e=a.truthy,l=a.send;a.add_stubs("$include $<=> $attr_reader $nonzero? $d $zero? $new $class $-@ $+@ $=== $coerce $== $> $+ $allocate $join $compact $map $to_proc $downcase $wrap $raise $clone $jd $>> $wday $year $month $day $- $to_s $to_i $< $* $reverse $step $abs $each".split(" "));
return function(E,$super,n){function G(W,ya){return[31,0===W%4&&0!==W%100||0===W%400?29:28,31,30,31,30,31,31,30,31,30,31][ya]}E=u(E,$super,"Date");var d=[E].concat(n),k,N,y,S,ja,da,ma,b,h,f,q,A,F,H,K,ba,va,Pa,wa,Aa,Ma,na,T,sa,xa,Ja,ka,M,L,fa,oa,ea,ta,Ea,Ha,Ra,Sa,Ka,eb,kb;E.$$prototype.date=z;E.$include(m(d,"Comparable"));(function(W,$super,Ba){W=u(W,$super,"Infinity");var Va=[W].concat(Ba),bb,db,Ca,Wa,za,ua,Na,Ta,Za,Fa,Y;W.$$prototype.d=z;W.$include(m(Va,"Comparable"));a.def(W,"$initialize",bb=function(R){null==
R&&(R=1);return this.d=R["$<=>"](0)},bb.$$arity=-1);W.$attr_reader("d");a.def(W,"$zero?",db=function(){return!1},db.$$arity=0);a.def(W,"$finite?",Ca=function(){return!1},Ca.$$arity=0);a.def(W,"$infinite?",Wa=function(){return this.$d()["$nonzero?"]()},Wa.$$arity=0);a.def(W,"$nan?",za=function(){return this.$d()["$zero?"]()},za.$$arity=0);a.def(W,"$abs",ua=function(){return this.$class().$new()},ua.$$arity=0);a.def(W,"$-@",Na=function(){return this.$class().$new(this.$d()["$-@"]())},Na.$$arity=0);
a.def(W,"$+@",Ta=function(){return this.$class().$new(this.$d()["$+@"]())},Ta.$$arity=0);a.def(W,"$<=>",Za=function(R){var Z,U,ha=this,la=z,g=z,C=z;return function(){la=R;if(m(Va,"Infinity")["$==="](la))return ha.$d()["$<=>"](R.$d());if(m(Va,"Numeric")["$==="](la))return ha.$d();try{return U=R.$coerce(ha),Z=a.to_ary(U),g=null==Z[0]?z:Z[0],C=null==Z[1]?z:Z[1],U,g["$<=>"](C)}catch(O){if(a.rescue(O,[m(Va,"NoMethodError")]))try{return z}finally{a.pop_exception()}else throw O;}}()},Za.$$arity=1);a.def(W,
"$coerce",Fa=function(R){var Z=Fa.$$p,U;Z&&(Fa.$$p=null);var ha=0;var la=arguments.length;for(U=Array(la);ha<la;ha++)U[ha]=arguments[ha];Z=m(Va,"Numeric")["$==="](R)?[this.$d()["$-@"](),this.$d()]:D(this,a.find_super_dispatcher(this,"coerce",Fa,!1,!0),"coerce",U,Z);return Z},Fa.$$arity=1);return(a.def(W,"$to_f",Y=function(){if(this.d["$=="](0))return 0;var R=this.d;R="number"===typeof R?0<R:R["$>"](0);return e(R)?p(m(Va,"Float"),"INFINITY"):p(m(Va,"Float"),"INFINITY")["$-@"]()},Y.$$arity=0),z)&&"to_f"})(d[0],
m(d,"Numeric"),d);a.const_set(d[0],"JULIAN",m(d,"Infinity").$new());a.const_set(d[0],"GREGORIAN",m(d,"Infinity").$new()["$-@"]());a.const_set(d[0],"ITALY",2299161);a.const_set(d[0],"ENGLAND",2361222);a.const_set(d[0],"MONTHNAMES",x([z],"January February March April May June July August September October November December".split(" ")));a.const_set(d[0],"ABBR_MONTHNAMES","jan feb mar apr may jun jul aug sep oct nov dec".split(" "));a.const_set(d[0],"DAYNAMES","Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "));
a.const_set(d[0],"ABBR_DAYNAMES","Sun Mon Tue Wed Thu Fri Sat".split(" "));(function(W,ya){var Ba=[W].concat(ya),Va,bb,db,Ca;a.alias(W,"civil","new");a.def(W,"$wrap",Va=function(Wa){var za=this.$allocate();za.date=Wa;return za},Va.$$arity=1);a.def(W,"$parse",bb=function(Wa,za){function ua(aa){return aa[1]}function Na(aa){return aa[2]}function Ta(aa){return aa[3]}function Za(aa){return aa[4]}function Fa(aa){return function(v){v=aa(v);return 69<=v?v+1900:v+2E3}}function Y(aa){return function(v){v=aa(v).toLowerCase();
return m(Ba,"ABBR_MONTHNAMES").indexOf(v)+1}}function R(aa){return function(v){v=aa(v);return parseInt(v,10)}}function Z(aa){return function(v){v=aa(v);return l(m(Ba,"MONTHNAMES").$compact(),"map",[],"downcase".$to_proc()).indexOf(v.$downcase())+1}}null==za&&(za=!0);var U=new Date,ha=U.getDate(),la=U.getMonth(),g=U.getFullYear(),C=U.getDay();U=m(Ba,"MONTHNAMES").$compact().$join("|");U=[{regexp:/^(\d{2})$/,year:g,month:la,day:R(ua)},{regexp:/^(\d{3})$/,year:g,month:0,day:R(ua)},{regexp:/^(\d{2})(\d{2})$/,
year:g,month:R(ua),day:R(Na)},{regexp:/^(\d{2})(\d{3})$/,year:Fa(R(ua)),month:0,day:R(Na)},{regexp:/^(\d{2})(\d{2})(\d{2})$/,year:Fa(R(ua)),month:R(Na),day:R(Ta)},{regexp:/^(\d{4})(\d{3})$/,year:R(ua),month:0,day:R(Na)},{regexp:/^(\d{4})(\d{2})(\d{2})$/,year:R(ua),month:R(Na),day:R(Ta)},{regexp:/^([a-z]{3})[\s\.\/\-](\d{3,4})$/,year:R(Na),month:Y(ua),day:1},{regexp:/^(\d{1,2})[\s\.\/\-]([a-z]{3})[\s\.\/\-](\d{3,4})$/i,year:R(Ta),month:Y(Na),day:R(ua)},{regexp:/^([a-z]{3})[\s\.\/\-](\d{1,2})[\s\.\/\-](\d{3,4})$/i,
year:R(Ta),month:Y(ua),day:R(Na)},{regexp:/^(\d{3,4})[\s\.\/\-]([a-z]{3})[\s\.\/\-](\d{1,2})$/i,year:R(ua),month:Y(Na),day:R(Ta)},{regexp:/^(\-?\d{3,4})[\s\.\/\-](\d{1,2})[\s\.\/\-](\d{1,2})$/,year:R(ua),month:R(Na),day:R(Ta)},{regexp:/^(\d{2})[\s\.\/\-](\d{1,2})[\s\.\/\-](\d{1,2})$/,year:function(aa){return function(v){v=aa(v);return za?v+2E3:v}}(R(ua)),month:R(Na),day:R(Ta)},{regexp:/^(\d{1,2})[\s\.\/\-](\d{1,2})[\s\.\/\-](\-?\d{3,4})$/,year:R(Ta),month:R(Na),day:R(ua)},{regexp:new RegExp("^("+
m(Ba,"DAYNAMES").$join("|")+")$","i"),year:g,month:la,day:function(aa){return function(v){v=aa(v);v=l(m(Ba,"DAYNAMES"),"map",[],"downcase".$to_proc()).indexOf(v.$downcase());return ha-C+v}}(ua)},{regexp:new RegExp("^("+U+")[\\s\\.\\/\\-](\\d{1,2})(th|nd|rd)[\\s\\.\\/\\-](\\-?\\d{3,4})$","i"),year:R(Za),month:Z(ua),day:R(Na)},{regexp:new RegExp("^("+U+")[\\s\\.\\/\\-](\\d{1,2})(th|nd|rd)","i"),year:g,month:Z(ua),day:R(Na)},{regexp:new RegExp("^(\\d{1,2})(th|nd|rd)[\\s\\.\\/\\-]("+U+")[\\s\\.\\/\\-](\\-?\\d{3,4})$",
"i"),year:R(Za),month:Z(Ta),day:R(ua)},{regexp:new RegExp("^(\\-?\\d{3,4})[\\s\\.\\/\\-]("+U+")[\\s\\.\\/\\-](\\d{1,2})(th|nd|rd)$","i"),year:R(ua),month:Z(Na),day:R(Ta)}];var O;for(O=0;O<U.length;O++)if(g=U[O],la=g.regexp.exec(Wa))return Wa=g.year,"function"===typeof Wa&&(Wa=Wa(la)),U=g.month,"function"===typeof U&&(U=U(la)-1),g=g.day,"function"===typeof g&&(g=g(la)),la=new Date(Wa,U,g),0<=Wa&&1970>=Wa&&la.setFullYear(Wa),this.$wrap(la);return this.$raise(m(Ba,"ArgumentError"),"invalid date")},bb.$$arity=
-2);a.def(W,"$today",db=function(){return this.$wrap(new Date)},db.$$arity=0);return(a.def(W,"$gregorian_leap?",Ca=function(Wa){return 0===(new Date(Wa,1,29)).getMonth()-1},Ca.$$arity=1),z)&&"gregorian_leap?"})(a.get_singleton_class(E),d);a.def(E,"$initialize",k=function(W,ya,Ba,Va){null==W&&(W=-4712);null==ya&&(ya=1);null==Ba&&(Ba=1);null==Va&&m(d,"ITALY");1582===W&&10===ya&&4<Ba&&15>Ba&&(Ba=4);return this.date=new Date(W,ya-1,Ba)},k.$$arity=-1);a.def(E,"$-",N=function(W){if(W.$$is_number){var ya=
this.$clone();ya.date.setDate(this.date.getDate()-W);return ya}if(W.date)return Math.round((this.date-W.date)/864E5);this.$raise(m(d,"TypeError"))},N.$$arity=1);a.def(E,"$+",y=function(W){if(W.$$is_number){var ya=this.$clone();ya.date.setDate(this.date.getDate()+W);return ya}this.$raise(m(d,"TypeError"))},y.$$arity=1);a.def(E,"$<",S=function(W){var ya=this.date;W=W.date;ya.setHours(0,0,0,0);W.setHours(0,0,0,0);return ya<W},S.$$arity=1);a.def(E,"$<=",ja=function(W){var ya=this.date;W=W.date;ya.setHours(0,
0,0,0);W.setHours(0,0,0,0);return ya<=W},ja.$$arity=1);a.def(E,"$>",da=function(W){var ya=this.date;W=W.date;ya.setHours(0,0,0,0);W.setHours(0,0,0,0);return ya>W},da.$$arity=1);a.def(E,"$>=",ma=function(W){var ya=this.date;W=W.date;ya.setHours(0,0,0,0);W.setHours(0,0,0,0);return ya>=W},ma.$$arity=1);a.def(E,"$<=>",b=function(W){if(W.$$is_number)return this.$jd()["$<=>"](W);if(m(d,"Date")["$==="](W)){var ya=this.date;W=W.date;ya.setHours(0,0,0,0);W.setHours(0,0,0,0);return ya<W?-1:ya>W?1:0}return z},
b.$$arity=1);a.def(E,"$>>",h=function(W){W.$$is_number||this.$raise(m(d,"TypeError"));var ya=this.$clone(),Ba=ya.date,Va=Ba.getDate();Ba.setDate(1);Ba.setMonth(Ba.getMonth()+W);Ba.setDate(Math.min(Va,G(Ba.getFullYear(),Ba.getMonth())));return ya},h.$$arity=1);a.def(E,"$<<",f=function(W){W.$$is_number||this.$raise(m(d,"TypeError"));return this["$>>"](-W)},f.$$arity=1);a.alias(E,"eql?","==");a.def(E,"$clone",q=function(){return m(d,"Date").$wrap(new Date(this.date.getTime()))},q.$$arity=0);a.def(E,
"$day",A=function(){return this.date.getDate()},A.$$arity=0);a.def(E,"$friday?",F=function(){return this.$wday()["$=="](5)},F.$$arity=0);a.def(E,"$jd",H=function(){var W=this.date.getMonth()+1,ya=this.date.getDate(),Ba=this.date.getFullYear();var Va=1;1585>=Ba&&(Va=0);var bb=-1*Math.floor(7*(Math.floor((W+9)/12)+Ba)/4);var db=1;0>W-9&&(db=-1);db=Math.floor(Ba+db*Math.floor(Math.abs(W-9)/7));db=-1*Math.floor(3*(Math.floor(db/100)+1)/4);bb=bb+Math.floor(275*W/9)+ya+Va*db;return bb+1721027+2*Va+367*
Ba-.5+.5},H.$$arity=0);a.def(E,"$julian?",K=function(){return this.date<new Date(1582,9,15,12)},K.$$arity=0);a.def(E,"$monday?",ba=function(){return this.$wday()["$=="](1)},ba.$$arity=0);a.def(E,"$month",va=function(){return this.date.getMonth()+1},va.$$arity=0);a.def(E,"$next",Pa=function(){return x(this,1)},Pa.$$arity=0);a.def(E,"$next_day",wa=function(W){null==W&&(W=1);return x(this,W)},wa.$$arity=-1);a.def(E,"$next_month",Aa=function(W){null==W&&(W=1);var ya=this.$clone(),Ba=ya.date,Va=Ba.getDate();
Ba.setDate(1);Ba.setMonth(Ba.getMonth()+W);Ba.setDate(Math.min(Va,G(Ba.getFullYear(),Ba.getMonth())));return ya},Aa.$$arity=-1);a.def(E,"$next_year",Ma=function(W){null==W&&(W=1);return this.$class().$new(x(this.$year(),W),this.$month(),this.$day())},Ma.$$arity=-1);a.def(E,"$prev_day",na=function(W){null==W&&(W=1);return I(this,W)},na.$$arity=-1);a.def(E,"$prev_month",T=function(W){null==W&&(W=1);var ya=this.$clone(),Ba=ya.date,Va=Ba.getDate();Ba.setDate(1);Ba.setMonth(Ba.getMonth()-W);Ba.setDate(Math.min(Va,
G(Ba.getFullYear(),Ba.getMonth())));return ya},T.$$arity=-1);a.def(E,"$prev_year",sa=function(W){null==W&&(W=1);return this.$class().$new(I(this.$year(),W),this.$month(),this.$day())},sa.$$arity=-1);a.def(E,"$saturday?",xa=function(){return this.$wday()["$=="](6)},xa.$$arity=0);a.def(E,"$strftime",Ja=function(W){null==W&&(W="");return""==W?this.$to_s():this.date.$strftime(W)},Ja.$$arity=-1);a.alias(E,"succ","next");a.def(E,"$sunday?",ka=function(){return this.$wday()["$=="](0)},ka.$$arity=0);a.def(E,
"$thursday?",M=function(){return this.$wday()["$=="](4)},M.$$arity=0);a.def(E,"$to_s",L=function(){var W=this.date,ya=W.getFullYear(),Ba=W.getMonth()+1;W=W.getDate();10>Ba&&(Ba="0"+Ba);10>W&&(W="0"+W);return ya+"-"+Ba+"-"+W},L.$$arity=0);a.def(E,"$to_time",fa=function(){return m(d,"Time").$new(this.$year(),this.$month(),this.$day())},fa.$$arity=0);a.def(E,"$to_n",oa=function(){return this.date},oa.$$arity=0);a.def(E,"$tuesday?",ea=function(){return this.$wday()["$=="](2)},ea.$$arity=0);a.def(E,"$step",
ta=function(W,ya){var Ba=ta.$$p,Va=Ba||z,bb,db,Ca=z;Ca=Ca=z;Ba&&(ta.$$p=null);Ba&&(ta.$$p=null);null==ya&&(ya=1);Ca=I(W,this).$to_i();Ca=e(t("number"===typeof Ca&&"number"===typeof ya?Ca*ya:Ca["$*"](ya),0))?[]:e(t(Ca,0))?l(a.Range.$new(0,Ca["$-@"](),!1).$step(ya.$abs()),"map",[],"-@".$to_proc()).$reverse():a.Range.$new(0,Ca,!1).$step(ya.$abs());Ca=l(Ca,"map",[],(bb=function(Wa){var za=null==bb.$$s?this:bb.$$s;null==Wa&&(Wa=z);return x(za,Wa)},bb.$$s=this,bb.$$arity=1,bb));return Va!==z?(l(Ca,"each",
[],(db=function(Wa){null==Wa&&(Wa=z);return a.yield1(Va,Wa)},db.$$s=this,db.$$arity=1,db)),this):Ca},ta.$$arity=-2);a.def(E,"$upto",Ea=function(W){var ya=Ea.$$p,Ba=ya||z;ya&&(Ea.$$p=null);ya&&(Ea.$$p=null);return l(this,"step",[W,1],Ba.$to_proc())},Ea.$$arity=1);a.def(E,"$downto",Ha=function(W){var ya=Ha.$$p,Ba=ya||z;ya&&(Ha.$$p=null);ya&&(Ha.$$p=null);return l(this,"step",[W,-1],Ba.$to_proc())},Ha.$$arity=1);a.def(E,"$wday",Ra=function(){return this.date.getDay()},Ra.$$arity=0);a.def(E,"$wednesday?",
Sa=function(){return this.$wday()["$=="](3)},Sa.$$arity=0);a.def(E,"$year",Ka=function(){return this.date.getFullYear()},Ka.$$arity=0);a.def(E,"$cwday",eb=function(){return this.date.getDay()||7},eb.$$arity=0);a.def(E,"$cweek",kb=function(){var W=new Date(this.date);W.setHours(0,0,0);W.setDate(W.getDate()+4-(W.getDay()||7));return Math.ceil(((W-new Date(W.getFullYear(),0,1))/864E5+1)/7)},kb.$$arity=0)}(w[0],null,w)})(Opal);
(function(a){function x(l,E){return"number"===typeof l&&"number"===typeof E?l-E:l["$-"](E)}var I=[],t=a.nil,w=a.$$$,z=a.$$,p=a.module,m=a.klass,u=a.send,D=a.hash2,e=a.truthy;a.add_stubs("$raise $new $push $[]= $- $[] $create_id $json_create $const_get $attr_accessor $create_id= $=== $parse $generate $from_object $merge $to_json $responds_to? $to_io $write $to_s $to_a $strftime".split(" "));(function(l,E){function c(f){try{return JSON.parse(f)}catch(q){G.$raise(w(z(d,"JSON"),"ParserError"),q.message)}}
function n(f,q){var A;switch(typeof f){case "string":return f;case "number":return f;case "boolean":return!!f;case "null":return t;case "object":if(!f)return t;if(f.$$is_array){var F=q.array_class.$new();var H=0;for(A=f.length;H<A;H++)F.$push(n(f[H],q));return F}H=q.object_class.$new();for(A in f)h.call(f,A)&&(b=[A,n(f[A],q)],u(H,"[]=",a.to_a(b)),b[x(b.length,1)]);return q.parse||(F=H["$[]"](z(d,"JSON").$create_id()))==t?H:w("::","Object").$const_get(F).$json_create(H)}}var G=p(l,"JSON"),d=[G].concat(E),
k,N,y,S,ja,da,ma,b=t;(function(f,$super,A){[m(f,$super,"JSONError")].concat(A);return t})(d[0],z(d,"StandardError"),d);(function(f,$super,A){[m(f,$super,"ParserError")].concat(A);return t})(d[0],z(d,"JSONError"),d);var h=a.hasOwnProperty;(function(f,q){[f].concat(q);return f.$attr_accessor("create_id")})(a.get_singleton_class(G),d);b=["json_class"];u(G,"create_id=",a.to_a(b));b[x(b.length,1)];a.defs(G,"$[]",k=function(f,q){null==q&&(q=D([],{}));return e(z(d,"String")["$==="](f))?this.$parse(f,q):
this.$generate(f,q)},k.$$arity=-2);a.defs(G,"$parse",N=function(f,q){null==q&&(q=D([],{}));return this.$from_object(c(f),q.$merge(D(["parse"],{parse:!0})))},N.$$arity=-2);a.defs(G,"$parse!",y=function(f,q){null==q&&(q=D([],{}));return this.$parse(f,q)},y.$$arity=-2);a.defs(G,"$load",S=function(f,q){null==q&&(q=D([],{}));return this.$from_object(c(f),q)},S.$$arity=-2);a.defs(G,"$from_object",ja=function(f,q){var A;null==q&&(q=D([],{}));e(A=q["$[]"]("object_class"))?A:(A=["object_class",z(d,"Hash")],
u(q,"[]=",a.to_a(A)),A[x(A.length,1)]);e(A=q["$[]"]("array_class"))?A:(A=["array_class",z(d,"Array")],u(q,"[]=",a.to_a(A)),A[x(A.length,1)]);return n(f,q.$$smap)},ja.$$arity=-2);a.defs(G,"$generate",da=function(f,q){null==q&&(q=D([],{}));return f.$to_json(q)},da.$$arity=-2);a.defs(G,"$dump",ma=function(f,q){null==q&&(q=t);f=this.$generate(f);return e(q)?(e(q["$responds_to?"]("to_io"))&&(q=q.$to_io()),q.$write(f),q):f},ma.$$arity=-2)})(I[0],I);(function(l,$super,c){l=m(l,$super,"Object");[l].concat(c);
var n;return(a.def(l,"$to_json",n=function(){return this.$to_s().$to_json()},n.$$arity=0),t)&&"to_json"})(I[0],null,I);(function(l,E){l=p(l,"Enumerable");[l].concat(E);var c;a.def(l,"$to_json",c=function(){return this.$to_a().$to_json()},c.$$arity=0)})(I[0],I);(function(l,$super,c){l=m(l,$super,"Array");[l].concat(c);var n;return(a.def(l,"$to_json",n=function(){for(var G=[],d=0,k=this.length;d<k;d++)G.push(this[d].$to_json());return"["+G.join(", ")+"]"},n.$$arity=0),t)&&"to_json"})(I[0],null,I);(function(l,
$super,c){l=m(l,$super,"Boolean");[l].concat(c);var n;return(a.def(l,"$to_json",n=function(){return 1==this?"true":"false"},n.$$arity=0),t)&&"to_json"})(I[0],null,I);(function(l,$super,c){l=m(l,$super,"Hash");[l].concat(c);var n;return(a.def(l,"$to_json",n=function(){for(var G=[],d=0,k=this.$$keys,N=k.length,y,S;d<N;d++)y=k[d],y.$$is_string?S=this.$$smap[y]:(S=y.value,y=y.key),G.push(y.$to_s().$to_json()+":"+S.$to_json());return"{"+G.join(", ")+"}"},n.$$arity=0),t)&&"to_json"})(I[0],null,I);(function(l,
$super,c){l=m(l,$super,"NilClass");[l].concat(c);var n;return(a.def(l,"$to_json",n=function(){return"null"},n.$$arity=0),t)&&"to_json"})(I[0],null,I);(function(l,$super,c){l=m(l,$super,"Numeric");[l].concat(c);var n;return(a.def(l,"$to_json",n=function(){return this.toString()},n.$$arity=0),t)&&"to_json"})(I[0],null,I);(function(l,$super,c){l=m(l,$super,"String");[l].concat(c);return a.alias(l,"to_json","inspect")})(I[0],null,I);(function(l,$super,c){l=m(l,$super,"Time");[l].concat(c);var n;return(a.def(l,
"$to_json",n=function(){return this.$strftime("%FT%T%z").$to_json()},n.$$arity=0),t)&&"to_json"})(I[0],null,I);return function(l,$super,c){l=m(l,$super,"Date");[l].concat(c);var n,G;a.def(l,"$to_json",n=function(){return this.$to_s().$to_json()},n.$$arity=0);return(a.def(l,"$as_json",G=function(){return this.$to_s()},G.$$arity=0),t)&&"as_json"}(I[0],null,I)})(Opal);
Opal.modules.json=function(a){function x(l,E){return"number"===typeof l&&"number"===typeof E?l-E:l["$-"](E)}var I=[],t=a.nil,w=a.$$$,z=a.$$,p=a.module,m=a.klass,u=a.send,D=a.hash2,e=a.truthy;a.add_stubs("$raise $new $push $[]= $- $[] $create_id $json_create $const_get $attr_accessor $create_id= $=== $parse $generate $from_object $merge $to_json $responds_to? $to_io $write $to_s $to_a $strftime".split(" "));(function(l,E){function c(f){try{return JSON.parse(f)}catch(q){G.$raise(w(z(d,"JSON"),"ParserError"),
q.message)}}function n(f,q){var A;switch(typeof f){case "string":return f;case "number":return f;case "boolean":return!!f;case "null":return t;case "object":if(!f)return t;if(f.$$is_array){var F=q.array_class.$new();var H=0;for(A=f.length;H<A;H++)F.$push(n(f[H],q));return F}H=q.object_class.$new();for(A in f)h.call(f,A)&&(b=[A,n(f[A],q)],u(H,"[]=",a.to_a(b)),b[x(b.length,1)]);return q.parse||(F=H["$[]"](z(d,"JSON").$create_id()))==t?H:w("::","Object").$const_get(F).$json_create(H)}}var G=p(l,"JSON"),
d=[G].concat(E),k,N,y,S,ja,da,ma,b=t;(function(f,$super,A){[m(f,$super,"JSONError")].concat(A);return t})(d[0],z(d,"StandardError"),d);(function(f,$super,A){[m(f,$super,"ParserError")].concat(A);return t})(d[0],z(d,"JSONError"),d);var h=a.hasOwnProperty;(function(f,q){[f].concat(q);return f.$attr_accessor("create_id")})(a.get_singleton_class(G),d);b=["json_class"];u(G,"create_id=",a.to_a(b));b[x(b.length,1)];a.defs(G,"$[]",k=function(f,q){null==q&&(q=D([],{}));return e(z(d,"String")["$==="](f))?this.$parse(f,
q):this.$generate(f,q)},k.$$arity=-2);a.defs(G,"$parse",N=function(f,q){null==q&&(q=D([],{}));return this.$from_object(c(f),q.$merge(D(["parse"],{parse:!0})))},N.$$arity=-2);a.defs(G,"$parse!",y=function(f,q){null==q&&(q=D([],{}));return this.$parse(f,q)},y.$$arity=-2);a.defs(G,"$load",S=function(f,q){null==q&&(q=D([],{}));return this.$from_object(c(f),q)},S.$$arity=-2);a.defs(G,"$from_object",ja=function(f,q){var A;null==q&&(q=D([],{}));e(A=q["$[]"]("object_class"))?A:(A=["object_class",z(d,"Hash")],
u(q,"[]=",a.to_a(A)),A[x(A.length,1)]);e(A=q["$[]"]("array_class"))?A:(A=["array_class",z(d,"Array")],u(q,"[]=",a.to_a(A)),A[x(A.length,1)]);return n(f,q.$$smap)},ja.$$arity=-2);a.defs(G,"$generate",da=function(f,q){null==q&&(q=D([],{}));return f.$to_json(q)},da.$$arity=-2);a.defs(G,"$dump",ma=function(f,q){null==q&&(q=t);f=this.$generate(f);return e(q)?(e(q["$responds_to?"]("to_io"))&&(q=q.$to_io()),q.$write(f),q):f},ma.$$arity=-2)})(I[0],I);(function(l,$super,c){l=m(l,$super,"Object");[l].concat(c);
var n;return(a.def(l,"$to_json",n=function(){return this.$to_s().$to_json()},n.$$arity=0),t)&&"to_json"})(I[0],null,I);(function(l,E){l=p(l,"Enumerable");[l].concat(E);var c;a.def(l,"$to_json",c=function(){return this.$to_a().$to_json()},c.$$arity=0)})(I[0],I);(function(l,$super,c){l=m(l,$super,"Array");[l].concat(c);var n;return(a.def(l,"$to_json",n=function(){for(var G=[],d=0,k=this.length;d<k;d++)G.push(this[d].$to_json());return"["+G.join(", ")+"]"},n.$$arity=0),t)&&"to_json"})(I[0],null,I);(function(l,
$super,c){l=m(l,$super,"Boolean");[l].concat(c);var n;return(a.def(l,"$to_json",n=function(){return 1==this?"true":"false"},n.$$arity=0),t)&&"to_json"})(I[0],null,I);(function(l,$super,c){l=m(l,$super,"Hash");[l].concat(c);var n;return(a.def(l,"$to_json",n=function(){for(var G=[],d=0,k=this.$$keys,N=k.length,y,S;d<N;d++)y=k[d],y.$$is_string?S=this.$$smap[y]:(S=y.value,y=y.key),G.push(y.$to_s().$to_json()+":"+S.$to_json());return"{"+G.join(", ")+"}"},n.$$arity=0),t)&&"to_json"})(I[0],null,I);(function(l,
$super,c){l=m(l,$super,"NilClass");[l].concat(c);var n;return(a.def(l,"$to_json",n=function(){return"null"},n.$$arity=0),t)&&"to_json"})(I[0],null,I);(function(l,$super,c){l=m(l,$super,"Numeric");[l].concat(c);var n;return(a.def(l,"$to_json",n=function(){return this.toString()},n.$$arity=0),t)&&"to_json"})(I[0],null,I);(function(l,$super,c){l=m(l,$super,"String");[l].concat(c);return a.alias(l,"to_json","inspect")})(I[0],null,I);(function(l,$super,c){l=m(l,$super,"Time");[l].concat(c);var n;return(a.def(l,
"$to_json",n=function(){return this.$strftime("%FT%T%z").$to_json()},n.$$arity=0),t)&&"to_json"})(I[0],null,I);return function(l,$super,c){l=m(l,$super,"Date");[l].concat(c);var n,G;a.def(l,"$to_json",n=function(){return this.$to_s().$to_json()},n.$$arity=0);return(a.def(l,"$as_json",G=function(){return this.$to_s()},G.$$arity=0),t)&&"as_json"}(I[0],null,I)};
Opal.modules.date=function(a){function x(E,c){return"number"===typeof E&&"number"===typeof c?E+c:E["$+"](c)}function I(E,c){return"number"===typeof E&&"number"===typeof c?E-c:E["$-"](c)}function t(E,c){return"number"===typeof E&&"number"===typeof c?E<c:E["$<"](c)}var w=[],z=a.nil,p=a.$$$,m=a.$$,u=a.klass,D=a.send2,e=a.truthy,l=a.send;a.add_stubs("$include $<=> $attr_reader $nonzero? $d $zero? $new $class $-@ $+@ $=== $coerce $== $> $+ $allocate $join $compact $map $to_proc $downcase $wrap $raise $clone $jd $>> $wday $year $month $day $- $to_s $to_i $< $* $reverse $step $abs $each".split(" "));
return function(E,$super,n){function G(W,ya){return[31,0===W%4&&0!==W%100||0===W%400?29:28,31,30,31,30,31,31,30,31,30,31][ya]}E=u(E,$super,"Date");var d=[E].concat(n),k,N,y,S,ja,da,ma,b,h,f,q,A,F,H,K,ba,va,Pa,wa,Aa,Ma,na,T,sa,xa,Ja,ka,M,L,fa,oa,ea,ta,Ea,Ha,Ra,Sa,Ka,eb,kb;E.$$prototype.date=z;E.$include(m(d,"Comparable"));(function(W,$super,Ba){W=u(W,$super,"Infinity");var Va=[W].concat(Ba),bb,db,Ca,Wa,za,ua,Na,Ta,Za,Fa,Y;W.$$prototype.d=z;W.$include(m(Va,"Comparable"));a.def(W,"$initialize",bb=function(R){null==
R&&(R=1);return this.d=R["$<=>"](0)},bb.$$arity=-1);W.$attr_reader("d");a.def(W,"$zero?",db=function(){return!1},db.$$arity=0);a.def(W,"$finite?",Ca=function(){return!1},Ca.$$arity=0);a.def(W,"$infinite?",Wa=function(){return this.$d()["$nonzero?"]()},Wa.$$arity=0);a.def(W,"$nan?",za=function(){return this.$d()["$zero?"]()},za.$$arity=0);a.def(W,"$abs",ua=function(){return this.$class().$new()},ua.$$arity=0);a.def(W,"$-@",Na=function(){return this.$class().$new(this.$d()["$-@"]())},Na.$$arity=0);
a.def(W,"$+@",Ta=function(){return this.$class().$new(this.$d()["$+@"]())},Ta.$$arity=0);a.def(W,"$<=>",Za=function(R){var Z,U,ha=this,la=z,g=z,C=z;return function(){la=R;if(m(Va,"Infinity")["$==="](la))return ha.$d()["$<=>"](R.$d());if(m(Va,"Numeric")["$==="](la))return ha.$d();try{return U=R.$coerce(ha),Z=a.to_ary(U),g=null==Z[0]?z:Z[0],C=null==Z[1]?z:Z[1],U,g["$<=>"](C)}catch(O){if(a.rescue(O,[m(Va,"NoMethodError")]))try{return z}finally{a.pop_exception()}else throw O;}}()},Za.$$arity=1);a.def(W,
"$coerce",Fa=function(R){var Z=Fa.$$p,U;Z&&(Fa.$$p=null);var ha=0;var la=arguments.length;for(U=Array(la);ha<la;ha++)U[ha]=arguments[ha];Z=m(Va,"Numeric")["$==="](R)?[this.$d()["$-@"](),this.$d()]:D(this,a.find_super_dispatcher(this,"coerce",Fa,!1,!0),"coerce",U,Z);return Z},Fa.$$arity=1);return(a.def(W,"$to_f",Y=function(){if(this.d["$=="](0))return 0;var R=this.d;R="number"===typeof R?0<R:R["$>"](0);return e(R)?p(m(Va,"Float"),"INFINITY"):p(m(Va,"Float"),"INFINITY")["$-@"]()},Y.$$arity=0),z)&&"to_f"})(d[0],
m(d,"Numeric"),d);a.const_set(d[0],"JULIAN",m(d,"Infinity").$new());a.const_set(d[0],"GREGORIAN",m(d,"Infinity").$new()["$-@"]());a.const_set(d[0],"ITALY",2299161);a.const_set(d[0],"ENGLAND",2361222);a.const_set(d[0],"MONTHNAMES",x([z],"January February March April May June July August September October November December".split(" ")));a.const_set(d[0],"ABBR_MONTHNAMES","jan feb mar apr may jun jul aug sep oct nov dec".split(" "));a.const_set(d[0],"DAYNAMES","Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "));
a.const_set(d[0],"ABBR_DAYNAMES","Sun Mon Tue Wed Thu Fri Sat".split(" "));(function(W,ya){var Ba=[W].concat(ya),Va,bb,db,Ca;a.alias(W,"civil","new");a.def(W,"$wrap",Va=function(Wa){var za=this.$allocate();za.date=Wa;return za},Va.$$arity=1);a.def(W,"$parse",bb=function(Wa,za){function ua(aa){return aa[1]}function Na(aa){return aa[2]}function Ta(aa){return aa[3]}function Za(aa){return aa[4]}function Fa(aa){return function(v){v=aa(v);return 69<=v?v+1900:v+2E3}}function Y(aa){return function(v){v=aa(v).toLowerCase();
return m(Ba,"ABBR_MONTHNAMES").indexOf(v)+1}}function R(aa){return function(v){v=aa(v);return parseInt(v,10)}}function Z(aa){return function(v){v=aa(v);return l(m(Ba,"MONTHNAMES").$compact(),"map",[],"downcase".$to_proc()).indexOf(v.$downcase())+1}}null==za&&(za=!0);var U=new Date,ha=U.getDate(),la=U.getMonth(),g=U.getFullYear(),C=U.getDay();U=m(Ba,"MONTHNAMES").$compact().$join("|");U=[{regexp:/^(\d{2})$/,year:g,month:la,day:R(ua)},{regexp:/^(\d{3})$/,year:g,month:0,day:R(ua)},{regexp:/^(\d{2})(\d{2})$/,
year:g,month:R(ua),day:R(Na)},{regexp:/^(\d{2})(\d{3})$/,year:Fa(R(ua)),month:0,day:R(Na)},{regexp:/^(\d{2})(\d{2})(\d{2})$/,year:Fa(R(ua)),month:R(Na),day:R(Ta)},{regexp:/^(\d{4})(\d{3})$/,year:R(ua),month:0,day:R(Na)},{regexp:/^(\d{4})(\d{2})(\d{2})$/,year:R(ua),month:R(Na),day:R(Ta)},{regexp:/^([a-z]{3})[\s\.\/\-](\d{3,4})$/,year:R(Na),month:Y(ua),day:1},{regexp:/^(\d{1,2})[\s\.\/\-]([a-z]{3})[\s\.\/\-](\d{3,4})$/i,year:R(Ta),month:Y(Na),day:R(ua)},{regexp:/^([a-z]{3})[\s\.\/\-](\d{1,2})[\s\.\/\-](\d{3,4})$/i,
year:R(Ta),month:Y(ua),day:R(Na)},{regexp:/^(\d{3,4})[\s\.\/\-]([a-z]{3})[\s\.\/\-](\d{1,2})$/i,year:R(ua),month:Y(Na),day:R(Ta)},{regexp:/^(\-?\d{3,4})[\s\.\/\-](\d{1,2})[\s\.\/\-](\d{1,2})$/,year:R(ua),month:R(Na),day:R(Ta)},{regexp:/^(\d{2})[\s\.\/\-](\d{1,2})[\s\.\/\-](\d{1,2})$/,year:function(aa){return function(v){v=aa(v);return za?v+2E3:v}}(R(ua)),month:R(Na),day:R(Ta)},{regexp:/^(\d{1,2})[\s\.\/\-](\d{1,2})[\s\.\/\-](\-?\d{3,4})$/,year:R(Ta),month:R(Na),day:R(ua)},{regexp:new RegExp("^("+
m(Ba,"DAYNAMES").$join("|")+")$","i"),year:g,month:la,day:function(aa){return function(v){v=aa(v);v=l(m(Ba,"DAYNAMES"),"map",[],"downcase".$to_proc()).indexOf(v.$downcase());return ha-C+v}}(ua)},{regexp:new RegExp("^("+U+")[\\s\\.\\/\\-](\\d{1,2})(th|nd|rd)[\\s\\.\\/\\-](\\-?\\d{3,4})$","i"),year:R(Za),month:Z(ua),day:R(Na)},{regexp:new RegExp("^("+U+")[\\s\\.\\/\\-](\\d{1,2})(th|nd|rd)","i"),year:g,month:Z(ua),day:R(Na)},{regexp:new RegExp("^(\\d{1,2})(th|nd|rd)[\\s\\.\\/\\-]("+U+")[\\s\\.\\/\\-](\\-?\\d{3,4})$",
"i"),year:R(Za),month:Z(Ta),day:R(ua)},{regexp:new RegExp("^(\\-?\\d{3,4})[\\s\\.\\/\\-]("+U+")[\\s\\.\\/\\-](\\d{1,2})(th|nd|rd)$","i"),year:R(ua),month:Z(Na),day:R(Ta)}];var O;for(O=0;O<U.length;O++)if(g=U[O],la=g.regexp.exec(Wa))return Wa=g.year,"function"===typeof Wa&&(Wa=Wa(la)),U=g.month,"function"===typeof U&&(U=U(la)-1),g=g.day,"function"===typeof g&&(g=g(la)),la=new Date(Wa,U,g),0<=Wa&&1970>=Wa&&la.setFullYear(Wa),this.$wrap(la);return this.$raise(m(Ba,"ArgumentError"),"invalid date")},bb.$$arity=
-2);a.def(W,"$today",db=function(){return this.$wrap(new Date)},db.$$arity=0);return(a.def(W,"$gregorian_leap?",Ca=function(Wa){return 0===(new Date(Wa,1,29)).getMonth()-1},Ca.$$arity=1),z)&&"gregorian_leap?"})(a.get_singleton_class(E),d);a.def(E,"$initialize",k=function(W,ya,Ba,Va){null==W&&(W=-4712);null==ya&&(ya=1);null==Ba&&(Ba=1);null==Va&&m(d,"ITALY");1582===W&&10===ya&&4<Ba&&15>Ba&&(Ba=4);return this.date=new Date(W,ya-1,Ba)},k.$$arity=-1);a.def(E,"$-",N=function(W){if(W.$$is_number){var ya=
this.$clone();ya.date.setDate(this.date.getDate()-W);return ya}if(W.date)return Math.round((this.date-W.date)/864E5);this.$raise(m(d,"TypeError"))},N.$$arity=1);a.def(E,"$+",y=function(W){if(W.$$is_number){var ya=this.$clone();ya.date.setDate(this.date.getDate()+W);return ya}this.$raise(m(d,"TypeError"))},y.$$arity=1);a.def(E,"$<",S=function(W){var ya=this.date;W=W.date;ya.setHours(0,0,0,0);W.setHours(0,0,0,0);return ya<W},S.$$arity=1);a.def(E,"$<=",ja=function(W){var ya=this.date;W=W.date;ya.setHours(0,
0,0,0);W.setHours(0,0,0,0);return ya<=W},ja.$$arity=1);a.def(E,"$>",da=function(W){var ya=this.date;W=W.date;ya.setHours(0,0,0,0);W.setHours(0,0,0,0);return ya>W},da.$$arity=1);a.def(E,"$>=",ma=function(W){var ya=this.date;W=W.date;ya.setHours(0,0,0,0);W.setHours(0,0,0,0);return ya>=W},ma.$$arity=1);a.def(E,"$<=>",b=function(W){if(W.$$is_number)return this.$jd()["$<=>"](W);if(m(d,"Date")["$==="](W)){var ya=this.date;W=W.date;ya.setHours(0,0,0,0);W.setHours(0,0,0,0);return ya<W?-1:ya>W?1:0}return z},
b.$$arity=1);a.def(E,"$>>",h=function(W){W.$$is_number||this.$raise(m(d,"TypeError"));var ya=this.$clone(),Ba=ya.date,Va=Ba.getDate();Ba.setDate(1);Ba.setMonth(Ba.getMonth()+W);Ba.setDate(Math.min(Va,G(Ba.getFullYear(),Ba.getMonth())));return ya},h.$$arity=1);a.def(E,"$<<",f=function(W){W.$$is_number||this.$raise(m(d,"TypeError"));return this["$>>"](-W)},f.$$arity=1);a.alias(E,"eql?","==");a.def(E,"$clone",q=function(){return m(d,"Date").$wrap(new Date(this.date.getTime()))},q.$$arity=0);a.def(E,
"$day",A=function(){return this.date.getDate()},A.$$arity=0);a.def(E,"$friday?",F=function(){return this.$wday()["$=="](5)},F.$$arity=0);a.def(E,"$jd",H=function(){var W=this.date.getMonth()+1,ya=this.date.getDate(),Ba=this.date.getFullYear();var Va=1;1585>=Ba&&(Va=0);var bb=-1*Math.floor(7*(Math.floor((W+9)/12)+Ba)/4);var db=1;0>W-9&&(db=-1);db=Math.floor(Ba+db*Math.floor(Math.abs(W-9)/7));db=-1*Math.floor(3*(Math.floor(db/100)+1)/4);bb=bb+Math.floor(275*W/9)+ya+Va*db;return bb+1721027+2*Va+367*
Ba-.5+.5},H.$$arity=0);a.def(E,"$julian?",K=function(){return this.date<new Date(1582,9,15,12)},K.$$arity=0);a.def(E,"$monday?",ba=function(){return this.$wday()["$=="](1)},ba.$$arity=0);a.def(E,"$month",va=function(){return this.date.getMonth()+1},va.$$arity=0);a.def(E,"$next",Pa=function(){return x(this,1)},Pa.$$arity=0);a.def(E,"$next_day",wa=function(W){null==W&&(W=1);return x(this,W)},wa.$$arity=-1);a.def(E,"$next_month",Aa=function(W){null==W&&(W=1);var ya=this.$clone(),Ba=ya.date,Va=Ba.getDate();
Ba.setDate(1);Ba.setMonth(Ba.getMonth()+W);Ba.setDate(Math.min(Va,G(Ba.getFullYear(),Ba.getMonth())));return ya},Aa.$$arity=-1);a.def(E,"$next_year",Ma=function(W){null==W&&(W=1);return this.$class().$new(x(this.$year(),W),this.$month(),this.$day())},Ma.$$arity=-1);a.def(E,"$prev_day",na=function(W){null==W&&(W=1);return I(this,W)},na.$$arity=-1);a.def(E,"$prev_month",T=function(W){null==W&&(W=1);var ya=this.$clone(),Ba=ya.date,Va=Ba.getDate();Ba.setDate(1);Ba.setMonth(Ba.getMonth()-W);Ba.setDate(Math.min(Va,
G(Ba.getFullYear(),Ba.getMonth())));return ya},T.$$arity=-1);a.def(E,"$prev_year",sa=function(W){null==W&&(W=1);return this.$class().$new(I(this.$year(),W),this.$month(),this.$day())},sa.$$arity=-1);a.def(E,"$saturday?",xa=function(){return this.$wday()["$=="](6)},xa.$$arity=0);a.def(E,"$strftime",Ja=function(W){null==W&&(W="");return""==W?this.$to_s():this.date.$strftime(W)},Ja.$$arity=-1);a.alias(E,"succ","next");a.def(E,"$sunday?",ka=function(){return this.$wday()["$=="](0)},ka.$$arity=0);a.def(E,
"$thursday?",M=function(){return this.$wday()["$=="](4)},M.$$arity=0);a.def(E,"$to_s",L=function(){var W=this.date,ya=W.getFullYear(),Ba=W.getMonth()+1;W=W.getDate();10>Ba&&(Ba="0"+Ba);10>W&&(W="0"+W);return ya+"-"+Ba+"-"+W},L.$$arity=0);a.def(E,"$to_time",fa=function(){return m(d,"Time").$new(this.$year(),this.$month(),this.$day())},fa.$$arity=0);a.def(E,"$to_n",oa=function(){return this.date},oa.$$arity=0);a.def(E,"$tuesday?",ea=function(){return this.$wday()["$=="](2)},ea.$$arity=0);a.def(E,"$step",
ta=function(W,ya){var Ba=ta.$$p,Va=Ba||z,bb,db,Ca=z;Ca=Ca=z;Ba&&(ta.$$p=null);Ba&&(ta.$$p=null);null==ya&&(ya=1);Ca=I(W,this).$to_i();Ca=e(t("number"===typeof Ca&&"number"===typeof ya?Ca*ya:Ca["$*"](ya),0))?[]:e(t(Ca,0))?l(a.Range.$new(0,Ca["$-@"](),!1).$step(ya.$abs()),"map",[],"-@".$to_proc()).$reverse():a.Range.$new(0,Ca,!1).$step(ya.$abs());Ca=l(Ca,"map",[],(bb=function(Wa){var za=null==bb.$$s?this:bb.$$s;null==Wa&&(Wa=z);return x(za,Wa)},bb.$$s=this,bb.$$arity=1,bb));return Va!==z?(l(Ca,"each",
[],(db=function(Wa){null==Wa&&(Wa=z);return a.yield1(Va,Wa)},db.$$s=this,db.$$arity=1,db)),this):Ca},ta.$$arity=-2);a.def(E,"$upto",Ea=function(W){var ya=Ea.$$p,Ba=ya||z;ya&&(Ea.$$p=null);ya&&(Ea.$$p=null);return l(this,"step",[W,1],Ba.$to_proc())},Ea.$$arity=1);a.def(E,"$downto",Ha=function(W){var ya=Ha.$$p,Ba=ya||z;ya&&(Ha.$$p=null);ya&&(Ha.$$p=null);return l(this,"step",[W,-1],Ba.$to_proc())},Ha.$$arity=1);a.def(E,"$wday",Ra=function(){return this.date.getDay()},Ra.$$arity=0);a.def(E,"$wednesday?",
Sa=function(){return this.$wday()["$=="](3)},Sa.$$arity=0);a.def(E,"$year",Ka=function(){return this.date.getFullYear()},Ka.$$arity=0);a.def(E,"$cwday",eb=function(){return this.date.getDay()||7},eb.$$arity=0);a.def(E,"$cweek",kb=function(){var W=new Date(this.date);W.setHours(0,0,0);W.setDate(W.getDate()+4-(W.getDay()||7));return Math.ceil(((W-new Date(W.getFullYear(),0,1))/864E5+1)/7)},kb.$$arity=0)}(w[0],null,w)};
(function(a){function x(d,k){return"number"===typeof d&&"number"===typeof k?d+k:d["$+"](k)}function I(d,k){return"number"===typeof d&&"number"===typeof k?d>k:d["$>"](k)}function t(d,k){return"number"===typeof d&&"number"===typeof k?d<k:d["$<"](k)}function w(d,k){return"number"===typeof d&&"number"===typeof k?d-k:d["$-"](k)}function z(d,k){return"number"===typeof d&&"number"===typeof k?d<=k:d["$<="](k)}var p=a.top,m=[],u=a.nil,D=a.$$$,e=a.$$,l=a.klass,E=a.hash2,c=a.truthy,n=a.range,G=a.send;a.add_stubs("$require $setup $first $[] $=== $nil? $empty? $raise $+ $add $join $> $length $change_state $to_i $list $< $set_priority $due_date $append $rename $!= $delete $add_note $delete_note $show $puts $usage $start_repl $cleanup $colorize $private $map $each_with_index $keys $== $select $parse $strftime $today $downcase $- $lambda $match $! $<= $each $split $strip $chomp $[]= $has_key? $sort $generate $gsub $convert_due_date $postprocess_tags $load_tasks $call $write_tasks $update_task $push $max $size $to_s $& $sort_by $filter_tasks $start_with? $abs $rjust $to_a $delete_at $is_a? $execute $each_key $uniq $all? $index $new".split(" "));
p.$require("json");p.$require("date");(function(d,$super,N){d=l(d,$super,"Todo");var y=[d].concat(N),S,ja,da,ma,b,h,f,q,A,F,H,K,ba,va,Pa,wa,Aa,Ma,na,T,sa,xa,Ja;d.$$prototype.queries=d.$$prototype.today=d.$$prototype.due_date_days=u;a.const_set(y[0],"COLOR_CODES",E("black red green yellow blue magenta cyan white".split(" "),{black:30,red:31,green:32,yellow:33,blue:34,magenta:35,cyan:36,white:37}));a.const_set(y[0],"STATES",E(["new","done","started","blocked","default"],{"new":"[ ]",done:"[x]",started:"[>]",
blocked:"[!]","default":"[?]"}));a.const_set(y[0],"ORDER",E(["new","done","started","blocked","default"],{"new":3,done:4,started:2,blocked:1,"default":100}));a.const_set(y[0],"COLORS",E(["new","done","started","blocked","default"],{"new":"white",done:"blue",started:"green",blocked:"yellow","default":"magenta"}));a.const_set(y[0],"DATE_FORMAT","%Y-%m-%d");a.const_set(y[0],"DATE_PATTERN",/^[1-9]\d{3}-(0[1-9]|1[0-2])-(0[1-9]|[12]\d|3[01])$/);a.const_set(y[0],"DUE_DATE_DAYS_SIMPLE",["today","tomorrow"]);
a.const_set(y[0],"DUE_DATE_TAG_PATTERN",/(^| )due:([a-zA-Z0-9-]+)/);a.const_set(y[0],"CONTEXT_TAG_PATTERN",/(^| )[@+][\w-]+/);a.const_set(y[0],"PRIORITY_FLAG","*");a.const_set(y[0],"TODO_FILE",require("path").join(require("os").homedir(),"todo.jsonl"));a.def(d,"$execute",S=function(ka){var M=u,L=u,fa=u,oa=u,ea=u,ta=u,Ea=u,Ha=u,Ra=u,Sa=u,Ka=u,eb=u,kb=u;try{this.$setup(),M=ka.$first(),L=c(fa=ka["$[]"](n(1,-1,!1)))?fa:[],oa=M,"add"["$==="](oa)?(c(c(ea=L["$nil?"]())?ea:L["$empty?"]())&&this.$raise(x(M,
" command requires at least one parameter")),this.$add(L.$join(" "))):"start"["$==="](oa)?c(I(L.$length(),0))?this.$change_state(L.$first().$to_i(),"started",(c(ta=L["$[]"](n(1,-1,!1)))?ta:[]).$join(" ")):this.$list(u,[":started"]):"done"["$==="](oa)?c(I(L.$length(),0))?this.$change_state(L.$first().$to_i(),"done",(c(Ea=L["$[]"](n(1,-1,!1)))?Ea:[]).$join(" ")):this.$list(u,[":done"]):"block"["$==="](oa)?c(I(L.$length(),0))?this.$change_state(L.$first().$to_i(),"blocked",(c(Ha=L["$[]"](n(1,-1,!1)))?
Ha:[]).$join(" ")):this.$list(u,[":blocked"]):"reset"["$==="](oa)?c(I(L.$length(),0))?this.$change_state(L.$first().$to_i(),"new",(c(Ra=L["$[]"](n(1,-1,!1)))?Ra:[]).$join(" ")):this.$list(u,[":new"]):"prio"["$==="](oa)?(c(t(L.$length(),1))&&this.$raise(x(M," command requires at least one parameter")),this.$set_priority(L.$first().$to_i(),(c(Sa=L["$[]"](n(1,-1,!1)))?Sa:[]).$join(" "))):"due"["$==="](oa)?(c(t(L.$length(),1))&&this.$raise(x(M," command requires at least one parameter")),this.$due_date(L.$first().$to_i(),
(c(Ka=L["$[]"](n(1,-1,!1)))?Ka:[]).$join(" "))):"append"["$==="](oa)?(c(t(L.$length(),2))&&this.$raise(x(M," command requires at least two parameters")),this.$append(L.$first().$to_i(),L["$[]"](n(1,-1,!1)).$join(" "))):"rename"["$==="](oa)?(c(t(L.$length(),2))&&this.$raise(x(M," command requires at least two parameters")),this.$rename(L.$first().$to_i(),L["$[]"](n(1,-1,!1)).$join(" "))):"del"["$==="](oa)?(c(L.$length()["$!="](1))&&this.$raise(x(M," command requires exactly one parameter")),this.$delete(L.$first().$to_i())):
"note"["$==="](oa)?(c(t(L.$length(),2))&&this.$raise(x(M," command requires at least two parameters")),this.$add_note(L.$first().$to_i(),L["$[]"](n(1,-1,!1)).$join(" "))):"delnote"["$==="](oa)?(c(c(eb=t(L.$length(),1))?eb:I(L.$length(),2))&&this.$raise(x(M," command requires one or two parameters")),this.$delete_note(L.$first().$to_i(),L["$[]"](1))):"list"["$==="](oa)?this.$list(u,L):"show"["$==="](oa)?(c(L.$length()["$!="](1))&&this.$raise(x(M," command requires exactly one parameter")),this.$show(L.$first().$to_i())):
"help"["$==="](oa)?(c(I(L.$length(),0))&&this.$raise(x(M," command has no parameters")),this.$puts(this.$usage())):"repl"["$==="](oa)?(c(I(L.$length(),0))&&this.$raise(x(M," command has no parameters")),this.$start_repl()):"cleanup"["$==="](oa)?(c(c(kb=L["$nil?"]())?kb:L["$empty?"]())&&this.$raise(x(M," command requires at least one parameter")),this.$cleanup(L)):this.$list(u,ka)}catch(W){if(a.rescue(W,[D(e(y,"JS"),"Error"),e(y,"StandardError")])){ka=W;try{this.$puts(""+this.$colorize("ERROR:","red")+
" "+ka)}finally{a.pop_exception()}}else throw W;}return this},S.$$arity=1);d.$private();a.def(d,"$usage",ja=function(){var ka,M,L;return"Usage: todo <command> <arguments>\n\nCommands:\n* add <text>                     add new task\n* start <tasknumber> [text]      mark task as started, with optional note\n* done <tasknumber> [text]       mark task as completed, with optional note\n* block <tasknumber> [text]      mark task as blocked, with optional note\n* reset <tasknumber> [text]      reset task to new state, with optional note\n* prio <tasknumber> [text]       toggle high priority flag, with optional note\n* due <tasknumber> [date]        set/unset due date (in YYYY-MM-DD format)\n\n* append <tasknumber> <text>     append text to task title\n* rename <tasknumber> <text>     rename task\n* del <tasknumber>               delete task\n* note <tasknumber> <text>       add note to task\n* delnote <tasknumber> [number]  delete a specific or all notes from task\n\n* list <regex> [regex...]        list tasks (only active tasks by default)\n* show <tasknumber>              show all task details\n* repl                           enter read-eval-print loop mode\n* cleanup <regex> [regex...]     cleanup completed tasks by regex\n* help                           this help screen\n\nWith list command the following pre-defined queries can be also used:\n"+
G(this.queries.$keys().$each_with_index(),"map",[],(ka=function(fa,oa){null==fa&&(fa=u);null==oa&&(oa=u);return x(oa["$=="](8)?"\n":"",fa)},ka.$$s=this,ka.$$arity=2,ka)).$join(", ")+'\n\nDue dates can be also added via tags in task title: "due:YYYY-MM-DD"\nIn addition to formatted dates, you can use date synonyms:\n"due:today", "due:tomorrow", and day names e.g. "due:monday" or "due:tue"\n\nLegend: '+G(G(e(y,"STATES"),"select",[],(M=function(fa){null==fa&&(fa=u);return fa["$!="]("default")},M.$$s=
this,M.$$arity=2,M)),"map",[],(L=function(fa,oa){null==fa&&(fa=u);null==oa&&(oa=u);return""+fa+" "+oa},L.$$s=this,L.$$arity=2,L)).$join(", ")+", priority "+e(y,"PRIORITY_FLAG")+"\n\nTodo file: "+e(y,"TODO_FILE")+"\n"},ja.$$arity=0);a.def(d,"$setup",da=function(){var ka,M,L,fa,oa,ea,ta,Ea,Ha,Ra,Sa,Ka,eb,kb,W,ya,Ba,Va=u,bb=u,db=u;this.today=e(y,"Date").$parse(e(y,"Date").$today().$strftime(e(y,"DATE_FORMAT")));Va=G(n(0,6,!1),"map",[],(ka=function(Ca){var Wa=null==ka.$$s?this:ka.$$s;null==Wa.today&&
(Wa.today=u);null==Ca&&(Ca=u);return x(Wa.today,Ca)},ka.$$s=this,ka.$$arity=1,ka));this.due_date_days=G(Va,"map",[],(M=function(Ca){null==Ca&&(Ca=u);return Ca.$strftime("%A").$downcase()},M.$$s=this,M.$$arity=1,M));bb=G(Va,"map",[],(L=function(Ca){null==Ca&&(Ca=u);return Ca.$strftime(e(y,"DATE_FORMAT"))},L.$$s=this,L.$$arity=1,L));db=w(this.today,7).$strftime(e(y,"DATE_FORMAT"));return this.queries=E(":active :done :blocked :started :new :all :priority :note :today :tomorrow :next7days :overdue :due :recent".split(" "),
{":active":G(this,"lambda",[],(fa=function(Ca){null==Ca&&(Ca=u);return/(new|started|blocked)/.$match(Ca["$[]"]("state"))},fa.$$s=this,fa.$$arity=1,fa)),":done":G(this,"lambda",[],(oa=function(Ca){null==Ca&&(Ca=u);return"done"["$=="](Ca["$[]"]("state"))},oa.$$s=this,oa.$$arity=1,oa)),":blocked":G(this,"lambda",[],(ea=function(Ca){null==Ca&&(Ca=u);return"blocked"["$=="](Ca["$[]"]("state"))},ea.$$s=this,ea.$$arity=1,ea)),":started":G(this,"lambda",[],(ta=function(Ca){null==Ca&&(Ca=u);return"started"["$=="](Ca["$[]"]("state"))},
ta.$$s=this,ta.$$arity=1,ta)),":new":G(this,"lambda",[],(Ea=function(Ca){null==Ca&&(Ca=u);return"new"["$=="](Ca["$[]"]("state"))},Ea.$$s=this,Ea.$$arity=1,Ea)),":all":G(this,"lambda",[],(Ha=function(Ca){null==Ca&&(Ca=u);return/\w+/.$match(Ca["$[]"]("state"))},Ha.$$s=this,Ha.$$arity=1,Ha)),":priority":G(this,"lambda",[],(Ra=function(Ca){null==Ca&&(Ca=u);return Ca["$[]"]("priority")},Ra.$$s=this,Ra.$$arity=1,Ra)),":note":G(this,"lambda",[],(Sa=function(Ca){var Wa;null==Ca&&(Ca=u);return c(Wa=Ca["$[]"]("note"))?
Ca["$[]"]("note")["$empty?"]()["$!"]():Wa},Sa.$$s=this,Sa.$$arity=1,Sa)),":today":G(this,"lambda",[],(Ka=function(Ca){null==Ca&&(Ca=u);return bb["$[]"](0)["$=="](Ca["$[]"]("due"))},Ka.$$s=this,Ka.$$arity=1,Ka)),":tomorrow":G(this,"lambda",[],(eb=function(Ca){null==Ca&&(Ca=u);return bb["$[]"](1)["$=="](Ca["$[]"]("due"))},eb.$$s=this,eb.$$arity=1,eb)),":next7days":G(this,"lambda",[],(kb=function(Ca){null==Ca&&(Ca=u);return a.regexp(["(",bb.$join("|"),")"]).$match(Ca["$[]"]("due"))},kb.$$s=this,kb.$$arity=
1,kb)),":overdue":G(this,"lambda",[],(W=function(Ca){var Wa;null==Ca&&(Ca=u);return c(Wa=Ca["$[]"]("due"))?t(Ca["$[]"]("due"),bb["$[]"](0)):Wa},W.$$s=this,W.$$arity=1,W)),":due":G(this,"lambda",[],(ya=function(Ca){null==Ca&&(Ca=u);return Ca["$[]"]("due")},ya.$$s=this,ya.$$arity=1,ya)),":recent":G(this,"lambda",[],(Ba=function(Ca){null==Ca&&(Ca=u);return z(db,Ca["$[]"]("modified"))},Ba.$$s=this,Ba.$$arity=1,Ba))})},da.$$arity=0);a.def(d,"$load_tasks",ma=function(ka){var M,L=u,fa=u,oa=u,ea=u;null==
ka&&(ka=u);L=0;fa=E([],{});oa=require("fs").existsSync(e(y,"TODO_FILE"))?require("fs").readFileSync(e(y,"TODO_FILE"),"utf8"):"";c(oa["$empty?"]()["$!"]())&&G(oa.$split("\n"),"each",[],(M=function(ta){null==ta&&(ta=u);if(ta.$strip()["$=="](""))return u;L=x(L,1);ta=[L,e(y,"JSON").$parse(ta.$chomp(),E(["symbolize_names"],{symbolize_names:!0}))];G(fa,"[]=",a.to_a(ta));return ta[w(ta.length,1)]},M.$$s=this,M.$$arity=1,M));c(c(ea=ka)?fa["$has_key?"](ka)["$!"]():ea)&&this.$raise(""+ka+": No such todo");
return fa},ma.$$arity=-1);a.def(d,"$write_tasks",b=function(ka){var M,L=u;L=x(G(ka.$keys().$sort(),"map",[],(M=function(fa){null==fa&&(fa=u);return e(y,"JSON").$generate(ka["$[]"](fa))},M.$$s=this,M.$$arity=1,M)).$join("\n"),"\n");return require("fs").writeFileSync(e(y,"TODO_FILE"),L,"utf8")},b.$$arity=1);a.def(d,"$postprocess_tags",h=function(ka){var M=ka["$[]"]("title").$match(e(y,"DUE_DATE_TAG_PATTERN"));if(c(M)){var L=["title",ka["$[]"]("title").$gsub(e(y,"DUE_DATE_TAG_PATTERN"),"")];G(ka,"[]=",
a.to_a(L));L[w(L.length,1)];L=["due",this.$convert_due_date(M["$[]"](2))];G(ka,"[]=",a.to_a(L));L[w(L.length,1)]}return c(ka["$[]"]("title")["$empty?"]())?this.$raise("title must not be empty"):u},h.$$arity=1);a.def(d,"$add",f=function(ka){ka=E(["state","title","modified"],{state:"new",title:ka,modified:this.today.$strftime(e(y,"DATE_FORMAT"))});this.$postprocess_tags(ka);require("fs").appendFileSync(e(y,"TODO_FILE"),x(e(y,"JSON").$generate(ka),"\n"),"utf8");return this.$list()},f.$$arity=1);a.def(d,
"$update_task",q=function(ka,M,L){var fa=this.$load_tasks(ka);L.$call(fa["$[]"](ka));L=["modified",this.today.$strftime(e(y,"DATE_FORMAT"))];G(fa["$[]"](ka),"[]=",a.to_a(L));L[w(L.length,1)];this.$write_tasks(fa);return"show"["$==="](M)?this.$show(ka,fa):"list"["$==="](M)?this.$list(fa):u},q.$$arity=3);a.def(d,"$append",A=function(ka,M){var L;return this.$update_task(ka,"list",G(this,"lambda",[],(L=function(fa){var oa=null==L.$$s?this:L.$$s;null==fa&&(fa=u);var ea=["title",[fa["$[]"]("title"),M].$join(" ")];
G(fa,"[]=",a.to_a(ea));ea[w(ea.length,1)];return oa.$postprocess_tags(fa)},L.$$s=this,L.$$arity=1,L)))},A.$$arity=2);a.def(d,"$rename",F=function(ka,M){var L;return this.$update_task(ka,"list",G(this,"lambda",[],(L=function(fa){var oa=null==L.$$s?this:L.$$s;null==fa&&(fa=u);var ea=["title",M];G(fa,"[]=",a.to_a(ea));ea[w(ea.length,1)];return oa.$postprocess_tags(fa)},L.$$s=this,L.$$arity=1,L)))},F.$$arity=2);a.def(d,"$delete",H=function(ka){var M=this.$load_tasks(ka);M.$delete(ka);this.$write_tasks(M);
return this.$list()},H.$$arity=1);a.def(d,"$change_state",K=function(ka,M,L){var fa;null==L&&(L=u);return this.$update_task(ka,"list",G(this,"lambda",[],(fa=function(oa){var ea=u;null==oa&&(oa=u);var ta=["state",M];G(oa,"[]=",a.to_a(ta));ta[w(ta.length,1)];return c(c(ea=L["$nil?"]()["$!"]())?L["$empty?"]()["$!"]():ea)?(c(ta=oa["$[]"]("note"))?ta:(ta=["note",[]],G(oa,"[]=",a.to_a(ta)),ta[w(ta.length,1)]),oa["$[]"]("note").$push(L)):u},fa.$$s=this,fa.$$arity=1,fa)))},K.$$arity=-3);a.def(d,"$set_priority",
ba=function(ka,M){var L;null==M&&(M=u);return this.$update_task(ka,"list",G(this,"lambda",[],(L=function(fa){var oa=u;null==fa&&(fa=u);var ea=["priority",fa["$[]"]("priority")["$!"]()];G(fa,"[]=",a.to_a(ea));ea[w(ea.length,1)];c(fa["$[]"]("priority")["$!"]())&&fa.$delete("priority");return c(c(oa=M["$nil?"]()["$!"]())?M["$empty?"]()["$!"]():oa)?(c(ea=fa["$[]"]("note"))?ea:(ea=["note",[]],G(fa,"[]=",a.to_a(ea)),ea[w(ea.length,1)]),fa["$[]"]("note").$push(M)):u},L.$$s=this,L.$$arity=1,L)))},ba.$$arity=
-2);a.def(d,"$due_date",va=function(ka,M){var L;null==M&&(M="");return this.$update_task(ka,"list",G(this,"lambda",[],(L=function(fa){var oa=null==L.$$s?this:L.$$s;null==fa&&(fa=u);oa=["due",oa.$convert_due_date(M)];G(fa,"[]=",a.to_a(oa));oa[w(oa.length,1)];return c(fa["$[]"]("due")["$nil?"]())?fa.$delete("due"):u},L.$$s=this,L.$$arity=1,L)))},va.$$arity=-2);a.def(d,"$list",Pa=function(ka,M){var L,fa,oa=u,ea=u,ta=u,Ea=u;null==ka&&(ka=u);null==M&&(M=u);ka=c(oa=ka)?oa:this.$load_tasks();ea=[ka.$keys().$max().$to_s().$size(),
4].$max();M=c(ta=M)?ta:[];c(M["$&"](":active :done :blocked :started :new :all".split(" "))["$empty?"]())&&(M=x(M,[":active"]));Ea=G(this.$filter_tasks(ka,M),"sort_by",[],(L=function(Ha,Ra){var Sa=u,Ka=u,eb=u;null==Ha&&(Ha=u);null==Ra&&(Ra=u);return[c(c(Sa=Ra["$[]"]("priority"))?Ra["$[]"]("state")["$!="]("done"):Sa)?0:1,e(y,"ORDER")["$[]"](c(Ka=Ra["$[]"]("state"))?Ka:"default"),c(Ra["$[]"]("state")["$!="]("done"))?c(eb=Ra["$[]"]("due"))?eb:"n/a":Ra["$[]"]("modified"),Ha]},L.$$s=this,L.$$arity=2,L));
G(Ea,"each",[],(fa=function(Ha,Ra){var Sa=null==fa.$$s?this:fa.$$s,Ka,eb=u,kb=u,W=u,ya=u,Ba=u,Va=u,bb=u,db=u,Ca=eb=u,Wa=u;null==Sa.today&&(Sa.today=u);null==Sa.due_date_days&&(Sa.due_date_days=u);null==Ha&&(Ha=u);null==Ra&&(Ra=u);eb=c(kb=Ra["$[]"]("state"))?kb:"default";W=Sa.$colorize(e(y,"STATES")["$[]"](eb),e(y,"COLORS")["$[]"](eb));ya=G(Ra["$[]"]("title"),"gsub",[e(y,"CONTEXT_TAG_PATTERN")],(Ka=function(za){var ua=null==Ka.$$s?this:Ka.$$s;null==za&&(za=u);return x(c(za["$start_with?"](" "))?" ":
"",ua.$colorize(za.$strip(),"cyan"))},Ka.$$s=Sa,Ka.$$arity=1,Ka));Ba=c(c(Va=Ra["$[]"]("priority"))?eb["$!="]("done"):Va)?Sa.$colorize(e(y,"PRIORITY_FLAG"),"red"):" ";bb="";c(c(db=Ra["$[]"]("due"))?eb["$!="]("done"):db)&&(eb=w(e(y,"Date").$parse(Ra["$[]"]("due")),Sa.today).$to_i(),c(t(eb,0))?bb=Sa.$colorize("("+eb.$abs()+"d overdue)","red"):c(c(Ca=eb["$=="](0))?Ca:eb["$=="](1))?bb=Sa.$colorize("("+e(y,"DUE_DATE_DAYS_SIMPLE")["$[]"](eb)+")","yellow"):c(I(eb,1))&&(bb=Sa.$colorize("("+(c(Wa=Sa.due_date_days["$[]"](eb))?
Wa:Ra["$[]"]("due"))+")","magenta")),bb=x(" ",bb));return Sa.$puts(""+Ha.$to_s().$rjust(ea)+":"+Ba+W+" "+ya+bb)},fa.$$s=this,fa.$$arity=2,fa));return c(Ea["$empty?"]())?this.$puts("No todos found"):u},Pa.$$arity=-1);a.def(d,"$add_note",wa=function(ka,M){var L;return this.$update_task(ka,"show",G(this,"lambda",[],(L=function(fa){var oa;null==fa&&(fa=u);c(oa=fa["$[]"]("note"))?oa:(oa=["note",[]],G(fa,"[]=",a.to_a(oa)),oa[w(oa.length,1)]);return fa["$[]"]("note").$push(M)},L.$$s=this,L.$$arity=1,L)))},
wa.$$arity=2);a.def(d,"$delete_note",Aa=function(ka,M){var L;null==M&&(M=u);return this.$update_task(ka,"show",G(this,"lambda",[],(L=function(fa){var oa=null==L.$$s?this:L.$$s,ea=u;null==fa&&(fa=u);if(c(M.$to_s()["$empty?"]()))return fa.$delete("note");c(c(ea=z(M.$to_i(),0))?ea:t(fa["$[]"]("note").$to_a().$size(),M.$to_i()))&&oa.$raise(""+M.$to_i()+": Note does not exist");fa["$[]"]("note").$delete_at(w(M.$to_i(),1));return c(fa["$[]"]("note")["$empty?"]())?fa.$delete("note"):u},L.$$s=this,L.$$arity=
1,L)))},Aa.$$arity=-2);a.def(d,"$show",Ma=function(ka,M){var L,fa=u;null==M&&(M=u);M=c(fa=M)?fa:this.$load_tasks(ka);return G(M["$[]"](ka),"each",[],(L=function(oa,ea){var ta=null==L.$$s?this:L.$$s,Ea;null==oa&&(oa=u);null==ea&&(ea=u);c(ea["$is_a?"](e(y,"Array")))&&(ea=x("\n",G(ea.$each_with_index(),"map",[],(Ea=function(Ha,Ra){null==Ha&&(Ha=u);null==Ra&&(Ra=u);return c(I(ea.$size(),1))?""+x(Ra,1).$to_s().$rjust(ea.$size().$to_s().$size())+": "+Ha:Ha},Ea.$$s=ta,Ea.$$arity=2,Ea)).$join("\n")));return ta.$puts(""+
ta.$colorize(x(oa.$to_s().$rjust(10),":"),"cyan")+" "+ea)},L.$$s=this,L.$$arity=2,L))},Ma.$$arity=-2);a.def(d,"$start_repl",na=function(){function ka(){fa.question("\ntodo> ",function(oa){try{oa=oa.trim(),["exit","quit"].includes(oa)?fa.close():(["clear","cls"].includes(oa)?process.stdout.write("\u001b[H\u001b[2J"):L(oa),ka())}catch(ea){throw fa.close(),ea;}})}var M,L=u;L=G(this,"lambda",[],(M=function(oa){var ea=null==M.$$s?this:M.$$s;null==oa&&(oa=u);return ea.$execute(oa["$=="]("repl")?[]:oa.$split(/\s+/))},
M.$$s=this,M.$$arity=1,M));var fa=require("readline").createInterface({input:process.stdin,output:process.stdout});L("");ka()},na.$$arity=0);a.def(d,"$cleanup",T=function(ka){var M,L=u,fa=u;L=this.$load_tasks();ka=x([":done"],ka.$to_a());fa=this.$filter_tasks(L,ka);G(fa,"each_key",[],(M=function(oa){null==oa&&(oa=u);return L.$delete(oa)},M.$$s=this,M.$$arity=1,M));this.$write_tasks(L);return this.$puts("Deleted "+fa.$size()+" todo(s)")},T.$$arity=1);a.def(d,"$filter_tasks",sa=function(ka,M){var L;
M=M.$uniq();return G(ka,"select",[],(L=function(fa,oa){var ea=null==L.$$s?this:L.$$s,ta;null==fa&&(fa=u);null==oa&&(oa=u);return G(M,"all?",[],(ta=function(Ea){var Ha=null==ta.$$s?this:ta.$$s;null==Ha.queries&&(Ha.queries=u);null==Ea&&(Ea=u);return c(Ha.queries["$[]"](Ea))?Ha.queries["$[]"](Ea).$call(oa):a.regexp([Ea],"i").$match(oa["$[]"]("title"))},ta.$$s=ea,ta.$$arity=1,ta))},L.$$s=this,L.$$arity=2,L))},sa.$$arity=2);a.def(d,"$colorize",xa=function(ka,M){var L=u;return"\u001b["+(c(L=e(y,"COLOR_CODES")["$[]"](M))?
L:37)+"m"+ka+"\u001b[0m"},xa.$$arity=2);return(a.def(d,"$convert_due_date",Ja=function(ka){var M,L=this,fa=u,oa=u,ea=u,ta=u;fa=function(){return c(oa=c(ea=L.due_date_days.$index(ka.$to_s().$downcase()))?ea:e(y,"DUE_DATE_DAYS_SIMPLE").$index(ka.$to_s().$downcase()))?oa:G(L.due_date_days,"map",[],(M=function(Ea){null==Ea&&(Ea=u);return Ea["$[]"](n(0,2,!1))},M.$$s=L,M.$$arity=1,M)).$index(ka.$to_s().$downcase())}();return c(fa)?x(L.today,fa).$strftime(e(y,"DATE_FORMAT")):c(c(ta=ka["$nil?"]())?ta:ka["$empty?"]())?
u:e(y,"Date").$parse(e(y,"DATE_PATTERN").$match(ka).$to_s()).$strftime(e(y,"DATE_FORMAT"))},Ja.$$arity=1),u)&&"convert_due_date"})(m[0],null,m);return e(m,"Todo").$new().$execute(process.argv.slice(2))})(Opal);var Qb=Opal.$$;Opal.add_stubs(["$exit"]);Qb([],"Kernel").$exit();}).call(this);
